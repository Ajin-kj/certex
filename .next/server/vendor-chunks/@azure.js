"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@azure";
exports.ids = ["vendor-chunks/@azure"];
exports.modules = {

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/app/PublicClientApplication.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/app/PublicClientApplication.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PublicClientApplication: () => (/* binding */ PublicClientApplication),\n/* harmony export */   createNestablePublicClientApplication: () => (/* binding */ createNestablePublicClientApplication),\n/* harmony export */   createStandardPublicClientApplication: () => (/* binding */ createStandardPublicClientApplication)\n/* harmony export */ });\n/* harmony import */ var _controllers_ControllerFactory_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../controllers/ControllerFactory.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/controllers/ControllerFactory.mjs\");\n/* harmony import */ var _controllers_StandardController_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../controllers/StandardController.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/controllers/StandardController.mjs\");\n/* harmony import */ var _operatingcontext_StandardOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operatingcontext/StandardOperatingContext.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/operatingcontext/StandardOperatingContext.mjs\");\n/* harmony import */ var _controllers_NestedAppAuthController_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../controllers/NestedAppAuthController.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/controllers/NestedAppAuthController.mjs\");\n/* harmony import */ var _operatingcontext_NestedAppOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../operatingcontext/NestedAppOperatingContext.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/operatingcontext/NestedAppOperatingContext.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * The PublicClientApplication class is the object exposed by the library to perform authentication and authorization functions in Single Page Applications\r\n * to obtain JWT tokens as described in the OAuth 2.0 Authorization Code Flow with PKCE specification.\r\n */ class PublicClientApplication {\n    /**\r\n     * Creates StandardController and passes it to the PublicClientApplication\r\n     *\r\n     * @param configuration {Configuration}\r\n     */ static async createPublicClientApplication(configuration) {\n        const controller = await (0,_controllers_ControllerFactory_mjs__WEBPACK_IMPORTED_MODULE_0__.createV3Controller)(configuration);\n        const pca = new PublicClientApplication(configuration, controller);\n        return pca;\n    }\n    /**\r\n     * @constructor\r\n     * Constructor for the PublicClientApplication used to instantiate the PublicClientApplication object\r\n     *\r\n     * Important attributes in the Configuration object for auth are:\r\n     * - clientID: the application ID of your application. You can obtain one by registering your application with our Application registration portal : https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/RegisteredAppsPreview\r\n     * - authority: the authority URL for your application.\r\n     * - redirect_uri: the uri of your application registered in the portal.\r\n     *\r\n     * In Azure AD, authority is a URL indicating the Azure active directory that MSAL uses to obtain tokens.\r\n     * It is of the form https://login.microsoftonline.com/{Enter_the_Tenant_Info_Here}\r\n     * If your application supports Accounts in one organizational directory, replace \"Enter_the_Tenant_Info_Here\" value with the Tenant Id or Tenant name (for example, contoso.microsoft.com).\r\n     * If your application supports Accounts in any organizational directory, replace \"Enter_the_Tenant_Info_Here\" value with organizations.\r\n     * If your application supports Accounts in any organizational directory and personal Microsoft accounts, replace \"Enter_the_Tenant_Info_Here\" value with common.\r\n     * To restrict support to Personal Microsoft accounts only, replace \"Enter_the_Tenant_Info_Here\" value with consumers.\r\n     *\r\n     * In Azure B2C, authority is of the form https://{instance}/tfp/{tenant}/{policyName}/\r\n     * Full B2C functionality will be available in this library in future versions.\r\n     *\r\n     * @param configuration Object for the MSAL PublicClientApplication instance\r\n     * @param IController Optional parameter to explictly set the controller. (Will be removed when we remove public constructor)\r\n     */ constructor(configuration, controller){\n        this.controller = controller || new _controllers_StandardController_mjs__WEBPACK_IMPORTED_MODULE_1__.StandardController(new _operatingcontext_StandardOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_2__.StandardOperatingContext(configuration));\n    }\n    /**\r\n     * Initializer function to perform async startup tasks such as connecting to WAM extension\r\n     * @param request {?InitializeApplicationRequest}\r\n     */ async initialize(request) {\n        return this.controller.initialize(request);\n    }\n    /**\r\n     * Use when you want to obtain an access_token for your API via opening a popup window in the user's browser\r\n     *\r\n     * @param request\r\n     *\r\n     * @returns A promise that is fulfilled when this function has completed, or rejected if an error was raised.\r\n     */ async acquireTokenPopup(request) {\n        return this.controller.acquireTokenPopup(request);\n    }\n    /**\r\n     * Use when you want to obtain an access_token for your API by redirecting the user's browser window to the authorization endpoint. This function redirects\r\n     * the page, so any code that follows this function will not execute.\r\n     *\r\n     * IMPORTANT: It is NOT recommended to have code that is dependent on the resolution of the Promise. This function will navigate away from the current\r\n     * browser window. It currently returns a Promise in order to reflect the asynchronous nature of the code running in this function.\r\n     *\r\n     * @param request\r\n     */ acquireTokenRedirect(request) {\n        return this.controller.acquireTokenRedirect(request);\n    }\n    /**\r\n     * Silently acquire an access token for a given set of scopes. Returns currently processing promise if parallel requests are made.\r\n     *\r\n     * @param {@link (SilentRequest:type)}\r\n     * @returns {Promise.<AuthenticationResult>} - a promise that is fulfilled when this function has completed, or rejected if an error was raised. Returns the {@link AuthenticationResult} object\r\n     */ acquireTokenSilent(silentRequest) {\n        return this.controller.acquireTokenSilent(silentRequest);\n    }\n    /**\r\n     * This function redeems an authorization code (passed as code) from the eSTS token endpoint.\r\n     * This authorization code should be acquired server-side using a confidential client to acquire a spa_code.\r\n     * This API is not indended for normal authorization code acquisition and redemption.\r\n     *\r\n     * Redemption of this authorization code will not require PKCE, as it was acquired by a confidential client.\r\n     *\r\n     * @param request {@link AuthorizationCodeRequest}\r\n     * @returns A promise that is fulfilled when this function has completed, or rejected if an error was raised.\r\n     */ acquireTokenByCode(request) {\n        return this.controller.acquireTokenByCode(request);\n    }\n    /**\r\n     * Adds event callbacks to array\r\n     * @param callback\r\n     * @param eventTypes\r\n     */ addEventCallback(callback, eventTypes) {\n        return this.controller.addEventCallback(callback, eventTypes);\n    }\n    /**\r\n     * Removes callback with provided id from callback array\r\n     * @param callbackId\r\n     */ removeEventCallback(callbackId) {\n        return this.controller.removeEventCallback(callbackId);\n    }\n    /**\r\n     * Registers a callback to receive performance events.\r\n     *\r\n     * @param {PerformanceCallbackFunction} callback\r\n     * @returns {string}\r\n     */ addPerformanceCallback(callback) {\n        return this.controller.addPerformanceCallback(callback);\n    }\n    /**\r\n     * Removes a callback registered with addPerformanceCallback.\r\n     *\r\n     * @param {string} callbackId\r\n     * @returns {boolean}\r\n     */ removePerformanceCallback(callbackId) {\n        return this.controller.removePerformanceCallback(callbackId);\n    }\n    /**\r\n     * Adds event listener that emits an event when a user account is added or removed from localstorage in a different browser tab or window\r\n     */ enableAccountStorageEvents() {\n        this.controller.enableAccountStorageEvents();\n    }\n    /**\r\n     * Removes event listener that emits an event when a user account is added or removed from localstorage in a different browser tab or window\r\n     */ disableAccountStorageEvents() {\n        this.controller.disableAccountStorageEvents();\n    }\n    /**\r\n     * Returns the first account found in the cache that matches the account filter passed in.\r\n     * @param accountFilter\r\n     * @returns The first account found in the cache matching the provided filter or null if no account could be found.\r\n     */ getAccount(accountFilter) {\n        return this.controller.getAccount(accountFilter);\n    }\n    /**\r\n     * Returns the signed in account matching homeAccountId.\r\n     * (the account object is created at the time of successful login)\r\n     * or null when no matching account is found\r\n     * @param homeAccountId\r\n     * @returns The account object stored in MSAL\r\n     * @deprecated - Use getAccount instead\r\n     */ getAccountByHomeId(homeAccountId) {\n        return this.controller.getAccountByHomeId(homeAccountId);\n    }\n    /**\r\n     * Returns the signed in account matching localAccountId.\r\n     * (the account object is created at the time of successful login)\r\n     * or null when no matching account is found\r\n     * @param localAccountId\r\n     * @returns The account object stored in MSAL\r\n     * @deprecated - Use getAccount instead\r\n     */ getAccountByLocalId(localId) {\n        return this.controller.getAccountByLocalId(localId);\n    }\n    /**\r\n     * Returns the signed in account matching username.\r\n     * (the account object is created at the time of successful login)\r\n     * or null when no matching account is found.\r\n     * This API is provided for convenience but getAccountById should be used for best reliability\r\n     * @param userName\r\n     * @returns The account object stored in MSAL\r\n     * @deprecated - Use getAccount instead\r\n     */ getAccountByUsername(userName) {\n        return this.controller.getAccountByUsername(userName);\n    }\n    /**\r\n     * Returns all the accounts in the cache that match the optional filter. If no filter is provided, all accounts are returned.\r\n     * @param accountFilter - (Optional) filter to narrow down the accounts returned\r\n     * @returns Array of AccountInfo objects in cache\r\n     */ getAllAccounts(accountFilter) {\n        return this.controller.getAllAccounts(accountFilter);\n    }\n    /**\r\n     * Event handler function which allows users to fire events after the PublicClientApplication object\r\n     * has loaded during redirect flows. This should be invoked on all page loads involved in redirect\r\n     * auth flows.\r\n     * @param hash Hash to process. Defaults to the current value of window.location.hash. Only needs to be provided explicitly if the response to be handled is not contained in the current value.\r\n     * @returns Token response or null. If the return value is null, then no auth redirect was detected.\r\n     */ handleRedirectPromise(hash) {\n        return this.controller.handleRedirectPromise(hash);\n    }\n    /**\r\n     * Use when initiating the login process via opening a popup window in the user's browser\r\n     *\r\n     * @param request\r\n     *\r\n     * @returns A promise that is fulfilled when this function has completed, or rejected if an error was raised.\r\n     */ loginPopup(request) {\n        return this.controller.loginPopup(request);\n    }\n    /**\r\n     * Use when initiating the login process by redirecting the user's browser to the authorization endpoint. This function redirects the page, so\r\n     * any code that follows this function will not execute.\r\n     *\r\n     * IMPORTANT: It is NOT recommended to have code that is dependent on the resolution of the Promise. This function will navigate away from the current\r\n     * browser window. It currently returns a Promise in order to reflect the asynchronous nature of the code running in this function.\r\n     *\r\n     * @param request\r\n     */ loginRedirect(request) {\n        return this.controller.loginRedirect(request);\n    }\n    /**\r\n     * Deprecated logout function. Use logoutRedirect or logoutPopup instead\r\n     * @param logoutRequest\r\n     * @deprecated\r\n     */ logout(logoutRequest) {\n        return this.controller.logout(logoutRequest);\n    }\n    /**\r\n     * Use to log out the current user, and redirect the user to the postLogoutRedirectUri.\r\n     * Default behaviour is to redirect the user to `window.location.href`.\r\n     * @param logoutRequest\r\n     */ logoutRedirect(logoutRequest) {\n        return this.controller.logoutRedirect(logoutRequest);\n    }\n    /**\r\n     * Clears local cache for the current user then opens a popup window prompting the user to sign-out of the server\r\n     * @param logoutRequest\r\n     */ logoutPopup(logoutRequest) {\n        return this.controller.logoutPopup(logoutRequest);\n    }\n    /**\r\n     * This function uses a hidden iframe to fetch an authorization code from the eSTS. There are cases where this may not work:\r\n     * - Any browser using a form of Intelligent Tracking Prevention\r\n     * - If there is not an established session with the service\r\n     *\r\n     * In these cases, the request must be done inside a popup or full frame redirect.\r\n     *\r\n     * For the cases where interaction is required, you cannot send a request with prompt=none.\r\n     *\r\n     * If your refresh token has expired, you can use this function to fetch a new set of tokens silently as long as\r\n     * you session on the server still exists.\r\n     * @param request {@link SsoSilentRequest}\r\n     *\r\n     * @returns A promise that is fulfilled when this function has completed, or rejected if an error was raised.\r\n     */ ssoSilent(request) {\n        return this.controller.ssoSilent(request);\n    }\n    /**\r\n     * Gets the token cache for the application.\r\n     */ getTokenCache() {\n        return this.controller.getTokenCache();\n    }\n    /**\r\n     * Returns the logger instance\r\n     */ getLogger() {\n        return this.controller.getLogger();\n    }\n    /**\r\n     * Replaces the default logger set in configurations with new Logger with new configurations\r\n     * @param logger Logger instance\r\n     */ setLogger(logger) {\n        this.controller.setLogger(logger);\n    }\n    /**\r\n     * Sets the account to use as the active account. If no account is passed to the acquireToken APIs, then MSAL will use this active account.\r\n     * @param account\r\n     */ setActiveAccount(account) {\n        this.controller.setActiveAccount(account);\n    }\n    /**\r\n     * Gets the currently active account\r\n     */ getActiveAccount() {\n        return this.controller.getActiveAccount();\n    }\n    /**\r\n     * Called by wrapper libraries (Angular & React) to set SKU and Version passed down to telemetry, logger, etc.\r\n     * @param sku\r\n     * @param version\r\n     */ initializeWrapperLibrary(sku, version) {\n        return this.controller.initializeWrapperLibrary(sku, version);\n    }\n    /**\r\n     * Sets navigation client\r\n     * @param navigationClient\r\n     */ setNavigationClient(navigationClient) {\n        this.controller.setNavigationClient(navigationClient);\n    }\n    /**\r\n     * Returns the configuration object\r\n     * @internal\r\n     */ getConfiguration() {\n        return this.controller.getConfiguration();\n    }\n    /**\r\n     * Hydrates cache with the tokens and account in the AuthenticationResult object\r\n     * @param result\r\n     * @param request - The request object that was used to obtain the AuthenticationResult\r\n     * @returns\r\n     */ async hydrateCache(result, request) {\n        return this.controller.hydrateCache(result, request);\n    }\n    /**\r\n     * Clears tokens and account from the browser cache.\r\n     * @param logoutRequest\r\n     */ clearCache(logoutRequest) {\n        return this.controller.clearCache(logoutRequest);\n    }\n}\n/**\r\n * creates NestedAppAuthController and passes it to the PublicClientApplication,\r\n * falls back to StandardController if NestedAppAuthController is not available\r\n *\r\n * @param configuration\r\n * @returns IPublicClientApplication\r\n *\r\n */ async function createNestablePublicClientApplication(configuration) {\n    const nestedAppAuth = new _operatingcontext_NestedAppOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_3__.NestedAppOperatingContext(configuration);\n    await nestedAppAuth.initialize();\n    if (nestedAppAuth.isAvailable()) {\n        const controller = new _controllers_NestedAppAuthController_mjs__WEBPACK_IMPORTED_MODULE_4__.NestedAppAuthController(nestedAppAuth);\n        return new PublicClientApplication(configuration, controller);\n    }\n    return createStandardPublicClientApplication(configuration);\n}\n/**\r\n * creates PublicClientApplication using StandardController\r\n *\r\n * @param configuration\r\n * @returns IPublicClientApplication\r\n *\r\n */ async function createStandardPublicClientApplication(configuration) {\n    const pca = new PublicClientApplication(configuration);\n    await pca.initialize();\n    return pca;\n}\n //# sourceMappingURL=PublicClientApplication.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2FwcC9QdWJsaWNDbGllbnRBcHBsaWNhdGlvbi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDMEU7QUFDQztBQUNpQjtBQUNQO0FBQ1M7QUFFOUY7OztDQUdDLEdBQ0Q7OztDQUdDLEdBQ0QsTUFBTUs7SUFDRjs7OztLQUlDLEdBQ0QsYUFBYUMsOEJBQThCQyxhQUFhLEVBQUU7UUFDdEQsTUFBTUMsYUFBYSxNQUFNUixzRkFBa0JBLENBQUNPO1FBQzVDLE1BQU1FLE1BQU0sSUFBSUosd0JBQXdCRSxlQUFlQztRQUN2RCxPQUFPQztJQUNYO0lBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztLQXFCQyxHQUNEQyxZQUFZSCxhQUFhLEVBQUVDLFVBQVUsQ0FBRTtRQUNuQyxJQUFJLENBQUNBLFVBQVUsR0FDWEEsY0FDSSxJQUFJUCxtRkFBa0JBLENBQUMsSUFBSUMsb0dBQXdCQSxDQUFDSztJQUNoRTtJQUNBOzs7S0FHQyxHQUNELE1BQU1JLFdBQVdDLE9BQU8sRUFBRTtRQUN0QixPQUFPLElBQUksQ0FBQ0osVUFBVSxDQUFDRyxVQUFVLENBQUNDO0lBQ3RDO0lBQ0E7Ozs7OztLQU1DLEdBQ0QsTUFBTUMsa0JBQWtCRCxPQUFPLEVBQUU7UUFDN0IsT0FBTyxJQUFJLENBQUNKLFVBQVUsQ0FBQ0ssaUJBQWlCLENBQUNEO0lBQzdDO0lBQ0E7Ozs7Ozs7O0tBUUMsR0FDREUscUJBQXFCRixPQUFPLEVBQUU7UUFDMUIsT0FBTyxJQUFJLENBQUNKLFVBQVUsQ0FBQ00sb0JBQW9CLENBQUNGO0lBQ2hEO0lBQ0E7Ozs7O0tBS0MsR0FDREcsbUJBQW1CQyxhQUFhLEVBQUU7UUFDOUIsT0FBTyxJQUFJLENBQUNSLFVBQVUsQ0FBQ08sa0JBQWtCLENBQUNDO0lBQzlDO0lBQ0E7Ozs7Ozs7OztLQVNDLEdBQ0RDLG1CQUFtQkwsT0FBTyxFQUFFO1FBQ3hCLE9BQU8s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SUFDQSxPQUFPd0Qsc0NBQXNDekQ7QUFDakQ7QUFDQTs7Ozs7O0NBTUMsR0FDRCxlQUFleUQsc0NBQXNDekQsYUFBYTtJQUM5RCxNQUFNRSxNQUFNLElBQUlKLHdCQUF3QkU7SUFDeEMsTUFBTUUsSUFBSUUsVUFBVTtJQUNwQixPQUFPRjtBQUNYO0FBRWlILENBQ2pILG9EQUFvRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvYXBwL1B1YmxpY0NsaWVudEFwcGxpY2F0aW9uLm1qcz8zMTYzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgY3JlYXRlVjNDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvQ29udHJvbGxlckZhY3RvcnkubWpzJztcbmltcG9ydCB7IFN0YW5kYXJkQ29udHJvbGxlciB9IGZyb20gJy4uL2NvbnRyb2xsZXJzL1N0YW5kYXJkQ29udHJvbGxlci5tanMnO1xuaW1wb3J0IHsgU3RhbmRhcmRPcGVyYXRpbmdDb250ZXh0IH0gZnJvbSAnLi4vb3BlcmF0aW5nY29udGV4dC9TdGFuZGFyZE9wZXJhdGluZ0NvbnRleHQubWpzJztcbmltcG9ydCB7IE5lc3RlZEFwcEF1dGhDb250cm9sbGVyIH0gZnJvbSAnLi4vY29udHJvbGxlcnMvTmVzdGVkQXBwQXV0aENvbnRyb2xsZXIubWpzJztcbmltcG9ydCB7IE5lc3RlZEFwcE9wZXJhdGluZ0NvbnRleHQgfSBmcm9tICcuLi9vcGVyYXRpbmdjb250ZXh0L05lc3RlZEFwcE9wZXJhdGluZ0NvbnRleHQubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGUgUHVibGljQ2xpZW50QXBwbGljYXRpb24gY2xhc3MgaXMgdGhlIG9iamVjdCBleHBvc2VkIGJ5IHRoZSBsaWJyYXJ5IHRvIHBlcmZvcm0gYXV0aGVudGljYXRpb24gYW5kIGF1dGhvcml6YXRpb24gZnVuY3Rpb25zIGluIFNpbmdsZSBQYWdlIEFwcGxpY2F0aW9uc1xyXG4gKiB0byBvYnRhaW4gSldUIHRva2VucyBhcyBkZXNjcmliZWQgaW4gdGhlIE9BdXRoIDIuMCBBdXRob3JpemF0aW9uIENvZGUgRmxvdyB3aXRoIFBLQ0Ugc3BlY2lmaWNhdGlvbi5cclxuICovXHJcbmNsYXNzIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIHtcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBTdGFuZGFyZENvbnRyb2xsZXIgYW5kIHBhc3NlcyBpdCB0byB0aGUgUHVibGljQ2xpZW50QXBwbGljYXRpb25cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gY29uZmlndXJhdGlvbiB7Q29uZmlndXJhdGlvbn1cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGNyZWF0ZVB1YmxpY0NsaWVudEFwcGxpY2F0aW9uKGNvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gYXdhaXQgY3JlYXRlVjNDb250cm9sbGVyKGNvbmZpZ3VyYXRpb24pO1xyXG4gICAgICAgIGNvbnN0IHBjYSA9IG5ldyBQdWJsaWNDbGllbnRBcHBsaWNhdGlvbihjb25maWd1cmF0aW9uLCBjb250cm9sbGVyKTtcclxuICAgICAgICByZXR1cm4gcGNhO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBAY29uc3RydWN0b3JcclxuICAgICAqIENvbnN0cnVjdG9yIGZvciB0aGUgUHVibGljQ2xpZW50QXBwbGljYXRpb24gdXNlZCB0byBpbnN0YW50aWF0ZSB0aGUgUHVibGljQ2xpZW50QXBwbGljYXRpb24gb2JqZWN0XHJcbiAgICAgKlxyXG4gICAgICogSW1wb3J0YW50IGF0dHJpYnV0ZXMgaW4gdGhlIENvbmZpZ3VyYXRpb24gb2JqZWN0IGZvciBhdXRoIGFyZTpcclxuICAgICAqIC0gY2xpZW50SUQ6IHRoZSBhcHBsaWNhdGlvbiBJRCBvZiB5b3VyIGFwcGxpY2F0aW9uLiBZb3UgY2FuIG9idGFpbiBvbmUgYnkgcmVnaXN0ZXJpbmcgeW91ciBhcHBsaWNhdGlvbiB3aXRoIG91ciBBcHBsaWNhdGlvbiByZWdpc3RyYXRpb24gcG9ydGFsIDogaHR0cHM6Ly9wb3J0YWwuYXp1cmUuY29tLyNibGFkZS9NaWNyb3NvZnRfQUFEX0lBTS9BY3RpdmVEaXJlY3RvcnlNZW51QmxhZGUvUmVnaXN0ZXJlZEFwcHNQcmV2aWV3XHJcbiAgICAgKiAtIGF1dGhvcml0eTogdGhlIGF1dGhvcml0eSBVUkwgZm9yIHlvdXIgYXBwbGljYXRpb24uXHJcbiAgICAgKiAtIHJlZGlyZWN0X3VyaTogdGhlIHVyaSBvZiB5b3VyIGFwcGxpY2F0aW9uIHJlZ2lzdGVyZWQgaW4gdGhlIHBvcnRhbC5cclxuICAgICAqXHJcbiAgICAgKiBJbiBBenVyZSBBRCwgYXV0aG9yaXR5IGlzIGEgVVJMIGluZGljYXRpbmcgdGhlIEF6dXJlIGFjdGl2ZSBkaXJlY3RvcnkgdGhhdCBNU0FMIHVzZXMgdG8gb2J0YWluIHRva2Vucy5cclxuICAgICAqIEl0IGlzIG9mIHRoZSBmb3JtIGh0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbS97RW50ZXJfdGhlX1RlbmFudF9JbmZvX0hlcmV9XHJcbiAgICAgKiBJZiB5b3VyIGFwcGxpY2F0aW9uIHN1cHBvcnRzIEFjY291bnRzIGluIG9uZSBvcmdhbml6YXRpb25hbCBkaXJlY3RvcnksIHJlcGxhY2UgXCJFbnRlcl90aGVfVGVuYW50X0luZm9fSGVyZVwiIHZhbHVlIHdpdGggdGhlIFRlbmFudCBJZCBvciBUZW5hbnQgbmFtZSAoZm9yIGV4YW1wbGUsIGNvbnRvc28ubWljcm9zb2Z0LmNvbSkuXHJcbiAgICAgKiBJZiB5b3VyIGFwcGxpY2F0aW9uIHN1cHBvcnRzIEFjY291bnRzIGluIGFueSBvcmdhbml6YXRpb25hbCBkaXJlY3RvcnksIHJlcGxhY2UgXCJFbnRlcl90aGVfVGVuYW50X0luZm9fSGVyZVwiIHZhbHVlIHdpdGggb3JnYW5pemF0aW9ucy5cclxuICAgICAqIElmIHlvdXIgYXBwbGljYXRpb24gc3VwcG9ydHMgQWNjb3VudHMgaW4gYW55IG9yZ2FuaXphdGlvbmFsIGRpcmVjdG9yeSBhbmQgcGVyc29uYWwgTWljcm9zb2Z0IGFjY291bnRzLCByZXBsYWNlIFwiRW50ZXJfdGhlX1RlbmFudF9JbmZvX0hlcmVcIiB2YWx1ZSB3aXRoIGNvbW1vbi5cclxuICAgICAqIFRvIHJlc3RyaWN0IHN1cHBvcnQgdG8gUGVyc29uYWwgTWljcm9zb2Z0IGFjY291bnRzIG9ubHksIHJlcGxhY2UgXCJFbnRlcl90aGVfVGVuYW50X0luZm9fSGVyZVwiIHZhbHVlIHdpdGggY29uc3VtZXJzLlxyXG4gICAgICpcclxuICAgICAqIEluIEF6dXJlIEIyQywgYXV0aG9yaXR5IGlzIG9mIHRoZSBmb3JtIGh0dHBzOi8ve2luc3RhbmNlfS90ZnAve3RlbmFudH0ve3BvbGljeU5hbWV9L1xyXG4gICAgICogRnVsbCBCMkMgZnVuY3Rpb25hbGl0eSB3aWxsIGJlIGF2YWlsYWJsZSBpbiB0aGlzIGxpYnJhcnkgaW4gZnV0dXJlIHZlcnNpb25zLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb25maWd1cmF0aW9uIE9iamVjdCBmb3IgdGhlIE1TQUwgUHVibGljQ2xpZW50QXBwbGljYXRpb24gaW5zdGFuY2VcclxuICAgICAqIEBwYXJhbSBJQ29udHJvbGxlciBPcHRpb25hbCBwYXJhbWV0ZXIgdG8gZXhwbGljdGx5IHNldCB0aGUgY29udHJvbGxlci4gKFdpbGwgYmUgcmVtb3ZlZCB3aGVuIHdlIHJlbW92ZSBwdWJsaWMgY29uc3RydWN0b3IpXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24sIGNvbnRyb2xsZXIpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPVxyXG4gICAgICAgICAgICBjb250cm9sbGVyIHx8XHJcbiAgICAgICAgICAgICAgICBuZXcgU3RhbmRhcmRDb250cm9sbGVyKG5ldyBTdGFuZGFyZE9wZXJhdGluZ0NvbnRleHQoY29uZmlndXJhdGlvbikpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplciBmdW5jdGlvbiB0byBwZXJmb3JtIGFzeW5jIHN0YXJ0dXAgdGFza3Mgc3VjaCBhcyBjb25uZWN0aW5nIHRvIFdBTSBleHRlbnNpb25cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0IHs/SW5pdGlhbGl6ZUFwcGxpY2F0aW9uUmVxdWVzdH1cclxuICAgICAqL1xyXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5pbml0aWFsaXplKHJlcXVlc3QpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2Ugd2hlbiB5b3Ugd2FudCB0byBvYnRhaW4gYW4gYWNjZXNzX3Rva2VuIGZvciB5b3VyIEFQSSB2aWEgb3BlbmluZyBhIHBvcHVwIHdpbmRvdyBpbiB0aGUgdXNlcidzIGJyb3dzZXJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoaXMgZnVuY3Rpb24gaGFzIGNvbXBsZXRlZCwgb3IgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igd2FzIHJhaXNlZC5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuUG9wdXAocmVxdWVzdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuYWNxdWlyZVRva2VuUG9wdXAocmVxdWVzdCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVzZSB3aGVuIHlvdSB3YW50IHRvIG9idGFpbiBhbiBhY2Nlc3NfdG9rZW4gZm9yIHlvdXIgQVBJIGJ5IHJlZGlyZWN0aW5nIHRoZSB1c2VyJ3MgYnJvd3NlciB3aW5kb3cgdG8gdGhlIGF1dGhvcml6YXRpb24gZW5kcG9pbnQuIFRoaXMgZnVuY3Rpb24gcmVkaXJlY3RzXHJcbiAgICAgKiB0aGUgcGFnZSwgc28gYW55IGNvZGUgdGhhdCBmb2xsb3dzIHRoaXMgZnVuY3Rpb24gd2lsbCBub3QgZXhlY3V0ZS5cclxuICAgICAqXHJcbiAgICAgKiBJTVBPUlRBTlQ6IEl0IGlzIE5PVCByZWNvbW1lbmRlZCB0byBoYXZlIGNvZGUgdGhhdCBpcyBkZXBlbmRlbnQgb24gdGhlIHJlc29sdXRpb24gb2YgdGhlIFByb21pc2UuIFRoaXMgZnVuY3Rpb24gd2lsbCBuYXZpZ2F0ZSBhd2F5IGZyb20gdGhlIGN1cnJlbnRcclxuICAgICAqIGJyb3dzZXIgd2luZG93LiBJdCBjdXJyZW50bHkgcmV0dXJucyBhIFByb21pc2UgaW4gb3JkZXIgdG8gcmVmbGVjdCB0aGUgYXN5bmNocm9ub3VzIG5hdHVyZSBvZiB0aGUgY29kZSBydW5uaW5nIGluIHRoaXMgZnVuY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgYWNxdWlyZVRva2VuUmVkaXJlY3QocmVxdWVzdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuYWNxdWlyZVRva2VuUmVkaXJlY3QocmVxdWVzdCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNpbGVudGx5IGFjcXVpcmUgYW4gYWNjZXNzIHRva2VuIGZvciBhIGdpdmVuIHNldCBvZiBzY29wZXMuIFJldHVybnMgY3VycmVudGx5IHByb2Nlc3NpbmcgcHJvbWlzZSBpZiBwYXJhbGxlbCByZXF1ZXN0cyBhcmUgbWFkZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0BsaW5rIChTaWxlbnRSZXF1ZXN0OnR5cGUpfVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2UuPEF1dGhlbnRpY2F0aW9uUmVzdWx0Pn0gLSBhIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGlzIGZ1bmN0aW9uIGhhcyBjb21wbGV0ZWQsIG9yIHJlamVjdGVkIGlmIGFuIGVycm9yIHdhcyByYWlzZWQuIFJldHVybnMgdGhlIHtAbGluayBBdXRoZW50aWNhdGlvblJlc3VsdH0gb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIGFjcXVpcmVUb2tlblNpbGVudChzaWxlbnRSZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5hY3F1aXJlVG9rZW5TaWxlbnQoc2lsZW50UmVxdWVzdCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmVkZWVtcyBhbiBhdXRob3JpemF0aW9uIGNvZGUgKHBhc3NlZCBhcyBjb2RlKSBmcm9tIHRoZSBlU1RTIHRva2VuIGVuZHBvaW50LlxyXG4gICAgICogVGhpcyBhdXRob3JpemF0aW9uIGNvZGUgc2hvdWxkIGJlIGFjcXVpcmVkIHNlcnZlci1zaWRlIHVzaW5nIGEgY29uZmlkZW50aWFsIGNsaWVudCB0byBhY3F1aXJlIGEgc3BhX2NvZGUuXHJcbiAgICAgKiBUaGlzIEFQSSBpcyBub3QgaW5kZW5kZWQgZm9yIG5vcm1hbCBhdXRob3JpemF0aW9uIGNvZGUgYWNxdWlzaXRpb24gYW5kIHJlZGVtcHRpb24uXHJcbiAgICAgKlxyXG4gICAgICogUmVkZW1wdGlvbiBvZiB0aGlzIGF1dGhvcml6YXRpb24gY29kZSB3aWxsIG5vdCByZXF1aXJlIFBLQ0UsIGFzIGl0IHdhcyBhY3F1aXJlZCBieSBhIGNvbmZpZGVudGlhbCBjbGllbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3Qge0BsaW5rIEF1dGhvcml6YXRpb25Db2RlUmVxdWVzdH1cclxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoaXMgZnVuY3Rpb24gaGFzIGNvbXBsZXRlZCwgb3IgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igd2FzIHJhaXNlZC5cclxuICAgICAqL1xyXG4gICAgYWNxdWlyZVRva2VuQnlDb2RlKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmFjcXVpcmVUb2tlbkJ5Q29kZShyZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBldmVudCBjYWxsYmFja3MgdG8gYXJyYXlcclxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xyXG4gICAgICogQHBhcmFtIGV2ZW50VHlwZXNcclxuICAgICAqL1xyXG4gICAgYWRkRXZlbnRDYWxsYmFjayhjYWxsYmFjaywgZXZlbnRUeXBlcykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuYWRkRXZlbnRDYWxsYmFjayhjYWxsYmFjaywgZXZlbnRUeXBlcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgY2FsbGJhY2sgd2l0aCBwcm92aWRlZCBpZCBmcm9tIGNhbGxiYWNrIGFycmF5XHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tJZFxyXG4gICAgICovXHJcbiAgICByZW1vdmVFdmVudENhbGxiYWNrKGNhbGxiYWNrSWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLnJlbW92ZUV2ZW50Q2FsbGJhY2soY2FsbGJhY2tJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIHJlY2VpdmUgcGVyZm9ybWFuY2UgZXZlbnRzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7UGVyZm9ybWFuY2VDYWxsYmFja0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgYWRkUGVyZm9ybWFuY2VDYWxsYmFjayhjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuYWRkUGVyZm9ybWFuY2VDYWxsYmFjayhjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYSBjYWxsYmFjayByZWdpc3RlcmVkIHdpdGggYWRkUGVyZm9ybWFuY2VDYWxsYmFjay5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tJZFxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZVBlcmZvcm1hbmNlQ2FsbGJhY2soY2FsbGJhY2tJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIucmVtb3ZlUGVyZm9ybWFuY2VDYWxsYmFjayhjYWxsYmFja0lkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBldmVudCBsaXN0ZW5lciB0aGF0IGVtaXRzIGFuIGV2ZW50IHdoZW4gYSB1c2VyIGFjY291bnQgaXMgYWRkZWQgb3IgcmVtb3ZlZCBmcm9tIGxvY2Fsc3RvcmFnZSBpbiBhIGRpZmZlcmVudCBicm93c2VyIHRhYiBvciB3aW5kb3dcclxuICAgICAqL1xyXG4gICAgZW5hYmxlQWNjb3VudFN0b3JhZ2VFdmVudHMoKSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLmVuYWJsZUFjY291bnRTdG9yYWdlRXZlbnRzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXIgdGhhdCBlbWl0cyBhbiBldmVudCB3aGVuIGEgdXNlciBhY2NvdW50IGlzIGFkZGVkIG9yIHJlbW92ZWQgZnJvbSBsb2NhbHN0b3JhZ2UgaW4gYSBkaWZmZXJlbnQgYnJvd3NlciB0YWIgb3Igd2luZG93XHJcbiAgICAgKi9cclxuICAgIGRpc2FibGVBY2NvdW50U3RvcmFnZUV2ZW50cygpIHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIuZGlzYWJsZUFjY291bnRTdG9yYWdlRXZlbnRzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGZpcnN0IGFjY291bnQgZm91bmQgaW4gdGhlIGNhY2hlIHRoYXQgbWF0Y2hlcyB0aGUgYWNjb3VudCBmaWx0ZXIgcGFzc2VkIGluLlxyXG4gICAgICogQHBhcmFtIGFjY291bnRGaWx0ZXJcclxuICAgICAqIEByZXR1cm5zIFRoZSBmaXJzdCBhY2NvdW50IGZvdW5kIGluIHRoZSBjYWNoZSBtYXRjaGluZyB0aGUgcHJvdmlkZWQgZmlsdGVyIG9yIG51bGwgaWYgbm8gYWNjb3VudCBjb3VsZCBiZSBmb3VuZC5cclxuICAgICAqL1xyXG4gICAgZ2V0QWNjb3VudChhY2NvdW50RmlsdGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5nZXRBY2NvdW50KGFjY291bnRGaWx0ZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBzaWduZWQgaW4gYWNjb3VudCBtYXRjaGluZyBob21lQWNjb3VudElkLlxyXG4gICAgICogKHRoZSBhY2NvdW50IG9iamVjdCBpcyBjcmVhdGVkIGF0IHRoZSB0aW1lIG9mIHN1Y2Nlc3NmdWwgbG9naW4pXHJcbiAgICAgKiBvciBudWxsIHdoZW4gbm8gbWF0Y2hpbmcgYWNjb3VudCBpcyBmb3VuZFxyXG4gICAgICogQHBhcmFtIGhvbWVBY2NvdW50SWRcclxuICAgICAqIEByZXR1cm5zIFRoZSBhY2NvdW50IG9iamVjdCBzdG9yZWQgaW4gTVNBTFxyXG4gICAgICogQGRlcHJlY2F0ZWQgLSBVc2UgZ2V0QWNjb3VudCBpbnN0ZWFkXHJcbiAgICAgKi9cclxuICAgIGdldEFjY291bnRCeUhvbWVJZChob21lQWNjb3VudElkKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5nZXRBY2NvdW50QnlIb21lSWQoaG9tZUFjY291bnRJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHNpZ25lZCBpbiBhY2NvdW50IG1hdGNoaW5nIGxvY2FsQWNjb3VudElkLlxyXG4gICAgICogKHRoZSBhY2NvdW50IG9iamVjdCBpcyBjcmVhdGVkIGF0IHRoZSB0aW1lIG9mIHN1Y2Nlc3NmdWwgbG9naW4pXHJcbiAgICAgKiBvciBudWxsIHdoZW4gbm8gbWF0Y2hpbmcgYWNjb3VudCBpcyBmb3VuZFxyXG4gICAgICogQHBhcmFtIGxvY2FsQWNjb3VudElkXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgYWNjb3VudCBvYmplY3Qgc3RvcmVkIGluIE1TQUxcclxuICAgICAqIEBkZXByZWNhdGVkIC0gVXNlIGdldEFjY291bnQgaW5zdGVhZFxyXG4gICAgICovXHJcbiAgICBnZXRBY2NvdW50QnlMb2NhbElkKGxvY2FsSWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmdldEFjY291bnRCeUxvY2FsSWQobG9jYWxJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHNpZ25lZCBpbiBhY2NvdW50IG1hdGNoaW5nIHVzZXJuYW1lLlxyXG4gICAgICogKHRoZSBhY2NvdW50IG9iamVjdCBpcyBjcmVhdGVkIGF0IHRoZSB0aW1lIG9mIHN1Y2Nlc3NmdWwgbG9naW4pXHJcbiAgICAgKiBvciBudWxsIHdoZW4gbm8gbWF0Y2hpbmcgYWNjb3VudCBpcyBmb3VuZC5cclxuICAgICAqIFRoaXMgQVBJIGlzIHByb3ZpZGVkIGZvciBjb252ZW5pZW5jZSBidXQgZ2V0QWNjb3VudEJ5SWQgc2hvdWxkIGJlIHVzZWQgZm9yIGJlc3QgcmVsaWFiaWxpdHlcclxuICAgICAqIEBwYXJhbSB1c2VyTmFtZVxyXG4gICAgICogQHJldHVybnMgVGhlIGFjY291bnQgb2JqZWN0IHN0b3JlZCBpbiBNU0FMXHJcbiAgICAgKiBAZGVwcmVjYXRlZCAtIFVzZSBnZXRBY2NvdW50IGluc3RlYWRcclxuICAgICAqL1xyXG4gICAgZ2V0QWNjb3VudEJ5VXNlcm5hbWUodXNlck5hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmdldEFjY291bnRCeVVzZXJuYW1lKHVzZXJOYW1lKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbGwgdGhlIGFjY291bnRzIGluIHRoZSBjYWNoZSB0aGF0IG1hdGNoIHRoZSBvcHRpb25hbCBmaWx0ZXIuIElmIG5vIGZpbHRlciBpcyBwcm92aWRlZCwgYWxsIGFjY291bnRzIGFyZSByZXR1cm5lZC5cclxuICAgICAqIEBwYXJhbSBhY2NvdW50RmlsdGVyIC0gKE9wdGlvbmFsKSBmaWx0ZXIgdG8gbmFycm93IGRvd24gdGhlIGFjY291bnRzIHJldHVybmVkXHJcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBBY2NvdW50SW5mbyBvYmplY3RzIGluIGNhY2hlXHJcbiAgICAgKi9cclxuICAgIGdldEFsbEFjY291bnRzKGFjY291bnRGaWx0ZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmdldEFsbEFjY291bnRzKGFjY291bnRGaWx0ZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFdmVudCBoYW5kbGVyIGZ1bmN0aW9uIHdoaWNoIGFsbG93cyB1c2VycyB0byBmaXJlIGV2ZW50cyBhZnRlciB0aGUgUHVibGljQ2xpZW50QXBwbGljYXRpb24gb2JqZWN0XHJcbiAgICAgKiBoYXMgbG9hZGVkIGR1cmluZyByZWRpcmVjdCBmbG93cy4gVGhpcyBzaG91bGQgYmUgaW52b2tlZCBvbiBhbGwgcGFnZSBsb2FkcyBpbnZvbHZlZCBpbiByZWRpcmVjdFxyXG4gICAgICogYXV0aCBmbG93cy5cclxuICAgICAqIEBwYXJhbSBoYXNoIEhhc2ggdG8gcHJvY2Vzcy4gRGVmYXVsdHMgdG8gdGhlIGN1cnJlbnQgdmFsdWUgb2Ygd2luZG93LmxvY2F0aW9uLmhhc2guIE9ubHkgbmVlZHMgdG8gYmUgcHJvdmlkZWQgZXhwbGljaXRseSBpZiB0aGUgcmVzcG9uc2UgdG8gYmUgaGFuZGxlZCBpcyBub3QgY29udGFpbmVkIGluIHRoZSBjdXJyZW50IHZhbHVlLlxyXG4gICAgICogQHJldHVybnMgVG9rZW4gcmVzcG9uc2Ugb3IgbnVsbC4gSWYgdGhlIHJldHVybiB2YWx1ZSBpcyBudWxsLCB0aGVuIG5vIGF1dGggcmVkaXJlY3Qgd2FzIGRldGVjdGVkLlxyXG4gICAgICovXHJcbiAgICBoYW5kbGVSZWRpcmVjdFByb21pc2UoaGFzaCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuaGFuZGxlUmVkaXJlY3RQcm9taXNlKGhhc2gpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2Ugd2hlbiBpbml0aWF0aW5nIHRoZSBsb2dpbiBwcm9jZXNzIHZpYSBvcGVuaW5nIGEgcG9wdXAgd2luZG93IGluIHRoZSB1c2VyJ3MgYnJvd3NlclxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhpcyBmdW5jdGlvbiBoYXMgY29tcGxldGVkLCBvciByZWplY3RlZCBpZiBhbiBlcnJvciB3YXMgcmFpc2VkLlxyXG4gICAgICovXHJcbiAgICBsb2dpblBvcHVwKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmxvZ2luUG9wdXAocmVxdWVzdCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVzZSB3aGVuIGluaXRpYXRpbmcgdGhlIGxvZ2luIHByb2Nlc3MgYnkgcmVkaXJlY3RpbmcgdGhlIHVzZXIncyBicm93c2VyIHRvIHRoZSBhdXRob3JpemF0aW9uIGVuZHBvaW50LiBUaGlzIGZ1bmN0aW9uIHJlZGlyZWN0cyB0aGUgcGFnZSwgc29cclxuICAgICAqIGFueSBjb2RlIHRoYXQgZm9sbG93cyB0aGlzIGZ1bmN0aW9uIHdpbGwgbm90IGV4ZWN1dGUuXHJcbiAgICAgKlxyXG4gICAgICogSU1QT1JUQU5UOiBJdCBpcyBOT1QgcmVjb21tZW5kZWQgdG8gaGF2ZSBjb2RlIHRoYXQgaXMgZGVwZW5kZW50IG9uIHRoZSByZXNvbHV0aW9uIG9mIHRoZSBQcm9taXNlLiBUaGlzIGZ1bmN0aW9uIHdpbGwgbmF2aWdhdGUgYXdheSBmcm9tIHRoZSBjdXJyZW50XHJcbiAgICAgKiBicm93c2VyIHdpbmRvdy4gSXQgY3VycmVudGx5IHJldHVybnMgYSBQcm9taXNlIGluIG9yZGVyIHRvIHJlZmxlY3QgdGhlIGFzeW5jaHJvbm91cyBuYXR1cmUgb2YgdGhlIGNvZGUgcnVubmluZyBpbiB0aGlzIGZ1bmN0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGxvZ2luUmVkaXJlY3QocmVxdWVzdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIubG9naW5SZWRpcmVjdChyZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRGVwcmVjYXRlZCBsb2dvdXQgZnVuY3Rpb24uIFVzZSBsb2dvdXRSZWRpcmVjdCBvciBsb2dvdXRQb3B1cCBpbnN0ZWFkXHJcbiAgICAgKiBAcGFyYW0gbG9nb3V0UmVxdWVzdFxyXG4gICAgICogQGRlcHJlY2F0ZWRcclxuICAgICAqL1xyXG4gICAgbG9nb3V0KGxvZ291dFJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmxvZ291dChsb2dvdXRSZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXNlIHRvIGxvZyBvdXQgdGhlIGN1cnJlbnQgdXNlciwgYW5kIHJlZGlyZWN0IHRoZSB1c2VyIHRvIHRoZSBwb3N0TG9nb3V0UmVkaXJlY3RVcmkuXHJcbiAgICAgKiBEZWZhdWx0IGJlaGF2aW91ciBpcyB0byByZWRpcmVjdCB0aGUgdXNlciB0byBgd2luZG93LmxvY2F0aW9uLmhyZWZgLlxyXG4gICAgICogQHBhcmFtIGxvZ291dFJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgbG9nb3V0UmVkaXJlY3QobG9nb3V0UmVxdWVzdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIubG9nb3V0UmVkaXJlY3QobG9nb3V0UmVxdWVzdCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBsb2NhbCBjYWNoZSBmb3IgdGhlIGN1cnJlbnQgdXNlciB0aGVuIG9wZW5zIGEgcG9wdXAgd2luZG93IHByb21wdGluZyB0aGUgdXNlciB0byBzaWduLW91dCBvZiB0aGUgc2VydmVyXHJcbiAgICAgKiBAcGFyYW0gbG9nb3V0UmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBsb2dvdXRQb3B1cChsb2dvdXRSZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5sb2dvdXRQb3B1cChsb2dvdXRSZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB1c2VzIGEgaGlkZGVuIGlmcmFtZSB0byBmZXRjaCBhbiBhdXRob3JpemF0aW9uIGNvZGUgZnJvbSB0aGUgZVNUUy4gVGhlcmUgYXJlIGNhc2VzIHdoZXJlIHRoaXMgbWF5IG5vdCB3b3JrOlxyXG4gICAgICogLSBBbnkgYnJvd3NlciB1c2luZyBhIGZvcm0gb2YgSW50ZWxsaWdlbnQgVHJhY2tpbmcgUHJldmVudGlvblxyXG4gICAgICogLSBJZiB0aGVyZSBpcyBub3QgYW4gZXN0YWJsaXNoZWQgc2Vzc2lvbiB3aXRoIHRoZSBzZXJ2aWNlXHJcbiAgICAgKlxyXG4gICAgICogSW4gdGhlc2UgY2FzZXMsIHRoZSByZXF1ZXN0IG11c3QgYmUgZG9uZSBpbnNpZGUgYSBwb3B1cCBvciBmdWxsIGZyYW1lIHJlZGlyZWN0LlxyXG4gICAgICpcclxuICAgICAqIEZvciB0aGUgY2FzZXMgd2hlcmUgaW50ZXJhY3Rpb24gaXMgcmVxdWlyZWQsIHlvdSBjYW5ub3Qgc2VuZCBhIHJlcXVlc3Qgd2l0aCBwcm9tcHQ9bm9uZS5cclxuICAgICAqXHJcbiAgICAgKiBJZiB5b3VyIHJlZnJlc2ggdG9rZW4gaGFzIGV4cGlyZWQsIHlvdSBjYW4gdXNlIHRoaXMgZnVuY3Rpb24gdG8gZmV0Y2ggYSBuZXcgc2V0IG9mIHRva2VucyBzaWxlbnRseSBhcyBsb25nIGFzXHJcbiAgICAgKiB5b3Ugc2Vzc2lvbiBvbiB0aGUgc2VydmVyIHN0aWxsIGV4aXN0cy5cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0IHtAbGluayBTc29TaWxlbnRSZXF1ZXN0fVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoaXMgZnVuY3Rpb24gaGFzIGNvbXBsZXRlZCwgb3IgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igd2FzIHJhaXNlZC5cclxuICAgICAqL1xyXG4gICAgc3NvU2lsZW50KHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLnNzb1NpbGVudChyZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgdG9rZW4gY2FjaGUgZm9yIHRoZSBhcHBsaWNhdGlvbi5cclxuICAgICAqL1xyXG4gICAgZ2V0VG9rZW5DYWNoZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmdldFRva2VuQ2FjaGUoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbG9nZ2VyIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIGdldExvZ2dlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmdldExvZ2dlcigpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXBsYWNlcyB0aGUgZGVmYXVsdCBsb2dnZXIgc2V0IGluIGNvbmZpZ3VyYXRpb25zIHdpdGggbmV3IExvZ2dlciB3aXRoIG5ldyBjb25maWd1cmF0aW9uc1xyXG4gICAgICogQHBhcmFtIGxvZ2dlciBMb2dnZXIgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgc2V0TG9nZ2VyKGxvZ2dlcikge1xyXG4gICAgICAgIHRoaXMuY29udHJvbGxlci5zZXRMb2dnZXIobG9nZ2VyKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgYWNjb3VudCB0byB1c2UgYXMgdGhlIGFjdGl2ZSBhY2NvdW50LiBJZiBubyBhY2NvdW50IGlzIHBhc3NlZCB0byB0aGUgYWNxdWlyZVRva2VuIEFQSXMsIHRoZW4gTVNBTCB3aWxsIHVzZSB0aGlzIGFjdGl2ZSBhY2NvdW50LlxyXG4gICAgICogQHBhcmFtIGFjY291bnRcclxuICAgICAqL1xyXG4gICAgc2V0QWN0aXZlQWNjb3VudChhY2NvdW50KSB7XHJcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLnNldEFjdGl2ZUFjY291bnQoYWNjb3VudCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIGN1cnJlbnRseSBhY3RpdmUgYWNjb3VudFxyXG4gICAgICovXHJcbiAgICBnZXRBY3RpdmVBY2NvdW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuZ2V0QWN0aXZlQWNjb3VudCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsZWQgYnkgd3JhcHBlciBsaWJyYXJpZXMgKEFuZ3VsYXIgJiBSZWFjdCkgdG8gc2V0IFNLVSBhbmQgVmVyc2lvbiBwYXNzZWQgZG93biB0byB0ZWxlbWV0cnksIGxvZ2dlciwgZXRjLlxyXG4gICAgICogQHBhcmFtIHNrdVxyXG4gICAgICogQHBhcmFtIHZlcnNpb25cclxuICAgICAqL1xyXG4gICAgaW5pdGlhbGl6ZVdyYXBwZXJMaWJyYXJ5KHNrdSwgdmVyc2lvbikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRyb2xsZXIuaW5pdGlhbGl6ZVdyYXBwZXJMaWJyYXJ5KHNrdSwgdmVyc2lvbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgbmF2aWdhdGlvbiBjbGllbnRcclxuICAgICAqIEBwYXJhbSBuYXZpZ2F0aW9uQ2xpZW50XHJcbiAgICAgKi9cclxuICAgIHNldE5hdmlnYXRpb25DbGllbnQobmF2aWdhdGlvbkNsaWVudCkge1xyXG4gICAgICAgIHRoaXMuY29udHJvbGxlci5zZXROYXZpZ2F0aW9uQ2xpZW50KG5hdmlnYXRpb25DbGllbnQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICogQGludGVybmFsXHJcbiAgICAgKi9cclxuICAgIGdldENvbmZpZ3VyYXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udHJvbGxlci5nZXRDb25maWd1cmF0aW9uKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEh5ZHJhdGVzIGNhY2hlIHdpdGggdGhlIHRva2VucyBhbmQgYWNjb3VudCBpbiB0aGUgQXV0aGVudGljYXRpb25SZXN1bHQgb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0gcmVzdWx0XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0IG9iamVjdCB0aGF0IHdhcyB1c2VkIHRvIG9idGFpbiB0aGUgQXV0aGVudGljYXRpb25SZXN1bHRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGh5ZHJhdGVDYWNoZShyZXN1bHQsIHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmh5ZHJhdGVDYWNoZShyZXN1bHQsIHJlcXVlc3QpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGVhcnMgdG9rZW5zIGFuZCBhY2NvdW50IGZyb20gdGhlIGJyb3dzZXIgY2FjaGUuXHJcbiAgICAgKiBAcGFyYW0gbG9nb3V0UmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBjbGVhckNhY2hlKGxvZ291dFJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb250cm9sbGVyLmNsZWFyQ2FjaGUobG9nb3V0UmVxdWVzdCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIGNyZWF0ZXMgTmVzdGVkQXBwQXV0aENvbnRyb2xsZXIgYW5kIHBhc3NlcyBpdCB0byB0aGUgUHVibGljQ2xpZW50QXBwbGljYXRpb24sXHJcbiAqIGZhbGxzIGJhY2sgdG8gU3RhbmRhcmRDb250cm9sbGVyIGlmIE5lc3RlZEFwcEF1dGhDb250cm9sbGVyIGlzIG5vdCBhdmFpbGFibGVcclxuICpcclxuICogQHBhcmFtIGNvbmZpZ3VyYXRpb25cclxuICogQHJldHVybnMgSVB1YmxpY0NsaWVudEFwcGxpY2F0aW9uXHJcbiAqXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVOZXN0YWJsZVB1YmxpY0NsaWVudEFwcGxpY2F0aW9uKGNvbmZpZ3VyYXRpb24pIHtcclxuICAgIGNvbnN0IG5lc3RlZEFwcEF1dGggPSBuZXcgTmVzdGVkQXBwT3BlcmF0aW5nQ29udGV4dChjb25maWd1cmF0aW9uKTtcclxuICAgIGF3YWl0IG5lc3RlZEFwcEF1dGguaW5pdGlhbGl6ZSgpO1xyXG4gICAgaWYgKG5lc3RlZEFwcEF1dGguaXNBdmFpbGFibGUoKSkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgTmVzdGVkQXBwQXV0aENvbnRyb2xsZXIobmVzdGVkQXBwQXV0aCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQdWJsaWNDbGllbnRBcHBsaWNhdGlvbihjb25maWd1cmF0aW9uLCBjb250cm9sbGVyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBjcmVhdGVTdGFuZGFyZFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uKGNvbmZpZ3VyYXRpb24pO1xyXG59XHJcbi8qKlxyXG4gKiBjcmVhdGVzIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIHVzaW5nIFN0YW5kYXJkQ29udHJvbGxlclxyXG4gKlxyXG4gKiBAcGFyYW0gY29uZmlndXJhdGlvblxyXG4gKiBAcmV0dXJucyBJUHVibGljQ2xpZW50QXBwbGljYXRpb25cclxuICpcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVN0YW5kYXJkUHVibGljQ2xpZW50QXBwbGljYXRpb24oY29uZmlndXJhdGlvbikge1xyXG4gICAgY29uc3QgcGNhID0gbmV3IFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uKGNvbmZpZ3VyYXRpb24pO1xyXG4gICAgYXdhaXQgcGNhLmluaXRpYWxpemUoKTtcclxuICAgIHJldHVybiBwY2E7XHJcbn1cblxuZXhwb3J0IHsgUHVibGljQ2xpZW50QXBwbGljYXRpb24sIGNyZWF0ZU5lc3RhYmxlUHVibGljQ2xpZW50QXBwbGljYXRpb24sIGNyZWF0ZVN0YW5kYXJkUHVibGljQ2xpZW50QXBwbGljYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVB1YmxpY0NsaWVudEFwcGxpY2F0aW9uLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJjcmVhdGVWM0NvbnRyb2xsZXIiLCJTdGFuZGFyZENvbnRyb2xsZXIiLCJTdGFuZGFyZE9wZXJhdGluZ0NvbnRleHQiLCJOZXN0ZWRBcHBBdXRoQ29udHJvbGxlciIsIk5lc3RlZEFwcE9wZXJhdGluZ0NvbnRleHQiLCJQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiIsImNyZWF0ZVB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIiwiY29uZmlndXJhdGlvbiIsImNvbnRyb2xsZXIiLCJwY2EiLCJjb25zdHJ1Y3RvciIsImluaXRpYWxpemUiLCJyZXF1ZXN0IiwiYWNxdWlyZVRva2VuUG9wdXAiLCJhY3F1aXJlVG9rZW5SZWRpcmVjdCIsImFjcXVpcmVUb2tlblNpbGVudCIsInNpbGVudFJlcXVlc3QiLCJhY3F1aXJlVG9rZW5CeUNvZGUiLCJhZGRFdmVudENhbGxiYWNrIiwiY2FsbGJhY2siLCJldmVudFR5cGVzIiwicmVtb3ZlRXZlbnRDYWxsYmFjayIsImNhbGxiYWNrSWQiLCJhZGRQZXJmb3JtYW5jZUNhbGxiYWNrIiwicmVtb3ZlUGVyZm9ybWFuY2VDYWxsYmFjayIsImVuYWJsZUFjY291bnRTdG9yYWdlRXZlbnRzIiwiZGlzYWJsZUFjY291bnRTdG9yYWdlRXZlbnRzIiwiZ2V0QWNjb3VudCIsImFjY291bnRGaWx0ZXIiLCJnZXRBY2NvdW50QnlIb21lSWQiLCJob21lQWNjb3VudElkIiwiZ2V0QWNjb3VudEJ5TG9jYWxJZCIsImxvY2FsSWQiLCJnZXRBY2NvdW50QnlVc2VybmFtZSIsInVzZXJOYW1lIiwiZ2V0QWxsQWNjb3VudHMiLCJoYW5kbGVSZWRpcmVjdFByb21pc2UiLCJoYXNoIiwibG9naW5Qb3B1cCIsImxvZ2luUmVkaXJlY3QiLCJsb2dvdXQiLCJsb2dvdXRSZXF1ZXN0IiwibG9nb3V0UmVkaXJlY3QiLCJsb2dvdXRQb3B1cCIsInNzb1NpbGVudCIsImdldFRva2VuQ2FjaGUiLCJnZXRMb2dnZXIiLCJzZXRMb2dnZXIiLCJsb2dnZXIiLCJzZXRBY3RpdmVBY2NvdW50IiwiYWNjb3VudCIsImdldEFjdGl2ZUFjY291bnQiLCJpbml0aWFsaXplV3JhcHBlckxpYnJhcnkiLCJza3UiLCJ2ZXJzaW9uIiwic2V0TmF2aWdhdGlvbkNsaWVudCIsIm5hdmlnYXRpb25DbGllbnQiLCJnZXRDb25maWd1cmF0aW9uIiwiaHlkcmF0ZUNhY2hlIiwicmVzdWx0IiwiY2xlYXJDYWNoZSIsImNyZWF0ZU5lc3RhYmxlUHVibGljQ2xpZW50QXBwbGljYXRpb24iLCJuZXN0ZWRBcHBBdXRoIiwiaXNBdmFpbGFibGUiLCJjcmVhdGVTdGFuZGFyZFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/app/PublicClientApplication.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/broker/nativeBroker/NativeMessageHandler.mjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/broker/nativeBroker/NativeMessageHandler.mjs ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NativeMessageHandler: () => (/* binding */ NativeMessageHandler)\n/* harmony export */ });\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthErrorCodes.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../error/NativeAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/NativeAuthError.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../crypto/BrowserCrypto.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/crypto/BrowserCrypto.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class NativeMessageHandler {\n    constructor(logger, handshakeTimeoutMs, performanceClient, extensionId){\n        this.logger = logger;\n        this.handshakeTimeoutMs = handshakeTimeoutMs;\n        this.extensionId = extensionId;\n        this.resolvers = new Map(); // Used for non-handshake messages\n        this.handshakeResolvers = new Map(); // Used for handshake messages\n        this.messageChannel = new MessageChannel();\n        this.windowListener = this.onWindowMessage.bind(this); // Window event callback doesn't have access to 'this' unless it's bound\n        this.performanceClient = performanceClient;\n        this.handshakeEvent = performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.NativeMessageHandlerHandshake);\n    }\n    /**\r\n     * Sends a given message to the extension and resolves with the extension response\r\n     * @param body\r\n     */ async sendMessage(body) {\n        this.logger.trace(\"NativeMessageHandler - sendMessage called.\");\n        const req = {\n            channel: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_1__.NativeConstants.CHANNEL_ID,\n            extensionId: this.extensionId,\n            responseId: (0,_crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_2__.createNewGuid)(),\n            body: body\n        };\n        this.logger.trace(\"NativeMessageHandler - Sending request to browser extension\");\n        this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(req)}`);\n        this.messageChannel.port1.postMessage(req);\n        return new Promise((resolve, reject)=>{\n            this.resolvers.set(req.responseId, {\n                resolve,\n                reject\n            });\n        });\n    }\n    /**\r\n     * Returns an instance of the MessageHandler that has successfully established a connection with an extension\r\n     * @param {Logger} logger\r\n     * @param {number} handshakeTimeoutMs\r\n     * @param {IPerformanceClient} performanceClient\r\n     * @param {ICrypto} crypto\r\n     */ static async createProvider(logger, handshakeTimeoutMs, performanceClient) {\n        logger.trace(\"NativeMessageHandler - createProvider called.\");\n        try {\n            const preferredProvider = new NativeMessageHandler(logger, handshakeTimeoutMs, performanceClient, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_1__.NativeConstants.PREFERRED_EXTENSION_ID);\n            await preferredProvider.sendHandshakeRequest();\n            return preferredProvider;\n        } catch (e) {\n            // If preferred extension fails for whatever reason, fallback to using any installed extension\n            const backupProvider = new NativeMessageHandler(logger, handshakeTimeoutMs, performanceClient);\n            await backupProvider.sendHandshakeRequest();\n            return backupProvider;\n        }\n    }\n    /**\r\n     * Send handshake request helper.\r\n     */ async sendHandshakeRequest() {\n        this.logger.trace(\"NativeMessageHandler - sendHandshakeRequest called.\");\n        // Register this event listener before sending handshake\n        window.addEventListener(\"message\", this.windowListener, false); // false is important, because content script message processing should work first\n        const req = {\n            channel: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_1__.NativeConstants.CHANNEL_ID,\n            extensionId: this.extensionId,\n            responseId: (0,_crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_2__.createNewGuid)(),\n            body: {\n                method: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_1__.NativeExtensionMethod.HandshakeRequest\n            }\n        };\n        this.handshakeEvent.add({\n            extensionId: this.extensionId,\n            extensionHandshakeTimeoutMs: this.handshakeTimeoutMs\n        });\n        this.messageChannel.port1.onmessage = (event)=>{\n            this.onChannelMessage(event);\n        };\n        window.postMessage(req, window.origin, [\n            this.messageChannel.port2\n        ]);\n        return new Promise((resolve, reject)=>{\n            this.handshakeResolvers.set(req.responseId, {\n                resolve,\n                reject\n            });\n            this.timeoutId = window.setTimeout(()=>{\n                /*\r\n                 * Throw an error if neither HandshakeResponse nor original Handshake request are received in a reasonable timeframe.\r\n                 * This typically suggests an event handler stopped propagation of the Handshake request but did not respond to it on the MessageChannel port\r\n                 */ window.removeEventListener(\"message\", this.windowListener, false);\n                this.messageChannel.port1.close();\n                this.messageChannel.port2.close();\n                this.handshakeEvent.end({\n                    extensionHandshakeTimedOut: true,\n                    success: false\n                });\n                reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.nativeHandshakeTimeout));\n                this.handshakeResolvers.delete(req.responseId);\n            }, this.handshakeTimeoutMs); // Use a reasonable timeout in milliseconds here\n        });\n    }\n    /**\r\n     * Invoked when a message is posted to the window. If a handshake request is received it means the extension is not installed.\r\n     * @param event\r\n     */ onWindowMessage(event) {\n        this.logger.trace(\"NativeMessageHandler - onWindowMessage called\");\n        // We only accept messages from ourselves\n        if (event.source !== window) {\n            return;\n        }\n        const request = event.data;\n        if (!request.channel || request.channel !== _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_1__.NativeConstants.CHANNEL_ID) {\n            return;\n        }\n        if (request.extensionId && request.extensionId !== this.extensionId) {\n            return;\n        }\n        if (request.body.method === _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_1__.NativeExtensionMethod.HandshakeRequest) {\n            const handshakeResolver = this.handshakeResolvers.get(request.responseId);\n            /*\r\n             * Filter out responses with no matched resolvers sooner to keep channel ports open while waiting for\r\n             * the proper response.\r\n             */ if (!handshakeResolver) {\n                this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${request.responseId}`);\n                return;\n            }\n            // If we receive this message back it means no extension intercepted the request, meaning no extension supporting handshake protocol is installed\n            this.logger.verbose(request.extensionId ? `Extension with id: ${request.extensionId} not installed` : \"No extension installed\");\n            clearTimeout(this.timeoutId);\n            this.messageChannel.port1.close();\n            this.messageChannel.port2.close();\n            window.removeEventListener(\"message\", this.windowListener, false);\n            this.handshakeEvent.end({\n                success: false,\n                extensionInstalled: false\n            });\n            handshakeResolver.reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.nativeExtensionNotInstalled));\n        }\n    }\n    /**\r\n     * Invoked when a message is received from the extension on the MessageChannel port\r\n     * @param event\r\n     */ onChannelMessage(event) {\n        this.logger.trace(\"NativeMessageHandler - onChannelMessage called.\");\n        const request = event.data;\n        const resolver = this.resolvers.get(request.responseId);\n        const handshakeResolver = this.handshakeResolvers.get(request.responseId);\n        try {\n            const method = request.body.method;\n            if (method === _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_1__.NativeExtensionMethod.Response) {\n                if (!resolver) {\n                    return;\n                }\n                const response = request.body.response;\n                this.logger.trace(\"NativeMessageHandler - Received response from browser extension\");\n                this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(response)}`);\n                if (response.status !== \"Success\") {\n                    resolver.reject((0,_error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__.createNativeAuthError)(response.code, response.description, response.ext));\n                } else if (response.result) {\n                    if (response.result[\"code\"] && response.result[\"description\"]) {\n                        resolver.reject((0,_error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__.createNativeAuthError)(response.result[\"code\"], response.result[\"description\"], response.result[\"ext\"]));\n                    } else {\n                        resolver.resolve(response.result);\n                    }\n                } else {\n                    throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.createAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.unexpectedError, \"Event does not contain result.\");\n                }\n                this.resolvers.delete(request.responseId);\n            } else if (method === _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_1__.NativeExtensionMethod.HandshakeResponse) {\n                if (!handshakeResolver) {\n                    this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${request.responseId}`);\n                    return;\n                }\n                clearTimeout(this.timeoutId); // Clear setTimeout\n                window.removeEventListener(\"message\", this.windowListener, false); // Remove 'No extension' listener\n                this.extensionId = request.extensionId;\n                this.extensionVersion = request.body.version;\n                this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`);\n                this.handshakeEvent.end({\n                    extensionInstalled: true,\n                    success: true\n                });\n                handshakeResolver.resolve();\n                this.handshakeResolvers.delete(request.responseId);\n            }\n        // Do nothing if method is not Response or HandshakeResponse\n        } catch (err) {\n            this.logger.error(\"Error parsing response from WAM Extension\");\n            this.logger.errorPii(`Error parsing response from WAM Extension: ${err}`);\n            this.logger.errorPii(`Unable to parse ${event}`);\n            if (resolver) {\n                resolver.reject(err);\n            } else if (handshakeResolver) {\n                handshakeResolver.reject(err);\n            }\n        }\n    }\n    /**\r\n     * Returns the Id for the browser extension this handler is communicating with\r\n     * @returns\r\n     */ getExtensionId() {\n        return this.extensionId;\n    }\n    /**\r\n     * Returns the version for the browser extension this handler is communicating with\r\n     * @returns\r\n     */ getExtensionVersion() {\n        return this.extensionVersion;\n    }\n    /**\r\n     * Returns boolean indicating whether or not the request should attempt to use native broker\r\n     * @param logger\r\n     * @param config\r\n     * @param nativeExtensionProvider\r\n     * @param authenticationScheme\r\n     */ static isNativeAvailable(config, logger, nativeExtensionProvider, authenticationScheme) {\n        logger.trace(\"isNativeAvailable called\");\n        if (!config.system.allowNativeBroker) {\n            logger.trace(\"isNativeAvailable: allowNativeBroker is not enabled, returning false\");\n            // Developer disabled WAM\n            return false;\n        }\n        if (!nativeExtensionProvider) {\n            logger.trace(\"isNativeAvailable: WAM extension provider is not initialized, returning false\");\n            // Extension is not available\n            return false;\n        }\n        if (authenticationScheme) {\n            switch(authenticationScheme){\n                case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.AuthenticationScheme.BEARER:\n                case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.AuthenticationScheme.POP:\n                    logger.trace(\"isNativeAvailable: authenticationScheme is supported, returning true\");\n                    return true;\n                default:\n                    logger.trace(\"isNativeAvailable: authenticationScheme is not supported, returning false\");\n                    return false;\n            }\n        }\n        return true;\n    }\n}\n //# sourceMappingURL=NativeMessageHandler.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Jyb2tlci9uYXRpdmVCcm9rZXIvTmF0aXZlTWVzc2FnZUhhbmRsZXIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDMEY7QUFDNEI7QUFDOUM7QUFDRTtBQUNYO0FBQzZDO0FBRTVHOzs7Q0FHQyxHQUNELE1BQU1XO0lBQ0ZDLFlBQVlDLE1BQU0sRUFBRUMsa0JBQWtCLEVBQUVDLGlCQUFpQixFQUFFQyxXQUFXLENBQUU7UUFDcEUsSUFBSSxDQUFDSCxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxrQkFBa0IsR0FBR0E7UUFDMUIsSUFBSSxDQUFDRSxXQUFXLEdBQUdBO1FBQ25CLElBQUksQ0FBQ0MsU0FBUyxHQUFHLElBQUlDLE9BQU8sa0NBQWtDO1FBQzlELElBQUksQ0FBQ0Msa0JBQWtCLEdBQUcsSUFBSUQsT0FBTyw4QkFBOEI7UUFDbkUsSUFBSSxDQUFDRSxjQUFjLEdBQUcsSUFBSUM7UUFDMUIsSUFBSSxDQUFDQyxjQUFjLEdBQUcsSUFBSSxDQUFDQyxlQUFlLENBQUNDLElBQUksQ0FBQyxJQUFJLEdBQUcsd0VBQXdFO1FBQy9ILElBQUksQ0FBQ1QsaUJBQWlCLEdBQUdBO1FBQ3pCLElBQUksQ0FBQ1UsY0FBYyxHQUFHVixrQkFBa0JXLGdCQUFnQixDQUFDeEIseUVBQWlCQSxDQUFDeUIsNkJBQTZCO0lBQzVHO0lBQ0E7OztLQUdDLEdBQ0QsTUFBTUMsWUFBWUMsSUFBSSxFQUFFO1FBQ3BCLElBQUksQ0FBQ2hCLE1BQU0sQ0FBQ2lCLEtBQUssQ0FBQztRQUNsQixNQUFNQyxNQUFNO1lBQ1JDLFNBQVNoQyx3RUFBZUEsQ0FBQ2lDLFVBQVU7WUFDbkNqQixhQUFhLElBQUksQ0FBQ0EsV0FBVztZQUM3QmtCLFlBQVkxQix3RUFBYUE7WUFDekJxQixNQUFNQTtRQUNWO1FBQ0EsSUFBSSxDQUFDaEIsTUFBTSxDQUFDaUIsS0FBSyxD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ZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvYnJva2VyL25hdGl2ZUJyb2tlci9OYXRpdmVNZXNzYWdlSGFuZGxlci5tanM/MzIzZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IE5hdGl2ZUNvbnN0YW50cywgTmF0aXZlRXh0ZW5zaW9uTWV0aG9kIH0gZnJvbSAnLi4vLi4vdXRpbHMvQnJvd3NlckNvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgUGVyZm9ybWFuY2VFdmVudHMsIGNyZWF0ZUF1dGhFcnJvciwgQXV0aEVycm9yQ29kZXMsIEF1dGhlbnRpY2F0aW9uU2NoZW1lIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uL2Jyb3dzZXInO1xuaW1wb3J0IHsgY3JlYXRlTmF0aXZlQXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvTmF0aXZlQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlTmV3R3VpZCB9IGZyb20gJy4uLy4uL2NyeXB0by9Ccm93c2VyQ3J5cHRvLm1qcyc7XG5pbXBvcnQgeyBuYXRpdmVIYW5kc2hha2VUaW1lb3V0LCBuYXRpdmVFeHRlbnNpb25Ob3RJbnN0YWxsZWQgfSBmcm9tICcuLi8uLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNsYXNzIE5hdGl2ZU1lc3NhZ2VIYW5kbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGxvZ2dlciwgaGFuZHNoYWtlVGltZW91dE1zLCBwZXJmb3JtYW5jZUNsaWVudCwgZXh0ZW5zaW9uSWQpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcclxuICAgICAgICB0aGlzLmhhbmRzaGFrZVRpbWVvdXRNcyA9IGhhbmRzaGFrZVRpbWVvdXRNcztcclxuICAgICAgICB0aGlzLmV4dGVuc2lvbklkID0gZXh0ZW5zaW9uSWQ7XHJcbiAgICAgICAgdGhpcy5yZXNvbHZlcnMgPSBuZXcgTWFwKCk7IC8vIFVzZWQgZm9yIG5vbi1oYW5kc2hha2UgbWVzc2FnZXNcclxuICAgICAgICB0aGlzLmhhbmRzaGFrZVJlc29sdmVycyA9IG5ldyBNYXAoKTsgLy8gVXNlZCBmb3IgaGFuZHNoYWtlIG1lc3NhZ2VzXHJcbiAgICAgICAgdGhpcy5tZXNzYWdlQ2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xyXG4gICAgICAgIHRoaXMud2luZG93TGlzdGVuZXIgPSB0aGlzLm9uV2luZG93TWVzc2FnZS5iaW5kKHRoaXMpOyAvLyBXaW5kb3cgZXZlbnQgY2FsbGJhY2sgZG9lc24ndCBoYXZlIGFjY2VzcyB0byAndGhpcycgdW5sZXNzIGl0J3MgYm91bmRcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50ID0gcGVyZm9ybWFuY2VDbGllbnQ7XHJcbiAgICAgICAgdGhpcy5oYW5kc2hha2VFdmVudCA9IHBlcmZvcm1hbmNlQ2xpZW50LnN0YXJ0TWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuTmF0aXZlTWVzc2FnZUhhbmRsZXJIYW5kc2hha2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZW5kcyBhIGdpdmVuIG1lc3NhZ2UgdG8gdGhlIGV4dGVuc2lvbiBhbmQgcmVzb2x2ZXMgd2l0aCB0aGUgZXh0ZW5zaW9uIHJlc3BvbnNlXHJcbiAgICAgKiBAcGFyYW0gYm9keVxyXG4gICAgICovXHJcbiAgICBhc3luYyBzZW5kTWVzc2FnZShib2R5KSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJOYXRpdmVNZXNzYWdlSGFuZGxlciAtIHNlbmRNZXNzYWdlIGNhbGxlZC5cIik7XHJcbiAgICAgICAgY29uc3QgcmVxID0ge1xyXG4gICAgICAgICAgICBjaGFubmVsOiBOYXRpdmVDb25zdGFudHMuQ0hBTk5FTF9JRCxcclxuICAgICAgICAgICAgZXh0ZW5zaW9uSWQ6IHRoaXMuZXh0ZW5zaW9uSWQsXHJcbiAgICAgICAgICAgIHJlc3BvbnNlSWQ6IGNyZWF0ZU5ld0d1aWQoKSxcclxuICAgICAgICAgICAgYm9keTogYm9keSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiTmF0aXZlTWVzc2FnZUhhbmRsZXIgLSBTZW5kaW5nIHJlcXVlc3QgdG8gYnJvd3NlciBleHRlbnNpb25cIik7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2VQaWkoYE5hdGl2ZU1lc3NhZ2VIYW5kbGVyIC0gU2VuZGluZyByZXF1ZXN0IHRvIGJyb3dzZXIgZXh0ZW5zaW9uOiAke0pTT04uc3RyaW5naWZ5KHJlcSl9YCk7XHJcbiAgICAgICAgdGhpcy5tZXNzYWdlQ2hhbm5lbC5wb3J0MS5wb3N0TWVzc2FnZShyZXEpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZXJzLnNldChyZXEucmVzcG9uc2VJZCwgeyByZXNvbHZlLCByZWplY3QgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYW4gaW5zdGFuY2Ugb2YgdGhlIE1lc3NhZ2VIYW5kbGVyIHRoYXQgaGFzIHN1Y2Nlc3NmdWxseSBlc3RhYmxpc2hlZCBhIGNvbm5lY3Rpb24gd2l0aCBhbiBleHRlbnNpb25cclxuICAgICAqIEBwYXJhbSB7TG9nZ2VyfSBsb2dnZXJcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoYW5kc2hha2VUaW1lb3V0TXNcclxuICAgICAqIEBwYXJhbSB7SVBlcmZvcm1hbmNlQ2xpZW50fSBwZXJmb3JtYW5jZUNsaWVudFxyXG4gICAgICogQHBhcmFtIHtJQ3J5cHRvfSBjcnlwdG9cclxuICAgICAqL1xyXG4gICAgc3RhdGljIGFzeW5jIGNyZWF0ZVByb3ZpZGVyKGxvZ2dlciwgaGFuZHNoYWtlVGltZW91dE1zLCBwZXJmb3JtYW5jZUNsaWVudCkge1xyXG4gICAgICAgIGxvZ2dlci50cmFjZShcIk5hdGl2ZU1lc3NhZ2VIYW5kbGVyIC0gY3JlYXRlUHJvdmlkZXIgY2FsbGVkLlwiKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBwcmVmZXJyZWRQcm92aWRlciA9IG5ldyBOYXRpdmVNZXNzYWdlSGFuZGxlcihsb2dnZXIsIGhhbmRzaGFrZVRpbWVvdXRNcywgcGVyZm9ybWFuY2VDbGllbnQsIE5hdGl2ZUNvbnN0YW50cy5QUkVGRVJSRURfRVhURU5TSU9OX0lEKTtcclxuICAgICAgICAgICAgYXdhaXQgcHJlZmVycmVkUHJvdmlkZXIuc2VuZEhhbmRzaGFrZVJlcXVlc3QoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHByZWZlcnJlZFByb3ZpZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBJZiBwcmVmZXJyZWQgZXh0ZW5zaW9uIGZhaWxzIGZvciB3aGF0ZXZlciByZWFzb24sIGZhbGxiYWNrIHRvIHVzaW5nIGFueSBpbnN0YWxsZWQgZXh0ZW5zaW9uXHJcbiAgICAgICAgICAgIGNvbnN0IGJhY2t1cFByb3ZpZGVyID0gbmV3IE5hdGl2ZU1lc3NhZ2VIYW5kbGVyKGxvZ2dlciwgaGFuZHNoYWtlVGltZW91dE1zLCBwZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICAgICAgICAgIGF3YWl0IGJhY2t1cFByb3ZpZGVyLnNlbmRIYW5kc2hha2VSZXF1ZXN0KCk7XHJcbiAgICAgICAgICAgIHJldHVybiBiYWNrdXBQcm92aWRlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNlbmQgaGFuZHNoYWtlIHJlcXVlc3QgaGVscGVyLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBzZW5kSGFuZHNoYWtlUmVxdWVzdCgpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIk5hdGl2ZU1lc3NhZ2VIYW5kbGVyIC0gc2VuZEhhbmRzaGFrZVJlcXVlc3QgY2FsbGVkLlwiKTtcclxuICAgICAgICAvLyBSZWdpc3RlciB0aGlzIGV2ZW50IGxpc3RlbmVyIGJlZm9yZSBzZW5kaW5nIGhhbmRzaGFrZVxyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLndpbmRvd0xpc3RlbmVyLCBmYWxzZSk7IC8vIGZhbHNlIGlzIGltcG9ydGFudCwgYmVjYXVzZSBjb250ZW50IHNjcmlwdCBtZXNzYWdlIHByb2Nlc3Npbmcgc2hvdWxkIHdvcmsgZmlyc3RcclxuICAgICAgICBjb25zdCByZXEgPSB7XHJcbiAgICAgICAgICAgIGNoYW5uZWw6IE5hdGl2ZUNvbnN0YW50cy5DSEFOTkVMX0lELFxyXG4gICAgICAgICAgICBleHRlbnNpb25JZDogdGhpcy5leHRlbnNpb25JZCxcclxuICAgICAgICAgICAgcmVzcG9uc2VJZDogY3JlYXRlTmV3R3VpZCgpLFxyXG4gICAgICAgICAgICBib2R5OiB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IE5hdGl2ZUV4dGVuc2lvbk1ldGhvZC5IYW5kc2hha2VSZXF1ZXN0LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5oYW5kc2hha2VFdmVudC5hZGQoe1xyXG4gICAgICAgICAgICBleHRlbnNpb25JZDogdGhpcy5leHRlbnNpb25JZCxcclxuICAgICAgICAgICAgZXh0ZW5zaW9uSGFuZHNoYWtlVGltZW91dE1zOiB0aGlzLmhhbmRzaGFrZVRpbWVvdXRNcyxcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm1lc3NhZ2VDaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLm9uQ2hhbm5lbE1lc3NhZ2UoZXZlbnQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgd2luZG93LnBvc3RNZXNzYWdlKHJlcSwgd2luZG93Lm9yaWdpbiwgW3RoaXMubWVzc2FnZUNoYW5uZWwucG9ydDJdKTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRzaGFrZVJlc29sdmVycy5zZXQocmVxLnJlc3BvbnNlSWQsIHsgcmVzb2x2ZSwgcmVqZWN0IH0pO1xyXG4gICAgICAgICAgICB0aGlzLnRpbWVvdXRJZCA9IHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiBUaHJvdyBhbiBlcnJvciBpZiBuZWl0aGVyIEhhbmRzaGFrZVJlc3BvbnNlIG5vciBvcmlnaW5hbCBIYW5kc2hha2UgcmVxdWVzdCBhcmUgcmVjZWl2ZWQgaW4gYSByZWFzb25hYmxlIHRpbWVmcmFtZS5cclxuICAgICAgICAgICAgICAgICAqIFRoaXMgdHlwaWNhbGx5IHN1Z2dlc3RzIGFuIGV2ZW50IGhhbmRsZXIgc3RvcHBlZCBwcm9wYWdhdGlvbiBvZiB0aGUgSGFuZHNoYWtlIHJlcXVlc3QgYnV0IGRpZCBub3QgcmVzcG9uZCB0byBpdCBvbiB0aGUgTWVzc2FnZUNoYW5uZWwgcG9ydFxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy53aW5kb3dMaXN0ZW5lciwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlQ2hhbm5lbC5wb3J0MS5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZXNzYWdlQ2hhbm5lbC5wb3J0Mi5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kc2hha2VFdmVudC5lbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGV4dGVuc2lvbkhhbmRzaGFrZVRpbWVkT3V0OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoY3JlYXRlQnJvd3NlckF1dGhFcnJvcihuYXRpdmVIYW5kc2hha2VUaW1lb3V0KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRzaGFrZVJlc29sdmVycy5kZWxldGUocmVxLnJlc3BvbnNlSWQpO1xyXG4gICAgICAgICAgICB9LCB0aGlzLmhhbmRzaGFrZVRpbWVvdXRNcyk7IC8vIFVzZSBhIHJlYXNvbmFibGUgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgaGVyZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2VkIHdoZW4gYSBtZXNzYWdlIGlzIHBvc3RlZCB0byB0aGUgd2luZG93LiBJZiBhIGhhbmRzaGFrZSByZXF1ZXN0IGlzIHJlY2VpdmVkIGl0IG1lYW5zIHRoZSBleHRlbnNpb24gaXMgbm90IGluc3RhbGxlZC5cclxuICAgICAqIEBwYXJhbSBldmVudFxyXG4gICAgICovXHJcbiAgICBvbldpbmRvd01lc3NhZ2UoZXZlbnQpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIk5hdGl2ZU1lc3NhZ2VIYW5kbGVyIC0gb25XaW5kb3dNZXNzYWdlIGNhbGxlZFwiKTtcclxuICAgICAgICAvLyBXZSBvbmx5IGFjY2VwdCBtZXNzYWdlcyBmcm9tIG91cnNlbHZlc1xyXG4gICAgICAgIGlmIChldmVudC5zb3VyY2UgIT09IHdpbmRvdykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBldmVudC5kYXRhO1xyXG4gICAgICAgIGlmICghcmVxdWVzdC5jaGFubmVsIHx8XHJcbiAgICAgICAgICAgIHJlcXVlc3QuY2hhbm5lbCAhPT0gTmF0aXZlQ29uc3RhbnRzLkNIQU5ORUxfSUQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5leHRlbnNpb25JZCAmJiByZXF1ZXN0LmV4dGVuc2lvbklkICE9PSB0aGlzLmV4dGVuc2lvbklkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuYm9keS5tZXRob2QgPT09IE5hdGl2ZUV4dGVuc2lvbk1ldGhvZC5IYW5kc2hha2VSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhbmRzaGFrZVJlc29sdmVyID0gdGhpcy5oYW5kc2hha2VSZXNvbHZlcnMuZ2V0KHJlcXVlc3QucmVzcG9uc2VJZCk7XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAqIEZpbHRlciBvdXQgcmVzcG9uc2VzIHdpdGggbm8gbWF0Y2hlZCByZXNvbHZlcnMgc29vbmVyIHRvIGtlZXAgY2hhbm5lbCBwb3J0cyBvcGVuIHdoaWxlIHdhaXRpbmcgZm9yXHJcbiAgICAgICAgICAgICAqIHRoZSBwcm9wZXIgcmVzcG9uc2UuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBpZiAoIWhhbmRzaGFrZVJlc29sdmVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgTmF0aXZlTWVzc2FnZUhhbmRsZXIub25XaW5kb3dNZXNzYWdlIC0gcmVzb2x2ZXIgY2FuJ3QgYmUgZm91bmQgZm9yIHJlcXVlc3QgJHtyZXF1ZXN0LnJlc3BvbnNlSWR9YCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gSWYgd2UgcmVjZWl2ZSB0aGlzIG1lc3NhZ2UgYmFjayBpdCBtZWFucyBubyBleHRlbnNpb24gaW50ZXJjZXB0ZWQgdGhlIHJlcXVlc3QsIG1lYW5pbmcgbm8gZXh0ZW5zaW9uIHN1cHBvcnRpbmcgaGFuZHNoYWtlIHByb3RvY29sIGlzIGluc3RhbGxlZFxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKHJlcXVlc3QuZXh0ZW5zaW9uSWRcclxuICAgICAgICAgICAgICAgID8gYEV4dGVuc2lvbiB3aXRoIGlkOiAke3JlcXVlc3QuZXh0ZW5zaW9uSWR9IG5vdCBpbnN0YWxsZWRgXHJcbiAgICAgICAgICAgICAgICA6IFwiTm8gZXh0ZW5zaW9uIGluc3RhbGxlZFwiKTtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dElkKTtcclxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlQ2hhbm5lbC5wb3J0MS5jbG9zZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VDaGFubmVsLnBvcnQyLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLndpbmRvd0xpc3RlbmVyLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZHNoYWtlRXZlbnQuZW5kKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9uSW5zdGFsbGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGhhbmRzaGFrZVJlc29sdmVyLnJlamVjdChjcmVhdGVCcm93c2VyQXV0aEVycm9yKG5hdGl2ZUV4dGVuc2lvbk5vdEluc3RhbGxlZCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSW52b2tlZCB3aGVuIGEgbWVzc2FnZSBpcyByZWNlaXZlZCBmcm9tIHRoZSBleHRlbnNpb24gb24gdGhlIE1lc3NhZ2VDaGFubmVsIHBvcnRcclxuICAgICAqIEBwYXJhbSBldmVudFxyXG4gICAgICovXHJcbiAgICBvbkNoYW5uZWxNZXNzYWdlKGV2ZW50KSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJOYXRpdmVNZXNzYWdlSGFuZGxlciAtIG9uQ2hhbm5lbE1lc3NhZ2UgY2FsbGVkLlwiKTtcclxuICAgICAgICBjb25zdCByZXF1ZXN0ID0gZXZlbnQuZGF0YTtcclxuICAgICAgICBjb25zdCByZXNvbHZlciA9IHRoaXMucmVzb2x2ZXJzLmdldChyZXF1ZXN0LnJlc3BvbnNlSWQpO1xyXG4gICAgICAgIGNvbnN0IGhhbmRzaGFrZVJlc29sdmVyID0gdGhpcy5oYW5kc2hha2VSZXNvbHZlcnMuZ2V0KHJlcXVlc3QucmVzcG9uc2VJZCk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgbWV0aG9kID0gcmVxdWVzdC5ib2R5Lm1ldGhvZDtcclxuICAgICAgICAgICAgaWYgKG1ldGhvZCA9PT0gTmF0aXZlRXh0ZW5zaW9uTWV0aG9kLlJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc29sdmVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSByZXF1ZXN0LmJvZHkucmVzcG9uc2U7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIk5hdGl2ZU1lc3NhZ2VIYW5kbGVyIC0gUmVjZWl2ZWQgcmVzcG9uc2UgZnJvbSBicm93c2VyIGV4dGVuc2lvblwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlUGlpKGBOYXRpdmVNZXNzYWdlSGFuZGxlciAtIFJlY2VpdmVkIHJlc3BvbnNlIGZyb20gYnJvd3NlciBleHRlbnNpb246ICR7SlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpfWApO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAhPT0gXCJTdWNjZXNzXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlci5yZWplY3QoY3JlYXRlTmF0aXZlQXV0aEVycm9yKHJlc3BvbnNlLmNvZGUsIHJlc3BvbnNlLmRlc2NyaXB0aW9uLCByZXNwb25zZS5leHQpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLnJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZXN1bHRbXCJjb2RlXCJdICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLnJlc3VsdFtcImRlc2NyaXB0aW9uXCJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVyLnJlamVjdChjcmVhdGVOYXRpdmVBdXRoRXJyb3IocmVzcG9uc2UucmVzdWx0W1wiY29kZVwiXSwgcmVzcG9uc2UucmVzdWx0W1wiZGVzY3JpcHRpb25cIl0sIHJlc3BvbnNlLnJlc3VsdFtcImV4dFwiXSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZXIucmVzb2x2ZShyZXNwb25zZS5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUF1dGhFcnJvcihBdXRoRXJyb3JDb2Rlcy51bmV4cGVjdGVkRXJyb3IsIFwiRXZlbnQgZG9lcyBub3QgY29udGFpbiByZXN1bHQuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlcnMuZGVsZXRlKHJlcXVlc3QucmVzcG9uc2VJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobWV0aG9kID09PSBOYXRpdmVFeHRlbnNpb25NZXRob2QuSGFuZHNoYWtlUmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmICghaGFuZHNoYWtlUmVzb2x2ZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShgTmF0aXZlTWVzc2FnZUhhbmRsZXIub25DaGFubmVsTWVzc2FnZSAtIHJlc29sdmVyIGNhbid0IGJlIGZvdW5kIGZvciByZXF1ZXN0ICR7cmVxdWVzdC5yZXNwb25zZUlkfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVvdXRJZCk7IC8vIENsZWFyIHNldFRpbWVvdXRcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCB0aGlzLndpbmRvd0xpc3RlbmVyLCBmYWxzZSk7IC8vIFJlbW92ZSAnTm8gZXh0ZW5zaW9uJyBsaXN0ZW5lclxyXG4gICAgICAgICAgICAgICAgdGhpcy5leHRlbnNpb25JZCA9IHJlcXVlc3QuZXh0ZW5zaW9uSWQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV4dGVuc2lvblZlcnNpb24gPSByZXF1ZXN0LmJvZHkudmVyc2lvbjtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoYE5hdGl2ZU1lc3NhZ2VIYW5kbGVyIC0gUmVjZWl2ZWQgSGFuZHNoYWtlUmVzcG9uc2UgZnJvbSBleHRlbnNpb246ICR7dGhpcy5leHRlbnNpb25JZH1gKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZHNoYWtlRXZlbnQuZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBleHRlbnNpb25JbnN0YWxsZWQ6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgaGFuZHNoYWtlUmVzb2x2ZXIucmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kc2hha2VSZXNvbHZlcnMuZGVsZXRlKHJlcXVlc3QucmVzcG9uc2VJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gRG8gbm90aGluZyBpZiBtZXRob2QgaXMgbm90IFJlc3BvbnNlIG9yIEhhbmRzaGFrZVJlc3BvbnNlXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJFcnJvciBwYXJzaW5nIHJlc3BvbnNlIGZyb20gV0FNIEV4dGVuc2lvblwiKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3JQaWkoYEVycm9yIHBhcnNpbmcgcmVzcG9uc2UgZnJvbSBXQU0gRXh0ZW5zaW9uOiAke2Vycn1gKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3JQaWkoYFVuYWJsZSB0byBwYXJzZSAke2V2ZW50fWApO1xyXG4gICAgICAgICAgICBpZiAocmVzb2x2ZXIpIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVyLnJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGhhbmRzaGFrZVJlc29sdmVyKSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kc2hha2VSZXNvbHZlci5yZWplY3QoZXJyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgSWQgZm9yIHRoZSBicm93c2VyIGV4dGVuc2lvbiB0aGlzIGhhbmRsZXIgaXMgY29tbXVuaWNhdGluZyB3aXRoXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBnZXRFeHRlbnNpb25JZCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5leHRlbnNpb25JZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgdmVyc2lvbiBmb3IgdGhlIGJyb3dzZXIgZXh0ZW5zaW9uIHRoaXMgaGFuZGxlciBpcyBjb21tdW5pY2F0aW5nIHdpdGhcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGdldEV4dGVuc2lvblZlcnNpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZXh0ZW5zaW9uVmVyc2lvbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhlIHJlcXVlc3Qgc2hvdWxkIGF0dGVtcHQgdG8gdXNlIG5hdGl2ZSBicm9rZXJcclxuICAgICAqIEBwYXJhbSBsb2dnZXJcclxuICAgICAqIEBwYXJhbSBjb25maWdcclxuICAgICAqIEBwYXJhbSBuYXRpdmVFeHRlbnNpb25Qcm92aWRlclxyXG4gICAgICogQHBhcmFtIGF1dGhlbnRpY2F0aW9uU2NoZW1lXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBpc05hdGl2ZUF2YWlsYWJsZShjb25maWcsIGxvZ2dlciwgbmF0aXZlRXh0ZW5zaW9uUHJvdmlkZXIsIGF1dGhlbnRpY2F0aW9uU2NoZW1lKSB7XHJcbiAgICAgICAgbG9nZ2VyLnRyYWNlKFwiaXNOYXRpdmVBdmFpbGFibGUgY2FsbGVkXCIpO1xyXG4gICAgICAgIGlmICghY29uZmlnLnN5c3RlbS5hbGxvd05hdGl2ZUJyb2tlcikge1xyXG4gICAgICAgICAgICBsb2dnZXIudHJhY2UoXCJpc05hdGl2ZUF2YWlsYWJsZTogYWxsb3dOYXRpdmVCcm9rZXIgaXMgbm90IGVuYWJsZWQsIHJldHVybmluZyBmYWxzZVwiKTtcclxuICAgICAgICAgICAgLy8gRGV2ZWxvcGVyIGRpc2FibGVkIFdBTVxyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbmF0aXZlRXh0ZW5zaW9uUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKFwiaXNOYXRpdmVBdmFpbGFibGU6IFdBTSBleHRlbnNpb24gcHJvdmlkZXIgaXMgbm90IGluaXRpYWxpemVkLCByZXR1cm5pbmcgZmFsc2VcIik7XHJcbiAgICAgICAgICAgIC8vIEV4dGVuc2lvbiBpcyBub3QgYXZhaWxhYmxlXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGF1dGhlbnRpY2F0aW9uU2NoZW1lKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYXV0aGVudGljYXRpb25TY2hlbWUpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQXV0aGVudGljYXRpb25TY2hlbWUuQkVBUkVSOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBBdXRoZW50aWNhdGlvblNjaGVtZS5QT1A6XHJcbiAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKFwiaXNOYXRpdmVBdmFpbGFibGU6IGF1dGhlbnRpY2F0aW9uU2NoZW1lIGlzIHN1cHBvcnRlZCwgcmV0dXJuaW5nIHRydWVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGxvZ2dlci50cmFjZShcImlzTmF0aXZlQXZhaWxhYmxlOiBhdXRoZW50aWNhdGlvblNjaGVtZSBpcyBub3Qgc3VwcG9ydGVkLCByZXR1cm5pbmcgZmFsc2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IE5hdGl2ZU1lc3NhZ2VIYW5kbGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OYXRpdmVNZXNzYWdlSGFuZGxlci5tanMubWFwXG4iXSwibmFtZXMiOlsiTmF0aXZlQ29uc3RhbnRzIiwiTmF0aXZlRXh0ZW5zaW9uTWV0aG9kIiwiUGVyZm9ybWFuY2VFdmVudHMiLCJjcmVhdGVBdXRoRXJyb3IiLCJBdXRoRXJyb3JDb2RlcyIsIkF1dGhlbnRpY2F0aW9uU2NoZW1lIiwiY3JlYXRlTmF0aXZlQXV0aEVycm9yIiwiY3JlYXRlQnJvd3NlckF1dGhFcnJvciIsImNyZWF0ZU5ld0d1aWQiLCJuYXRpdmVIYW5kc2hha2VUaW1lb3V0IiwibmF0aXZlRXh0ZW5zaW9uTm90SW5zdGFsbGVkIiwiTmF0aXZlTWVzc2FnZUhhbmRsZXIiLCJjb25zdHJ1Y3RvciIsImxvZ2dlciIsImhhbmRzaGFrZVRpbWVvdXRNcyIsInBlcmZvcm1hbmNlQ2xpZW50IiwiZXh0ZW5zaW9uSWQiLCJyZXNvbHZlcnMiLCJNYXAiLCJoYW5kc2hha2VSZXNvbHZlcnMiLCJtZXNzYWdlQ2hhbm5lbCIsIk1lc3NhZ2VDaGFubmVsIiwid2luZG93TGlzdGVuZXIiLCJvbldpbmRvd01lc3NhZ2UiLCJiaW5kIiwiaGFuZHNoYWtlRXZlbnQiLCJzdGFydE1lYXN1cmVtZW50IiwiTmF0aXZlTWVzc2FnZUhhbmRsZXJIYW5kc2hha2UiLCJzZW5kTWVzc2FnZSIsImJvZHkiLCJ0cmFjZSIsInJlcSIsImNoYW5uZWwiLCJDSEFOTkVMX0lEIiwicmVzcG9uc2VJZCIsInRyYWNlUGlpIiwiSlNPTiIsInN0cmluZ2lmeSIsInBvcnQxIiwicG9zdE1lc3NhZ2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInNldCIsImNyZWF0ZVByb3ZpZGVyIiwicHJlZmVycmVkUHJvdmlkZXIiLCJQUkVGRVJSRURfRVhURU5TSU9OX0lEIiwic2VuZEhhbmRzaGFrZVJlcXVlc3QiLCJlIiwiYmFja3VwUHJvdmlkZXIiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwibWV0aG9kIiwiSGFuZHNoYWtlUmVxdWVzdCIsImFkZCIsImV4dGVuc2lvbkhhbmRzaGFrZVRpbWVvdXRNcyIsIm9ubWVzc2FnZSIsImV2ZW50Iiwib25DaGFubmVsTWVzc2FnZSIsIm9yaWdpbiIsInBvcnQyIiwidGltZW91dElkIiwic2V0VGltZW91dCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZSIsImVuZCIsImV4dGVuc2lvbkhhbmRzaGFrZVRpbWVkT3V0Iiwic3VjY2VzcyIsImRlbGV0ZSIsInNvdXJjZSIsInJlcXVlc3QiLCJkYXRhIiwiaGFuZHNoYWtlUmVzb2x2ZXIiLCJnZXQiLCJ2ZXJib3NlIiwiY2xlYXJUaW1lb3V0IiwiZXh0ZW5zaW9uSW5zdGFsbGVkIiwicmVzb2x2ZXIiLCJSZXNwb25zZSIsInJlc3BvbnNlIiwic3RhdHVzIiwiY29kZSIsImRlc2NyaXB0aW9uIiwiZXh0IiwicmVzdWx0IiwidW5leHBlY3RlZEVycm9yIiwiSGFuZHNoYWtlUmVzcG9uc2UiLCJleHRlbnNpb25WZXJzaW9uIiwidmVyc2lvbiIsImVyciIsImVycm9yIiwiZXJyb3JQaWkiLCJnZXRFeHRlbnNpb25JZCIsImdldEV4dGVuc2lvblZlcnNpb24iLCJpc05hdGl2ZUF2YWlsYWJsZSIsImNvbmZpZyIsIm5hdGl2ZUV4dGVuc2lvblByb3ZpZGVyIiwiYXV0aGVudGljYXRpb25TY2hlbWUiLCJzeXN0ZW0iLCJhbGxvd05hdGl2ZUJyb2tlciIsIkJFQVJFUiIsIlBPUCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/broker/nativeBroker/NativeMessageHandler.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/broker/nativeBroker/NativeStatusCodes.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/broker/nativeBroker/NativeStatusCodes.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACCOUNT_UNAVAILABLE: () => (/* binding */ ACCOUNT_UNAVAILABLE),\n/* harmony export */   DISABLED: () => (/* binding */ DISABLED),\n/* harmony export */   NO_NETWORK: () => (/* binding */ NO_NETWORK),\n/* harmony export */   PERSISTENT_ERROR: () => (/* binding */ PERSISTENT_ERROR),\n/* harmony export */   USER_CANCEL: () => (/* binding */ USER_CANCEL),\n/* harmony export */   USER_INTERACTION_REQUIRED: () => (/* binding */ USER_INTERACTION_REQUIRED)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ // Status Codes that can be thrown by WAM\nconst USER_INTERACTION_REQUIRED = \"USER_INTERACTION_REQUIRED\";\nconst USER_CANCEL = \"USER_CANCEL\";\nconst NO_NETWORK = \"NO_NETWORK\";\nconst PERSISTENT_ERROR = \"PERSISTENT_ERROR\";\nconst DISABLED = \"DISABLED\";\nconst ACCOUNT_UNAVAILABLE = \"ACCOUNT_UNAVAILABLE\";\n //# sourceMappingURL=NativeStatusCodes.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Jyb2tlci9uYXRpdmVCcm9rZXIvTmF0aXZlU3RhdHVzQ29kZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBOzs7Q0FHQyxHQUNELHlDQUF5QztBQUN6QyxNQUFNQSw0QkFBNEI7QUFDbEMsTUFBTUMsY0FBYztBQUNwQixNQUFNQyxhQUFhO0FBQ25CLE1BQU1DLG1CQUFtQjtBQUN6QixNQUFNQyxXQUFXO0FBQ2pCLE1BQU1DLHNCQUFzQjtBQUVtRixDQUMvRyw4Q0FBOEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Jyb2tlci9uYXRpdmVCcm9rZXIvTmF0aXZlU3RhdHVzQ29kZXMubWpzPzYyYTIiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLy8gU3RhdHVzIENvZGVzIHRoYXQgY2FuIGJlIHRocm93biBieSBXQU1cclxuY29uc3QgVVNFUl9JTlRFUkFDVElPTl9SRVFVSVJFRCA9IFwiVVNFUl9JTlRFUkFDVElPTl9SRVFVSVJFRFwiO1xyXG5jb25zdCBVU0VSX0NBTkNFTCA9IFwiVVNFUl9DQU5DRUxcIjtcclxuY29uc3QgTk9fTkVUV09SSyA9IFwiTk9fTkVUV09SS1wiO1xyXG5jb25zdCBQRVJTSVNURU5UX0VSUk9SID0gXCJQRVJTSVNURU5UX0VSUk9SXCI7XHJcbmNvbnN0IERJU0FCTEVEID0gXCJESVNBQkxFRFwiO1xyXG5jb25zdCBBQ0NPVU5UX1VOQVZBSUxBQkxFID0gXCJBQ0NPVU5UX1VOQVZBSUxBQkxFXCI7XG5cbmV4cG9ydCB7IEFDQ09VTlRfVU5BVkFJTEFCTEUsIERJU0FCTEVELCBOT19ORVRXT1JLLCBQRVJTSVNURU5UX0VSUk9SLCBVU0VSX0NBTkNFTCwgVVNFUl9JTlRFUkFDVElPTl9SRVFVSVJFRCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TmF0aXZlU3RhdHVzQ29kZXMubWpzLm1hcFxuIl0sIm5hbWVzIjpbIlVTRVJfSU5URVJBQ1RJT05fUkVRVUlSRUQiLCJVU0VSX0NBTkNFTCIsIk5PX05FVFdPUksiLCJQRVJTSVNURU5UX0VSUk9SIiwiRElTQUJMRUQiLCJBQ0NPVU5UX1VOQVZBSUxBQkxFIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/broker/nativeBroker/NativeStatusCodes.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/cache/AccountManager.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/cache/AccountManager.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAccount: () => (/* binding */ getAccount),\n/* harmony export */   getAccountByHomeId: () => (/* binding */ getAccountByHomeId),\n/* harmony export */   getAccountByLocalId: () => (/* binding */ getAccountByLocalId),\n/* harmony export */   getAccountByUsername: () => (/* binding */ getAccountByUsername),\n/* harmony export */   getActiveAccount: () => (/* binding */ getActiveAccount),\n/* harmony export */   getAllAccounts: () => (/* binding */ getAllAccounts),\n/* harmony export */   setActiveAccount: () => (/* binding */ setActiveAccount)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Returns all the accounts in the cache that match the optional filter. If no filter is provided, all accounts are returned.\r\n * @param accountFilter - (Optional) filter to narrow down the accounts returned\r\n * @returns Array of AccountInfo objects in cache\r\n */ function getAllAccounts(logger, browserStorage, isInBrowser, accountFilter) {\n    logger.verbose(\"getAllAccounts called\");\n    return isInBrowser ? browserStorage.getAllAccounts(accountFilter) : [];\n}\n/**\r\n * Returns the first account found in the cache that matches the account filter passed in.\r\n * @param accountFilter\r\n * @returns The first account found in the cache matching the provided filter or null if no account could be found.\r\n */ function getAccount(accountFilter, logger, browserStorage) {\n    logger.trace(\"getAccount called\");\n    if (Object.keys(accountFilter).length === 0) {\n        logger.warning(\"getAccount: No accountFilter provided\");\n        return null;\n    }\n    const account = browserStorage.getAccountInfoFilteredBy(accountFilter);\n    if (account) {\n        logger.verbose(\"getAccount: Account matching provided filter found, returning\");\n        return account;\n    } else {\n        logger.verbose(\"getAccount: No matching account found, returning null\");\n        return null;\n    }\n}\n/**\r\n * Returns the signed in account matching username.\r\n * (the account object is created at the time of successful login)\r\n * or null when no matching account is found.\r\n * This API is provided for convenience but getAccountById should be used for best reliability\r\n * @param username\r\n * @returns The account object stored in MSAL\r\n */ function getAccountByUsername(username, logger, browserStorage) {\n    logger.trace(\"getAccountByUsername called\");\n    if (!username) {\n        logger.warning(\"getAccountByUsername: No username provided\");\n        return null;\n    }\n    const account = browserStorage.getAccountInfoFilteredBy({\n        username\n    });\n    if (account) {\n        logger.verbose(\"getAccountByUsername: Account matching username found, returning\");\n        logger.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${username}`);\n        return account;\n    } else {\n        logger.verbose(\"getAccountByUsername: No matching account found, returning null\");\n        return null;\n    }\n}\n/**\r\n * Returns the signed in account matching homeAccountId.\r\n * (the account object is created at the time of successful login)\r\n * or null when no matching account is found\r\n * @param homeAccountId\r\n * @returns The account object stored in MSAL\r\n */ function getAccountByHomeId(homeAccountId, logger, browserStorage) {\n    logger.trace(\"getAccountByHomeId called\");\n    if (!homeAccountId) {\n        logger.warning(\"getAccountByHomeId: No homeAccountId provided\");\n        return null;\n    }\n    const account = browserStorage.getAccountInfoFilteredBy({\n        homeAccountId\n    });\n    if (account) {\n        logger.verbose(\"getAccountByHomeId: Account matching homeAccountId found, returning\");\n        logger.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${homeAccountId}`);\n        return account;\n    } else {\n        logger.verbose(\"getAccountByHomeId: No matching account found, returning null\");\n        return null;\n    }\n}\n/**\r\n * Returns the signed in account matching localAccountId.\r\n * (the account object is created at the time of successful login)\r\n * or null when no matching account is found\r\n * @param localAccountId\r\n * @returns The account object stored in MSAL\r\n */ function getAccountByLocalId(localAccountId, logger, browserStorage) {\n    logger.trace(\"getAccountByLocalId called\");\n    if (!localAccountId) {\n        logger.warning(\"getAccountByLocalId: No localAccountId provided\");\n        return null;\n    }\n    const account = browserStorage.getAccountInfoFilteredBy({\n        localAccountId\n    });\n    if (account) {\n        logger.verbose(\"getAccountByLocalId: Account matching localAccountId found, returning\");\n        logger.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${localAccountId}`);\n        return account;\n    } else {\n        logger.verbose(\"getAccountByLocalId: No matching account found, returning null\");\n        return null;\n    }\n}\n/**\r\n * Sets the account to use as the active account. If no account is passed to the acquireToken APIs, then MSAL will use this active account.\r\n * @param account\r\n */ function setActiveAccount(account, browserStorage) {\n    browserStorage.setActiveAccount(account);\n}\n/**\r\n * Gets the currently active account\r\n */ function getActiveAccount(browserStorage) {\n    return browserStorage.getActiveAccount();\n}\n //# sourceMappingURL=AccountManager.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NhY2hlL0FjY291bnRNYW5hZ2VyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0Q7Ozs7Q0FJQyxHQUNELFNBQVNBLGVBQWVDLE1BQU0sRUFBRUMsY0FBYyxFQUFFQyxXQUFXLEVBQUVDLGFBQWE7SUFDdEVILE9BQU9JLE9BQU8sQ0FBQztJQUNmLE9BQU9GLGNBQWNELGVBQWVGLGNBQWMsQ0FBQ0ksaUJBQWlCLEVBQUU7QUFDMUU7QUFDQTs7OztDQUlDLEdBQ0QsU0FBU0UsV0FBV0YsYUFBYSxFQUFFSCxNQUFNLEVBQUVDLGNBQWM7SUFDckRELE9BQU9NLEtBQUssQ0FBQztJQUNiLElBQUlDLE9BQU9DLElBQUksQ0FBQ0wsZUFBZU0sTUFBTSxLQUFLLEdBQUc7UUFDekNULE9BQU9VLE9BQU8sQ0FBQztRQUNmLE9BQU87SUFDWDtJQUNBLE1BQU1DLFVBQVVWLGVBQWVXLHdCQUF3QixDQUFDVDtJQUN4RCxJQUFJUSxTQUFTO1FBQ1RYLE9BQU9JLE9BQU8sQ0FBQztRQUNmLE9BQU9PO0lBQ1gsT0FDSztRQUNEWCxPQUFPSSxPQUFPLENBQUM7UUFDZixPQUFPO0lBQ1g7QUFDSjtBQUNBOzs7Ozs7O0NBT0MsR0FDRCxTQUFTUyxxQkFBcUJDLFFBQVEsRUFBRWQsTUFBTSxFQUFFQyxjQUFjO0lBQzFERCxPQUFPTSxLQUFLLENBQUM7SUFDYixJQUFJLENBQUNRLFVBQVU7UUFDWGQsT0FBT1UsT0FBTyxDQUFDO1FBQ2YsT0FBTztJQUNYO0lBQ0EsTUFBTUMsVUFBVVYsZUFBZVcsd0JBQXdCLENBQUM7UUFDcERFO0lBQ0o7SUFDQSxJQUFJSCxTQUFTO1FBQ1RYLE9BQU9JLE9BQU8sQ0FBQztRQUNmSixPQUFPZSxVQUFVLENBQUMsQ0FBQyxzRUFBc0UsRUFBRUQsU0FBUyxDQUFDO1FBQ3JHLE9BQU9IO0lBQ1gsT0FDSztRQUNEWCxPQUFPSSxPQUFPLENBQUM7UUFDZixPQUFPO0lBQ1g7QUFDSjtBQUNBOzs7Ozs7Q0FNQyxHQUNELFNBQVNZLG1CQUFtQkMsYUFBYSxFQUFFakIsTUFBTSxFQUFFQyxjQUFjO0lBQzdERCxPQUFPTSxLQUFLLENBQUM7SUFDYixJQUFJLENBQUNXLGVBQWU7UUFDaEJqQixPQUFPVSxPQUFPLENBQUM7UUFDZixPQUFPO0lBQ1g7SUFDQSxNQUFNQyxVQUFVVixlQUFlVyx3QkFBd0IsQ0FBQztRQUNwREs7SUFDSjtJQUNBLElBQUlOLFNBQVM7UUFDVFgsT0FBT0ksT0FBTyxDQUFDO1FBQ2ZKLE9BQU9lLFVBQVUsQ0FBQyxDQUFDLHlFQUF5RSxFQUFFRSxjQUFjLENBQUM7UUFDN0csT0FBT047SUFDWCxPQUNLO1FBQ0RYLE9BQU9JLE9BQU8sQ0FBQztRQUNmLE9BQU87SUFDWDtBQUNKO0FBQ0E7Ozs7OztDQU1DLEdBQ0QsU0FBU2Msb0JBQW9CQyxjQUFjLEVBQUVuQixNQUFNLEVBQUVDLGNBQWM7SUFDL0RELE9BQU9NLEtBQUssQ0FBQztJQUNiLElBQUksQ0FBQ2EsZ0JBQWdCO1FBQ2pCbkIsT0FBT1UsT0FBTyxDQUFDO1FBQ2YsT0FBTztJQUNYO0lBQ0EsTUFBTUMsVUFBVVYsZUFBZVcsd0JBQXdCLENBQUM7UUFDcERPO0lBQ0o7SUFDQSxJQUFJUixTQUFTO1FBQ1RYLE9BQU9JLE9BQU8sQ0FBQztRQUNmSixPQUFPZSxVQUFVLENBQUMsQ0FBQywyRUFBMkUsRUFBRUksZUFBZSxDQUFDO1FBQ2hILE9BQU9SO0lBQ1gsT0FDSztRQUNEWCxPQUFPSSxPQUFPLENBQUM7UUFDZixPQUFPO0lBQ1g7QUFDSjtBQUNBOzs7Q0FHQyxHQUNELFNBQVNnQixpQkFBaUJULE9BQU8sRUFBRVYsY0FBYztJQUM3Q0EsZUFBZW1CLGdCQUFnQixDQUFDVDtBQUNwQztBQUNBOztDQUVDLEdBQ0QsU0FBU1UsaUJBQWlCcEIsY0FBYztJQUNwQyxPQUFPQSxlQUFlb0IsZ0JBQWdCO0FBQzFDO0FBRXlJLENBQ3pJLDJDQUEyQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvY2FjaGUvQWNjb3VudE1hbmFnZXIubWpzP2RlM2MiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJldHVybnMgYWxsIHRoZSBhY2NvdW50cyBpbiB0aGUgY2FjaGUgdGhhdCBtYXRjaCB0aGUgb3B0aW9uYWwgZmlsdGVyLiBJZiBubyBmaWx0ZXIgaXMgcHJvdmlkZWQsIGFsbCBhY2NvdW50cyBhcmUgcmV0dXJuZWQuXHJcbiAqIEBwYXJhbSBhY2NvdW50RmlsdGVyIC0gKE9wdGlvbmFsKSBmaWx0ZXIgdG8gbmFycm93IGRvd24gdGhlIGFjY291bnRzIHJldHVybmVkXHJcbiAqIEByZXR1cm5zIEFycmF5IG9mIEFjY291bnRJbmZvIG9iamVjdHMgaW4gY2FjaGVcclxuICovXHJcbmZ1bmN0aW9uIGdldEFsbEFjY291bnRzKGxvZ2dlciwgYnJvd3NlclN0b3JhZ2UsIGlzSW5Ccm93c2VyLCBhY2NvdW50RmlsdGVyKSB7XHJcbiAgICBsb2dnZXIudmVyYm9zZShcImdldEFsbEFjY291bnRzIGNhbGxlZFwiKTtcclxuICAgIHJldHVybiBpc0luQnJvd3NlciA/IGJyb3dzZXJTdG9yYWdlLmdldEFsbEFjY291bnRzKGFjY291bnRGaWx0ZXIpIDogW107XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGZpcnN0IGFjY291bnQgZm91bmQgaW4gdGhlIGNhY2hlIHRoYXQgbWF0Y2hlcyB0aGUgYWNjb3VudCBmaWx0ZXIgcGFzc2VkIGluLlxyXG4gKiBAcGFyYW0gYWNjb3VudEZpbHRlclxyXG4gKiBAcmV0dXJucyBUaGUgZmlyc3QgYWNjb3VudCBmb3VuZCBpbiB0aGUgY2FjaGUgbWF0Y2hpbmcgdGhlIHByb3ZpZGVkIGZpbHRlciBvciBudWxsIGlmIG5vIGFjY291bnQgY291bGQgYmUgZm91bmQuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBY2NvdW50KGFjY291bnRGaWx0ZXIsIGxvZ2dlciwgYnJvd3NlclN0b3JhZ2UpIHtcclxuICAgIGxvZ2dlci50cmFjZShcImdldEFjY291bnQgY2FsbGVkXCIpO1xyXG4gICAgaWYgKE9iamVjdC5rZXlzKGFjY291bnRGaWx0ZXIpLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGxvZ2dlci53YXJuaW5nKFwiZ2V0QWNjb3VudDogTm8gYWNjb3VudEZpbHRlciBwcm92aWRlZFwiKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGNvbnN0IGFjY291bnQgPSBicm93c2VyU3RvcmFnZS5nZXRBY2NvdW50SW5mb0ZpbHRlcmVkQnkoYWNjb3VudEZpbHRlcik7XHJcbiAgICBpZiAoYWNjb3VudCkge1xyXG4gICAgICAgIGxvZ2dlci52ZXJib3NlKFwiZ2V0QWNjb3VudDogQWNjb3VudCBtYXRjaGluZyBwcm92aWRlZCBmaWx0ZXIgZm91bmQsIHJldHVybmluZ1wiKTtcclxuICAgICAgICByZXR1cm4gYWNjb3VudDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGxvZ2dlci52ZXJib3NlKFwiZ2V0QWNjb3VudDogTm8gbWF0Y2hpbmcgYWNjb3VudCBmb3VuZCwgcmV0dXJuaW5nIG51bGxcIik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIHNpZ25lZCBpbiBhY2NvdW50IG1hdGNoaW5nIHVzZXJuYW1lLlxyXG4gKiAodGhlIGFjY291bnQgb2JqZWN0IGlzIGNyZWF0ZWQgYXQgdGhlIHRpbWUgb2Ygc3VjY2Vzc2Z1bCBsb2dpbilcclxuICogb3IgbnVsbCB3aGVuIG5vIG1hdGNoaW5nIGFjY291bnQgaXMgZm91bmQuXHJcbiAqIFRoaXMgQVBJIGlzIHByb3ZpZGVkIGZvciBjb252ZW5pZW5jZSBidXQgZ2V0QWNjb3VudEJ5SWQgc2hvdWxkIGJlIHVzZWQgZm9yIGJlc3QgcmVsaWFiaWxpdHlcclxuICogQHBhcmFtIHVzZXJuYW1lXHJcbiAqIEByZXR1cm5zIFRoZSBhY2NvdW50IG9iamVjdCBzdG9yZWQgaW4gTVNBTFxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0QWNjb3VudEJ5VXNlcm5hbWUodXNlcm5hbWUsIGxvZ2dlciwgYnJvd3NlclN0b3JhZ2UpIHtcclxuICAgIGxvZ2dlci50cmFjZShcImdldEFjY291bnRCeVVzZXJuYW1lIGNhbGxlZFwiKTtcclxuICAgIGlmICghdXNlcm5hbWUpIHtcclxuICAgICAgICBsb2dnZXIud2FybmluZyhcImdldEFjY291bnRCeVVzZXJuYW1lOiBObyB1c2VybmFtZSBwcm92aWRlZFwiKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGNvbnN0IGFjY291bnQgPSBicm93c2VyU3RvcmFnZS5nZXRBY2NvdW50SW5mb0ZpbHRlcmVkQnkoe1xyXG4gICAgICAgIHVzZXJuYW1lLFxyXG4gICAgfSk7XHJcbiAgICBpZiAoYWNjb3VudCkge1xyXG4gICAgICAgIGxvZ2dlci52ZXJib3NlKFwiZ2V0QWNjb3VudEJ5VXNlcm5hbWU6IEFjY291bnQgbWF0Y2hpbmcgdXNlcm5hbWUgZm91bmQsIHJldHVybmluZ1wiKTtcclxuICAgICAgICBsb2dnZXIudmVyYm9zZVBpaShgZ2V0QWNjb3VudEJ5VXNlcm5hbWU6IFJldHVybmluZyBzaWduZWQtaW4gYWNjb3VudHMgbWF0Y2hpbmcgdXNlcm5hbWU6ICR7dXNlcm5hbWV9YCk7XHJcbiAgICAgICAgcmV0dXJuIGFjY291bnQ7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBsb2dnZXIudmVyYm9zZShcImdldEFjY291bnRCeVVzZXJuYW1lOiBObyBtYXRjaGluZyBhY2NvdW50IGZvdW5kLCByZXR1cm5pbmcgbnVsbFwiKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUmV0dXJucyB0aGUgc2lnbmVkIGluIGFjY291bnQgbWF0Y2hpbmcgaG9tZUFjY291bnRJZC5cclxuICogKHRoZSBhY2NvdW50IG9iamVjdCBpcyBjcmVhdGVkIGF0IHRoZSB0aW1lIG9mIHN1Y2Nlc3NmdWwgbG9naW4pXHJcbiAqIG9yIG51bGwgd2hlbiBubyBtYXRjaGluZyBhY2NvdW50IGlzIGZvdW5kXHJcbiAqIEBwYXJhbSBob21lQWNjb3VudElkXHJcbiAqIEByZXR1cm5zIFRoZSBhY2NvdW50IG9iamVjdCBzdG9yZWQgaW4gTVNBTFxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0QWNjb3VudEJ5SG9tZUlkKGhvbWVBY2NvdW50SWQsIGxvZ2dlciwgYnJvd3NlclN0b3JhZ2UpIHtcclxuICAgIGxvZ2dlci50cmFjZShcImdldEFjY291bnRCeUhvbWVJZCBjYWxsZWRcIik7XHJcbiAgICBpZiAoIWhvbWVBY2NvdW50SWQpIHtcclxuICAgICAgICBsb2dnZXIud2FybmluZyhcImdldEFjY291bnRCeUhvbWVJZDogTm8gaG9tZUFjY291bnRJZCBwcm92aWRlZFwiKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGNvbnN0IGFjY291bnQgPSBicm93c2VyU3RvcmFnZS5nZXRBY2NvdW50SW5mb0ZpbHRlcmVkQnkoe1xyXG4gICAgICAgIGhvbWVBY2NvdW50SWQsXHJcbiAgICB9KTtcclxuICAgIGlmIChhY2NvdW50KSB7XHJcbiAgICAgICAgbG9nZ2VyLnZlcmJvc2UoXCJnZXRBY2NvdW50QnlIb21lSWQ6IEFjY291bnQgbWF0Y2hpbmcgaG9tZUFjY291bnRJZCBmb3VuZCwgcmV0dXJuaW5nXCIpO1xyXG4gICAgICAgIGxvZ2dlci52ZXJib3NlUGlpKGBnZXRBY2NvdW50QnlIb21lSWQ6IFJldHVybmluZyBzaWduZWQtaW4gYWNjb3VudHMgbWF0Y2hpbmcgaG9tZUFjY291bnRJZDogJHtob21lQWNjb3VudElkfWApO1xyXG4gICAgICAgIHJldHVybiBhY2NvdW50O1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgbG9nZ2VyLnZlcmJvc2UoXCJnZXRBY2NvdW50QnlIb21lSWQ6IE5vIG1hdGNoaW5nIGFjY291bnQgZm91bmQsIHJldHVybmluZyBudWxsXCIpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBzaWduZWQgaW4gYWNjb3VudCBtYXRjaGluZyBsb2NhbEFjY291bnRJZC5cclxuICogKHRoZSBhY2NvdW50IG9iamVjdCBpcyBjcmVhdGVkIGF0IHRoZSB0aW1lIG9mIHN1Y2Nlc3NmdWwgbG9naW4pXHJcbiAqIG9yIG51bGwgd2hlbiBubyBtYXRjaGluZyBhY2NvdW50IGlzIGZvdW5kXHJcbiAqIEBwYXJhbSBsb2NhbEFjY291bnRJZFxyXG4gKiBAcmV0dXJucyBUaGUgYWNjb3VudCBvYmplY3Qgc3RvcmVkIGluIE1TQUxcclxuICovXHJcbmZ1bmN0aW9uIGdldEFjY291bnRCeUxvY2FsSWQobG9jYWxBY2NvdW50SWQsIGxvZ2dlciwgYnJvd3NlclN0b3JhZ2UpIHtcclxuICAgIGxvZ2dlci50cmFjZShcImdldEFjY291bnRCeUxvY2FsSWQgY2FsbGVkXCIpO1xyXG4gICAgaWYgKCFsb2NhbEFjY291bnRJZCkge1xyXG4gICAgICAgIGxvZ2dlci53YXJuaW5nKFwiZ2V0QWNjb3VudEJ5TG9jYWxJZDogTm8gbG9jYWxBY2NvdW50SWQgcHJvdmlkZWRcIik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBjb25zdCBhY2NvdW50ID0gYnJvd3NlclN0b3JhZ2UuZ2V0QWNjb3VudEluZm9GaWx0ZXJlZEJ5KHtcclxuICAgICAgICBsb2NhbEFjY291bnRJZCxcclxuICAgIH0pO1xyXG4gICAgaWYgKGFjY291bnQpIHtcclxuICAgICAgICBsb2dnZXIudmVyYm9zZShcImdldEFjY291bnRCeUxvY2FsSWQ6IEFjY291bnQgbWF0Y2hpbmcgbG9jYWxBY2NvdW50SWQgZm91bmQsIHJldHVybmluZ1wiKTtcclxuICAgICAgICBsb2dnZXIudmVyYm9zZVBpaShgZ2V0QWNjb3VudEJ5TG9jYWxJZDogUmV0dXJuaW5nIHNpZ25lZC1pbiBhY2NvdW50cyBtYXRjaGluZyBsb2NhbEFjY291bnRJZDogJHtsb2NhbEFjY291bnRJZH1gKTtcclxuICAgICAgICByZXR1cm4gYWNjb3VudDtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGxvZ2dlci52ZXJib3NlKFwiZ2V0QWNjb3VudEJ5TG9jYWxJZDogTm8gbWF0Y2hpbmcgYWNjb3VudCBmb3VuZCwgcmV0dXJuaW5nIG51bGxcIik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgdGhlIGFjY291bnQgdG8gdXNlIGFzIHRoZSBhY3RpdmUgYWNjb3VudC4gSWYgbm8gYWNjb3VudCBpcyBwYXNzZWQgdG8gdGhlIGFjcXVpcmVUb2tlbiBBUElzLCB0aGVuIE1TQUwgd2lsbCB1c2UgdGhpcyBhY3RpdmUgYWNjb3VudC5cclxuICogQHBhcmFtIGFjY291bnRcclxuICovXHJcbmZ1bmN0aW9uIHNldEFjdGl2ZUFjY291bnQoYWNjb3VudCwgYnJvd3NlclN0b3JhZ2UpIHtcclxuICAgIGJyb3dzZXJTdG9yYWdlLnNldEFjdGl2ZUFjY291bnQoYWNjb3VudCk7XHJcbn1cclxuLyoqXHJcbiAqIEdldHMgdGhlIGN1cnJlbnRseSBhY3RpdmUgYWNjb3VudFxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0QWN0aXZlQWNjb3VudChicm93c2VyU3RvcmFnZSkge1xyXG4gICAgcmV0dXJuIGJyb3dzZXJTdG9yYWdlLmdldEFjdGl2ZUFjY291bnQoKTtcclxufVxuXG5leHBvcnQgeyBnZXRBY2NvdW50LCBnZXRBY2NvdW50QnlIb21lSWQsIGdldEFjY291bnRCeUxvY2FsSWQsIGdldEFjY291bnRCeVVzZXJuYW1lLCBnZXRBY3RpdmVBY2NvdW50LCBnZXRBbGxBY2NvdW50cywgc2V0QWN0aXZlQWNjb3VudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWNjb3VudE1hbmFnZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbImdldEFsbEFjY291bnRzIiwibG9nZ2VyIiwiYnJvd3NlclN0b3JhZ2UiLCJpc0luQnJvd3NlciIsImFjY291bnRGaWx0ZXIiLCJ2ZXJib3NlIiwiZ2V0QWNjb3VudCIsInRyYWNlIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsIndhcm5pbmciLCJhY2NvdW50IiwiZ2V0QWNjb3VudEluZm9GaWx0ZXJlZEJ5IiwiZ2V0QWNjb3VudEJ5VXNlcm5hbWUiLCJ1c2VybmFtZSIsInZlcmJvc2VQaWkiLCJnZXRBY2NvdW50QnlIb21lSWQiLCJob21lQWNjb3VudElkIiwiZ2V0QWNjb3VudEJ5TG9jYWxJZCIsImxvY2FsQWNjb3VudElkIiwic2V0QWN0aXZlQWNjb3VudCIsImdldEFjdGl2ZUFjY291bnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/cache/AccountManager.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/cache/AsyncMemoryStorage.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/cache/AsyncMemoryStorage.mjs ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AsyncMemoryStorage: () => (/* binding */ AsyncMemoryStorage)\n/* harmony export */ });\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _DatabaseStorage_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./DatabaseStorage.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/cache/DatabaseStorage.mjs\");\n/* harmony import */ var _MemoryStorage_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./MemoryStorage.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/cache/MemoryStorage.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * This class allows MSAL to store artifacts asynchronously using the DatabaseStorage IndexedDB wrapper,\r\n * backed up with the more volatile MemoryStorage object for cases in which IndexedDB may be unavailable.\r\n */ class AsyncMemoryStorage {\n    constructor(logger){\n        this.inMemoryCache = new _MemoryStorage_mjs__WEBPACK_IMPORTED_MODULE_0__.MemoryStorage();\n        this.indexedDBCache = new _DatabaseStorage_mjs__WEBPACK_IMPORTED_MODULE_1__.DatabaseStorage();\n        this.logger = logger;\n    }\n    handleDatabaseAccessError(error) {\n        if (error instanceof _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__.BrowserAuthError && error.errorCode === _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__.databaseUnavailable) {\n            this.logger.error(\"Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.\");\n        } else {\n            throw error;\n        }\n    }\n    /**\r\n     * Get the item matching the given key. Tries in-memory cache first, then in the asynchronous\r\n     * storage object if item isn't found in-memory.\r\n     * @param key\r\n     */ async getItem(key) {\n        const item = this.inMemoryCache.getItem(key);\n        if (!item) {\n            try {\n                this.logger.verbose(\"Queried item not found in in-memory cache, now querying persistent storage.\");\n                return await this.indexedDBCache.getItem(key);\n            } catch (e) {\n                this.handleDatabaseAccessError(e);\n            }\n        }\n        return item;\n    }\n    /**\r\n     * Sets the item in the in-memory cache and then tries to set it in the asynchronous\r\n     * storage object with the given key.\r\n     * @param key\r\n     * @param value\r\n     */ async setItem(key, value) {\n        this.inMemoryCache.setItem(key, value);\n        try {\n            await this.indexedDBCache.setItem(key, value);\n        } catch (e) {\n            this.handleDatabaseAccessError(e);\n        }\n    }\n    /**\r\n     * Removes the item matching the key from the in-memory cache, then tries to remove it from the asynchronous storage object.\r\n     * @param key\r\n     */ async removeItem(key) {\n        this.inMemoryCache.removeItem(key);\n        try {\n            await this.indexedDBCache.removeItem(key);\n        } catch (e) {\n            this.handleDatabaseAccessError(e);\n        }\n    }\n    /**\r\n     * Get all the keys from the in-memory cache as an iterable array of strings. If no keys are found, query the keys in the\r\n     * asynchronous storage object.\r\n     */ async getKeys() {\n        const cacheKeys = this.inMemoryCache.getKeys();\n        if (cacheKeys.length === 0) {\n            try {\n                this.logger.verbose(\"In-memory cache is empty, now querying persistent storage.\");\n                return await this.indexedDBCache.getKeys();\n            } catch (e) {\n                this.handleDatabaseAccessError(e);\n            }\n        }\n        return cacheKeys;\n    }\n    /**\r\n     * Returns true or false if the given key is present in the cache.\r\n     * @param key\r\n     */ async containsKey(key) {\n        const containsKey = this.inMemoryCache.containsKey(key);\n        if (!containsKey) {\n            try {\n                this.logger.verbose(\"Key not found in in-memory cache, now querying persistent storage.\");\n                return await this.indexedDBCache.containsKey(key);\n            } catch (e) {\n                this.handleDatabaseAccessError(e);\n            }\n        }\n        return containsKey;\n    }\n    /**\r\n     * Clears in-memory Map\r\n     */ clearInMemory() {\n        // InMemory cache is a Map instance, clear is straightforward\n        this.logger.verbose(`Deleting in-memory keystore`);\n        this.inMemoryCache.clear();\n        this.logger.verbose(`In-memory keystore deleted`);\n    }\n    /**\r\n     * Tries to delete the IndexedDB database\r\n     * @returns\r\n     */ async clearPersistent() {\n        try {\n            this.logger.verbose(\"Deleting persistent keystore\");\n            const dbDeleted = await this.indexedDBCache.deleteDatabase();\n            if (dbDeleted) {\n                this.logger.verbose(\"Persistent keystore deleted\");\n            }\n            return dbDeleted;\n        } catch (e) {\n            this.handleDatabaseAccessError(e);\n            return false;\n        }\n    }\n}\n //# sourceMappingURL=AsyncMemoryStorage.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NhY2hlL0FzeW5jTWVtb3J5U3RvcmFnZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDaUU7QUFDVDtBQUNKO0FBQ3FCO0FBRXpFOzs7Q0FHQyxHQUNEOzs7Q0FHQyxHQUNELE1BQU1JO0lBQ0ZDLFlBQVlDLE1BQU0sQ0FBRTtRQUNoQixJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJTCw2REFBYUE7UUFDdEMsSUFBSSxDQUFDTSxjQUFjLEdBQUcsSUFBSVAsaUVBQWVBO1FBQ3pDLElBQUksQ0FBQ0ssTUFBTSxHQUFHQTtJQUNsQjtJQUNBRywwQkFBMEJDLEtBQUssRUFBRTtRQUM3QixJQUFJQSxpQkFBaUJWLHlFQUFnQkEsSUFDakNVLE1BQU1DLFNBQVMsS0FBS1IsaUZBQW1CQSxFQUFFO1lBQ3pDLElBQUksQ0FBQ0csTUFBTSxDQUFDSSxLQUFLLENBQUM7UUFDdEIsT0FDSztZQUNELE1BQU1BO1FBQ1Y7SUFDSjtJQUNBOzs7O0tBSUMsR0FDRCxNQUFNRSxRQUFRQyxHQUFHLEVBQUU7UUFDZixNQUFNQyxPQUFPLElBQUksQ0FBQ1AsYUFBYSxDQUFDSyxPQUFPLENBQUNDO1FBQ3hDLElBQUksQ0FBQ0MsTUFBTTtZQUNQLElBQUk7Z0JBQ0EsSUFBSSxDQUFDUixNQUFNLENBQUNTLE9BQU8sQ0FBQztnQkFDcEIsT0FBTyxNQUFNLElBQUksQ0FBQ1AsY0FBYyxDQUFDSSxPQUFPLENBQUNDO1lBQzdDLEVBQ0EsT0FBT0csR0FBRztnQkFDTixJQUFJLENBQUNQLHlCQUF5QixDQUFDTztZQUNuQztRQUNKO1FBQ0EsT0FBT0Y7SUFDWDtJQUNBOzs7OztLQUtDLEdBQ0QsTUFBTUcsUUFBUUosR0FBRyxFQUFFSyxLQUFLLEVBQUU7UUFDdEIsSUFBSSxDQUFDWCxhQUFhLENBQUNVLE9BQU8sQ0FBQ0osS0FBS0s7UUFDaEMsSUFBSTtZQUNBLE1BQU0sSUFBSSxDQUFDVixjQUFjLENBQUNTLE9BQU8sQ0FBQ0osS0FBS0s7UUFDM0MsRUFDQSxPQUFPRixHQUFHO1lBQ04sSUFBSSxDQUFDUCx5QkFBeUIsQ0FBQ087UUFDbkM7SUFDSjtJQUNBOzs7S0FHQyxHQUNELE1BQU1HLFdBQVdOLEdBQUcsRUFBRTtRQUNsQixJQUFJLENBQUNOLGFBQWEsQ0FBQ1ksVUFBVSxDQUFDTjtRQUM5QixJQUFJO1lBQ0EsTUFBTSxJQUFJLENBQUNMLGNBQWMsQ0FBQ1csVUFBVSxDQUFDTjtRQUN6QyxFQUNBLE9BQU9HLEdBQUc7WUFDTixJQUFJLENBQUNQLHlCQUF5QixDQUFDTztRQUNuQztJQUNKO0lBQ0E7OztLQUdDLEdBQ0QsTUFBTUksVUFBVTtRQUNaLE1BQU1DLFlBQVksSUFBSSxDQUFDZCxhQUFhLENBQUNhLE9BQU87UUFDNUMsSUFBSUMsVUFBVUMsTUFBTSxLQUFLLEdBQUc7WUFDeEIsSUFBSTtnQkFDQSxJQUFJLENBQUNoQixNQUFNLENBQUNTLE9BQU8sQ0FBQztnQkFDcEIsT0FBTyxNQUFNLElBQUksQ0FBQ1AsY0FBYyxDQUFDWSxPQUFPO1lBQzVDLEVBQ0EsT0FBT0osR0FBRztnQkFDTixJQUFJLENBQUNQLHlCQUF5QixDQUFDTztZQUNuQztRQUNKO1FBQ0EsT0FBT0s7SUFDWDtJQUNBOzs7S0FHQyxHQUNELE1BQU1FLFlBQVlWLEdBQUcsRUFBRTtRQUNuQixNQUFNVSxjQUFjLElBQUksQ0FBQ2hCLGFBQWEsQ0FBQ2dCLFdBQVcsQ0FBQ1Y7UUFDbkQsSUFBSSxDQUFDVSxhQUFhO1lBQ2QsSUFBSTtnQkFDQSxJQUFJLENBQUNqQixNQUFNLENBQUNTLE9BQU8sQ0FBQztnQkFDcEIsT0FBTyxNQUFNLElBQUksQ0FBQ1AsY0FBYyxDQUFDZSxXQUFXLENBQUNWO1lBQ2pELEVBQ0EsT0FBT0csR0FBRztnQkFDTixJQUFJLENBQUNQLHlCQUF5QixDQUFDTztZQUNuQztRQUNKO1FBQ0EsT0FBT087SUFDWDtJQUNBOztLQUVDLEdBQ0RDLGdCQUFnQjtRQUNaLDZEQUE2RDtRQUM3RCxJQUFJLENBQUNsQixNQUFNLENBQUNTLE9BQU8sQ0FBQyxDQUFDLDJCQUEyQixDQUFDO1FBQ2pELElBQUksQ0FBQ1IsYUFBYSxDQUFDa0IsS0FBSztRQUN4QixJQUFJLENBQUNuQixNQUFNLENBQUNTLE9BQU8sQ0FBQyxDQUFDLDBCQUEwQixDQUFDO0lBQ3BEO0lBQ0E7OztLQUdDLEdBQ0QsTUFBTVcsa0JBQWtCO1FBQ3BCLElBQUk7WUFDQSxJQUFJLENBQUNwQixNQUFNLENBQUNTLE9BQU8sQ0FBQztZQUNwQixNQUFNWSxZQUFZLE1BQU0sSUFBSSxDQUFDbkIsY0FBYyxDQUFDb0IsY0FBYztZQUMxRCxJQUFJRCxXQUFXO2dCQUNYLElBQUksQ0FBQ3JCLE1BQU0sQ0FBQ1MsT0FBTyxDQUFDO1lBQ3hCO1lBQ0EsT0FBT1k7UUFDWCxFQUNBLE9BQU9YLEdBQUc7WUFDTixJQUFJLENBQUNQLHlCQUF5QixDQUFDTztZQUMvQixPQUFPO1FBQ1g7SUFDSjtBQUNKO0FBRThCLENBQzlCLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvY2FjaGUvQXN5bmNNZW1vcnlTdG9yYWdlLm1qcz82MzFmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IERhdGFiYXNlU3RvcmFnZSB9IGZyb20gJy4vRGF0YWJhc2VTdG9yYWdlLm1qcyc7XG5pbXBvcnQgeyBNZW1vcnlTdG9yYWdlIH0gZnJvbSAnLi9NZW1vcnlTdG9yYWdlLm1qcyc7XG5pbXBvcnQgeyBkYXRhYmFzZVVuYXZhaWxhYmxlIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhpcyBjbGFzcyBhbGxvd3MgTVNBTCB0byBzdG9yZSBhcnRpZmFjdHMgYXN5bmNocm9ub3VzbHkgdXNpbmcgdGhlIERhdGFiYXNlU3RvcmFnZSBJbmRleGVkREIgd3JhcHBlcixcclxuICogYmFja2VkIHVwIHdpdGggdGhlIG1vcmUgdm9sYXRpbGUgTWVtb3J5U3RvcmFnZSBvYmplY3QgZm9yIGNhc2VzIGluIHdoaWNoIEluZGV4ZWREQiBtYXkgYmUgdW5hdmFpbGFibGUuXHJcbiAqL1xyXG5jbGFzcyBBc3luY01lbW9yeVN0b3JhZ2Uge1xyXG4gICAgY29uc3RydWN0b3IobG9nZ2VyKSB7XHJcbiAgICAgICAgdGhpcy5pbk1lbW9yeUNhY2hlID0gbmV3IE1lbW9yeVN0b3JhZ2UoKTtcclxuICAgICAgICB0aGlzLmluZGV4ZWREQkNhY2hlID0gbmV3IERhdGFiYXNlU3RvcmFnZSgpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgfVxyXG4gICAgaGFuZGxlRGF0YWJhc2VBY2Nlc3NFcnJvcihlcnJvcikge1xyXG4gICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEJyb3dzZXJBdXRoRXJyb3IgJiZcclxuICAgICAgICAgICAgZXJyb3IuZXJyb3JDb2RlID09PSBkYXRhYmFzZVVuYXZhaWxhYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiQ291bGQgbm90IGFjY2VzcyBwZXJzaXN0ZW50IHN0b3JhZ2UuIFRoaXMgbWF5IGJlIGNhdXNlZCBieSBicm93c2VyIHByaXZhY3kgZmVhdHVyZXMgd2hpY2ggYmxvY2sgcGVyc2lzdGVudCBzdG9yYWdlIGluIHRoaXJkLXBhcnR5IGNvbnRleHRzLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IHRoZSBpdGVtIG1hdGNoaW5nIHRoZSBnaXZlbiBrZXkuIFRyaWVzIGluLW1lbW9yeSBjYWNoZSBmaXJzdCwgdGhlbiBpbiB0aGUgYXN5bmNocm9ub3VzXHJcbiAgICAgKiBzdG9yYWdlIG9iamVjdCBpZiBpdGVtIGlzbid0IGZvdW5kIGluLW1lbW9yeS5cclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0SXRlbShrZXkpIHtcclxuICAgICAgICBjb25zdCBpdGVtID0gdGhpcy5pbk1lbW9yeUNhY2hlLmdldEl0ZW0oa2V5KTtcclxuICAgICAgICBpZiAoIWl0ZW0pIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJRdWVyaWVkIGl0ZW0gbm90IGZvdW5kIGluIGluLW1lbW9yeSBjYWNoZSwgbm93IHF1ZXJ5aW5nIHBlcnNpc3RlbnQgc3RvcmFnZS5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5pbmRleGVkREJDYWNoZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGF0YWJhc2VBY2Nlc3NFcnJvcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaXRlbTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgaXRlbSBpbiB0aGUgaW4tbWVtb3J5IGNhY2hlIGFuZCB0aGVuIHRyaWVzIHRvIHNldCBpdCBpbiB0aGUgYXN5bmNocm9ub3VzXHJcbiAgICAgKiBzdG9yYWdlIG9iamVjdCB3aXRoIHRoZSBnaXZlbiBrZXkuXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc2V0SXRlbShrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5pbk1lbW9yeUNhY2hlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5pbmRleGVkREJDYWNoZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZURhdGFiYXNlQWNjZXNzRXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIHRoZSBpdGVtIG1hdGNoaW5nIHRoZSBrZXkgZnJvbSB0aGUgaW4tbWVtb3J5IGNhY2hlLCB0aGVuIHRyaWVzIHRvIHJlbW92ZSBpdCBmcm9tIHRoZSBhc3luY2hyb25vdXMgc3RvcmFnZSBvYmplY3QuXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlbW92ZUl0ZW0oa2V5KSB7XHJcbiAgICAgICAgdGhpcy5pbk1lbW9yeUNhY2hlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmluZGV4ZWREQkNhY2hlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVEYXRhYmFzZUFjY2Vzc0Vycm9yKGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFsbCB0aGUga2V5cyBmcm9tIHRoZSBpbi1tZW1vcnkgY2FjaGUgYXMgYW4gaXRlcmFibGUgYXJyYXkgb2Ygc3RyaW5ncy4gSWYgbm8ga2V5cyBhcmUgZm91bmQsIHF1ZXJ5IHRoZSBrZXlzIGluIHRoZVxyXG4gICAgICogYXN5bmNocm9ub3VzIHN0b3JhZ2Ugb2JqZWN0LlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRLZXlzKCkge1xyXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5cyA9IHRoaXMuaW5NZW1vcnlDYWNoZS5nZXRLZXlzKCk7XHJcbiAgICAgICAgaWYgKGNhY2hlS2V5cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJJbi1tZW1vcnkgY2FjaGUgaXMgZW1wdHksIG5vdyBxdWVyeWluZyBwZXJzaXN0ZW50IHN0b3JhZ2UuXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuaW5kZXhlZERCQ2FjaGUuZ2V0S2V5cygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZURhdGFiYXNlQWNjZXNzRXJyb3IoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlS2V5cztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIG9yIGZhbHNlIGlmIHRoZSBnaXZlbiBrZXkgaXMgcHJlc2VudCBpbiB0aGUgY2FjaGUuXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGNvbnRhaW5zS2V5KGtleSkge1xyXG4gICAgICAgIGNvbnN0IGNvbnRhaW5zS2V5ID0gdGhpcy5pbk1lbW9yeUNhY2hlLmNvbnRhaW5zS2V5KGtleSk7XHJcbiAgICAgICAgaWYgKCFjb250YWluc0tleSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIktleSBub3QgZm91bmQgaW4gaW4tbWVtb3J5IGNhY2hlLCBub3cgcXVlcnlpbmcgcGVyc2lzdGVudCBzdG9yYWdlLlwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmluZGV4ZWREQkNhY2hlLmNvbnRhaW5zS2V5KGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRGF0YWJhc2VBY2Nlc3NFcnJvcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY29udGFpbnNLZXk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBpbi1tZW1vcnkgTWFwXHJcbiAgICAgKi9cclxuICAgIGNsZWFySW5NZW1vcnkoKSB7XHJcbiAgICAgICAgLy8gSW5NZW1vcnkgY2FjaGUgaXMgYSBNYXAgaW5zdGFuY2UsIGNsZWFyIGlzIHN0cmFpZ2h0Zm9yd2FyZFxyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoYERlbGV0aW5nIGluLW1lbW9yeSBrZXlzdG9yZWApO1xyXG4gICAgICAgIHRoaXMuaW5NZW1vcnlDYWNoZS5jbGVhcigpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoYEluLW1lbW9yeSBrZXlzdG9yZSBkZWxldGVkYCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyaWVzIHRvIGRlbGV0ZSB0aGUgSW5kZXhlZERCIGRhdGFiYXNlXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBjbGVhclBlcnNpc3RlbnQoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkRlbGV0aW5nIHBlcnNpc3RlbnQga2V5c3RvcmVcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IGRiRGVsZXRlZCA9IGF3YWl0IHRoaXMuaW5kZXhlZERCQ2FjaGUuZGVsZXRlRGF0YWJhc2UoKTtcclxuICAgICAgICAgICAgaWYgKGRiRGVsZXRlZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlBlcnNpc3RlbnQga2V5c3RvcmUgZGVsZXRlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZGJEZWxldGVkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZURhdGFiYXNlQWNjZXNzRXJyb3IoZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgQXN5bmNNZW1vcnlTdG9yYWdlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY01lbW9yeVN0b3JhZ2UubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkJyb3dzZXJBdXRoRXJyb3IiLCJEYXRhYmFzZVN0b3JhZ2UiLCJNZW1vcnlTdG9yYWdlIiwiZGF0YWJhc2VVbmF2YWlsYWJsZSIsIkFzeW5jTWVtb3J5U3RvcmFnZSIsImNvbnN0cnVjdG9yIiwibG9nZ2VyIiwiaW5NZW1vcnlDYWNoZSIsImluZGV4ZWREQkNhY2hlIiwiaGFuZGxlRGF0YWJhc2VBY2Nlc3NFcnJvciIsImVycm9yIiwiZXJyb3JDb2RlIiwiZ2V0SXRlbSIsImtleSIsIml0ZW0iLCJ2ZXJib3NlIiwiZSIsInNldEl0ZW0iLCJ2YWx1ZSIsInJlbW92ZUl0ZW0iLCJnZXRLZXlzIiwiY2FjaGVLZXlzIiwibGVuZ3RoIiwiY29udGFpbnNLZXkiLCJjbGVhckluTWVtb3J5IiwiY2xlYXIiLCJjbGVhclBlcnNpc3RlbnQiLCJkYkRlbGV0ZWQiLCJkZWxldGVEYXRhYmFzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/cache/AsyncMemoryStorage.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/cache/BrowserCacheManager.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/cache/BrowserCacheManager.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BrowserCacheManager: () => (/* binding */ BrowserCacheManager),\n/* harmony export */   DEFAULT_BROWSER_CACHE_MANAGER: () => (/* binding */ DEFAULT_BROWSER_CACHE_MANAGER)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/CacheManager.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/utils/CacheHelpers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/entities/AccountEntity.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/StringUtils.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/ProtocolUtils.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/CcsCredential.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AuthToken.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/CacheError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/crypto/ICrypto.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _LocalStorage_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LocalStorage.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/cache/LocalStorage.mjs\");\n/* harmony import */ var _SessionStorage_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SessionStorage.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/cache/SessionStorage.mjs\");\n/* harmony import */ var _MemoryStorage_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./MemoryStorage.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/cache/MemoryStorage.mjs\");\n/* harmony import */ var _utils_BrowserProtocolUtils_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../utils/BrowserProtocolUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserProtocolUtils.mjs\");\n/* harmony import */ var _encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../encode/Base64Decode.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/encode/Base64Decode.mjs\");\n/* harmony import */ var _encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../encode/Base64Encode.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/encode/Base64Encode.mjs\");\n/* harmony import */ var _CookieStorage_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CookieStorage.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/cache/CookieStorage.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * This class implements the cache storage interface for MSAL through browser local or session storage.\r\n * Cookies are only used if storeAuthStateInCookie is true, and are only used for\r\n * parameters such as state and nonce, generally.\r\n */ class BrowserCacheManager extends _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.CacheManager {\n    constructor(clientId, cacheConfig, cryptoImpl, logger, staticAuthorityOptions, performanceClient){\n        super(clientId, cryptoImpl, logger, staticAuthorityOptions);\n        this.cacheConfig = cacheConfig;\n        this.logger = logger;\n        this.internalStorage = new _MemoryStorage_mjs__WEBPACK_IMPORTED_MODULE_1__.MemoryStorage();\n        this.browserStorage = this.setupBrowserStorage(this.cacheConfig.cacheLocation);\n        this.temporaryCacheStorage = this.setupBrowserStorage(this.cacheConfig.temporaryCacheLocation);\n        this.cookieStorage = new _CookieStorage_mjs__WEBPACK_IMPORTED_MODULE_2__.CookieStorage();\n        // Migrate cache entries from older versions of MSAL.\n        if (cacheConfig.cacheMigrationEnabled) {\n            this.migrateCacheEntries();\n            this.createKeyMaps();\n        }\n        this.performanceClient = performanceClient;\n    }\n    /**\r\n     * Returns a window storage class implementing the IWindowStorage interface that corresponds to the configured cacheLocation.\r\n     * @param cacheLocation\r\n     */ setupBrowserStorage(cacheLocation) {\n        try {\n            switch(cacheLocation){\n                case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.BrowserCacheLocation.LocalStorage:\n                    return new _LocalStorage_mjs__WEBPACK_IMPORTED_MODULE_4__.LocalStorage();\n                case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.BrowserCacheLocation.SessionStorage:\n                    return new _SessionStorage_mjs__WEBPACK_IMPORTED_MODULE_5__.SessionStorage();\n                case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.BrowserCacheLocation.MemoryStorage:\n                default:\n                    break;\n            }\n        } catch (e) {\n            this.logger.error(e);\n        }\n        this.cacheConfig.cacheLocation = _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.BrowserCacheLocation.MemoryStorage;\n        return new _MemoryStorage_mjs__WEBPACK_IMPORTED_MODULE_1__.MemoryStorage();\n    }\n    /**\r\n     * Migrate all old cache entries to new schema. No rollback supported.\r\n     * @param storeAuthStateInCookie\r\n     */ migrateCacheEntries() {\n        const idTokenKey = `${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.CACHE_PREFIX}.${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ID_TOKEN}`;\n        const clientInfoKey = `${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.CACHE_PREFIX}.${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.CLIENT_INFO}`;\n        const errorKey = `${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.CACHE_PREFIX}.${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ERROR}`;\n        const errorDescKey = `${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.CACHE_PREFIX}.${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ERROR_DESC}`;\n        const idTokenValue = this.browserStorage.getItem(idTokenKey);\n        const clientInfoValue = this.browserStorage.getItem(clientInfoKey);\n        const errorValue = this.browserStorage.getItem(errorKey);\n        const errorDescValue = this.browserStorage.getItem(errorDescKey);\n        const values = [\n            idTokenValue,\n            clientInfoValue,\n            errorValue,\n            errorDescValue\n        ];\n        const keysToMigrate = [\n            _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ID_TOKEN,\n            _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.CLIENT_INFO,\n            _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ERROR,\n            _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ERROR_DESC\n        ];\n        keysToMigrate.forEach((cacheKey, index)=>{\n            const value = values[index];\n            if (value) {\n                this.setTemporaryCache(cacheKey, value, true);\n            }\n        });\n    }\n    /**\r\n     * Searches all cache entries for MSAL accounts and creates the account key map\r\n     * This is used to migrate users from older versions of MSAL which did not create the map.\r\n     * @returns\r\n     */ createKeyMaps() {\n        this.logger.trace(\"BrowserCacheManager - createKeyMaps called.\");\n        const accountKeys = this.getItem(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.StaticCacheKeys.ACCOUNT_KEYS);\n        const tokenKeys = this.getItem(`${_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.StaticCacheKeys.TOKEN_KEYS}.${this.clientId}`);\n        if (accountKeys && tokenKeys) {\n            this.logger.verbose(\"BrowserCacheManager:createKeyMaps - account and token key maps already exist, skipping migration.\");\n            // Key maps already exist, no need to iterate through cache\n            return;\n        }\n        const allKeys = this.browserStorage.getKeys();\n        allKeys.forEach((key)=>{\n            if (this.isCredentialKey(key)) {\n                // Get item, parse, validate and write key to map\n                const value = this.getItem(key);\n                if (value) {\n                    const credObj = this.validateAndParseJson(value);\n                    if (credObj && credObj.hasOwnProperty(\"credentialType\")) {\n                        switch(credObj[\"credentialType\"]){\n                            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ID_TOKEN:\n                                if (_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.isIdTokenEntity(credObj)) {\n                                    this.logger.trace(\"BrowserCacheManager:createKeyMaps - idToken found, saving key to token key map\");\n                                    this.logger.tracePii(`BrowserCacheManager:createKeyMaps - idToken with key: ${key} found, saving key to token key map`);\n                                    const idTokenEntity = credObj;\n                                    const newKey = this.updateCredentialCacheKey(key, idTokenEntity);\n                                    this.addTokenKey(newKey, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ID_TOKEN);\n                                    return;\n                                } else {\n                                    this.logger.trace(\"BrowserCacheManager:createKeyMaps - key found matching idToken schema with value containing idToken credentialType field but value failed IdTokenEntity validation, skipping.\");\n                                    this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed idToken validation on key: ${key}`);\n                                }\n                                break;\n                            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ACCESS_TOKEN:\n                            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME:\n                                if (_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.isAccessTokenEntity(credObj)) {\n                                    this.logger.trace(\"BrowserCacheManager:createKeyMaps - accessToken found, saving key to token key map\");\n                                    this.logger.tracePii(`BrowserCacheManager:createKeyMaps - accessToken with key: ${key} found, saving key to token key map`);\n                                    const accessTokenEntity = credObj;\n                                    const newKey = this.updateCredentialCacheKey(key, accessTokenEntity);\n                                    this.addTokenKey(newKey, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ACCESS_TOKEN);\n                                    return;\n                                } else {\n                                    this.logger.trace(\"BrowserCacheManager:createKeyMaps - key found matching accessToken schema with value containing accessToken credentialType field but value failed AccessTokenEntity validation, skipping.\");\n                                    this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed accessToken validation on key: ${key}`);\n                                }\n                                break;\n                            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.REFRESH_TOKEN:\n                                if (_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.isRefreshTokenEntity(credObj)) {\n                                    this.logger.trace(\"BrowserCacheManager:createKeyMaps - refreshToken found, saving key to token key map\");\n                                    this.logger.tracePii(`BrowserCacheManager:createKeyMaps - refreshToken with key: ${key} found, saving key to token key map`);\n                                    const refreshTokenEntity = credObj;\n                                    const newKey = this.updateCredentialCacheKey(key, refreshTokenEntity);\n                                    this.addTokenKey(newKey, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.REFRESH_TOKEN);\n                                    return;\n                                } else {\n                                    this.logger.trace(\"BrowserCacheManager:createKeyMaps - key found matching refreshToken schema with value containing refreshToken credentialType field but value failed RefreshTokenEntity validation, skipping.\");\n                                    this.logger.tracePii(`BrowserCacheManager:createKeyMaps - failed refreshToken validation on key: ${key}`);\n                                }\n                                break;\n                        }\n                    }\n                }\n            }\n            if (this.isAccountKey(key)) {\n                const value = this.getItem(key);\n                if (value) {\n                    const accountObj = this.validateAndParseJson(value);\n                    if (accountObj && _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.AccountEntity.isAccountEntity(accountObj)) {\n                        this.logger.trace(\"BrowserCacheManager:createKeyMaps - account found, saving key to account key map\");\n                        this.logger.tracePii(`BrowserCacheManager:createKeyMaps - account with key: ${key} found, saving key to account key map`);\n                        this.addAccountKeyToMap(key);\n                    }\n                }\n            }\n        });\n    }\n    /**\r\n     * Parses passed value as JSON object, JSON.parse() will throw an error.\r\n     * @param input\r\n     */ validateAndParseJson(jsonValue) {\n        try {\n            const parsedJson = JSON.parse(jsonValue);\n            /**\r\n             * There are edge cases in which JSON.parse will successfully parse a non-valid JSON object\r\n             * (e.g. JSON.parse will parse an escaped string into an unescaped string), so adding a type check\r\n             * of the parsed value is necessary in order to be certain that the string represents a valid JSON object.\r\n             *\r\n             */ return parsedJson && typeof parsedJson === \"object\" ? parsedJson : null;\n        } catch (error) {\n            return null;\n        }\n    }\n    /**\r\n     * fetches the entry from the browser storage based off the key\r\n     * @param key\r\n     */ getItem(key) {\n        return this.browserStorage.getItem(key);\n    }\n    /**\r\n     * sets the entry in the browser storage\r\n     * @param key\r\n     * @param value\r\n     */ setItem(key, value) {\n        this.browserStorage.setItem(key, value);\n    }\n    /**\r\n     * fetch the account entity from the platform cache\r\n     * @param accountKey\r\n     */ getAccount(accountKey, logger) {\n        this.logger.trace(\"BrowserCacheManager.getAccount called\");\n        const accountEntity = this.getCachedAccountEntity(accountKey);\n        return this.updateOutdatedCachedAccount(accountKey, accountEntity, logger);\n    }\n    /**\r\n     * Reads account from cache, deserializes it into an account entity and returns it.\r\n     * If account is not found from the key, returns null and removes key from map.\r\n     * @param accountKey\r\n     * @returns\r\n     */ getCachedAccountEntity(accountKey) {\n        const serializedAccount = this.getItem(accountKey);\n        if (!serializedAccount) {\n            this.removeAccountKeyFromMap(accountKey);\n            return null;\n        }\n        const parsedAccount = this.validateAndParseJson(serializedAccount);\n        if (!parsedAccount || !_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.AccountEntity.isAccountEntity(parsedAccount)) {\n            this.removeAccountKeyFromMap(accountKey);\n            return null;\n        }\n        return _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.CacheManager.toObject(new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.AccountEntity(), parsedAccount);\n    }\n    /**\r\n     * set account entity in the platform cache\r\n     * @param account\r\n     */ setAccount(account) {\n        this.logger.trace(\"BrowserCacheManager.setAccount called\");\n        const key = account.generateAccountKey();\n        this.setItem(key, JSON.stringify(account));\n        this.addAccountKeyToMap(key);\n    }\n    /**\r\n     * Returns the array of account keys currently cached\r\n     * @returns\r\n     */ getAccountKeys() {\n        this.logger.trace(\"BrowserCacheManager.getAccountKeys called\");\n        const accountKeys = this.getItem(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.StaticCacheKeys.ACCOUNT_KEYS);\n        if (accountKeys) {\n            return JSON.parse(accountKeys);\n        }\n        this.logger.verbose(\"BrowserCacheManager.getAccountKeys - No account keys found\");\n        return [];\n    }\n    /**\r\n     * Add a new account to the key map\r\n     * @param key\r\n     */ addAccountKeyToMap(key) {\n        this.logger.trace(\"BrowserCacheManager.addAccountKeyToMap called\");\n        this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${key}`);\n        const accountKeys = this.getAccountKeys();\n        if (accountKeys.indexOf(key) === -1) {\n            // Only add key if it does not already exist in the map\n            accountKeys.push(key);\n            this.setItem(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.StaticCacheKeys.ACCOUNT_KEYS, JSON.stringify(accountKeys));\n            this.logger.verbose(\"BrowserCacheManager.addAccountKeyToMap account key added\");\n        } else {\n            this.logger.verbose(\"BrowserCacheManager.addAccountKeyToMap account key already exists in map\");\n        }\n    }\n    /**\r\n     * Remove an account from the key map\r\n     * @param key\r\n     */ removeAccountKeyFromMap(key) {\n        this.logger.trace(\"BrowserCacheManager.removeAccountKeyFromMap called\");\n        this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${key}`);\n        const accountKeys = this.getAccountKeys();\n        const removalIndex = accountKeys.indexOf(key);\n        if (removalIndex > -1) {\n            accountKeys.splice(removalIndex, 1);\n            this.setItem(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.StaticCacheKeys.ACCOUNT_KEYS, JSON.stringify(accountKeys));\n            this.logger.trace(\"BrowserCacheManager.removeAccountKeyFromMap account key removed\");\n        } else {\n            this.logger.trace(\"BrowserCacheManager.removeAccountKeyFromMap key not found in existing map\");\n        }\n    }\n    /**\r\n     * Extends inherited removeAccount function to include removal of the account key from the map\r\n     * @param key\r\n     */ async removeAccount(key) {\n        void super.removeAccount(key);\n        this.removeAccountKeyFromMap(key);\n    }\n    /**\r\n     * Remove account entity from the platform cache if it's outdated\r\n     * @param accountKey\r\n     */ removeOutdatedAccount(accountKey) {\n        this.removeItem(accountKey);\n        this.removeAccountKeyFromMap(accountKey);\n    }\n    /**\r\n     * Removes given idToken from the cache and from the key map\r\n     * @param key\r\n     */ removeIdToken(key) {\n        super.removeIdToken(key);\n        this.removeTokenKey(key, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ID_TOKEN);\n    }\n    /**\r\n     * Removes given accessToken from the cache and from the key map\r\n     * @param key\r\n     */ async removeAccessToken(key) {\n        void super.removeAccessToken(key);\n        this.removeTokenKey(key, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ACCESS_TOKEN);\n    }\n    /**\r\n     * Removes given refreshToken from the cache and from the key map\r\n     * @param key\r\n     */ removeRefreshToken(key) {\n        super.removeRefreshToken(key);\n        this.removeTokenKey(key, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.REFRESH_TOKEN);\n    }\n    /**\r\n     * Gets the keys for the cached tokens associated with this clientId\r\n     * @returns\r\n     */ getTokenKeys() {\n        this.logger.trace(\"BrowserCacheManager.getTokenKeys called\");\n        const item = this.getItem(`${_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.StaticCacheKeys.TOKEN_KEYS}.${this.clientId}`);\n        if (item) {\n            const tokenKeys = this.validateAndParseJson(item);\n            if (tokenKeys && tokenKeys.hasOwnProperty(\"idToken\") && tokenKeys.hasOwnProperty(\"accessToken\") && tokenKeys.hasOwnProperty(\"refreshToken\")) {\n                return tokenKeys;\n            } else {\n                this.logger.error(\"BrowserCacheManager.getTokenKeys - Token keys found but in an unknown format. Returning empty key map.\");\n            }\n        } else {\n            this.logger.verbose(\"BrowserCacheManager.getTokenKeys - No token keys found\");\n        }\n        return {\n            idToken: [],\n            accessToken: [],\n            refreshToken: []\n        };\n    }\n    /**\r\n     * Adds the given key to the token key map\r\n     * @param key\r\n     * @param type\r\n     */ addTokenKey(key, type) {\n        this.logger.trace(\"BrowserCacheManager addTokenKey called\");\n        const tokenKeys = this.getTokenKeys();\n        switch(type){\n            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ID_TOKEN:\n                if (tokenKeys.idToken.indexOf(key) === -1) {\n                    this.logger.info(\"BrowserCacheManager: addTokenKey - idToken added to map\");\n                    tokenKeys.idToken.push(key);\n                }\n                break;\n            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ACCESS_TOKEN:\n                if (tokenKeys.accessToken.indexOf(key) === -1) {\n                    this.logger.info(\"BrowserCacheManager: addTokenKey - accessToken added to map\");\n                    tokenKeys.accessToken.push(key);\n                }\n                break;\n            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.REFRESH_TOKEN:\n                if (tokenKeys.refreshToken.indexOf(key) === -1) {\n                    this.logger.info(\"BrowserCacheManager: addTokenKey - refreshToken added to map\");\n                    tokenKeys.refreshToken.push(key);\n                }\n                break;\n            default:\n                this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${type}`);\n                throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.createClientAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.unexpectedCredentialType);\n        }\n        this.setItem(`${_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.StaticCacheKeys.TOKEN_KEYS}.${this.clientId}`, JSON.stringify(tokenKeys));\n    }\n    /**\r\n     * Removes the given key from the token key map\r\n     * @param key\r\n     * @param type\r\n     */ removeTokenKey(key, type) {\n        this.logger.trace(\"BrowserCacheManager removeTokenKey called\");\n        const tokenKeys = this.getTokenKeys();\n        switch(type){\n            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ID_TOKEN:\n                this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${key} from map`);\n                const idRemoval = tokenKeys.idToken.indexOf(key);\n                if (idRemoval > -1) {\n                    this.logger.info(\"BrowserCacheManager: removeTokenKey - idToken removed from map\");\n                    tokenKeys.idToken.splice(idRemoval, 1);\n                } else {\n                    this.logger.info(\"BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.\");\n                }\n                break;\n            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ACCESS_TOKEN:\n                this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${key} from map`);\n                const accessRemoval = tokenKeys.accessToken.indexOf(key);\n                if (accessRemoval > -1) {\n                    this.logger.info(\"BrowserCacheManager: removeTokenKey - accessToken removed from map\");\n                    tokenKeys.accessToken.splice(accessRemoval, 1);\n                } else {\n                    this.logger.info(\"BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.\");\n                }\n                break;\n            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.REFRESH_TOKEN:\n                this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${key} from map`);\n                const refreshRemoval = tokenKeys.refreshToken.indexOf(key);\n                if (refreshRemoval > -1) {\n                    this.logger.info(\"BrowserCacheManager: removeTokenKey - refreshToken removed from map\");\n                    tokenKeys.refreshToken.splice(refreshRemoval, 1);\n                } else {\n                    this.logger.info(\"BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.\");\n                }\n                break;\n            default:\n                this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${type}`);\n                throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.createClientAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.unexpectedCredentialType);\n        }\n        this.setItem(`${_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.StaticCacheKeys.TOKEN_KEYS}.${this.clientId}`, JSON.stringify(tokenKeys));\n    }\n    /**\r\n     * generates idToken entity from a string\r\n     * @param idTokenKey\r\n     */ getIdTokenCredential(idTokenKey) {\n        const value = this.getItem(idTokenKey);\n        if (!value) {\n            this.logger.trace(\"BrowserCacheManager.getIdTokenCredential: called, no cache hit\");\n            this.removeTokenKey(idTokenKey, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ID_TOKEN);\n            return null;\n        }\n        const parsedIdToken = this.validateAndParseJson(value);\n        if (!parsedIdToken || !_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.isIdTokenEntity(parsedIdToken)) {\n            this.logger.trace(\"BrowserCacheManager.getIdTokenCredential: called, no cache hit\");\n            this.removeTokenKey(idTokenKey, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ID_TOKEN);\n            return null;\n        }\n        this.logger.trace(\"BrowserCacheManager.getIdTokenCredential: cache hit\");\n        return parsedIdToken;\n    }\n    /**\r\n     * set IdToken credential to the platform cache\r\n     * @param idToken\r\n     */ setIdTokenCredential(idToken) {\n        this.logger.trace(\"BrowserCacheManager.setIdTokenCredential called\");\n        const idTokenKey = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.generateCredentialKey(idToken);\n        this.setItem(idTokenKey, JSON.stringify(idToken));\n        this.addTokenKey(idTokenKey, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ID_TOKEN);\n    }\n    /**\r\n     * generates accessToken entity from a string\r\n     * @param key\r\n     */ getAccessTokenCredential(accessTokenKey) {\n        const value = this.getItem(accessTokenKey);\n        if (!value) {\n            this.logger.trace(\"BrowserCacheManager.getAccessTokenCredential: called, no cache hit\");\n            this.removeTokenKey(accessTokenKey, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ACCESS_TOKEN);\n            return null;\n        }\n        const parsedAccessToken = this.validateAndParseJson(value);\n        if (!parsedAccessToken || !_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.isAccessTokenEntity(parsedAccessToken)) {\n            this.logger.trace(\"BrowserCacheManager.getAccessTokenCredential: called, no cache hit\");\n            this.removeTokenKey(accessTokenKey, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ACCESS_TOKEN);\n            return null;\n        }\n        this.logger.trace(\"BrowserCacheManager.getAccessTokenCredential: cache hit\");\n        return parsedAccessToken;\n    }\n    /**\r\n     * set accessToken credential to the platform cache\r\n     * @param accessToken\r\n     */ setAccessTokenCredential(accessToken) {\n        this.logger.trace(\"BrowserCacheManager.setAccessTokenCredential called\");\n        const accessTokenKey = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.generateCredentialKey(accessToken);\n        this.setItem(accessTokenKey, JSON.stringify(accessToken));\n        this.addTokenKey(accessTokenKey, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.ACCESS_TOKEN);\n    }\n    /**\r\n     * generates refreshToken entity from a string\r\n     * @param refreshTokenKey\r\n     */ getRefreshTokenCredential(refreshTokenKey) {\n        const value = this.getItem(refreshTokenKey);\n        if (!value) {\n            this.logger.trace(\"BrowserCacheManager.getRefreshTokenCredential: called, no cache hit\");\n            this.removeTokenKey(refreshTokenKey, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.REFRESH_TOKEN);\n            return null;\n        }\n        const parsedRefreshToken = this.validateAndParseJson(value);\n        if (!parsedRefreshToken || !_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.isRefreshTokenEntity(parsedRefreshToken)) {\n            this.logger.trace(\"BrowserCacheManager.getRefreshTokenCredential: called, no cache hit\");\n            this.removeTokenKey(refreshTokenKey, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.REFRESH_TOKEN);\n            return null;\n        }\n        this.logger.trace(\"BrowserCacheManager.getRefreshTokenCredential: cache hit\");\n        return parsedRefreshToken;\n    }\n    /**\r\n     * set refreshToken credential to the platform cache\r\n     * @param refreshToken\r\n     */ setRefreshTokenCredential(refreshToken) {\n        this.logger.trace(\"BrowserCacheManager.setRefreshTokenCredential called\");\n        const refreshTokenKey = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.generateCredentialKey(refreshToken);\n        this.setItem(refreshTokenKey, JSON.stringify(refreshToken));\n        this.addTokenKey(refreshTokenKey, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.CredentialType.REFRESH_TOKEN);\n    }\n    /**\r\n     * fetch appMetadata entity from the platform cache\r\n     * @param appMetadataKey\r\n     */ getAppMetadata(appMetadataKey) {\n        const value = this.getItem(appMetadataKey);\n        if (!value) {\n            this.logger.trace(\"BrowserCacheManager.getAppMetadata: called, no cache hit\");\n            return null;\n        }\n        const parsedMetadata = this.validateAndParseJson(value);\n        if (!parsedMetadata || !_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.isAppMetadataEntity(appMetadataKey, parsedMetadata)) {\n            this.logger.trace(\"BrowserCacheManager.getAppMetadata: called, no cache hit\");\n            return null;\n        }\n        this.logger.trace(\"BrowserCacheManager.getAppMetadata: cache hit\");\n        return parsedMetadata;\n    }\n    /**\r\n     * set appMetadata entity to the platform cache\r\n     * @param appMetadata\r\n     */ setAppMetadata(appMetadata) {\n        this.logger.trace(\"BrowserCacheManager.setAppMetadata called\");\n        const appMetadataKey = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.generateAppMetadataKey(appMetadata);\n        this.setItem(appMetadataKey, JSON.stringify(appMetadata));\n    }\n    /**\r\n     * fetch server telemetry entity from the platform cache\r\n     * @param serverTelemetryKey\r\n     */ getServerTelemetry(serverTelemetryKey) {\n        const value = this.getItem(serverTelemetryKey);\n        if (!value) {\n            this.logger.trace(\"BrowserCacheManager.getServerTelemetry: called, no cache hit\");\n            return null;\n        }\n        const parsedEntity = this.validateAndParseJson(value);\n        if (!parsedEntity || !_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.isServerTelemetryEntity(serverTelemetryKey, parsedEntity)) {\n            this.logger.trace(\"BrowserCacheManager.getServerTelemetry: called, no cache hit\");\n            return null;\n        }\n        this.logger.trace(\"BrowserCacheManager.getServerTelemetry: cache hit\");\n        return parsedEntity;\n    }\n    /**\r\n     * set server telemetry entity to the platform cache\r\n     * @param serverTelemetryKey\r\n     * @param serverTelemetry\r\n     */ setServerTelemetry(serverTelemetryKey, serverTelemetry) {\n        this.logger.trace(\"BrowserCacheManager.setServerTelemetry called\");\n        this.setItem(serverTelemetryKey, JSON.stringify(serverTelemetry));\n    }\n    /**\r\n     *\r\n     */ getAuthorityMetadata(key) {\n        const value = this.internalStorage.getItem(key);\n        if (!value) {\n            this.logger.trace(\"BrowserCacheManager.getAuthorityMetadata: called, no cache hit\");\n            return null;\n        }\n        const parsedMetadata = this.validateAndParseJson(value);\n        if (parsedMetadata && _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.isAuthorityMetadataEntity(key, parsedMetadata)) {\n            this.logger.trace(\"BrowserCacheManager.getAuthorityMetadata: cache hit\");\n            return parsedMetadata;\n        }\n        return null;\n    }\n    /**\r\n     *\r\n     */ getAuthorityMetadataKeys() {\n        const allKeys = this.internalStorage.getKeys();\n        return allKeys.filter((key)=>{\n            return this.isAuthorityMetadata(key);\n        });\n    }\n    /**\r\n     * Sets wrapper metadata in memory\r\n     * @param wrapperSKU\r\n     * @param wrapperVersion\r\n     */ setWrapperMetadata(wrapperSKU, wrapperVersion) {\n        this.internalStorage.setItem(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InMemoryCacheKeys.WRAPPER_SKU, wrapperSKU);\n        this.internalStorage.setItem(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InMemoryCacheKeys.WRAPPER_VER, wrapperVersion);\n    }\n    /**\r\n     * Returns wrapper metadata from in-memory storage\r\n     */ getWrapperMetadata() {\n        const sku = this.internalStorage.getItem(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InMemoryCacheKeys.WRAPPER_SKU) || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.EMPTY_STRING;\n        const version = this.internalStorage.getItem(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InMemoryCacheKeys.WRAPPER_VER) || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.EMPTY_STRING;\n        return [\n            sku,\n            version\n        ];\n    }\n    /**\r\n     *\r\n     * @param entity\r\n     */ setAuthorityMetadata(key, entity) {\n        this.logger.trace(\"BrowserCacheManager.setAuthorityMetadata called\");\n        this.internalStorage.setItem(key, JSON.stringify(entity));\n    }\n    /**\r\n     * Gets the active account\r\n     */ getActiveAccount() {\n        const activeAccountKeyFilters = this.generateCacheKey(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ACTIVE_ACCOUNT_FILTERS);\n        const activeAccountValueFilters = this.getItem(activeAccountKeyFilters);\n        if (!activeAccountValueFilters) {\n            // if new active account cache type isn't found, it's an old version, so look for that instead\n            this.logger.trace(\"BrowserCacheManager.getActiveAccount: No active account filters cache schema found, looking for legacy schema\");\n            const activeAccountKeyLocal = this.generateCacheKey(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ACTIVE_ACCOUNT);\n            const activeAccountValueLocal = this.getItem(activeAccountKeyLocal);\n            if (!activeAccountValueLocal) {\n                this.logger.trace(\"BrowserCacheManager.getActiveAccount: No active account found\");\n                return null;\n            }\n            const activeAccount = this.getAccountInfoFilteredBy({\n                localAccountId: activeAccountValueLocal\n            });\n            if (activeAccount) {\n                this.logger.trace(\"BrowserCacheManager.getActiveAccount: Legacy active account cache schema found\");\n                this.logger.trace(\"BrowserCacheManager.getActiveAccount: Adding active account filters cache schema\");\n                this.setActiveAccount(activeAccount);\n                return activeAccount;\n            }\n            return null;\n        }\n        const activeAccountValueObj = this.validateAndParseJson(activeAccountValueFilters);\n        if (activeAccountValueObj) {\n            this.logger.trace(\"BrowserCacheManager.getActiveAccount: Active account filters schema found\");\n            return this.getAccountInfoFilteredBy({\n                homeAccountId: activeAccountValueObj.homeAccountId,\n                localAccountId: activeAccountValueObj.localAccountId,\n                tenantId: activeAccountValueObj.tenantId\n            });\n        }\n        this.logger.trace(\"BrowserCacheManager.getActiveAccount: No active account found\");\n        return null;\n    }\n    /**\r\n     * Sets the active account's localAccountId in cache\r\n     * @param account\r\n     */ setActiveAccount(account) {\n        const activeAccountKey = this.generateCacheKey(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ACTIVE_ACCOUNT_FILTERS);\n        const activeAccountKeyLocal = this.generateCacheKey(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ACTIVE_ACCOUNT);\n        if (account) {\n            this.logger.verbose(\"setActiveAccount: Active account set\");\n            const activeAccountValue = {\n                homeAccountId: account.homeAccountId,\n                localAccountId: account.localAccountId,\n                tenantId: account.tenantId\n            };\n            this.browserStorage.setItem(activeAccountKey, JSON.stringify(activeAccountValue));\n            this.browserStorage.setItem(activeAccountKeyLocal, account.localAccountId);\n        } else {\n            this.logger.verbose(\"setActiveAccount: No account passed, active account not set\");\n            this.browserStorage.removeItem(activeAccountKey);\n            this.browserStorage.removeItem(activeAccountKeyLocal);\n        }\n    }\n    /**\r\n     * fetch throttling entity from the platform cache\r\n     * @param throttlingCacheKey\r\n     */ getThrottlingCache(throttlingCacheKey) {\n        const value = this.getItem(throttlingCacheKey);\n        if (!value) {\n            this.logger.trace(\"BrowserCacheManager.getThrottlingCache: called, no cache hit\");\n            return null;\n        }\n        const parsedThrottlingCache = this.validateAndParseJson(value);\n        if (!parsedThrottlingCache || !_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.isThrottlingEntity(throttlingCacheKey, parsedThrottlingCache)) {\n            this.logger.trace(\"BrowserCacheManager.getThrottlingCache: called, no cache hit\");\n            return null;\n        }\n        this.logger.trace(\"BrowserCacheManager.getThrottlingCache: cache hit\");\n        return parsedThrottlingCache;\n    }\n    /**\r\n     * set throttling entity to the platform cache\r\n     * @param throttlingCacheKey\r\n     * @param throttlingCache\r\n     */ setThrottlingCache(throttlingCacheKey, throttlingCache) {\n        this.logger.trace(\"BrowserCacheManager.setThrottlingCache called\");\n        this.setItem(throttlingCacheKey, JSON.stringify(throttlingCache));\n    }\n    /**\r\n     * Gets cache item with given key.\r\n     * Will retrieve from cookies if storeAuthStateInCookie is set to true.\r\n     * @param key\r\n     */ getTemporaryCache(cacheKey, generateKey) {\n        const key = generateKey ? this.generateCacheKey(cacheKey) : cacheKey;\n        if (this.cacheConfig.storeAuthStateInCookie) {\n            const itemCookie = this.cookieStorage.getItem(key);\n            if (itemCookie) {\n                this.logger.trace(\"BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies\");\n                return itemCookie;\n            }\n        }\n        const value = this.temporaryCacheStorage.getItem(key);\n        if (!value) {\n            // If temp cache item not found in session/memory, check local storage for items set by old versions\n            if (this.cacheConfig.cacheLocation === _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.BrowserCacheLocation.LocalStorage) {\n                const item = this.browserStorage.getItem(key);\n                if (item) {\n                    this.logger.trace(\"BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage\");\n                    return item;\n                }\n            }\n            this.logger.trace(\"BrowserCacheManager.getTemporaryCache: No cache item found in local storage\");\n            return null;\n        }\n        this.logger.trace(\"BrowserCacheManager.getTemporaryCache: Temporary cache item returned\");\n        return value;\n    }\n    /**\r\n     * Sets the cache item with the key and value given.\r\n     * Stores in cookie if storeAuthStateInCookie is set to true.\r\n     * This can cause cookie overflow if used incorrectly.\r\n     * @param key\r\n     * @param value\r\n     */ setTemporaryCache(cacheKey, value, generateKey) {\n        const key = generateKey ? this.generateCacheKey(cacheKey) : cacheKey;\n        this.temporaryCacheStorage.setItem(key, value);\n        if (this.cacheConfig.storeAuthStateInCookie) {\n            this.logger.trace(\"BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie\");\n            this.cookieStorage.setItem(key, value, undefined, this.cacheConfig.secureCookies);\n        }\n    }\n    /**\r\n     * Removes the cache item with the given key.\r\n     * @param key\r\n     */ removeItem(key) {\n        this.browserStorage.removeItem(key);\n    }\n    /**\r\n     * Removes the temporary cache item with the given key.\r\n     * Will also clear the cookie item if storeAuthStateInCookie is set to true.\r\n     * @param key\r\n     */ removeTemporaryItem(key) {\n        this.temporaryCacheStorage.removeItem(key);\n        if (this.cacheConfig.storeAuthStateInCookie) {\n            this.logger.trace(\"BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie\");\n            this.cookieStorage.removeItem(key);\n        }\n    }\n    /**\r\n     * Gets all keys in window.\r\n     */ getKeys() {\n        return this.browserStorage.getKeys();\n    }\n    /**\r\n     * Clears all cache entries created by MSAL.\r\n     */ async clear() {\n        // Removes all accounts and their credentials\n        await this.removeAllAccounts();\n        this.removeAppMetadata();\n        // Remove temp storage first to make sure any cookies are cleared\n        this.temporaryCacheStorage.getKeys().forEach((cacheKey)=>{\n            if (cacheKey.indexOf(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.CACHE_PREFIX) !== -1 || cacheKey.indexOf(this.clientId) !== -1) {\n                this.removeTemporaryItem(cacheKey);\n            }\n        });\n        // Removes all remaining MSAL cache items\n        this.browserStorage.getKeys().forEach((cacheKey)=>{\n            if (cacheKey.indexOf(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.CACHE_PREFIX) !== -1 || cacheKey.indexOf(this.clientId) !== -1) {\n                this.browserStorage.removeItem(cacheKey);\n            }\n        });\n        this.internalStorage.clear();\n    }\n    /**\r\n     * Clears all access tokes that have claims prior to saving the current one\r\n     * @param performanceClient {IPerformanceClient}\r\n     * @param correlationId {string} correlation id\r\n     * @returns\r\n     */ async clearTokensAndKeysWithClaims(performanceClient, correlationId) {\n        performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.PerformanceEvents.ClearTokensAndKeysWithClaims, correlationId);\n        const tokenKeys = this.getTokenKeys();\n        const removedAccessTokens = [];\n        tokenKeys.accessToken.forEach((key)=>{\n            // if the access token has claims in its key, remove the token key and the token\n            const credential = this.getAccessTokenCredential(key);\n            if (credential?.requestedClaimsHash && key.includes(credential.requestedClaimsHash.toLowerCase())) {\n                removedAccessTokens.push(this.removeAccessToken(key));\n            }\n        });\n        await Promise.all(removedAccessTokens);\n        // warn if any access tokens are removed\n        if (removedAccessTokens.length > 0) {\n            this.logger.warning(`${removedAccessTokens.length} access tokens with claims in the cache keys have been removed from the cache.`);\n        }\n    }\n    /**\r\n     * Prepend msal.<client-id> to each key; Skip for any JSON object as Key (defined schemas do not need the key appended: AccessToken Keys or the upcoming schema)\r\n     * @param key\r\n     * @param addInstanceId\r\n     */ generateCacheKey(key) {\n        const generatedKey = this.validateAndParseJson(key);\n        if (!generatedKey) {\n            if (_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_12__.StringUtils.startsWith(key, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.CACHE_PREFIX) || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_12__.StringUtils.startsWith(key, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ADAL_ID_TOKEN)) {\n                return key;\n            }\n            return `${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.CACHE_PREFIX}.${this.clientId}.${key}`;\n        }\n        return JSON.stringify(key);\n    }\n    /**\r\n     * Create authorityKey to cache authority\r\n     * @param state\r\n     */ generateAuthorityKey(stateString) {\n        const { libraryState: { id: stateId } } = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_13__.ProtocolUtils.parseRequestState(this.cryptoImpl, stateString);\n        return this.generateCacheKey(`${_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.AUTHORITY}.${stateId}`);\n    }\n    /**\r\n     * Create Nonce key to cache nonce\r\n     * @param state\r\n     */ generateNonceKey(stateString) {\n        const { libraryState: { id: stateId } } = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_13__.ProtocolUtils.parseRequestState(this.cryptoImpl, stateString);\n        return this.generateCacheKey(`${_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.NONCE_IDTOKEN}.${stateId}`);\n    }\n    /**\r\n     * Creates full cache key for the request state\r\n     * @param stateString State string for the request\r\n     */ generateStateKey(stateString) {\n        // Use the library state id to key temp storage for uniqueness for multiple concurrent requests\n        const { libraryState: { id: stateId } } = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_13__.ProtocolUtils.parseRequestState(this.cryptoImpl, stateString);\n        return this.generateCacheKey(`${_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.REQUEST_STATE}.${stateId}`);\n    }\n    /**\r\n     * Gets the cached authority based on the cached state. Returns empty if no cached state found.\r\n     */ getCachedAuthority(cachedState) {\n        const stateCacheKey = this.generateStateKey(cachedState);\n        const state = this.getTemporaryCache(stateCacheKey);\n        if (!state) {\n            return null;\n        }\n        const authorityCacheKey = this.generateAuthorityKey(state);\n        return this.getTemporaryCache(authorityCacheKey);\n    }\n    /**\r\n     * Updates account, authority, and state in cache\r\n     * @param serverAuthenticationRequest\r\n     * @param account\r\n     */ updateCacheEntries(state, nonce, authorityInstance, loginHint, account) {\n        this.logger.trace(\"BrowserCacheManager.updateCacheEntries called\");\n        // Cache the request state\n        const stateCacheKey = this.generateStateKey(state);\n        this.setTemporaryCache(stateCacheKey, state, false);\n        // Cache the nonce\n        const nonceCacheKey = this.generateNonceKey(state);\n        this.setTemporaryCache(nonceCacheKey, nonce, false);\n        // Cache authorityKey\n        const authorityCacheKey = this.generateAuthorityKey(state);\n        this.setTemporaryCache(authorityCacheKey, authorityInstance, false);\n        if (account) {\n            const ccsCredential = {\n                credential: account.homeAccountId,\n                type: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_14__.CcsCredentialType.HOME_ACCOUNT_ID\n            };\n            this.setTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.CCS_CREDENTIAL, JSON.stringify(ccsCredential), true);\n        } else if (loginHint) {\n            const ccsCredential = {\n                credential: loginHint,\n                type: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_14__.CcsCredentialType.UPN\n            };\n            this.setTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.CCS_CREDENTIAL, JSON.stringify(ccsCredential), true);\n        }\n    }\n    /**\r\n     * Reset all temporary cache items\r\n     * @param state\r\n     */ resetRequestCache(state) {\n        this.logger.trace(\"BrowserCacheManager.resetRequestCache called\");\n        // check state and remove associated cache items\n        if (state) {\n            this.temporaryCacheStorage.getKeys().forEach((key)=>{\n                if (key.indexOf(state) !== -1) {\n                    this.removeTemporaryItem(key);\n                }\n            });\n            // delete generic interactive request parameters\n            this.removeTemporaryItem(this.generateStateKey(state));\n            this.removeTemporaryItem(this.generateNonceKey(state));\n            this.removeTemporaryItem(this.generateAuthorityKey(state));\n        }\n        this.removeTemporaryItem(this.generateCacheKey(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.REQUEST_PARAMS));\n        this.removeTemporaryItem(this.generateCacheKey(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.ORIGIN_URI));\n        this.removeTemporaryItem(this.generateCacheKey(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.URL_HASH));\n        this.removeTemporaryItem(this.generateCacheKey(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.CORRELATION_ID));\n        this.removeTemporaryItem(this.generateCacheKey(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.CCS_CREDENTIAL));\n        this.removeTemporaryItem(this.generateCacheKey(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.NATIVE_REQUEST));\n        this.setInteractionInProgress(false);\n    }\n    /**\r\n     * Removes temporary cache for the provided state\r\n     * @param stateString\r\n     */ cleanRequestByState(stateString) {\n        this.logger.trace(\"BrowserCacheManager.cleanRequestByState called\");\n        // Interaction is completed - remove interaction status.\n        if (stateString) {\n            const stateKey = this.generateStateKey(stateString);\n            const cachedState = this.temporaryCacheStorage.getItem(stateKey);\n            this.logger.infoPii(`BrowserCacheManager.cleanRequestByState: Removing temporary cache items for state: ${cachedState}`);\n            this.resetRequestCache(cachedState || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.EMPTY_STRING);\n        }\n    }\n    /**\r\n     * Looks in temporary cache for any state values with the provided interactionType and removes all temporary cache items for that state\r\n     * Used in scenarios where temp cache needs to be cleaned but state is not known, such as clicking browser back button.\r\n     * @param interactionType\r\n     */ cleanRequestByInteractionType(interactionType) {\n        this.logger.trace(\"BrowserCacheManager.cleanRequestByInteractionType called\");\n        // Loop through all keys to find state key\n        this.temporaryCacheStorage.getKeys().forEach((key)=>{\n            // If this key is not the state key, move on\n            if (key.indexOf(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.REQUEST_STATE) === -1) {\n                return;\n            }\n            // Retrieve state value, return if not a valid value\n            const stateValue = this.temporaryCacheStorage.getItem(key);\n            if (!stateValue) {\n                return;\n            }\n            // Extract state and ensure it matches given InteractionType, then clean request cache\n            const parsedState = (0,_utils_BrowserProtocolUtils_mjs__WEBPACK_IMPORTED_MODULE_15__.extractBrowserRequestState)(this.cryptoImpl, stateValue);\n            if (parsedState && parsedState.interactionType === interactionType) {\n                this.logger.infoPii(`BrowserCacheManager.cleanRequestByInteractionType: Removing temporary cache items for state: ${stateValue}`);\n                this.resetRequestCache(stateValue);\n            }\n        });\n        this.setInteractionInProgress(false);\n    }\n    cacheCodeRequest(authCodeRequest) {\n        this.logger.trace(\"BrowserCacheManager.cacheCodeRequest called\");\n        const encodedValue = (0,_encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_16__.base64Encode)(JSON.stringify(authCodeRequest));\n        this.setTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.REQUEST_PARAMS, encodedValue, true);\n    }\n    /**\r\n     * Gets the token exchange parameters from the cache. Throws an error if nothing is found.\r\n     */ getCachedRequest(state) {\n        this.logger.trace(\"BrowserCacheManager.getCachedRequest called\");\n        // Get token request from cache and parse as TokenExchangeParameters.\n        const encodedTokenRequest = this.getTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.REQUEST_PARAMS, true);\n        if (!encodedTokenRequest) {\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_17__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_18__.noTokenRequestCacheError);\n        }\n        let parsedRequest;\n        try {\n            parsedRequest = JSON.parse((0,_encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_19__.base64Decode)(encodedTokenRequest));\n        } catch (e) {\n            this.logger.errorPii(`Attempted to parse: ${encodedTokenRequest}`);\n            this.logger.error(`Parsing cached token request threw with error: ${e}`);\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_17__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_18__.unableToParseTokenRequestCacheError);\n        }\n        this.removeTemporaryItem(this.generateCacheKey(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.REQUEST_PARAMS));\n        // Get cached authority and use if no authority is cached with request.\n        if (!parsedRequest.authority) {\n            const authorityCacheKey = this.generateAuthorityKey(state);\n            const cachedAuthority = this.getTemporaryCache(authorityCacheKey);\n            if (!cachedAuthority) {\n                throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_17__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_18__.noCachedAuthorityError);\n            }\n            parsedRequest.authority = cachedAuthority;\n        }\n        return parsedRequest;\n    }\n    /**\r\n     * Gets cached native request for redirect flows\r\n     */ getCachedNativeRequest() {\n        this.logger.trace(\"BrowserCacheManager.getCachedNativeRequest called\");\n        const cachedRequest = this.getTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.NATIVE_REQUEST, true);\n        if (!cachedRequest) {\n            this.logger.trace(\"BrowserCacheManager.getCachedNativeRequest: No cached native request found\");\n            return null;\n        }\n        const parsedRequest = this.validateAndParseJson(cachedRequest);\n        if (!parsedRequest) {\n            this.logger.error(\"BrowserCacheManager.getCachedNativeRequest: Unable to parse native request\");\n            return null;\n        }\n        return parsedRequest;\n    }\n    isInteractionInProgress(matchClientId) {\n        const clientId = this.getInteractionInProgress();\n        if (matchClientId) {\n            return clientId === this.clientId;\n        } else {\n            return !!clientId;\n        }\n    }\n    getInteractionInProgress() {\n        const key = `${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.CACHE_PREFIX}.${_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.INTERACTION_STATUS_KEY}`;\n        return this.getTemporaryCache(key, false);\n    }\n    setInteractionInProgress(inProgress) {\n        // Ensure we don't overwrite interaction in progress for a different clientId\n        const key = `${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.Constants.CACHE_PREFIX}.${_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.INTERACTION_STATUS_KEY}`;\n        if (inProgress) {\n            if (this.getInteractionInProgress()) {\n                throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_17__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_18__.interactionInProgress);\n            } else {\n                // No interaction is in progress\n                this.setTemporaryCache(key, this.clientId, false);\n            }\n        } else if (!inProgress && this.getInteractionInProgress() === this.clientId) {\n            this.removeTemporaryItem(key);\n        }\n    }\n    /**\r\n     * Returns username retrieved from ADAL or MSAL v1 idToken\r\n     * @deprecated\r\n     */ getLegacyLoginHint() {\n        // Only check for adal/msal token if no SSO params are being used\n        const adalIdTokenString = this.getTemporaryCache(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ADAL_ID_TOKEN);\n        if (adalIdTokenString) {\n            this.browserStorage.removeItem(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ADAL_ID_TOKEN);\n            this.logger.verbose(\"Cached ADAL id token retrieved.\");\n        }\n        // Check for cached MSAL v1 id token\n        const msalIdTokenString = this.getTemporaryCache(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ID_TOKEN, true);\n        if (msalIdTokenString) {\n            this.browserStorage.removeItem(this.generateCacheKey(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PersistentCacheKeys.ID_TOKEN));\n            this.logger.verbose(\"Cached MSAL.js v1 id token retrieved\");\n        }\n        const cachedIdTokenString = msalIdTokenString || adalIdTokenString;\n        if (cachedIdTokenString) {\n            const idTokenClaims = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_20__.extractTokenClaims(cachedIdTokenString, _encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_19__.base64Decode);\n            if (idTokenClaims.preferred_username) {\n                this.logger.verbose(\"No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 preferred_username as loginHint\");\n                return idTokenClaims.preferred_username;\n            } else if (idTokenClaims.upn) {\n                this.logger.verbose(\"No SSO params used and ADAL/MSAL v1 token retrieved, setting ADAL/MSAL v1 upn as loginHint\");\n                return idTokenClaims.upn;\n            } else {\n                this.logger.verbose(\"No SSO params used and ADAL/MSAL v1 token retrieved, however, no account hint claim found. Enable preferred_username or upn id token claim to get SSO.\");\n            }\n        }\n        return null;\n    }\n    /**\r\n     * Updates a credential's cache key if the current cache key is outdated\r\n     */ updateCredentialCacheKey(currentCacheKey, credential) {\n        const updatedCacheKey = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.generateCredentialKey(credential);\n        if (currentCacheKey !== updatedCacheKey) {\n            const cacheItem = this.getItem(currentCacheKey);\n            if (cacheItem) {\n                this.browserStorage.removeItem(currentCacheKey);\n                this.setItem(updatedCacheKey, cacheItem);\n                this.logger.verbose(`Updated an outdated ${credential.credentialType} cache key`);\n                return updatedCacheKey;\n            } else {\n                this.logger.error(`Attempted to update an outdated ${credential.credentialType} cache key but no item matching the outdated key was found in storage`);\n            }\n        }\n        return currentCacheKey;\n    }\n    /**\r\n     * Builds credential entities from AuthenticationResult object and saves the resulting credentials to the cache\r\n     * @param result\r\n     * @param request\r\n     */ async hydrateCache(result, request) {\n        const idTokenEntity = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.createIdTokenEntity(result.account?.homeAccountId, result.account?.environment, result.idToken, this.clientId, result.tenantId);\n        let claimsHash;\n        if (request.claims) {\n            claimsHash = await this.cryptoImpl.hashString(request.claims);\n        }\n        /**\r\n         * meta data for cache stores time in seconds from epoch\r\n         * AuthenticationResult returns expiresOn and extExpiresOn in milliseconds (as a Date object which is in ms)\r\n         * We need to map these for the cache when building tokens from AuthenticationResult\r\n         *\r\n         * The next MSAL VFuture should map these both to same value if possible\r\n         */ const accessTokenEntity = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.createAccessTokenEntity(result.account?.homeAccountId, result.account.environment, result.accessToken, this.clientId, result.tenantId, result.scopes.join(\" \"), result.expiresOn ? result.expiresOn.getTime() / 1000 : 0, result.extExpiresOn ? result.extExpiresOn.getTime() / 1000 : 0, _encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_19__.base64Decode, undefined, result.tokenType, undefined, request.sshKid, request.claims, claimsHash);\n        const cacheRecord = {\n            idToken: idTokenEntity,\n            accessToken: accessTokenEntity\n        };\n        return this.saveCacheRecord(cacheRecord);\n    }\n    /**\r\n     * saves a cache record\r\n     * @param cacheRecord {CacheRecord}\r\n     * @param storeInCache {?StoreInCache}\r\n     * @param correlationId {?string} correlation id\r\n     */ async saveCacheRecord(cacheRecord, storeInCache, correlationId) {\n        try {\n            await super.saveCacheRecord(cacheRecord, storeInCache, correlationId);\n        } catch (e) {\n            if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_21__.CacheError && this.performanceClient && correlationId) {\n                try {\n                    const tokenKeys = this.getTokenKeys();\n                    this.performanceClient.addFields({\n                        cacheRtCount: tokenKeys.refreshToken.length,\n                        cacheIdCount: tokenKeys.idToken.length,\n                        cacheAtCount: tokenKeys.accessToken.length\n                    }, correlationId);\n                } catch (e) {}\n            }\n            throw e;\n        }\n    }\n}\nconst DEFAULT_BROWSER_CACHE_MANAGER = (clientId, logger)=>{\n    const cacheOptions = {\n        cacheLocation: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.BrowserCacheLocation.MemoryStorage,\n        temporaryCacheLocation: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.BrowserCacheLocation.MemoryStorage,\n        storeAuthStateInCookie: false,\n        secureCookies: false,\n        cacheMigrationEnabled: false,\n        claimsBasedCachingEnabled: false\n    };\n    return new BrowserCacheManager(clientId, cacheOptions, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_22__.DEFAULT_CRYPTO_IMPLEMENTATION, logger);\n};\n //# sourceMappingURL=BrowserCacheManager.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NhY2hlL0Jyb3dzZXJDYWNoZU1hbmFnZXIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDNFM7QUFDck87QUFDc0Q7QUFDM0U7QUFDSTtBQUNGO0FBQzJCO0FBQ3JCO0FBQ0E7QUFDTjtBQUM4RztBQUVsSzs7O0NBR0MsR0FDRDs7OztDQUlDLEdBQ0QsTUFBTStCLDRCQUE0Qi9CLG9FQUFZQTtJQUMxQ2dDLFlBQVlDLFFBQVEsRUFBRUMsV0FBVyxFQUFFQyxVQUFVLEVBQUVDLE1BQU0sRUFBRUMsc0JBQXNCLEVBQUVDLGlCQUFpQixDQUFFO1FBQzlGLEtBQUssQ0FBQ0wsVUFBVUUsWUFBWUMsUUFBUUM7UUFDcEMsSUFBSSxDQUFDSCxXQUFXLEdBQUdBO1FBQ25CLElBQUksQ0FBQ0UsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0csZUFBZSxHQUFHLElBQUlqQiw2REFBYUE7UUFDeEMsSUFBSSxDQUFDa0IsY0FBYyxHQUFHLElBQUksQ0FBQ0MsbUJBQW1CLENBQUMsSUFBSSxDQUFDUCxXQUFXLENBQUNRLGFBQWE7UUFDN0UsSUFBSSxDQUFDQyxxQkFBcUIsR0FBRyxJQUFJLENBQUNGLG1CQUFtQixDQUFDLElBQUksQ0FBQ1AsV0FBVyxDQUFDVSxzQkFBc0I7UUFDN0YsSUFBSSxDQUFDQyxhQUFhLEdBQUcsSUFBSW5CLDZEQUFhQTtRQUN0QyxxREFBcUQ7UUFDckQsSUFBSVEsWUFBWVkscUJBQXFCLEVBQUU7WUFDbkMsSUFBSSxDQUFDQyxtQkFBbUI7WUFDeEIsSUFBSSxDQUFDQyxhQUFhO1FBQ3RCO1FBQ0EsSUFBSSxDQUFDVixpQkFBaUIsR0FBR0E7SUFDN0I7SUFDQTs7O0tBR0MsR0FDREcsb0JBQW9CQyxhQUFhLEVBQUU7UUFDL0IsSUFBSTtZQUNBLE9BQVFBO2dCQUNKLEtBQUsxQiw2RUFBb0JBLENBQUNJ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Q1Y7SUFDSjtBQUNKO0FBQ0EsTUFBTWtSLGdDQUFnQyxDQUFDbFMsVUFBVUc7SUFDN0MsTUFBTWdTLGVBQWU7UUFDakIxUixlQUFlMUIsNkVBQW9CQSxDQUFDTSxhQUFhO1FBQ2pEc0Isd0JBQXdCNUIsNkVBQW9CQSxDQUFDTSxhQUFhO1FBQzFENEwsd0JBQXdCO1FBQ3hCRyxlQUFlO1FBQ2Z2Syx1QkFBdUI7UUFDdkJ1UiwyQkFBMkI7SUFDL0I7SUFDQSxPQUFPLElBQUl0UyxvQkFBb0JFLFVBQVVtUyxjQUFjdlQsc0ZBQTZCQSxFQUFFdUI7QUFDMUY7QUFFOEQsQ0FDOUQsZ0RBQWdEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9jYWNoZS9Ccm93c2VyQ2FjaGVNYW5hZ2VyLm1qcz84YTM4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQ2FjaGVNYW5hZ2VyLCBDcmVkZW50aWFsVHlwZSwgQ2FjaGVIZWxwZXJzLCBBY2NvdW50RW50aXR5LCBjcmVhdGVDbGllbnRBdXRoRXJyb3IsIENsaWVudEF1dGhFcnJvckNvZGVzLCBDb25zdGFudHMsIFBlcnNpc3RlbnRDYWNoZUtleXMsIFBlcmZvcm1hbmNlRXZlbnRzLCBTdHJpbmdVdGlscywgUHJvdG9jb2xVdGlscywgQXV0aFRva2VuLCBDYWNoZUVycm9yLCBERUZBVUxUX0NSWVBUT19JTVBMRU1FTlRBVElPTiwgQ2NzQ3JlZGVudGlhbFR5cGUgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgQnJvd3NlckNhY2hlTG9jYXRpb24sIFN0YXRpY0NhY2hlS2V5cywgSW5NZW1vcnlDYWNoZUtleXMsIFRlbXBvcmFyeUNhY2hlS2V5cyB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMubWpzJztcbmltcG9ydCB7IExvY2FsU3RvcmFnZSB9IGZyb20gJy4vTG9jYWxTdG9yYWdlLm1qcyc7XG5pbXBvcnQgeyBTZXNzaW9uU3RvcmFnZSB9IGZyb20gJy4vU2Vzc2lvblN0b3JhZ2UubWpzJztcbmltcG9ydCB7IE1lbW9yeVN0b3JhZ2UgfSBmcm9tICcuL01lbW9yeVN0b3JhZ2UubWpzJztcbmltcG9ydCB7IGV4dHJhY3RCcm93c2VyUmVxdWVzdFN0YXRlIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlclByb3RvY29sVXRpbHMubWpzJztcbmltcG9ydCB7IGJhc2U2NERlY29kZSB9IGZyb20gJy4uL2VuY29kZS9CYXNlNjREZWNvZGUubWpzJztcbmltcG9ydCB7IGJhc2U2NEVuY29kZSB9IGZyb20gJy4uL2VuY29kZS9CYXNlNjRFbmNvZGUubWpzJztcbmltcG9ydCB7IENvb2tpZVN0b3JhZ2UgfSBmcm9tICcuL0Nvb2tpZVN0b3JhZ2UubWpzJztcbmltcG9ydCB7IG5vVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvciwgdW5hYmxlVG9QYXJzZVRva2VuUmVxdWVzdENhY2hlRXJyb3IsIG5vQ2FjaGVkQXV0aG9yaXR5RXJyb3IsIGludGVyYWN0aW9uSW5Qcm9ncmVzcyB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyB0aGUgY2FjaGUgc3RvcmFnZSBpbnRlcmZhY2UgZm9yIE1TQUwgdGhyb3VnaCBicm93c2VyIGxvY2FsIG9yIHNlc3Npb24gc3RvcmFnZS5cclxuICogQ29va2llcyBhcmUgb25seSB1c2VkIGlmIHN0b3JlQXV0aFN0YXRlSW5Db29raWUgaXMgdHJ1ZSwgYW5kIGFyZSBvbmx5IHVzZWQgZm9yXHJcbiAqIHBhcmFtZXRlcnMgc3VjaCBhcyBzdGF0ZSBhbmQgbm9uY2UsIGdlbmVyYWxseS5cclxuICovXHJcbmNsYXNzIEJyb3dzZXJDYWNoZU1hbmFnZXIgZXh0ZW5kcyBDYWNoZU1hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IoY2xpZW50SWQsIGNhY2hlQ29uZmlnLCBjcnlwdG9JbXBsLCBsb2dnZXIsIHN0YXRpY0F1dGhvcml0eU9wdGlvbnMsIHBlcmZvcm1hbmNlQ2xpZW50KSB7XHJcbiAgICAgICAgc3VwZXIoY2xpZW50SWQsIGNyeXB0b0ltcGwsIGxvZ2dlciwgc3RhdGljQXV0aG9yaXR5T3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5jYWNoZUNvbmZpZyA9IGNhY2hlQ29uZmlnO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdG9yYWdlID0gbmV3IE1lbW9yeVN0b3JhZ2UoKTtcclxuICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlID0gdGhpcy5zZXR1cEJyb3dzZXJTdG9yYWdlKHRoaXMuY2FjaGVDb25maWcuY2FjaGVMb2NhdGlvbik7XHJcbiAgICAgICAgdGhpcy50ZW1wb3JhcnlDYWNoZVN0b3JhZ2UgPSB0aGlzLnNldHVwQnJvd3NlclN0b3JhZ2UodGhpcy5jYWNoZUNvbmZpZy50ZW1wb3JhcnlDYWNoZUxvY2F0aW9uKTtcclxuICAgICAgICB0aGlzLmNvb2tpZVN0b3JhZ2UgPSBuZXcgQ29va2llU3RvcmFnZSgpO1xyXG4gICAgICAgIC8vIE1pZ3JhdGUgY2FjaGUgZW50cmllcyBmcm9tIG9sZGVyIHZlcnNpb25zIG9mIE1TQUwuXHJcbiAgICAgICAgaWYgKGNhY2hlQ29uZmlnLmNhY2hlTWlncmF0aW9uRW5hYmxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLm1pZ3JhdGVDYWNoZUVudHJpZXMoKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVLZXlNYXBzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQgPSBwZXJmb3JtYW5jZUNsaWVudDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIHdpbmRvdyBzdG9yYWdlIGNsYXNzIGltcGxlbWVudGluZyB0aGUgSVdpbmRvd1N0b3JhZ2UgaW50ZXJmYWNlIHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGNvbmZpZ3VyZWQgY2FjaGVMb2NhdGlvbi5cclxuICAgICAqIEBwYXJhbSBjYWNoZUxvY2F0aW9uXHJcbiAgICAgKi9cclxuICAgIHNldHVwQnJvd3NlclN0b3JhZ2UoY2FjaGVMb2NhdGlvbikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY2FjaGVMb2NhdGlvbikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBCcm93c2VyQ2FjaGVMb2NhdGlvbi5Mb2NhbFN0b3JhZ2U6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2NhbFN0b3JhZ2UoKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgQnJvd3NlckNhY2hlTG9jYXRpb24uU2Vzc2lvblN0b3JhZ2U6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXNzaW9uU3RvcmFnZSgpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBCcm93c2VyQ2FjaGVMb2NhdGlvbi5NZW1vcnlTdG9yYWdlOlxyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jYWNoZUNvbmZpZy5jYWNoZUxvY2F0aW9uID0gQnJvd3NlckNhY2hlTG9jYXRpb24uTWVtb3J5U3RvcmFnZTtcclxuICAgICAgICByZXR1cm4gbmV3IE1lbW9yeVN0b3JhZ2UoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTWlncmF0ZSBhbGwgb2xkIGNhY2hlIGVudHJpZXMgdG8gbmV3IHNjaGVtYS4gTm8gcm9sbGJhY2sgc3VwcG9ydGVkLlxyXG4gICAgICogQHBhcmFtIHN0b3JlQXV0aFN0YXRlSW5Db29raWVcclxuICAgICAqL1xyXG4gICAgbWlncmF0ZUNhY2hlRW50cmllcygpIHtcclxuICAgICAgICBjb25zdCBpZFRva2VuS2V5ID0gYCR7Q29uc3RhbnRzLkNBQ0hFX1BSRUZJWH0uJHtQZXJzaXN0ZW50Q2FjaGVLZXlzLklEX1RPS0VOfWA7XHJcbiAgICAgICAgY29uc3QgY2xpZW50SW5mb0tleSA9IGAke0NvbnN0YW50cy5DQUNIRV9QUkVGSVh9LiR7UGVyc2lzdGVudENhY2hlS2V5cy5DTElFTlRfSU5GT31gO1xyXG4gICAgICAgIGNvbnN0IGVycm9yS2V5ID0gYCR7Q29uc3RhbnRzLkNBQ0hFX1BSRUZJWH0uJHtQZXJzaXN0ZW50Q2FjaGVLZXlzLkVSUk9SfWA7XHJcbiAgICAgICAgY29uc3QgZXJyb3JEZXNjS2V5ID0gYCR7Q29uc3RhbnRzLkNBQ0hFX1BSRUZJWH0uJHtQZXJzaXN0ZW50Q2FjaGVLZXlzLkVSUk9SX0RFU0N9YDtcclxuICAgICAgICBjb25zdCBpZFRva2VuVmFsdWUgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldEl0ZW0oaWRUb2tlbktleSk7XHJcbiAgICAgICAgY29uc3QgY2xpZW50SW5mb1ZhbHVlID0gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRJdGVtKGNsaWVudEluZm9LZXkpO1xyXG4gICAgICAgIGNvbnN0IGVycm9yVmFsdWUgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldEl0ZW0oZXJyb3JLZXkpO1xyXG4gICAgICAgIGNvbnN0IGVycm9yRGVzY1ZhbHVlID0gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRJdGVtKGVycm9yRGVzY0tleSk7XHJcbiAgICAgICAgY29uc3QgdmFsdWVzID0gW1xyXG4gICAgICAgICAgICBpZFRva2VuVmFsdWUsXHJcbiAgICAgICAgICAgIGNsaWVudEluZm9WYWx1ZSxcclxuICAgICAgICAgICAgZXJyb3JWYWx1ZSxcclxuICAgICAgICAgICAgZXJyb3JEZXNjVmFsdWUsXHJcbiAgICAgICAgXTtcclxuICAgICAgICBjb25zdCBrZXlzVG9NaWdyYXRlID0gW1xyXG4gICAgICAgICAgICBQZXJzaXN0ZW50Q2FjaGVLZXlzLklEX1RPS0VOLFxyXG4gICAgICAgICAgICBQZXJzaXN0ZW50Q2FjaGVLZXlzLkNMSUVOVF9JTkZPLFxyXG4gICAgICAgICAgICBQZXJzaXN0ZW50Q2FjaGVLZXlzLkVSUk9SLFxyXG4gICAgICAgICAgICBQZXJzaXN0ZW50Q2FjaGVLZXlzLkVSUk9SX0RFU0MsXHJcbiAgICAgICAgXTtcclxuICAgICAgICBrZXlzVG9NaWdyYXRlLmZvckVhY2goKGNhY2hlS2V5LCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlc1tpbmRleF07XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRUZW1wb3JhcnlDYWNoZShjYWNoZUtleSwgdmFsdWUsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNlYXJjaGVzIGFsbCBjYWNoZSBlbnRyaWVzIGZvciBNU0FMIGFjY291bnRzIGFuZCBjcmVhdGVzIHRoZSBhY2NvdW50IGtleSBtYXBcclxuICAgICAqIFRoaXMgaXMgdXNlZCB0byBtaWdyYXRlIHVzZXJzIGZyb20gb2xkZXIgdmVyc2lvbnMgb2YgTVNBTCB3aGljaCBkaWQgbm90IGNyZWF0ZSB0aGUgbWFwLlxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgY3JlYXRlS2V5TWFwcygpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIgLSBjcmVhdGVLZXlNYXBzIGNhbGxlZC5cIik7XHJcbiAgICAgICAgY29uc3QgYWNjb3VudEtleXMgPSB0aGlzLmdldEl0ZW0oU3RhdGljQ2FjaGVLZXlzLkFDQ09VTlRfS0VZUyk7XHJcbiAgICAgICAgY29uc3QgdG9rZW5LZXlzID0gdGhpcy5nZXRJdGVtKGAke1N0YXRpY0NhY2hlS2V5cy5UT0tFTl9LRVlTfS4ke3RoaXMuY2xpZW50SWR9YCk7XHJcbiAgICAgICAgaWYgKGFjY291bnRLZXlzICYmIHRva2VuS2V5cykge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQnJvd3NlckNhY2hlTWFuYWdlcjpjcmVhdGVLZXlNYXBzIC0gYWNjb3VudCBhbmQgdG9rZW4ga2V5IG1hcHMgYWxyZWFkeSBleGlzdCwgc2tpcHBpbmcgbWlncmF0aW9uLlwiKTtcclxuICAgICAgICAgICAgLy8gS2V5IG1hcHMgYWxyZWFkeSBleGlzdCwgbm8gbmVlZCB0byBpdGVyYXRlIHRocm91Z2ggY2FjaGVcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhbGxLZXlzID0gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRLZXlzKCk7XHJcbiAgICAgICAgYWxsS2V5cy5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNDcmVkZW50aWFsS2V5KGtleSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIEdldCBpdGVtLCBwYXJzZSwgdmFsaWRhdGUgYW5kIHdyaXRlIGtleSB0byBtYXBcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjcmVkT2JqID0gdGhpcy52YWxpZGF0ZUFuZFBhcnNlSnNvbih2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyZWRPYmogJiYgY3JlZE9iai5oYXNPd25Qcm9wZXJ0eShcImNyZWRlbnRpYWxUeXBlXCIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY3JlZE9ialtcImNyZWRlbnRpYWxUeXBlXCJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENyZWRlbnRpYWxUeXBlLklEX1RPS0VOOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDYWNoZUhlbHBlcnMuaXNJZFRva2VuRW50aXR5KGNyZWRPYmopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlcjpjcmVhdGVLZXlNYXBzIC0gaWRUb2tlbiBmb3VuZCwgc2F2aW5nIGtleSB0byB0b2tlbiBrZXkgbWFwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZVBpaShgQnJvd3NlckNhY2hlTWFuYWdlcjpjcmVhdGVLZXlNYXBzIC0gaWRUb2tlbiB3aXRoIGtleTogJHtrZXl9IGZvdW5kLCBzYXZpbmcga2V5IHRvIHRva2VuIGtleSBtYXBgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWRUb2tlbkVudGl0eSA9IGNyZWRPYmo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0tleSA9IHRoaXMudXBkYXRlQ3JlZGVudGlhbENhY2hlS2V5KGtleSwgaWRUb2tlbkVudGl0eSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkVG9rZW5LZXkobmV3S2V5LCBDcmVkZW50aWFsVHlwZS5JRF9UT0tFTik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlcjpjcmVhdGVLZXlNYXBzIC0ga2V5IGZvdW5kIG1hdGNoaW5nIGlkVG9rZW4gc2NoZW1hIHdpdGggdmFsdWUgY29udGFpbmluZyBpZFRva2VuIGNyZWRlbnRpYWxUeXBlIGZpZWxkIGJ1dCB2YWx1ZSBmYWlsZWQgSWRUb2tlbkVudGl0eSB2YWxpZGF0aW9uLCBza2lwcGluZy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlUGlpKGBCcm93c2VyQ2FjaGVNYW5hZ2VyOmNyZWF0ZUtleU1hcHMgLSBmYWlsZWQgaWRUb2tlbiB2YWxpZGF0aW9uIG9uIGtleTogJHtrZXl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU46XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChDYWNoZUhlbHBlcnMuaXNBY2Nlc3NUb2tlbkVudGl0eShjcmVkT2JqKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXI6Y3JlYXRlS2V5TWFwcyAtIGFjY2Vzc1Rva2VuIGZvdW5kLCBzYXZpbmcga2V5IHRvIHRva2VuIGtleSBtYXBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlUGlpKGBCcm93c2VyQ2FjaGVNYW5hZ2VyOmNyZWF0ZUtleU1hcHMgLSBhY2Nlc3NUb2tlbiB3aXRoIGtleTogJHtrZXl9IGZvdW5kLCBzYXZpbmcga2V5IHRvIHRva2VuIGtleSBtYXBgKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW5FbnRpdHkgPSBjcmVkT2JqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdLZXkgPSB0aGlzLnVwZGF0ZUNyZWRlbnRpYWxDYWNoZUtleShrZXksIGFjY2Vzc1Rva2VuRW50aXR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUb2tlbktleShuZXdLZXksIENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlcjpjcmVhdGVLZXlNYXBzIC0ga2V5IGZvdW5kIG1hdGNoaW5nIGFjY2Vzc1Rva2VuIHNjaGVtYSB3aXRoIHZhbHVlIGNvbnRhaW5pbmcgYWNjZXNzVG9rZW4gY3JlZGVudGlhbFR5cGUgZmllbGQgYnV0IHZhbHVlIGZhaWxlZCBBY2Nlc3NUb2tlbkVudGl0eSB2YWxpZGF0aW9uLCBza2lwcGluZy5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlUGlpKGBCcm93c2VyQ2FjaGVNYW5hZ2VyOmNyZWF0ZUtleU1hcHMgLSBmYWlsZWQgYWNjZXNzVG9rZW4gdmFsaWRhdGlvbiBvbiBrZXk6ICR7a2V5fWApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgQ3JlZGVudGlhbFR5cGUuUkVGUkVTSF9UT0tFTjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoQ2FjaGVIZWxwZXJzLmlzUmVmcmVzaFRva2VuRW50aXR5KGNyZWRPYmopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlcjpjcmVhdGVLZXlNYXBzIC0gcmVmcmVzaFRva2VuIGZvdW5kLCBzYXZpbmcga2V5IHRvIHRva2VuIGtleSBtYXBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlUGlpKGBCcm93c2VyQ2FjaGVNYW5hZ2VyOmNyZWF0ZUtleU1hcHMgLSByZWZyZXNoVG9rZW4gd2l0aCBrZXk6ICR7a2V5fSBmb3VuZCwgc2F2aW5nIGtleSB0byB0b2tlbiBrZXkgbWFwYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbkVudGl0eSA9IGNyZWRPYmo7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5ld0tleSA9IHRoaXMudXBkYXRlQ3JlZGVudGlhbENhY2hlS2V5KGtleSwgcmVmcmVzaFRva2VuRW50aXR5KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRUb2tlbktleShuZXdLZXksIENyZWRlbnRpYWxUeXBlLlJFRlJFU0hfVE9LRU4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXI6Y3JlYXRlS2V5TWFwcyAtIGtleSBmb3VuZCBtYXRjaGluZyByZWZyZXNoVG9rZW4gc2NoZW1hIHdpdGggdmFsdWUgY29udGFpbmluZyByZWZyZXNoVG9rZW4gY3JlZGVudGlhbFR5cGUgZmllbGQgYnV0IHZhbHVlIGZhaWxlZCBSZWZyZXNoVG9rZW5FbnRpdHkgdmFsaWRhdGlvbiwgc2tpcHBpbmcuXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZVBpaShgQnJvd3NlckNhY2hlTWFuYWdlcjpjcmVhdGVLZXlNYXBzIC0gZmFpbGVkIHJlZnJlc2hUb2tlbiB2YWxpZGF0aW9uIG9uIGtleTogJHtrZXl9YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgY3JlZGVudGlhbFR5cGUgaXNuJ3Qgb25lIG9mIG91ciBwcmVkZWZpbmVkIG9uZXMsIGl0IG1heSBub3QgYmUgYW4gTVNBTCBjYWNoZSB2YWx1ZS4gSWdub3JlLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzQWNjb3VudEtleShrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgYWNjb3VudE9iaiA9IHRoaXMudmFsaWRhdGVBbmRQYXJzZUpzb24odmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChhY2NvdW50T2JqICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFjY291bnRFbnRpdHkuaXNBY2NvdW50RW50aXR5KGFjY291bnRPYmopKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlcjpjcmVhdGVLZXlNYXBzIC0gYWNjb3VudCBmb3VuZCwgc2F2aW5nIGtleSB0byBhY2NvdW50IGtleSBtYXBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlUGlpKGBCcm93c2VyQ2FjaGVNYW5hZ2VyOmNyZWF0ZUtleU1hcHMgLSBhY2NvdW50IHdpdGgga2V5OiAke2tleX0gZm91bmQsIHNhdmluZyBrZXkgdG8gYWNjb3VudCBrZXkgbWFwYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQWNjb3VudEtleVRvTWFwKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlcyBwYXNzZWQgdmFsdWUgYXMgSlNPTiBvYmplY3QsIEpTT04ucGFyc2UoKSB3aWxsIHRocm93IGFuIGVycm9yLlxyXG4gICAgICogQHBhcmFtIGlucHV0XHJcbiAgICAgKi9cclxuICAgIHZhbGlkYXRlQW5kUGFyc2VKc29uKGpzb25WYWx1ZSkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEpzb24gPSBKU09OLnBhcnNlKGpzb25WYWx1ZSk7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBUaGVyZSBhcmUgZWRnZSBjYXNlcyBpbiB3aGljaCBKU09OLnBhcnNlIHdpbGwgc3VjY2Vzc2Z1bGx5IHBhcnNlIGEgbm9uLXZhbGlkIEpTT04gb2JqZWN0XHJcbiAgICAgICAgICAgICAqIChlLmcuIEpTT04ucGFyc2Ugd2lsbCBwYXJzZSBhbiBlc2NhcGVkIHN0cmluZyBpbnRvIGFuIHVuZXNjYXBlZCBzdHJpbmcpLCBzbyBhZGRpbmcgYSB0eXBlIGNoZWNrXHJcbiAgICAgICAgICAgICAqIG9mIHRoZSBwYXJzZWQgdmFsdWUgaXMgbmVjZXNzYXJ5IGluIG9yZGVyIHRvIGJlIGNlcnRhaW4gdGhhdCB0aGUgc3RyaW5nIHJlcHJlc2VudHMgYSB2YWxpZCBKU09OIG9iamVjdC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZWRKc29uICYmIHR5cGVvZiBwYXJzZWRKc29uID09PSBcIm9iamVjdFwiXHJcbiAgICAgICAgICAgICAgICA/IHBhcnNlZEpzb25cclxuICAgICAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogZmV0Y2hlcyB0aGUgZW50cnkgZnJvbSB0aGUgYnJvd3NlciBzdG9yYWdlIGJhc2VkIG9mZiB0aGUga2V5XHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIGdldEl0ZW0oa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXRzIHRoZSBlbnRyeSBpbiB0aGUgYnJvd3NlciBzdG9yYWdlXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0SXRlbShrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBmZXRjaCB0aGUgYWNjb3VudCBlbnRpdHkgZnJvbSB0aGUgcGxhdGZvcm0gY2FjaGVcclxuICAgICAqIEBwYXJhbSBhY2NvdW50S2V5XHJcbiAgICAgKi9cclxuICAgIGdldEFjY291bnQoYWNjb3VudEtleSwgbG9nZ2VyKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldEFjY291bnQgY2FsbGVkXCIpO1xyXG4gICAgICAgIGNvbnN0IGFjY291bnRFbnRpdHkgPSB0aGlzLmdldENhY2hlZEFjY291bnRFbnRpdHkoYWNjb3VudEtleSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXBkYXRlT3V0ZGF0ZWRDYWNoZWRBY2NvdW50KGFjY291bnRLZXksIGFjY291bnRFbnRpdHksIGxvZ2dlcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlYWRzIGFjY291bnQgZnJvbSBjYWNoZSwgZGVzZXJpYWxpemVzIGl0IGludG8gYW4gYWNjb3VudCBlbnRpdHkgYW5kIHJldHVybnMgaXQuXHJcbiAgICAgKiBJZiBhY2NvdW50IGlzIG5vdCBmb3VuZCBmcm9tIHRoZSBrZXksIHJldHVybnMgbnVsbCBhbmQgcmVtb3ZlcyBrZXkgZnJvbSBtYXAuXHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudEtleVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgZ2V0Q2FjaGVkQWNjb3VudEVudGl0eShhY2NvdW50S2V5KSB7XHJcbiAgICAgICAgY29uc3Qgc2VyaWFsaXplZEFjY291bnQgPSB0aGlzLmdldEl0ZW0oYWNjb3VudEtleSk7XHJcbiAgICAgICAgaWYgKCFzZXJpYWxpemVkQWNjb3VudCkge1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZUFjY291bnRLZXlGcm9tTWFwKGFjY291bnRLZXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFyc2VkQWNjb3VudCA9IHRoaXMudmFsaWRhdGVBbmRQYXJzZUpzb24oc2VyaWFsaXplZEFjY291bnQpO1xyXG4gICAgICAgIGlmICghcGFyc2VkQWNjb3VudCB8fCAhQWNjb3VudEVudGl0eS5pc0FjY291bnRFbnRpdHkocGFyc2VkQWNjb3VudCkpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVBY2NvdW50S2V5RnJvbU1hcChhY2NvdW50S2V5KTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBDYWNoZU1hbmFnZXIudG9PYmplY3QobmV3IEFjY291bnRFbnRpdHkoKSwgcGFyc2VkQWNjb3VudCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIHNldCBhY2NvdW50IGVudGl0eSBpbiB0aGUgcGxhdGZvcm0gY2FjaGVcclxuICAgICAqIEBwYXJhbSBhY2NvdW50XHJcbiAgICAgKi9cclxuICAgIHNldEFjY291bnQoYWNjb3VudCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5zZXRBY2NvdW50IGNhbGxlZFwiKTtcclxuICAgICAgICBjb25zdCBrZXkgPSBhY2NvdW50LmdlbmVyYXRlQWNjb3VudEtleSgpO1xyXG4gICAgICAgIHRoaXMuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KGFjY291bnQpKTtcclxuICAgICAgICB0aGlzLmFkZEFjY291bnRLZXlUb01hcChrZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBhcnJheSBvZiBhY2NvdW50IGtleXMgY3VycmVudGx5IGNhY2hlZFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgZ2V0QWNjb3VudEtleXMoKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldEFjY291bnRLZXlzIGNhbGxlZFwiKTtcclxuICAgICAgICBjb25zdCBhY2NvdW50S2V5cyA9IHRoaXMuZ2V0SXRlbShTdGF0aWNDYWNoZUtleXMuQUNDT1VOVF9LRVlTKTtcclxuICAgICAgICBpZiAoYWNjb3VudEtleXMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoYWNjb3VudEtleXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRBY2NvdW50S2V5cyAtIE5vIGFjY291bnQga2V5cyBmb3VuZFwiKTtcclxuICAgICAgICByZXR1cm4gW107XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZCBhIG5ldyBhY2NvdW50IHRvIHRoZSBrZXkgbWFwXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIGFkZEFjY291bnRLZXlUb01hcChrZXkpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuYWRkQWNjb3VudEtleVRvTWFwIGNhbGxlZFwiKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZVBpaShgQnJvd3NlckNhY2hlTWFuYWdlci5hZGRBY2NvdW50S2V5VG9NYXAgY2FsbGVkIHdpdGgga2V5OiAke2tleX1gKTtcclxuICAgICAgICBjb25zdCBhY2NvdW50S2V5cyA9IHRoaXMuZ2V0QWNjb3VudEtleXMoKTtcclxuICAgICAgICBpZiAoYWNjb3VudEtleXMuaW5kZXhPZihrZXkpID09PSAtMSkge1xyXG4gICAgICAgICAgICAvLyBPbmx5IGFkZCBrZXkgaWYgaXQgZG9lcyBub3QgYWxyZWFkeSBleGlzdCBpbiB0aGUgbWFwXHJcbiAgICAgICAgICAgIGFjY291bnRLZXlzLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgdGhpcy5zZXRJdGVtKFN0YXRpY0NhY2hlS2V5cy5BQ0NPVU5UX0tFWVMsIEpTT04uc3RyaW5naWZ5KGFjY291bnRLZXlzKSk7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmFkZEFjY291bnRLZXlUb01hcCBhY2NvdW50IGtleSBhZGRlZFwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmFkZEFjY291bnRLZXlUb01hcCBhY2NvdW50IGtleSBhbHJlYWR5IGV4aXN0cyBpbiBtYXBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYW4gYWNjb3VudCBmcm9tIHRoZSBrZXkgbWFwXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUFjY291bnRLZXlGcm9tTWFwKGtleSkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5yZW1vdmVBY2NvdW50S2V5RnJvbU1hcCBjYWxsZWRcIik7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2VQaWkoYEJyb3dzZXJDYWNoZU1hbmFnZXIucmVtb3ZlQWNjb3VudEtleUZyb21NYXAgY2FsbGVkIHdpdGgga2V5OiAke2tleX1gKTtcclxuICAgICAgICBjb25zdCBhY2NvdW50S2V5cyA9IHRoaXMuZ2V0QWNjb3VudEtleXMoKTtcclxuICAgICAgICBjb25zdCByZW1vdmFsSW5kZXggPSBhY2NvdW50S2V5cy5pbmRleE9mKGtleSk7XHJcbiAgICAgICAgaWYgKHJlbW92YWxJbmRleCA+IC0xKSB7XHJcbiAgICAgICAgICAgIGFjY291bnRLZXlzLnNwbGljZShyZW1vdmFsSW5kZXgsIDEpO1xyXG4gICAgICAgICAgICB0aGlzLnNldEl0ZW0oU3RhdGljQ2FjaGVLZXlzLkFDQ09VTlRfS0VZUywgSlNPTi5zdHJpbmdpZnkoYWNjb3VudEtleXMpKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLnJlbW92ZUFjY291bnRLZXlGcm9tTWFwIGFjY291bnQga2V5IHJlbW92ZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIucmVtb3ZlQWNjb3VudEtleUZyb21NYXAga2V5IG5vdCBmb3VuZCBpbiBleGlzdGluZyBtYXBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFeHRlbmRzIGluaGVyaXRlZCByZW1vdmVBY2NvdW50IGZ1bmN0aW9uIHRvIGluY2x1ZGUgcmVtb3ZhbCBvZiB0aGUgYWNjb3VudCBrZXkgZnJvbSB0aGUgbWFwXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlbW92ZUFjY291bnQoa2V5KSB7XHJcbiAgICAgICAgdm9pZCBzdXBlci5yZW1vdmVBY2NvdW50KGtleSk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBY2NvdW50S2V5RnJvbU1hcChrZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmUgYWNjb3VudCBlbnRpdHkgZnJvbSB0aGUgcGxhdGZvcm0gY2FjaGUgaWYgaXQncyBvdXRkYXRlZFxyXG4gICAgICogQHBhcmFtIGFjY291bnRLZXlcclxuICAgICAqL1xyXG4gICAgcmVtb3ZlT3V0ZGF0ZWRBY2NvdW50KGFjY291bnRLZXkpIHtcclxuICAgICAgICB0aGlzLnJlbW92ZUl0ZW0oYWNjb3VudEtleSk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBY2NvdW50S2V5RnJvbU1hcChhY2NvdW50S2V5KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBnaXZlbiBpZFRva2VuIGZyb20gdGhlIGNhY2hlIGFuZCBmcm9tIHRoZSBrZXkgbWFwXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUlkVG9rZW4oa2V5KSB7XHJcbiAgICAgICAgc3VwZXIucmVtb3ZlSWRUb2tlbihrZXkpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlVG9rZW5LZXkoa2V5LCBDcmVkZW50aWFsVHlwZS5JRF9UT0tFTik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgZ2l2ZW4gYWNjZXNzVG9rZW4gZnJvbSB0aGUgY2FjaGUgYW5kIGZyb20gdGhlIGtleSBtYXBcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqL1xyXG4gICAgYXN5bmMgcmVtb3ZlQWNjZXNzVG9rZW4oa2V5KSB7XHJcbiAgICAgICAgdm9pZCBzdXBlci5yZW1vdmVBY2Nlc3NUb2tlbihrZXkpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlVG9rZW5LZXkoa2V5LCBDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU4pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGdpdmVuIHJlZnJlc2hUb2tlbiBmcm9tIHRoZSBjYWNoZSBhbmQgZnJvbSB0aGUga2V5IG1hcFxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICByZW1vdmVSZWZyZXNoVG9rZW4oa2V5KSB7XHJcbiAgICAgICAgc3VwZXIucmVtb3ZlUmVmcmVzaFRva2VuKGtleSk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVUb2tlbktleShrZXksIENyZWRlbnRpYWxUeXBlLlJFRlJFU0hfVE9LRU4pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBrZXlzIGZvciB0aGUgY2FjaGVkIHRva2VucyBhc3NvY2lhdGVkIHdpdGggdGhpcyBjbGllbnRJZFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgZ2V0VG9rZW5LZXlzKCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRUb2tlbktleXMgY2FsbGVkXCIpO1xyXG4gICAgICAgIGNvbnN0IGl0ZW0gPSB0aGlzLmdldEl0ZW0oYCR7U3RhdGljQ2FjaGVLZXlzLlRPS0VOX0tFWVN9LiR7dGhpcy5jbGllbnRJZH1gKTtcclxuICAgICAgICBpZiAoaXRlbSkge1xyXG4gICAgICAgICAgICBjb25zdCB0b2tlbktleXMgPSB0aGlzLnZhbGlkYXRlQW5kUGFyc2VKc29uKGl0ZW0pO1xyXG4gICAgICAgICAgICBpZiAodG9rZW5LZXlzICYmXHJcbiAgICAgICAgICAgICAgICB0b2tlbktleXMuaGFzT3duUHJvcGVydHkoXCJpZFRva2VuXCIpICYmXHJcbiAgICAgICAgICAgICAgICB0b2tlbktleXMuaGFzT3duUHJvcGVydHkoXCJhY2Nlc3NUb2tlblwiKSAmJlxyXG4gICAgICAgICAgICAgICAgdG9rZW5LZXlzLmhhc093blByb3BlcnR5KFwicmVmcmVzaFRva2VuXCIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW5LZXlzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldFRva2VuS2V5cyAtIFRva2VuIGtleXMgZm91bmQgYnV0IGluIGFuIHVua25vd24gZm9ybWF0LiBSZXR1cm5pbmcgZW1wdHkga2V5IG1hcC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldFRva2VuS2V5cyAtIE5vIHRva2VuIGtleXMgZm91bmRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkVG9rZW46IFtdLFxyXG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogW10sXHJcbiAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogW10sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyB0aGUgZ2l2ZW4ga2V5IHRvIHRoZSB0b2tlbiBrZXkgbWFwXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gdHlwZVxyXG4gICAgICovXHJcbiAgICBhZGRUb2tlbktleShrZXksIHR5cGUpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIgYWRkVG9rZW5LZXkgY2FsbGVkXCIpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuS2V5cyA9IHRoaXMuZ2V0VG9rZW5LZXlzKCk7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ3JlZGVudGlhbFR5cGUuSURfVE9LRU46XHJcbiAgICAgICAgICAgICAgICBpZiAodG9rZW5LZXlzLmlkVG9rZW4uaW5kZXhPZihrZXkpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJCcm93c2VyQ2FjaGVNYW5hZ2VyOiBhZGRUb2tlbktleSAtIGlkVG9rZW4gYWRkZWQgdG8gbWFwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuS2V5cy5pZFRva2VuLnB1c2goa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTjpcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbktleXMuYWNjZXNzVG9rZW4uaW5kZXhPZihrZXkpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJCcm93c2VyQ2FjaGVNYW5hZ2VyOiBhZGRUb2tlbktleSAtIGFjY2Vzc1Rva2VuIGFkZGVkIHRvIG1hcFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbktleXMuYWNjZXNzVG9rZW4ucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQ3JlZGVudGlhbFR5cGUuUkVGUkVTSF9UT0tFTjpcclxuICAgICAgICAgICAgICAgIGlmICh0b2tlbktleXMucmVmcmVzaFRva2VuLmluZGV4T2Yoa2V5KSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiQnJvd3NlckNhY2hlTWFuYWdlcjogYWRkVG9rZW5LZXkgLSByZWZyZXNoVG9rZW4gYWRkZWQgdG8gbWFwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuS2V5cy5yZWZyZXNoVG9rZW4ucHVzaChrZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgQnJvd3NlckNhY2hlTWFuYWdlcjphZGRUb2tlbktleSAtIENyZWRlbnRpYWxUeXBlIHByb3ZpZGVkIGludmFsaWQuIENyZWRlbnRpYWxUeXBlOiAke3R5cGV9YCk7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yQ29kZXMudW5leHBlY3RlZENyZWRlbnRpYWxUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRJdGVtKGAke1N0YXRpY0NhY2hlS2V5cy5UT0tFTl9LRVlTfS4ke3RoaXMuY2xpZW50SWR9YCwgSlNPTi5zdHJpbmdpZnkodG9rZW5LZXlzKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIGtleSBmcm9tIHRoZSB0b2tlbiBrZXkgbWFwXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gdHlwZVxyXG4gICAgICovXHJcbiAgICByZW1vdmVUb2tlbktleShrZXksIHR5cGUpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIgcmVtb3ZlVG9rZW5LZXkgY2FsbGVkXCIpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuS2V5cyA9IHRoaXMuZ2V0VG9rZW5LZXlzKCk7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ3JlZGVudGlhbFR5cGUuSURfVE9LRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvUGlpKGBCcm93c2VyQ2FjaGVNYW5hZ2VyOiByZW1vdmVUb2tlbktleSAtIGF0dGVtcHRpbmcgdG8gcmVtb3ZlIGlkVG9rZW4gd2l0aCBrZXk6ICR7a2V5fSBmcm9tIG1hcGApO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWRSZW1vdmFsID0gdG9rZW5LZXlzLmlkVG9rZW4uaW5kZXhPZihrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlkUmVtb3ZhbCA+IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcIkJyb3dzZXJDYWNoZU1hbmFnZXI6IHJlbW92ZVRva2VuS2V5IC0gaWRUb2tlbiByZW1vdmVkIGZyb20gbWFwXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRva2VuS2V5cy5pZFRva2VuLnNwbGljZShpZFJlbW92YWwsIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcIkJyb3dzZXJDYWNoZU1hbmFnZXI6IHJlbW92ZVRva2VuS2V5IC0gaWRUb2tlbiBkb2VzIG5vdCBleGlzdCBpbiBtYXAuIEVpdGhlciBpdCB3YXMgcHJldmlvdXNseSByZW1vdmVkIG9yIGl0IHdhcyBuZXZlciBhZGRlZC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvUGlpKGBCcm93c2VyQ2FjaGVNYW5hZ2VyOiByZW1vdmVUb2tlbktleSAtIGF0dGVtcHRpbmcgdG8gcmVtb3ZlIGFjY2Vzc1Rva2VuIHdpdGgga2V5OiAke2tleX0gZnJvbSBtYXBgKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1JlbW92YWwgPSB0b2tlbktleXMuYWNjZXNzVG9rZW4uaW5kZXhPZihrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjY2Vzc1JlbW92YWwgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJCcm93c2VyQ2FjaGVNYW5hZ2VyOiByZW1vdmVUb2tlbktleSAtIGFjY2Vzc1Rva2VuIHJlbW92ZWQgZnJvbSBtYXBcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdG9rZW5LZXlzLmFjY2Vzc1Rva2VuLnNwbGljZShhY2Nlc3NSZW1vdmFsLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJCcm93c2VyQ2FjaGVNYW5hZ2VyOiByZW1vdmVUb2tlbktleSAtIGFjY2Vzc1Rva2VuIGRvZXMgbm90IGV4aXN0IGluIG1hcC4gRWl0aGVyIGl0IHdhcyBwcmV2aW91c2x5IHJlbW92ZWQgb3IgaXQgd2FzIG5ldmVyIGFkZGVkLlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIENyZWRlbnRpYWxUeXBlLlJFRlJFU0hfVE9LRU46XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvUGlpKGBCcm93c2VyQ2FjaGVNYW5hZ2VyOiByZW1vdmVUb2tlbktleSAtIGF0dGVtcHRpbmcgdG8gcmVtb3ZlIHJlZnJlc2hUb2tlbiB3aXRoIGtleTogJHtrZXl9IGZyb20gbWFwYCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZWZyZXNoUmVtb3ZhbCA9IHRva2VuS2V5cy5yZWZyZXNoVG9rZW4uaW5kZXhPZihrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlZnJlc2hSZW1vdmFsID4gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiQnJvd3NlckNhY2hlTWFuYWdlcjogcmVtb3ZlVG9rZW5LZXkgLSByZWZyZXNoVG9rZW4gcmVtb3ZlZCBmcm9tIG1hcFwiKTtcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbktleXMucmVmcmVzaFRva2VuLnNwbGljZShyZWZyZXNoUmVtb3ZhbCwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiQnJvd3NlckNhY2hlTWFuYWdlcjogcmVtb3ZlVG9rZW5LZXkgLSByZWZyZXNoVG9rZW4gZG9lcyBub3QgZXhpc3QgaW4gbWFwLiBFaXRoZXIgaXQgd2FzIHByZXZpb3VzbHkgcmVtb3ZlZCBvciBpdCB3YXMgbmV2ZXIgYWRkZWQuXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgQnJvd3NlckNhY2hlTWFuYWdlcjpyZW1vdmVUb2tlbktleSAtIENyZWRlbnRpYWxUeXBlIHByb3ZpZGVkIGludmFsaWQuIENyZWRlbnRpYWxUeXBlOiAke3R5cGV9YCk7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yQ29kZXMudW5leHBlY3RlZENyZWRlbnRpYWxUeXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXRJdGVtKGAke1N0YXRpY0NhY2hlS2V5cy5UT0tFTl9LRVlTfS4ke3RoaXMuY2xpZW50SWR9YCwgSlNPTi5zdHJpbmdpZnkodG9rZW5LZXlzKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGdlbmVyYXRlcyBpZFRva2VuIGVudGl0eSBmcm9tIGEgc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gaWRUb2tlbktleVxyXG4gICAgICovXHJcbiAgICBnZXRJZFRva2VuQ3JlZGVudGlhbChpZFRva2VuS2V5KSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldEl0ZW0oaWRUb2tlbktleSk7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0SWRUb2tlbkNyZWRlbnRpYWw6IGNhbGxlZCwgbm8gY2FjaGUgaGl0XCIpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZVRva2VuS2V5KGlkVG9rZW5LZXksIENyZWRlbnRpYWxUeXBlLklEX1RPS0VOKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcnNlZElkVG9rZW4gPSB0aGlzLnZhbGlkYXRlQW5kUGFyc2VKc29uKHZhbHVlKTtcclxuICAgICAgICBpZiAoIXBhcnNlZElkVG9rZW4gfHwgIUNhY2hlSGVscGVycy5pc0lkVG9rZW5FbnRpdHkocGFyc2VkSWRUb2tlbikpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldElkVG9rZW5DcmVkZW50aWFsOiBjYWxsZWQsIG5vIGNhY2hlIGhpdFwiKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVUb2tlbktleShpZFRva2VuS2V5LCBDcmVkZW50aWFsVHlwZS5JRF9UT0tFTik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0SWRUb2tlbkNyZWRlbnRpYWw6IGNhY2hlIGhpdFwiKTtcclxuICAgICAgICByZXR1cm4gcGFyc2VkSWRUb2tlbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogc2V0IElkVG9rZW4gY3JlZGVudGlhbCB0byB0aGUgcGxhdGZvcm0gY2FjaGVcclxuICAgICAqIEBwYXJhbSBpZFRva2VuXHJcbiAgICAgKi9cclxuICAgIHNldElkVG9rZW5DcmVkZW50aWFsKGlkVG9rZW4pIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuc2V0SWRUb2tlbkNyZWRlbnRpYWwgY2FsbGVkXCIpO1xyXG4gICAgICAgIGNvbnN0IGlkVG9rZW5LZXkgPSBDYWNoZUhlbHBlcnMuZ2VuZXJhdGVDcmVkZW50aWFsS2V5KGlkVG9rZW4pO1xyXG4gICAgICAgIHRoaXMuc2V0SXRlbShpZFRva2VuS2V5LCBKU09OLnN0cmluZ2lmeShpZFRva2VuKSk7XHJcbiAgICAgICAgdGhpcy5hZGRUb2tlbktleShpZFRva2VuS2V5LCBDcmVkZW50aWFsVHlwZS5JRF9UT0tFTik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGdlbmVyYXRlcyBhY2Nlc3NUb2tlbiBlbnRpdHkgZnJvbSBhIHN0cmluZ1xyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICBnZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWwoYWNjZXNzVG9rZW5LZXkpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuZ2V0SXRlbShhY2Nlc3NUb2tlbktleSk7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0QWNjZXNzVG9rZW5DcmVkZW50aWFsOiBjYWxsZWQsIG5vIGNhY2hlIGhpdFwiKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVUb2tlbktleShhY2Nlc3NUb2tlbktleSwgQ3JlZGVudGlhbFR5cGUuQUNDRVNTX1RPS0VOKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcnNlZEFjY2Vzc1Rva2VuID0gdGhpcy52YWxpZGF0ZUFuZFBhcnNlSnNvbih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKCFwYXJzZWRBY2Nlc3NUb2tlbiB8fFxyXG4gICAgICAgICAgICAhQ2FjaGVIZWxwZXJzLmlzQWNjZXNzVG9rZW5FbnRpdHkocGFyc2VkQWNjZXNzVG9rZW4pKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWw6IGNhbGxlZCwgbm8gY2FjaGUgaGl0XCIpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZVRva2VuS2V5KGFjY2Vzc1Rva2VuS2V5LCBDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU4pO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldEFjY2Vzc1Rva2VuQ3JlZGVudGlhbDogY2FjaGUgaGl0XCIpO1xyXG4gICAgICAgIHJldHVybiBwYXJzZWRBY2Nlc3NUb2tlbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogc2V0IGFjY2Vzc1Rva2VuIGNyZWRlbnRpYWwgdG8gdGhlIHBsYXRmb3JtIGNhY2hlXHJcbiAgICAgKiBAcGFyYW0gYWNjZXNzVG9rZW5cclxuICAgICAqL1xyXG4gICAgc2V0QWNjZXNzVG9rZW5DcmVkZW50aWFsKGFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLnNldEFjY2Vzc1Rva2VuQ3JlZGVudGlhbCBjYWxsZWRcIik7XHJcbiAgICAgICAgY29uc3QgYWNjZXNzVG9rZW5LZXkgPSBDYWNoZUhlbHBlcnMuZ2VuZXJhdGVDcmVkZW50aWFsS2V5KGFjY2Vzc1Rva2VuKTtcclxuICAgICAgICB0aGlzLnNldEl0ZW0oYWNjZXNzVG9rZW5LZXksIEpTT04uc3RyaW5naWZ5KGFjY2Vzc1Rva2VuKSk7XHJcbiAgICAgICAgdGhpcy5hZGRUb2tlbktleShhY2Nlc3NUb2tlbktleSwgQ3JlZGVudGlhbFR5cGUuQUNDRVNTX1RPS0VOKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogZ2VuZXJhdGVzIHJlZnJlc2hUb2tlbiBlbnRpdHkgZnJvbSBhIHN0cmluZ1xyXG4gICAgICogQHBhcmFtIHJlZnJlc2hUb2tlbktleVxyXG4gICAgICovXHJcbiAgICBnZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsKHJlZnJlc2hUb2tlbktleSkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRJdGVtKHJlZnJlc2hUb2tlbktleSk7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0UmVmcmVzaFRva2VuQ3JlZGVudGlhbDogY2FsbGVkLCBubyBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVG9rZW5LZXkocmVmcmVzaFRva2VuS2V5LCBDcmVkZW50aWFsVHlwZS5SRUZSRVNIX1RPS0VOKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcnNlZFJlZnJlc2hUb2tlbiA9IHRoaXMudmFsaWRhdGVBbmRQYXJzZUpzb24odmFsdWUpO1xyXG4gICAgICAgIGlmICghcGFyc2VkUmVmcmVzaFRva2VuIHx8XHJcbiAgICAgICAgICAgICFDYWNoZUhlbHBlcnMuaXNSZWZyZXNoVG9rZW5FbnRpdHkocGFyc2VkUmVmcmVzaFRva2VuKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0UmVmcmVzaFRva2VuQ3JlZGVudGlhbDogY2FsbGVkLCBubyBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVG9rZW5LZXkocmVmcmVzaFRva2VuS2V5LCBDcmVkZW50aWFsVHlwZS5SRUZSRVNIX1RPS0VOKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsOiBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlZFJlZnJlc2hUb2tlbjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogc2V0IHJlZnJlc2hUb2tlbiBjcmVkZW50aWFsIHRvIHRoZSBwbGF0Zm9ybSBjYWNoZVxyXG4gICAgICogQHBhcmFtIHJlZnJlc2hUb2tlblxyXG4gICAgICovXHJcbiAgICBzZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsKHJlZnJlc2hUb2tlbikge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5zZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsIGNhbGxlZFwiKTtcclxuICAgICAgICBjb25zdCByZWZyZXNoVG9rZW5LZXkgPSBDYWNoZUhlbHBlcnMuZ2VuZXJhdGVDcmVkZW50aWFsS2V5KHJlZnJlc2hUb2tlbik7XHJcbiAgICAgICAgdGhpcy5zZXRJdGVtKHJlZnJlc2hUb2tlbktleSwgSlNPTi5zdHJpbmdpZnkocmVmcmVzaFRva2VuKSk7XHJcbiAgICAgICAgdGhpcy5hZGRUb2tlbktleShyZWZyZXNoVG9rZW5LZXksIENyZWRlbnRpYWxUeXBlLlJFRlJFU0hfVE9LRU4pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBmZXRjaCBhcHBNZXRhZGF0YSBlbnRpdHkgZnJvbSB0aGUgcGxhdGZvcm0gY2FjaGVcclxuICAgICAqIEBwYXJhbSBhcHBNZXRhZGF0YUtleVxyXG4gICAgICovXHJcbiAgICBnZXRBcHBNZXRhZGF0YShhcHBNZXRhZGF0YUtleSkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRJdGVtKGFwcE1ldGFkYXRhS2V5KTtcclxuICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRBcHBNZXRhZGF0YTogY2FsbGVkLCBubyBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBwYXJzZWRNZXRhZGF0YSA9IHRoaXMudmFsaWRhdGVBbmRQYXJzZUpzb24odmFsdWUpO1xyXG4gICAgICAgIGlmICghcGFyc2VkTWV0YWRhdGEgfHxcclxuICAgICAgICAgICAgIUNhY2hlSGVscGVycy5pc0FwcE1ldGFkYXRhRW50aXR5KGFwcE1ldGFkYXRhS2V5LCBwYXJzZWRNZXRhZGF0YSkpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldEFwcE1ldGFkYXRhOiBjYWxsZWQsIG5vIGNhY2hlIGhpdFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRBcHBNZXRhZGF0YTogY2FjaGUgaGl0XCIpO1xyXG4gICAgICAgIHJldHVybiBwYXJzZWRNZXRhZGF0YTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogc2V0IGFwcE1ldGFkYXRhIGVudGl0eSB0byB0aGUgcGxhdGZvcm0gY2FjaGVcclxuICAgICAqIEBwYXJhbSBhcHBNZXRhZGF0YVxyXG4gICAgICovXHJcbiAgICBzZXRBcHBNZXRhZGF0YShhcHBNZXRhZGF0YSkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5zZXRBcHBNZXRhZGF0YSBjYWxsZWRcIik7XHJcbiAgICAgICAgY29uc3QgYXBwTWV0YWRhdGFLZXkgPSBDYWNoZUhlbHBlcnMuZ2VuZXJhdGVBcHBNZXRhZGF0YUtleShhcHBNZXRhZGF0YSk7XHJcbiAgICAgICAgdGhpcy5zZXRJdGVtKGFwcE1ldGFkYXRhS2V5LCBKU09OLnN0cmluZ2lmeShhcHBNZXRhZGF0YSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBmZXRjaCBzZXJ2ZXIgdGVsZW1ldHJ5IGVudGl0eSBmcm9tIHRoZSBwbGF0Zm9ybSBjYWNoZVxyXG4gICAgICogQHBhcmFtIHNlcnZlclRlbGVtZXRyeUtleVxyXG4gICAgICovXHJcbiAgICBnZXRTZXJ2ZXJUZWxlbWV0cnkoc2VydmVyVGVsZW1ldHJ5S2V5KSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmdldEl0ZW0oc2VydmVyVGVsZW1ldHJ5S2V5KTtcclxuICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRTZXJ2ZXJUZWxlbWV0cnk6IGNhbGxlZCwgbm8gY2FjaGUgaGl0XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFyc2VkRW50aXR5ID0gdGhpcy52YWxpZGF0ZUFuZFBhcnNlSnNvbih2YWx1ZSk7XHJcbiAgICAgICAgaWYgKCFwYXJzZWRFbnRpdHkgfHxcclxuICAgICAgICAgICAgIUNhY2hlSGVscGVycy5pc1NlcnZlclRlbGVtZXRyeUVudGl0eShzZXJ2ZXJUZWxlbWV0cnlLZXksIHBhcnNlZEVudGl0eSkpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldFNlcnZlclRlbGVtZXRyeTogY2FsbGVkLCBubyBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0U2VydmVyVGVsZW1ldHJ5OiBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlZEVudGl0eTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogc2V0IHNlcnZlciB0ZWxlbWV0cnkgZW50aXR5IHRvIHRoZSBwbGF0Zm9ybSBjYWNoZVxyXG4gICAgICogQHBhcmFtIHNlcnZlclRlbGVtZXRyeUtleVxyXG4gICAgICogQHBhcmFtIHNlcnZlclRlbGVtZXRyeVxyXG4gICAgICovXHJcbiAgICBzZXRTZXJ2ZXJUZWxlbWV0cnkoc2VydmVyVGVsZW1ldHJ5S2V5LCBzZXJ2ZXJUZWxlbWV0cnkpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuc2V0U2VydmVyVGVsZW1ldHJ5IGNhbGxlZFwiKTtcclxuICAgICAgICB0aGlzLnNldEl0ZW0oc2VydmVyVGVsZW1ldHJ5S2V5LCBKU09OLnN0cmluZ2lmeShzZXJ2ZXJUZWxlbWV0cnkpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgZ2V0QXV0aG9yaXR5TWV0YWRhdGEoa2V5KSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLmludGVybmFsU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0QXV0aG9yaXR5TWV0YWRhdGE6IGNhbGxlZCwgbm8gY2FjaGUgaGl0XCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFyc2VkTWV0YWRhdGEgPSB0aGlzLnZhbGlkYXRlQW5kUGFyc2VKc29uKHZhbHVlKTtcclxuICAgICAgICBpZiAocGFyc2VkTWV0YWRhdGEgJiZcclxuICAgICAgICAgICAgQ2FjaGVIZWxwZXJzLmlzQXV0aG9yaXR5TWV0YWRhdGFFbnRpdHkoa2V5LCBwYXJzZWRNZXRhZGF0YSkpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldEF1dGhvcml0eU1ldGFkYXRhOiBjYWNoZSBoaXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJzZWRNZXRhZGF0YTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIGdldEF1dGhvcml0eU1ldGFkYXRhS2V5cygpIHtcclxuICAgICAgICBjb25zdCBhbGxLZXlzID0gdGhpcy5pbnRlcm5hbFN0b3JhZ2UuZ2V0S2V5cygpO1xyXG4gICAgICAgIHJldHVybiBhbGxLZXlzLmZpbHRlcigoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzQXV0aG9yaXR5TWV0YWRhdGEoa2V5KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB3cmFwcGVyIG1ldGFkYXRhIGluIG1lbW9yeVxyXG4gICAgICogQHBhcmFtIHdyYXBwZXJTS1VcclxuICAgICAqIEBwYXJhbSB3cmFwcGVyVmVyc2lvblxyXG4gICAgICovXHJcbiAgICBzZXRXcmFwcGVyTWV0YWRhdGEod3JhcHBlclNLVSwgd3JhcHBlclZlcnNpb24pIHtcclxuICAgICAgICB0aGlzLmludGVybmFsU3RvcmFnZS5zZXRJdGVtKEluTWVtb3J5Q2FjaGVLZXlzLldSQVBQRVJfU0tVLCB3cmFwcGVyU0tVKTtcclxuICAgICAgICB0aGlzLmludGVybmFsU3RvcmFnZS5zZXRJdGVtKEluTWVtb3J5Q2FjaGVLZXlzLldSQVBQRVJfVkVSLCB3cmFwcGVyVmVyc2lvbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd3JhcHBlciBtZXRhZGF0YSBmcm9tIGluLW1lbW9yeSBzdG9yYWdlXHJcbiAgICAgKi9cclxuICAgIGdldFdyYXBwZXJNZXRhZGF0YSgpIHtcclxuICAgICAgICBjb25zdCBza3UgPSB0aGlzLmludGVybmFsU3RvcmFnZS5nZXRJdGVtKEluTWVtb3J5Q2FjaGVLZXlzLldSQVBQRVJfU0tVKSB8fFxyXG4gICAgICAgICAgICBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgIGNvbnN0IHZlcnNpb24gPSB0aGlzLmludGVybmFsU3RvcmFnZS5nZXRJdGVtKEluTWVtb3J5Q2FjaGVLZXlzLldSQVBQRVJfVkVSKSB8fFxyXG4gICAgICAgICAgICBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgIHJldHVybiBbc2t1LCB2ZXJzaW9uXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBlbnRpdHlcclxuICAgICAqL1xyXG4gICAgc2V0QXV0aG9yaXR5TWV0YWRhdGEoa2V5LCBlbnRpdHkpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuc2V0QXV0aG9yaXR5TWV0YWRhdGEgY2FsbGVkXCIpO1xyXG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdG9yYWdlLnNldEl0ZW0oa2V5LCBKU09OLnN0cmluZ2lmeShlbnRpdHkpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgYWN0aXZlIGFjY291bnRcclxuICAgICAqL1xyXG4gICAgZ2V0QWN0aXZlQWNjb3VudCgpIHtcclxuICAgICAgICBjb25zdCBhY3RpdmVBY2NvdW50S2V5RmlsdGVycyA9IHRoaXMuZ2VuZXJhdGVDYWNoZUtleShQZXJzaXN0ZW50Q2FjaGVLZXlzLkFDVElWRV9BQ0NPVU5UX0ZJTFRFUlMpO1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZUFjY291bnRWYWx1ZUZpbHRlcnMgPSB0aGlzLmdldEl0ZW0oYWN0aXZlQWNjb3VudEtleUZpbHRlcnMpO1xyXG4gICAgICAgIGlmICghYWN0aXZlQWNjb3VudFZhbHVlRmlsdGVycykge1xyXG4gICAgICAgICAgICAvLyBpZiBuZXcgYWN0aXZlIGFjY291bnQgY2FjaGUgdHlwZSBpc24ndCBmb3VuZCwgaXQncyBhbiBvbGQgdmVyc2lvbiwgc28gbG9vayBmb3IgdGhhdCBpbnN0ZWFkXHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRBY3RpdmVBY2NvdW50OiBObyBhY3RpdmUgYWNjb3VudCBmaWx0ZXJzIGNhY2hlIHNjaGVtYSBmb3VuZCwgbG9va2luZyBmb3IgbGVnYWN5IHNjaGVtYVwiKTtcclxuICAgICAgICAgICAgY29uc3QgYWN0aXZlQWNjb3VudEtleUxvY2FsID0gdGhpcy5nZW5lcmF0ZUNhY2hlS2V5KFBlcnNpc3RlbnRDYWNoZUtleXMuQUNUSVZFX0FDQ09VTlQpO1xyXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVBY2NvdW50VmFsdWVMb2NhbCA9IHRoaXMuZ2V0SXRlbShhY3RpdmVBY2NvdW50S2V5TG9jYWwpO1xyXG4gICAgICAgICAgICBpZiAoIWFjdGl2ZUFjY291bnRWYWx1ZUxvY2FsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0QWN0aXZlQWNjb3VudDogTm8gYWN0aXZlIGFjY291bnQgZm91bmRcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVBY2NvdW50ID0gdGhpcy5nZXRBY2NvdW50SW5mb0ZpbHRlcmVkQnkoe1xyXG4gICAgICAgICAgICAgICAgbG9jYWxBY2NvdW50SWQ6IGFjdGl2ZUFjY291bnRWYWx1ZUxvY2FsLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGFjdGl2ZUFjY291bnQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRBY3RpdmVBY2NvdW50OiBMZWdhY3kgYWN0aXZlIGFjY291bnQgY2FjaGUgc2NoZW1hIGZvdW5kXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldEFjdGl2ZUFjY291bnQ6IEFkZGluZyBhY3RpdmUgYWNjb3VudCBmaWx0ZXJzIGNhY2hlIHNjaGVtYVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0QWN0aXZlQWNjb3VudChhY3RpdmVBY2NvdW50KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhY3RpdmVBY2NvdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhY3RpdmVBY2NvdW50VmFsdWVPYmogPSB0aGlzLnZhbGlkYXRlQW5kUGFyc2VKc29uKGFjdGl2ZUFjY291bnRWYWx1ZUZpbHRlcnMpO1xyXG4gICAgICAgIGlmIChhY3RpdmVBY2NvdW50VmFsdWVPYmopIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldEFjdGl2ZUFjY291bnQ6IEFjdGl2ZSBhY2NvdW50IGZpbHRlcnMgc2NoZW1hIGZvdW5kXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBY2NvdW50SW5mb0ZpbHRlcmVkQnkoe1xyXG4gICAgICAgICAgICAgICAgaG9tZUFjY291bnRJZDogYWN0aXZlQWNjb3VudFZhbHVlT2JqLmhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgICAgICAgICBsb2NhbEFjY291bnRJZDogYWN0aXZlQWNjb3VudFZhbHVlT2JqLmxvY2FsQWNjb3VudElkLFxyXG4gICAgICAgICAgICAgICAgdGVuYW50SWQ6IGFjdGl2ZUFjY291bnRWYWx1ZU9iai50ZW5hbnRJZCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRBY3RpdmVBY2NvdW50OiBObyBhY3RpdmUgYWNjb3VudCBmb3VuZFwiKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgYWN0aXZlIGFjY291bnQncyBsb2NhbEFjY291bnRJZCBpbiBjYWNoZVxyXG4gICAgICogQHBhcmFtIGFjY291bnRcclxuICAgICAqL1xyXG4gICAgc2V0QWN0aXZlQWNjb3VudChhY2NvdW50KSB7XHJcbiAgICAgICAgY29uc3QgYWN0aXZlQWNjb3VudEtleSA9IHRoaXMuZ2VuZXJhdGVDYWNoZUtleShQZXJzaXN0ZW50Q2FjaGVLZXlzLkFDVElWRV9BQ0NPVU5UX0ZJTFRFUlMpO1xyXG4gICAgICAgIGNvbnN0IGFjdGl2ZUFjY291bnRLZXlMb2NhbCA9IHRoaXMuZ2VuZXJhdGVDYWNoZUtleShQZXJzaXN0ZW50Q2FjaGVLZXlzLkFDVElWRV9BQ0NPVU5UKTtcclxuICAgICAgICBpZiAoYWNjb3VudCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwic2V0QWN0aXZlQWNjb3VudDogQWN0aXZlIGFjY291bnQgc2V0XCIpO1xyXG4gICAgICAgICAgICBjb25zdCBhY3RpdmVBY2NvdW50VmFsdWUgPSB7XHJcbiAgICAgICAgICAgICAgICBob21lQWNjb3VudElkOiBhY2NvdW50LmhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgICAgICAgICBsb2NhbEFjY291bnRJZDogYWNjb3VudC5sb2NhbEFjY291bnRJZCxcclxuICAgICAgICAgICAgICAgIHRlbmFudElkOiBhY2NvdW50LnRlbmFudElkLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEl0ZW0oYWN0aXZlQWNjb3VudEtleSwgSlNPTi5zdHJpbmdpZnkoYWN0aXZlQWNjb3VudFZhbHVlKSk7XHJcbiAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0SXRlbShhY3RpdmVBY2NvdW50S2V5TG9jYWwsIGFjY291bnQubG9jYWxBY2NvdW50SWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcInNldEFjdGl2ZUFjY291bnQ6IE5vIGFjY291bnQgcGFzc2VkLCBhY3RpdmUgYWNjb3VudCBub3Qgc2V0XCIpO1xyXG4gICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnJlbW92ZUl0ZW0oYWN0aXZlQWNjb3VudEtleSk7XHJcbiAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UucmVtb3ZlSXRlbShhY3RpdmVBY2NvdW50S2V5TG9jYWwpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogZmV0Y2ggdGhyb3R0bGluZyBlbnRpdHkgZnJvbSB0aGUgcGxhdGZvcm0gY2FjaGVcclxuICAgICAqIEBwYXJhbSB0aHJvdHRsaW5nQ2FjaGVLZXlcclxuICAgICAqL1xyXG4gICAgZ2V0VGhyb3R0bGluZ0NhY2hlKHRocm90dGxpbmdDYWNoZUtleSkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gdGhpcy5nZXRJdGVtKHRocm90dGxpbmdDYWNoZUtleSk7XHJcbiAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0VGhyb3R0bGluZ0NhY2hlOiBjYWxsZWQsIG5vIGNhY2hlIGhpdFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhcnNlZFRocm90dGxpbmdDYWNoZSA9IHRoaXMudmFsaWRhdGVBbmRQYXJzZUpzb24odmFsdWUpO1xyXG4gICAgICAgIGlmICghcGFyc2VkVGhyb3R0bGluZ0NhY2hlIHx8XHJcbiAgICAgICAgICAgICFDYWNoZUhlbHBlcnMuaXNUaHJvdHRsaW5nRW50aXR5KHRocm90dGxpbmdDYWNoZUtleSwgcGFyc2VkVGhyb3R0bGluZ0NhY2hlKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0VGhyb3R0bGluZ0NhY2hlOiBjYWxsZWQsIG5vIGNhY2hlIGhpdFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRUaHJvdHRsaW5nQ2FjaGU6IGNhY2hlIGhpdFwiKTtcclxuICAgICAgICByZXR1cm4gcGFyc2VkVGhyb3R0bGluZ0NhY2hlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBzZXQgdGhyb3R0bGluZyBlbnRpdHkgdG8gdGhlIHBsYXRmb3JtIGNhY2hlXHJcbiAgICAgKiBAcGFyYW0gdGhyb3R0bGluZ0NhY2hlS2V5XHJcbiAgICAgKiBAcGFyYW0gdGhyb3R0bGluZ0NhY2hlXHJcbiAgICAgKi9cclxuICAgIHNldFRocm90dGxpbmdDYWNoZSh0aHJvdHRsaW5nQ2FjaGVLZXksIHRocm90dGxpbmdDYWNoZSkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5zZXRUaHJvdHRsaW5nQ2FjaGUgY2FsbGVkXCIpO1xyXG4gICAgICAgIHRoaXMuc2V0SXRlbSh0aHJvdHRsaW5nQ2FjaGVLZXksIEpTT04uc3RyaW5naWZ5KHRocm90dGxpbmdDYWNoZSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGNhY2hlIGl0ZW0gd2l0aCBnaXZlbiBrZXkuXHJcbiAgICAgKiBXaWxsIHJldHJpZXZlIGZyb20gY29va2llcyBpZiBzdG9yZUF1dGhTdGF0ZUluQ29va2llIGlzIHNldCB0byB0cnVlLlxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICBnZXRUZW1wb3JhcnlDYWNoZShjYWNoZUtleSwgZ2VuZXJhdGVLZXkpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBnZW5lcmF0ZUtleSA/IHRoaXMuZ2VuZXJhdGVDYWNoZUtleShjYWNoZUtleSkgOiBjYWNoZUtleTtcclxuICAgICAgICBpZiAodGhpcy5jYWNoZUNvbmZpZy5zdG9yZUF1dGhTdGF0ZUluQ29va2llKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1Db29raWUgPSB0aGlzLmNvb2tpZVN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgICAgICBpZiAoaXRlbUNvb2tpZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldFRlbXBvcmFyeUNhY2hlOiBzdG9yZUF1dGhTdGF0ZUluQ29va2llcyBzZXQgdG8gdHJ1ZSwgcmV0cmlldmluZyBmcm9tIGNvb2tpZXNcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbUNvb2tpZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMudGVtcG9yYXJ5Q2FjaGVTdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRlbXAgY2FjaGUgaXRlbSBub3QgZm91bmQgaW4gc2Vzc2lvbi9tZW1vcnksIGNoZWNrIGxvY2FsIHN0b3JhZ2UgZm9yIGl0ZW1zIHNldCBieSBvbGQgdmVyc2lvbnNcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2FjaGVDb25maWcuY2FjaGVMb2NhdGlvbiA9PT1cclxuICAgICAgICAgICAgICAgIEJyb3dzZXJDYWNoZUxvY2F0aW9uLkxvY2FsU3RvcmFnZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0VGVtcG9yYXJ5Q2FjaGU6IFRlbXBvcmFyeSBjYWNoZSBpdGVtIGZvdW5kIGluIGxvY2FsIHN0b3JhZ2VcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmdldFRlbXBvcmFyeUNhY2hlOiBObyBjYWNoZSBpdGVtIGZvdW5kIGluIGxvY2FsIHN0b3JhZ2VcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0VGVtcG9yYXJ5Q2FjaGU6IFRlbXBvcmFyeSBjYWNoZSBpdGVtIHJldHVybmVkXCIpO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgY2FjaGUgaXRlbSB3aXRoIHRoZSBrZXkgYW5kIHZhbHVlIGdpdmVuLlxyXG4gICAgICogU3RvcmVzIGluIGNvb2tpZSBpZiBzdG9yZUF1dGhTdGF0ZUluQ29va2llIGlzIHNldCB0byB0cnVlLlxyXG4gICAgICogVGhpcyBjYW4gY2F1c2UgY29va2llIG92ZXJmbG93IGlmIHVzZWQgaW5jb3JyZWN0bHkuXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqL1xyXG4gICAgc2V0VGVtcG9yYXJ5Q2FjaGUoY2FjaGVLZXksIHZhbHVlLCBnZW5lcmF0ZUtleSkge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGdlbmVyYXRlS2V5ID8gdGhpcy5nZW5lcmF0ZUNhY2hlS2V5KGNhY2hlS2V5KSA6IGNhY2hlS2V5O1xyXG4gICAgICAgIHRoaXMudGVtcG9yYXJ5Q2FjaGVTdG9yYWdlLnNldEl0ZW0oa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuY2FjaGVDb25maWcuc3RvcmVBdXRoU3RhdGVJbkNvb2tpZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuc2V0VGVtcG9yYXJ5Q2FjaGU6IHN0b3JlQXV0aFN0YXRlSW5Db29raWUgc2V0IHRvIHRydWUsIHNldHRpbmcgaXRlbSBjb29raWVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY29va2llU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUsIHVuZGVmaW5lZCwgdGhpcy5jYWNoZUNvbmZpZy5zZWN1cmVDb29raWVzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgdGhlIGNhY2hlIGl0ZW0gd2l0aCB0aGUgZ2l2ZW4ga2V5LlxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICByZW1vdmVJdGVtKGtleSkge1xyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIHRoZSB0ZW1wb3JhcnkgY2FjaGUgaXRlbSB3aXRoIHRoZSBnaXZlbiBrZXkuXHJcbiAgICAgKiBXaWxsIGFsc28gY2xlYXIgdGhlIGNvb2tpZSBpdGVtIGlmIHN0b3JlQXV0aFN0YXRlSW5Db29raWUgaXMgc2V0IHRvIHRydWUuXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZVRlbXBvcmFyeUl0ZW0oa2V5KSB7XHJcbiAgICAgICAgdGhpcy50ZW1wb3JhcnlDYWNoZVN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgICAgIGlmICh0aGlzLmNhY2hlQ29uZmlnLnN0b3JlQXV0aFN0YXRlSW5Db29raWUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLnJlbW92ZUl0ZW06IHN0b3JlQXV0aFN0YXRlSW5Db29raWUgaXMgdHJ1ZSwgY2xlYXJpbmcgaXRlbSBjb29raWVcIik7XHJcbiAgICAgICAgICAgIHRoaXMuY29va2llU3RvcmFnZS5yZW1vdmVJdGVtKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFsbCBrZXlzIGluIHdpbmRvdy5cclxuICAgICAqL1xyXG4gICAgZ2V0S2V5cygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRLZXlzKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBhbGwgY2FjaGUgZW50cmllcyBjcmVhdGVkIGJ5IE1TQUwuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGNsZWFyKCkge1xyXG4gICAgICAgIC8vIFJlbW92ZXMgYWxsIGFjY291bnRzIGFuZCB0aGVpciBjcmVkZW50aWFsc1xyXG4gICAgICAgIGF3YWl0IHRoaXMucmVtb3ZlQWxsQWNjb3VudHMoKTtcclxuICAgICAgICB0aGlzLnJlbW92ZUFwcE1ldGFkYXRhKCk7XHJcbiAgICAgICAgLy8gUmVtb3ZlIHRlbXAgc3RvcmFnZSBmaXJzdCB0byBtYWtlIHN1cmUgYW55IGNvb2tpZXMgYXJlIGNsZWFyZWRcclxuICAgICAgICB0aGlzLnRlbXBvcmFyeUNhY2hlU3RvcmFnZS5nZXRLZXlzKCkuZm9yRWFjaCgoY2FjaGVLZXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNhY2hlS2V5LmluZGV4T2YoQ29uc3RhbnRzLkNBQ0hFX1BSRUZJWCkgIT09IC0xIHx8XHJcbiAgICAgICAgICAgICAgICBjYWNoZUtleS5pbmRleE9mKHRoaXMuY2xpZW50SWQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVUZW1wb3JhcnlJdGVtKGNhY2hlS2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIFJlbW92ZXMgYWxsIHJlbWFpbmluZyBNU0FMIGNhY2hlIGl0ZW1zXHJcbiAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5nZXRLZXlzKCkuZm9yRWFjaCgoY2FjaGVLZXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGNhY2hlS2V5LmluZGV4T2YoQ29uc3RhbnRzLkNBQ0hFX1BSRUZJWCkgIT09IC0xIHx8XHJcbiAgICAgICAgICAgICAgICBjYWNoZUtleS5pbmRleE9mKHRoaXMuY2xpZW50SWQpICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5yZW1vdmVJdGVtKGNhY2hlS2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaW50ZXJuYWxTdG9yYWdlLmNsZWFyKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBhbGwgYWNjZXNzIHRva2VzIHRoYXQgaGF2ZSBjbGFpbXMgcHJpb3IgdG8gc2F2aW5nIHRoZSBjdXJyZW50IG9uZVxyXG4gICAgICogQHBhcmFtIHBlcmZvcm1hbmNlQ2xpZW50IHtJUGVyZm9ybWFuY2VDbGllbnR9XHJcbiAgICAgKiBAcGFyYW0gY29ycmVsYXRpb25JZCB7c3RyaW5nfSBjb3JyZWxhdGlvbiBpZFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgY2xlYXJUb2tlbnNBbmRLZXlzV2l0aENsYWltcyhwZXJmb3JtYW5jZUNsaWVudCwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHBlcmZvcm1hbmNlQ2xpZW50LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuQ2xlYXJUb2tlbnNBbmRLZXlzV2l0aENsYWltcywgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgY29uc3QgdG9rZW5LZXlzID0gdGhpcy5nZXRUb2tlbktleXMoKTtcclxuICAgICAgICBjb25zdCByZW1vdmVkQWNjZXNzVG9rZW5zID0gW107XHJcbiAgICAgICAgdG9rZW5LZXlzLmFjY2Vzc1Rva2VuLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAvLyBpZiB0aGUgYWNjZXNzIHRva2VuIGhhcyBjbGFpbXMgaW4gaXRzIGtleSwgcmVtb3ZlIHRoZSB0b2tlbiBrZXkgYW5kIHRoZSB0b2tlblxyXG4gICAgICAgICAgICBjb25zdCBjcmVkZW50aWFsID0gdGhpcy5nZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWwoa2V5KTtcclxuICAgICAgICAgICAgaWYgKGNyZWRlbnRpYWw/LnJlcXVlc3RlZENsYWltc0hhc2ggJiZcclxuICAgICAgICAgICAgICAgIGtleS5pbmNsdWRlcyhjcmVkZW50aWFsLnJlcXVlc3RlZENsYWltc0hhc2gudG9Mb3dlckNhc2UoKSkpIHtcclxuICAgICAgICAgICAgICAgIHJlbW92ZWRBY2Nlc3NUb2tlbnMucHVzaCh0aGlzLnJlbW92ZUFjY2Vzc1Rva2VuKGtleSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocmVtb3ZlZEFjY2Vzc1Rva2Vucyk7XHJcbiAgICAgICAgLy8gd2FybiBpZiBhbnkgYWNjZXNzIHRva2VucyBhcmUgcmVtb3ZlZFxyXG4gICAgICAgIGlmIChyZW1vdmVkQWNjZXNzVG9rZW5zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZyhgJHtyZW1vdmVkQWNjZXNzVG9rZW5zLmxlbmd0aH0gYWNjZXNzIHRva2VucyB3aXRoIGNsYWltcyBpbiB0aGUgY2FjaGUga2V5cyBoYXZlIGJlZW4gcmVtb3ZlZCBmcm9tIHRoZSBjYWNoZS5gKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFByZXBlbmQgbXNhbC48Y2xpZW50LWlkPiB0byBlYWNoIGtleTsgU2tpcCBmb3IgYW55IEpTT04gb2JqZWN0IGFzIEtleSAoZGVmaW5lZCBzY2hlbWFzIGRvIG5vdCBuZWVkIHRoZSBrZXkgYXBwZW5kZWQ6IEFjY2Vzc1Rva2VuIEtleXMgb3IgdGhlIHVwY29taW5nIHNjaGVtYSlcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqIEBwYXJhbSBhZGRJbnN0YW5jZUlkXHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlQ2FjaGVLZXkoa2V5KSB7XHJcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVkS2V5ID0gdGhpcy52YWxpZGF0ZUFuZFBhcnNlSnNvbihrZXkpO1xyXG4gICAgICAgIGlmICghZ2VuZXJhdGVkS2V5KSB7XHJcbiAgICAgICAgICAgIGlmIChTdHJpbmdVdGlscy5zdGFydHNXaXRoKGtleSwgQ29uc3RhbnRzLkNBQ0hFX1BSRUZJWCkgfHxcclxuICAgICAgICAgICAgICAgIFN0cmluZ1V0aWxzLnN0YXJ0c1dpdGgoa2V5LCBQZXJzaXN0ZW50Q2FjaGVLZXlzLkFEQUxfSURfVE9LRU4pKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBgJHtDb25zdGFudHMuQ0FDSEVfUFJFRklYfS4ke3RoaXMuY2xpZW50SWR9LiR7a2V5fWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShrZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGUgYXV0aG9yaXR5S2V5IHRvIGNhY2hlIGF1dGhvcml0eVxyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlQXV0aG9yaXR5S2V5KHN0YXRlU3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgeyBsaWJyYXJ5U3RhdGU6IHsgaWQ6IHN0YXRlSWQgfSwgfSA9IFByb3RvY29sVXRpbHMucGFyc2VSZXF1ZXN0U3RhdGUodGhpcy5jcnlwdG9JbXBsLCBzdGF0ZVN0cmluZyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVDYWNoZUtleShgJHtUZW1wb3JhcnlDYWNoZUtleXMuQVVUSE9SSVRZfS4ke3N0YXRlSWR9YCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZSBOb25jZSBrZXkgdG8gY2FjaGUgbm9uY2VcclxuICAgICAqIEBwYXJhbSBzdGF0ZVxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZU5vbmNlS2V5KHN0YXRlU3RyaW5nKSB7XHJcbiAgICAgICAgY29uc3QgeyBsaWJyYXJ5U3RhdGU6IHsgaWQ6IHN0YXRlSWQgfSwgfSA9IFByb3RvY29sVXRpbHMucGFyc2VSZXF1ZXN0U3RhdGUodGhpcy5jcnlwdG9JbXBsLCBzdGF0ZVN0cmluZyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVDYWNoZUtleShgJHtUZW1wb3JhcnlDYWNoZUtleXMuTk9OQ0VfSURUT0tFTn0uJHtzdGF0ZUlkfWApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGZ1bGwgY2FjaGUga2V5IGZvciB0aGUgcmVxdWVzdCBzdGF0ZVxyXG4gICAgICogQHBhcmFtIHN0YXRlU3RyaW5nIFN0YXRlIHN0cmluZyBmb3IgdGhlIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVTdGF0ZUtleShzdGF0ZVN0cmluZykge1xyXG4gICAgICAgIC8vIFVzZSB0aGUgbGlicmFyeSBzdGF0ZSBpZCB0byBrZXkgdGVtcCBzdG9yYWdlIGZvciB1bmlxdWVuZXNzIGZvciBtdWx0aXBsZSBjb25jdXJyZW50IHJlcXVlc3RzXHJcbiAgICAgICAgY29uc3QgeyBsaWJyYXJ5U3RhdGU6IHsgaWQ6IHN0YXRlSWQgfSwgfSA9IFByb3RvY29sVXRpbHMucGFyc2VSZXF1ZXN0U3RhdGUodGhpcy5jcnlwdG9JbXBsLCBzdGF0ZVN0cmluZyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2VuZXJhdGVDYWNoZUtleShgJHtUZW1wb3JhcnlDYWNoZUtleXMuUkVRVUVTVF9TVEFURX0uJHtzdGF0ZUlkfWApO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIHRoZSBjYWNoZWQgYXV0aG9yaXR5IGJhc2VkIG9uIHRoZSBjYWNoZWQgc3RhdGUuIFJldHVybnMgZW1wdHkgaWYgbm8gY2FjaGVkIHN0YXRlIGZvdW5kLlxyXG4gICAgICovXHJcbiAgICBnZXRDYWNoZWRBdXRob3JpdHkoY2FjaGVkU3RhdGUpIHtcclxuICAgICAgICBjb25zdCBzdGF0ZUNhY2hlS2V5ID0gdGhpcy5nZW5lcmF0ZVN0YXRlS2V5KGNhY2hlZFN0YXRlKTtcclxuICAgICAgICBjb25zdCBzdGF0ZSA9IHRoaXMuZ2V0VGVtcG9yYXJ5Q2FjaGUoc3RhdGVDYWNoZUtleSk7XHJcbiAgICAgICAgaWYgKCFzdGF0ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXV0aG9yaXR5Q2FjaGVLZXkgPSB0aGlzLmdlbmVyYXRlQXV0aG9yaXR5S2V5KHN0YXRlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUZW1wb3JhcnlDYWNoZShhdXRob3JpdHlDYWNoZUtleSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZXMgYWNjb3VudCwgYXV0aG9yaXR5LCBhbmQgc3RhdGUgaW4gY2FjaGVcclxuICAgICAqIEBwYXJhbSBzZXJ2ZXJBdXRoZW50aWNhdGlvblJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBhY2NvdW50XHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUNhY2hlRW50cmllcyhzdGF0ZSwgbm9uY2UsIGF1dGhvcml0eUluc3RhbmNlLCBsb2dpbkhpbnQsIGFjY291bnQpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIudXBkYXRlQ2FjaGVFbnRyaWVzIGNhbGxlZFwiKTtcclxuICAgICAgICAvLyBDYWNoZSB0aGUgcmVxdWVzdCBzdGF0ZVxyXG4gICAgICAgIGNvbnN0IHN0YXRlQ2FjaGVLZXkgPSB0aGlzLmdlbmVyYXRlU3RhdGVLZXkoc3RhdGUpO1xyXG4gICAgICAgIHRoaXMuc2V0VGVtcG9yYXJ5Q2FjaGUoc3RhdGVDYWNoZUtleSwgc3RhdGUsIGZhbHNlKTtcclxuICAgICAgICAvLyBDYWNoZSB0aGUgbm9uY2VcclxuICAgICAgICBjb25zdCBub25jZUNhY2hlS2V5ID0gdGhpcy5nZW5lcmF0ZU5vbmNlS2V5KHN0YXRlKTtcclxuICAgICAgICB0aGlzLnNldFRlbXBvcmFyeUNhY2hlKG5vbmNlQ2FjaGVLZXksIG5vbmNlLCBmYWxzZSk7XHJcbiAgICAgICAgLy8gQ2FjaGUgYXV0aG9yaXR5S2V5XHJcbiAgICAgICAgY29uc3QgYXV0aG9yaXR5Q2FjaGVLZXkgPSB0aGlzLmdlbmVyYXRlQXV0aG9yaXR5S2V5KHN0YXRlKTtcclxuICAgICAgICB0aGlzLnNldFRlbXBvcmFyeUNhY2hlKGF1dGhvcml0eUNhY2hlS2V5LCBhdXRob3JpdHlJbnN0YW5jZSwgZmFsc2UpO1xyXG4gICAgICAgIGlmIChhY2NvdW50KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNjc0NyZWRlbnRpYWwgPSB7XHJcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsOiBhY2NvdW50LmhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBDY3NDcmVkZW50aWFsVHlwZS5IT01FX0FDQ09VTlRfSUQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHRoaXMuc2V0VGVtcG9yYXJ5Q2FjaGUoVGVtcG9yYXJ5Q2FjaGVLZXlzLkNDU19DUkVERU5USUFMLCBKU09OLnN0cmluZ2lmeShjY3NDcmVkZW50aWFsKSwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxvZ2luSGludCkge1xyXG4gICAgICAgICAgICBjb25zdCBjY3NDcmVkZW50aWFsID0ge1xyXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbDogbG9naW5IaW50LFxyXG4gICAgICAgICAgICAgICAgdHlwZTogQ2NzQ3JlZGVudGlhbFR5cGUuVVBOLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLnNldFRlbXBvcmFyeUNhY2hlKFRlbXBvcmFyeUNhY2hlS2V5cy5DQ1NfQ1JFREVOVElBTCwgSlNPTi5zdHJpbmdpZnkoY2NzQ3JlZGVudGlhbCksIHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVzZXQgYWxsIHRlbXBvcmFyeSBjYWNoZSBpdGVtc1xyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIHJlc2V0UmVxdWVzdENhY2hlKHN0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLnJlc2V0UmVxdWVzdENhY2hlIGNhbGxlZFwiKTtcclxuICAgICAgICAvLyBjaGVjayBzdGF0ZSBhbmQgcmVtb3ZlIGFzc29jaWF0ZWQgY2FjaGUgaXRlbXNcclxuICAgICAgICBpZiAoc3RhdGUpIHtcclxuICAgICAgICAgICAgdGhpcy50ZW1wb3JhcnlDYWNoZVN0b3JhZ2UuZ2V0S2V5cygpLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKHN0YXRlKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVRlbXBvcmFyeUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIGRlbGV0ZSBnZW5lcmljIGludGVyYWN0aXZlIHJlcXVlc3QgcGFyYW1ldGVyc1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZVRlbXBvcmFyeUl0ZW0odGhpcy5nZW5lcmF0ZVN0YXRlS2V5KHN0YXRlKSk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVGVtcG9yYXJ5SXRlbSh0aGlzLmdlbmVyYXRlTm9uY2VLZXkoc3RhdGUpKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVUZW1wb3JhcnlJdGVtKHRoaXMuZ2VuZXJhdGVBdXRob3JpdHlLZXkoc3RhdGUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZW1vdmVUZW1wb3JhcnlJdGVtKHRoaXMuZ2VuZXJhdGVDYWNoZUtleShUZW1wb3JhcnlDYWNoZUtleXMuUkVRVUVTVF9QQVJBTVMpKTtcclxuICAgICAgICB0aGlzLnJlbW92ZVRlbXBvcmFyeUl0ZW0odGhpcy5nZW5lcmF0ZUNhY2hlS2V5KFRlbXBvcmFyeUNhY2hlS2V5cy5PUklHSU5fVVJJKSk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVUZW1wb3JhcnlJdGVtKHRoaXMuZ2VuZXJhdGVDYWNoZUtleShUZW1wb3JhcnlDYWNoZUtleXMuVVJMX0hBU0gpKTtcclxuICAgICAgICB0aGlzLnJlbW92ZVRlbXBvcmFyeUl0ZW0odGhpcy5nZW5lcmF0ZUNhY2hlS2V5KFRlbXBvcmFyeUNhY2hlS2V5cy5DT1JSRUxBVElPTl9JRCkpO1xyXG4gICAgICAgIHRoaXMucmVtb3ZlVGVtcG9yYXJ5SXRlbSh0aGlzLmdlbmVyYXRlQ2FjaGVLZXkoVGVtcG9yYXJ5Q2FjaGVLZXlzLkNDU19DUkVERU5USUFMKSk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVUZW1wb3JhcnlJdGVtKHRoaXMuZ2VuZXJhdGVDYWNoZUtleShUZW1wb3JhcnlDYWNoZUtleXMuTkFUSVZFX1JFUVVFU1QpKTtcclxuICAgICAgICB0aGlzLnNldEludGVyYWN0aW9uSW5Qcm9ncmVzcyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgdGVtcG9yYXJ5IGNhY2hlIGZvciB0aGUgcHJvdmlkZWQgc3RhdGVcclxuICAgICAqIEBwYXJhbSBzdGF0ZVN0cmluZ1xyXG4gICAgICovXHJcbiAgICBjbGVhblJlcXVlc3RCeVN0YXRlKHN0YXRlU3RyaW5nKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmNsZWFuUmVxdWVzdEJ5U3RhdGUgY2FsbGVkXCIpO1xyXG4gICAgICAgIC8vIEludGVyYWN0aW9uIGlzIGNvbXBsZXRlZCAtIHJlbW92ZSBpbnRlcmFjdGlvbiBzdGF0dXMuXHJcbiAgICAgICAgaWYgKHN0YXRlU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlS2V5ID0gdGhpcy5nZW5lcmF0ZVN0YXRlS2V5KHN0YXRlU3RyaW5nKTtcclxuICAgICAgICAgICAgY29uc3QgY2FjaGVkU3RhdGUgPSB0aGlzLnRlbXBvcmFyeUNhY2hlU3RvcmFnZS5nZXRJdGVtKHN0YXRlS2V5KTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mb1BpaShgQnJvd3NlckNhY2hlTWFuYWdlci5jbGVhblJlcXVlc3RCeVN0YXRlOiBSZW1vdmluZyB0ZW1wb3JhcnkgY2FjaGUgaXRlbXMgZm9yIHN0YXRlOiAke2NhY2hlZFN0YXRlfWApO1xyXG4gICAgICAgICAgICB0aGlzLnJlc2V0UmVxdWVzdENhY2hlKGNhY2hlZFN0YXRlIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9va3MgaW4gdGVtcG9yYXJ5IGNhY2hlIGZvciBhbnkgc3RhdGUgdmFsdWVzIHdpdGggdGhlIHByb3ZpZGVkIGludGVyYWN0aW9uVHlwZSBhbmQgcmVtb3ZlcyBhbGwgdGVtcG9yYXJ5IGNhY2hlIGl0ZW1zIGZvciB0aGF0IHN0YXRlXHJcbiAgICAgKiBVc2VkIGluIHNjZW5hcmlvcyB3aGVyZSB0ZW1wIGNhY2hlIG5lZWRzIHRvIGJlIGNsZWFuZWQgYnV0IHN0YXRlIGlzIG5vdCBrbm93biwgc3VjaCBhcyBjbGlja2luZyBicm93c2VyIGJhY2sgYnV0dG9uLlxyXG4gICAgICogQHBhcmFtIGludGVyYWN0aW9uVHlwZVxyXG4gICAgICovXHJcbiAgICBjbGVhblJlcXVlc3RCeUludGVyYWN0aW9uVHlwZShpbnRlcmFjdGlvblR5cGUpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuY2xlYW5SZXF1ZXN0QnlJbnRlcmFjdGlvblR5cGUgY2FsbGVkXCIpO1xyXG4gICAgICAgIC8vIExvb3AgdGhyb3VnaCBhbGwga2V5cyB0byBmaW5kIHN0YXRlIGtleVxyXG4gICAgICAgIHRoaXMudGVtcG9yYXJ5Q2FjaGVTdG9yYWdlLmdldEtleXMoKS5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gSWYgdGhpcyBrZXkgaXMgbm90IHRoZSBzdGF0ZSBrZXksIG1vdmUgb25cclxuICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKFRlbXBvcmFyeUNhY2hlS2V5cy5SRVFVRVNUX1NUQVRFKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBSZXRyaWV2ZSBzdGF0ZSB2YWx1ZSwgcmV0dXJuIGlmIG5vdCBhIHZhbGlkIHZhbHVlXHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlVmFsdWUgPSB0aGlzLnRlbXBvcmFyeUNhY2hlU3RvcmFnZS5nZXRJdGVtKGtleSk7XHJcbiAgICAgICAgICAgIGlmICghc3RhdGVWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIEV4dHJhY3Qgc3RhdGUgYW5kIGVuc3VyZSBpdCBtYXRjaGVzIGdpdmVuIEludGVyYWN0aW9uVHlwZSwgdGhlbiBjbGVhbiByZXF1ZXN0IGNhY2hlXHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFN0YXRlID0gZXh0cmFjdEJyb3dzZXJSZXF1ZXN0U3RhdGUodGhpcy5jcnlwdG9JbXBsLCBzdGF0ZVZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKHBhcnNlZFN0YXRlICYmXHJcbiAgICAgICAgICAgICAgICBwYXJzZWRTdGF0ZS5pbnRlcmFjdGlvblR5cGUgPT09IGludGVyYWN0aW9uVHlwZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mb1BpaShgQnJvd3NlckNhY2hlTWFuYWdlci5jbGVhblJlcXVlc3RCeUludGVyYWN0aW9uVHlwZTogUmVtb3ZpbmcgdGVtcG9yYXJ5IGNhY2hlIGl0ZW1zIGZvciBzdGF0ZTogJHtzdGF0ZVZhbHVlfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFJlcXVlc3RDYWNoZShzdGF0ZVZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKGZhbHNlKTtcclxuICAgIH1cclxuICAgIGNhY2hlQ29kZVJlcXVlc3QoYXV0aENvZGVSZXF1ZXN0KSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJCcm93c2VyQ2FjaGVNYW5hZ2VyLmNhY2hlQ29kZVJlcXVlc3QgY2FsbGVkXCIpO1xyXG4gICAgICAgIGNvbnN0IGVuY29kZWRWYWx1ZSA9IGJhc2U2NEVuY29kZShKU09OLnN0cmluZ2lmeShhdXRoQ29kZVJlcXVlc3QpKTtcclxuICAgICAgICB0aGlzLnNldFRlbXBvcmFyeUNhY2hlKFRlbXBvcmFyeUNhY2hlS2V5cy5SRVFVRVNUX1BBUkFNUywgZW5jb2RlZFZhbHVlLCB0cnVlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgdG9rZW4gZXhjaGFuZ2UgcGFyYW1ldGVycyBmcm9tIHRoZSBjYWNoZS4gVGhyb3dzIGFuIGVycm9yIGlmIG5vdGhpbmcgaXMgZm91bmQuXHJcbiAgICAgKi9cclxuICAgIGdldENhY2hlZFJlcXVlc3Qoc3RhdGUpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0Q2FjaGVkUmVxdWVzdCBjYWxsZWRcIik7XHJcbiAgICAgICAgLy8gR2V0IHRva2VuIHJlcXVlc3QgZnJvbSBjYWNoZSBhbmQgcGFyc2UgYXMgVG9rZW5FeGNoYW5nZVBhcmFtZXRlcnMuXHJcbiAgICAgICAgY29uc3QgZW5jb2RlZFRva2VuUmVxdWVzdCA9IHRoaXMuZ2V0VGVtcG9yYXJ5Q2FjaGUoVGVtcG9yYXJ5Q2FjaGVLZXlzLlJFUVVFU1RfUEFSQU1TLCB0cnVlKTtcclxuICAgICAgICBpZiAoIWVuY29kZWRUb2tlblJlcXVlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihub1Rva2VuUmVxdWVzdENhY2hlRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgcGFyc2VkUmVxdWVzdDtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBwYXJzZWRSZXF1ZXN0ID0gSlNPTi5wYXJzZShiYXNlNjREZWNvZGUoZW5jb2RlZFRva2VuUmVxdWVzdCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvclBpaShgQXR0ZW1wdGVkIHRvIHBhcnNlOiAke2VuY29kZWRUb2tlblJlcXVlc3R9YCk7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBQYXJzaW5nIGNhY2hlZCB0b2tlbiByZXF1ZXN0IHRocmV3IHdpdGggZXJyb3I6ICR7ZX1gKTtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcih1bmFibGVUb1BhcnNlVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVtb3ZlVGVtcG9yYXJ5SXRlbSh0aGlzLmdlbmVyYXRlQ2FjaGVLZXkoVGVtcG9yYXJ5Q2FjaGVLZXlzLlJFUVVFU1RfUEFSQU1TKSk7XHJcbiAgICAgICAgLy8gR2V0IGNhY2hlZCBhdXRob3JpdHkgYW5kIHVzZSBpZiBubyBhdXRob3JpdHkgaXMgY2FjaGVkIHdpdGggcmVxdWVzdC5cclxuICAgICAgICBpZiAoIXBhcnNlZFJlcXVlc3QuYXV0aG9yaXR5KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGF1dGhvcml0eUNhY2hlS2V5ID0gdGhpcy5nZW5lcmF0ZUF1dGhvcml0eUtleShzdGF0ZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZEF1dGhvcml0eSA9IHRoaXMuZ2V0VGVtcG9yYXJ5Q2FjaGUoYXV0aG9yaXR5Q2FjaGVLZXkpO1xyXG4gICAgICAgICAgICBpZiAoIWNhY2hlZEF1dGhvcml0eSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihub0NhY2hlZEF1dGhvcml0eUVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBwYXJzZWRSZXF1ZXN0LmF1dGhvcml0eSA9IGNhY2hlZEF1dGhvcml0eTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhcnNlZFJlcXVlc3Q7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgY2FjaGVkIG5hdGl2ZSByZXF1ZXN0IGZvciByZWRpcmVjdCBmbG93c1xyXG4gICAgICovXHJcbiAgICBnZXRDYWNoZWROYXRpdmVSZXF1ZXN0KCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRDYWNoZWROYXRpdmVSZXF1ZXN0IGNhbGxlZFwiKTtcclxuICAgICAgICBjb25zdCBjYWNoZWRSZXF1ZXN0ID0gdGhpcy5nZXRUZW1wb3JhcnlDYWNoZShUZW1wb3JhcnlDYWNoZUtleXMuTkFUSVZFX1JFUVVFU1QsIHRydWUpO1xyXG4gICAgICAgIGlmICghY2FjaGVkUmVxdWVzdCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIkJyb3dzZXJDYWNoZU1hbmFnZXIuZ2V0Q2FjaGVkTmF0aXZlUmVxdWVzdDogTm8gY2FjaGVkIG5hdGl2ZSByZXF1ZXN0IGZvdW5kXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcGFyc2VkUmVxdWVzdCA9IHRoaXMudmFsaWRhdGVBbmRQYXJzZUpzb24oY2FjaGVkUmVxdWVzdCk7XHJcbiAgICAgICAgaWYgKCFwYXJzZWRSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiQnJvd3NlckNhY2hlTWFuYWdlci5nZXRDYWNoZWROYXRpdmVSZXF1ZXN0OiBVbmFibGUgdG8gcGFyc2UgbmF0aXZlIHJlcXVlc3RcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFyc2VkUmVxdWVzdDtcclxuICAgIH1cclxuICAgIGlzSW50ZXJhY3Rpb25JblByb2dyZXNzKG1hdGNoQ2xpZW50SWQpIHtcclxuICAgICAgICBjb25zdCBjbGllbnRJZCA9IHRoaXMuZ2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKCk7XHJcbiAgICAgICAgaWYgKG1hdGNoQ2xpZW50SWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNsaWVudElkID09PSB0aGlzLmNsaWVudElkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuICEhY2xpZW50SWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKCkge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGAke0NvbnN0YW50cy5DQUNIRV9QUkVGSVh9LiR7VGVtcG9yYXJ5Q2FjaGVLZXlzLklOVEVSQUNUSU9OX1NUQVRVU19LRVl9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRUZW1wb3JhcnlDYWNoZShrZXksIGZhbHNlKTtcclxuICAgIH1cclxuICAgIHNldEludGVyYWN0aW9uSW5Qcm9ncmVzcyhpblByb2dyZXNzKSB7XHJcbiAgICAgICAgLy8gRW5zdXJlIHdlIGRvbid0IG92ZXJ3cml0ZSBpbnRlcmFjdGlvbiBpbiBwcm9ncmVzcyBmb3IgYSBkaWZmZXJlbnQgY2xpZW50SWRcclxuICAgICAgICBjb25zdCBrZXkgPSBgJHtDb25zdGFudHMuQ0FDSEVfUFJFRklYfS4ke1RlbXBvcmFyeUNhY2hlS2V5cy5JTlRFUkFDVElPTl9TVEFUVVNfS0VZfWA7XHJcbiAgICAgICAgaWYgKGluUHJvZ3Jlc3MpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKCkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IoaW50ZXJhY3Rpb25JblByb2dyZXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vIGludGVyYWN0aW9uIGlzIGluIHByb2dyZXNzXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRlbXBvcmFyeUNhY2hlKGtleSwgdGhpcy5jbGllbnRJZCwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKCFpblByb2dyZXNzICYmXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKCkgPT09IHRoaXMuY2xpZW50SWQpIHtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVUZW1wb3JhcnlJdGVtKGtleSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHVzZXJuYW1lIHJldHJpZXZlZCBmcm9tIEFEQUwgb3IgTVNBTCB2MSBpZFRva2VuXHJcbiAgICAgKiBAZGVwcmVjYXRlZFxyXG4gICAgICovXHJcbiAgICBnZXRMZWdhY3lMb2dpbkhpbnQoKSB7XHJcbiAgICAgICAgLy8gT25seSBjaGVjayBmb3IgYWRhbC9tc2FsIHRva2VuIGlmIG5vIFNTTyBwYXJhbXMgYXJlIGJlaW5nIHVzZWRcclxuICAgICAgICBjb25zdCBhZGFsSWRUb2tlblN0cmluZyA9IHRoaXMuZ2V0VGVtcG9yYXJ5Q2FjaGUoUGVyc2lzdGVudENhY2hlS2V5cy5BREFMX0lEX1RPS0VOKTtcclxuICAgICAgICBpZiAoYWRhbElkVG9rZW5TdHJpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5yZW1vdmVJdGVtKFBlcnNpc3RlbnRDYWNoZUtleXMuQURBTF9JRF9UT0tFTik7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJDYWNoZWQgQURBTCBpZCB0b2tlbiByZXRyaWV2ZWQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBmb3IgY2FjaGVkIE1TQUwgdjEgaWQgdG9rZW5cclxuICAgICAgICBjb25zdCBtc2FsSWRUb2tlblN0cmluZyA9IHRoaXMuZ2V0VGVtcG9yYXJ5Q2FjaGUoUGVyc2lzdGVudENhY2hlS2V5cy5JRF9UT0tFTiwgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKG1zYWxJZFRva2VuU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmdlbmVyYXRlQ2FjaGVLZXkoUGVyc2lzdGVudENhY2hlS2V5cy5JRF9UT0tFTikpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQ2FjaGVkIE1TQUwuanMgdjEgaWQgdG9rZW4gcmV0cmlldmVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYWNoZWRJZFRva2VuU3RyaW5nID0gbXNhbElkVG9rZW5TdHJpbmcgfHwgYWRhbElkVG9rZW5TdHJpbmc7XHJcbiAgICAgICAgaWYgKGNhY2hlZElkVG9rZW5TdHJpbmcpIHtcclxuICAgICAgICAgICAgY29uc3QgaWRUb2tlbkNsYWltcyA9IEF1dGhUb2tlbi5leHRyYWN0VG9rZW5DbGFpbXMoY2FjaGVkSWRUb2tlblN0cmluZywgYmFzZTY0RGVjb2RlKTtcclxuICAgICAgICAgICAgaWYgKGlkVG9rZW5DbGFpbXMucHJlZmVycmVkX3VzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiTm8gU1NPIHBhcmFtcyB1c2VkIGFuZCBBREFML01TQUwgdjEgdG9rZW4gcmV0cmlldmVkLCBzZXR0aW5nIEFEQUwvTVNBTCB2MSBwcmVmZXJyZWRfdXNlcm5hbWUgYXMgbG9naW5IaW50XCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkVG9rZW5DbGFpbXMucHJlZmVycmVkX3VzZXJuYW1lO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGlkVG9rZW5DbGFpbXMudXBuKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiTm8gU1NPIHBhcmFtcyB1c2VkIGFuZCBBREFML01TQUwgdjEgdG9rZW4gcmV0cmlldmVkLCBzZXR0aW5nIEFEQUwvTVNBTCB2MSB1cG4gYXMgbG9naW5IaW50XCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGlkVG9rZW5DbGFpbXMudXBuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIk5vIFNTTyBwYXJhbXMgdXNlZCBhbmQgQURBTC9NU0FMIHYxIHRva2VuIHJldHJpZXZlZCwgaG93ZXZlciwgbm8gYWNjb3VudCBoaW50IGNsYWltIGZvdW5kLiBFbmFibGUgcHJlZmVycmVkX3VzZXJuYW1lIG9yIHVwbiBpZCB0b2tlbiBjbGFpbSB0byBnZXQgU1NPLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyBhIGNyZWRlbnRpYWwncyBjYWNoZSBrZXkgaWYgdGhlIGN1cnJlbnQgY2FjaGUga2V5IGlzIG91dGRhdGVkXHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUNyZWRlbnRpYWxDYWNoZUtleShjdXJyZW50Q2FjaGVLZXksIGNyZWRlbnRpYWwpIHtcclxuICAgICAgICBjb25zdCB1cGRhdGVkQ2FjaGVLZXkgPSBDYWNoZUhlbHBlcnMuZ2VuZXJhdGVDcmVkZW50aWFsS2V5KGNyZWRlbnRpYWwpO1xyXG4gICAgICAgIGlmIChjdXJyZW50Q2FjaGVLZXkgIT09IHVwZGF0ZWRDYWNoZUtleSkge1xyXG4gICAgICAgICAgICBjb25zdCBjYWNoZUl0ZW0gPSB0aGlzLmdldEl0ZW0oY3VycmVudENhY2hlS2V5KTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlSXRlbSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5yZW1vdmVJdGVtKGN1cnJlbnRDYWNoZUtleSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEl0ZW0odXBkYXRlZENhY2hlS2V5LCBjYWNoZUl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShgVXBkYXRlZCBhbiBvdXRkYXRlZCAke2NyZWRlbnRpYWwuY3JlZGVudGlhbFR5cGV9IGNhY2hlIGtleWApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZWRDYWNoZUtleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBBdHRlbXB0ZWQgdG8gdXBkYXRlIGFuIG91dGRhdGVkICR7Y3JlZGVudGlhbC5jcmVkZW50aWFsVHlwZX0gY2FjaGUga2V5IGJ1dCBubyBpdGVtIG1hdGNoaW5nIHRoZSBvdXRkYXRlZCBrZXkgd2FzIGZvdW5kIGluIHN0b3JhZ2VgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY3VycmVudENhY2hlS2V5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBCdWlsZHMgY3JlZGVudGlhbCBlbnRpdGllcyBmcm9tIEF1dGhlbnRpY2F0aW9uUmVzdWx0IG9iamVjdCBhbmQgc2F2ZXMgdGhlIHJlc3VsdGluZyBjcmVkZW50aWFscyB0byB0aGUgY2FjaGVcclxuICAgICAqIEBwYXJhbSByZXN1bHRcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGh5ZHJhdGVDYWNoZShyZXN1bHQsIHJlcXVlc3QpIHtcclxuICAgICAgICBjb25zdCBpZFRva2VuRW50aXR5ID0gQ2FjaGVIZWxwZXJzLmNyZWF0ZUlkVG9rZW5FbnRpdHkocmVzdWx0LmFjY291bnQ/LmhvbWVBY2NvdW50SWQsIHJlc3VsdC5hY2NvdW50Py5lbnZpcm9ubWVudCwgcmVzdWx0LmlkVG9rZW4sIHRoaXMuY2xpZW50SWQsIHJlc3VsdC50ZW5hbnRJZCk7XHJcbiAgICAgICAgbGV0IGNsYWltc0hhc2g7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuY2xhaW1zKSB7XHJcbiAgICAgICAgICAgIGNsYWltc0hhc2ggPSBhd2FpdCB0aGlzLmNyeXB0b0ltcGwuaGFzaFN0cmluZyhyZXF1ZXN0LmNsYWltcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIG1ldGEgZGF0YSBmb3IgY2FjaGUgc3RvcmVzIHRpbWUgaW4gc2Vjb25kcyBmcm9tIGVwb2NoXHJcbiAgICAgICAgICogQXV0aGVudGljYXRpb25SZXN1bHQgcmV0dXJucyBleHBpcmVzT24gYW5kIGV4dEV4cGlyZXNPbiBpbiBtaWxsaXNlY29uZHMgKGFzIGEgRGF0ZSBvYmplY3Qgd2hpY2ggaXMgaW4gbXMpXHJcbiAgICAgICAgICogV2UgbmVlZCB0byBtYXAgdGhlc2UgZm9yIHRoZSBjYWNoZSB3aGVuIGJ1aWxkaW5nIHRva2VucyBmcm9tIEF1dGhlbnRpY2F0aW9uUmVzdWx0XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUaGUgbmV4dCBNU0FMIFZGdXR1cmUgc2hvdWxkIG1hcCB0aGVzZSBib3RoIHRvIHNhbWUgdmFsdWUgaWYgcG9zc2libGVcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbkVudGl0eSA9IENhY2hlSGVscGVycy5jcmVhdGVBY2Nlc3NUb2tlbkVudGl0eShyZXN1bHQuYWNjb3VudD8uaG9tZUFjY291bnRJZCwgcmVzdWx0LmFjY291bnQuZW52aXJvbm1lbnQsIHJlc3VsdC5hY2Nlc3NUb2tlbiwgdGhpcy5jbGllbnRJZCwgcmVzdWx0LnRlbmFudElkLCByZXN1bHQuc2NvcGVzLmpvaW4oXCIgXCIpLCByZXN1bHQuZXhwaXJlc09uID8gcmVzdWx0LmV4cGlyZXNPbi5nZXRUaW1lKCkgLyAxMDAwIDogMCwgcmVzdWx0LmV4dEV4cGlyZXNPbiA/IHJlc3VsdC5leHRFeHBpcmVzT24uZ2V0VGltZSgpIC8gMTAwMCA6IDAsIGJhc2U2NERlY29kZSwgdW5kZWZpbmVkLCAvLyByZWZyZXNoT25cclxuICAgICAgICByZXN1bHQudG9rZW5UeXBlLCB1bmRlZmluZWQsIC8vIHVzZXJBc3NlcnRpb25IYXNoXHJcbiAgICAgICAgcmVxdWVzdC5zc2hLaWQsIHJlcXVlc3QuY2xhaW1zLCBjbGFpbXNIYXNoKTtcclxuICAgICAgICBjb25zdCBjYWNoZVJlY29yZCA9IHtcclxuICAgICAgICAgICAgaWRUb2tlbjogaWRUb2tlbkVudGl0eSxcclxuICAgICAgICAgICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuRW50aXR5LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2F2ZUNhY2hlUmVjb3JkKGNhY2hlUmVjb3JkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogc2F2ZXMgYSBjYWNoZSByZWNvcmRcclxuICAgICAqIEBwYXJhbSBjYWNoZVJlY29yZCB7Q2FjaGVSZWNvcmR9XHJcbiAgICAgKiBAcGFyYW0gc3RvcmVJbkNhY2hlIHs/U3RvcmVJbkNhY2hlfVxyXG4gICAgICogQHBhcmFtIGNvcnJlbGF0aW9uSWQgez9zdHJpbmd9IGNvcnJlbGF0aW9uIGlkXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHNhdmVDYWNoZVJlY29yZChjYWNoZVJlY29yZCwgc3RvcmVJbkNhY2hlLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgc3VwZXIuc2F2ZUNhY2hlUmVjb3JkKGNhY2hlUmVjb3JkLCBzdG9yZUluQ2FjaGUsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIENhY2hlRXJyb3IgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQgJiZcclxuICAgICAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9rZW5LZXlzID0gdGhpcy5nZXRUb2tlbktleXMoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LmFkZEZpZWxkcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlUnRDb3VudDogdG9rZW5LZXlzLnJlZnJlc2hUb2tlbi5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlSWRDb3VudDogdG9rZW5LZXlzLmlkVG9rZW4ubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUF0Q291bnQ6IHRva2VuS2V5cy5hY2Nlc3NUb2tlbi5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY29uc3QgREVGQVVMVF9CUk9XU0VSX0NBQ0hFX01BTkFHRVIgPSAoY2xpZW50SWQsIGxvZ2dlcikgPT4ge1xyXG4gICAgY29uc3QgY2FjaGVPcHRpb25zID0ge1xyXG4gICAgICAgIGNhY2hlTG9jYXRpb246IEJyb3dzZXJDYWNoZUxvY2F0aW9uLk1lbW9yeVN0b3JhZ2UsXHJcbiAgICAgICAgdGVtcG9yYXJ5Q2FjaGVMb2NhdGlvbjogQnJvd3NlckNhY2hlTG9jYXRpb24uTWVtb3J5U3RvcmFnZSxcclxuICAgICAgICBzdG9yZUF1dGhTdGF0ZUluQ29va2llOiBmYWxzZSxcclxuICAgICAgICBzZWN1cmVDb29raWVzOiBmYWxzZSxcclxuICAgICAgICBjYWNoZU1pZ3JhdGlvbkVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgIGNsYWltc0Jhc2VkQ2FjaGluZ0VuYWJsZWQ6IGZhbHNlLFxyXG4gICAgfTtcclxuICAgIHJldHVybiBuZXcgQnJvd3NlckNhY2hlTWFuYWdlcihjbGllbnRJZCwgY2FjaGVPcHRpb25zLCBERUZBVUxUX0NSWVBUT19JTVBMRU1FTlRBVElPTiwgbG9nZ2VyKTtcclxufTtcblxuZXhwb3J0IHsgQnJvd3NlckNhY2hlTWFuYWdlciwgREVGQVVMVF9CUk9XU0VSX0NBQ0hFX01BTkFHRVIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJyb3dzZXJDYWNoZU1hbmFnZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkNhY2hlTWFuYWdlciIsIkNyZWRlbnRpYWxUeXBlIiwiQ2FjaGVIZWxwZXJzIiwiQWNjb3VudEVudGl0eSIsImNyZWF0ZUNsaWVudEF1dGhFcnJvciIsIkNsaWVudEF1dGhFcnJvckNvZGVzIiwiQ29uc3RhbnRzIiwiUGVyc2lzdGVudENhY2hlS2V5cyIsIlBlcmZvcm1hbmNlRXZlbnRzIiwiU3RyaW5nVXRpbHMiLCJQcm90b2NvbFV0aWxzIiwiQXV0aFRva2VuIiwiQ2FjaGVFcnJvciIsIkRFRkFVTFRfQ1JZUFRPX0lNUExFTUVOVEFUSU9OIiwiQ2NzQ3JlZGVudGlhbFR5cGUiLCJjcmVhdGVCcm93c2VyQXV0aEVycm9yIiwiQnJvd3NlckNhY2hlTG9jYXRpb24iLCJTdGF0aWNDYWNoZUtleXMiLCJJbk1lbW9yeUNhY2hlS2V5cyIsIlRlbXBvcmFyeUNhY2hlS2V5cyIsIkxvY2FsU3RvcmFnZSIsIlNlc3Npb25TdG9yYWdlIiwiTWVtb3J5U3RvcmFnZSIsImV4dHJhY3RCcm93c2VyUmVxdWVzdFN0YXRlIiwiYmFzZTY0RGVjb2RlIiwiYmFzZTY0RW5jb2RlIiwiQ29va2llU3RvcmFnZSIsIm5vVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvciIsInVuYWJsZVRvUGFyc2VUb2tlblJlcXVlc3RDYWNoZUVycm9yIiwibm9DYWNoZWRBdXRob3JpdHlFcnJvciIsImludGVyYWN0aW9uSW5Qcm9ncmVzcyIsIkJyb3dzZXJDYWNoZU1hbmFnZXIiLCJjb25zdHJ1Y3RvciIsImNsaWVudElkIiwiY2FjaGVDb25maWciLCJjcnlwdG9JbXBsIiwibG9nZ2VyIiwic3RhdGljQXV0aG9yaXR5T3B0aW9ucyIsInBlcmZvcm1hbmNlQ2xpZW50IiwiaW50ZXJuYWxTdG9yYWdlIiwiYnJvd3NlclN0b3JhZ2UiLCJzZXR1cEJyb3dzZXJTdG9yYWdlIiwiY2FjaGVMb2NhdGlvbiIsInRlbXBvcmFyeUNhY2hlU3RvcmFnZSIsInRlbXBvcmFyeUNhY2hlTG9jYXRpb24iLCJjb29raWVTdG9yYWdlIiwiY2FjaGVNaWdyYXRpb25FbmFibGVkIiwibWlncmF0ZUNhY2hlRW50cmllcyIsImNyZWF0ZUtleU1hcHMiLCJlIiwiZXJyb3IiLCJpZFRva2VuS2V5IiwiQ0FDSEVfUFJFRklYIiwiSURfVE9LRU4iLCJjbGllbnRJbmZvS2V5IiwiQ0xJRU5UX0lORk8iLCJlcnJvcktleSIsIkVSUk9SIiwiZXJyb3JEZXNjS2V5IiwiRVJST1JfREVTQyIsImlkVG9rZW5WYWx1ZSIsImdldEl0ZW0iLCJjbGllbnRJbmZvVmFsdWUiLCJlcnJvclZhbHVlIiwiZXJyb3JEZXNjVmFsdWUiLCJ2YWx1ZXMiLCJrZXlzVG9NaWdyYXRlIiwiZm9yRWFjaCIsImNhY2hlS2V5IiwiaW5kZXgiLCJ2YWx1ZSIsInNldFRlbXBvcmFyeUNhY2hlIiwidHJhY2UiLCJhY2NvdW50S2V5cyIsIkFDQ09VTlRfS0VZUyIsInRva2VuS2V5cyIsIlRPS0VOX0tFWVMiLCJ2ZXJib3NlIiwiYWxsS2V5cyIsImdldEtleXMiLCJrZXkiLCJpc0NyZWRlbnRpYWxLZXkiLCJjcmVkT2JqIiwidmFsaWRhdGVBbmRQYXJzZUpzb24iLCJoYXNPd25Qcm9wZXJ0eSIsImlzSWRUb2tlbkVudGl0eSIsInRyYWNlUGlpIiwiaWRUb2tlbkVudGl0eSIsIm5ld0tleSIsInVwZGF0ZUNyZWRlbnRpYWxDYWNoZUtleSIsImFkZFRva2VuS2V5IiwiQUNDRVNTX1RPS0VOIiwiQUNDRVNTX1RPS0VOX1dJVEhfQVVUSF9TQ0hFTUUiLCJpc0FjY2Vzc1Rva2VuRW50aXR5IiwiYWNjZXNzVG9rZW5FbnRpdHkiLCJSRUZSRVNIX1RPS0VOIiwiaXNSZWZyZXNoVG9rZW5FbnRpdHkiLCJyZWZyZXNoVG9rZW5FbnRpdHkiLCJpc0FjY291bnRLZXkiLCJhY2NvdW50T2JqIiwiaXNBY2NvdW50RW50aXR5IiwiYWRkQWNjb3VudEtleVRvTWFwIiwianNvblZhbHVlIiwicGFyc2VkSnNvbiIsIkpTT04iLCJwYXJzZSIsInNldEl0ZW0iLCJnZXRBY2NvdW50IiwiYWNjb3VudEtleSIsImFjY291bnRFbnRpdHkiLCJnZXRDYWNoZWRBY2NvdW50RW50aXR5IiwidXBkYXRlT3V0ZGF0ZWRDYWNoZWRBY2NvdW50Iiwic2VyaWFsaXplZEFjY291bnQiLCJyZW1vdmVBY2NvdW50S2V5RnJvbU1hcCIsInBhcnNlZEFjY291bnQiLCJ0b09iamVjdCIsInNldEFjY291bnQiLCJhY2NvdW50IiwiZ2VuZXJhdGVBY2NvdW50S2V5Iiwic3RyaW5naWZ5IiwiZ2V0QWNjb3VudEtleXMiLCJpbmRleE9mIiwicHVzaCIsInJlbW92YWxJbmRleCIsInNwbGljZSIsInJlbW92ZUFjY291bnQiLCJyZW1vdmVPdXRkYXRlZEFjY291bnQiLCJyZW1vdmVJdGVtIiwicmVtb3ZlSWRUb2tlbiIsInJlbW92ZVRva2VuS2V5IiwicmVtb3ZlQWNjZXNzVG9rZW4iLCJyZW1vdmVSZWZyZXNoVG9rZW4iLCJnZXRUb2tlbktleXMiLCJpdGVtIiwiaWRUb2tlbiIsImFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwidHlwZSIsImluZm8iLCJ1bmV4cGVjdGVkQ3JlZGVudGlhbFR5cGUiLCJpbmZvUGlpIiwiaWRSZW1vdmFsIiwiYWNjZXNzUmVtb3ZhbCIsInJlZnJlc2hSZW1vdmFsIiwiZ2V0SWRUb2tlbkNyZWRlbnRpYWwiLCJwYXJzZWRJZFRva2VuIiwic2V0SWRUb2tlbkNyZWRlbnRpYWwiLCJnZW5lcmF0ZUNyZWRlbnRpYWxLZXkiLCJnZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWwiLCJhY2Nlc3NUb2tlbktleSIsInBhcnNlZEFjY2Vzc1Rva2VuIiwic2V0QWNjZXNzVG9rZW5DcmVkZW50aWFsIiwiZ2V0UmVmcmVzaFRva2VuQ3JlZGVudGlhbCIsInJlZnJlc2hUb2tlbktleSIsInBhcnNlZFJlZnJlc2hUb2tlbiIsInNldFJlZnJlc2hUb2tlbkNyZWRlbnRpYWwiLCJnZXRBcHBNZXRhZGF0YSIsImFwcE1ldGFkYXRhS2V5IiwicGFyc2VkTWV0YWRhdGEiLCJpc0FwcE1ldGFkYXRhRW50aXR5Iiwic2V0QXBwTWV0YWRhdGEiLCJhcHBNZXRhZGF0YSIsImdlbmVyYXRlQXBwTWV0YWRhdGFLZXkiLCJnZXRTZXJ2ZXJUZWxlbWV0cnkiLCJzZXJ2ZXJUZWxlbWV0cnlLZXkiLCJwYXJzZWRFbnRpdHkiLCJpc1NlcnZlclRlbGVtZXRyeUVudGl0eSIsInNldFNlcnZlclRlbGVtZXRyeSIsInNlcnZlclRlbGVtZXRyeSIsImdldEF1dGhvcml0eU1ldGFkYXRhIiwiaXNBdXRob3JpdHlNZXRhZGF0YUVudGl0eSIsImdldEF1dGhvcml0eU1ldGFkYXRhS2V5cyIsImZpbHRlciIsImlzQXV0aG9yaXR5TWV0YWRhdGEiLCJzZXRXcmFwcGVyTWV0YWRhdGEiLCJ3cmFwcGVyU0tVIiwid3JhcHBlclZlcnNpb24iLCJXUkFQUEVSX1NLVSIsIldSQVBQRVJfVkVSIiwiZ2V0V3JhcHBlck1ldGFkYXRhIiwic2t1IiwiRU1QVFlfU1RSSU5HIiwidmVyc2lvbiIsInNldEF1dGhvcml0eU1ldGFkYXRhIiwiZW50aXR5IiwiZ2V0QWN0aXZlQWNjb3VudCIsImFjdGl2ZUFjY291bnRLZXlGaWx0ZXJzIiwiZ2VuZXJhdGVDYWNoZUtleSIsIkFDVElWRV9BQ0NPVU5UX0ZJTFRFUlMiLCJhY3RpdmVBY2NvdW50VmFsdWVGaWx0ZXJzIiwiYWN0aXZlQWNjb3VudEtleUxvY2FsIiwiQUNUSVZFX0FDQ09VTlQiLCJhY3RpdmVBY2NvdW50VmFsdWVMb2NhbCIsImFjdGl2ZUFjY291bnQiLCJnZXRBY2NvdW50SW5mb0ZpbHRlcmVkQnkiLCJsb2NhbEFjY291bnRJZCIsInNldEFjdGl2ZUFjY291bnQiLCJhY3RpdmVBY2NvdW50VmFsdWVPYmoiLCJob21lQWNjb3VudElkIiwidGVuYW50SWQiLCJhY3RpdmVBY2NvdW50S2V5IiwiYWN0aXZlQWNjb3VudFZhbHVlIiwiZ2V0VGhyb3R0bGluZ0NhY2hlIiwidGhyb3R0bGluZ0NhY2hlS2V5IiwicGFyc2VkVGhyb3R0bGluZ0NhY2hlIiwiaXNUaHJvdHRsaW5nRW50aXR5Iiwic2V0VGhyb3R0bGluZ0NhY2hlIiwidGhyb3R0bGluZ0NhY2hlIiwiZ2V0VGVtcG9yYXJ5Q2FjaGUiLCJnZW5lcmF0ZUtleSIsInN0b3JlQXV0aFN0YXRlSW5Db29raWUiLCJpdGVtQ29va2llIiwidW5kZWZpbmVkIiwic2VjdXJlQ29va2llcyIsInJlbW92ZVRlbXBvcmFyeUl0ZW0iLCJjbGVhciIsInJlbW92ZUFsbEFjY291bnRzIiwicmVtb3ZlQXBwTWV0YWRhdGEiLCJjbGVhclRva2Vuc0FuZEtleXNXaXRoQ2xhaW1zIiwiY29ycmVsYXRpb25JZCIsImFkZFF1ZXVlTWVhc3VyZW1lbnQiLCJDbGVhclRva2Vuc0FuZEtleXNXaXRoQ2xhaW1zIiwicmVtb3ZlZEFjY2Vzc1Rva2VucyIsImNyZWRlbnRpYWwiLCJyZXF1ZXN0ZWRDbGFpbXNIYXNoIiwiaW5jbHVkZXMiLCJ0b0xvd2VyQ2FzZSIsIlByb21pc2UiLCJhbGwiLCJsZW5ndGgiLCJ3YXJuaW5nIiwiZ2VuZXJhdGVkS2V5Iiwic3RhcnRzV2l0aCIsIkFEQUxfSURfVE9LRU4iLCJnZW5lcmF0ZUF1dGhvcml0eUtleSIsInN0YXRlU3RyaW5nIiwibGlicmFyeVN0YXRlIiwiaWQiLCJzdGF0ZUlkIiwicGFyc2VSZXF1ZXN0U3RhdGUiLCJBVVRIT1JJVFkiLCJnZW5lcmF0ZU5vbmNlS2V5IiwiTk9OQ0VfSURUT0tFTiIsImdlbmVyYXRlU3RhdGVLZXkiLCJSRVFVRVNUX1NUQVRFIiwiZ2V0Q2FjaGVkQXV0aG9yaXR5IiwiY2FjaGVkU3RhdGUiLCJzdGF0ZUNhY2hlS2V5Iiwic3RhdGUiLCJhdXRob3JpdHlDYWNoZUtleSIsInVwZGF0ZUNhY2hlRW50cmllcyIsIm5vbmNlIiwiYXV0aG9yaXR5SW5zdGFuY2UiLCJsb2dpbkhpbnQiLCJub25jZUNhY2hlS2V5IiwiY2NzQ3JlZGVudGlhbCIsIkhPTUVfQUNDT1VOVF9JRCIsIkNDU19DUkVERU5USUFMIiwiVVBOIiwicmVzZXRSZXF1ZXN0Q2FjaGUiLCJSRVFVRVNUX1BBUkFNUyIsIk9SSUdJTl9VUkkiLCJVUkxfSEFTSCIsIkNPUlJFTEFUSU9OX0lEIiwiTkFUSVZFX1JFUVVFU1QiLCJzZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MiLCJjbGVhblJlcXVlc3RCeVN0YXRlIiwic3RhdGVLZXkiLCJjbGVhblJlcXVlc3RCeUludGVyYWN0aW9uVHlwZSIsImludGVyYWN0aW9uVHlwZSIsInN0YXRlVmFsdWUiLCJwYXJzZWRTdGF0ZSIsImNhY2hlQ29kZVJlcXVlc3QiLCJhdXRoQ29kZVJlcXVlc3QiLCJlbmNvZGVkVmFsdWUiLCJnZXRDYWNoZWRSZXF1ZXN0IiwiZW5jb2RlZFRva2VuUmVxdWVzdCIsInBhcnNlZFJlcXVlc3QiLCJlcnJvclBpaSIsImF1dGhvcml0eSIsImNhY2hlZEF1dGhvcml0eSIsImdldENhY2hlZE5hdGl2ZVJlcXVlc3QiLCJjYWNoZWRSZXF1ZXN0IiwiaXNJbnRlcmFjdGlvbkluUHJvZ3Jlc3MiLCJtYXRjaENsaWVudElkIiwiZ2V0SW50ZXJhY3Rpb25JblByb2dyZXNzIiwiSU5URVJBQ1RJT05fU1RBVFVTX0tFWSIsImluUHJvZ3Jlc3MiLCJnZXRMZWdhY3lMb2dpbkhpbnQiLCJhZGFsSWRUb2tlblN0cmluZyIsIm1zYWxJZFRva2VuU3RyaW5nIiwiY2FjaGVkSWRUb2tlblN0cmluZyIsImlkVG9rZW5DbGFpbXMiLCJleHRyYWN0VG9rZW5DbGFpbXMiLCJwcmVmZXJyZWRfdXNlcm5hbWUiLCJ1cG4iLCJjdXJyZW50Q2FjaGVLZXkiLCJ1cGRhdGVkQ2FjaGVLZXkiLCJjYWNoZUl0ZW0iLCJjcmVkZW50aWFsVHlwZSIsImh5ZHJhdGVDYWNoZSIsInJlc3VsdCIsInJlcXVlc3QiLCJjcmVhdGVJZFRva2VuRW50aXR5IiwiZW52aXJvbm1lbnQiLCJjbGFpbXNIYXNoIiwiY2xhaW1zIiwiaGFzaFN0cmluZyIsImNyZWF0ZUFjY2Vzc1Rva2VuRW50aXR5Iiwic2NvcGVzIiwiam9pbiIsImV4cGlyZXNPbiIsImdldFRpbWUiLCJleHRFeHBpcmVzT24iLCJ0b2tlblR5cGUiLCJzc2hLaWQiLCJjYWNoZVJlY29yZCIsInNhdmVDYWNoZVJlY29yZCIsInN0b3JlSW5DYWNoZSIsImFkZEZpZWxkcyIsImNhY2hlUnRDb3VudCIsImNhY2hlSWRDb3VudCIsImNhY2hlQXRDb3VudCIsIkRFRkFVTFRfQlJPV1NFUl9DQUNIRV9NQU5BR0VSIiwiY2FjaGVPcHRpb25zIiwiY2xhaW1zQmFzZWRDYWNoaW5nRW5hYmxlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/cache/BrowserCacheManager.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/cache/CookieStorage.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/cache/CookieStorage.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CookieStorage: () => (/* binding */ CookieStorage),\n/* harmony export */   getCookieExpirationTime: () => (/* binding */ getCookieExpirationTime)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ // Cookie life calculation (hours * minutes * seconds * ms)\nconst COOKIE_LIFE_MULTIPLIER = 24 * 60 * 60 * 1000;\nclass CookieStorage {\n    getItem(key) {\n        const name = `${encodeURIComponent(key)}`;\n        const cookieList = document.cookie.split(\";\");\n        for(let i = 0; i < cookieList.length; i++){\n            const cookie = cookieList[i];\n            const [key, ...rest] = decodeURIComponent(cookie).trim().split(\"=\");\n            const value = rest.join(\"=\");\n            if (key === name) {\n                return value;\n            }\n        }\n        return \"\";\n    }\n    setItem(key, value, cookieLifeDays, secure = true) {\n        let cookieStr = `${encodeURIComponent(key)}=${encodeURIComponent(value)};path=/;SameSite=Lax;`;\n        if (cookieLifeDays) {\n            const expireTime = getCookieExpirationTime(cookieLifeDays);\n            cookieStr += `expires=${expireTime};`;\n        }\n        if (secure) {\n            cookieStr += \"Secure;\";\n        }\n        document.cookie = cookieStr;\n    }\n    removeItem(key) {\n        // Setting expiration to -1 removes it\n        this.setItem(key, \"\", -1);\n    }\n    getKeys() {\n        const cookieList = document.cookie.split(\";\");\n        const keys = [];\n        cookieList.forEach((cookie)=>{\n            const cookieParts = decodeURIComponent(cookie).trim().split(\"=\");\n            keys.push(cookieParts[0]);\n        });\n        return keys;\n    }\n    containsKey(key) {\n        return this.getKeys().includes(key);\n    }\n}\n/**\r\n * Get cookie expiration time\r\n * @param cookieLifeDays\r\n */ function getCookieExpirationTime(cookieLifeDays) {\n    const today = new Date();\n    const expr = new Date(today.getTime() + cookieLifeDays * COOKIE_LIFE_MULTIPLIER);\n    return expr.toUTCString();\n}\n //# sourceMappingURL=CookieStorage.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NhY2hlL0Nvb2tpZVN0b3JhZ2UubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0QsMkRBQTJEO0FBQzNELE1BQU1BLHlCQUF5QixLQUFLLEtBQUssS0FBSztBQUM5QyxNQUFNQztJQUNGQyxRQUFRQyxHQUFHLEVBQUU7UUFDVCxNQUFNQyxPQUFPLENBQUMsRUFBRUMsbUJBQW1CRixLQUFLLENBQUM7UUFDekMsTUFBTUcsYUFBYUMsU0FBU0MsTUFBTSxDQUFDQyxLQUFLLENBQUM7UUFDekMsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlKLFdBQVdLLE1BQU0sRUFBRUQsSUFBSztZQUN4QyxNQUFNRixTQUFTRixVQUFVLENBQUNJLEVBQUU7WUFDNUIsTUFBTSxDQUFDUCxLQUFLLEdBQUdTLEtBQUssR0FBR0MsbUJBQW1CTCxRQUFRTSxJQUFJLEdBQUdMLEtBQUssQ0FBQztZQUMvRCxNQUFNTSxRQUFRSCxLQUFLSSxJQUFJLENBQUM7WUFDeEIsSUFBSWIsUUFBUUMsTUFBTTtnQkFDZCxPQUFPVztZQUNYO1FBQ0o7UUFDQSxPQUFPO0lBQ1g7SUFDQUUsUUFBUWQsR0FBRyxFQUFFWSxLQUFLLEVBQUVHLGNBQWMsRUFBRUMsU0FBUyxJQUFJLEVBQUU7UUFDL0MsSUFBSUMsWUFBWSxDQUFDLEVBQUVmLG1CQUFtQkYsS0FBSyxDQUFDLEVBQUVFLG1CQUFtQlUsT0FBTyxxQkFBcUIsQ0FBQztRQUM5RixJQUFJRyxnQkFBZ0I7WUFDaEIsTUFBTUcsYUFBYUMsd0JBQXdCSjtZQUMzQ0UsYUFBYSxDQUFDLFFBQVEsRUFBRUMsV0FBVyxDQUFDLENBQUM7UUFDekM7UUFDQSxJQUFJRixRQUFRO1lBQ1JDLGFBQWE7UUFDakI7UUFDQWIsU0FBU0MsTUFBTSxHQUFHWTtJQUN0QjtJQUNBRyxXQUFXcEIsR0FBRyxFQUFFO1FBQ1osc0NBQXNDO1FBQ3RDLElBQUksQ0FBQ2MsT0FBTyxDQUFDZCxLQUFLLElBQUksQ0FBQztJQUMzQjtJQUNBcUIsVUFBVTtRQUNOLE1BQU1sQixhQUFhQyxTQUFTQyxNQUFNLENBQUNDLEtBQUssQ0FBQztRQUN6QyxNQUFNZ0IsT0FBTyxFQUFFO1FBQ2ZuQixXQUFXb0IsT0FBTyxDQUFDLENBQUNsQjtZQUNoQixNQUFNbUIsY0FBY2QsbUJBQW1CTCxRQUFRTSxJQUFJLEdBQUdMLEtBQUssQ0FBQztZQUM1RGdCLEtBQUtHLElBQUksQ0FBQ0QsV0FBVyxDQUFDLEVBQUU7UUFDNUI7UUFDQSxPQUFPRjtJQUNYO0lBQ0FJLFlBQVkxQixHQUFHLEVBQUU7UUFDYixPQUFPLElBQUksQ0FBQ3FCLE9BQU8sR0FBR00sUUFBUSxDQUFDM0I7SUFDbkM7QUFDSjtBQUNBOzs7Q0FHQyxHQUNELFNBQVNtQix3QkFBd0JKLGNBQWM7SUFDM0MsTUFBTWEsUUFBUSxJQUFJQztJQUNsQixNQUFNQyxPQUFPLElBQUlELEtBQUtELE1BQU1HLE9BQU8sS0FBS2hCLGlCQUFpQmxCO0lBQ3pELE9BQU9pQyxLQUFLRSxXQUFXO0FBQzNCO0FBRWtELENBQ2xELDBDQUEwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvY2FjaGUvQ29va2llU3RvcmFnZS5tanM/OTU5YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vLyBDb29raWUgbGlmZSBjYWxjdWxhdGlvbiAoaG91cnMgKiBtaW51dGVzICogc2Vjb25kcyAqIG1zKVxyXG5jb25zdCBDT09LSUVfTElGRV9NVUxUSVBMSUVSID0gMjQgKiA2MCAqIDYwICogMTAwMDtcclxuY2xhc3MgQ29va2llU3RvcmFnZSB7XHJcbiAgICBnZXRJdGVtKGtleSkge1xyXG4gICAgICAgIGNvbnN0IG5hbWUgPSBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX1gO1xyXG4gICAgICAgIGNvbnN0IGNvb2tpZUxpc3QgPSBkb2N1bWVudC5jb29raWUuc3BsaXQoXCI7XCIpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29va2llTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBjb29raWUgPSBjb29raWVMaXN0W2ldO1xyXG4gICAgICAgICAgICBjb25zdCBba2V5LCAuLi5yZXN0XSA9IGRlY29kZVVSSUNvbXBvbmVudChjb29raWUpLnRyaW0oKS5zcGxpdChcIj1cIik7XHJcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcmVzdC5qb2luKFwiPVwiKTtcclxuICAgICAgICAgICAgaWYgKGtleSA9PT0gbmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG4gICAgc2V0SXRlbShrZXksIHZhbHVlLCBjb29raWVMaWZlRGF5cywgc2VjdXJlID0gdHJ1ZSkge1xyXG4gICAgICAgIGxldCBjb29raWVTdHIgPSBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpfTtwYXRoPS87U2FtZVNpdGU9TGF4O2A7XHJcbiAgICAgICAgaWYgKGNvb2tpZUxpZmVEYXlzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV4cGlyZVRpbWUgPSBnZXRDb29raWVFeHBpcmF0aW9uVGltZShjb29raWVMaWZlRGF5cyk7XHJcbiAgICAgICAgICAgIGNvb2tpZVN0ciArPSBgZXhwaXJlcz0ke2V4cGlyZVRpbWV9O2A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzZWN1cmUpIHtcclxuICAgICAgICAgICAgY29va2llU3RyICs9IFwiU2VjdXJlO1wiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBjb29raWVTdHI7XHJcbiAgICB9XHJcbiAgICByZW1vdmVJdGVtKGtleSkge1xyXG4gICAgICAgIC8vIFNldHRpbmcgZXhwaXJhdGlvbiB0byAtMSByZW1vdmVzIGl0XHJcbiAgICAgICAgdGhpcy5zZXRJdGVtKGtleSwgXCJcIiwgLTEpO1xyXG4gICAgfVxyXG4gICAgZ2V0S2V5cygpIHtcclxuICAgICAgICBjb25zdCBjb29raWVMaXN0ID0gZG9jdW1lbnQuY29va2llLnNwbGl0KFwiO1wiKTtcclxuICAgICAgICBjb25zdCBrZXlzID0gW107XHJcbiAgICAgICAgY29va2llTGlzdC5mb3JFYWNoKChjb29raWUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY29va2llUGFydHMgPSBkZWNvZGVVUklDb21wb25lbnQoY29va2llKS50cmltKCkuc3BsaXQoXCI9XCIpO1xyXG4gICAgICAgICAgICBrZXlzLnB1c2goY29va2llUGFydHNbMF0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBrZXlzO1xyXG4gICAgfVxyXG4gICAgY29udGFpbnNLZXkoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0S2V5cygpLmluY2x1ZGVzKGtleSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEdldCBjb29raWUgZXhwaXJhdGlvbiB0aW1lXHJcbiAqIEBwYXJhbSBjb29raWVMaWZlRGF5c1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0Q29va2llRXhwaXJhdGlvblRpbWUoY29va2llTGlmZURheXMpIHtcclxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgIGNvbnN0IGV4cHIgPSBuZXcgRGF0ZSh0b2RheS5nZXRUaW1lKCkgKyBjb29raWVMaWZlRGF5cyAqIENPT0tJRV9MSUZFX01VTFRJUExJRVIpO1xyXG4gICAgcmV0dXJuIGV4cHIudG9VVENTdHJpbmcoKTtcclxufVxuXG5leHBvcnQgeyBDb29raWVTdG9yYWdlLCBnZXRDb29raWVFeHBpcmF0aW9uVGltZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29va2llU3RvcmFnZS5tanMubWFwXG4iXSwibmFtZXMiOlsiQ09PS0lFX0xJRkVfTVVMVElQTElFUiIsIkNvb2tpZVN0b3JhZ2UiLCJnZXRJdGVtIiwia2V5IiwibmFtZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImNvb2tpZUxpc3QiLCJkb2N1bWVudCIsImNvb2tpZSIsInNwbGl0IiwiaSIsImxlbmd0aCIsInJlc3QiLCJkZWNvZGVVUklDb21wb25lbnQiLCJ0cmltIiwidmFsdWUiLCJqb2luIiwic2V0SXRlbSIsImNvb2tpZUxpZmVEYXlzIiwic2VjdXJlIiwiY29va2llU3RyIiwiZXhwaXJlVGltZSIsImdldENvb2tpZUV4cGlyYXRpb25UaW1lIiwicmVtb3ZlSXRlbSIsImdldEtleXMiLCJrZXlzIiwiZm9yRWFjaCIsImNvb2tpZVBhcnRzIiwicHVzaCIsImNvbnRhaW5zS2V5IiwiaW5jbHVkZXMiLCJ0b2RheSIsIkRhdGUiLCJleHByIiwiZ2V0VGltZSIsInRvVVRDU3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/cache/CookieStorage.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/cache/DatabaseStorage.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/cache/DatabaseStorage.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DatabaseStorage: () => (/* binding */ DatabaseStorage)\n/* harmony export */ });\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Storage wrapper for IndexedDB storage in browsers: https://developer.mozilla.org/en-US/docs/Web/API/IndexedDB_API\r\n */ class DatabaseStorage {\n    constructor(){\n        this.dbName = _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__.DB_NAME;\n        this.version = _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__.DB_VERSION;\n        this.tableName = _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__.DB_TABLE_NAME;\n        this.dbOpen = false;\n    }\n    /**\r\n     * Opens IndexedDB instance.\r\n     */ async open() {\n        return new Promise((resolve, reject)=>{\n            const openDB = window.indexedDB.open(this.dbName, this.version);\n            openDB.addEventListener(\"upgradeneeded\", (e)=>{\n                const event = e;\n                event.target.result.createObjectStore(this.tableName);\n            });\n            openDB.addEventListener(\"success\", (e)=>{\n                const event = e;\n                this.db = event.target.result;\n                this.dbOpen = true;\n                resolve();\n            });\n            openDB.addEventListener(\"error\", ()=>reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.databaseUnavailable)));\n        });\n    }\n    /**\r\n     * Closes the connection to IndexedDB database when all pending transactions\r\n     * complete.\r\n     */ closeConnection() {\n        const db = this.db;\n        if (db && this.dbOpen) {\n            db.close();\n            this.dbOpen = false;\n        }\n    }\n    /**\r\n     * Opens database if it's not already open\r\n     */ async validateDbIsOpen() {\n        if (!this.dbOpen) {\n            return this.open();\n        }\n    }\n    /**\r\n     * Retrieves item from IndexedDB instance.\r\n     * @param key\r\n     */ async getItem(key) {\n        await this.validateDbIsOpen();\n        return new Promise((resolve, reject)=>{\n            // TODO: Add timeouts?\n            if (!this.db) {\n                return reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.databaseNotOpen));\n            }\n            const transaction = this.db.transaction([\n                this.tableName\n            ], \"readonly\");\n            const objectStore = transaction.objectStore(this.tableName);\n            const dbGet = objectStore.get(key);\n            dbGet.addEventListener(\"success\", (e)=>{\n                const event = e;\n                this.closeConnection();\n                resolve(event.target.result);\n            });\n            dbGet.addEventListener(\"error\", (e)=>{\n                this.closeConnection();\n                reject(e);\n            });\n        });\n    }\n    /**\r\n     * Adds item to IndexedDB under given key\r\n     * @param key\r\n     * @param payload\r\n     */ async setItem(key, payload) {\n        await this.validateDbIsOpen();\n        return new Promise((resolve, reject)=>{\n            // TODO: Add timeouts?\n            if (!this.db) {\n                return reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.databaseNotOpen));\n            }\n            const transaction = this.db.transaction([\n                this.tableName\n            ], \"readwrite\");\n            const objectStore = transaction.objectStore(this.tableName);\n            const dbPut = objectStore.put(payload, key);\n            dbPut.addEventListener(\"success\", ()=>{\n                this.closeConnection();\n                resolve();\n            });\n            dbPut.addEventListener(\"error\", (e)=>{\n                this.closeConnection();\n                reject(e);\n            });\n        });\n    }\n    /**\r\n     * Removes item from IndexedDB under given key\r\n     * @param key\r\n     */ async removeItem(key) {\n        await this.validateDbIsOpen();\n        return new Promise((resolve, reject)=>{\n            if (!this.db) {\n                return reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.databaseNotOpen));\n            }\n            const transaction = this.db.transaction([\n                this.tableName\n            ], \"readwrite\");\n            const objectStore = transaction.objectStore(this.tableName);\n            const dbDelete = objectStore.delete(key);\n            dbDelete.addEventListener(\"success\", ()=>{\n                this.closeConnection();\n                resolve();\n            });\n            dbDelete.addEventListener(\"error\", (e)=>{\n                this.closeConnection();\n                reject(e);\n            });\n        });\n    }\n    /**\r\n     * Get all the keys from the storage object as an iterable array of strings.\r\n     */ async getKeys() {\n        await this.validateDbIsOpen();\n        return new Promise((resolve, reject)=>{\n            if (!this.db) {\n                return reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.databaseNotOpen));\n            }\n            const transaction = this.db.transaction([\n                this.tableName\n            ], \"readonly\");\n            const objectStore = transaction.objectStore(this.tableName);\n            const dbGetKeys = objectStore.getAllKeys();\n            dbGetKeys.addEventListener(\"success\", (e)=>{\n                const event = e;\n                this.closeConnection();\n                resolve(event.target.result);\n            });\n            dbGetKeys.addEventListener(\"error\", (e)=>{\n                this.closeConnection();\n                reject(e);\n            });\n        });\n    }\n    /**\r\n     *\r\n     * Checks whether there is an object under the search key in the object store\r\n     */ async containsKey(key) {\n        await this.validateDbIsOpen();\n        return new Promise((resolve, reject)=>{\n            if (!this.db) {\n                return reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.databaseNotOpen));\n            }\n            const transaction = this.db.transaction([\n                this.tableName\n            ], \"readonly\");\n            const objectStore = transaction.objectStore(this.tableName);\n            const dbContainsKey = objectStore.count(key);\n            dbContainsKey.addEventListener(\"success\", (e)=>{\n                const event = e;\n                this.closeConnection();\n                resolve(event.target.result === 1);\n            });\n            dbContainsKey.addEventListener(\"error\", (e)=>{\n                this.closeConnection();\n                reject(e);\n            });\n        });\n    }\n    /**\r\n     * Deletes the MSAL database. The database is deleted rather than cleared to make it possible\r\n     * for client applications to downgrade to a previous MSAL version without worrying about forward compatibility issues\r\n     * with IndexedDB database versions.\r\n     */ async deleteDatabase() {\n        // Check if database being deleted exists\n        if (this.db && this.dbOpen) {\n            this.closeConnection();\n        }\n        return new Promise((resolve, reject)=>{\n            const deleteDbRequest = window.indexedDB.deleteDatabase(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__.DB_NAME);\n            const id = setTimeout(()=>reject(false), 200); // Reject if events aren't raised within 200ms\n            deleteDbRequest.addEventListener(\"success\", ()=>{\n                clearTimeout(id);\n                return resolve(true);\n            });\n            deleteDbRequest.addEventListener(\"blocked\", ()=>{\n                clearTimeout(id);\n                return resolve(true);\n            });\n            deleteDbRequest.addEventListener(\"error\", ()=>{\n                clearTimeout(id);\n                return reject(false);\n            });\n        });\n    }\n}\n //# sourceMappingURL=DatabaseStorage.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NhY2hlL0RhdGFiYXNlU3RvcmFnZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUN1RTtBQUNZO0FBQ087QUFFMUY7OztDQUdDLEdBQ0Q7O0NBRUMsR0FDRCxNQUFNTTtJQUNGQyxhQUFjO1FBQ1YsSUFBSSxDQUFDQyxNQUFNLEdBQUdQLGdFQUFPQTtRQUNyQixJQUFJLENBQUNRLE9BQU8sR0FBR1AsbUVBQVVBO1FBQ3pCLElBQUksQ0FBQ1EsU0FBUyxHQUFHUCxzRUFBYUE7UUFDOUIsSUFBSSxDQUFDUSxNQUFNLEdBQUc7SUFDbEI7SUFDQTs7S0FFQyxHQUNELE1BQU1DLE9BQU87UUFDVCxPQUFPLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7WUFDekIsTUFBTUMsU0FBU0MsT0FBT0MsU0FBUyxDQUFDTixJQUFJLENBQUMsSUFBSSxDQUFDSixNQUFNLEVBQUUsSUFBSSxDQUFDQyxPQUFPO1lBQzlETyxPQUFPRyxnQkFBZ0IsQ0FBQyxpQkFBaUIsQ0FBQ0M7Z0JBQ3RDLE1BQU1DLFFBQVFEO2dCQUNkQyxNQUFNQyxNQUFNLENBQUNDLE1BQU0sQ0FBQ0MsaUJBQWlCLENBQUMsSUFBSSxDQUFDZCxTQUFTO1lBQ3hEO1lBQ0FNLE9BQU9HLGdCQUFnQixDQUFDLFdBQVcsQ0FBQ0M7Z0JBQ2hDLE1BQU1DLFFBQVFEO2dCQUNkLElBQUksQ0FBQ0ssRUFBRSxHQUFHSixNQUFNQyxNQUFNLENBQUNDLE1BQU07Z0JBQzdCLElBQUksQ0FBQ1osTUFBTSxHQUFHO2dCQUNkRztZQUNKO1lBQ0FFLE9BQU9HLGdCQUFnQixDQUFDLFNBQVMsSUFBTUosT0FBT2YsbUZBQXNCQSxDQUFDSSxpRkFBbUJBO1FBQzVGO0lBQ0o7SUFDQTs7O0tBR0MsR0FDRHNCLGtCQUFrQjtRQUNkLE1BQU1ELEtBQUssSUFBSSxDQUFDQSxFQUFFO1FBQ2xCLElBQUlBLE1BQU0sSUFBSSxDQUFD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O1lBQ3hDZ0IsY0FBYzNCLGdCQUFnQixDQUFDLFdBQVcsQ0FBQ0M7Z0JBQ3ZDLE1BQU1DLFFBQVFEO2dCQUNkLElBQUksQ0FBQ00sZUFBZTtnQkFDcEJaLFFBQVFPLE1BQU1DLE1BQU0sQ0FBQ0MsTUFBTSxLQUFLO1lBQ3BDO1lBQ0F1QixjQUFjM0IsZ0JBQWdCLENBQUMsU0FBUyxDQUFDQztnQkFDckMsSUFBSSxDQUFDTSxlQUFlO2dCQUNwQlgsT0FBT0s7WUFDWDtRQUNKO0lBQ0o7SUFDQTs7OztLQUlDLEdBQ0QsTUFBTTRCLGlCQUFpQjtRQUNuQix5Q0FBeUM7UUFDekMsSUFBSSxJQUFJLENBQUN2QixFQUFFLElBQUksSUFBSSxDQUFDZCxNQUFNLEVBQUU7WUFDeEIsSUFBSSxDQUFDZSxlQUFlO1FBQ3hCO1FBQ0EsT0FBTyxJQUFJYixRQUFRLENBQUNDLFNBQVNDO1lBQ3pCLE1BQU1rQyxrQkFBa0JoQyxPQUFPQyxTQUFTLENBQUM4QixjQUFjLENBQUMvQyxnRUFBT0E7WUFDL0QsTUFBTWlELEtBQUtDLFdBQVcsSUFBTXBDLE9BQU8sUUFBUSxNQUFNLDhDQUE4QztZQUMvRmtDLGdCQUFnQjlCLGdCQUFnQixDQUFDLFdBQVc7Z0JBQ3hDaUMsYUFBYUY7Z0JBQ2IsT0FBT3BDLFFBQVE7WUFDbkI7WUFDQW1DLGdCQUFnQjlCLGdCQUFnQixDQUFDLFdBQVc7Z0JBQ3hDaUMsYUFBYUY7Z0JBQ2IsT0FBT3BDLFFBQVE7WUFDbkI7WUFDQW1DLGdCQUFnQjlCLGdCQUFnQixDQUFDLFNBQVM7Z0JBQ3RDaUMsYUFBYUY7Z0JBQ2IsT0FBT25DLE9BQU87WUFDbEI7UUFDSjtJQUNKO0FBQ0o7QUFFMkIsQ0FDM0IsNENBQTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9jYWNoZS9EYXRhYmFzZVN0b3JhZ2UubWpzPzI3ODUiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgREJfTkFNRSwgREJfVkVSU0lPTiwgREJfVEFCTEVfTkFNRSB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMubWpzJztcbmltcG9ydCB7IGRhdGFiYXNlVW5hdmFpbGFibGUsIGRhdGFiYXNlTm90T3BlbiB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFN0b3JhZ2Ugd3JhcHBlciBmb3IgSW5kZXhlZERCIHN0b3JhZ2UgaW4gYnJvd3NlcnM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9JbmRleGVkREJfQVBJXHJcbiAqL1xyXG5jbGFzcyBEYXRhYmFzZVN0b3JhZ2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5kYk5hbWUgPSBEQl9OQU1FO1xyXG4gICAgICAgIHRoaXMudmVyc2lvbiA9IERCX1ZFUlNJT047XHJcbiAgICAgICAgdGhpcy50YWJsZU5hbWUgPSBEQl9UQUJMRV9OQU1FO1xyXG4gICAgICAgIHRoaXMuZGJPcGVuID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE9wZW5zIEluZGV4ZWREQiBpbnN0YW5jZS5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgb3BlbigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBvcGVuREIgPSB3aW5kb3cuaW5kZXhlZERCLm9wZW4odGhpcy5kYk5hbWUsIHRoaXMudmVyc2lvbik7XHJcbiAgICAgICAgICAgIG9wZW5EQi5hZGRFdmVudExpc3RlbmVyKFwidXBncmFkZW5lZWRlZFwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBlO1xyXG4gICAgICAgICAgICAgICAgZXZlbnQudGFyZ2V0LnJlc3VsdC5jcmVhdGVPYmplY3RTdG9yZSh0aGlzLnRhYmxlTmFtZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBvcGVuREIuYWRkRXZlbnRMaXN0ZW5lcihcInN1Y2Nlc3NcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGIgPSBldmVudC50YXJnZXQucmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kYk9wZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgb3BlbkRCLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoKSA9PiByZWplY3QoY3JlYXRlQnJvd3NlckF1dGhFcnJvcihkYXRhYmFzZVVuYXZhaWxhYmxlKSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDbG9zZXMgdGhlIGNvbm5lY3Rpb24gdG8gSW5kZXhlZERCIGRhdGFiYXNlIHdoZW4gYWxsIHBlbmRpbmcgdHJhbnNhY3Rpb25zXHJcbiAgICAgKiBjb21wbGV0ZS5cclxuICAgICAqL1xyXG4gICAgY2xvc2VDb25uZWN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0IGRiID0gdGhpcy5kYjtcclxuICAgICAgICBpZiAoZGIgJiYgdGhpcy5kYk9wZW4pIHtcclxuICAgICAgICAgICAgZGIuY2xvc2UoKTtcclxuICAgICAgICAgICAgdGhpcy5kYk9wZW4gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE9wZW5zIGRhdGFiYXNlIGlmIGl0J3Mgbm90IGFscmVhZHkgb3BlblxyXG4gICAgICovXHJcbiAgICBhc3luYyB2YWxpZGF0ZURiSXNPcGVuKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5kYk9wZW4pIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMub3BlbigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0cmlldmVzIGl0ZW0gZnJvbSBJbmRleGVkREIgaW5zdGFuY2UuXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldEl0ZW0oa2V5KSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy52YWxpZGF0ZURiSXNPcGVuKCk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgLy8gVE9ETzogQWRkIHRpbWVvdXRzP1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoY3JlYXRlQnJvd3NlckF1dGhFcnJvcihkYXRhYmFzZU5vdE9wZW4pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oW3RoaXMudGFibGVOYW1lXSwgXCJyZWFkb25seVwiKTtcclxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSh0aGlzLnRhYmxlTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRiR2V0ID0gb2JqZWN0U3RvcmUuZ2V0KGtleSk7XHJcbiAgICAgICAgICAgIGRiR2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWNjZXNzXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShldmVudC50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRiR2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUNvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgaXRlbSB0byBJbmRleGVkREIgdW5kZXIgZ2l2ZW4ga2V5XHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gcGF5bG9hZFxyXG4gICAgICovXHJcbiAgICBhc3luYyBzZXRJdGVtKGtleSwgcGF5bG9hZCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMudmFsaWRhdGVEYklzT3BlbigpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFRPRE86IEFkZCB0aW1lb3V0cz9cclxuICAgICAgICAgICAgaWYgKCF0aGlzLmRiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVqZWN0KGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IoZGF0YWJhc2VOb3RPcGVuKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdHJhbnNhY3Rpb24gPSB0aGlzLmRiLnRyYW5zYWN0aW9uKFt0aGlzLnRhYmxlTmFtZV0sIFwicmVhZHdyaXRlXCIpO1xyXG4gICAgICAgICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHRoaXMudGFibGVOYW1lKTtcclxuICAgICAgICAgICAgY29uc3QgZGJQdXQgPSBvYmplY3RTdG9yZS5wdXQocGF5bG9hZCwga2V5KTtcclxuICAgICAgICAgICAgZGJQdXQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Y2Nlc3NcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUNvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRiUHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUNvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgaXRlbSBmcm9tIEluZGV4ZWREQiB1bmRlciBnaXZlbiBrZXlcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqL1xyXG4gICAgYXN5bmMgcmVtb3ZlSXRlbShrZXkpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLnZhbGlkYXRlRGJJc09wZW4oKTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoY3JlYXRlQnJvd3NlckF1dGhFcnJvcihkYXRhYmFzZU5vdE9wZW4pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oW3RoaXMudGFibGVOYW1lXSwgXCJyZWFkd3JpdGVcIik7XHJcbiAgICAgICAgICAgIGNvbnN0IG9iamVjdFN0b3JlID0gdHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUodGhpcy50YWJsZU5hbWUpO1xyXG4gICAgICAgICAgICBjb25zdCBkYkRlbGV0ZSA9IG9iamVjdFN0b3JlLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICBkYkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKFwic3VjY2Vzc1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZGJEZWxldGUuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0IGFsbCB0aGUga2V5cyBmcm9tIHRoZSBzdG9yYWdlIG9iamVjdCBhcyBhbiBpdGVyYWJsZSBhcnJheSBvZiBzdHJpbmdzLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRLZXlzKCkge1xyXG4gICAgICAgIGF3YWl0IHRoaXMudmFsaWRhdGVEYklzT3BlbigpO1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5kYikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChjcmVhdGVCcm93c2VyQXV0aEVycm9yKGRhdGFiYXNlTm90T3BlbikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHRyYW5zYWN0aW9uID0gdGhpcy5kYi50cmFuc2FjdGlvbihbdGhpcy50YWJsZU5hbWVdLCBcInJlYWRvbmx5XCIpO1xyXG4gICAgICAgICAgICBjb25zdCBvYmplY3RTdG9yZSA9IHRyYW5zYWN0aW9uLm9iamVjdFN0b3JlKHRoaXMudGFibGVOYW1lKTtcclxuICAgICAgICAgICAgY29uc3QgZGJHZXRLZXlzID0gb2JqZWN0U3RvcmUuZ2V0QWxsS2V5cygpO1xyXG4gICAgICAgICAgICBkYkdldEtleXMuYWRkRXZlbnRMaXN0ZW5lcihcInN1Y2Nlc3NcIiwgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gZTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VDb25uZWN0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZGJHZXRLZXlzLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbG9zZUNvbm5lY3Rpb24oKTtcclxuICAgICAgICAgICAgICAgIHJlamVjdChlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGVyZSBpcyBhbiBvYmplY3QgdW5kZXIgdGhlIHNlYXJjaCBrZXkgaW4gdGhlIG9iamVjdCBzdG9yZVxyXG4gICAgICovXHJcbiAgICBhc3luYyBjb250YWluc0tleShrZXkpIHtcclxuICAgICAgICBhd2FpdCB0aGlzLnZhbGlkYXRlRGJJc09wZW4oKTtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuZGIpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoY3JlYXRlQnJvd3NlckF1dGhFcnJvcihkYXRhYmFzZU5vdE9wZW4pKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0cmFuc2FjdGlvbiA9IHRoaXMuZGIudHJhbnNhY3Rpb24oW3RoaXMudGFibGVOYW1lXSwgXCJyZWFkb25seVwiKTtcclxuICAgICAgICAgICAgY29uc3Qgb2JqZWN0U3RvcmUgPSB0cmFuc2FjdGlvbi5vYmplY3RTdG9yZSh0aGlzLnRhYmxlTmFtZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGRiQ29udGFpbnNLZXkgPSBvYmplY3RTdG9yZS5jb3VudChrZXkpO1xyXG4gICAgICAgICAgICBkYkNvbnRhaW5zS2V5LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWNjZXNzXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IGU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShldmVudC50YXJnZXQucmVzdWx0ID09PSAxKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRiQ29udGFpbnNLZXkuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRGVsZXRlcyB0aGUgTVNBTCBkYXRhYmFzZS4gVGhlIGRhdGFiYXNlIGlzIGRlbGV0ZWQgcmF0aGVyIHRoYW4gY2xlYXJlZCB0byBtYWtlIGl0IHBvc3NpYmxlXHJcbiAgICAgKiBmb3IgY2xpZW50IGFwcGxpY2F0aW9ucyB0byBkb3duZ3JhZGUgdG8gYSBwcmV2aW91cyBNU0FMIHZlcnNpb24gd2l0aG91dCB3b3JyeWluZyBhYm91dCBmb3J3YXJkIGNvbXBhdGliaWxpdHkgaXNzdWVzXHJcbiAgICAgKiB3aXRoIEluZGV4ZWREQiBkYXRhYmFzZSB2ZXJzaW9ucy5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZGVsZXRlRGF0YWJhc2UoKSB7XHJcbiAgICAgICAgLy8gQ2hlY2sgaWYgZGF0YWJhc2UgYmVpbmcgZGVsZXRlZCBleGlzdHNcclxuICAgICAgICBpZiAodGhpcy5kYiAmJiB0aGlzLmRiT3Blbikge1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlQ29ubmVjdGlvbigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkZWxldGVEYlJlcXVlc3QgPSB3aW5kb3cuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKERCX05BTUUpO1xyXG4gICAgICAgICAgICBjb25zdCBpZCA9IHNldFRpbWVvdXQoKCkgPT4gcmVqZWN0KGZhbHNlKSwgMjAwKTsgLy8gUmVqZWN0IGlmIGV2ZW50cyBhcmVuJ3QgcmFpc2VkIHdpdGhpbiAyMDBtc1xyXG4gICAgICAgICAgICBkZWxldGVEYlJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcihcInN1Y2Nlc3NcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZGVsZXRlRGJSZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJibG9ja2VkXCIsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChpZCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRlbGV0ZURiUmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGlkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBEYXRhYmFzZVN0b3JhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURhdGFiYXNlU3RvcmFnZS5tanMubWFwXG4iXSwibmFtZXMiOlsiY3JlYXRlQnJvd3NlckF1dGhFcnJvciIsIkRCX05BTUUiLCJEQl9WRVJTSU9OIiwiREJfVEFCTEVfTkFNRSIsImRhdGFiYXNlVW5hdmFpbGFibGUiLCJkYXRhYmFzZU5vdE9wZW4iLCJEYXRhYmFzZVN0b3JhZ2UiLCJjb25zdHJ1Y3RvciIsImRiTmFtZSIsInZlcnNpb24iLCJ0YWJsZU5hbWUiLCJkYk9wZW4iLCJvcGVuIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJvcGVuREIiLCJ3aW5kb3ciLCJpbmRleGVkREIiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImV2ZW50IiwidGFyZ2V0IiwicmVzdWx0IiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJkYiIsImNsb3NlQ29ubmVjdGlvbiIsImNsb3NlIiwidmFsaWRhdGVEYklzT3BlbiIsImdldEl0ZW0iLCJrZXkiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwiZGJHZXQiLCJnZXQiLCJzZXRJdGVtIiwicGF5bG9hZCIsImRiUHV0IiwicHV0IiwicmVtb3ZlSXRlbSIsImRiRGVsZXRlIiwiZGVsZXRlIiwiZ2V0S2V5cyIsImRiR2V0S2V5cyIsImdldEFsbEtleXMiLCJjb250YWluc0tleSIsImRiQ29udGFpbnNLZXkiLCJjb3VudCIsImRlbGV0ZURhdGFiYXNlIiwiZGVsZXRlRGJSZXF1ZXN0IiwiaWQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/cache/DatabaseStorage.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/cache/LocalStorage.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/cache/LocalStorage.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LocalStorage: () => (/* binding */ LocalStorage)\n/* harmony export */ });\n/* harmony import */ var _error_BrowserConfigurationAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/BrowserConfigurationAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthError.mjs\");\n/* harmony import */ var _error_BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/BrowserConfigurationAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class LocalStorage {\n    constructor(){\n        if (!window.localStorage) {\n            throw (0,_error_BrowserConfigurationAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createBrowserConfigurationAuthError)(_error_BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.storageNotSupported);\n        }\n    }\n    getItem(key) {\n        return window.localStorage.getItem(key);\n    }\n    setItem(key, value) {\n        window.localStorage.setItem(key, value);\n    }\n    removeItem(key) {\n        window.localStorage.removeItem(key);\n    }\n    getKeys() {\n        return Object.keys(window.localStorage);\n    }\n    containsKey(key) {\n        return window.localStorage.hasOwnProperty(key);\n    }\n}\n //# sourceMappingURL=LocalStorage.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NhY2hlL0xvY2FsU3RvcmFnZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ2lHO0FBQ1g7QUFFdEY7OztDQUdDLEdBQ0QsTUFBTUU7SUFDRkMsYUFBYztRQUNWLElBQUksQ0FBQ0MsT0FBT0MsWUFBWSxFQUFFO1lBQ3RCLE1BQU1MLDZHQUFtQ0EsQ0FBQ0MsOEZBQW1CQTtRQUNqRTtJQUNKO0lBQ0FLLFFBQVFDLEdBQUcsRUFBRTtRQUNULE9BQU9ILE9BQU9DLFlBQVksQ0FBQ0MsT0FBTyxDQUFDQztJQUN2QztJQUNBQyxRQUFRRCxHQUFHLEVBQUVFLEtBQUssRUFBRTtRQUNoQkwsT0FBT0MsWUFBWSxDQUFDRyxPQUFPLENBQUNELEtBQUtFO0lBQ3JDO0lBQ0FDLFdBQVdILEdBQUcsRUFBRTtRQUNaSCxPQUFPQyxZQUFZLENBQUNLLFVBQVUsQ0FBQ0g7SUFDbkM7SUFDQUksVUFBVTtRQUNOLE9BQU9DLE9BQU9DLElBQUksQ0FBQ1QsT0FBT0MsWUFBWTtJQUMxQztJQUNBUyxZQUFZUCxHQUFHLEVBQUU7UUFDYixPQUFPSCxPQUFPQyxZQUFZLENBQUNVLGNBQWMsQ0FBQ1I7SUFDOUM7QUFDSjtBQUV3QixDQUN4Qix5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NhY2hlL0xvY2FsU3RvcmFnZS5tanM/ZDA2MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IGNyZWF0ZUJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IHN0b3JhZ2VOb3RTdXBwb3J0ZWQgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBMb2NhbFN0b3JhZ2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgaWYgKCF3aW5kb3cubG9jYWxTdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yKHN0b3JhZ2VOb3RTdXBwb3J0ZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldEl0ZW0oa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xyXG4gICAgfVxyXG4gICAgc2V0SXRlbShrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlSXRlbShrZXkpIHtcclxuICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgIH1cclxuICAgIGdldEtleXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHdpbmRvdy5sb2NhbFN0b3JhZ2UpO1xyXG4gICAgfVxyXG4gICAgY29udGFpbnNLZXkoa2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhbFN0b3JhZ2UuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBMb2NhbFN0b3JhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxvY2FsU3RvcmFnZS5tanMubWFwXG4iXSwibmFtZXMiOlsiY3JlYXRlQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IiLCJzdG9yYWdlTm90U3VwcG9ydGVkIiwiTG9jYWxTdG9yYWdlIiwiY29uc3RydWN0b3IiLCJ3aW5kb3ciLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwia2V5Iiwic2V0SXRlbSIsInZhbHVlIiwicmVtb3ZlSXRlbSIsImdldEtleXMiLCJPYmplY3QiLCJrZXlzIiwiY29udGFpbnNLZXkiLCJoYXNPd25Qcm9wZXJ0eSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/cache/LocalStorage.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/cache/MemoryStorage.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/cache/MemoryStorage.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MemoryStorage: () => (/* binding */ MemoryStorage)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class MemoryStorage {\n    constructor(){\n        this.cache = new Map();\n    }\n    getItem(key) {\n        return this.cache.get(key) || null;\n    }\n    setItem(key, value) {\n        this.cache.set(key, value);\n    }\n    removeItem(key) {\n        this.cache.delete(key);\n    }\n    getKeys() {\n        const cacheKeys = [];\n        this.cache.forEach((value, key)=>{\n            cacheKeys.push(key);\n        });\n        return cacheKeys;\n    }\n    containsKey(key) {\n        return this.cache.has(key);\n    }\n    clear() {\n        this.cache.clear();\n    }\n}\n //# sourceMappingURL=MemoryStorage.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NhY2hlL01lbW9yeVN0b3JhZ2UubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDQTs7O0NBR0MsR0FDRCxNQUFNQTtJQUNGQyxhQUFjO1FBQ1YsSUFBSSxDQUFDQyxLQUFLLEdBQUcsSUFBSUM7SUFDckI7SUFDQUMsUUFBUUMsR0FBRyxFQUFFO1FBQ1QsT0FBTyxJQUFJLENBQUNILEtBQUssQ0FBQ0ksR0FBRyxDQUFDRCxRQUFRO0lBQ2xDO0lBQ0FFLFFBQVFGLEdBQUcsRUFBRUcsS0FBSyxFQUFFO1FBQ2hCLElBQUksQ0FBQ04sS0FBSyxDQUFDTyxHQUFHLENBQUNKLEtBQUtHO0lBQ3hCO0lBQ0FFLFdBQVdMLEdBQUcsRUFBRTtRQUNaLElBQUksQ0FBQ0gsS0FBSyxDQUFDUyxNQUFNLENBQUNOO0lBQ3RCO0lBQ0FPLFVBQVU7UUFDTixNQUFNQyxZQUFZLEVBQUU7UUFDcEIsSUFBSSxDQUFDWCxLQUFLLENBQUNZLE9BQU8sQ0FBQyxDQUFDTixPQUFPSDtZQUN2QlEsVUFBVUUsSUFBSSxDQUFDVjtRQUNuQjtRQUNBLE9BQU9RO0lBQ1g7SUFDQUcsWUFBWVgsR0FBRyxFQUFFO1FBQ2IsT0FBTyxJQUFJLENBQUNILEtBQUssQ0FBQ2UsR0FBRyxDQUFDWjtJQUMxQjtJQUNBYSxRQUFRO1FBQ0osSUFBSSxDQUFDaEIsS0FBSyxDQUFDZ0IsS0FBSztJQUNwQjtBQUNKO0FBRXlCLENBQ3pCLDBDQUEwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvY2FjaGUvTWVtb3J5U3RvcmFnZS5tanM/YzAxOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBNZW1vcnlTdG9yYWdlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuY2FjaGUgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICBnZXRJdGVtKGtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmdldChrZXkpIHx8IG51bGw7XHJcbiAgICB9XHJcbiAgICBzZXRJdGVtKGtleSwgdmFsdWUpIHtcclxuICAgICAgICB0aGlzLmNhY2hlLnNldChrZXksIHZhbHVlKTtcclxuICAgIH1cclxuICAgIHJlbW92ZUl0ZW0oa2V5KSB7XHJcbiAgICAgICAgdGhpcy5jYWNoZS5kZWxldGUoa2V5KTtcclxuICAgIH1cclxuICAgIGdldEtleXMoKSB7XHJcbiAgICAgICAgY29uc3QgY2FjaGVLZXlzID0gW107XHJcbiAgICAgICAgdGhpcy5jYWNoZS5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGNhY2hlS2V5cy5wdXNoKGtleSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGNhY2hlS2V5cztcclxuICAgIH1cclxuICAgIGNvbnRhaW5zS2V5KGtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhY2hlLmhhcyhrZXkpO1xyXG4gICAgfVxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgdGhpcy5jYWNoZS5jbGVhcigpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IE1lbW9yeVN0b3JhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lbW9yeVN0b3JhZ2UubWpzLm1hcFxuIl0sIm5hbWVzIjpbIk1lbW9yeVN0b3JhZ2UiLCJjb25zdHJ1Y3RvciIsImNhY2hlIiwiTWFwIiwiZ2V0SXRlbSIsImtleSIsImdldCIsInNldEl0ZW0iLCJ2YWx1ZSIsInNldCIsInJlbW92ZUl0ZW0iLCJkZWxldGUiLCJnZXRLZXlzIiwiY2FjaGVLZXlzIiwiZm9yRWFjaCIsInB1c2giLCJjb250YWluc0tleSIsImhhcyIsImNsZWFyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/cache/MemoryStorage.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/cache/SessionStorage.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/cache/SessionStorage.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SessionStorage: () => (/* binding */ SessionStorage)\n/* harmony export */ });\n/* harmony import */ var _error_BrowserConfigurationAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/BrowserConfigurationAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthError.mjs\");\n/* harmony import */ var _error_BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/BrowserConfigurationAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class SessionStorage {\n    constructor(){\n        if (!window.sessionStorage) {\n            throw (0,_error_BrowserConfigurationAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createBrowserConfigurationAuthError)(_error_BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.storageNotSupported);\n        }\n    }\n    getItem(key) {\n        return window.sessionStorage.getItem(key);\n    }\n    setItem(key, value) {\n        window.sessionStorage.setItem(key, value);\n    }\n    removeItem(key) {\n        window.sessionStorage.removeItem(key);\n    }\n    getKeys() {\n        return Object.keys(window.sessionStorage);\n    }\n    containsKey(key) {\n        return window.sessionStorage.hasOwnProperty(key);\n    }\n}\n //# sourceMappingURL=SessionStorage.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NhY2hlL1Nlc3Npb25TdG9yYWdlLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDaUc7QUFDWDtBQUV0Rjs7O0NBR0MsR0FDRCxNQUFNRTtJQUNGQyxhQUFjO1FBQ1YsSUFBSSxDQUFDQyxPQUFPQyxjQUFjLEVBQUU7WUFDeEIsTUFBTUwsNkdBQW1DQSxDQUFDQyw4RkFBbUJBO1FBQ2pFO0lBQ0o7SUFDQUssUUFBUUMsR0FBRyxFQUFFO1FBQ1QsT0FBT0gsT0FBT0MsY0FBYyxDQUFDQyxPQUFPLENBQUNDO0lBQ3pDO0lBQ0FDLFFBQVFELEdBQUcsRUFBRUUsS0FBSyxFQUFFO1FBQ2hCTCxPQUFPQyxjQUFjLENBQUNHLE9BQU8sQ0FBQ0QsS0FBS0U7SUFDdkM7SUFDQUMsV0FBV0gsR0FBRyxFQUFFO1FBQ1pILE9BQU9DLGNBQWMsQ0FBQ0ssVUFBVSxDQUFDSDtJQUNyQztJQUNBSSxVQUFVO1FBQ04sT0FBT0MsT0FBT0MsSUFBSSxDQUFDVCxPQUFPQyxjQUFjO0lBQzVDO0lBQ0FTLFlBQVlQLEdBQUcsRUFBRTtRQUNiLE9BQU9ILE9BQU9DLGNBQWMsQ0FBQ1UsY0FBYyxDQUFDUjtJQUNoRDtBQUNKO0FBRTBCLENBQzFCLDJDQUEyQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvY2FjaGUvU2Vzc2lvblN0b3JhZ2UubWpzPzM5ZWMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBzdG9yYWdlTm90U3VwcG9ydGVkIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY2xhc3MgU2Vzc2lvblN0b3JhZ2Uge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgaWYgKCF3aW5kb3cuc2Vzc2lvblN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3Ioc3RvcmFnZU5vdFN1cHBvcnRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0SXRlbShrZXkpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oa2V5KTtcclxuICAgIH1cclxuICAgIHNldEl0ZW0oa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgIHdpbmRvdy5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGtleSwgdmFsdWUpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlSXRlbShrZXkpIHtcclxuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgfVxyXG4gICAgZ2V0S2V5cygpIHtcclxuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMod2luZG93LnNlc3Npb25TdG9yYWdlKTtcclxuICAgIH1cclxuICAgIGNvbnRhaW5zS2V5KGtleSkge1xyXG4gICAgICAgIHJldHVybiB3aW5kb3cuc2Vzc2lvblN0b3JhZ2UuaGFzT3duUHJvcGVydHkoa2V5KTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBTZXNzaW9uU3RvcmFnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2Vzc2lvblN0b3JhZ2UubWpzLm1hcFxuIl0sIm5hbWVzIjpbImNyZWF0ZUJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yIiwic3RvcmFnZU5vdFN1cHBvcnRlZCIsIlNlc3Npb25TdG9yYWdlIiwiY29uc3RydWN0b3IiLCJ3aW5kb3ciLCJzZXNzaW9uU3RvcmFnZSIsImdldEl0ZW0iLCJrZXkiLCJzZXRJdGVtIiwidmFsdWUiLCJyZW1vdmVJdGVtIiwiZ2V0S2V5cyIsIk9iamVjdCIsImtleXMiLCJjb250YWluc0tleSIsImhhc093blByb3BlcnR5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/cache/SessionStorage.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/cache/TokenCache.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/cache/TokenCache.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TokenCache: () => (/* binding */ TokenCache)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AuthToken.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/Authority.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/entities/AccountEntity.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/response/ResponseHandler.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/utils/CacheHelpers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/request/ScopeSet.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../encode/Base64Decode.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/encode/Base64Decode.mjs\");\n/* harmony import */ var _crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../crypto/BrowserCrypto.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/crypto/BrowserCrypto.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Token cache manager\r\n */ class TokenCache {\n    constructor(configuration, storage, logger, cryptoObj){\n        this.isBrowserEnvironment = \"undefined\" !== \"undefined\";\n        this.config = configuration;\n        this.storage = storage;\n        this.logger = logger;\n        this.cryptoObj = cryptoObj;\n    }\n    // Move getAllAccounts here and cache utility APIs\n    /**\r\n     * API to load tokens to msal-browser cache.\r\n     * @param request\r\n     * @param response\r\n     * @param options\r\n     * @returns `AuthenticationResult` for the response that was loaded.\r\n     */ loadExternalTokens(request, response, options) {\n        if (!this.isBrowserEnvironment) {\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.nonBrowserEnvironment);\n        }\n        const idTokenClaims = response.id_token ? _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.extractTokenClaims(response.id_token, _encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_3__.base64Decode) : undefined;\n        const authorityOptions = {\n            protocolMode: this.config.auth.protocolMode,\n            knownAuthorities: this.config.auth.knownAuthorities,\n            cloudDiscoveryMetadata: this.config.auth.cloudDiscoveryMetadata,\n            authorityMetadata: this.config.auth.authorityMetadata,\n            skipAuthorityMetadataCache: this.config.auth.skipAuthorityMetadataCache\n        };\n        const authority = request.authority ? new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.Authority(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.Authority.generateAuthority(request.authority, request.azureCloudOptions), this.config.system.networkClient, this.storage, authorityOptions, this.logger, request.correlationId || (0,_crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_5__.createNewGuid)()) : undefined;\n        const cacheRecordAccount = this.loadAccount(request, options.clientInfo || response.client_info || \"\", idTokenClaims, authority);\n        const idToken = this.loadIdToken(response, cacheRecordAccount.homeAccountId, cacheRecordAccount.environment, cacheRecordAccount.realm);\n        const accessToken = this.loadAccessToken(request, response, cacheRecordAccount.homeAccountId, cacheRecordAccount.environment, cacheRecordAccount.realm, options);\n        const refreshToken = this.loadRefreshToken(response, cacheRecordAccount.homeAccountId, cacheRecordAccount.environment);\n        return this.generateAuthenticationResult(request, {\n            account: cacheRecordAccount,\n            idToken,\n            accessToken,\n            refreshToken\n        }, idTokenClaims, authority);\n    }\n    /**\r\n     * Helper function to load account to msal-browser cache\r\n     * @param idToken\r\n     * @param environment\r\n     * @param clientInfo\r\n     * @param authorityType\r\n     * @param requestHomeAccountId\r\n     * @returns `AccountEntity`\r\n     */ loadAccount(request, clientInfo, idTokenClaims, authority) {\n        this.logger.verbose(\"TokenCache - loading account\");\n        if (request.account) {\n            const accountEntity = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.AccountEntity.createFromAccountInfo(request.account);\n            this.storage.setAccount(accountEntity);\n            return accountEntity;\n        } else if (!authority || !clientInfo && !idTokenClaims) {\n            this.logger.error(\"TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead.\");\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.unableToLoadToken);\n        }\n        const homeAccountId = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.AccountEntity.generateHomeAccountId(clientInfo, authority.authorityType, this.logger, this.cryptoObj, idTokenClaims);\n        const claimsTenantId = idTokenClaims?.tid;\n        const cachedAccount = (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.buildAccountToCache)(this.storage, authority, homeAccountId, _encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_3__.base64Decode, idTokenClaims, clientInfo, authority.hostnameAndPort, claimsTenantId, undefined, undefined, this.logger);\n        this.storage.setAccount(cachedAccount);\n        return cachedAccount;\n    }\n    /**\r\n     * Helper function to load id tokens to msal-browser cache\r\n     * @param idToken\r\n     * @param homeAccountId\r\n     * @param environment\r\n     * @param tenantId\r\n     * @returns `IdTokenEntity`\r\n     */ loadIdToken(response, homeAccountId, environment, tenantId) {\n        if (!response.id_token) {\n            this.logger.verbose(\"TokenCache - no id token found in response\");\n            return null;\n        }\n        this.logger.verbose(\"TokenCache - loading id token\");\n        const idTokenEntity = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.createIdTokenEntity(homeAccountId, environment, response.id_token, this.config.auth.clientId, tenantId);\n        this.storage.setIdTokenCredential(idTokenEntity);\n        return idTokenEntity;\n    }\n    /**\r\n     * Helper function to load access tokens to msal-browser cache\r\n     * @param request\r\n     * @param response\r\n     * @param homeAccountId\r\n     * @param environment\r\n     * @param tenantId\r\n     * @returns `AccessTokenEntity`\r\n     */ loadAccessToken(request, response, homeAccountId, environment, tenantId, options) {\n        if (!response.access_token) {\n            this.logger.verbose(\"TokenCache - no access token found in response\");\n            return null;\n        } else if (!response.expires_in) {\n            this.logger.error(\"TokenCache - no expiration set on the access token. Cannot add it to the cache.\");\n            return null;\n        } else if (!response.scope && (!request.scopes || !request.scopes.length)) {\n            this.logger.error(\"TokenCache - scopes not specified in the request or response. Cannot add token to the cache.\");\n            return null;\n        }\n        this.logger.verbose(\"TokenCache - loading access token\");\n        const scopes = response.scope ? _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.ScopeSet.fromString(response.scope) : new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.ScopeSet(request.scopes);\n        const expiresOn = options.expiresOn || response.expires_in + new Date().getTime() / 1000;\n        const extendedExpiresOn = options.extendedExpiresOn || (response.ext_expires_in || response.expires_in) + new Date().getTime() / 1000;\n        const accessTokenEntity = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.createAccessTokenEntity(homeAccountId, environment, response.access_token, this.config.auth.clientId, tenantId, scopes.printScopes(), expiresOn, extendedExpiresOn, _encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_3__.base64Decode);\n        this.storage.setAccessTokenCredential(accessTokenEntity);\n        return accessTokenEntity;\n    }\n    /**\r\n     * Helper function to load refresh tokens to msal-browser cache\r\n     * @param request\r\n     * @param response\r\n     * @param homeAccountId\r\n     * @param environment\r\n     * @returns `RefreshTokenEntity`\r\n     */ loadRefreshToken(response, homeAccountId, environment) {\n        if (!response.refresh_token) {\n            this.logger.verbose(\"TokenCache - no refresh token found in response\");\n            return null;\n        }\n        this.logger.verbose(\"TokenCache - loading refresh token\");\n        const refreshTokenEntity = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.createRefreshTokenEntity(homeAccountId, environment, response.refresh_token, this.config.auth.clientId, response.foci, undefined, response.refresh_token_expires_in);\n        this.storage.setRefreshTokenCredential(refreshTokenEntity);\n        return refreshTokenEntity;\n    }\n    /**\r\n     * Helper function to generate an `AuthenticationResult` for the result.\r\n     * @param request\r\n     * @param idTokenObj\r\n     * @param cacheRecord\r\n     * @param authority\r\n     * @returns `AuthenticationResult`\r\n     */ generateAuthenticationResult(request, cacheRecord, idTokenClaims, authority) {\n        let accessToken = \"\";\n        let responseScopes = [];\n        let expiresOn = null;\n        let extExpiresOn;\n        if (cacheRecord?.accessToken) {\n            accessToken = cacheRecord.accessToken.secret;\n            responseScopes = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.ScopeSet.fromString(cacheRecord.accessToken.target).asArray();\n            expiresOn = new Date(Number(cacheRecord.accessToken.expiresOn) * 1000);\n            extExpiresOn = new Date(Number(cacheRecord.accessToken.extendedExpiresOn) * 1000);\n        }\n        const accountEntity = cacheRecord.account;\n        return {\n            authority: authority ? authority.canonicalAuthority : \"\",\n            uniqueId: cacheRecord.account.localAccountId,\n            tenantId: cacheRecord.account.realm,\n            scopes: responseScopes,\n            account: accountEntity.getAccountInfo(),\n            idToken: cacheRecord.idToken?.secret || \"\",\n            idTokenClaims: idTokenClaims || {},\n            accessToken: accessToken,\n            fromCache: true,\n            expiresOn: expiresOn,\n            correlationId: request.correlationId || \"\",\n            requestId: \"\",\n            extExpiresOn: extExpiresOn,\n            familyId: cacheRecord.refreshToken?.familyId || \"\",\n            tokenType: cacheRecord?.accessToken?.tokenType || \"\",\n            state: request.state || \"\",\n            cloudGraphHostName: accountEntity.cloudGraphHostName || \"\",\n            msGraphHost: accountEntity.msGraphHost || \"\",\n            fromNativeBroker: false\n        };\n    }\n}\n //# sourceMappingURL=TokenCache.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NhY2hlL1Rva2VuQ2FjaGUubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQzhIO0FBQ3ZEO0FBQ2I7QUFDRTtBQUNrQztBQUU5Rjs7O0NBR0MsR0FDRDs7Q0FFQyxHQUNELE1BQU1XO0lBQ0ZDLFlBQVlDLGFBQWEsRUFBRUMsT0FBTyxFQUFFQyxNQUFNLEVBQUVDLFNBQVMsQ0FBRTtRQUNuRCxJQUFJLENBQUNDLG9CQUFvQixHQUFHLGdCQUFrQjtRQUM5QyxJQUFJLENBQUNDLE1BQU0sR0FBR0w7UUFDZCxJQUFJLENBQUNDLE9BQU8sR0FBR0E7UUFDZixJQUFJLENBQUNDLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNDLFNBQVMsR0FBR0E7SUFDckI7SUFDQSxrREFBa0Q7SUFDbEQ7Ozs7OztLQU1DLEdBQ0RHLG1CQUFtQkMsT0FBTyxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRTtRQUMzQyxJQUFJLENBQUMsSUFBSSxDQUFDTCxvQkFBb0IsRUFBRTtZQUM1QixNQUFNWCxtRkFBc0JBLENBQUNHLG1GQUFxQkE7UUFDdEQ7UUFDQSxNQUFNYyxnQkFBZ0JGLFNBQVNHLFFBQVEsR0FDakN4QiwwRUFBNEIsQ0FBQ3FCLFNBQVNHLFFBQVEsRUFBRWpCLGtFQUFZQSxJQUM1RG1CO1FBQ04sTUFBTUMsbUJBQW1CO1lBQ3JCQyxjQUFjLElBQUksQ0FBQ1YsTUFBTSxDQUFDVyxJQUFJLENBQUNELFlBQVk7WUFDM0NFLGtCQUFrQixJQUFJLENBQUNaLE1BQU0sQ0FBQ1csSUFBSSxDQUFDQyxnQkFBZ0I7WUFDbkRDLHdCQUF3QixJQUFJLENBQUNiLE1BQU0sQ0FBQ1csSUFBSSxDQUFDRSxzQkFBc0I7WUFDL0RDLG1CQUFtQixJQUFJLENBQUNkLE1BQU0sQ0FBQ1csSUFBSSxDQUFDRyxpQkFBaUI7WUFDckRDLDRCQUE0QixJQUFJLENBQUNmLE1BQU0s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QVcsQ0FBQzRCLFNBQVMsSUFBSTtZQUNqRWlCLGVBQWUsSUFBSWhCLEtBQUtvQixPQUFPTixZQUFZM0MsV0FBVyxDQUFDK0IsaUJBQWlCLElBQUk7UUFDaEY7UUFDQSxNQUFNeEIsZ0JBQWdCb0MsWUFBWXRDLE9BQU87UUFDekMsT0FBTztZQUNIcEIsV0FBV0EsWUFBWUEsVUFBVWlFLGtCQUFrQixHQUFHO1lBQ3REQyxVQUFVUixZQUFZdEMsT0FBTyxDQUFDK0MsY0FBYztZQUM1Q25DLFVBQVUwQixZQUFZdEMsT0FBTyxDQUFDTixLQUFLO1lBQ25DMEIsUUFBUW1CO1lBQ1J2QyxTQUFTRSxjQUFjOEMsY0FBYztZQUNyQzFELFNBQVNnRCxZQUFZaEQsT0FBTyxFQUFFbUQsVUFBVTtZQUN4Q3hFLGVBQWVBLGlCQUFpQixDQUFDO1lBQ2pDMEIsYUFBYUE7WUFDYnNELFdBQVc7WUFDWDFCLFdBQVdBO1lBQ1h0QyxlQUFlbkIsUUFBUW1CLGFBQWEsSUFBSTtZQUN4Q2lFLFdBQVc7WUFDWFYsY0FBY0E7WUFDZFcsVUFBVWIsWUFBWXpDLFlBQVksRUFBRXNELFlBQVk7WUFDaERDLFdBQVdkLGFBQWEzQyxhQUFheUQsYUFBYTtZQUNsREMsT0FBT3ZGLFFBQVF1RixLQUFLLElBQUk7WUFDeEJDLG9CQUFvQnBELGNBQWNvRCxrQkFBa0IsSUFBSTtZQUN4REMsYUFBYXJELGNBQWNxRCxXQUFXLElBQUk7WUFDMUNDLGtCQUFrQjtRQUN0QjtJQUNKO0FBQ0o7QUFFc0IsQ0FDdEIsdUNBQXVDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9jYWNoZS9Ub2tlbkNhY2hlLm1qcz9lYzEyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQXV0aFRva2VuLCBBdXRob3JpdHksIEFjY291bnRFbnRpdHksIGJ1aWxkQWNjb3VudFRvQ2FjaGUsIENhY2hlSGVscGVycywgU2NvcGVTZXQgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgYmFzZTY0RGVjb2RlIH0gZnJvbSAnLi4vZW5jb2RlL0Jhc2U2NERlY29kZS5tanMnO1xuaW1wb3J0IHsgY3JlYXRlTmV3R3VpZCB9IGZyb20gJy4uL2NyeXB0by9Ccm93c2VyQ3J5cHRvLm1qcyc7XG5pbXBvcnQgeyBub25Ccm93c2VyRW52aXJvbm1lbnQsIHVuYWJsZVRvTG9hZFRva2VuIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVG9rZW4gY2FjaGUgbWFuYWdlclxyXG4gKi9cclxuY2xhc3MgVG9rZW5DYWNoZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9uLCBzdG9yYWdlLCBsb2dnZXIsIGNyeXB0b09iaikge1xyXG4gICAgICAgIHRoaXMuaXNCcm93c2VyRW52aXJvbm1lbnQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xyXG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlndXJhdGlvbjtcclxuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBzdG9yYWdlO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgICAgIHRoaXMuY3J5cHRvT2JqID0gY3J5cHRvT2JqO1xyXG4gICAgfVxyXG4gICAgLy8gTW92ZSBnZXRBbGxBY2NvdW50cyBoZXJlIGFuZCBjYWNoZSB1dGlsaXR5IEFQSXNcclxuICAgIC8qKlxyXG4gICAgICogQVBJIHRvIGxvYWQgdG9rZW5zIHRvIG1zYWwtYnJvd3NlciBjYWNoZS5cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKiBAcmV0dXJucyBgQXV0aGVudGljYXRpb25SZXN1bHRgIGZvciB0aGUgcmVzcG9uc2UgdGhhdCB3YXMgbG9hZGVkLlxyXG4gICAgICovXHJcbiAgICBsb2FkRXh0ZXJuYWxUb2tlbnMocmVxdWVzdCwgcmVzcG9uc2UsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCcm93c2VyRW52aXJvbm1lbnQpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihub25Ccm93c2VyRW52aXJvbm1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpZFRva2VuQ2xhaW1zID0gcmVzcG9uc2UuaWRfdG9rZW5cclxuICAgICAgICAgICAgPyBBdXRoVG9rZW4uZXh0cmFjdFRva2VuQ2xhaW1zKHJlc3BvbnNlLmlkX3Rva2VuLCBiYXNlNjREZWNvZGUpXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGNvbnN0IGF1dGhvcml0eU9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIHByb3RvY29sTW9kZTogdGhpcy5jb25maWcuYXV0aC5wcm90b2NvbE1vZGUsXHJcbiAgICAgICAgICAgIGtub3duQXV0aG9yaXRpZXM6IHRoaXMuY29uZmlnLmF1dGgua25vd25BdXRob3JpdGllcyxcclxuICAgICAgICAgICAgY2xvdWREaXNjb3ZlcnlNZXRhZGF0YTogdGhpcy5jb25maWcuYXV0aC5jbG91ZERpc2NvdmVyeU1ldGFkYXRhLFxyXG4gICAgICAgICAgICBhdXRob3JpdHlNZXRhZGF0YTogdGhpcy5jb25maWcuYXV0aC5hdXRob3JpdHlNZXRhZGF0YSxcclxuICAgICAgICAgICAgc2tpcEF1dGhvcml0eU1ldGFkYXRhQ2FjaGU6IHRoaXMuY29uZmlnLmF1dGguc2tpcEF1dGhvcml0eU1ldGFkYXRhQ2FjaGUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBhdXRob3JpdHkgPSByZXF1ZXN0LmF1dGhvcml0eVxyXG4gICAgICAgICAgICA/IG5ldyBBdXRob3JpdHkoQXV0aG9yaXR5LmdlbmVyYXRlQXV0aG9yaXR5KHJlcXVlc3QuYXV0aG9yaXR5LCByZXF1ZXN0LmF6dXJlQ2xvdWRPcHRpb25zKSwgdGhpcy5jb25maWcuc3lzdGVtLm5ldHdvcmtDbGllbnQsIHRoaXMuc3RvcmFnZSwgYXV0aG9yaXR5T3B0aW9ucywgdGhpcy5sb2dnZXIsIHJlcXVlc3QuY29ycmVsYXRpb25JZCB8fCBjcmVhdGVOZXdHdWlkKCkpXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlUmVjb3JkQWNjb3VudCA9IHRoaXMubG9hZEFjY291bnQocmVxdWVzdCwgb3B0aW9ucy5jbGllbnRJbmZvIHx8IHJlc3BvbnNlLmNsaWVudF9pbmZvIHx8IFwiXCIsIGlkVG9rZW5DbGFpbXMsIGF1dGhvcml0eSk7XHJcbiAgICAgICAgY29uc3QgaWRUb2tlbiA9IHRoaXMubG9hZElkVG9rZW4ocmVzcG9uc2UsIGNhY2hlUmVjb3JkQWNjb3VudC5ob21lQWNjb3VudElkLCBjYWNoZVJlY29yZEFjY291bnQuZW52aXJvbm1lbnQsIGNhY2hlUmVjb3JkQWNjb3VudC5yZWFsbSk7XHJcbiAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSB0aGlzLmxvYWRBY2Nlc3NUb2tlbihyZXF1ZXN0LCByZXNwb25zZSwgY2FjaGVSZWNvcmRBY2NvdW50LmhvbWVBY2NvdW50SWQsIGNhY2hlUmVjb3JkQWNjb3VudC5lbnZpcm9ubWVudCwgY2FjaGVSZWNvcmRBY2NvdW50LnJlYWxtLCBvcHRpb25zKTtcclxuICAgICAgICBjb25zdCByZWZyZXNoVG9rZW4gPSB0aGlzLmxvYWRSZWZyZXNoVG9rZW4ocmVzcG9uc2UsIGNhY2hlUmVjb3JkQWNjb3VudC5ob21lQWNjb3VudElkLCBjYWNoZVJlY29yZEFjY291bnQuZW52aXJvbm1lbnQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRlQXV0aGVudGljYXRpb25SZXN1bHQocmVxdWVzdCwge1xyXG4gICAgICAgICAgICBhY2NvdW50OiBjYWNoZVJlY29yZEFjY291bnQsXHJcbiAgICAgICAgICAgIGlkVG9rZW4sXHJcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuLFxyXG4gICAgICAgICAgICByZWZyZXNoVG9rZW4sXHJcbiAgICAgICAgfSwgaWRUb2tlbkNsYWltcywgYXV0aG9yaXR5KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIGxvYWQgYWNjb3VudCB0byBtc2FsLWJyb3dzZXIgY2FjaGVcclxuICAgICAqIEBwYXJhbSBpZFRva2VuXHJcbiAgICAgKiBAcGFyYW0gZW52aXJvbm1lbnRcclxuICAgICAqIEBwYXJhbSBjbGllbnRJbmZvXHJcbiAgICAgKiBAcGFyYW0gYXV0aG9yaXR5VHlwZVxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RIb21lQWNjb3VudElkXHJcbiAgICAgKiBAcmV0dXJucyBgQWNjb3VudEVudGl0eWBcclxuICAgICAqL1xyXG4gICAgbG9hZEFjY291bnQocmVxdWVzdCwgY2xpZW50SW5mbywgaWRUb2tlbkNsYWltcywgYXV0aG9yaXR5KSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRva2VuQ2FjaGUgLSBsb2FkaW5nIGFjY291bnRcIik7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuYWNjb3VudCkge1xyXG4gICAgICAgICAgICBjb25zdCBhY2NvdW50RW50aXR5ID0gQWNjb3VudEVudGl0eS5jcmVhdGVGcm9tQWNjb3VudEluZm8ocmVxdWVzdC5hY2NvdW50KTtcclxuICAgICAgICAgICAgdGhpcy5zdG9yYWdlLnNldEFjY291bnQoYWNjb3VudEVudGl0eSk7XHJcbiAgICAgICAgICAgIHJldHVybiBhY2NvdW50RW50aXR5O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghYXV0aG9yaXR5IHx8ICghY2xpZW50SW5mbyAmJiAhaWRUb2tlbkNsYWltcykpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJUb2tlbkNhY2hlIC0gaWYgYW4gYWNjb3VudCBpcyBub3QgcHJvdmlkZWQgb24gdGhlIHJlcXVlc3QsIGF1dGhvcml0eSBhbmQgZWl0aGVyIGNsaWVudEluZm8gb3IgaWRUb2tlbiBtdXN0IGJlIHByb3ZpZGVkIGluc3RlYWQuXCIpO1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVCcm93c2VyQXV0aEVycm9yKHVuYWJsZVRvTG9hZFRva2VuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaG9tZUFjY291bnRJZCA9IEFjY291bnRFbnRpdHkuZ2VuZXJhdGVIb21lQWNjb3VudElkKGNsaWVudEluZm8sIGF1dGhvcml0eS5hdXRob3JpdHlUeXBlLCB0aGlzLmxvZ2dlciwgdGhpcy5jcnlwdG9PYmosIGlkVG9rZW5DbGFpbXMpO1xyXG4gICAgICAgIGNvbnN0IGNsYWltc1RlbmFudElkID0gaWRUb2tlbkNsYWltcz8udGlkO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlZEFjY291bnQgPSBidWlsZEFjY291bnRUb0NhY2hlKHRoaXMuc3RvcmFnZSwgYXV0aG9yaXR5LCBob21lQWNjb3VudElkLCBiYXNlNjREZWNvZGUsIGlkVG9rZW5DbGFpbXMsIGNsaWVudEluZm8sIGF1dGhvcml0eS5ob3N0bmFtZUFuZFBvcnQsIGNsYWltc1RlbmFudElkLCB1bmRlZmluZWQsIC8vIGF1dGhDb2RlUGF5bG9hZFxyXG4gICAgICAgIHVuZGVmaW5lZCwgLy8gbmF0aXZlQWNjb3VudElkXHJcbiAgICAgICAgdGhpcy5sb2dnZXIpO1xyXG4gICAgICAgIHRoaXMuc3RvcmFnZS5zZXRBY2NvdW50KGNhY2hlZEFjY291bnQpO1xyXG4gICAgICAgIHJldHVybiBjYWNoZWRBY2NvdW50O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gbG9hZCBpZCB0b2tlbnMgdG8gbXNhbC1icm93c2VyIGNhY2hlXHJcbiAgICAgKiBAcGFyYW0gaWRUb2tlblxyXG4gICAgICogQHBhcmFtIGhvbWVBY2NvdW50SWRcclxuICAgICAqIEBwYXJhbSBlbnZpcm9ubWVudFxyXG4gICAgICogQHBhcmFtIHRlbmFudElkXHJcbiAgICAgKiBAcmV0dXJucyBgSWRUb2tlbkVudGl0eWBcclxuICAgICAqL1xyXG4gICAgbG9hZElkVG9rZW4ocmVzcG9uc2UsIGhvbWVBY2NvdW50SWQsIGVudmlyb25tZW50LCB0ZW5hbnRJZCkge1xyXG4gICAgICAgIGlmICghcmVzcG9uc2UuaWRfdG9rZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRva2VuQ2FjaGUgLSBubyBpZCB0b2tlbiBmb3VuZCBpbiByZXNwb25zZVwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJUb2tlbkNhY2hlIC0gbG9hZGluZyBpZCB0b2tlblwiKTtcclxuICAgICAgICBjb25zdCBpZFRva2VuRW50aXR5ID0gQ2FjaGVIZWxwZXJzLmNyZWF0ZUlkVG9rZW5FbnRpdHkoaG9tZUFjY291bnRJZCwgZW52aXJvbm1lbnQsIHJlc3BvbnNlLmlkX3Rva2VuLCB0aGlzLmNvbmZpZy5hdXRoLmNsaWVudElkLCB0ZW5hbnRJZCk7XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlLnNldElkVG9rZW5DcmVkZW50aWFsKGlkVG9rZW5FbnRpdHkpO1xyXG4gICAgICAgIHJldHVybiBpZFRva2VuRW50aXR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gbG9hZCBhY2Nlc3MgdG9rZW5zIHRvIG1zYWwtYnJvd3NlciBjYWNoZVxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIGhvbWVBY2NvdW50SWRcclxuICAgICAqIEBwYXJhbSBlbnZpcm9ubWVudFxyXG4gICAgICogQHBhcmFtIHRlbmFudElkXHJcbiAgICAgKiBAcmV0dXJucyBgQWNjZXNzVG9rZW5FbnRpdHlgXHJcbiAgICAgKi9cclxuICAgIGxvYWRBY2Nlc3NUb2tlbihyZXF1ZXN0LCByZXNwb25zZSwgaG9tZUFjY291bnRJZCwgZW52aXJvbm1lbnQsIHRlbmFudElkLCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5hY2Nlc3NfdG9rZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRva2VuQ2FjaGUgLSBubyBhY2Nlc3MgdG9rZW4gZm91bmQgaW4gcmVzcG9uc2VcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghcmVzcG9uc2UuZXhwaXJlc19pbikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlRva2VuQ2FjaGUgLSBubyBleHBpcmF0aW9uIHNldCBvbiB0aGUgYWNjZXNzIHRva2VuLiBDYW5ub3QgYWRkIGl0IHRvIHRoZSBjYWNoZS5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICghcmVzcG9uc2Uuc2NvcGUgJiZcclxuICAgICAgICAgICAgKCFyZXF1ZXN0LnNjb3BlcyB8fCAhcmVxdWVzdC5zY29wZXMubGVuZ3RoKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlRva2VuQ2FjaGUgLSBzY29wZXMgbm90IHNwZWNpZmllZCBpbiB0aGUgcmVxdWVzdCBvciByZXNwb25zZS4gQ2Fubm90IGFkZCB0b2tlbiB0byB0aGUgY2FjaGUuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRva2VuQ2FjaGUgLSBsb2FkaW5nIGFjY2VzcyB0b2tlblwiKTtcclxuICAgICAgICBjb25zdCBzY29wZXMgPSByZXNwb25zZS5zY29wZVxyXG4gICAgICAgICAgICA/IFNjb3BlU2V0LmZyb21TdHJpbmcocmVzcG9uc2Uuc2NvcGUpXHJcbiAgICAgICAgICAgIDogbmV3IFNjb3BlU2V0KHJlcXVlc3Quc2NvcGVzKTtcclxuICAgICAgICBjb25zdCBleHBpcmVzT24gPSBvcHRpb25zLmV4cGlyZXNPbiB8fFxyXG4gICAgICAgICAgICByZXNwb25zZS5leHBpcmVzX2luICsgbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwO1xyXG4gICAgICAgIGNvbnN0IGV4dGVuZGVkRXhwaXJlc09uID0gb3B0aW9ucy5leHRlbmRlZEV4cGlyZXNPbiB8fFxyXG4gICAgICAgICAgICAocmVzcG9uc2UuZXh0X2V4cGlyZXNfaW4gfHwgcmVzcG9uc2UuZXhwaXJlc19pbikgK1xyXG4gICAgICAgICAgICAgICAgbmV3IERhdGUoKS5nZXRUaW1lKCkgLyAxMDAwO1xyXG4gICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuRW50aXR5ID0gQ2FjaGVIZWxwZXJzLmNyZWF0ZUFjY2Vzc1Rva2VuRW50aXR5KGhvbWVBY2NvdW50SWQsIGVudmlyb25tZW50LCByZXNwb25zZS5hY2Nlc3NfdG9rZW4sIHRoaXMuY29uZmlnLmF1dGguY2xpZW50SWQsIHRlbmFudElkLCBzY29wZXMucHJpbnRTY29wZXMoKSwgZXhwaXJlc09uLCBleHRlbmRlZEV4cGlyZXNPbiwgYmFzZTY0RGVjb2RlKTtcclxuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0QWNjZXNzVG9rZW5DcmVkZW50aWFsKGFjY2Vzc1Rva2VuRW50aXR5KTtcclxuICAgICAgICByZXR1cm4gYWNjZXNzVG9rZW5FbnRpdHk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciBmdW5jdGlvbiB0byBsb2FkIHJlZnJlc2ggdG9rZW5zIHRvIG1zYWwtYnJvd3NlciBjYWNoZVxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIGhvbWVBY2NvdW50SWRcclxuICAgICAqIEBwYXJhbSBlbnZpcm9ubWVudFxyXG4gICAgICogQHJldHVybnMgYFJlZnJlc2hUb2tlbkVudGl0eWBcclxuICAgICAqL1xyXG4gICAgbG9hZFJlZnJlc2hUb2tlbihyZXNwb25zZSwgaG9tZUFjY291bnRJZCwgZW52aXJvbm1lbnQpIHtcclxuICAgICAgICBpZiAoIXJlc3BvbnNlLnJlZnJlc2hfdG9rZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRva2VuQ2FjaGUgLSBubyByZWZyZXNoIHRva2VuIGZvdW5kIGluIHJlc3BvbnNlXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRva2VuQ2FjaGUgLSBsb2FkaW5nIHJlZnJlc2ggdG9rZW5cIik7XHJcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuRW50aXR5ID0gQ2FjaGVIZWxwZXJzLmNyZWF0ZVJlZnJlc2hUb2tlbkVudGl0eShob21lQWNjb3VudElkLCBlbnZpcm9ubWVudCwgcmVzcG9uc2UucmVmcmVzaF90b2tlbiwgdGhpcy5jb25maWcuYXV0aC5jbGllbnRJZCwgcmVzcG9uc2UuZm9jaSwgdW5kZWZpbmVkLCAvLyB1c2VyQXNzZXJ0aW9uSGFzaFxyXG4gICAgICAgIHJlc3BvbnNlLnJlZnJlc2hfdG9rZW5fZXhwaXJlc19pbik7XHJcbiAgICAgICAgdGhpcy5zdG9yYWdlLnNldFJlZnJlc2hUb2tlbkNyZWRlbnRpYWwocmVmcmVzaFRva2VuRW50aXR5KTtcclxuICAgICAgICByZXR1cm4gcmVmcmVzaFRva2VuRW50aXR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgYW4gYEF1dGhlbnRpY2F0aW9uUmVzdWx0YCBmb3IgdGhlIHJlc3VsdC5cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gaWRUb2tlbk9ialxyXG4gICAgICogQHBhcmFtIGNhY2hlUmVjb3JkXHJcbiAgICAgKiBAcGFyYW0gYXV0aG9yaXR5XHJcbiAgICAgKiBAcmV0dXJucyBgQXV0aGVudGljYXRpb25SZXN1bHRgXHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlQXV0aGVudGljYXRpb25SZXN1bHQocmVxdWVzdCwgY2FjaGVSZWNvcmQsIGlkVG9rZW5DbGFpbXMsIGF1dGhvcml0eSkge1xyXG4gICAgICAgIGxldCBhY2Nlc3NUb2tlbiA9IFwiXCI7XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlU2NvcGVzID0gW107XHJcbiAgICAgICAgbGV0IGV4cGlyZXNPbiA9IG51bGw7XHJcbiAgICAgICAgbGV0IGV4dEV4cGlyZXNPbjtcclxuICAgICAgICBpZiAoY2FjaGVSZWNvcmQ/LmFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuID0gY2FjaGVSZWNvcmQuYWNjZXNzVG9rZW4uc2VjcmV0O1xyXG4gICAgICAgICAgICByZXNwb25zZVNjb3BlcyA9IFNjb3BlU2V0LmZyb21TdHJpbmcoY2FjaGVSZWNvcmQuYWNjZXNzVG9rZW4udGFyZ2V0KS5hc0FycmF5KCk7XHJcbiAgICAgICAgICAgIGV4cGlyZXNPbiA9IG5ldyBEYXRlKE51bWJlcihjYWNoZVJlY29yZC5hY2Nlc3NUb2tlbi5leHBpcmVzT24pICogMTAwMCk7XHJcbiAgICAgICAgICAgIGV4dEV4cGlyZXNPbiA9IG5ldyBEYXRlKE51bWJlcihjYWNoZVJlY29yZC5hY2Nlc3NUb2tlbi5leHRlbmRlZEV4cGlyZXNPbikgKiAxMDAwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYWNjb3VudEVudGl0eSA9IGNhY2hlUmVjb3JkLmFjY291bnQ7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYXV0aG9yaXR5OiBhdXRob3JpdHkgPyBhdXRob3JpdHkuY2Fub25pY2FsQXV0aG9yaXR5IDogXCJcIixcclxuICAgICAgICAgICAgdW5pcXVlSWQ6IGNhY2hlUmVjb3JkLmFjY291bnQubG9jYWxBY2NvdW50SWQsXHJcbiAgICAgICAgICAgIHRlbmFudElkOiBjYWNoZVJlY29yZC5hY2NvdW50LnJlYWxtLFxyXG4gICAgICAgICAgICBzY29wZXM6IHJlc3BvbnNlU2NvcGVzLFxyXG4gICAgICAgICAgICBhY2NvdW50OiBhY2NvdW50RW50aXR5LmdldEFjY291bnRJbmZvKCksXHJcbiAgICAgICAgICAgIGlkVG9rZW46IGNhY2hlUmVjb3JkLmlkVG9rZW4/LnNlY3JldCB8fCBcIlwiLFxyXG4gICAgICAgICAgICBpZFRva2VuQ2xhaW1zOiBpZFRva2VuQ2xhaW1zIHx8IHt9LFxyXG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogYWNjZXNzVG9rZW4sXHJcbiAgICAgICAgICAgIGZyb21DYWNoZTogdHJ1ZSxcclxuICAgICAgICAgICAgZXhwaXJlc09uOiBleHBpcmVzT24sXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IHJlcXVlc3QuY29ycmVsYXRpb25JZCB8fCBcIlwiLFxyXG4gICAgICAgICAgICByZXF1ZXN0SWQ6IFwiXCIsXHJcbiAgICAgICAgICAgIGV4dEV4cGlyZXNPbjogZXh0RXhwaXJlc09uLFxyXG4gICAgICAgICAgICBmYW1pbHlJZDogY2FjaGVSZWNvcmQucmVmcmVzaFRva2VuPy5mYW1pbHlJZCB8fCBcIlwiLFxyXG4gICAgICAgICAgICB0b2tlblR5cGU6IGNhY2hlUmVjb3JkPy5hY2Nlc3NUb2tlbj8udG9rZW5UeXBlIHx8IFwiXCIsXHJcbiAgICAgICAgICAgIHN0YXRlOiByZXF1ZXN0LnN0YXRlIHx8IFwiXCIsXHJcbiAgICAgICAgICAgIGNsb3VkR3JhcGhIb3N0TmFtZTogYWNjb3VudEVudGl0eS5jbG91ZEdyYXBoSG9zdE5hbWUgfHwgXCJcIixcclxuICAgICAgICAgICAgbXNHcmFwaEhvc3Q6IGFjY291bnRFbnRpdHkubXNHcmFwaEhvc3QgfHwgXCJcIixcclxuICAgICAgICAgICAgZnJvbU5hdGl2ZUJyb2tlcjogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBUb2tlbkNhY2hlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub2tlbkNhY2hlLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJBdXRoVG9rZW4iLCJBdXRob3JpdHkiLCJBY2NvdW50RW50aXR5IiwiYnVpbGRBY2NvdW50VG9DYWNoZSIsIkNhY2hlSGVscGVycyIsIlNjb3BlU2V0IiwiY3JlYXRlQnJvd3NlckF1dGhFcnJvciIsImJhc2U2NERlY29kZSIsImNyZWF0ZU5ld0d1aWQiLCJub25Ccm93c2VyRW52aXJvbm1lbnQiLCJ1bmFibGVUb0xvYWRUb2tlbiIsIlRva2VuQ2FjaGUiLCJjb25zdHJ1Y3RvciIsImNvbmZpZ3VyYXRpb24iLCJzdG9yYWdlIiwibG9nZ2VyIiwiY3J5cHRvT2JqIiwiaXNCcm93c2VyRW52aXJvbm1lbnQiLCJjb25maWciLCJsb2FkRXh0ZXJuYWxUb2tlbnMiLCJyZXF1ZXN0IiwicmVzcG9uc2UiLCJvcHRpb25zIiwiaWRUb2tlbkNsYWltcyIsImlkX3Rva2VuIiwiZXh0cmFjdFRva2VuQ2xhaW1zIiwidW5kZWZpbmVkIiwiYXV0aG9yaXR5T3B0aW9ucyIsInByb3RvY29sTW9kZSIsImF1dGgiLCJrbm93bkF1dGhvcml0aWVzIiwiY2xvdWREaXNjb3ZlcnlNZXRhZGF0YSIsImF1dGhvcml0eU1ldGFkYXRhIiwic2tpcEF1dGhvcml0eU1ldGFkYXRhQ2FjaGUiLCJhdXRob3JpdHkiLCJnZW5lcmF0ZUF1dGhvcml0eSIsImF6dXJlQ2xvdWRPcHRpb25zIiwic3lzdGVtIiwibmV0d29ya0NsaWVudCIsImNvcnJlbGF0aW9uSWQiLCJjYWNoZVJlY29yZEFjY291bnQiLCJsb2FkQWNjb3VudCIsImNsaWVudEluZm8iLCJjbGllbnRfaW5mbyIsImlkVG9rZW4iLCJsb2FkSWRUb2tlbiIsImhvbWVBY2NvdW50SWQiLCJlbnZpcm9ubWVudCIsInJlYWxtIiwiYWNjZXNzVG9rZW4iLCJsb2FkQWNjZXNzVG9rZW4iLCJyZWZyZXNoVG9rZW4iLCJsb2FkUmVmcmVzaFRva2VuIiwiZ2VuZXJhdGVBdXRoZW50aWNhdGlvblJlc3VsdCIsImFjY291bnQiLCJ2ZXJib3NlIiwiYWNjb3VudEVudGl0eSIsImNyZWF0ZUZyb21BY2NvdW50SW5mbyIsInNldEFjY291bnQiLCJlcnJvciIsImdlbmVyYXRlSG9tZUFjY291bnRJZCIsImF1dGhvcml0eVR5cGUiLCJjbGFpbXNUZW5hbnRJZCIsInRpZCIsImNhY2hlZEFjY291bnQiLCJob3N0bmFtZUFuZFBvcnQiLCJ0ZW5hbnRJZCIsImlkVG9rZW5FbnRpdHkiLCJjcmVhdGVJZFRva2VuRW50aXR5IiwiY2xpZW50SWQiLCJzZXRJZFRva2VuQ3JlZGVudGlhbCIsImFjY2Vzc190b2tlbiIsImV4cGlyZXNfaW4iLCJzY29wZSIsInNjb3BlcyIsImxlbmd0aCIsImZyb21TdHJpbmciLCJleHBpcmVzT24iLCJEYXRlIiwiZ2V0VGltZSIsImV4dGVuZGVkRXhwaXJlc09uIiwiZXh0X2V4cGlyZXNfaW4iLCJhY2Nlc3NUb2tlbkVudGl0eSIsImNyZWF0ZUFjY2Vzc1Rva2VuRW50aXR5IiwicHJpbnRTY29wZXMiLCJzZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWwiLCJyZWZyZXNoX3Rva2VuIiwicmVmcmVzaFRva2VuRW50aXR5IiwiY3JlYXRlUmVmcmVzaFRva2VuRW50aXR5IiwiZm9jaSIsInJlZnJlc2hfdG9rZW5fZXhwaXJlc19pbiIsInNldFJlZnJlc2hUb2tlbkNyZWRlbnRpYWwiLCJjYWNoZVJlY29yZCIsInJlc3BvbnNlU2NvcGVzIiwiZXh0RXhwaXJlc09uIiwic2VjcmV0IiwidGFyZ2V0IiwiYXNBcnJheSIsIk51bWJlciIsImNhbm9uaWNhbEF1dGhvcml0eSIsInVuaXF1ZUlkIiwibG9jYWxBY2NvdW50SWQiLCJnZXRBY2NvdW50SW5mbyIsImZyb21DYWNoZSIsInJlcXVlc3RJZCIsImZhbWlseUlkIiwidG9rZW5UeXBlIiwic3RhdGUiLCJjbG91ZEdyYXBoSG9zdE5hbWUiLCJtc0dyYXBoSG9zdCIsImZyb21OYXRpdmVCcm9rZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/cache/TokenCache.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/config/Configuration.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/config/Configuration.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_IFRAME_TIMEOUT_MS: () => (/* binding */ DEFAULT_IFRAME_TIMEOUT_MS),\n/* harmony export */   DEFAULT_NATIVE_BROKER_HANDSHAKE_TIMEOUT_MS: () => (/* binding */ DEFAULT_NATIVE_BROKER_HANDSHAKE_TIMEOUT_MS),\n/* harmony export */   DEFAULT_POPUP_TIMEOUT_MS: () => (/* binding */ DEFAULT_POPUP_TIMEOUT_MS),\n/* harmony export */   DEFAULT_REDIRECT_TIMEOUT_MS: () => (/* binding */ DEFAULT_REDIRECT_TIMEOUT_MS),\n/* harmony export */   buildConfiguration: () => (/* binding */ buildConfiguration)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/ProtocolMode.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityOptions.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/logger/Logger.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/config/ClientConfiguration.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/network/INetworkModule.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/StubPerformanceClient.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _navigation_NavigationClient_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../navigation/NavigationClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/navigation/NavigationClient.mjs\");\n/* harmony import */ var _network_FetchClient_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../network/FetchClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/network/FetchClient.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ // Default timeout for popup windows and iframes in milliseconds\nconst DEFAULT_POPUP_TIMEOUT_MS = 60000;\nconst DEFAULT_IFRAME_TIMEOUT_MS = 10000;\nconst DEFAULT_REDIRECT_TIMEOUT_MS = 30000;\nconst DEFAULT_NATIVE_BROKER_HANDSHAKE_TIMEOUT_MS = 2000;\n/**\r\n * MSAL function that sets the default options when not explicitly configured from app developer\r\n *\r\n * @param auth\r\n * @param cache\r\n * @param system\r\n *\r\n * @returns Configuration object\r\n */ function buildConfiguration({ auth: userInputAuth, cache: userInputCache, system: userInputSystem, telemetry: userInputTelemetry }, isBrowserEnvironment) {\n    // Default auth options for browser\n    const DEFAULT_AUTH_OPTIONS = {\n        clientId: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING,\n        authority: `${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Constants.DEFAULT_AUTHORITY}`,\n        knownAuthorities: [],\n        cloudDiscoveryMetadata: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING,\n        authorityMetadata: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING,\n        redirectUri:  false ? 0 : \"\",\n        postLogoutRedirectUri: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING,\n        navigateToLoginRequestUrl: true,\n        clientCapabilities: [],\n        protocolMode: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.ProtocolMode.AAD,\n        OIDCOptions: {\n            serverResponseType: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.ServerResponseType.FRAGMENT,\n            defaultScopes: [\n                _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Constants.OPENID_SCOPE,\n                _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Constants.PROFILE_SCOPE,\n                _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Constants.OFFLINE_ACCESS_SCOPE\n            ]\n        },\n        azureCloudOptions: {\n            azureCloudInstance: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.AzureCloudInstance.None,\n            tenant: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n        },\n        skipAuthorityMetadataCache: false,\n        supportsNestedAppAuth: false,\n        instanceAware: false\n    };\n    // Default cache options for browser\n    const DEFAULT_CACHE_OPTIONS = {\n        cacheLocation: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.BrowserCacheLocation.SessionStorage,\n        temporaryCacheLocation: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.BrowserCacheLocation.SessionStorage,\n        storeAuthStateInCookie: false,\n        secureCookies: false,\n        // Default cache migration to true if cache location is localStorage since entries are preserved across tabs/windows. Migration has little to no benefit in sessionStorage and memoryStorage\n        cacheMigrationEnabled: userInputCache && userInputCache.cacheLocation === _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.BrowserCacheLocation.LocalStorage ? true : false,\n        claimsBasedCachingEnabled: false\n    };\n    // Default logger options for browser\n    const DEFAULT_LOGGER_OPTIONS = {\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        loggerCallback: ()=>{\n        // allow users to not set logger call back\n        },\n        logLevel: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.LogLevel.Info,\n        piiLoggingEnabled: false\n    };\n    // Default system options for browser\n    const DEFAULT_BROWSER_SYSTEM_OPTIONS = {\n        ..._azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.DEFAULT_SYSTEM_OPTIONS,\n        loggerOptions: DEFAULT_LOGGER_OPTIONS,\n        networkClient: isBrowserEnvironment ? new _network_FetchClient_mjs__WEBPACK_IMPORTED_MODULE_6__.FetchClient() : _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.StubbedNetworkModule,\n        navigationClient: new _navigation_NavigationClient_mjs__WEBPACK_IMPORTED_MODULE_8__.NavigationClient(),\n        loadFrameTimeout: 0,\n        // If loadFrameTimeout is provided, use that as default.\n        windowHashTimeout: userInputSystem?.loadFrameTimeout || DEFAULT_POPUP_TIMEOUT_MS,\n        iframeHashTimeout: userInputSystem?.loadFrameTimeout || DEFAULT_IFRAME_TIMEOUT_MS,\n        navigateFrameWait: 0,\n        redirectNavigationTimeout: DEFAULT_REDIRECT_TIMEOUT_MS,\n        asyncPopups: false,\n        allowRedirectInIframe: false,\n        allowNativeBroker: false,\n        nativeBrokerHandshakeTimeout: userInputSystem?.nativeBrokerHandshakeTimeout || DEFAULT_NATIVE_BROKER_HANDSHAKE_TIMEOUT_MS,\n        pollIntervalMilliseconds: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.BrowserConstants.DEFAULT_POLL_INTERVAL_MS\n    };\n    const providedSystemOptions = {\n        ...DEFAULT_BROWSER_SYSTEM_OPTIONS,\n        ...userInputSystem,\n        loggerOptions: userInputSystem?.loggerOptions || DEFAULT_LOGGER_OPTIONS\n    };\n    const DEFAULT_TELEMETRY_OPTIONS = {\n        application: {\n            appName: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING,\n            appVersion: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n        },\n        client: new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.StubPerformanceClient()\n    };\n    // Throw an error if user has set OIDCOptions without being in OIDC protocol mode\n    if (userInputAuth?.protocolMode !== _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.ProtocolMode.OIDC && userInputAuth?.OIDCOptions) {\n        const logger = new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.Logger(providedSystemOptions.loggerOptions);\n        logger.warning(JSON.stringify((0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.createClientConfigurationError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.cannotSetOIDCOptions)));\n    }\n    // Throw an error if user has set allowNativeBroker to true without being in AAD protocol mode\n    if (userInputAuth?.protocolMode && userInputAuth.protocolMode !== _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.ProtocolMode.AAD && providedSystemOptions?.allowNativeBroker) {\n        throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.createClientConfigurationError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.cannotAllowNativeBroker);\n    }\n    const overlayedConfig = {\n        auth: {\n            ...DEFAULT_AUTH_OPTIONS,\n            ...userInputAuth,\n            OIDCOptions: {\n                ...DEFAULT_AUTH_OPTIONS.OIDCOptions,\n                ...userInputAuth?.OIDCOptions\n            }\n        },\n        cache: {\n            ...DEFAULT_CACHE_OPTIONS,\n            ...userInputCache\n        },\n        system: providedSystemOptions,\n        telemetry: {\n            ...DEFAULT_TELEMETRY_OPTIONS,\n            ...userInputTelemetry\n        }\n    };\n    return overlayedConfig;\n}\n //# sourceMappingURL=Configuration.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NvbmZpZy9Db25maWd1cmF0aW9uLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNtUTtBQUM1SztBQUNqQjtBQUNiO0FBQ0M7QUFFMUQ7OztDQUdDLEdBQ0QsZ0VBQWdFO0FBQ2hFLE1BQU1nQiwyQkFBMkI7QUFDakMsTUFBTUMsNEJBQTRCO0FBQ2xDLE1BQU1DLDhCQUE4QjtBQUNwQyxNQUFNQyw2Q0FBNkM7QUFDbkQ7Ozs7Ozs7O0NBUUMsR0FDRCxTQUFTQyxtQkFBbUIsRUFBRUMsTUFBTUMsYUFBYSxFQUFFQyxPQUFPQyxjQUFjLEVBQUVDLFFBQVFDLGVBQWUsRUFBRUMsV0FBV0Msa0JBQWtCLEVBQUcsRUFBRUMsb0JBQW9CO0lBQ3JKLG1DQUFtQztJQUNuQyxNQUFNQyx1QkFBdUI7UUFDekJDLFVBQVUvQixpRUFBU0EsQ0FBQ2dDLFlBQVk7UUFDaENDLFdBQVcsQ0FBQyxFQUFFakMsaUVBQVNBLENBQUNrQyxpQkFBaUIsQ0FBQyxDQUFDO1FBQzNDQyxrQkFBa0IsRUFBRTtRQUNwQkMsd0JBQXdCcEMsaUVBQVNBLENBQUNnQyxZQUFZO1FBQzlDSyxtQkFBbUJyQyxpRUFBU0EsQ0FBQ2dDLFlBQVk7UUFDekNNLGFBQWEsTUFBNkIsR0FBR3ZCLENBQWVBLEdBQUc7UUFDL0R3Qix1QkFBdUJ2QyxpRUFBU0EsQ0FBQ2dDLFlBQVk7UUFDN0NRLDJCQUEyQjtRQUMzQkMsb0JBQW9CLEVBQUU7UUFDdEJDLGNBQWN6QyxvRUFBWUEsQ0FBQzBDLEdBQUc7UUFDOUJDLGFBQWE7WUFDVEMsb0JBQW9CM0MsMEVBQWtCQSxDQUFDNEMsUUFBUTtZQUMvQ0MsZUFBZTtnQkFDWC9DLGlFQUFTQSxDQUFDZ0QsWUFBWTtnQkFDdEJoRCxpRUFBU0EsQ0FBQ2lELGFBQWE7Z0JBQ3ZCakQsaUVBQVNBLENBQUNrRCxvQkFBb0I7YUFDakM7UUFDTDtR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L0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9jb25maWcvQ29uZmlndXJhdGlvbi5tanM/YWRkMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IENvbnN0YW50cywgUHJvdG9jb2xNb2RlLCBTZXJ2ZXJSZXNwb25zZVR5cGUsIEF6dXJlQ2xvdWRJbnN0YW5jZSwgU3R1YlBlcmZvcm1hbmNlQ2xpZW50LCBMb2dnZXIsIGNyZWF0ZUNsaWVudENvbmZpZ3VyYXRpb25FcnJvciwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yQ29kZXMsIExvZ0xldmVsLCBERUZBVUxUX1NZU1RFTV9PUFRJT05TLCBTdHViYmVkTmV0d29ya01vZHVsZSB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbi9icm93c2VyJztcbmltcG9ydCB7IEJyb3dzZXJDYWNoZUxvY2F0aW9uLCBCcm93c2VyQ29uc3RhbnRzIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlckNvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgTmF2aWdhdGlvbkNsaWVudCB9IGZyb20gJy4uL25hdmlnYXRpb24vTmF2aWdhdGlvbkNsaWVudC5tanMnO1xuaW1wb3J0IHsgRmV0Y2hDbGllbnQgfSBmcm9tICcuLi9uZXR3b3JrL0ZldGNoQ2xpZW50Lm1qcyc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VXJpIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlclV0aWxzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vLyBEZWZhdWx0IHRpbWVvdXQgZm9yIHBvcHVwIHdpbmRvd3MgYW5kIGlmcmFtZXMgaW4gbWlsbGlzZWNvbmRzXHJcbmNvbnN0IERFRkFVTFRfUE9QVVBfVElNRU9VVF9NUyA9IDYwMDAwO1xyXG5jb25zdCBERUZBVUxUX0lGUkFNRV9USU1FT1VUX01TID0gMTAwMDA7XHJcbmNvbnN0IERFRkFVTFRfUkVESVJFQ1RfVElNRU9VVF9NUyA9IDMwMDAwO1xyXG5jb25zdCBERUZBVUxUX05BVElWRV9CUk9LRVJfSEFORFNIQUtFX1RJTUVPVVRfTVMgPSAyMDAwO1xyXG4vKipcclxuICogTVNBTCBmdW5jdGlvbiB0aGF0IHNldHMgdGhlIGRlZmF1bHQgb3B0aW9ucyB3aGVuIG5vdCBleHBsaWNpdGx5IGNvbmZpZ3VyZWQgZnJvbSBhcHAgZGV2ZWxvcGVyXHJcbiAqXHJcbiAqIEBwYXJhbSBhdXRoXHJcbiAqIEBwYXJhbSBjYWNoZVxyXG4gKiBAcGFyYW0gc3lzdGVtXHJcbiAqXHJcbiAqIEByZXR1cm5zIENvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBidWlsZENvbmZpZ3VyYXRpb24oeyBhdXRoOiB1c2VySW5wdXRBdXRoLCBjYWNoZTogdXNlcklucHV0Q2FjaGUsIHN5c3RlbTogdXNlcklucHV0U3lzdGVtLCB0ZWxlbWV0cnk6IHVzZXJJbnB1dFRlbGVtZXRyeSwgfSwgaXNCcm93c2VyRW52aXJvbm1lbnQpIHtcclxuICAgIC8vIERlZmF1bHQgYXV0aCBvcHRpb25zIGZvciBicm93c2VyXHJcbiAgICBjb25zdCBERUZBVUxUX0FVVEhfT1BUSU9OUyA9IHtcclxuICAgICAgICBjbGllbnRJZDogQ29uc3RhbnRzLkVNUFRZX1NUUklORyxcclxuICAgICAgICBhdXRob3JpdHk6IGAke0NvbnN0YW50cy5ERUZBVUxUX0FVVEhPUklUWX1gLFxyXG4gICAgICAgIGtub3duQXV0aG9yaXRpZXM6IFtdLFxyXG4gICAgICAgIGNsb3VkRGlzY292ZXJ5TWV0YWRhdGE6IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICAgICAgYXV0aG9yaXR5TWV0YWRhdGE6IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICAgICAgcmVkaXJlY3RVcmk6IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgPyBnZXRDdXJyZW50VXJpKCkgOiBcIlwiLFxyXG4gICAgICAgIHBvc3RMb2dvdXRSZWRpcmVjdFVyaTogQ29uc3RhbnRzLkVNUFRZX1NUUklORyxcclxuICAgICAgICBuYXZpZ2F0ZVRvTG9naW5SZXF1ZXN0VXJsOiB0cnVlLFxyXG4gICAgICAgIGNsaWVudENhcGFiaWxpdGllczogW10sXHJcbiAgICAgICAgcHJvdG9jb2xNb2RlOiBQcm90b2NvbE1vZGUuQUFELFxyXG4gICAgICAgIE9JRENPcHRpb25zOiB7XHJcbiAgICAgICAgICAgIHNlcnZlclJlc3BvbnNlVHlwZTogU2VydmVyUmVzcG9uc2VUeXBlLkZSQUdNRU5ULFxyXG4gICAgICAgICAgICBkZWZhdWx0U2NvcGVzOiBbXHJcbiAgICAgICAgICAgICAgICBDb25zdGFudHMuT1BFTklEX1NDT1BFLFxyXG4gICAgICAgICAgICAgICAgQ29uc3RhbnRzLlBST0ZJTEVfU0NPUEUsXHJcbiAgICAgICAgICAgICAgICBDb25zdGFudHMuT0ZGTElORV9BQ0NFU1NfU0NPUEUsXHJcbiAgICAgICAgICAgIF0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhenVyZUNsb3VkT3B0aW9uczoge1xyXG4gICAgICAgICAgICBhenVyZUNsb3VkSW5zdGFuY2U6IEF6dXJlQ2xvdWRJbnN0YW5jZS5Ob25lLFxyXG4gICAgICAgICAgICB0ZW5hbnQ6IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBza2lwQXV0aG9yaXR5TWV0YWRhdGFDYWNoZTogZmFsc2UsXHJcbiAgICAgICAgc3VwcG9ydHNOZXN0ZWRBcHBBdXRoOiBmYWxzZSxcclxuICAgICAgICBpbnN0YW5jZUF3YXJlOiBmYWxzZSxcclxuICAgIH07XHJcbiAgICAvLyBEZWZhdWx0IGNhY2hlIG9wdGlvbnMgZm9yIGJyb3dzZXJcclxuICAgIGNvbnN0IERFRkFVTFRfQ0FDSEVfT1BUSU9OUyA9IHtcclxuICAgICAgICBjYWNoZUxvY2F0aW9uOiBCcm93c2VyQ2FjaGVMb2NhdGlvbi5TZXNzaW9uU3RvcmFnZSxcclxuICAgICAgICB0ZW1wb3JhcnlDYWNoZUxvY2F0aW9uOiBCcm93c2VyQ2FjaGVMb2NhdGlvbi5TZXNzaW9uU3RvcmFnZSxcclxuICAgICAgICBzdG9yZUF1dGhTdGF0ZUluQ29va2llOiBmYWxzZSxcclxuICAgICAgICBzZWN1cmVDb29raWVzOiBmYWxzZSxcclxuICAgICAgICAvLyBEZWZhdWx0IGNhY2hlIG1pZ3JhdGlvbiB0byB0cnVlIGlmIGNhY2hlIGxvY2F0aW9uIGlzIGxvY2FsU3RvcmFnZSBzaW5jZSBlbnRyaWVzIGFyZSBwcmVzZXJ2ZWQgYWNyb3NzIHRhYnMvd2luZG93cy4gTWlncmF0aW9uIGhhcyBsaXR0bGUgdG8gbm8gYmVuZWZpdCBpbiBzZXNzaW9uU3RvcmFnZSBhbmQgbWVtb3J5U3RvcmFnZVxyXG4gICAgICAgIGNhY2hlTWlncmF0aW9uRW5hYmxlZDogdXNlcklucHV0Q2FjaGUgJiZcclxuICAgICAgICAgICAgdXNlcklucHV0Q2FjaGUuY2FjaGVMb2NhdGlvbiA9PT0gQnJvd3NlckNhY2hlTG9jYXRpb24uTG9jYWxTdG9yYWdlXHJcbiAgICAgICAgICAgID8gdHJ1ZVxyXG4gICAgICAgICAgICA6IGZhbHNlLFxyXG4gICAgICAgIGNsYWltc0Jhc2VkQ2FjaGluZ0VuYWJsZWQ6IGZhbHNlLFxyXG4gICAgfTtcclxuICAgIC8vIERlZmF1bHQgbG9nZ2VyIG9wdGlvbnMgZm9yIGJyb3dzZXJcclxuICAgIGNvbnN0IERFRkFVTFRfTE9HR0VSX09QVElPTlMgPSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxyXG4gICAgICAgIGxvZ2dlckNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGFsbG93IHVzZXJzIHRvIG5vdCBzZXQgbG9nZ2VyIGNhbGwgYmFja1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLkluZm8sXHJcbiAgICAgICAgcGlpTG9nZ2luZ0VuYWJsZWQ6IGZhbHNlLFxyXG4gICAgfTtcclxuICAgIC8vIERlZmF1bHQgc3lzdGVtIG9wdGlvbnMgZm9yIGJyb3dzZXJcclxuICAgIGNvbnN0IERFRkFVTFRfQlJPV1NFUl9TWVNURU1fT1BUSU9OUyA9IHtcclxuICAgICAgICAuLi5ERUZBVUxUX1NZU1RFTV9PUFRJT05TLFxyXG4gICAgICAgIGxvZ2dlck9wdGlvbnM6IERFRkFVTFRfTE9HR0VSX09QVElPTlMsXHJcbiAgICAgICAgbmV0d29ya0NsaWVudDogaXNCcm93c2VyRW52aXJvbm1lbnRcclxuICAgICAgICAgICAgPyBuZXcgRmV0Y2hDbGllbnQoKVxyXG4gICAgICAgICAgICA6IFN0dWJiZWROZXR3b3JrTW9kdWxlLFxyXG4gICAgICAgIG5hdmlnYXRpb25DbGllbnQ6IG5ldyBOYXZpZ2F0aW9uQ2xpZW50KCksXHJcbiAgICAgICAgbG9hZEZyYW1lVGltZW91dDogMCxcclxuICAgICAgICAvLyBJZiBsb2FkRnJhbWVUaW1lb3V0IGlzIHByb3ZpZGVkLCB1c2UgdGhhdCBhcyBkZWZhdWx0LlxyXG4gICAgICAgIHdpbmRvd0hhc2hUaW1lb3V0OiB1c2VySW5wdXRTeXN0ZW0/LmxvYWRGcmFtZVRpbWVvdXQgfHwgREVGQVVMVF9QT1BVUF9USU1FT1VUX01TLFxyXG4gICAgICAgIGlmcmFtZUhhc2hUaW1lb3V0OiB1c2VySW5wdXRTeXN0ZW0/LmxvYWRGcmFtZVRpbWVvdXQgfHwgREVGQVVMVF9JRlJBTUVfVElNRU9VVF9NUyxcclxuICAgICAgICBuYXZpZ2F0ZUZyYW1lV2FpdDogMCxcclxuICAgICAgICByZWRpcmVjdE5hdmlnYXRpb25UaW1lb3V0OiBERUZBVUxUX1JFRElSRUNUX1RJTUVPVVRfTVMsXHJcbiAgICAgICAgYXN5bmNQb3B1cHM6IGZhbHNlLFxyXG4gICAgICAgIGFsbG93UmVkaXJlY3RJbklmcmFtZTogZmFsc2UsXHJcbiAgICAgICAgYWxsb3dOYXRpdmVCcm9rZXI6IGZhbHNlLFxyXG4gICAgICAgIG5hdGl2ZUJyb2tlckhhbmRzaGFrZVRpbWVvdXQ6IHVzZXJJbnB1dFN5c3RlbT8ubmF0aXZlQnJva2VySGFuZHNoYWtlVGltZW91dCB8fFxyXG4gICAgICAgICAgICBERUZBVUxUX05BVElWRV9CUk9LRVJfSEFORFNIQUtFX1RJTUVPVVRfTVMsXHJcbiAgICAgICAgcG9sbEludGVydmFsTWlsbGlzZWNvbmRzOiBCcm93c2VyQ29uc3RhbnRzLkRFRkFVTFRfUE9MTF9JTlRFUlZBTF9NUyxcclxuICAgIH07XHJcbiAgICBjb25zdCBwcm92aWRlZFN5c3RlbU9wdGlvbnMgPSB7XHJcbiAgICAgICAgLi4uREVGQVVMVF9CUk9XU0VSX1NZU1RFTV9PUFRJT05TLFxyXG4gICAgICAgIC4uLnVzZXJJbnB1dFN5c3RlbSxcclxuICAgICAgICBsb2dnZXJPcHRpb25zOiB1c2VySW5wdXRTeXN0ZW0/LmxvZ2dlck9wdGlvbnMgfHwgREVGQVVMVF9MT0dHRVJfT1BUSU9OUyxcclxuICAgIH07XHJcbiAgICBjb25zdCBERUZBVUxUX1RFTEVNRVRSWV9PUFRJT05TID0ge1xyXG4gICAgICAgIGFwcGxpY2F0aW9uOiB7XHJcbiAgICAgICAgICAgIGFwcE5hbWU6IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICAgICAgICAgIGFwcFZlcnNpb246IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjbGllbnQ6IG5ldyBTdHViUGVyZm9ybWFuY2VDbGllbnQoKSxcclxuICAgIH07XHJcbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiB1c2VyIGhhcyBzZXQgT0lEQ09wdGlvbnMgd2l0aG91dCBiZWluZyBpbiBPSURDIHByb3RvY29sIG1vZGVcclxuICAgIGlmICh1c2VySW5wdXRBdXRoPy5wcm90b2NvbE1vZGUgIT09IFByb3RvY29sTW9kZS5PSURDICYmXHJcbiAgICAgICAgdXNlcklucHV0QXV0aD8uT0lEQ09wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCBsb2dnZXIgPSBuZXcgTG9nZ2VyKHByb3ZpZGVkU3lzdGVtT3B0aW9ucy5sb2dnZXJPcHRpb25zKTtcclxuICAgICAgICBsb2dnZXIud2FybmluZyhKU09OLnN0cmluZ2lmeShjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yQ29kZXMuY2Fubm90U2V0T0lEQ09wdGlvbnMpKSk7XHJcbiAgICB9XHJcbiAgICAvLyBUaHJvdyBhbiBlcnJvciBpZiB1c2VyIGhhcyBzZXQgYWxsb3dOYXRpdmVCcm9rZXIgdG8gdHJ1ZSB3aXRob3V0IGJlaW5nIGluIEFBRCBwcm90b2NvbCBtb2RlXHJcbiAgICBpZiAodXNlcklucHV0QXV0aD8ucHJvdG9jb2xNb2RlICYmXHJcbiAgICAgICAgdXNlcklucHV0QXV0aC5wcm90b2NvbE1vZGUgIT09IFByb3RvY29sTW9kZS5BQUQgJiZcclxuICAgICAgICBwcm92aWRlZFN5c3RlbU9wdGlvbnM/LmFsbG93TmF0aXZlQnJva2VyKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKENsaWVudENvbmZpZ3VyYXRpb25FcnJvckNvZGVzLmNhbm5vdEFsbG93TmF0aXZlQnJva2VyKTtcclxuICAgIH1cclxuICAgIGNvbnN0IG92ZXJsYXllZENvbmZpZyA9IHtcclxuICAgICAgICBhdXRoOiB7XHJcbiAgICAgICAgICAgIC4uLkRFRkFVTFRfQVVUSF9PUFRJT05TLFxyXG4gICAgICAgICAgICAuLi51c2VySW5wdXRBdXRoLFxyXG4gICAgICAgICAgICBPSURDT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgLi4uREVGQVVMVF9BVVRIX09QVElPTlMuT0lEQ09wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICAuLi51c2VySW5wdXRBdXRoPy5PSURDT3B0aW9ucyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNhY2hlOiB7IC4uLkRFRkFVTFRfQ0FDSEVfT1BUSU9OUywgLi4udXNlcklucHV0Q2FjaGUgfSxcclxuICAgICAgICBzeXN0ZW06IHByb3ZpZGVkU3lzdGVtT3B0aW9ucyxcclxuICAgICAgICB0ZWxlbWV0cnk6IHsgLi4uREVGQVVMVF9URUxFTUVUUllfT1BUSU9OUywgLi4udXNlcklucHV0VGVsZW1ldHJ5IH0sXHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIG92ZXJsYXllZENvbmZpZztcclxufVxuXG5leHBvcnQgeyBERUZBVUxUX0lGUkFNRV9USU1FT1VUX01TLCBERUZBVUxUX05BVElWRV9CUk9LRVJfSEFORFNIQUtFX1RJTUVPVVRfTVMsIERFRkFVTFRfUE9QVVBfVElNRU9VVF9NUywgREVGQVVMVF9SRURJUkVDVF9USU1FT1VUX01TLCBidWlsZENvbmZpZ3VyYXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNvbmZpZ3VyYXRpb24ubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkNvbnN0YW50cyIsIlByb3RvY29sTW9kZSIsIlNlcnZlclJlc3BvbnNlVHlwZSIsIkF6dXJlQ2xvdWRJbnN0YW5jZSIsIlN0dWJQZXJmb3JtYW5jZUNsaWVudCIsIkxvZ2dlciIsImNyZWF0ZUNsaWVudENvbmZpZ3VyYXRpb25FcnJvciIsIkNsaWVudENvbmZpZ3VyYXRpb25FcnJvckNvZGVzIiwiTG9nTGV2ZWwiLCJERUZBVUxUX1NZU1RFTV9PUFRJT05TIiwiU3R1YmJlZE5ldHdvcmtNb2R1bGUiLCJCcm93c2VyQ2FjaGVMb2NhdGlvbiIsIkJyb3dzZXJDb25zdGFudHMiLCJOYXZpZ2F0aW9uQ2xpZW50IiwiRmV0Y2hDbGllbnQiLCJnZXRDdXJyZW50VXJpIiwiREVGQVVMVF9QT1BVUF9USU1FT1VUX01TIiwiREVGQVVMVF9JRlJBTUVfVElNRU9VVF9NUyIsIkRFRkFVTFRfUkVESVJFQ1RfVElNRU9VVF9NUyIsIkRFRkFVTFRfTkFUSVZFX0JST0tFUl9IQU5EU0hBS0VfVElNRU9VVF9NUyIsImJ1aWxkQ29uZmlndXJhdGlvbiIsImF1dGgiLCJ1c2VySW5wdXRBdXRoIiwiY2FjaGUiLCJ1c2VySW5wdXRDYWNoZSIsInN5c3RlbSIsInVzZXJJbnB1dFN5c3RlbSIsInRlbGVtZXRyeSIsInVzZXJJbnB1dFRlbGVtZXRyeSIsImlzQnJvd3NlckVudmlyb25tZW50IiwiREVGQVVMVF9BVVRIX09QVElPTlMiLCJjbGllbnRJZCIsIkVNUFRZX1NUUklORyIsImF1dGhvcml0eSIsIkRFRkFVTFRfQVVUSE9SSVRZIiwia25vd25BdXRob3JpdGllcyIsImNsb3VkRGlzY292ZXJ5TWV0YWRhdGEiLCJhdXRob3JpdHlNZXRhZGF0YSIsInJlZGlyZWN0VXJpIiwicG9zdExvZ291dFJlZGlyZWN0VXJpIiwibmF2aWdhdGVUb0xvZ2luUmVxdWVzdFVybCIsImNsaWVudENhcGFiaWxpdGllcyIsInByb3RvY29sTW9kZSIsIkFBRCIsIk9JRENPcHRpb25zIiwic2VydmVyUmVzcG9uc2VUeXBlIiwiRlJBR01FTlQiLCJkZWZhdWx0U2NvcGVzIiwiT1BFTklEX1NDT1BFIiwiUFJPRklMRV9TQ09QRSIsIk9GRkxJTkVfQUNDRVNTX1NDT1BFIiwiYXp1cmVDbG91ZE9wdGlvbnMiLCJhenVyZUNsb3VkSW5zdGFuY2UiLCJOb25lIiwidGVuYW50Iiwic2tpcEF1dGhvcml0eU1ldGFkYXRhQ2FjaGUiLCJzdXBwb3J0c05lc3RlZEFwcEF1dGgiLCJpbnN0YW5jZUF3YXJlIiwiREVGQVVMVF9DQUNIRV9PUFRJT05TIiwiY2FjaGVMb2NhdGlvbiIsIlNlc3Npb25TdG9yYWdlIiwidGVtcG9yYXJ5Q2FjaGVMb2NhdGlvbiIsInN0b3JlQXV0aFN0YXRlSW5Db29raWUiLCJzZWN1cmVDb29raWVzIiwiY2FjaGVNaWdyYXRpb25FbmFibGVkIiwiTG9jYWxTdG9yYWdlIiwiY2xhaW1zQmFzZWRDYWNoaW5nRW5hYmxlZCIsIkRFRkFVTFRfTE9HR0VSX09QVElPTlMiLCJsb2dnZXJDYWxsYmFjayIsImxvZ0xldmVsIiwiSW5mbyIsInBpaUxvZ2dpbmdFbmFibGVkIiwiREVGQVVMVF9CUk9XU0VSX1NZU1RFTV9PUFRJT05TIiwibG9nZ2VyT3B0aW9ucyIsIm5ldHdvcmtDbGllbnQiLCJuYXZpZ2F0aW9uQ2xpZW50IiwibG9hZEZyYW1lVGltZW91dCIsIndpbmRvd0hhc2hUaW1lb3V0IiwiaWZyYW1lSGFzaFRpbWVvdXQiLCJuYXZpZ2F0ZUZyYW1lV2FpdCIsInJlZGlyZWN0TmF2aWdhdGlvblRpbWVvdXQiLCJhc3luY1BvcHVwcyIsImFsbG93UmVkaXJlY3RJbklmcmFtZSIsImFsbG93TmF0aXZlQnJva2VyIiwibmF0aXZlQnJva2VySGFuZHNoYWtlVGltZW91dCIsInBvbGxJbnRlcnZhbE1pbGxpc2Vjb25kcyIsIkRFRkFVTFRfUE9MTF9JTlRFUlZBTF9NUyIsInByb3ZpZGVkU3lzdGVtT3B0aW9ucyIsIkRFRkFVTFRfVEVMRU1FVFJZX09QVElPTlMiLCJhcHBsaWNhdGlvbiIsImFwcE5hbWUiLCJhcHBWZXJzaW9uIiwiY2xpZW50IiwiT0lEQyIsImxvZ2dlciIsIndhcm5pbmciLCJKU09OIiwic3RyaW5naWZ5IiwiY2Fubm90U2V0T0lEQ09wdGlvbnMiLCJjYW5ub3RBbGxvd05hdGl2ZUJyb2tlciIsIm92ZXJsYXllZENvbmZpZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/config/Configuration.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/controllers/ControllerFactory.mjs":
/*!*********************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/controllers/ControllerFactory.mjs ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createController: () => (/* binding */ createController),\n/* harmony export */   createV3Controller: () => (/* binding */ createV3Controller)\n/* harmony export */ });\n/* harmony import */ var _operatingcontext_NestedAppOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../operatingcontext/NestedAppOperatingContext.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/operatingcontext/NestedAppOperatingContext.mjs\");\n/* harmony import */ var _operatingcontext_StandardOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../operatingcontext/StandardOperatingContext.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/operatingcontext/StandardOperatingContext.mjs\");\n/* harmony import */ var _StandardController_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./StandardController.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/controllers/StandardController.mjs\");\n/* harmony import */ var _NestedAppAuthController_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./NestedAppAuthController.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/controllers/NestedAppAuthController.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ async function createV3Controller(config, request) {\n    const standard = new _operatingcontext_StandardOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_0__.StandardOperatingContext(config);\n    await standard.initialize();\n    return _StandardController_mjs__WEBPACK_IMPORTED_MODULE_1__.StandardController.createController(standard, request);\n}\nasync function createController(config) {\n    const standard = new _operatingcontext_StandardOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_0__.StandardOperatingContext(config);\n    const nestedApp = new _operatingcontext_NestedAppOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_2__.NestedAppOperatingContext(config);\n    const operatingContexts = [\n        standard.initialize(),\n        nestedApp.initialize()\n    ];\n    await Promise.all(operatingContexts);\n    if (nestedApp.isAvailable() && config.auth.supportsNestedAppAuth) {\n        return _NestedAppAuthController_mjs__WEBPACK_IMPORTED_MODULE_3__.NestedAppAuthController.createController(nestedApp);\n    } else if (standard.isAvailable()) {\n        return _StandardController_mjs__WEBPACK_IMPORTED_MODULE_1__.StandardController.createController(standard);\n    } else {\n        // Since neither of the actual operating contexts are available keep the UnknownOperatingContextController\n        return null;\n    }\n}\n //# sourceMappingURL=ControllerFactory.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NvbnRyb2xsZXJzL0NvbnRyb2xsZXJGYWN0b3J5Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDOEY7QUFDRjtBQUM5QjtBQUNVO0FBRXhFOzs7Q0FHQyxHQUNELGVBQWVJLG1CQUFtQkMsTUFBTSxFQUFFQyxPQUFPO0lBQzdDLE1BQU1DLFdBQVcsSUFBSU4sb0dBQXdCQSxDQUFDSTtJQUM5QyxNQUFNRSxTQUFTQyxVQUFVO0lBQ3pCLE9BQU9OLHVFQUFrQkEsQ0FBQ08sZ0JBQWdCLENBQUNGLFVBQVVEO0FBQ3pEO0FBQ0EsZUFBZUcsaUJBQWlCSixNQUFNO0lBQ2xDLE1BQU1FLFdBQVcsSUFBSU4sb0dBQXdCQSxDQUFDSTtJQUM5QyxNQUFNSyxZQUFZLElBQUlWLHNHQUF5QkEsQ0FBQ0s7SUFDaEQsTUFBTU0sb0JBQW9CO1FBQUNKLFNBQVNDLFVBQVU7UUFBSUUsVUFBVUYsVUFBVTtLQUFHO0lBQ3pFLE1BQU1JLFFBQVFDLEdBQUcsQ0FBQ0Y7SUFDbEIsSUFBSUQsVUFBVUksV0FBVyxNQUFNVCxPQUFPVSxJQUFJLENBQUNDLHFCQUFxQixFQUFFO1FBQzlELE9BQU9iLGlGQUF1QkEsQ0FBQ00sZ0JBQWdCLENBQUNDO0lBQ3BELE9BQ0ssSUFBSUgsU0FBU08sV0FBVyxJQUFJO1FBQzdCLE9BQU9aLHVFQUFrQkEsQ0FBQ08sZ0JBQWdCLENBQUNGO0lBQy9DLE9BQ0s7UUFDRCwwR0FBMEc7UUFDMUcsT0FBTztJQUNYO0FBQ0o7QUFFZ0QsQ0FDaEQsOENBQThDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9jb250cm9sbGVycy9Db250cm9sbGVyRmFjdG9yeS5tanM/ZTNkMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IE5lc3RlZEFwcE9wZXJhdGluZ0NvbnRleHQgfSBmcm9tICcuLi9vcGVyYXRpbmdjb250ZXh0L05lc3RlZEFwcE9wZXJhdGluZ0NvbnRleHQubWpzJztcbmltcG9ydCB7IFN0YW5kYXJkT3BlcmF0aW5nQ29udGV4dCB9IGZyb20gJy4uL29wZXJhdGluZ2NvbnRleHQvU3RhbmRhcmRPcGVyYXRpbmdDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBTdGFuZGFyZENvbnRyb2xsZXIgfSBmcm9tICcuL1N0YW5kYXJkQ29udHJvbGxlci5tanMnO1xuaW1wb3J0IHsgTmVzdGVkQXBwQXV0aENvbnRyb2xsZXIgfSBmcm9tICcuL05lc3RlZEFwcEF1dGhDb250cm9sbGVyLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVWM0NvbnRyb2xsZXIoY29uZmlnLCByZXF1ZXN0KSB7XHJcbiAgICBjb25zdCBzdGFuZGFyZCA9IG5ldyBTdGFuZGFyZE9wZXJhdGluZ0NvbnRleHQoY29uZmlnKTtcclxuICAgIGF3YWl0IHN0YW5kYXJkLmluaXRpYWxpemUoKTtcclxuICAgIHJldHVybiBTdGFuZGFyZENvbnRyb2xsZXIuY3JlYXRlQ29udHJvbGxlcihzdGFuZGFyZCwgcmVxdWVzdCk7XHJcbn1cclxuYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ29udHJvbGxlcihjb25maWcpIHtcclxuICAgIGNvbnN0IHN0YW5kYXJkID0gbmV3IFN0YW5kYXJkT3BlcmF0aW5nQ29udGV4dChjb25maWcpO1xyXG4gICAgY29uc3QgbmVzdGVkQXBwID0gbmV3IE5lc3RlZEFwcE9wZXJhdGluZ0NvbnRleHQoY29uZmlnKTtcclxuICAgIGNvbnN0IG9wZXJhdGluZ0NvbnRleHRzID0gW3N0YW5kYXJkLmluaXRpYWxpemUoKSwgbmVzdGVkQXBwLmluaXRpYWxpemUoKV07XHJcbiAgICBhd2FpdCBQcm9taXNlLmFsbChvcGVyYXRpbmdDb250ZXh0cyk7XHJcbiAgICBpZiAobmVzdGVkQXBwLmlzQXZhaWxhYmxlKCkgJiYgY29uZmlnLmF1dGguc3VwcG9ydHNOZXN0ZWRBcHBBdXRoKSB7XHJcbiAgICAgICAgcmV0dXJuIE5lc3RlZEFwcEF1dGhDb250cm9sbGVyLmNyZWF0ZUNvbnRyb2xsZXIobmVzdGVkQXBwKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHN0YW5kYXJkLmlzQXZhaWxhYmxlKCkpIHtcclxuICAgICAgICByZXR1cm4gU3RhbmRhcmRDb250cm9sbGVyLmNyZWF0ZUNvbnRyb2xsZXIoc3RhbmRhcmQpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLy8gU2luY2UgbmVpdGhlciBvZiB0aGUgYWN0dWFsIG9wZXJhdGluZyBjb250ZXh0cyBhcmUgYXZhaWxhYmxlIGtlZXAgdGhlIFVua25vd25PcGVyYXRpbmdDb250ZXh0Q29udHJvbGxlclxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IGNyZWF0ZUNvbnRyb2xsZXIsIGNyZWF0ZVYzQ29udHJvbGxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29udHJvbGxlckZhY3RvcnkubWpzLm1hcFxuIl0sIm5hbWVzIjpbIk5lc3RlZEFwcE9wZXJhdGluZ0NvbnRleHQiLCJTdGFuZGFyZE9wZXJhdGluZ0NvbnRleHQiLCJTdGFuZGFyZENvbnRyb2xsZXIiLCJOZXN0ZWRBcHBBdXRoQ29udHJvbGxlciIsImNyZWF0ZVYzQ29udHJvbGxlciIsImNvbmZpZyIsInJlcXVlc3QiLCJzdGFuZGFyZCIsImluaXRpYWxpemUiLCJjcmVhdGVDb250cm9sbGVyIiwibmVzdGVkQXBwIiwib3BlcmF0aW5nQ29udGV4dHMiLCJQcm9taXNlIiwiYWxsIiwiaXNBdmFpbGFibGUiLCJhdXRoIiwic3VwcG9ydHNOZXN0ZWRBcHBBdXRoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/controllers/ControllerFactory.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/controllers/NestedAppAuthController.mjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/controllers/NestedAppAuthController.mjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NestedAppAuthController: () => (/* binding */ NestedAppAuthController)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/crypto/ICrypto.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/Authority.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/TimeUtils.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/entities/AccountEntity.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _crypto_CryptoOps_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../crypto/CryptoOps.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/crypto/CryptoOps.mjs\");\n/* harmony import */ var _naa_mapping_NestedAppAuthAdapter_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../naa/mapping/NestedAppAuthAdapter.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/naa/mapping/NestedAppAuthAdapter.mjs\");\n/* harmony import */ var _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../error/NestedAppAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/NestedAppAuthError.mjs\");\n/* harmony import */ var _event_EventHandler_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../event/EventHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/event/EventHandler.mjs\");\n/* harmony import */ var _event_EventType_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../event/EventType.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/event/EventType.mjs\");\n/* harmony import */ var _cache_BrowserCacheManager_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../cache/BrowserCacheManager.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/cache/BrowserCacheManager.mjs\");\n/* harmony import */ var _cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../cache/AccountManager.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/cache/AccountManager.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class NestedAppAuthController {\n    constructor(operatingContext){\n        this.operatingContext = operatingContext;\n        const proxy = this.operatingContext.getBridgeProxy();\n        if (proxy !== undefined) {\n            this.bridgeProxy = proxy;\n        } else {\n            throw new Error(\"unexpected: bridgeProxy is undefined\");\n        }\n        // Set the configuration.\n        this.config = operatingContext.getConfig();\n        // Initialize logger\n        this.logger = this.operatingContext.getLogger();\n        // Initialize performance client\n        this.performanceClient = this.config.telemetry.client;\n        // Initialize the crypto class.\n        this.browserCrypto = operatingContext.isBrowserEnvironment() ? new _crypto_CryptoOps_mjs__WEBPACK_IMPORTED_MODULE_0__.CryptoOps(this.logger, this.performanceClient) : _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.DEFAULT_CRYPTO_IMPLEMENTATION;\n        // Initialize the browser storage class.\n        this.browserStorage = this.operatingContext.isBrowserEnvironment() ? new _cache_BrowserCacheManager_mjs__WEBPACK_IMPORTED_MODULE_2__.BrowserCacheManager(this.config.auth.clientId, this.config.cache, this.browserCrypto, this.logger, (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.buildStaticAuthorityOptions)(this.config.auth)) : (0,_cache_BrowserCacheManager_mjs__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_BROWSER_CACHE_MANAGER)(this.config.auth.clientId, this.logger);\n        this.eventHandler = new _event_EventHandler_mjs__WEBPACK_IMPORTED_MODULE_4__.EventHandler(this.logger);\n        this.nestedAppAuthAdapter = new _naa_mapping_NestedAppAuthAdapter_mjs__WEBPACK_IMPORTED_MODULE_5__.NestedAppAuthAdapter(this.config.auth.clientId, this.config.auth.clientCapabilities, this.browserCrypto, this.logger);\n        // Set the active account if available\n        const accountContext = this.bridgeProxy.getAccountContext();\n        if (accountContext) {\n            const cachedAccount = (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_6__.getAccount)(accountContext, this.logger, this.browserStorage);\n            (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_6__.setActiveAccount)(cachedAccount, this.browserStorage);\n        }\n    }\n    /**\r\n     * Factory function to create a new instance of NestedAppAuthController\r\n     * @param operatingContext\r\n     * @returns Promise<IController>\r\n     */ static async createController(operatingContext) {\n        const controller = new NestedAppAuthController(operatingContext);\n        return Promise.resolve(controller);\n    }\n    /**\r\n     * Specific implementation of initialize function for NestedAppAuthController\r\n     * @returns\r\n     */ initialize() {\n        // do nothing not required by this controller\n        return Promise.resolve();\n    }\n    /**\r\n     * Validate the incoming request and add correlationId if not present\r\n     * @param request\r\n     * @returns\r\n     */ ensureValidRequest(request) {\n        if (request?.correlationId) {\n            return request;\n        }\n        return {\n            ...request,\n            correlationId: this.browserCrypto.createNewGuid()\n        };\n    }\n    /**\r\n     * Internal implementation of acquireTokenInteractive flow\r\n     * @param request\r\n     * @returns\r\n     */ async acquireTokenInteractive(request) {\n        const validRequest = this.ensureValidRequest(request);\n        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_7__.EventType.ACQUIRE_TOKEN_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.InteractionType.Popup, validRequest);\n        const atPopupMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenPopup, validRequest.correlationId);\n        atPopupMeasurement?.add({\n            nestedAppAuthRequest: true\n        });\n        try {\n            const naaRequest = this.nestedAppAuthAdapter.toNaaTokenRequest(validRequest);\n            const reqTimestamp = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.nowSeconds();\n            const response = await this.bridgeProxy.getTokenInteractive(naaRequest);\n            const result = {\n                ...this.nestedAppAuthAdapter.fromNaaTokenResponse(naaRequest, response, reqTimestamp)\n            };\n            // cache the tokens in the response\n            await this.hydrateCache(result, request);\n            this.browserStorage.setActiveAccount(result.account);\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_7__.EventType.ACQUIRE_TOKEN_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.InteractionType.Popup, result);\n            atPopupMeasurement.add({\n                accessTokenSize: result.accessToken.length,\n                idTokenSize: result.idToken.length\n            });\n            atPopupMeasurement.end({\n                success: true,\n                requestId: result.requestId\n            });\n            return result;\n        } catch (e) {\n            const error = this.nestedAppAuthAdapter.fromBridgeError(e);\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_7__.EventType.ACQUIRE_TOKEN_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.InteractionType.Popup, null, e);\n            atPopupMeasurement.end({\n                success: false\n            }, e);\n            throw error;\n        }\n    }\n    /**\r\n     * Internal implementation of acquireTokenSilent flow\r\n     * @param request\r\n     * @returns\r\n     */ async acquireTokenSilentInternal(request) {\n        const validRequest = this.ensureValidRequest(request);\n        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_7__.EventType.ACQUIRE_TOKEN_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.InteractionType.Silent, validRequest);\n        // Look for tokens in the cache first\n        const result = await this.acquireTokenFromCache(validRequest);\n        if (result) {\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_7__.EventType.ACQUIRE_TOKEN_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.InteractionType.Silent, result);\n            return result;\n        }\n        // proceed with acquiring tokens via the host\n        const ssoSilentMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.SsoSilent, validRequest.correlationId);\n        ssoSilentMeasurement?.increment({\n            visibilityChangeCount: 0\n        });\n        ssoSilentMeasurement?.add({\n            nestedAppAuthRequest: true\n        });\n        try {\n            const naaRequest = this.nestedAppAuthAdapter.toNaaTokenRequest(validRequest);\n            const reqTimestamp = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.nowSeconds();\n            const response = await this.bridgeProxy.getTokenSilent(naaRequest);\n            const result = this.nestedAppAuthAdapter.fromNaaTokenResponse(naaRequest, response, reqTimestamp);\n            // cache the tokens in the response\n            await this.hydrateCache(result, request);\n            this.browserStorage.setActiveAccount(result.account);\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_7__.EventType.ACQUIRE_TOKEN_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.InteractionType.Silent, result);\n            ssoSilentMeasurement?.add({\n                accessTokenSize: result.accessToken.length,\n                idTokenSize: result.idToken.length\n            });\n            ssoSilentMeasurement?.end({\n                success: true,\n                requestId: result.requestId\n            });\n            return result;\n        } catch (e) {\n            const error = this.nestedAppAuthAdapter.fromBridgeError(e);\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_7__.EventType.ACQUIRE_TOKEN_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.InteractionType.Silent, null, e);\n            ssoSilentMeasurement?.end({\n                success: false\n            }, e);\n            throw error;\n        }\n    }\n    /**\r\n     * acquires tokens from cache\r\n     * @param request\r\n     * @returns\r\n     */ async acquireTokenFromCache(request) {\n        const atsMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenSilent, request.correlationId);\n        atsMeasurement?.add({\n            nestedAppAuthRequest: true\n        });\n        // if the request has claims, we cannot look up in the cache\n        if (request.claims) {\n            this.logger.verbose(\"Claims are present in the request, skipping cache lookup\");\n            return null;\n        }\n        // respect cache lookup policy\n        let result = null;\n        switch(request.cacheLookupPolicy){\n            case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.CacheLookupPolicy.Default:\n            case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.CacheLookupPolicy.AccessToken:\n            case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.CacheLookupPolicy.AccessTokenAndRefreshToken:\n                result = await this.acquireTokenFromCacheInternal(request);\n                break;\n            default:\n                return null;\n        }\n        if (result) {\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_7__.EventType.ACQUIRE_TOKEN_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.InteractionType.Silent, result);\n            atsMeasurement?.add({\n                accessTokenSize: result?.accessToken.length,\n                idTokenSize: result?.idToken.length\n            });\n            atsMeasurement?.end({\n                success: true\n            });\n            return result;\n        }\n        this.logger.error(\"Cached tokens are not found for the account, proceeding with silent token request.\");\n        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_7__.EventType.ACQUIRE_TOKEN_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.InteractionType.Silent, null);\n        atsMeasurement?.end({\n            success: false\n        });\n        return null;\n    }\n    /**\r\n     *\r\n     * @param request\r\n     * @returns\r\n     */ async acquireTokenFromCacheInternal(request) {\n        const accountContext = this.bridgeProxy.getAccountContext();\n        let currentAccount = null;\n        if (accountContext) {\n            const hubAccount = (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_6__.getAccount)(accountContext, this.logger, this.browserStorage);\n            // always prioritize for hub account context, the reqirement of `request.account` will be removed soon\n            currentAccount = hubAccount || request.account;\n        }\n        // fall back to brokering if no cached account is found\n        if (!currentAccount) {\n            this.logger.verbose(\"No active account found, falling back to the host\");\n            return Promise.resolve(null);\n        }\n        this.logger.verbose(\"active account found, attempting to acquire token silently\");\n        const authRequest = {\n            ...request,\n            correlationId: request.correlationId || this.browserCrypto.createNewGuid(),\n            authority: request.authority || currentAccount.environment,\n            scopes: request.scopes?.length ? request.scopes : [\n                ..._azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.OIDC_DEFAULT_SCOPES\n            ]\n        };\n        // fetch access token and check for expiry\n        const tokenKeys = this.browserStorage.getTokenKeys();\n        const cachedAccessToken = this.browserStorage.getAccessToken(currentAccount, authRequest, tokenKeys, currentAccount.tenantId, this.performanceClient, authRequest.correlationId);\n        // If there is no access token, log it and return null\n        if (!cachedAccessToken) {\n            this.logger.verbose(\"No cached access token found\");\n            return Promise.resolve(null);\n        } else if (_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.wasClockTurnedBack(cachedAccessToken.cachedAt) || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.isTokenExpired(cachedAccessToken.expiresOn, this.config.system.tokenRenewalOffsetSeconds)) {\n            this.logger.verbose(\"Cached access token has expired\");\n            return Promise.resolve(null);\n        }\n        const cachedIdToken = this.browserStorage.getIdToken(currentAccount, tokenKeys, currentAccount.tenantId, this.performanceClient, authRequest.correlationId);\n        if (!cachedIdToken) {\n            this.logger.verbose(\"No cached id token found\");\n            return Promise.resolve(null);\n        }\n        return this.nestedAppAuthAdapter.toAuthenticationResultFromCache(currentAccount, cachedIdToken, cachedAccessToken, authRequest, authRequest.correlationId);\n    }\n    /**\r\n     * acquireTokenPopup flow implementation\r\n     * @param request\r\n     * @returns\r\n     */ async acquireTokenPopup(request) {\n        return this.acquireTokenInteractive(request);\n    }\n    /**\r\n     * acquireTokenRedirect flow is not supported in nested app auth\r\n     * @param request\r\n     */ // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    acquireTokenRedirect(request) {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    /**\r\n     * acquireTokenSilent flow implementation\r\n     * @param silentRequest\r\n     * @returns\r\n     */ async acquireTokenSilent(silentRequest) {\n        return this.acquireTokenSilentInternal(silentRequest);\n    }\n    /**\r\n     * Hybrid flow is not currently supported in nested app auth\r\n     * @param request\r\n     */ // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    acquireTokenByCode(request // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    /**\r\n     * acquireTokenNative flow is not currently supported in nested app auth\r\n     * @param request\r\n     * @param apiId\r\n     * @param accountId\r\n     */ acquireTokenNative(request, apiId, accountId // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    /**\r\n     * acquireTokenByRefreshToken flow is not currently supported in nested app auth\r\n     * @param commonRequest\r\n     * @param silentRequest\r\n     */ acquireTokenByRefreshToken(commonRequest, silentRequest // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    /**\r\n     * Adds event callbacks to array\r\n     * @param callback\r\n     * @param eventTypes\r\n     */ addEventCallback(callback, eventTypes) {\n        return this.eventHandler.addEventCallback(callback, eventTypes);\n    }\n    /**\r\n     * Removes callback with provided id from callback array\r\n     * @param callbackId\r\n     */ removeEventCallback(callbackId) {\n        this.eventHandler.removeEventCallback(callbackId);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    addPerformanceCallback(callback) {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    removePerformanceCallback(callbackId) {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    enableAccountStorageEvents() {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    disableAccountStorageEvents() {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    // #region Account APIs\n    /**\r\n     * Returns all the accounts in the cache that match the optional filter. If no filter is provided, all accounts are returned.\r\n     * @param accountFilter - (Optional) filter to narrow down the accounts returned\r\n     * @returns Array of AccountInfo objects in cache\r\n     */ getAllAccounts(accountFilter) {\n        return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_6__.getAllAccounts)(this.logger, this.browserStorage, this.isBrowserEnv(), accountFilter);\n    }\n    /**\r\n     * Returns the first account found in the cache that matches the account filter passed in.\r\n     * @param accountFilter\r\n     * @returns The first account found in the cache matching the provided filter or null if no account could be found.\r\n     */ getAccount(accountFilter) {\n        return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_6__.getAccount)(accountFilter, this.logger, this.browserStorage);\n    }\n    /**\r\n     * Returns the signed in account matching username.\r\n     * (the account object is created at the time of successful login)\r\n     * or null when no matching account is found.\r\n     * This API is provided for convenience but getAccountById should be used for best reliability\r\n     * @param username\r\n     * @returns The account object stored in MSAL\r\n     */ getAccountByUsername(username) {\n        return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_6__.getAccountByUsername)(username, this.logger, this.browserStorage);\n    }\n    /**\r\n     * Returns the signed in account matching homeAccountId.\r\n     * (the account object is created at the time of successful login)\r\n     * or null when no matching account is found\r\n     * @param homeAccountId\r\n     * @returns The account object stored in MSAL\r\n     */ getAccountByHomeId(homeAccountId) {\n        return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_6__.getAccountByHomeId)(homeAccountId, this.logger, this.browserStorage);\n    }\n    /**\r\n     * Returns the signed in account matching localAccountId.\r\n     * (the account object is created at the time of successful login)\r\n     * or null when no matching account is found\r\n     * @param localAccountId\r\n     * @returns The account object stored in MSAL\r\n     */ getAccountByLocalId(localAccountId) {\n        return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_6__.getAccountByLocalId)(localAccountId, this.logger, this.browserStorage);\n    }\n    /**\r\n     * Sets the account to use as the active account. If no account is passed to the acquireToken APIs, then MSAL will use this active account.\r\n     * @param account\r\n     */ setActiveAccount(account) {\n        /*\r\n         * StandardController uses this to allow the developer to set the active account\r\n         * in the nested app auth scenario the active account is controlled by the app hosting the nested app\r\n         */ return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_6__.setActiveAccount)(account, this.browserStorage);\n    }\n    /**\r\n     * Gets the currently active account\r\n     */ getActiveAccount() {\n        return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_6__.getActiveAccount)(this.browserStorage);\n    }\n    // #endregion\n    handleRedirectPromise(hash // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        return Promise.resolve(null);\n    }\n    loginPopup(request // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        return this.acquireTokenInteractive(request || _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_8__.DEFAULT_REQUEST);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    loginRedirect(request) {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    logout(logoutRequest) {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    logoutRedirect(logoutRequest // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    logoutPopup(logoutRequest // eslint-disable-line @typescript-eslint/no-unused-vars\n    ) {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    ssoSilent(// eslint-disable-next-line @typescript-eslint/no-unused-vars\n    request) {\n        return this.acquireTokenSilentInternal(request);\n    }\n    getTokenCache() {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    /**\r\n     * Returns the logger instance\r\n     */ getLogger() {\n        return this.logger;\n    }\n    /**\r\n     * Replaces the default logger set in configurations with new Logger with new configurations\r\n     * @param logger Logger instance\r\n     */ setLogger(logger) {\n        this.logger = logger;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    initializeWrapperLibrary(sku, version) {\n        /*\r\n         * Standard controller uses this to set the sku and version of the wrapper library in the storage\r\n         * we do nothing here\r\n         */ return;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    setNavigationClient(navigationClient) {\n        this.logger.warning(\"setNavigationClient is not supported in nested app auth\");\n    }\n    getConfiguration() {\n        return this.config;\n    }\n    isBrowserEnv() {\n        return this.operatingContext.isBrowserEnvironment();\n    }\n    getBrowserCrypto() {\n        return this.browserCrypto;\n    }\n    getPerformanceClient() {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    getRedirectResponse() {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async clearCache(logoutRequest) {\n        throw _error_NestedAppAuthError_mjs__WEBPACK_IMPORTED_MODULE_12__.NestedAppAuthError.createUnsupportedError();\n    }\n    async hydrateCache(result, request) {\n        this.logger.verbose(\"hydrateCache called\");\n        const accountEntity = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_13__.AccountEntity.createFromAccountInfo(result.account, result.cloudGraphHostName, result.msGraphHost);\n        this.browserStorage.setAccount(accountEntity);\n        return this.browserStorage.hydrateCache(result, request);\n    }\n}\n //# sourceMappingURL=NestedAppAuthController.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NvbnRyb2xsZXJzL05lc3RlZEFwcEF1dGhDb250cm9sbGVyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDMEs7QUFDdEU7QUFDaEQ7QUFDMkI7QUFDVjtBQUNaO0FBQ047QUFDbUQ7QUFDc0U7QUFFNUs7OztDQUdDLEdBQ0QsTUFBTXVCO0lBQ0ZDLFlBQVlDLGdCQUFnQixDQUFFO1FBQzFCLElBQUksQ0FBQ0EsZ0JBQWdCLEdBQUdBO1FBQ3hCLE1BQU1DLFFBQVEsSUFBSSxDQUFDRCxnQkFBZ0IsQ0FBQ0UsY0FBYztRQUNsRCxJQUFJRCxVQUFVRSxXQUFXO1lBQ3JCLElBQUksQ0FBQ0MsV0FBVyxHQUFHSDtRQUN2QixPQUNLO1lBQ0QsTUFBTSxJQUFJSSxNQUFNO1FBQ3BCO1FBQ0EseUJBQXlCO1FBQ3pCLElBQUksQ0FBQ0MsTUFBTSxHQUFHTixpQkFBaUJPLFNBQVM7UUFDeEMsb0JBQW9CO1FBQ3BCLElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUksQ0FBQ1IsZ0JBQWdCLENBQUNTLFNBQVM7UUFDN0MsZ0NBQWdDO1FBQ2hDLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUcsSUFBSSxDQUFDSixNQUFNLENBQUNLLFNBQVMsQ0FBQ0MsTUFBTTtRQUNyRCwrQkFBK0I7UUFDL0IsSUFBSSxDQUFDQyxhQUFhLEdBQUdiLGlCQUFpQmMsb0JBQW9CLEtBQ3BELElBQUk5Qiw0REFBU0EsQ0FBQyxJQUFJLENBQUN3QixNQUFNLEVBQUUsSUFBSSxDQUFDRSxpQkFBaUIsSUFDakRuQyxxRkFBNkJBO1FBQ25DLHdDQUF3QztRQUN4QyxJQUFJLENBQUN3QyxjQUFjLEdBQUcsSUFBSSxDQUFDZixnQkFBZ0IsQ0FBQ2Msb0JBQW9CLEtBQzFELElBQUl6QiwrRUFBbUJBLENBQUMsSUFBSSxDQUFDaUIsTUFBTSxDQUFDVSxJQUFJLENBQUNDLFFBQVEsRUFB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QixhQUFhLEVBQUU7UUFDNUIsTUFBTXBKLDhFQUFrQkEsQ0FBQ3dILHNCQUFzQjtJQUNuRDtJQUNBLE1BQU10RCxhQUFhRixNQUFNLEVBQUVuQixPQUFPLEVBQUU7UUFDaEMsSUFBSSxDQUFDdkIsTUFBTSxDQUFDc0UsT0FBTyxDQUFDO1FBQ3BCLE1BQU15RSxnQkFBZ0IzSyxzRUFBYUEsQ0FBQzRLLHFCQUFxQixDQUFDdEcsT0FBT0csT0FBTyxFQUFFSCxPQUFPdUcsa0JBQWtCLEVBQUV2RyxPQUFPd0csV0FBVztRQUN2SCxJQUFJLENBQUMzSSxjQUFjLENBQUM0SSxVQUFVLENBQUNKO1FBQy9CLE9BQU8sSUFBSSxDQUFDeEksY0FBYyxDQUFDcUMsWUFBWSxDQUFDRixRQUFRbkI7SUFDcEQ7QUFDSjtBQUVtQyxDQUNuQyxvREFBb0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NvbnRyb2xsZXJzL05lc3RlZEFwcEF1dGhDb250cm9sbGVyLm1qcz9jNjUwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgREVGQVVMVF9DUllQVE9fSU1QTEVNRU5UQVRJT04sIGJ1aWxkU3RhdGljQXV0aG9yaXR5T3B0aW9ucywgUGVyZm9ybWFuY2VFdmVudHMsIFRpbWVVdGlscywgT0lEQ19ERUZBVUxUX1NDT1BFUywgQWNjb3VudEVudGl0eSB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbi9icm93c2VyJztcbmltcG9ydCB7IEludGVyYWN0aW9uVHlwZSwgQ2FjaGVMb29rdXBQb2xpY3ksIERFRkFVTFRfUkVRVUVTVCB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMubWpzJztcbmltcG9ydCB7IENyeXB0b09wcyB9IGZyb20gJy4uL2NyeXB0by9DcnlwdG9PcHMubWpzJztcbmltcG9ydCB7IE5lc3RlZEFwcEF1dGhBZGFwdGVyIH0gZnJvbSAnLi4vbmFhL21hcHBpbmcvTmVzdGVkQXBwQXV0aEFkYXB0ZXIubWpzJztcbmltcG9ydCB7IE5lc3RlZEFwcEF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL05lc3RlZEFwcEF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgRXZlbnRIYW5kbGVyIH0gZnJvbSAnLi4vZXZlbnQvRXZlbnRIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tICcuLi9ldmVudC9FdmVudFR5cGUubWpzJztcbmltcG9ydCB7IEJyb3dzZXJDYWNoZU1hbmFnZXIsIERFRkFVTFRfQlJPV1NFUl9DQUNIRV9NQU5BR0VSIH0gZnJvbSAnLi4vY2FjaGUvQnJvd3NlckNhY2hlTWFuYWdlci5tanMnO1xuaW1wb3J0IHsgZ2V0QWNjb3VudCwgc2V0QWN0aXZlQWNjb3VudCwgZ2V0QWxsQWNjb3VudHMsIGdldEFjY291bnRCeVVzZXJuYW1lLCBnZXRBY2NvdW50QnlIb21lSWQsIGdldEFjY291bnRCeUxvY2FsSWQsIGdldEFjdGl2ZUFjY291bnQgfSBmcm9tICcuLi9jYWNoZS9BY2NvdW50TWFuYWdlci5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY2xhc3MgTmVzdGVkQXBwQXV0aENvbnRyb2xsZXIge1xyXG4gICAgY29uc3RydWN0b3Iob3BlcmF0aW5nQ29udGV4dCkge1xyXG4gICAgICAgIHRoaXMub3BlcmF0aW5nQ29udGV4dCA9IG9wZXJhdGluZ0NvbnRleHQ7XHJcbiAgICAgICAgY29uc3QgcHJveHkgPSB0aGlzLm9wZXJhdGluZ0NvbnRleHQuZ2V0QnJpZGdlUHJveHkoKTtcclxuICAgICAgICBpZiAocHJveHkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmJyaWRnZVByb3h5ID0gcHJveHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1bmV4cGVjdGVkOiBicmlkZ2VQcm94eSBpcyB1bmRlZmluZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNldCB0aGUgY29uZmlndXJhdGlvbi5cclxuICAgICAgICB0aGlzLmNvbmZpZyA9IG9wZXJhdGluZ0NvbnRleHQuZ2V0Q29uZmlnKCk7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBsb2dnZXJcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IHRoaXMub3BlcmF0aW5nQ29udGV4dC5nZXRMb2dnZXIoKTtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHBlcmZvcm1hbmNlIGNsaWVudFxyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQgPSB0aGlzLmNvbmZpZy50ZWxlbWV0cnkuY2xpZW50O1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGNyeXB0byBjbGFzcy5cclxuICAgICAgICB0aGlzLmJyb3dzZXJDcnlwdG8gPSBvcGVyYXRpbmdDb250ZXh0LmlzQnJvd3NlckVudmlyb25tZW50KClcclxuICAgICAgICAgICAgPyBuZXcgQ3J5cHRvT3BzKHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50KVxyXG4gICAgICAgICAgICA6IERFRkFVTFRfQ1JZUFRPX0lNUExFTUVOVEFUSU9OO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGJyb3dzZXIgc3RvcmFnZSBjbGFzcy5cclxuICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlID0gdGhpcy5vcGVyYXRpbmdDb250ZXh0LmlzQnJvd3NlckVudmlyb25tZW50KClcclxuICAgICAgICAgICAgPyBuZXcgQnJvd3NlckNhY2hlTWFuYWdlcih0aGlzLmNvbmZpZy5hdXRoLmNsaWVudElkLCB0aGlzLmNvbmZpZy5jYWNoZSwgdGhpcy5icm93c2VyQ3J5cHRvLCB0aGlzLmxvZ2dlciwgYnVpbGRTdGF0aWNBdXRob3JpdHlPcHRpb25zKHRoaXMuY29uZmlnLmF1dGgpKVxyXG4gICAgICAgICAgICA6IERFRkFVTFRfQlJPV1NFUl9DQUNIRV9NQU5BR0VSKHRoaXMuY29uZmlnLmF1dGguY2xpZW50SWQsIHRoaXMubG9nZ2VyKTtcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlciA9IG5ldyBFdmVudEhhbmRsZXIodGhpcy5sb2dnZXIpO1xyXG4gICAgICAgIHRoaXMubmVzdGVkQXBwQXV0aEFkYXB0ZXIgPSBuZXcgTmVzdGVkQXBwQXV0aEFkYXB0ZXIodGhpcy5jb25maWcuYXV0aC5jbGllbnRJZCwgdGhpcy5jb25maWcuYXV0aC5jbGllbnRDYXBhYmlsaXRpZXMsIHRoaXMuYnJvd3NlckNyeXB0bywgdGhpcy5sb2dnZXIpO1xyXG4gICAgICAgIC8vIFNldCB0aGUgYWN0aXZlIGFjY291bnQgaWYgYXZhaWxhYmxlXHJcbiAgICAgICAgY29uc3QgYWNjb3VudENvbnRleHQgPSB0aGlzLmJyaWRnZVByb3h5LmdldEFjY291bnRDb250ZXh0KCk7XHJcbiAgICAgICAgaWYgKGFjY291bnRDb250ZXh0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZEFjY291bnQgPSBnZXRBY2NvdW50KGFjY291bnRDb250ZXh0LCB0aGlzLmxvZ2dlciwgdGhpcy5icm93c2VyU3RvcmFnZSk7XHJcbiAgICAgICAgICAgIHNldEFjdGl2ZUFjY291bnQoY2FjaGVkQWNjb3VudCwgdGhpcy5icm93c2VyU3RvcmFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGYWN0b3J5IGZ1bmN0aW9uIHRvIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBOZXN0ZWRBcHBBdXRoQ29udHJvbGxlclxyXG4gICAgICogQHBhcmFtIG9wZXJhdGluZ0NvbnRleHRcclxuICAgICAqIEByZXR1cm5zIFByb21pc2U8SUNvbnRyb2xsZXI+XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBjcmVhdGVDb250cm9sbGVyKG9wZXJhdGluZ0NvbnRleHQpIHtcclxuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IE5lc3RlZEFwcEF1dGhDb250cm9sbGVyKG9wZXJhdGluZ0NvbnRleHQpO1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY29udHJvbGxlcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNwZWNpZmljIGltcGxlbWVudGF0aW9uIG9mIGluaXRpYWxpemUgZnVuY3Rpb24gZm9yIE5lc3RlZEFwcEF1dGhDb250cm9sbGVyXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIC8vIGRvIG5vdGhpbmcgbm90IHJlcXVpcmVkIGJ5IHRoaXMgY29udHJvbGxlclxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGUgdGhlIGluY29taW5nIHJlcXVlc3QgYW5kIGFkZCBjb3JyZWxhdGlvbklkIGlmIG5vdCBwcmVzZW50XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgZW5zdXJlVmFsaWRSZXF1ZXN0KHJlcXVlc3QpIHtcclxuICAgICAgICBpZiAocmVxdWVzdD8uY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLi4ucmVxdWVzdCxcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogdGhpcy5icm93c2VyQ3J5cHRvLmNyZWF0ZU5ld0d1aWQoKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiBhY3F1aXJlVG9rZW5JbnRlcmFjdGl2ZSBmbG93XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuSW50ZXJhY3RpdmUocmVxdWVzdCkge1xyXG4gICAgICAgIGNvbnN0IHZhbGlkUmVxdWVzdCA9IHRoaXMuZW5zdXJlVmFsaWRSZXF1ZXN0KHJlcXVlc3QpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuQUNRVUlSRV9UT0tFTl9TVEFSVCwgSW50ZXJhY3Rpb25UeXBlLlBvcHVwLCB2YWxpZFJlcXVlc3QpO1xyXG4gICAgICAgIGNvbnN0IGF0UG9wdXBNZWFzdXJlbWVudCA9IHRoaXMucGVyZm9ybWFuY2VDbGllbnQuc3RhcnRNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5BY3F1aXJlVG9rZW5Qb3B1cCwgdmFsaWRSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGF0UG9wdXBNZWFzdXJlbWVudD8uYWRkKHsgbmVzdGVkQXBwQXV0aFJlcXVlc3Q6IHRydWUgfSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgbmFhUmVxdWVzdCA9IHRoaXMubmVzdGVkQXBwQXV0aEFkYXB0ZXIudG9OYWFUb2tlblJlcXVlc3QodmFsaWRSZXF1ZXN0KTtcclxuICAgICAgICAgICAgY29uc3QgcmVxVGltZXN0YW1wID0gVGltZVV0aWxzLm5vd1NlY29uZHMoKTtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmJyaWRnZVByb3h5LmdldFRva2VuSW50ZXJhY3RpdmUobmFhUmVxdWVzdCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMubmVzdGVkQXBwQXV0aEFkYXB0ZXIuZnJvbU5hYVRva2VuUmVzcG9uc2UobmFhUmVxdWVzdCwgcmVzcG9uc2UsIHJlcVRpbWVzdGFtcCksXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIGNhY2hlIHRoZSB0b2tlbnMgaW4gdGhlIHJlc3BvbnNlXHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuaHlkcmF0ZUNhY2hlKHJlc3VsdCwgcmVxdWVzdCk7XHJcbiAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0QWN0aXZlQWNjb3VudChyZXN1bHQuYWNjb3VudCk7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuQUNRVUlSRV9UT0tFTl9TVUNDRVNTLCBJbnRlcmFjdGlvblR5cGUuUG9wdXAsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgIGF0UG9wdXBNZWFzdXJlbWVudC5hZGQoe1xyXG4gICAgICAgICAgICAgICAgYWNjZXNzVG9rZW5TaXplOiByZXN1bHQuYWNjZXNzVG9rZW4ubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgaWRUb2tlblNpemU6IHJlc3VsdC5pZFRva2VuLmxlbmd0aCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGF0UG9wdXBNZWFzdXJlbWVudC5lbmQoe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RJZDogcmVzdWx0LnJlcXVlc3RJZCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gdGhpcy5uZXN0ZWRBcHBBdXRoQWRhcHRlci5mcm9tQnJpZGdlRXJyb3IoZSk7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuQUNRVUlSRV9UT0tFTl9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuUG9wdXAsIG51bGwsIGUpO1xyXG4gICAgICAgICAgICBhdFBvcHVwTWVhc3VyZW1lbnQuZW5kKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICB9LCBlKTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiBhY3F1aXJlVG9rZW5TaWxlbnQgZmxvd1xyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGFjcXVpcmVUb2tlblNpbGVudEludGVybmFsKHJlcXVlc3QpIHtcclxuICAgICAgICBjb25zdCB2YWxpZFJlcXVlc3QgPSB0aGlzLmVuc3VyZVZhbGlkUmVxdWVzdChyZXF1ZXN0KTtcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fU1RBUlQsIEludGVyYWN0aW9uVHlwZS5TaWxlbnQsIHZhbGlkUmVxdWVzdCk7XHJcbiAgICAgICAgLy8gTG9vayBmb3IgdG9rZW5zIGluIHRoZSBjYWNoZSBmaXJzdFxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYWNxdWlyZVRva2VuRnJvbUNhY2hlKHZhbGlkUmVxdWVzdCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlNpbGVudCwgcmVzdWx0KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcHJvY2VlZCB3aXRoIGFjcXVpcmluZyB0b2tlbnMgdmlhIHRoZSBob3N0XHJcbiAgICAgICAgY29uc3Qgc3NvU2lsZW50TWVhc3VyZW1lbnQgPSB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LnN0YXJ0TWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuU3NvU2lsZW50LCB2YWxpZFJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgc3NvU2lsZW50TWVhc3VyZW1lbnQ/LmluY3JlbWVudCh7XHJcbiAgICAgICAgICAgIHZpc2liaWxpdHlDaGFuZ2VDb3VudDogMCxcclxuICAgICAgICB9KTtcclxuICAgICAgICBzc29TaWxlbnRNZWFzdXJlbWVudD8uYWRkKHtcclxuICAgICAgICAgICAgbmVzdGVkQXBwQXV0aFJlcXVlc3Q6IHRydWUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgbmFhUmVxdWVzdCA9IHRoaXMubmVzdGVkQXBwQXV0aEFkYXB0ZXIudG9OYWFUb2tlblJlcXVlc3QodmFsaWRSZXF1ZXN0KTtcclxuICAgICAgICAgICAgY29uc3QgcmVxVGltZXN0YW1wID0gVGltZVV0aWxzLm5vd1NlY29uZHMoKTtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmJyaWRnZVByb3h5LmdldFRva2VuU2lsZW50KG5hYVJlcXVlc3QpO1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLm5lc3RlZEFwcEF1dGhBZGFwdGVyLmZyb21OYWFUb2tlblJlc3BvbnNlKG5hYVJlcXVlc3QsIHJlc3BvbnNlLCByZXFUaW1lc3RhbXApO1xyXG4gICAgICAgICAgICAvLyBjYWNoZSB0aGUgdG9rZW5zIGluIHRoZSByZXNwb25zZVxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmh5ZHJhdGVDYWNoZShyZXN1bHQsIHJlcXVlc3QpO1xyXG4gICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEFjdGl2ZUFjY291bnQocmVzdWx0LmFjY291bnQpO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlNpbGVudCwgcmVzdWx0KTtcclxuICAgICAgICAgICAgc3NvU2lsZW50TWVhc3VyZW1lbnQ/LmFkZCh7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlblNpemU6IHJlc3VsdC5hY2Nlc3NUb2tlbi5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBpZFRva2VuU2l6ZTogcmVzdWx0LmlkVG9rZW4ubGVuZ3RoLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgc3NvU2lsZW50TWVhc3VyZW1lbnQ/LmVuZCh7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdElkOiByZXN1bHQucmVxdWVzdElkLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLm5lc3RlZEFwcEF1dGhBZGFwdGVyLmZyb21CcmlkZ2VFcnJvcihlKTtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1FVSVJFX1RPS0VOX0ZBSUxVUkUsIEludGVyYWN0aW9uVHlwZS5TaWxlbnQsIG51bGwsIGUpO1xyXG4gICAgICAgICAgICBzc29TaWxlbnRNZWFzdXJlbWVudD8uZW5kKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICB9LCBlKTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhY3F1aXJlcyB0b2tlbnMgZnJvbSBjYWNoZVxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGFjcXVpcmVUb2tlbkZyb21DYWNoZShyZXF1ZXN0KSB7XHJcbiAgICAgICAgY29uc3QgYXRzTWVhc3VyZW1lbnQgPSB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LnN0YXJ0TWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuQWNxdWlyZVRva2VuU2lsZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGF0c01lYXN1cmVtZW50Py5hZGQoe1xyXG4gICAgICAgICAgICBuZXN0ZWRBcHBBdXRoUmVxdWVzdDogdHJ1ZSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBpZiB0aGUgcmVxdWVzdCBoYXMgY2xhaW1zLCB3ZSBjYW5ub3QgbG9vayB1cCBpbiB0aGUgY2FjaGVcclxuICAgICAgICBpZiAocmVxdWVzdC5jbGFpbXMpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkNsYWltcyBhcmUgcHJlc2VudCBpbiB0aGUgcmVxdWVzdCwgc2tpcHBpbmcgY2FjaGUgbG9va3VwXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmVzcGVjdCBjYWNoZSBsb29rdXAgcG9saWN5XHJcbiAgICAgICAgbGV0IHJlc3VsdCA9IG51bGw7XHJcbiAgICAgICAgc3dpdGNoIChyZXF1ZXN0LmNhY2hlTG9va3VwUG9saWN5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FjaGVMb29rdXBQb2xpY3kuRGVmYXVsdDpcclxuICAgICAgICAgICAgY2FzZSBDYWNoZUxvb2t1cFBvbGljeS5BY2Nlc3NUb2tlbjpcclxuICAgICAgICAgICAgY2FzZSBDYWNoZUxvb2t1cFBvbGljeS5BY2Nlc3NUb2tlbkFuZFJlZnJlc2hUb2tlbjpcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IHRoaXMuYWNxdWlyZVRva2VuRnJvbUNhY2hlSW50ZXJuYWwocmVxdWVzdCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuQUNRVUlSRV9UT0tFTl9TVUNDRVNTLCBJbnRlcmFjdGlvblR5cGUuU2lsZW50LCByZXN1bHQpO1xyXG4gICAgICAgICAgICBhdHNNZWFzdXJlbWVudD8uYWRkKHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuU2l6ZTogcmVzdWx0Py5hY2Nlc3NUb2tlbi5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBpZFRva2VuU2l6ZTogcmVzdWx0Py5pZFRva2VuLmxlbmd0aCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGF0c01lYXN1cmVtZW50Py5lbmQoe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKFwiQ2FjaGVkIHRva2VucyBhcmUgbm90IGZvdW5kIGZvciB0aGUgYWNjb3VudCwgcHJvY2VlZGluZyB3aXRoIHNpbGVudCB0b2tlbiByZXF1ZXN0LlwiKTtcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fRkFJTFVSRSwgSW50ZXJhY3Rpb25UeXBlLlNpbGVudCwgbnVsbCk7XHJcbiAgICAgICAgYXRzTWVhc3VyZW1lbnQ/LmVuZCh7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGFjcXVpcmVUb2tlbkZyb21DYWNoZUludGVybmFsKHJlcXVlc3QpIHtcclxuICAgICAgICBjb25zdCBhY2NvdW50Q29udGV4dCA9IHRoaXMuYnJpZGdlUHJveHkuZ2V0QWNjb3VudENvbnRleHQoKTtcclxuICAgICAgICBsZXQgY3VycmVudEFjY291bnQgPSBudWxsO1xyXG4gICAgICAgIGlmIChhY2NvdW50Q29udGV4dCkge1xyXG4gICAgICAgICAgICBjb25zdCBodWJBY2NvdW50ID0gZ2V0QWNjb3VudChhY2NvdW50Q29udGV4dCwgdGhpcy5sb2dnZXIsIHRoaXMuYnJvd3NlclN0b3JhZ2UpO1xyXG4gICAgICAgICAgICAvLyBhbHdheXMgcHJpb3JpdGl6ZSBmb3IgaHViIGFjY291bnQgY29udGV4dCwgdGhlIHJlcWlyZW1lbnQgb2YgYHJlcXVlc3QuYWNjb3VudGAgd2lsbCBiZSByZW1vdmVkIHNvb25cclxuICAgICAgICAgICAgY3VycmVudEFjY291bnQgPSBodWJBY2NvdW50IHx8IHJlcXVlc3QuYWNjb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZmFsbCBiYWNrIHRvIGJyb2tlcmluZyBpZiBubyBjYWNoZWQgYWNjb3VudCBpcyBmb3VuZFxyXG4gICAgICAgIGlmICghY3VycmVudEFjY291bnQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIk5vIGFjdGl2ZSBhY2NvdW50IGZvdW5kLCBmYWxsaW5nIGJhY2sgdG8gdGhlIGhvc3RcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJhY3RpdmUgYWNjb3VudCBmb3VuZCwgYXR0ZW1wdGluZyB0byBhY3F1aXJlIHRva2VuIHNpbGVudGx5XCIpO1xyXG4gICAgICAgIGNvbnN0IGF1dGhSZXF1ZXN0ID0ge1xyXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxyXG4gICAgICAgICAgICBjb3JyZWxhdGlvbklkOiByZXF1ZXN0LmNvcnJlbGF0aW9uSWQgfHwgdGhpcy5icm93c2VyQ3J5cHRvLmNyZWF0ZU5ld0d1aWQoKSxcclxuICAgICAgICAgICAgYXV0aG9yaXR5OiByZXF1ZXN0LmF1dGhvcml0eSB8fCBjdXJyZW50QWNjb3VudC5lbnZpcm9ubWVudCxcclxuICAgICAgICAgICAgc2NvcGVzOiByZXF1ZXN0LnNjb3Blcz8ubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICA/IHJlcXVlc3Quc2NvcGVzXHJcbiAgICAgICAgICAgICAgICA6IFsuLi5PSURDX0RFRkFVTFRfU0NPUEVTXSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGZldGNoIGFjY2VzcyB0b2tlbiBhbmQgY2hlY2sgZm9yIGV4cGlyeVxyXG4gICAgICAgIGNvbnN0IHRva2VuS2V5cyA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0VG9rZW5LZXlzKCk7XHJcbiAgICAgICAgY29uc3QgY2FjaGVkQWNjZXNzVG9rZW4gPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldEFjY2Vzc1Rva2VuKGN1cnJlbnRBY2NvdW50LCBhdXRoUmVxdWVzdCwgdG9rZW5LZXlzLCBjdXJyZW50QWNjb3VudC50ZW5hbnRJZCwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgYXV0aFJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gYWNjZXNzIHRva2VuLCBsb2cgaXQgYW5kIHJldHVybiBudWxsXHJcbiAgICAgICAgaWYgKCFjYWNoZWRBY2Nlc3NUb2tlbikge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiTm8gY2FjaGVkIGFjY2VzcyB0b2tlbiBmb3VuZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoVGltZVV0aWxzLndhc0Nsb2NrVHVybmVkQmFjayhjYWNoZWRBY2Nlc3NUb2tlbi5jYWNoZWRBdCkgfHxcclxuICAgICAgICAgICAgVGltZVV0aWxzLmlzVG9rZW5FeHBpcmVkKGNhY2hlZEFjY2Vzc1Rva2VuLmV4cGlyZXNPbiwgdGhpcy5jb25maWcuc3lzdGVtLnRva2VuUmVuZXdhbE9mZnNldFNlY29uZHMpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJDYWNoZWQgYWNjZXNzIHRva2VuIGhhcyBleHBpcmVkXCIpO1xyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYWNoZWRJZFRva2VuID0gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRJZFRva2VuKGN1cnJlbnRBY2NvdW50LCB0b2tlbktleXMsIGN1cnJlbnRBY2NvdW50LnRlbmFudElkLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCBhdXRoUmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBpZiAoIWNhY2hlZElkVG9rZW4pIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIk5vIGNhY2hlZCBpZCB0b2tlbiBmb3VuZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmVzdGVkQXBwQXV0aEFkYXB0ZXIudG9BdXRoZW50aWNhdGlvblJlc3VsdEZyb21DYWNoZShjdXJyZW50QWNjb3VudCwgY2FjaGVkSWRUb2tlbiwgY2FjaGVkQWNjZXNzVG9rZW4sIGF1dGhSZXF1ZXN0LCBhdXRoUmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWNxdWlyZVRva2VuUG9wdXAgZmxvdyBpbXBsZW1lbnRhdGlvblxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGFjcXVpcmVUb2tlblBvcHVwKHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hY3F1aXJlVG9rZW5JbnRlcmFjdGl2ZShyZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWNxdWlyZVRva2VuUmVkaXJlY3QgZmxvdyBpcyBub3Qgc3VwcG9ydGVkIGluIG5lc3RlZCBhcHAgYXV0aFxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xyXG4gICAgYWNxdWlyZVRva2VuUmVkaXJlY3QocmVxdWVzdCkge1xyXG4gICAgICAgIHRocm93IE5lc3RlZEFwcEF1dGhFcnJvci5jcmVhdGVVbnN1cHBvcnRlZEVycm9yKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGFjcXVpcmVUb2tlblNpbGVudCBmbG93IGltcGxlbWVudGF0aW9uXHJcbiAgICAgKiBAcGFyYW0gc2lsZW50UmVxdWVzdFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuU2lsZW50KHNpbGVudFJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hY3F1aXJlVG9rZW5TaWxlbnRJbnRlcm5hbChzaWxlbnRSZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSHlicmlkIGZsb3cgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgaW4gbmVzdGVkIGFwcCBhdXRoXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgICBhY3F1aXJlVG9rZW5CeUNvZGUocmVxdWVzdCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xyXG4gICAgKSB7XHJcbiAgICAgICAgdGhyb3cgTmVzdGVkQXBwQXV0aEVycm9yLmNyZWF0ZVVuc3VwcG9ydGVkRXJyb3IoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWNxdWlyZVRva2VuTmF0aXZlIGZsb3cgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgaW4gbmVzdGVkIGFwcCBhdXRoXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICogQHBhcmFtIGFwaUlkXHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudElkXHJcbiAgICAgKi9cclxuICAgIGFjcXVpcmVUb2tlbk5hdGl2ZShyZXF1ZXN0LCBhcGlJZCwgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcclxuICAgIGFjY291bnRJZCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xyXG4gICAgKSB7XHJcbiAgICAgICAgdGhyb3cgTmVzdGVkQXBwQXV0aEVycm9yLmNyZWF0ZVVuc3VwcG9ydGVkRXJyb3IoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWNxdWlyZVRva2VuQnlSZWZyZXNoVG9rZW4gZmxvdyBpcyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBpbiBuZXN0ZWQgYXBwIGF1dGhcclxuICAgICAqIEBwYXJhbSBjb21tb25SZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gc2lsZW50UmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBhY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbihjb21tb25SZXF1ZXN0LCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xyXG4gICAgc2lsZW50UmVxdWVzdCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xyXG4gICAgKSB7XHJcbiAgICAgICAgdGhyb3cgTmVzdGVkQXBwQXV0aEVycm9yLmNyZWF0ZVVuc3VwcG9ydGVkRXJyb3IoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBldmVudCBjYWxsYmFja3MgdG8gYXJyYXlcclxuICAgICAqIEBwYXJhbSBjYWxsYmFja1xyXG4gICAgICogQHBhcmFtIGV2ZW50VHlwZXNcclxuICAgICAqL1xyXG4gICAgYWRkRXZlbnRDYWxsYmFjayhjYWxsYmFjaywgZXZlbnRUeXBlcykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50SGFuZGxlci5hZGRFdmVudENhbGxiYWNrKGNhbGxiYWNrLCBldmVudFR5cGVzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBjYWxsYmFjayB3aXRoIHByb3ZpZGVkIGlkIGZyb20gY2FsbGJhY2sgYXJyYXlcclxuICAgICAqIEBwYXJhbSBjYWxsYmFja0lkXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUV2ZW50Q2FsbGJhY2soY2FsbGJhY2tJZCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLnJlbW92ZUV2ZW50Q2FsbGJhY2soY2FsbGJhY2tJZCk7XHJcbiAgICB9XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgICBhZGRQZXJmb3JtYW5jZUNhbGxiYWNrKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdGhyb3cgTmVzdGVkQXBwQXV0aEVycm9yLmNyZWF0ZVVuc3VwcG9ydGVkRXJyb3IoKTtcclxuICAgIH1cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcclxuICAgIHJlbW92ZVBlcmZvcm1hbmNlQ2FsbGJhY2soY2FsbGJhY2tJZCkge1xyXG4gICAgICAgIHRocm93IE5lc3RlZEFwcEF1dGhFcnJvci5jcmVhdGVVbnN1cHBvcnRlZEVycm9yKCk7XHJcbiAgICB9XHJcbiAgICBlbmFibGVBY2NvdW50U3RvcmFnZUV2ZW50cygpIHtcclxuICAgICAgICB0aHJvdyBOZXN0ZWRBcHBBdXRoRXJyb3IuY3JlYXRlVW5zdXBwb3J0ZWRFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgZGlzYWJsZUFjY291bnRTdG9yYWdlRXZlbnRzKCkge1xyXG4gICAgICAgIHRocm93IE5lc3RlZEFwcEF1dGhFcnJvci5jcmVhdGVVbnN1cHBvcnRlZEVycm9yKCk7XHJcbiAgICB9XHJcbiAgICAvLyAjcmVnaW9uIEFjY291bnQgQVBJc1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFsbCB0aGUgYWNjb3VudHMgaW4gdGhlIGNhY2hlIHRoYXQgbWF0Y2ggdGhlIG9wdGlvbmFsIGZpbHRlci4gSWYgbm8gZmlsdGVyIGlzIHByb3ZpZGVkLCBhbGwgYWNjb3VudHMgYXJlIHJldHVybmVkLlxyXG4gICAgICogQHBhcmFtIGFjY291bnRGaWx0ZXIgLSAoT3B0aW9uYWwpIGZpbHRlciB0byBuYXJyb3cgZG93biB0aGUgYWNjb3VudHMgcmV0dXJuZWRcclxuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIEFjY291bnRJbmZvIG9iamVjdHMgaW4gY2FjaGVcclxuICAgICAqL1xyXG4gICAgZ2V0QWxsQWNjb3VudHMoYWNjb3VudEZpbHRlcikge1xyXG4gICAgICAgIHJldHVybiBnZXRBbGxBY2NvdW50cyh0aGlzLmxvZ2dlciwgdGhpcy5icm93c2VyU3RvcmFnZSwgdGhpcy5pc0Jyb3dzZXJFbnYoKSwgYWNjb3VudEZpbHRlcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGZpcnN0IGFjY291bnQgZm91bmQgaW4gdGhlIGNhY2hlIHRoYXQgbWF0Y2hlcyB0aGUgYWNjb3VudCBmaWx0ZXIgcGFzc2VkIGluLlxyXG4gICAgICogQHBhcmFtIGFjY291bnRGaWx0ZXJcclxuICAgICAqIEByZXR1cm5zIFRoZSBmaXJzdCBhY2NvdW50IGZvdW5kIGluIHRoZSBjYWNoZSBtYXRjaGluZyB0aGUgcHJvdmlkZWQgZmlsdGVyIG9yIG51bGwgaWYgbm8gYWNjb3VudCBjb3VsZCBiZSBmb3VuZC5cclxuICAgICAqL1xyXG4gICAgZ2V0QWNjb3VudChhY2NvdW50RmlsdGVyKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldEFjY291bnQoYWNjb3VudEZpbHRlciwgdGhpcy5sb2dnZXIsIHRoaXMuYnJvd3NlclN0b3JhZ2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBzaWduZWQgaW4gYWNjb3VudCBtYXRjaGluZyB1c2VybmFtZS5cclxuICAgICAqICh0aGUgYWNjb3VudCBvYmplY3QgaXMgY3JlYXRlZCBhdCB0aGUgdGltZSBvZiBzdWNjZXNzZnVsIGxvZ2luKVxyXG4gICAgICogb3IgbnVsbCB3aGVuIG5vIG1hdGNoaW5nIGFjY291bnQgaXMgZm91bmQuXHJcbiAgICAgKiBUaGlzIEFQSSBpcyBwcm92aWRlZCBmb3IgY29udmVuaWVuY2UgYnV0IGdldEFjY291bnRCeUlkIHNob3VsZCBiZSB1c2VkIGZvciBiZXN0IHJlbGlhYmlsaXR5XHJcbiAgICAgKiBAcGFyYW0gdXNlcm5hbWVcclxuICAgICAqIEByZXR1cm5zIFRoZSBhY2NvdW50IG9iamVjdCBzdG9yZWQgaW4gTVNBTFxyXG4gICAgICovXHJcbiAgICBnZXRBY2NvdW50QnlVc2VybmFtZSh1c2VybmFtZSkge1xyXG4gICAgICAgIHJldHVybiBnZXRBY2NvdW50QnlVc2VybmFtZSh1c2VybmFtZSwgdGhpcy5sb2dnZXIsIHRoaXMuYnJvd3NlclN0b3JhZ2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBzaWduZWQgaW4gYWNjb3VudCBtYXRjaGluZyBob21lQWNjb3VudElkLlxyXG4gICAgICogKHRoZSBhY2NvdW50IG9iamVjdCBpcyBjcmVhdGVkIGF0IHRoZSB0aW1lIG9mIHN1Y2Nlc3NmdWwgbG9naW4pXHJcbiAgICAgKiBvciBudWxsIHdoZW4gbm8gbWF0Y2hpbmcgYWNjb3VudCBpcyBmb3VuZFxyXG4gICAgICogQHBhcmFtIGhvbWVBY2NvdW50SWRcclxuICAgICAqIEByZXR1cm5zIFRoZSBhY2NvdW50IG9iamVjdCBzdG9yZWQgaW4gTVNBTFxyXG4gICAgICovXHJcbiAgICBnZXRBY2NvdW50QnlIb21lSWQoaG9tZUFjY291bnRJZCkge1xyXG4gICAgICAgIHJldHVybiBnZXRBY2NvdW50QnlIb21lSWQoaG9tZUFjY291bnRJZCwgdGhpcy5sb2dnZXIsIHRoaXMuYnJvd3NlclN0b3JhZ2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBzaWduZWQgaW4gYWNjb3VudCBtYXRjaGluZyBsb2NhbEFjY291bnRJZC5cclxuICAgICAqICh0aGUgYWNjb3VudCBvYmplY3QgaXMgY3JlYXRlZCBhdCB0aGUgdGltZSBvZiBzdWNjZXNzZnVsIGxvZ2luKVxyXG4gICAgICogb3IgbnVsbCB3aGVuIG5vIG1hdGNoaW5nIGFjY291bnQgaXMgZm91bmRcclxuICAgICAqIEBwYXJhbSBsb2NhbEFjY291bnRJZFxyXG4gICAgICogQHJldHVybnMgVGhlIGFjY291bnQgb2JqZWN0IHN0b3JlZCBpbiBNU0FMXHJcbiAgICAgKi9cclxuICAgIGdldEFjY291bnRCeUxvY2FsSWQobG9jYWxBY2NvdW50SWQpIHtcclxuICAgICAgICByZXR1cm4gZ2V0QWNjb3VudEJ5TG9jYWxJZChsb2NhbEFjY291bnRJZCwgdGhpcy5sb2dnZXIsIHRoaXMuYnJvd3NlclN0b3JhZ2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIHRoZSBhY2NvdW50IHRvIHVzZSBhcyB0aGUgYWN0aXZlIGFjY291bnQuIElmIG5vIGFjY291bnQgaXMgcGFzc2VkIHRvIHRoZSBhY3F1aXJlVG9rZW4gQVBJcywgdGhlbiBNU0FMIHdpbGwgdXNlIHRoaXMgYWN0aXZlIGFjY291bnQuXHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudFxyXG4gICAgICovXHJcbiAgICBzZXRBY3RpdmVBY2NvdW50KGFjY291bnQpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFN0YW5kYXJkQ29udHJvbGxlciB1c2VzIHRoaXMgdG8gYWxsb3cgdGhlIGRldmVsb3BlciB0byBzZXQgdGhlIGFjdGl2ZSBhY2NvdW50XHJcbiAgICAgICAgICogaW4gdGhlIG5lc3RlZCBhcHAgYXV0aCBzY2VuYXJpbyB0aGUgYWN0aXZlIGFjY291bnQgaXMgY29udHJvbGxlZCBieSB0aGUgYXBwIGhvc3RpbmcgdGhlIG5lc3RlZCBhcHBcclxuICAgICAgICAgKi9cclxuICAgICAgICByZXR1cm4gc2V0QWN0aXZlQWNjb3VudChhY2NvdW50LCB0aGlzLmJyb3dzZXJTdG9yYWdlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgY3VycmVudGx5IGFjdGl2ZSBhY2NvdW50XHJcbiAgICAgKi9cclxuICAgIGdldEFjdGl2ZUFjY291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldEFjdGl2ZUFjY291bnQodGhpcy5icm93c2VyU3RvcmFnZSk7XHJcbiAgICB9XHJcbiAgICAvLyAjZW5kcmVnaW9uXHJcbiAgICBoYW5kbGVSZWRpcmVjdFByb21pc2UoaGFzaCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xyXG4gICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcclxuICAgIH1cclxuICAgIGxvZ2luUG9wdXAocmVxdWVzdCAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xyXG4gICAgKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYWNxdWlyZVRva2VuSW50ZXJhY3RpdmUocmVxdWVzdCB8fCBERUZBVUxUX1JFUVVFU1QpO1xyXG4gICAgfVxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xyXG4gICAgbG9naW5SZWRpcmVjdChyZXF1ZXN0KSB7XHJcbiAgICAgICAgdGhyb3cgTmVzdGVkQXBwQXV0aEVycm9yLmNyZWF0ZVVuc3VwcG9ydGVkRXJyb3IoKTtcclxuICAgIH1cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcclxuICAgIGxvZ291dChsb2dvdXRSZXF1ZXN0KSB7XHJcbiAgICAgICAgdGhyb3cgTmVzdGVkQXBwQXV0aEVycm9yLmNyZWF0ZVVuc3VwcG9ydGVkRXJyb3IoKTtcclxuICAgIH1cclxuICAgIGxvZ291dFJlZGlyZWN0KGxvZ291dFJlcXVlc3QgLy8gZXNsaW50LWRpc2FibGUtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcclxuICAgICkge1xyXG4gICAgICAgIHRocm93IE5lc3RlZEFwcEF1dGhFcnJvci5jcmVhdGVVbnN1cHBvcnRlZEVycm9yKCk7XHJcbiAgICB9XHJcbiAgICBsb2dvdXRQb3B1cChsb2dvdXRSZXF1ZXN0IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgICApIHtcclxuICAgICAgICB0aHJvdyBOZXN0ZWRBcHBBdXRoRXJyb3IuY3JlYXRlVW5zdXBwb3J0ZWRFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgc3NvU2lsZW50KFxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xyXG4gICAgcmVxdWVzdCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFjcXVpcmVUb2tlblNpbGVudEludGVybmFsKHJlcXVlc3QpO1xyXG4gICAgfVxyXG4gICAgZ2V0VG9rZW5DYWNoZSgpIHtcclxuICAgICAgICB0aHJvdyBOZXN0ZWRBcHBBdXRoRXJyb3IuY3JlYXRlVW5zdXBwb3J0ZWRFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBsb2dnZXIgaW5zdGFuY2VcclxuICAgICAqL1xyXG4gICAgZ2V0TG9nZ2VyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvZ2dlcjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZXMgdGhlIGRlZmF1bHQgbG9nZ2VyIHNldCBpbiBjb25maWd1cmF0aW9ucyB3aXRoIG5ldyBMb2dnZXIgd2l0aCBuZXcgY29uZmlndXJhdGlvbnNcclxuICAgICAqIEBwYXJhbSBsb2dnZXIgTG9nZ2VyIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIHNldExvZ2dlcihsb2dnZXIpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcclxuICAgIH1cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcclxuICAgIGluaXRpYWxpemVXcmFwcGVyTGlicmFyeShza3UsIHZlcnNpb24pIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIFN0YW5kYXJkIGNvbnRyb2xsZXIgdXNlcyB0aGlzIHRvIHNldCB0aGUgc2t1IGFuZCB2ZXJzaW9uIG9mIHRoZSB3cmFwcGVyIGxpYnJhcnkgaW4gdGhlIHN0b3JhZ2VcclxuICAgICAgICAgKiB3ZSBkbyBub3RoaW5nIGhlcmVcclxuICAgICAgICAgKi9cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgICBzZXROYXZpZ2F0aW9uQ2xpZW50KG5hdmlnYXRpb25DbGllbnQpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKFwic2V0TmF2aWdhdGlvbkNsaWVudCBpcyBub3Qgc3VwcG9ydGVkIGluIG5lc3RlZCBhcHAgYXV0aFwiKTtcclxuICAgIH1cclxuICAgIGdldENvbmZpZ3VyYXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xyXG4gICAgfVxyXG4gICAgaXNCcm93c2VyRW52KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm9wZXJhdGluZ0NvbnRleHQuaXNCcm93c2VyRW52aXJvbm1lbnQoKTtcclxuICAgIH1cclxuICAgIGdldEJyb3dzZXJDcnlwdG8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnJvd3NlckNyeXB0bztcclxuICAgIH1cclxuICAgIGdldFBlcmZvcm1hbmNlQ2xpZW50KCkge1xyXG4gICAgICAgIHRocm93IE5lc3RlZEFwcEF1dGhFcnJvci5jcmVhdGVVbnN1cHBvcnRlZEVycm9yKCk7XHJcbiAgICB9XHJcbiAgICBnZXRSZWRpcmVjdFJlc3BvbnNlKCkge1xyXG4gICAgICAgIHRocm93IE5lc3RlZEFwcEF1dGhFcnJvci5jcmVhdGVVbnN1cHBvcnRlZEVycm9yKCk7XHJcbiAgICB9XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgICBhc3luYyBjbGVhckNhY2hlKGxvZ291dFJlcXVlc3QpIHtcclxuICAgICAgICB0aHJvdyBOZXN0ZWRBcHBBdXRoRXJyb3IuY3JlYXRlVW5zdXBwb3J0ZWRFcnJvcigpO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgaHlkcmF0ZUNhY2hlKHJlc3VsdCwgcmVxdWVzdCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJoeWRyYXRlQ2FjaGUgY2FsbGVkXCIpO1xyXG4gICAgICAgIGNvbnN0IGFjY291bnRFbnRpdHkgPSBBY2NvdW50RW50aXR5LmNyZWF0ZUZyb21BY2NvdW50SW5mbyhyZXN1bHQuYWNjb3VudCwgcmVzdWx0LmNsb3VkR3JhcGhIb3N0TmFtZSwgcmVzdWx0Lm1zR3JhcGhIb3N0KTtcclxuICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEFjY291bnQoYWNjb3VudEVudGl0eSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYnJvd3NlclN0b3JhZ2UuaHlkcmF0ZUNhY2hlKHJlc3VsdCwgcmVxdWVzdCk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgTmVzdGVkQXBwQXV0aENvbnRyb2xsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5lc3RlZEFwcEF1dGhDb250cm9sbGVyLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJERUZBVUxUX0NSWVBUT19JTVBMRU1FTlRBVElPTiIsImJ1aWxkU3RhdGljQXV0aG9yaXR5T3B0aW9ucyIsIlBlcmZvcm1hbmNlRXZlbnRzIiwiVGltZVV0aWxzIiwiT0lEQ19ERUZBVUxUX1NDT1BFUyIsIkFjY291bnRFbnRpdHkiLCJJbnRlcmFjdGlvblR5cGUiLCJDYWNoZUxvb2t1cFBvbGljeSIsIkRFRkFVTFRfUkVRVUVTVCIsIkNyeXB0b09wcyIsIk5lc3RlZEFwcEF1dGhBZGFwdGVyIiwiTmVzdGVkQXBwQXV0aEVycm9yIiwiRXZlbnRIYW5kbGVyIiwiRXZlbnRUeXBlIiwiQnJvd3NlckNhY2hlTWFuYWdlciIsIkRFRkFVTFRfQlJPV1NFUl9DQUNIRV9NQU5BR0VSIiwiZ2V0QWNjb3VudCIsInNldEFjdGl2ZUFjY291bnQiLCJnZXRBbGxBY2NvdW50cyIsImdldEFjY291bnRCeVVzZXJuYW1lIiwiZ2V0QWNjb3VudEJ5SG9tZUlkIiwiZ2V0QWNjb3VudEJ5TG9jYWxJZCIsImdldEFjdGl2ZUFjY291bnQiLCJOZXN0ZWRBcHBBdXRoQ29udHJvbGxlciIsImNvbnN0cnVjdG9yIiwib3BlcmF0aW5nQ29udGV4dCIsInByb3h5IiwiZ2V0QnJpZGdlUHJveHkiLCJ1bmRlZmluZWQiLCJicmlkZ2VQcm94eSIsIkVycm9yIiwiY29uZmlnIiwiZ2V0Q29uZmlnIiwibG9nZ2VyIiwiZ2V0TG9nZ2VyIiwicGVyZm9ybWFuY2VDbGllbnQiLCJ0ZWxlbWV0cnkiLCJjbGllbnQiLCJicm93c2VyQ3J5cHRvIiwiaXNCcm93c2VyRW52aXJvbm1lbnQiLCJicm93c2VyU3RvcmFnZSIsImF1dGgiLCJjbGllbnRJZCIsImNhY2hlIiwiZXZlbnRIYW5kbGVyIiwibmVzdGVkQXBwQXV0aEFkYXB0ZXIiLCJjbGllbnRDYXBhYmlsaXRpZXMiLCJhY2NvdW50Q29udGV4dCIsImdldEFjY291bnRDb250ZXh0IiwiY2FjaGVkQWNjb3VudCIsImNyZWF0ZUNvbnRyb2xsZXIiLCJjb250cm9sbGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpbml0aWFsaXplIiwiZW5zdXJlVmFsaWRSZXF1ZXN0IiwicmVxdWVzdCIsImNvcnJlbGF0aW9uSWQiLCJjcmVhdGVOZXdHdWlkIiwiYWNxdWlyZVRva2VuSW50ZXJhY3RpdmUiLCJ2YWxpZFJlcXVlc3QiLCJlbWl0RXZlbnQiLCJBQ1FVSVJFX1RPS0VOX1NUQVJUIiwiUG9wdXAiLCJhdFBvcHVwTWVhc3VyZW1lbnQiLCJzdGFydE1lYXN1cmVtZW50IiwiQWNxdWlyZVRva2VuUG9wdXAiLCJhZGQiLCJuZXN0ZWRBcHBBdXRoUmVxdWVzdCIsIm5hYVJlcXVlc3QiLCJ0b05hYVRva2VuUmVxdWVzdCIsInJlcVRpbWVzdGFtcCIsIm5vd1NlY29uZHMiLCJyZXNwb25zZSIsImdldFRva2VuSW50ZXJhY3RpdmUiLCJyZXN1bHQiLCJmcm9tTmFhVG9rZW5SZXNwb25zZSIsImh5ZHJhdGVDYWNoZSIsImFjY291bnQiLCJBQ1FVSVJFX1RPS0VOX1NVQ0NFU1MiLCJhY2Nlc3NUb2tlblNpemUiLCJhY2Nlc3NUb2tlbiIsImxlbmd0aCIsImlkVG9rZW5TaXplIiwiaWRUb2tlbiIsImVuZCIsInN1Y2Nlc3MiLCJyZXF1ZXN0SWQiLCJlIiwiZXJyb3IiLCJmcm9tQnJpZGdlRXJyb3IiLCJBQ1FVSVJFX1RPS0VOX0ZBSUxVUkUiLCJhY3F1aXJlVG9rZW5TaWxlbnRJbnRlcm5hbCIsIlNpbGVudCIsImFjcXVpcmVUb2tlbkZyb21DYWNoZSIsInNzb1NpbGVudE1lYXN1cmVtZW50IiwiU3NvU2lsZW50IiwiaW5jcmVtZW50IiwidmlzaWJpbGl0eUNoYW5nZUNvdW50IiwiZ2V0VG9rZW5TaWxlbnQiLCJhdHNNZWFzdXJlbWVudCIsIkFjcXVpcmVUb2tlblNpbGVudCIsImNsYWltcyIsInZlcmJvc2UiLCJjYWNoZUxvb2t1cFBvbGljeSIsIkRlZmF1bHQiLCJBY2Nlc3NUb2tlbiIsIkFjY2Vzc1Rva2VuQW5kUmVmcmVzaFRva2VuIiwiYWNxdWlyZVRva2VuRnJvbUNhY2hlSW50ZXJuYWwiLCJjdXJyZW50QWNjb3VudCIsImh1YkFjY291bnQiLCJhdXRoUmVxdWVzdCIsImF1dGhvcml0eSIsImVudmlyb25tZW50Iiwic2NvcGVzIiwidG9rZW5LZXlzIiwiZ2V0VG9rZW5LZXlzIiwiY2FjaGVkQWNjZXNzVG9rZW4iLCJnZXRBY2Nlc3NUb2tlbiIsInRlbmFudElkIiwid2FzQ2xvY2tUdXJuZWRCYWNrIiwiY2FjaGVkQXQiLCJpc1Rva2VuRXhwaXJlZCIsImV4cGlyZXNPbiIsInN5c3RlbSIsInRva2VuUmVuZXdhbE9mZnNldFNlY29uZHMiLCJjYWNoZWRJZFRva2VuIiwiZ2V0SWRUb2tlbiIsInRvQXV0aGVudGljYXRpb25SZXN1bHRGcm9tQ2FjaGUiLCJhY3F1aXJlVG9rZW5Qb3B1cCIsImFjcXVpcmVUb2tlblJlZGlyZWN0IiwiY3JlYXRlVW5zdXBwb3J0ZWRFcnJvciIsImFjcXVpcmVUb2tlblNpbGVudCIsInNpbGVudFJlcXVlc3QiLCJhY3F1aXJlVG9rZW5CeUNvZGUiLCJhY3F1aXJlVG9rZW5OYXRpdmUiLCJhcGlJZCIsImFjY291bnRJZCIsImFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuIiwiY29tbW9uUmVxdWVzdCIsImFkZEV2ZW50Q2FsbGJhY2siLCJjYWxsYmFjayIsImV2ZW50VHlwZXMiLCJyZW1vdmVFdmVudENhbGxiYWNrIiwiY2FsbGJhY2tJZCIsImFkZFBlcmZvcm1hbmNlQ2FsbGJhY2siLCJyZW1vdmVQZXJmb3JtYW5jZUNhbGxiYWNrIiwiZW5hYmxlQWNjb3VudFN0b3JhZ2VFdmVudHMiLCJkaXNhYmxlQWNjb3VudFN0b3JhZ2VFdmVudHMiLCJhY2NvdW50RmlsdGVyIiwiaXNCcm93c2VyRW52IiwidXNlcm5hbWUiLCJob21lQWNjb3VudElkIiwibG9jYWxBY2NvdW50SWQiLCJoYW5kbGVSZWRpcmVjdFByb21pc2UiLCJoYXNoIiwibG9naW5Qb3B1cCIsImxvZ2luUmVkaXJlY3QiLCJsb2dvdXQiLCJsb2dvdXRSZXF1ZXN0IiwibG9nb3V0UmVkaXJlY3QiLCJsb2dvdXRQb3B1cCIsInNzb1NpbGVudCIsImdldFRva2VuQ2FjaGUiLCJzZXRMb2dnZXIiLCJpbml0aWFsaXplV3JhcHBlckxpYnJhcnkiLCJza3UiLCJ2ZXJzaW9uIiwic2V0TmF2aWdhdGlvbkNsaWVudCIsIm5hdmlnYXRpb25DbGllbnQiLCJ3YXJuaW5nIiwiZ2V0Q29uZmlndXJhdGlvbiIsImdldEJyb3dzZXJDcnlwdG8iLCJnZXRQZXJmb3JtYW5jZUNsaWVudCIsImdldFJlZGlyZWN0UmVzcG9uc2UiLCJjbGVhckNhY2hlIiwiYWNjb3VudEVudGl0eSIsImNyZWF0ZUZyb21BY2NvdW50SW5mbyIsImNsb3VkR3JhcGhIb3N0TmFtZSIsIm1zR3JhcGhIb3N0Iiwic2V0QWNjb3VudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/controllers/NestedAppAuthController.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/controllers/StandardController.mjs":
/*!**********************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/controllers/StandardController.mjs ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StandardController: () => (/* binding */ StandardController)\n/* harmony export */ });\n/* harmony import */ var _crypto_CryptoOps_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../crypto/CryptoOps.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/crypto/CryptoOps.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/crypto/ICrypto.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/Authority.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/entities/AccountEntity.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/CacheManager.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs\");\n/* harmony import */ var _cache_BrowserCacheManager_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../cache/BrowserCacheManager.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/cache/BrowserCacheManager.mjs\");\n/* harmony import */ var _cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../cache/AccountManager.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/cache/AccountManager.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/BrowserUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserUtils.mjs\");\n/* harmony import */ var _event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../event/EventType.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/event/EventType.mjs\");\n/* harmony import */ var _event_EventHandler_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../event/EventHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/event/EventHandler.mjs\");\n/* harmony import */ var _interaction_client_PopupClient_mjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../interaction_client/PopupClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/PopupClient.mjs\");\n/* harmony import */ var _interaction_client_RedirectClient_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../interaction_client/RedirectClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/RedirectClient.mjs\");\n/* harmony import */ var _interaction_client_SilentIframeClient_mjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../interaction_client/SilentIframeClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentIframeClient.mjs\");\n/* harmony import */ var _interaction_client_SilentRefreshClient_mjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../interaction_client/SilentRefreshClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentRefreshClient.mjs\");\n/* harmony import */ var _cache_TokenCache_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../cache/TokenCache.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/cache/TokenCache.mjs\");\n/* harmony import */ var _interaction_client_NativeInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../interaction_client/NativeInteractionClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/NativeInteractionClient.mjs\");\n/* harmony import */ var _broker_nativeBroker_NativeMessageHandler_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../broker/nativeBroker/NativeMessageHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/broker/nativeBroker/NativeMessageHandler.mjs\");\n/* harmony import */ var _error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../error/NativeAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/NativeAuthError.mjs\");\n/* harmony import */ var _interaction_client_SilentCacheClient_mjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../interaction_client/SilentCacheClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentCacheClient.mjs\");\n/* harmony import */ var _interaction_client_SilentAuthCodeClient_mjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../interaction_client/SilentAuthCodeClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentAuthCodeClient.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../crypto/BrowserCrypto.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/crypto/BrowserCrypto.mjs\");\n/* harmony import */ var _request_RequestHelpers_mjs__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ../request/RequestHelpers.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/request/RequestHelpers.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ function getAccountType(account) {\n    const idTokenClaims = account?.idTokenClaims;\n    if (idTokenClaims?.tfp || idTokenClaims?.acr) {\n        return \"B2C\";\n    }\n    if (!idTokenClaims?.tid) {\n        return undefined;\n    } else if (idTokenClaims?.tid === \"9188040d-6c67-4c5b-b112-36a304b66dad\") {\n        return \"MSA\";\n    }\n    return \"AAD\";\n}\nfunction preflightCheck(initialized, performanceEvent) {\n    try {\n        (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.preflightCheck)(initialized);\n    } catch (e) {\n        performanceEvent.end({\n            success: false\n        }, e);\n        throw e;\n    }\n}\nclass StandardController {\n    /**\r\n     * @constructor\r\n     * Constructor for the PublicClientApplication used to instantiate the PublicClientApplication object\r\n     *\r\n     * Important attributes in the Configuration object for auth are:\r\n     * - clientID: the application ID of your application. You can obtain one by registering your application with our Application registration portal : https://portal.azure.com/#blade/Microsoft_AAD_IAM/ActiveDirectoryMenuBlade/RegisteredAppsPreview\r\n     * - authority: the authority URL for your application.\r\n     * - redirect_uri: the uri of your application registered in the portal.\r\n     *\r\n     * In Azure AD, authority is a URL indicating the Azure active directory that MSAL uses to obtain tokens.\r\n     * It is of the form https://login.microsoftonline.com/{Enter_the_Tenant_Info_Here}\r\n     * If your application supports Accounts in one organizational directory, replace \"Enter_the_Tenant_Info_Here\" value with the Tenant Id or Tenant name (for example, contoso.microsoft.com).\r\n     * If your application supports Accounts in any organizational directory, replace \"Enter_the_Tenant_Info_Here\" value with organizations.\r\n     * If your application supports Accounts in any organizational directory and personal Microsoft accounts, replace \"Enter_the_Tenant_Info_Here\" value with common.\r\n     * To restrict support to Personal Microsoft accounts only, replace \"Enter_the_Tenant_Info_Here\" value with consumers.\r\n     *\r\n     * In Azure B2C, authority is of the form https://{instance}/tfp/{tenant}/{policyName}/\r\n     * Full B2C functionality will be available in this library in future versions.\r\n     *\r\n     * @param configuration Object for the MSAL PublicClientApplication instance\r\n     */ constructor(operatingContext){\n        this.operatingContext = operatingContext;\n        this.isBrowserEnvironment = this.operatingContext.isBrowserEnvironment();\n        // Set the configuration.\n        this.config = operatingContext.getConfig();\n        this.initialized = false;\n        // Initialize logger\n        this.logger = this.operatingContext.getLogger();\n        // Initialize the network module class.\n        this.networkClient = this.config.system.networkClient;\n        // Initialize the navigation client class.\n        this.navigationClient = this.config.system.navigationClient;\n        // Initialize redirectResponse Map\n        this.redirectResponse = new Map();\n        // Initial hybrid spa map\n        this.hybridAuthCodeResponses = new Map();\n        // Initialize performance client\n        this.performanceClient = this.config.telemetry.client;\n        // Initialize the crypto class.\n        this.browserCrypto = this.isBrowserEnvironment ? new _crypto_CryptoOps_mjs__WEBPACK_IMPORTED_MODULE_1__.CryptoOps(this.logger, this.performanceClient) : _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.DEFAULT_CRYPTO_IMPLEMENTATION;\n        this.eventHandler = new _event_EventHandler_mjs__WEBPACK_IMPORTED_MODULE_3__.EventHandler(this.logger);\n        // Initialize the browser storage class.\n        this.browserStorage = this.isBrowserEnvironment ? new _cache_BrowserCacheManager_mjs__WEBPACK_IMPORTED_MODULE_4__.BrowserCacheManager(this.config.auth.clientId, this.config.cache, this.browserCrypto, this.logger, (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.buildStaticAuthorityOptions)(this.config.auth), this.performanceClient) : (0,_cache_BrowserCacheManager_mjs__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_BROWSER_CACHE_MANAGER)(this.config.auth.clientId, this.logger);\n        // initialize in memory storage for native flows\n        const nativeCacheOptions = {\n            cacheLocation: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.BrowserCacheLocation.MemoryStorage,\n            temporaryCacheLocation: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.BrowserCacheLocation.MemoryStorage,\n            storeAuthStateInCookie: false,\n            secureCookies: false,\n            cacheMigrationEnabled: false,\n            claimsBasedCachingEnabled: false\n        };\n        this.nativeInternalStorage = new _cache_BrowserCacheManager_mjs__WEBPACK_IMPORTED_MODULE_4__.BrowserCacheManager(this.config.auth.clientId, nativeCacheOptions, this.browserCrypto, this.logger, undefined, this.performanceClient);\n        // Initialize the token cache\n        this.tokenCache = new _cache_TokenCache_mjs__WEBPACK_IMPORTED_MODULE_7__.TokenCache(this.config, this.browserStorage, this.logger, this.browserCrypto);\n        this.activeSilentTokenRequests = new Map();\n        // Register listener functions\n        this.trackPageVisibility = this.trackPageVisibility.bind(this);\n        // Register listener functions\n        this.trackPageVisibilityWithMeasurement = this.trackPageVisibilityWithMeasurement.bind(this);\n        // account storage events\n        this.listeningToStorageEvents = false;\n        this.handleAccountCacheChange = this.handleAccountCacheChange.bind(this);\n    }\n    static async createController(operatingContext, request) {\n        const controller = new StandardController(operatingContext);\n        await controller.initialize(request);\n        return controller;\n    }\n    trackPageVisibility(correlationId) {\n        if (!correlationId) {\n            return;\n        }\n        this.logger.info(\"Perf: Visibility change detected\");\n        this.performanceClient.incrementFields({\n            visibilityChangeCount: 1\n        }, correlationId);\n    }\n    /**\r\n     * Initializer function to perform async startup tasks such as connecting to WAM extension\r\n     * @param request {?InitializeApplicationRequest} correlation id\r\n     */ async initialize(request) {\n        this.logger.trace(\"initialize called\");\n        if (this.initialized) {\n            this.logger.info(\"initialize has already been called, exiting early.\");\n            return;\n        }\n        if (!this.isBrowserEnvironment) {\n            this.logger.info(\"in non-browser environment, exiting early.\");\n            this.initialized = true;\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.INITIALIZE_END);\n            return;\n        }\n        const initCorrelationId = request?.correlationId || this.getRequestCorrelationId();\n        const allowNativeBroker = this.config.system.allowNativeBroker;\n        const initMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.InitializeClientApplication, initCorrelationId);\n        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.INITIALIZE_START);\n        if (allowNativeBroker) {\n            try {\n                this.nativeExtensionProvider = await _broker_nativeBroker_NativeMessageHandler_mjs__WEBPACK_IMPORTED_MODULE_10__.NativeMessageHandler.createProvider(this.logger, this.config.system.nativeBrokerHandshakeTimeout, this.performanceClient);\n            } catch (e) {\n                this.logger.verbose(e);\n            }\n        }\n        if (!this.config.cache.claimsBasedCachingEnabled) {\n            this.logger.verbose(\"Claims-based caching is disabled. Clearing the previous cache with claims\");\n            await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.invokeAsync)(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.ClearTokensAndKeysWithClaims, this.logger, this.performanceClient, initCorrelationId)(this.performanceClient, initCorrelationId);\n        }\n        this.initialized = true;\n        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.INITIALIZE_END);\n        initMeasurement.end({\n            allowNativeBroker,\n            success: true\n        });\n    }\n    // #region Redirect Flow\n    /**\r\n     * Event handler function which allows users to fire events after the PublicClientApplication object\r\n     * has loaded during redirect flows. This should be invoked on all page loads involved in redirect\r\n     * auth flows.\r\n     * @param hash Hash to process. Defaults to the current value of window.location.hash. Only needs to be provided explicitly if the response to be handled is not contained in the current value.\r\n     * @returns Token response or null. If the return value is null, then no auth redirect was detected.\r\n     */ async handleRedirectPromise(hash) {\n        this.logger.verbose(\"handleRedirectPromise called\");\n        // Block token acquisition before initialize has been called\n        (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.blockAPICallsBeforeInitialize)(this.initialized);\n        if (this.isBrowserEnvironment) {\n            /**\r\n             * Store the promise on the PublicClientApplication instance if this is the first invocation of handleRedirectPromise,\r\n             * otherwise return the promise from the first invocation. Prevents race conditions when handleRedirectPromise is called\r\n             * several times concurrently.\r\n             */ const redirectResponseKey = hash || \"\";\n            let response = this.redirectResponse.get(redirectResponseKey);\n            if (typeof response === \"undefined\") {\n                response = this.handleRedirectPromiseInternal(hash);\n                this.redirectResponse.set(redirectResponseKey, response);\n                this.logger.verbose(\"handleRedirectPromise has been called for the first time, storing the promise\");\n            } else {\n                this.logger.verbose(\"handleRedirectPromise has been called previously, returning the result from the first call\");\n            }\n            return response;\n        }\n        this.logger.verbose(\"handleRedirectPromise returns null, not browser environment\");\n        return null;\n    }\n    /**\r\n     * The internal details of handleRedirectPromise. This is separated out to a helper to allow handleRedirectPromise to memoize requests\r\n     * @param hash\r\n     * @returns\r\n     */ async handleRedirectPromiseInternal(hash) {\n        const loggedInAccounts = this.getAllAccounts();\n        const request = this.browserStorage.getCachedNativeRequest();\n        const useNative = request && _broker_nativeBroker_NativeMessageHandler_mjs__WEBPACK_IMPORTED_MODULE_10__.NativeMessageHandler.isNativeAvailable(this.config, this.logger, this.nativeExtensionProvider) && this.nativeExtensionProvider && !hash;\n        const correlationId = useNative ? request?.correlationId : this.browserStorage.getTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.TemporaryCacheKeys.CORRELATION_ID, true) || \"\";\n        const rootMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenRedirect, correlationId);\n        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.HANDLE_REDIRECT_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Redirect);\n        let redirectResponse;\n        if (useNative && this.nativeExtensionProvider) {\n            this.logger.trace(\"handleRedirectPromise - acquiring token from native platform\");\n            const nativeClient = new _interaction_client_NativeInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_12__.NativeInteractionClient(this.config, this.browserStorage, this.browserCrypto, this.logger, this.eventHandler, this.navigationClient, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.ApiId.handleRedirectPromise, this.performanceClient, this.nativeExtensionProvider, request.accountId, this.nativeInternalStorage, request.correlationId);\n            redirectResponse = (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.invokeAsync)(nativeClient.handleRedirectPromise.bind(nativeClient), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.HandleNativeRedirectPromiseMeasurement, this.logger, this.performanceClient, rootMeasurement.event.correlationId)(this.performanceClient, rootMeasurement.event.correlationId);\n        } else {\n            this.logger.trace(\"handleRedirectPromise - acquiring token from web flow\");\n            const redirectClient = this.createRedirectClient(correlationId);\n            redirectResponse = (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.invokeAsync)(redirectClient.handleRedirectPromise.bind(redirectClient), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.HandleRedirectPromiseMeasurement, this.logger, this.performanceClient, rootMeasurement.event.correlationId)(hash, rootMeasurement);\n        }\n        return redirectResponse.then((result)=>{\n            if (result) {\n                // Emit login event if number of accounts change\n                const isLoggingIn = loggedInAccounts.length < this.getAllAccounts().length;\n                if (isLoggingIn) {\n                    this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGIN_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Redirect, result);\n                    this.logger.verbose(\"handleRedirectResponse returned result, login success\");\n                } else {\n                    this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Redirect, result);\n                    this.logger.verbose(\"handleRedirectResponse returned result, acquire token success\");\n                }\n                rootMeasurement.end({\n                    success: true,\n                    accountType: getAccountType(result.account)\n                });\n            } else {\n                /*\r\n                 * Instrument an event only if an error code is set. Otherwise, discard it when the redirect response\r\n                 * is empty and the error code is missing.\r\n                 */ if (rootMeasurement.event.errorCode) {\n                    rootMeasurement.end({\n                        success: false\n                    });\n                } else {\n                    rootMeasurement.discard();\n                }\n            }\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.HANDLE_REDIRECT_END, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Redirect);\n            return result;\n        }).catch((e)=>{\n            const eventError = e;\n            // Emit login event if there is an account\n            if (loggedInAccounts.length > 0) {\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Redirect, null, eventError);\n            } else {\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGIN_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Redirect, null, eventError);\n            }\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.HANDLE_REDIRECT_END, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Redirect);\n            rootMeasurement.end({\n                success: false\n            }, eventError);\n            throw e;\n        });\n    }\n    /**\r\n     * Use when you want to obtain an access_token for your API by redirecting the user's browser window to the authorization endpoint. This function redirects\r\n     * the page, so any code that follows this function will not execute.\r\n     *\r\n     * IMPORTANT: It is NOT recommended to have code that is dependent on the resolution of the Promise. This function will navigate away from the current\r\n     * browser window. It currently returns a Promise in order to reflect the asynchronous nature of the code running in this function.\r\n     *\r\n     * @param request\r\n     */ async acquireTokenRedirect(request) {\n        // Preflight request\n        const correlationId = this.getRequestCorrelationId(request);\n        this.logger.verbose(\"acquireTokenRedirect called\", correlationId);\n        const atrMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenPreRedirect, correlationId);\n        atrMeasurement.add({\n            accountType: getAccountType(request.account),\n            scenarioId: request.scenarioId\n        });\n        // Override on request only if set, as onRedirectNavigate field is deprecated\n        const onRedirectNavigateCb = request.onRedirectNavigate;\n        if (onRedirectNavigateCb) {\n            request.onRedirectNavigate = (url)=>{\n                const navigate = typeof onRedirectNavigateCb === \"function\" ? onRedirectNavigateCb(url) : undefined;\n                if (navigate !== false) {\n                    atrMeasurement.end({\n                        success: true\n                    });\n                } else {\n                    atrMeasurement.discard();\n                }\n                return navigate;\n            };\n        } else {\n            const configOnRedirectNavigateCb = this.config.auth.onRedirectNavigate;\n            this.config.auth.onRedirectNavigate = (url)=>{\n                const navigate = typeof configOnRedirectNavigateCb === \"function\" ? configOnRedirectNavigateCb(url) : undefined;\n                if (navigate !== false) {\n                    atrMeasurement.end({\n                        success: true\n                    });\n                } else {\n                    atrMeasurement.discard();\n                }\n                return navigate;\n            };\n        }\n        // If logged in, emit acquire token events\n        const isLoggedIn = this.getAllAccounts().length > 0;\n        try {\n            (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.redirectPreflightCheck)(this.initialized, this.config);\n            this.browserStorage.setInteractionInProgress(true);\n            if (isLoggedIn) {\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Redirect, request);\n            } else {\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGIN_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Redirect, request);\n            }\n            let result;\n            if (this.nativeExtensionProvider && this.canUseNative(request)) {\n                const nativeClient = new _interaction_client_NativeInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_12__.NativeInteractionClient(this.config, this.browserStorage, this.browserCrypto, this.logger, this.eventHandler, this.navigationClient, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.ApiId.acquireTokenRedirect, this.performanceClient, this.nativeExtensionProvider, this.getNativeAccountId(request), this.nativeInternalStorage, correlationId);\n                result = nativeClient.acquireTokenRedirect(request, atrMeasurement).catch((e)=>{\n                    if (e instanceof _error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.NativeAuthError && (0,_error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.isFatalNativeAuthError)(e)) {\n                        this.nativeExtensionProvider = undefined; // If extension gets uninstalled during session prevent future requests from continuing to attempt\n                        const redirectClient = this.createRedirectClient(correlationId);\n                        return redirectClient.acquireToken(request);\n                    } else if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_14__.InteractionRequiredAuthError) {\n                        this.logger.verbose(\"acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow\");\n                        const redirectClient = this.createRedirectClient(correlationId);\n                        return redirectClient.acquireToken(request);\n                    }\n                    this.browserStorage.setInteractionInProgress(false);\n                    throw e;\n                });\n            } else {\n                const redirectClient = this.createRedirectClient(correlationId);\n                result = redirectClient.acquireToken(request);\n            }\n            return await result;\n        } catch (e) {\n            atrMeasurement.end({\n                success: false\n            }, e);\n            if (isLoggedIn) {\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Redirect, null, e);\n            } else {\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGIN_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Redirect, null, e);\n            }\n            throw e;\n        }\n    }\n    // #endregion\n    // #region Popup Flow\n    /**\r\n     * Use when you want to obtain an access_token for your API via opening a popup window in the user's browser\r\n     *\r\n     * @param request\r\n     *\r\n     * @returns A promise that is fulfilled when this function has completed, or rejected if an error was raised.\r\n     */ acquireTokenPopup(request) {\n        const correlationId = this.getRequestCorrelationId(request);\n        const atPopupMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenPopup, correlationId);\n        atPopupMeasurement.add({\n            scenarioId: request.scenarioId,\n            accountType: getAccountType(request.account)\n        });\n        try {\n            this.logger.verbose(\"acquireTokenPopup called\", correlationId);\n            preflightCheck(this.initialized, atPopupMeasurement);\n            this.browserStorage.setInteractionInProgress(true);\n        } catch (e) {\n            // Since this function is syncronous we need to reject\n            return Promise.reject(e);\n        }\n        // If logged in, emit acquire token events\n        const loggedInAccounts = this.getAllAccounts();\n        if (loggedInAccounts.length > 0) {\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Popup, request);\n        } else {\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGIN_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Popup, request);\n        }\n        let result;\n        if (this.canUseNative(request)) {\n            result = this.acquireTokenNative({\n                ...request,\n                correlationId\n            }, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.ApiId.acquireTokenPopup).then((response)=>{\n                this.browserStorage.setInteractionInProgress(false);\n                atPopupMeasurement.end({\n                    success: true,\n                    isNativeBroker: true,\n                    accountType: getAccountType(response.account)\n                });\n                return response;\n            }).catch((e)=>{\n                if (e instanceof _error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.NativeAuthError && (0,_error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.isFatalNativeAuthError)(e)) {\n                    this.nativeExtensionProvider = undefined; // If extension gets uninstalled during session prevent future requests from continuing to attempt\n                    const popupClient = this.createPopupClient(correlationId);\n                    return popupClient.acquireToken(request);\n                } else if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_14__.InteractionRequiredAuthError) {\n                    this.logger.verbose(\"acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow\");\n                    const popupClient = this.createPopupClient(correlationId);\n                    return popupClient.acquireToken(request);\n                }\n                this.browserStorage.setInteractionInProgress(false);\n                throw e;\n            });\n        } else {\n            const popupClient = this.createPopupClient(correlationId);\n            result = popupClient.acquireToken(request);\n        }\n        return result.then((result)=>{\n            /*\r\n             *  If logged in, emit acquire token events\r\n             */ const isLoggingIn = loggedInAccounts.length < this.getAllAccounts().length;\n            if (isLoggingIn) {\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGIN_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Popup, result);\n            } else {\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Popup, result);\n            }\n            atPopupMeasurement.end({\n                success: true,\n                accessTokenSize: result.accessToken.length,\n                idTokenSize: result.idToken.length,\n                accountType: getAccountType(result.account)\n            });\n            return result;\n        }).catch((e)=>{\n            if (loggedInAccounts.length > 0) {\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Popup, null, e);\n            } else {\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGIN_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Popup, null, e);\n            }\n            atPopupMeasurement.end({\n                success: false\n            }, e);\n            // Since this function is syncronous we need to reject\n            return Promise.reject(e);\n        });\n    }\n    trackPageVisibilityWithMeasurement() {\n        const measurement = this.ssoSilentMeasurement || this.acquireTokenByCodeAsyncMeasurement;\n        if (!measurement) {\n            return;\n        }\n        this.logger.info(\"Perf: Visibility change detected in \", measurement.event.name);\n        measurement.increment({\n            visibilityChangeCount: 1\n        });\n    }\n    // #endregion\n    // #region Silent Flow\n    /**\r\n     * This function uses a hidden iframe to fetch an authorization code from the eSTS. There are cases where this may not work:\r\n     * - Any browser using a form of Intelligent Tracking Prevention\r\n     * - If there is not an established session with the service\r\n     *\r\n     * In these cases, the request must be done inside a popup or full frame redirect.\r\n     *\r\n     * For the cases where interaction is required, you cannot send a request with prompt=none.\r\n     *\r\n     * If your refresh token has expired, you can use this function to fetch a new set of tokens silently as long as\r\n     * you session on the server still exists.\r\n     * @param request {@link SsoSilentRequest}\r\n     *\r\n     * @returns A promise that is fulfilled when this function has completed, or rejected if an error was raised.\r\n     */ async ssoSilent(request) {\n        const correlationId = this.getRequestCorrelationId(request);\n        const validRequest = {\n            ...request,\n            // will be PromptValue.NONE or PromptValue.NO_SESSION\n            prompt: request.prompt,\n            correlationId: correlationId\n        };\n        this.ssoSilentMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.SsoSilent, correlationId);\n        this.ssoSilentMeasurement?.add({\n            scenarioId: request.scenarioId,\n            accountType: getAccountType(request.account)\n        });\n        preflightCheck(this.initialized, this.ssoSilentMeasurement);\n        this.ssoSilentMeasurement?.increment({\n            visibilityChangeCount: 0\n        });\n        document.addEventListener(\"visibilitychange\", this.trackPageVisibilityWithMeasurement);\n        this.logger.verbose(\"ssoSilent called\", correlationId);\n        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.SSO_SILENT_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Silent, validRequest);\n        let result;\n        if (this.canUseNative(validRequest)) {\n            result = this.acquireTokenNative(validRequest, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.ApiId.ssoSilent).catch((e)=>{\n                // If native token acquisition fails for availability reasons fallback to standard flow\n                if (e instanceof _error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.NativeAuthError && (0,_error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.isFatalNativeAuthError)(e)) {\n                    this.nativeExtensionProvider = undefined; // If extension gets uninstalled during session prevent future requests from continuing to attempt\n                    const silentIframeClient = this.createSilentIframeClient(validRequest.correlationId);\n                    return silentIframeClient.acquireToken(validRequest);\n                }\n                throw e;\n            });\n        } else {\n            const silentIframeClient = this.createSilentIframeClient(validRequest.correlationId);\n            result = silentIframeClient.acquireToken(validRequest);\n        }\n        return result.then((response)=>{\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.SSO_SILENT_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Silent, response);\n            this.ssoSilentMeasurement?.end({\n                success: true,\n                isNativeBroker: response.fromNativeBroker,\n                accessTokenSize: response.accessToken.length,\n                idTokenSize: response.idToken.length,\n                accountType: getAccountType(response.account)\n            });\n            return response;\n        }).catch((e)=>{\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.SSO_SILENT_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Silent, null, e);\n            this.ssoSilentMeasurement?.end({\n                success: false\n            }, e);\n            throw e;\n        }).finally(()=>{\n            document.removeEventListener(\"visibilitychange\", this.trackPageVisibilityWithMeasurement);\n        });\n    }\n    /**\r\n     * This function redeems an authorization code (passed as code) from the eSTS token endpoint.\r\n     * This authorization code should be acquired server-side using a confidential client to acquire a spa_code.\r\n     * This API is not indended for normal authorization code acquisition and redemption.\r\n     *\r\n     * Redemption of this authorization code will not require PKCE, as it was acquired by a confidential client.\r\n     *\r\n     * @param request {@link AuthorizationCodeRequest}\r\n     * @returns A promise that is fulfilled when this function has completed, or rejected if an error was raised.\r\n     */ async acquireTokenByCode(request) {\n        const correlationId = this.getRequestCorrelationId(request);\n        this.logger.trace(\"acquireTokenByCode called\", correlationId);\n        const atbcMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenByCode, correlationId);\n        preflightCheck(this.initialized, atbcMeasurement);\n        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_BY_CODE_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Silent, request);\n        atbcMeasurement.add({\n            scenarioId: request.scenarioId\n        });\n        try {\n            if (request.code && request.nativeAccountId) {\n                // Throw error in case server returns both spa_code and spa_accountid in exchange for auth code.\n                throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_15__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_16__.spaCodeAndNativeAccountIdPresent);\n            } else if (request.code) {\n                const hybridAuthCode = request.code;\n                let response = this.hybridAuthCodeResponses.get(hybridAuthCode);\n                if (!response) {\n                    this.logger.verbose(\"Initiating new acquireTokenByCode request\", correlationId);\n                    response = this.acquireTokenByCodeAsync({\n                        ...request,\n                        correlationId\n                    }).then((result)=>{\n                        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_BY_CODE_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Silent, result);\n                        this.hybridAuthCodeResponses.delete(hybridAuthCode);\n                        atbcMeasurement.end({\n                            success: true,\n                            isNativeBroker: result.fromNativeBroker,\n                            accessTokenSize: result.accessToken.length,\n                            idTokenSize: result.idToken.length,\n                            accountType: getAccountType(result.account)\n                        });\n                        return result;\n                    }).catch((error)=>{\n                        this.hybridAuthCodeResponses.delete(hybridAuthCode);\n                        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_BY_CODE_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Silent, null, error);\n                        atbcMeasurement.end({\n                            success: false\n                        }, error);\n                        throw error;\n                    });\n                    this.hybridAuthCodeResponses.set(hybridAuthCode, response);\n                } else {\n                    this.logger.verbose(\"Existing acquireTokenByCode request found\", correlationId);\n                    atbcMeasurement.discard();\n                }\n                return await response;\n            } else if (request.nativeAccountId) {\n                if (this.canUseNative(request, request.nativeAccountId)) {\n                    const result = await this.acquireTokenNative({\n                        ...request,\n                        correlationId\n                    }, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.ApiId.acquireTokenByCode, request.nativeAccountId).catch((e)=>{\n                        // If native token acquisition fails for availability reasons fallback to standard flow\n                        if (e instanceof _error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.NativeAuthError && (0,_error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.isFatalNativeAuthError)(e)) {\n                            this.nativeExtensionProvider = undefined; // If extension gets uninstalled during session prevent future requests from continuing to attempt\n                        }\n                        throw e;\n                    });\n                    atbcMeasurement.end({\n                        accountType: getAccountType(result.account),\n                        success: true\n                    });\n                    return result;\n                } else {\n                    throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_15__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_16__.unableToAcquireTokenFromNativePlatform);\n                }\n            } else {\n                throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_15__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_16__.authCodeOrNativeAccountIdRequired);\n            }\n        } catch (e) {\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_BY_CODE_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Silent, null, e);\n            atbcMeasurement.end({\n                success: false\n            }, e);\n            throw e;\n        }\n    }\n    /**\r\n     * Creates a SilentAuthCodeClient to redeem an authorization code.\r\n     * @param request\r\n     * @returns Result of the operation to redeem the authorization code\r\n     */ async acquireTokenByCodeAsync(request) {\n        this.logger.trace(\"acquireTokenByCodeAsync called\", request.correlationId);\n        this.acquireTokenByCodeAsyncMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenByCodeAsync, request.correlationId);\n        this.acquireTokenByCodeAsyncMeasurement?.increment({\n            visibilityChangeCount: 0\n        });\n        document.addEventListener(\"visibilitychange\", this.trackPageVisibilityWithMeasurement);\n        const silentAuthCodeClient = this.createSilentAuthCodeClient(request.correlationId);\n        const silentTokenResult = await silentAuthCodeClient.acquireToken(request).then((response)=>{\n            this.acquireTokenByCodeAsyncMeasurement?.end({\n                success: true,\n                fromCache: response.fromCache,\n                isNativeBroker: response.fromNativeBroker\n            });\n            return response;\n        }).catch((tokenRenewalError)=>{\n            this.acquireTokenByCodeAsyncMeasurement?.end({\n                success: false\n            }, tokenRenewalError);\n            throw tokenRenewalError;\n        }).finally(()=>{\n            document.removeEventListener(\"visibilitychange\", this.trackPageVisibilityWithMeasurement);\n        });\n        return silentTokenResult;\n    }\n    /**\r\n     * Attempt to acquire an access token from the cache\r\n     * @param silentCacheClient SilentCacheClient\r\n     * @param commonRequest CommonSilentFlowRequest\r\n     * @param silentRequest SilentRequest\r\n     * @returns A promise that, when resolved, returns the access token\r\n     */ async acquireTokenFromCache(commonRequest, cacheLookupPolicy) {\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenFromCache, commonRequest.correlationId);\n        switch(cacheLookupPolicy){\n            case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.CacheLookupPolicy.Default:\n            case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.CacheLookupPolicy.AccessToken:\n            case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.CacheLookupPolicy.AccessTokenAndRefreshToken:\n                const silentCacheClient = this.createSilentCacheClient(commonRequest.correlationId);\n                return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.invokeAsync)(silentCacheClient.acquireToken.bind(silentCacheClient), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.SilentCacheClientAcquireToken, this.logger, this.performanceClient, commonRequest.correlationId)(commonRequest);\n            default:\n                throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.createClientAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_18__.tokenRefreshRequired);\n        }\n    }\n    /**\r\n     * Attempt to acquire an access token via a refresh token\r\n     * @param commonRequest CommonSilentFlowRequest\r\n     * @param cacheLookupPolicy CacheLookupPolicy\r\n     * @returns A promise that, when resolved, returns the access token\r\n     */ async acquireTokenByRefreshToken(commonRequest, cacheLookupPolicy) {\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenByRefreshToken, commonRequest.correlationId);\n        switch(cacheLookupPolicy){\n            case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.CacheLookupPolicy.Default:\n            case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.CacheLookupPolicy.AccessTokenAndRefreshToken:\n            case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.CacheLookupPolicy.RefreshToken:\n            case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.CacheLookupPolicy.RefreshTokenAndNetwork:\n                const silentRefreshClient = this.createSilentRefreshClient(commonRequest.correlationId);\n                return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.invokeAsync)(silentRefreshClient.acquireToken.bind(silentRefreshClient), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.SilentRefreshClientAcquireToken, this.logger, this.performanceClient, commonRequest.correlationId)(commonRequest);\n            default:\n                throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.createClientAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_18__.tokenRefreshRequired);\n        }\n    }\n    /**\r\n     * Attempt to acquire an access token via an iframe\r\n     * @param request CommonSilentFlowRequest\r\n     * @returns A promise that, when resolved, returns the access token\r\n     */ async acquireTokenBySilentIframe(request) {\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenBySilentIframe, request.correlationId);\n        const silentIframeClient = this.createSilentIframeClient(request.correlationId);\n        return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.invokeAsync)(silentIframeClient.acquireToken.bind(silentIframeClient), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.SilentIframeClientAcquireToken, this.logger, this.performanceClient, request.correlationId)(request);\n    }\n    // #endregion\n    // #region Logout\n    /**\r\n     * Deprecated logout function. Use logoutRedirect or logoutPopup instead\r\n     * @param logoutRequest\r\n     * @deprecated\r\n     */ async logout(logoutRequest) {\n        const correlationId = this.getRequestCorrelationId(logoutRequest);\n        this.logger.warning(\"logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.\", correlationId);\n        return this.logoutRedirect({\n            correlationId,\n            ...logoutRequest\n        });\n    }\n    /**\r\n     * Use to log out the current user, and redirect the user to the postLogoutRedirectUri.\r\n     * Default behaviour is to redirect the user to `window.location.href`.\r\n     * @param logoutRequest\r\n     */ async logoutRedirect(logoutRequest) {\n        const correlationId = this.getRequestCorrelationId(logoutRequest);\n        (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.redirectPreflightCheck)(this.initialized, this.config);\n        this.browserStorage.setInteractionInProgress(true);\n        const redirectClient = this.createRedirectClient(correlationId);\n        return redirectClient.logout(logoutRequest);\n    }\n    /**\r\n     * Clears local cache for the current user then opens a popup window prompting the user to sign-out of the server\r\n     * @param logoutRequest\r\n     */ logoutPopup(logoutRequest) {\n        try {\n            const correlationId = this.getRequestCorrelationId(logoutRequest);\n            (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.preflightCheck)(this.initialized);\n            this.browserStorage.setInteractionInProgress(true);\n            const popupClient = this.createPopupClient(correlationId);\n            return popupClient.logout(logoutRequest);\n        } catch (e) {\n            // Since this function is syncronous we need to reject\n            return Promise.reject(e);\n        }\n    }\n    /**\r\n     * Creates a cache interaction client to clear broswer cache.\r\n     * @param logoutRequest\r\n     */ async clearCache(logoutRequest) {\n        if (!this.isBrowserEnvironment) {\n            this.logger.info(\"in non-browser environment, returning early.\");\n            return;\n        }\n        const correlationId = this.getRequestCorrelationId(logoutRequest);\n        const cacheClient = this.createSilentCacheClient(correlationId);\n        return cacheClient.logout(logoutRequest);\n    }\n    // #endregion\n    // #region Account APIs\n    /**\r\n     * Returns all the accounts in the cache that match the optional filter. If no filter is provided, all accounts are returned.\r\n     * @param accountFilter - (Optional) filter to narrow down the accounts returned\r\n     * @returns Array of AccountInfo objects in cache\r\n     */ getAllAccounts(accountFilter) {\n        return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_19__.getAllAccounts)(this.logger, this.browserStorage, this.isBrowserEnvironment, accountFilter);\n    }\n    /**\r\n     * Returns the first account found in the cache that matches the account filter passed in.\r\n     * @param accountFilter\r\n     * @returns The first account found in the cache matching the provided filter or null if no account could be found.\r\n     */ getAccount(accountFilter) {\n        return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_19__.getAccount)(accountFilter, this.logger, this.browserStorage);\n    }\n    /**\r\n     * Returns the signed in account matching username.\r\n     * (the account object is created at the time of successful login)\r\n     * or null when no matching account is found.\r\n     * This API is provided for convenience but getAccountById should be used for best reliability\r\n     * @param username\r\n     * @returns The account object stored in MSAL\r\n     */ getAccountByUsername(username) {\n        return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_19__.getAccountByUsername)(username, this.logger, this.browserStorage);\n    }\n    /**\r\n     * Returns the signed in account matching homeAccountId.\r\n     * (the account object is created at the time of successful login)\r\n     * or null when no matching account is found\r\n     * @param homeAccountId\r\n     * @returns The account object stored in MSAL\r\n     */ getAccountByHomeId(homeAccountId) {\n        return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_19__.getAccountByHomeId)(homeAccountId, this.logger, this.browserStorage);\n    }\n    /**\r\n     * Returns the signed in account matching localAccountId.\r\n     * (the account object is created at the time of successful login)\r\n     * or null when no matching account is found\r\n     * @param localAccountId\r\n     * @returns The account object stored in MSAL\r\n     */ getAccountByLocalId(localAccountId) {\n        return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_19__.getAccountByLocalId)(localAccountId, this.logger, this.browserStorage);\n    }\n    /**\r\n     * Sets the account to use as the active account. If no account is passed to the acquireToken APIs, then MSAL will use this active account.\r\n     * @param account\r\n     */ setActiveAccount(account) {\n        (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_19__.setActiveAccount)(account, this.browserStorage);\n    }\n    /**\r\n     * Gets the currently active account\r\n     */ getActiveAccount() {\n        return (0,_cache_AccountManager_mjs__WEBPACK_IMPORTED_MODULE_19__.getActiveAccount)(this.browserStorage);\n    }\n    // #endregion\n    /**\r\n     * Hydrates the cache with the tokens from an AuthenticationResult\r\n     * @param result\r\n     * @param request\r\n     * @returns\r\n     */ async hydrateCache(result, request) {\n        this.logger.verbose(\"hydrateCache called\");\n        // Account gets saved to browser storage regardless of native or not\n        const accountEntity = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_20__.AccountEntity.createFromAccountInfo(result.account, result.cloudGraphHostName, result.msGraphHost);\n        this.browserStorage.setAccount(accountEntity);\n        if (result.fromNativeBroker) {\n            this.logger.verbose(\"Response was from native broker, storing in-memory\");\n            // Tokens from native broker are stored in-memory\n            return this.nativeInternalStorage.hydrateCache(result, request);\n        } else {\n            return this.browserStorage.hydrateCache(result, request);\n        }\n    }\n    // #region Helpers\n    /**\r\n     * Acquire a token from native device (e.g. WAM)\r\n     * @param request\r\n     */ async acquireTokenNative(request, apiId, accountId) {\n        this.logger.trace(\"acquireTokenNative called\");\n        if (!this.nativeExtensionProvider) {\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_15__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_16__.nativeConnectionNotEstablished);\n        }\n        const nativeClient = new _interaction_client_NativeInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_12__.NativeInteractionClient(this.config, this.browserStorage, this.browserCrypto, this.logger, this.eventHandler, this.navigationClient, apiId, this.performanceClient, this.nativeExtensionProvider, accountId || this.getNativeAccountId(request), this.nativeInternalStorage, request.correlationId);\n        return nativeClient.acquireToken(request);\n    }\n    /**\r\n     * Returns boolean indicating if this request can use the native broker\r\n     * @param request\r\n     */ canUseNative(request, accountId) {\n        this.logger.trace(\"canUseNative called\");\n        if (!_broker_nativeBroker_NativeMessageHandler_mjs__WEBPACK_IMPORTED_MODULE_10__.NativeMessageHandler.isNativeAvailable(this.config, this.logger, this.nativeExtensionProvider, request.authenticationScheme)) {\n            this.logger.trace(\"canUseNative: isNativeAvailable returned false, returning false\");\n            return false;\n        }\n        if (request.prompt) {\n            switch(request.prompt){\n                case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_21__.PromptValue.NONE:\n                case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_21__.PromptValue.CONSENT:\n                case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_21__.PromptValue.LOGIN:\n                    this.logger.trace(\"canUseNative: prompt is compatible with native flow\");\n                    break;\n                default:\n                    this.logger.trace(`canUseNative: prompt = ${request.prompt} is not compatible with native flow, returning false`);\n                    return false;\n            }\n        }\n        if (!accountId && !this.getNativeAccountId(request)) {\n            this.logger.trace(\"canUseNative: nativeAccountId is not available, returning false\");\n            return false;\n        }\n        return true;\n    }\n    /**\r\n     * Get the native accountId from the account\r\n     * @param request\r\n     * @returns\r\n     */ getNativeAccountId(request) {\n        const account = request.account || this.getAccount({\n            loginHint: request.loginHint,\n            sid: request.sid\n        }) || this.getActiveAccount();\n        return account && account.nativeAccountId || \"\";\n    }\n    /**\r\n     * Returns new instance of the Popup Interaction Client\r\n     * @param correlationId\r\n     */ createPopupClient(correlationId) {\n        return new _interaction_client_PopupClient_mjs__WEBPACK_IMPORTED_MODULE_22__.PopupClient(this.config, this.browserStorage, this.browserCrypto, this.logger, this.eventHandler, this.navigationClient, this.performanceClient, this.nativeInternalStorage, this.nativeExtensionProvider, correlationId);\n    }\n    /**\r\n     * Returns new instance of the Redirect Interaction Client\r\n     * @param correlationId\r\n     */ createRedirectClient(correlationId) {\n        return new _interaction_client_RedirectClient_mjs__WEBPACK_IMPORTED_MODULE_23__.RedirectClient(this.config, this.browserStorage, this.browserCrypto, this.logger, this.eventHandler, this.navigationClient, this.performanceClient, this.nativeInternalStorage, this.nativeExtensionProvider, correlationId);\n    }\n    /**\r\n     * Returns new instance of the Silent Iframe Interaction Client\r\n     * @param correlationId\r\n     */ createSilentIframeClient(correlationId) {\n        return new _interaction_client_SilentIframeClient_mjs__WEBPACK_IMPORTED_MODULE_24__.SilentIframeClient(this.config, this.browserStorage, this.browserCrypto, this.logger, this.eventHandler, this.navigationClient, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.ApiId.ssoSilent, this.performanceClient, this.nativeInternalStorage, this.nativeExtensionProvider, correlationId);\n    }\n    /**\r\n     * Returns new instance of the Silent Cache Interaction Client\r\n     */ createSilentCacheClient(correlationId) {\n        return new _interaction_client_SilentCacheClient_mjs__WEBPACK_IMPORTED_MODULE_25__.SilentCacheClient(this.config, this.browserStorage, this.browserCrypto, this.logger, this.eventHandler, this.navigationClient, this.performanceClient, this.nativeExtensionProvider, correlationId);\n    }\n    /**\r\n     * Returns new instance of the Silent Refresh Interaction Client\r\n     */ createSilentRefreshClient(correlationId) {\n        return new _interaction_client_SilentRefreshClient_mjs__WEBPACK_IMPORTED_MODULE_26__.SilentRefreshClient(this.config, this.browserStorage, this.browserCrypto, this.logger, this.eventHandler, this.navigationClient, this.performanceClient, this.nativeExtensionProvider, correlationId);\n    }\n    /**\r\n     * Returns new instance of the Silent AuthCode Interaction Client\r\n     */ createSilentAuthCodeClient(correlationId) {\n        return new _interaction_client_SilentAuthCodeClient_mjs__WEBPACK_IMPORTED_MODULE_27__.SilentAuthCodeClient(this.config, this.browserStorage, this.browserCrypto, this.logger, this.eventHandler, this.navigationClient, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.ApiId.acquireTokenByCode, this.performanceClient, this.nativeExtensionProvider, correlationId);\n    }\n    /**\r\n     * Adds event callbacks to array\r\n     * @param callback\r\n     */ addEventCallback(callback, eventTypes) {\n        return this.eventHandler.addEventCallback(callback, eventTypes);\n    }\n    /**\r\n     * Removes callback with provided id from callback array\r\n     * @param callbackId\r\n     */ removeEventCallback(callbackId) {\n        this.eventHandler.removeEventCallback(callbackId);\n    }\n    /**\r\n     * Registers a callback to receive performance events.\r\n     *\r\n     * @param {PerformanceCallbackFunction} callback\r\n     * @returns {string}\r\n     */ addPerformanceCallback(callback) {\n        (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.blockNonBrowserEnvironment)();\n        return this.performanceClient.addPerformanceCallback(callback);\n    }\n    /**\r\n     * Removes a callback registered with addPerformanceCallback.\r\n     *\r\n     * @param {string} callbackId\r\n     * @returns {boolean}\r\n     */ removePerformanceCallback(callbackId) {\n        return this.performanceClient.removePerformanceCallback(callbackId);\n    }\n    /**\r\n     * Adds event listener that emits an event when a user account is added or removed from localstorage in a different browser tab or window\r\n     */ enableAccountStorageEvents() {\n        if (true) {\n            return;\n        }\n        if (!this.listeningToStorageEvents) {\n            this.logger.verbose(\"Adding account storage listener.\");\n            this.listeningToStorageEvents = true;\n            window.addEventListener(\"storage\", this.handleAccountCacheChange);\n        } else {\n            this.logger.verbose(\"Account storage listener already registered.\");\n        }\n    }\n    /**\r\n     * Removes event listener that emits an event when a user account is added or removed from localstorage in a different browser tab or window\r\n     */ disableAccountStorageEvents() {\n        if (true) {\n            return;\n        }\n        if (this.listeningToStorageEvents) {\n            this.logger.verbose(\"Removing account storage listener.\");\n            window.removeEventListener(\"storage\", this.handleAccountCacheChange);\n            this.listeningToStorageEvents = false;\n        } else {\n            this.logger.verbose(\"No account storage listener registered.\");\n        }\n    }\n    /**\r\n     * Emit account added/removed events when cached accounts are changed in a different tab or frame\r\n     */ handleAccountCacheChange(e) {\n        try {\n            // Handle active account filter change\n            if (e.key?.includes(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_21__.PersistentCacheKeys.ACTIVE_ACCOUNT_FILTERS)) {\n                // This event has no payload, it only signals cross-tab app instances that the results of calling getActiveAccount() will have changed\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACTIVE_ACCOUNT_CHANGED);\n            }\n            // Handle account object change\n            const cacheValue = e.newValue || e.oldValue;\n            if (!cacheValue) {\n                return;\n            }\n            const parsedValue = JSON.parse(cacheValue);\n            if (typeof parsedValue !== \"object\" || !_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_20__.AccountEntity.isAccountEntity(parsedValue)) {\n                return;\n            }\n            const accountEntity = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_28__.CacheManager.toObject(new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_20__.AccountEntity(), parsedValue);\n            const accountInfo = accountEntity.getAccountInfo();\n            if (!e.oldValue && e.newValue) {\n                this.logger.info(\"Account was added to cache in a different window\");\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACCOUNT_ADDED, undefined, accountInfo);\n            } else if (!e.newValue && e.oldValue) {\n                this.logger.info(\"Account was removed from cache in a different window\");\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACCOUNT_REMOVED, undefined, accountInfo);\n            }\n        } catch (e) {\n            return;\n        }\n    }\n    /**\r\n     * Gets the token cache for the application.\r\n     */ getTokenCache() {\n        return this.tokenCache;\n    }\n    /**\r\n     * Returns the logger instance\r\n     */ getLogger() {\n        return this.logger;\n    }\n    /**\r\n     * Replaces the default logger set in configurations with new Logger with new configurations\r\n     * @param logger Logger instance\r\n     */ setLogger(logger) {\n        this.logger = logger;\n    }\n    /**\r\n     * Called by wrapper libraries (Angular & React) to set SKU and Version passed down to telemetry, logger, etc.\r\n     * @param sku\r\n     * @param version\r\n     */ initializeWrapperLibrary(sku, version) {\n        // Validate the SKU passed in is one we expect\n        this.browserStorage.setWrapperMetadata(sku, version);\n    }\n    /**\r\n     * Sets navigation client\r\n     * @param navigationClient\r\n     */ setNavigationClient(navigationClient) {\n        this.navigationClient = navigationClient;\n    }\n    /**\r\n     * Returns the configuration object\r\n     */ getConfiguration() {\n        return this.config;\n    }\n    /**\r\n     * Returns the performance client\r\n     */ getPerformanceClient() {\n        return this.performanceClient;\n    }\n    /**\r\n     * Returns the browser env indicator\r\n     */ isBrowserEnv() {\n        return this.isBrowserEnvironment;\n    }\n    /**\r\n     * Generates a correlation id for a request if none is provided.\r\n     *\r\n     * @protected\r\n     * @param {?Partial<BaseAuthRequest>} [request]\r\n     * @returns {string}\r\n     */ getRequestCorrelationId(request) {\n        if (request?.correlationId) {\n            return request.correlationId;\n        }\n        if (this.isBrowserEnvironment) {\n            return (0,_crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_29__.createNewGuid)();\n        }\n        /*\r\n         * Included for fallback for non-browser environments,\r\n         * and to ensure this method always returns a string.\r\n         */ return _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_21__.Constants.EMPTY_STRING;\n    }\n    // #endregion\n    /**\r\n     * Use when initiating the login process by redirecting the user's browser to the authorization endpoint. This function redirects the page, so\r\n     * any code that follows this function will not execute.\r\n     *\r\n     * IMPORTANT: It is NOT recommended to have code that is dependent on the resolution of the Promise. This function will navigate away from the current\r\n     * browser window. It currently returns a Promise in order to reflect the asynchronous nature of the code running in this function.\r\n     *\r\n     * @param request\r\n     */ async loginRedirect(request) {\n        const correlationId = this.getRequestCorrelationId(request);\n        this.logger.verbose(\"loginRedirect called\", correlationId);\n        return this.acquireTokenRedirect({\n            correlationId,\n            ...request || _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.DEFAULT_REQUEST\n        });\n    }\n    /**\r\n     * Use when initiating the login process via opening a popup window in the user's browser\r\n     *\r\n     * @param request\r\n     *\r\n     * @returns A promise that is fulfilled when this function has completed, or rejected if an error was raised.\r\n     */ loginPopup(request) {\n        const correlationId = this.getRequestCorrelationId(request);\n        this.logger.verbose(\"loginPopup called\", correlationId);\n        return this.acquireTokenPopup({\n            correlationId,\n            ...request || _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.DEFAULT_REQUEST\n        });\n    }\n    /**\r\n     * Silently acquire an access token for a given set of scopes. Returns currently processing promise if parallel requests are made.\r\n     *\r\n     * @param {@link (SilentRequest:type)}\r\n     * @returns {Promise.<AuthenticationResult>} - a promise that is fulfilled when this function has completed, or rejected if an error was raised. Returns the {@link AuthResponse} object\r\n     */ async acquireTokenSilent(request) {\n        const correlationId = this.getRequestCorrelationId(request);\n        const atsMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenSilent, correlationId);\n        atsMeasurement.add({\n            cacheLookupPolicy: request.cacheLookupPolicy,\n            scenarioId: request.scenarioId\n        });\n        preflightCheck(this.initialized, atsMeasurement);\n        this.logger.verbose(\"acquireTokenSilent called\", correlationId);\n        const account = request.account || this.getActiveAccount();\n        if (!account) {\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_15__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_16__.noAccountError);\n        }\n        atsMeasurement.add({\n            accountType: getAccountType(account)\n        });\n        const thumbprint = {\n            clientId: this.config.auth.clientId,\n            authority: request.authority || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_21__.Constants.EMPTY_STRING,\n            scopes: request.scopes,\n            homeAccountIdentifier: account.homeAccountId,\n            claims: request.claims,\n            authenticationScheme: request.authenticationScheme,\n            resourceRequestMethod: request.resourceRequestMethod,\n            resourceRequestUri: request.resourceRequestUri,\n            shrClaims: request.shrClaims,\n            sshKid: request.sshKid,\n            shrOptions: request.shrOptions\n        };\n        const silentRequestKey = JSON.stringify(thumbprint);\n        const cachedResponse = this.activeSilentTokenRequests.get(silentRequestKey);\n        if (typeof cachedResponse === \"undefined\") {\n            this.logger.verbose(\"acquireTokenSilent called for the first time, storing active request\", correlationId);\n            const response = (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.invokeAsync)(this.acquireTokenSilentAsync.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenSilentAsync, this.logger, this.performanceClient, correlationId)({\n                ...request,\n                correlationId\n            }, account).then((result)=>{\n                this.activeSilentTokenRequests.delete(silentRequestKey);\n                atsMeasurement.end({\n                    success: true,\n                    fromCache: result.fromCache,\n                    isNativeBroker: result.fromNativeBroker,\n                    cacheLookupPolicy: request.cacheLookupPolicy,\n                    accessTokenSize: result.accessToken.length,\n                    idTokenSize: result.idToken.length\n                });\n                return result;\n            }).catch((error)=>{\n                this.activeSilentTokenRequests.delete(silentRequestKey);\n                atsMeasurement.end({\n                    success: false\n                }, error);\n                throw error;\n            });\n            this.activeSilentTokenRequests.set(silentRequestKey, response);\n            return {\n                ...await response,\n                state: request.state\n            };\n        } else {\n            this.logger.verbose(\"acquireTokenSilent has been called previously, returning the result from the first call\", correlationId);\n            // Discard measurements for memoized calls, as they are usually only a couple of ms and will artificially deflate metrics\n            atsMeasurement.discard();\n            return {\n                ...await cachedResponse,\n                state: request.state\n            };\n        }\n    }\n    /**\r\n     * Silently acquire an access token for a given set of scopes. Will use cached token if available, otherwise will attempt to acquire a new token from the network via refresh token.\r\n     * @param {@link (SilentRequest:type)}\r\n     * @param {@link (AccountInfo:type)}\r\n     * @returns {Promise.<AuthenticationResult>} - a promise that is fulfilled when this function has completed, or rejected if an error was raised. Returns the {@link AuthResponse}\r\n     */ async acquireTokenSilentAsync(request, account) {\n        const trackPageVisibility = ()=>this.trackPageVisibility(request.correlationId);\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenSilentAsync, request.correlationId);\n        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Silent, request);\n        if (request.correlationId) {\n            this.performanceClient.incrementFields({\n                visibilityChangeCount: 0\n            }, request.correlationId);\n        }\n        document.addEventListener(\"visibilitychange\", trackPageVisibility);\n        const silentRequest = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.invokeAsync)(_request_RequestHelpers_mjs__WEBPACK_IMPORTED_MODULE_30__.initializeSilentRequest, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.InitializeSilentRequest, this.logger, this.performanceClient, request.correlationId)(request, account, this.config, this.performanceClient, this.logger);\n        const cacheLookupPolicy = request.cacheLookupPolicy || _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.CacheLookupPolicy.Default;\n        const result = this.acquireTokenSilentNoIframe(silentRequest, cacheLookupPolicy).catch(async (refreshTokenError)=>{\n            const shouldTryToResolveSilently = checkIfRefreshTokenErrorCanBeResolvedSilently(refreshTokenError, cacheLookupPolicy);\n            if (shouldTryToResolveSilently) {\n                if (!this.activeIframeRequest) {\n                    let _resolve;\n                    // Always set the active request tracker immediately after checking it to prevent races\n                    this.activeIframeRequest = [\n                        new Promise((resolve)=>{\n                            _resolve = resolve;\n                        }),\n                        silentRequest.correlationId\n                    ];\n                    this.logger.verbose(\"Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.\", silentRequest.correlationId);\n                    return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.invokeAsync)(this.acquireTokenBySilentIframe.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenBySilentIframe, this.logger, this.performanceClient, silentRequest.correlationId)(silentRequest).then((iframeResult)=>{\n                        _resolve(true);\n                        return iframeResult;\n                    }).catch((e)=>{\n                        _resolve(false);\n                        throw e;\n                    }).finally(()=>{\n                        this.activeIframeRequest = undefined;\n                    });\n                } else if (cacheLookupPolicy !== _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.CacheLookupPolicy.Skip) {\n                    const [activePromise, activeCorrelationId] = this.activeIframeRequest;\n                    this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${activeCorrelationId}`, silentRequest.correlationId);\n                    const awaitConcurrentIframeMeasure = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AwaitConcurrentIframe, silentRequest.correlationId);\n                    awaitConcurrentIframeMeasure.add({\n                        awaitIframeCorrelationId: activeCorrelationId\n                    });\n                    const activePromiseResult = await activePromise;\n                    awaitConcurrentIframeMeasure.end({\n                        success: activePromiseResult\n                    });\n                    if (activePromiseResult) {\n                        this.logger.verbose(`Parallel iframe request with correlationId: ${activeCorrelationId} succeeded. Retrying cache and/or RT redemption`, silentRequest.correlationId);\n                        // Retry cache lookup and/or RT exchange after iframe completes\n                        return this.acquireTokenSilentNoIframe(silentRequest, cacheLookupPolicy);\n                    } else {\n                        this.logger.info(`Iframe request with correlationId: ${activeCorrelationId} failed. Interaction is required.`);\n                        // If previous iframe request failed, it's unlikely to succeed this time. Throw original error.\n                        throw refreshTokenError;\n                    }\n                } else {\n                    // Cache policy set to skip and another iframe request is already in progress\n                    this.logger.warning(\"Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.\", silentRequest.correlationId);\n                    return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.invokeAsync)(this.acquireTokenBySilentIframe.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenBySilentIframe, this.logger, this.performanceClient, silentRequest.correlationId)(silentRequest);\n                }\n            } else {\n                // Error cannot be silently resolved or iframe renewal is not allowed, interaction required\n                throw refreshTokenError;\n            }\n        });\n        return result.then((response)=>{\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Silent, response);\n            if (request.correlationId) {\n                this.performanceClient.addFields({\n                    fromCache: response.fromCache,\n                    isNativeBroker: response.fromNativeBroker\n                }, request.correlationId);\n            }\n            return response;\n        }).catch((tokenRenewalError)=>{\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Silent, null, tokenRenewalError);\n            throw tokenRenewalError;\n        }).finally(()=>{\n            document.removeEventListener(\"visibilitychange\", trackPageVisibility);\n        });\n    }\n    /**\r\n     * AcquireTokenSilent without the iframe fallback. This is used to enable the correct fallbacks in cases where there's a potential for multiple silent requests to be made in parallel and prevent those requests from making concurrent iframe requests.\r\n     * @param silentRequest\r\n     * @param cacheLookupPolicy\r\n     * @returns\r\n     */ async acquireTokenSilentNoIframe(silentRequest, cacheLookupPolicy) {\n        if (_broker_nativeBroker_NativeMessageHandler_mjs__WEBPACK_IMPORTED_MODULE_10__.NativeMessageHandler.isNativeAvailable(this.config, this.logger, this.nativeExtensionProvider, silentRequest.authenticationScheme) && silentRequest.account.nativeAccountId) {\n            this.logger.verbose(\"acquireTokenSilent - attempting to acquire token from native platform\");\n            return this.acquireTokenNative(silentRequest, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.ApiId.acquireTokenSilent_silentFlow).catch(async (e)=>{\n                // If native token acquisition fails for availability reasons fallback to web flow\n                if (e instanceof _error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.NativeAuthError && (0,_error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.isFatalNativeAuthError)(e)) {\n                    this.logger.verbose(\"acquireTokenSilent - native platform unavailable, falling back to web flow\");\n                    this.nativeExtensionProvider = undefined; // Prevent future requests from continuing to attempt\n                    // Cache will not contain tokens, given that previous WAM requests succeeded. Skip cache and RT renewal and go straight to iframe renewal\n                    throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.createClientAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_18__.tokenRefreshRequired);\n                }\n                throw e;\n            });\n        } else {\n            this.logger.verbose(\"acquireTokenSilent - attempting to acquire token from web flow\");\n            return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.invokeAsync)(this.acquireTokenFromCache.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenFromCache, this.logger, this.performanceClient, silentRequest.correlationId)(silentRequest, cacheLookupPolicy).catch((cacheError)=>{\n                if (cacheLookupPolicy === _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.CacheLookupPolicy.AccessToken) {\n                    throw cacheError;\n                }\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.ACQUIRE_TOKEN_NETWORK_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.InteractionType.Silent, silentRequest);\n                return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.invokeAsync)(this.acquireTokenByRefreshToken.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.PerformanceEvents.AcquireTokenByRefreshToken, this.logger, this.performanceClient, silentRequest.correlationId)(silentRequest, cacheLookupPolicy);\n            });\n        }\n    }\n}\n/**\r\n * Determines whether an error thrown by the refresh token endpoint can be resolved without interaction\r\n * @param refreshTokenError\r\n * @param silentRequest\r\n * @param cacheLookupPolicy\r\n * @returns\r\n */ function checkIfRefreshTokenErrorCanBeResolvedSilently(refreshTokenError, cacheLookupPolicy) {\n    const noInteractionRequired = !(refreshTokenError instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_14__.InteractionRequiredAuthError && // For refresh token errors, bad_token does not always require interaction (silently resolvable)\n    refreshTokenError.subError !== _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_31__.badToken);\n    // Errors that result when the refresh token needs to be replaced\n    const refreshTokenRefreshRequired = refreshTokenError.errorCode === _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.BrowserConstants.INVALID_GRANT_ERROR || refreshTokenError.errorCode === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_18__.tokenRefreshRequired;\n    // Errors that may be resolved before falling back to interaction (through iframe renewal)\n    const isSilentlyResolvable = noInteractionRequired && refreshTokenRefreshRequired || refreshTokenError.errorCode === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_31__.noTokensFound || refreshTokenError.errorCode === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_31__.refreshTokenExpired;\n    // Only these policies allow for an iframe renewal attempt\n    const tryIframeRenewal = _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_6__.iFrameRenewalPolicies.includes(cacheLookupPolicy);\n    return isSilentlyResolvable && tryIframeRenewal;\n}\n //# sourceMappingURL=StandardController.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NvbnRyb2xsZXJzL1N0YW5kYXJkQ29udHJvbGxlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ29EO0FBQzRRO0FBQzFOO0FBQ3NFO0FBQ2tCO0FBQzVCO0FBQy9HO0FBQ007QUFDVztBQUNNO0FBQ1E7QUFDRTtBQUMvQjtBQUN1QztBQUNMO0FBQ0E7QUFDUDtBQUNNO0FBQ2Y7QUFDWDtBQUNZO0FBQ3lJO0FBRWpOOzs7Q0FHQyxHQUNELFNBQVN5RCxlQUFlQyxPQUFPO0lBQzNCLE1BQU1DLGdCQUFnQkQsU0FBU0M7SUFDL0IsSUFBSUEsZUFBZUMsT0FBT0QsZUFBZUUsS0FBSztRQUMxQyxPQUFPO0lBQ1g7SUFDQSxJQUFJLENBQUNGLGVBQWVHLEtBQUs7UUFDckIsT0FBT0M7SUFDWCxPQUNLLElBQUlKLGVBQWVHLFFBQVEsd0NBQXdDO1FBQ3BFLE9BQU87SUFDWDtJQUNBLE9BQU87QUFDWDtBQUNBLFNBQVM3QixlQUFlK0IsV0FBVyxFQUFFQyxnQkFBZ0I7SUFDakQsSUFBSTtRQUNBL0IsdUVBQWdCQSxDQUFDOEI7SUFDckIsRUFDQSxPQUFPRSxHQUFHO1FBQ05ELGlCQUFpQkUsR0FBRyxDQUFDO1lBQUVDLFNBQVM7UUFBTSxHQUFHRjtRQUN6QyxNQUFNQTtJQUNWO0FBQ0o7QUFDQSxNQUFNRztJQUNGOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztLQW9CQyxHQUNEQyxZQUFZQyxnQkFBZ0IsQ0FBRTtRQUMxQixJQUFJLENBQUNBLGdCQUFnQixHQUFHQTtRQUN4QixJQUFJLENBQUNDLG9CQUFvQixHQUNyQixJQUFJLENBQUNELGdCQUFnQixDQUFDQyxvQkFBb0I7UUFDOUMseUJBQXlCO1FBQ3pCLElBQUksQ0FBQ0MsTUFBTSxHQUFHRixpQkFBaUJHLFNBQVM7UUFDeEMsSUFBSSxDQUFDVixXQUFXLEdBQUc7UUFDbkIsb0JBQW9CO1FBQ3BCLElBQUksQ0FBQ1csTUFBTSxHQUFHLElBQUksQ0FBQ0osZ0JBQWdCLENBQUNLLFNBQVM7UUFDN0MsdUNBQXVDO1FBQ3ZDLElBQUksQ0FBQ0MsYUFBYSxHQUFHLElBQUksQ0FBQ0osTUFBTSxDQUFDSyxNQUFNLENBQUNELGFBQWE7UUFDckQsMENBQTBDO1FBQzFDLElBQUksQ0FBQ0UsZ0JBQWdCLEdBQUcsSUFBSSxDQUFDTixNQUFNLENBQUNLLE1BQU0sQ0FBQ0MsZ0JBQWdCO1FBQzNELGtDQUFrQztRQUNsQyxJQUFJLENBQUNDLGdCQUFnQixHQUFHLElBQUlDO1FBQzVCLHlCQUF5QjtRQUN6QixJQUFJLENBQUNDLHVCQUF1QixHQUFHLElBQUlEO1FBQ25DLGdDQUFnQztRQUNoQyxJQUFJLENBQUNFLGlCQUFpQixHQUFHLElBQUksQ0FBQ1YsTUFBTSxDQUFDVyxTQUFTLENBQUNDLE1BQU07UUFDckQsK0JBQStCO1FBQy9CLElBQUksQ0FBQ0MsYUFBYSxHQUFHLElBQUksQ0FBQ2Qsb0JBQW9CLEdBQ3hDLElBQUl4RSw0REFBU0EsQ0FBQyxJQUFJLENBQUMyRSxNQUFNLEVBQUUsSUFBSSxDQUFDUSxpQkFBaUIsSUFDakRsRixxRkFBNkJBO1FBQ25DLElBQUksQ0FBQ3NGLFlBQVksR0FBRyxJQUFJbEQsaUVBQVlBLENBQUMsSUFBSSxDQUFDc0MsTUFBTTtRQUNoRCx3Q0FBd0M7UUFDeEMsSUFBSSxDQUFDYSxjQUFjLEdBQUcsSUFBSSxDQUFDaEIsb0JBQW9CLEdBQ3pDLElBQUkxRCwrRUFBbUJBLENBQUMsSUFBSSxDQUFDMkQsTUFBTSxDQUFDZ0IsSUFBSSxDQUFDQyxRQUFRLEVBQUUsSUFBSSxDQUFDakIsTUFBTSxDQUFDa0IsS0FBSyxFQUFFLElBQUksQ0FBQ0wsYUFBYSxFQUFFLElBQUksQ0FBQ1gsTUFBTSxFQUFFekUsdUZBQTJCQSxDQUFDLElBQUksQ0FBQ3VFLE1BQU0sQ0FBQ2dCLElBQUksR0FBRyxJQUFJLENBQUNOLGlCQUFpQixJQUM1S3BFLDZGQUE2QkEsQ0FBQyxJQUFJLENBQUMwRCxNQUFNLENBQUNnQixJQUFJLENBQUNDLFFBQVEsRUFBRSxJQUFJLENBQUNmLE1BQU07UUFDMUUsZ0RBQWdEO1FBQ2hELE1BQU1pQixxQkFBcUI7WUFDdkJDLGVBQWVqRSw2RUFBb0JBLENBQUNrRSxhQUFhO1lBQ2pEQyx3QkFBd0JuRSw2RUFBb0JBLENBQUNrRSxhQUFhO1lBQzFERSx3QkFBd0I7WUFDeEJDLGVBQWU7WUFDZkMsdUJBQXVCO1lBQ3ZCQywyQkFBMkI7UUFDL0I7UUFDQSxJQUFJLENBQUNDLHFCQUFxQixHQUFHLElBQUl0RiwrRUFBbUJBLENBQUMsSUFBSSxDQUFDMkQsTUFBTSxDQUFDZ0IsSUFBSSxDQUFDQyxRQUFRLEVBQUVFLG9CQUFvQixJQUFJLENBQUNOLGFBQWEsRUFBRSxJQUFJLENBQUNYLE1BQU0sRUFBRVosV0FBVyxJQUFJLENBQUNvQixpQkFBaUI7UUFDdEssNkJBQTZCO1FBQzdCLElBQUksQ0FBQ2tCLFVBQVUsR0FBRyxJQUFJM0QsNkRBQVVBLENBQUMsSUFBSSxDQUFDK0IsTUFBTSxFQUFFLElBQUksQ0FBQ2UsY0FBYyxFQUFFLElBQUksQ0FBQ2IsTUFBTSxFQUFFLElBQUksQ0FBQ1csYUFBYTtRQUNsRyxJQUFJLENBQUNnQix5QkFBeUIsR0FBRyxJQUFJckI7UUFDckMsOEJBQThCO1FBQzlCLElBQUksQ0FBQ3NCLG1CQUFtQixHQUFHLElBQUksQ0FBQ0EsbUJBQW1CLENBQUNDLElBQUksQ0FBQyxJQUFJO1FBQzdELDhCQUE4QjtRQUM5QixJQUFJLENBQUNDLGtDQUFrQyxHQUNuQyxJQUFJLENBQUNBLGtDQUFrQyxDQUFDRCxJQUFJLENBQUMsSUFBSTtRQUNyRCx5QkFBeUI7UUFDekIsSUFBSSxDQUFDRSx3QkFBd0IsR0FBRztRQUNoQyxJQUFJLENBQUNDLHdCQUF3QixHQUN6QixJQUFJLENBQUNBLHdCQUF3QixDQUFDSCxJQUFJLENBQUMsSUFBSTtJQUMvQztJQUNBLGFBQWFJLGlCQUFpQnJDLGdCQUFnQixFQUFFc0MsT0FBTyxFQUFFO1FBQ3JELE1BQU1DLGFBQWEsSUFBSXpDLG1CQUFtQkU7UUFDMUMsTUFBTXVDLFdBQVdDLFVBQVUsQ0FBQ0Y7UUFDNUIsT0FBT0M7SUFDWDtJQUNBUCxvQkFBb0JTLGFBQWEsRUFBRTtRQUMvQixJQUFJLENBQUNBLGVBQWU7WUFDaEI7UUFDSjtRQUNBLElBQUksQ0FBQ3JDLE1BQU0sQ0FBQ3NDLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUM5QixpQkFBaUIsQ0FBQytCLGVBQWUsQ0FBQztZQUFFQyx1QkFBdUI7UUFBRSxHQUFHSDtJQUN6RTtJQUNBOzs7S0FHQyxHQUNELE1BQU1ELFdBQVdGLE9BQU8sRUFBRTtRQUN0QixJQUFJLENBQUNsQyxNQUFNLENBQUN5QyxLQUFLLENBQUM7UUFDbEIsSUFBSSxJQUFJLENBQUNwRCxXQUFXLEVBQUU7WUFDbEIsSUFBSSxDQUFDVyxNQUFNLENBQUNzQyxJQUFJLENBQUM7WUFDakI7UUFDSjtRQUNBLElBQUksQ0FBQyxJQUFJLENBQUN6QyxvQkFBb0IsRUFBRTtZQUM1QixJQUFJLENBQUNHLE1BQU0sQ0FBQ3NDLElBQUksQ0FBQztZQUNqQixJQUFJLENBQUNqRCxXQUFXLEdBQUc7WUFDbkIsSUFBSSxDQUFDdUIsWUFBWSxDQUFDOEIsU0FBUyxDQUFDakYsMkRBQVNBLENBQUNrRixjQUFjO1lBQ3BEO1FBQ0o7UUFDQSxNQUFNQyxvQkFBb0JWLFNBQVNHLGlCQUFpQixJQUFJLENBQUNRLHVCQUF1QjtRQUNoRixNQUFNQyxvQkFBb0IsSUFBSSxDQUFDaEQsTUFBTSxDQUFDSyxNQUFNLENBQUMyQyxpQkFBaUI7UUFDOUQsTUFBTUMsa0JBQWtCLElBQUksQ0FBQ3ZDLGlCQUFpQixDQUFDd0MsZ0JBQWdCLENBQUN4SCx5RUFBaUJBLENBQUN5SCwyQkFBMkIsRUFBRUw7UUFDL0csSUFBSSxDQUFDaEMsWUFBWSxDQUFDOEIsU0FBUyxDQUFDakYsMkRBQVNBLENBQUN5RixnQkFBZ0I7UUFDdEQsSUFBSUosbUJBQW1CO1lBQ25CLElBQUk7Z0JBQ0EsSUFBSSxDQUFDSyx1QkFBdUIsR0FDeEIsTUFBTWxGLGdHQUFvQkEsQ0FBQ21GLGNBQWMsQ0FBQyxJQUFJLENBQUNwRCxNQUFNLEVBQUUsSUFBSSxDQUFDRixNQUFNLENBQUNLLE1BQU0sQ0FBQ2tELDRCQUE0QixFQUFFLElBQUksQ0FBQzdDLGlCQUFpQjtZQUN0SSxFQUNBLE9BQU9qQixHQUFHO2dCQUNOLElBQUksQ0FBQ1MsTUFBTSxDQUFDc0QsT0FBTyxDQUFDL0Q7WUFDeEI7UUFDSjtRQUNBLElBQUksQ0FBQyxJQUFJLENBQUNPLE1BQU0sQ0FBQ2tCLEtBQUssQ0FBQ1EseUJBQXlCLEVBQUU7WUFDOUMsSUFBSSxDQUFDeEIsTUFBTSxDQUFDc0QsT0FBTyxDQUFDO1lBQ3BCLE1BQU03SCx3RUFBV0EsQ0FBQyxJQUFJLENBQUNvRixjQUFjLENBQUMwQyw0QkFBNEIsQ0FBQzFCLElBQUksQ0FBQyxJQUFJLENBQUNoQixjQUFjLEdBQUdyRix5RUFBaUJBLENBQUNnSSw0QkFBNEIsRUFBRSxJQUFJLENBQUN4RCxNQUFNLEVBQUUsSUFBSSxDQUFDUSxpQkFBaUIsRUFBRW9DLG1CQUFtQixJQUFJLENBQUNwQyxpQkFBaUIsRUFBRW9DO1FBQ2xPO1FBQ0EsSUFBSSxDQUFDdkQsV0FBVyxHQUFHO1FBQ25CLElBQUksQ0FBQ3VCLFlBQVksQ0FBQzhCLFNBQVMsQ0FBQ2pGLDJEQUFTQSxDQUFDa0YsY0FBYztRQUNwREksZ0JBQWdCdkQsR0FBRyxDQUFDO1lBQUVzRDtZQUFtQnJELFNBQVM7UUFBSztJQUMzRDtJQUNBLHdCQUF3QjtJQUN4Qjs7Ozs7O0tBTUMsR0FDRCxNQUFNZ0Usc0JBQXNCQyxJQUFJLEVBQUU7UUFDOUIsSUFBSSxDQUFDMUQsTUFBTSxDQUFDc0QsT0FBTyxDQUFDO1FBQ3BCLDREQUE0RDtRQUM1RGxHLHNGQUE2QkEsQ0FBQyxJQUFJLENBQUNpQyxXQUFXO1FBQzlDLElBQUksSUFBSSxDQUFDUSxvQkFBb0IsRUFBRTtZQUMzQjs7OzthQUlDLEdBQ0QsTUFBTThELHNCQUFzQkQsUUFBUTtZQUNwQyxJQUFJRSxXQUFXLElBQUksQ0FBQ3ZELGdCQUFnQixDQUFDd0QsR0FBRyxDQUFDRjtZQUN6QyxJQUFJLE9BQU9DLGFBQWEsYUFBYTtnQkFDakNBLFdBQVcsSUFBSSxDQUFDRSw2QkFBNkIsQ0FBQ0o7Z0JBQzlDLElBQUksQ0FBQ3JELGdCQUFnQixDQUFDMEQsR0FBRyxDQUFDSixxQkFBcUJDO2dCQUMvQyxJQUFJLENBQUM1RCxNQUFNLENBQUNzRCxPQUFPLENBQUM7WUFDeEIsT0FDSztnQkFDRCxJQUFJLENBQUN0RCxNQUFNLENBQUNzRCxPQUFPLENBQUM7WUFDeEI7WUFDQSxPQUFPTTtRQUNYO1FBQ0EsSUFBSSxDQUFDNUQsTUFBTSxDQUFDc0QsT0FBTyxDQUFDO1FBQ3BCLE9BQU87SUFDWDtJQUNBOzs7O0tBSUMsR0FDRCxNQUFNUSw4QkFBOEJKLElBQUksRUFBRTtRQUN0QyxNQUFNTSxtQkFBbUIsSUFBSSxDQUFDM0gsY0FBYztRQUM1QyxNQUFNNkYsVUFBVSxJQUFJLENBQUNyQixjQUFjLENBQUNvRCxzQkFBc0I7UUFDMUQsTUFBTUMsWUFBWWhDLFdBQ2RqRSxnR0FBb0JBLENBQUNrRyxpQkFBaUIsQ0FBQyxJQUFJLENBQUNyRSxNQUFNLEVBQUUsSUFBSSxDQUFDRSxNQUFNLEVBQUUsSUFBSSxDQUFDbUQsdUJBQXVCLEtBQzdGLElBQUksQ0FBQ0EsdUJBQXVCLElBQzVCLENBQUNPO1FBQ0wsTUFBTXJCLGdCQUFnQjZCLFlBQ2hCaEMsU0FBU0csZ0JBQ1QsSUFBSSxDQUFDeEIsY0FBYyxDQUFDdUQsaUJBQWlCLENBQUN4SCwyRUFBa0JBLENBQUN5SCxjQUFjLEVBQUUsU0FBUztRQUN4RixNQUFNQyxrQkFBa0IsSUFBSSxDQUFDOUQsaUJBQWlCLENBQUN3QyxnQkFBZ0IsQ0FBQ3hILHlFQUFpQkEsQ0FBQytJLG9CQUFvQixFQUFFbEM7UUFDeEcsSUFBSSxDQUFDekIsWUFBWSxDQUFDOEIsU0FBUyxDQUFDakYsMkRBQVNBLENBQUMrRyxxQkFBcUIsRUFBRTNILHdFQUFlQSxDQUFDNEgsUUFBUTtRQUNyRixJQUFJcEU7UUFDSixJQUFJNkQsYUFBYSxJQUFJLENBQUNmLHVCQUF1QixFQUFFO1lBQzNDLElBQUksQ0FBQ25ELE1BQU0sQ0FBQ3lDLEtBQUssQ0FBQztZQUNsQixNQUFNaUMsZUFBZSxJQUFJMUcscUdBQXVCQSxDQUFDLElBQUksQ0FBQzhCLE1BQU0sRUFBRSxJQUFJLENBQUNlLGNBQWMsRUFBRSxJQUFJLENBQUNGLGFBQWEsRUFBRSxJQUFJLENBQUNYLE1BQU0sRUFBRSxJQUFJLENBQUNZLFlBQVksRUFBRSxJQUFJLENBQUNSLGdCQUFnQixFQUFFdEQsOERBQUtBLENBQUMyRyxxQkFBcUIsRUFBRSxJQUFJLENBQUNqRCxpQkFBaUIsRUFBRSxJQUFJLENBQUMyQyx1QkFBdUIsRUFBRWpCLFFBQVF5QyxTQUFTLEVBQUUsSUFBSSxDQUFDbEQscUJBQXFCLEVBQUVTLFFBQVFHLGFBQWE7WUFDclRoQyxtQkFBbUI1RSx3RUFBV0EsQ0FBQ2lKLGFBQWFqQixxQkFBcUIsQ0FBQzVCLElBQUksQ0FBQzZDLGVBQWVsSix5RUFBaUJBLENBQUNvSixzQ0FBc0MsRUFBRSxJQUFJLENBQUM1RSxNQUFNLEVBQUUsSUFBSSxDQUFDUSxpQkFBaUIsRUFBRThELGdCQUFnQk8sS0FBSyxDQUFDeEMsYUFBYSxFQUFFLElBQUksQ0FBQzdCLGlCQUFpQixFQUFFOEQsZ0JBQWdCTyxLQUFLLENBQUN4QyxhQUFhO1FBQ3pSLE9BQ0s7WUFDRCxJQUFJLENBQUNyQyxNQUFNLENBQUN5QyxLQUFLLENBQUM7WUFDbEIsTUFBTXFDLGlCQUFpQixJQUFJLENBQUNDLG9CQUFvQixDQUFDMUM7WUFDakRoQyxtQkFBbUI1RSx3RUFBV0EsQ0FBQ3FKLGVBQWVyQixxQkFBcUIsQ0FBQzVCLElBQUksQ0FBQ2lELGlCQUFpQnRKLHlFQUFpQkEsQ0FBQ3dKLGdDQUFnQyxFQUFFLElBQUksQ0FBQ2hGLE1BQU0sRUFBRSxJQUFJLENBQUNRLGlCQUFpQixFQUFFOEQsZ0JBQWdCTyxLQUFLLENBQUN4QyxhQUFhLEVBQUVxQixNQUFNWTtRQUNsTztRQUNBLE9BQU9qRSxpQkFDRjRFLElBQUksQ0FBQyxDQUFDQztZQUNQLElBQUlBLFFBQVE7Z0JBQ1IsZ0RBQWdEO2dCQUNoRCxNQUFNQyxjQUFjbkIsaUJBQWlCb0IsTUFBTSxHQUFHLElBQUksQ0FBQy9JLGNBQWMsR0FBRytJLE1BQU07Z0JBQzFFLElBQUlELGFBQWE7b0JBQ2IsSUFBSSxDQUFDdkUsWUFBWSxDQUFDOEIsU0FBUyxDQUFDakYsMkRBQVNBLENBQUM0SCxhQUFhLEVBQUV4SSx3RUFBZUEsQ0FBQzRILFFBQVEsRUFBRVM7b0JBQy9FLElBQUksQ0FBQ2xGLE1BQU0sQ0FBQ3NELE9BQU8sQ0FBQztnQkFDeEIsT0FDSztvQkFDRCxJQUFJLENBQUMxQyxZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQzZILHFCQUFxQixFQUFFekksd0VBQWVBLENBQUM0SCxRQUFRLEVBQUVTO29CQUN2RixJQUFJLENBQUNsRixNQUFNLENBQUNzRCxPQUFPLENBQUM7Z0JBQ3hCO2dCQUNBZ0IsZ0JBQWdCOUUsR0FBRyxDQUFDO29CQUNoQkMsU0FBUztvQkFDVDhGLGFBQWF6RyxlQUFlb0csT0FBT25HLE9BQU87Z0JBQzlDO1lBQ0osT0FDSztnQkFDRDs7O2lCQUdDLEdBQ0QsSUFBSXVGLGdCQUFnQk8sS0FBSyxDQUFDVyxTQUFTLEVBQUU7b0JBQ2pDbEIsZ0JBQWdCOUUsR0FBRyxDQUFDO3dCQUFFQyxTQUFTO29CQUFNO2dCQUN6QyxPQUNLO29CQUNENkUsZ0JBQWdCbUIsT0FBTztnQkFDM0I7WUFDSjtZQUNBLElBQUksQ0FBQzdFLFlBQVksQ0FBQzhCLFNBQVMsQ0FBQ2pGLDJEQUFTQSxDQUFDaUksbUJBQW1CLEVBQUU3SSx3RUFBZUEsQ0FBQzRILFFBQVE7WUFDbkYsT0FBT1M7UUFDWCxHQUNLUyxLQUFLLENBQUMsQ0FBQ3BHO1lBQ1IsTUFBTXFHLGFBQWFyRztZQUNuQiwwQ0FBMEM7WUFDMUMsSUFBSXlFLGlCQUFpQm9CLE1BQU0sR0FBRyxHQUFHO2dCQUM3QixJQUFJLENBQUN4RSxZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQ29JLHFCQUFxQixFQUFFaEosd0VBQWVBLENBQUM0SCxRQUFRLEVBQUUsTUFBTW1CO1lBQ2pHLE9BQ0s7Z0JBQ0QsSUFBSSxDQUFDaEYsWUFBWSxDQUFDOEIsU0FBUyxDQUFDakYsMkRBQVNBLENBQUNxSSxhQUFhLEVBQUVqSix3RUFBZUEsQ0FBQzRILFFBQVEsRUFBRSxNQUFNbUI7WUFDekY7WUFDQSxJQUFJLENBQUNoRixZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQ2lJLG1CQUFtQixFQUFFN0ksd0VBQWVBLENBQUM0SCxRQUFRO1lBQ25GSCxnQkFBZ0I5RSxHQUFHLENBQUM7Z0JBQ2hCQyxTQUFTO1lBQ2IsR0FBR21HO1lBQ0gsTUFBTXJHO1FBQ1Y7SUFDSjtJQUNBOzs7Ozs7OztLQVFDLEdBQ0QsTUFBTXdHLHFCQUFxQjdELE9BQU8sRUFBRTtRQUNoQyxvQkFBb0I7UUFDcEIsTUFBTUcsZ0JBQWdCLElBQUksQ0FBQ1EsdUJBQXVCLENBQUNYO1FBQ25ELElBQUksQ0FBQ2xDLE1BQU0sQ0FBQ3NELE9BQU8sQ0FBQywrQkFBK0JqQjtRQUNuRCxNQUFNMkQsaUJBQWlCLElBQUksQ0FBQ3hGLGlCQUFpQixDQUFDd0MsZ0JBQWdCLENBQUN4SCx5RUFBaUJBLENBQUN5Syx1QkFBdUIsRUFBRTVEO1FBQzFHMkQsZUFBZUUsR0FBRyxDQUFDO1lBQ2ZYLGFBQWF6RyxlQUFlb0QsUUFBUW5ELE9BQU87WUFDM0NvSCxZQUFZakUsUUFBUWlFLFVBQVU7UUFDbEM7UUFDQSw2RUFBNkU7UUFDN0UsTUFBTUMsdUJBQXVCbEUsUUFBUW1FLGtCQUFrQjtRQUN2RCxJQUFJRCxzQkFBc0I7WUFDdEJsRSxRQUFRbUUsa0JBQWtCLEdBQUcsQ0FBQ0M7Z0JBQzFCLE1BQU1DLFdBQVcsT0FBT0gseUJBQXlCLGFBQzNDQSxxQkFBcUJFLE9BQ3JCbEg7Z0JBQ04sSUFBSW1ILGFBQWEsT0FBTztvQkFDcEJQLGVBQWV4RyxHQUFHLENBQUM7d0JBQUVDLFNBQVM7b0JBQUs7Z0JBQ3ZDLE9BQ0s7b0JBQ0R1RyxlQUFlUCxPQUFPO2dCQUMxQjtnQkFDQSxPQUFPYztZQUNYO1FBQ0osT0FDSztZQUNELE1BQU1DLDZCQUE2QixJQUFJLENBQUMxRyxNQUFNLENBQUNnQixJQUFJLENBQUN1RixrQkFBa0I7WUFDdEUsSUFBSSxDQUFDdkcsTUFBTSxDQUFDZ0IsSUFBSSxDQUFDdUYsa0JBQWtCLEdBQUcsQ0FBQ0M7Z0JBQ25DLE1BQU1DLFdBQVcsT0FBT0MsK0JBQStCLGFBQ2pEQSwyQkFBMkJGLE9BQzNCbEg7Z0JBQ04sSUFBSW1ILGFBQWEsT0FBTztvQkFDcEJQLGVBQWV4RyxHQUFHLENBQUM7d0JBQUVDLFNBQVM7b0JBQUs7Z0JBQ3ZDLE9BQ0s7b0JBQ0R1RyxlQUFlUCxPQUFPO2dCQUMxQjtnQkFDQSxPQUFPYztZQUNYO1FBQ0o7UUFDQSwwQ0FBMEM7UUFDMUMsTUFBTUUsYUFBYSxJQUFJLENBQUNwSyxjQUFjLEdBQUcrSSxNQUFNLEdBQUc7UUFDbEQsSUFBSTtZQUNBL0gsK0VBQXNCQSxDQUFDLElBQUksQ0FBQ2dDLFdBQVcsRUFBRSxJQUFJLENBQUNTLE1BQU07WUFDcEQsSUFBSSxDQUFDZSxjQUFjLENBQUM2Rix3QkFBd0IsQ0FBQztZQUM3QyxJQUFJRCxZQUFZO2dCQUNaLElBQUksQ0FBQzdGLFlBQVksQ0FBQzhCLFNBQVMsQ0FBQ2pGLDJEQUFTQSxDQUFDa0osbUJBQW1CLEVBQUU5Six3RUFBZUEsQ0FBQzRILFFBQVEsRUFBRXZDO1lBQ3pGLE9BQ0s7Z0JBQ0QsSUFBSSxDQUFDdEIsWUFBWSxDQUFDOEIsU0FBUyxDQUFDakYsMkRBQVNBLENBQUNtSixXQUFXLEVBQUUvSix3RUFBZUEsQ0FBQzRILFFBQVEsRUFBRXZDO1lBQ2pGO1lBQ0EsSUFBSWdEO1lBQ0osSUFBSSxJQUFJLENBQUMvQix1QkFBdUIsSUFBSSxJQUFJLENBQUMwRCxZQUFZLENBQUMzRSxVQUFVO2dCQUM1RCxNQUFNd0MsZUFBZSxJQUFJMUcscUdBQXVCQSxDQUFDLElBQUksQ0FBQzhCLE1BQU0sRUFBRSxJQUFJLENBQUNlLGNBQWMsRUFBRSxJQUFJLENBQUNGLGFBQWEsRUFBRSxJQUFJLENBQUNYLE1BQU0sRUFBRSxJQUFJLENBQUNZLFlBQVksRUFBRSxJQUFJLENBQUNSLGdCQUFnQixFQUFFdEQsOERBQUtBLENBQUNpSixvQkFBb0IsRUFBRSxJQUFJLENBQUN2RixpQkFBaUIsRUFBRSxJQUFJLENBQUMyQyx1QkFBdUIsRUFBRSxJQUFJLENBQUMyRCxrQkFBa0IsQ0FBQzVFLFVBQVUsSUFBSSxDQUFDVCxxQkFBcUIsRUFBRVk7Z0JBQzlTNkMsU0FBU1IsYUFDSnFCLG9CQUFvQixDQUFDN0QsU0FBUzhELGdCQUM5QkwsS0FBSyxDQUFDLENBQUNwRztvQkFDUixJQUFJQSxhQUFhckIsd0VBQWVBLElBQzVCQyxtRkFBc0JBLENBQUNvQixJQUFJO3dCQUMzQixJQUFJLENBQUM0RCx1QkFBdUIsR0FBRy9ELFdBQVcsa0dBQWtHO3dCQUM1SSxNQUFNMEYsaUJBQWlCLElBQUksQ0FBQ0Msb0JBQW9CLENBQUMxQzt3QkFDakQsT0FBT3lDLGVBQWVpQyxZQUFZLENBQUM3RTtvQkFDdkMsT0FDSyxJQUFJM0MsYUFBYTdELHFGQUE0QkEsRUFBRTt3QkFDaEQsSUFBSSxDQUFDc0UsTUFBTSxDQUFDc0QsT0FBTyxDQUFDO3dCQUNwQixNQUFNd0IsaUJBQWlCLElBQUksQ0FBQ0Msb0JBQW9CLENBQUMxQzt3QkFDakQsT0FBT3lDLGVBQWVpQyxZQUFZLENBQUM3RTtvQkFDdkM7b0JBQ0EsSUFBSSxDQUFDckIsY0FBYyxDQUFDNkYsd0JBQXdCLENBQUM7b0JBQzdDLE1BQU1uSDtnQkFDVjtZQUNKLE9BQ0s7Z0JBQ0QsTUFBTXVGLGlCQUFpQixJQUFJLENBQUNDLG9CQUFvQixDQUFDMUM7Z0JBQ2pENkMsU0FBU0osZUFBZWlDLFlBQVksQ0FBQzdFO1lBQ3pDO1lBQ0EsT0FBTyxNQUFNZ0Q7UUFDakIsRUFDQSxPQUFPM0YsR0FBRztZQUNOeUcsZUFBZXhHLEdBQUcsQ0FBQztnQkFBRUMsU0FBUztZQUFNLEdBQUdGO1lBQ3ZDLElBQUlrSCxZQUFZO2dCQUNaLElBQUksQ0FBQzdGLFlBQVksQ0FBQzhCLFNBQVMsQ0FBQ2pGLDJEQUFTQSxDQUFDb0kscUJBQXFCLEVBQUVoSix3RUFBZUEsQ0FBQzRILFFBQVEsRUFBRSxNQUFNbEY7WUFDakcsT0FDSztnQkFDRCxJQUFJLENBQUNxQixZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQ3FJLGFBQWEsRUFBRWpKLHdFQUFlQSxDQUFDNEgsUUFBUSxFQUFFLE1BQU1sRjtZQUN6RjtZQUNBLE1BQU1BO1FBQ1Y7SUFDSjtJQUNBLGFBQWE7SUFDYixxQkFBcUI7SUFDckI7Ozs7OztLQU1DLEdBQ0R5SCxrQkFBa0I5RSxPQUFPLEVBQUU7UUFDdkIsTUFBTUcsZ0JBQWdCLElBQUksQ0FBQ1EsdUJBQXVCLENBQUNYO1FBQ25ELE1BQU0rRSxxQkFBcUIsSUFBSSxDQUFDekcsaUJBQWlCLENBQUN3QyxnQkFBZ0IsQ0FBQ3hILHlFQUFpQkEsQ0FBQzBMLGlCQUFpQixFQUFFN0U7UUFDeEc0RSxtQkFBbUJmLEdBQUcsQ0FBQztZQUNuQkMsWUFBWWpFLFFBQVFpRSxVQUFVO1lBQzlCWixhQUFhekcsZUFBZW9ELFFBQVFuRCxPQUFPO1FBQy9DO1FBQ0EsSUFBSTtZQUNBLElBQUksQ0FBQ2lCLE1BQU0sQ0FBQ3NELE9BQU8sQ0FBQyw0QkFBNEJqQjtZQUNoRC9FLGVBQWUsSUFBSSxDQUFDK0IsV0FBVyxFQUFFNEg7WUFDakMsSUFBSSxDQUFDcEcsY0FBYyxDQUFDNkYsd0JBQXdCLENBQUM7UUFDakQsRUFDQSxPQUFPbkgsR0FBRztZQUNOLHNEQUFzRDtZQUN0RCxPQUFPNEgsUUFBUUMsTUFBTSxDQUFDN0g7UUFDMUI7UUFDQSwwQ0FBMEM7UUFDMUMsTUFBTXlFLG1CQUFtQixJQUFJLENBQUMzSCxjQUFjO1FBQzVDLElBQUkySCxpQkFBaUJvQixNQUFNLEdBQUcsR0FBRztZQUM3QixJQUFJLENBQUN4RSxZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQ2tKLG1CQUFtQixFQUFFOUosd0VBQWVBLENBQUN3SyxLQUFLLEVBQUVuRjtRQUN0RixPQUNLO1lBQ0QsSUFBSSxDQUFDdEIsWUFBWSxDQUFDOEIsU0FBUyxDQUFDakYsMkRBQVNBLENBQUNtSixXQUFXLEVBQUUvSix3RUFBZUEsQ0FBQ3dLLEtBQUssRUFBRW5GO1FBQzlFO1FBQ0EsSUFBSWdEO1FBQ0osSUFBSSxJQUFJLENBQUMyQixZQUFZLENBQUMzRSxVQUFVO1lBQzVCZ0QsU0FBUyxJQUFJLENBQUNvQyxrQkFBa0IsQ0FBQztnQkFDN0IsR0FBR3BGLE9BQU87Z0JBQ1ZHO1lBQ0osR0FBR3ZGLDhEQUFLQSxDQUFDa0ssaUJBQWlCLEVBQ3JCL0IsSUFBSSxDQUFDLENBQUNyQjtnQkFDUCxJQUFJLENBQUMvQyxjQUFjLENBQUM2Rix3QkFBd0IsQ0FBQztnQkFDN0NPLG1CQUFtQnpILEdBQUcsQ0FBQztvQkFDbkJDLFNBQVM7b0JBQ1Q4SCxnQkFBZ0I7b0JBQ2hCaEMsYUFBYXpHLGVBQWU4RSxTQUFTN0UsT0FBTztnQkFDaEQ7Z0JBQ0EsT0FBTzZFO1lBQ1gsR0FDSytCLEtBQUssQ0FBQyxDQUFDcEc7Z0JBQ1IsSUFBSUEsYUFBYXJCLHdFQUFlQSxJQUM1QkMsbUZBQXNCQSxDQUFDb0IsSUFBSTtvQkFDM0IsSUFBSSxDQUFDNEQsdUJBQXVCLEdBQUcvRCxXQUFXLGtHQUFrRztvQkFDNUksTUFBTW9JLGNBQWMsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ3BGO29CQUMzQyxPQUFPbUYsWUFBWVQsWUFBWSxDQUFDN0U7Z0JBQ3BDLE9BQ0ssSUFBSTNDLGFBQWE3RCxxRkFBNEJBLEVBQUU7b0JBQ2hELElBQUksQ0FBQ3NFLE1BQU0sQ0FBQ3NELE9BQU8sQ0FBQztvQkFDcEIsTUFBTWtFLGNBQWMsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ3BGO29CQUMzQyxPQUFPbUYsWUFBWVQsWUFBWSxDQUFDN0U7Z0JBQ3BDO2dCQUNBLElBQUksQ0FBQ3JCLGNBQWMsQ0FBQzZGLHdCQUF3QixDQUFDO2dCQUM3QyxNQUFNbkg7WUFDVjtRQUNKLE9BQ0s7WUFDRCxNQUFNaUksY0FBYyxJQUFJLENBQUNDLGlCQUFpQixDQUFDcEY7WUFDM0M2QyxTQUFTc0MsWUFBWVQsWUFBWSxDQUFDN0U7UUFDdEM7UUFDQSxPQUFPZ0QsT0FDRkQsSUFBSSxDQUFDLENBQUNDO1lBQ1A7O2FBRUMsR0FDRCxNQUFNQyxjQUFjbkIsaUJBQWlCb0IsTUFBTSxHQUFHLElBQUksQ0FBQy9JLGNBQWMsR0FBRytJLE1BQU07WUFDMUUsSUFBSUQsYUFBYTtnQkFDYixJQUFJLENBQUN2RSxZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQzRILGFBQWEsRUFBRXhJLHdFQUFlQSxDQUFDd0ssS0FBSyxFQUFFbkM7WUFDaEYsT0FDSztnQkFDRCxJQUFJLENBQUN0RSxZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQzZILHFCQUFxQixFQUFFekksd0VBQWVBLENBQUN3SyxLQUFLLEVBQUVuQztZQUN4RjtZQUNBK0IsbUJBQW1CekgsR0FBRyxDQUFDO2dCQUNuQkMsU0FBUztnQkFDVGlJLGlCQUFpQnhDLE9BQU95QyxXQUFXLENBQUN2QyxNQUFNO2dCQUMxQ3dDLGFBQWExQyxPQUFPMkMsT0FBTyxDQUFDekMsTUFBTTtnQkFDbENHLGFBQWF6RyxlQUFlb0csT0FBT25HLE9BQU87WUFDOUM7WUFDQSxPQUFPbUc7UUFDWCxHQUNLUyxLQUFLLENBQUMsQ0FBQ3BHO1lBQ1IsSUFBSXlFLGlCQUFpQm9CLE1BQU0sR0FBRyxHQUFHO2dCQUM3QixJQUFJLENBQUN4RSxZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQ29JLHFCQUFxQixFQUFFaEosd0VBQWVBLENBQUN3SyxLQUFLLEVBQUUsTUFBTTlIO1lBQzlGLE9BQ0s7Z0JBQ0QsSUFBSSxDQUFDcUIsWUFBWSxDQUFDOEIsU0FBUyxDQUFDakYsMkRBQVNBLENBQUNxSSxhQUFhLEVBQUVqSix3RUFBZUEsQ0FBQ3dLLEtBQUssRUFBRSxNQUFNOUg7WUFDdEY7WUFDQTBILG1CQUFtQnpILEdBQUcsQ0FBQztnQkFDbkJDLFNBQVM7WUFDYixHQUFHRjtZQUNILHNEQUFzRDtZQUN0RCxPQUFPNEgsUUFBUUMsTUFBTSxDQUFDN0g7UUFDMUI7SUFDSjtJQUNBdUMscUNBQXFDO1FBQ2pDLE1BQU1nRyxjQUFjLElBQUksQ0FBQ0Msb0JBQW9CLElBQ3pDLElBQUksQ0FBQ0Msa0NBQWtDO1FBQzNDLElBQUksQ0FBQ0YsYUFBYTtZQUNkO1FBQ0o7UUFDQSxJQUFJLENBQUM5SCxNQUFNLENBQUNzQyxJQUFJLENBQUMsd0NBQXdDd0YsWUFBWWpELEtBQUssQ0FBQ29ELElBQUk7UUFDL0VILFlBQVlJLFNBQVMsQ0FBQztZQUNsQjFGLHVCQUF1QjtRQUMzQjtJQUNKO0lBQ0EsYUFBYTtJQUNiLHNCQUFzQjtJQUN0Qjs7Ozs7Ozs7Ozs7Ozs7S0FjQyxHQUNELE1BQU0yRixVQUFVakcsT0FBTyxFQUFFO1FBQ3JCLE1BQU1HLGdCQUFnQixJQUFJLENBQUNRLHVCQUF1QixDQUFDWDtRQUNuRCxNQUFNa0csZUFBZTtZQUNqQixHQUFHbEcsT0FBTztZQUNWLHFEQUFxRDtZQUNyRG1HLFFBQVFuRyxRQUFRbUcsTUFBTTtZQUN0QmhHLGVBQWVBO1FBQ25CO1FBQ0EsSUFBSSxDQUFDMEYsb0JBQW9CLEdBQUcsSUFBSSxDQUFDdkgsaUJBQWlCLENBQUN3QyxnQkFBZ0IsQ0FBQ3hILHlFQUFpQkEsQ0FBQzhNLFNBQVMsRUFBRWpHO1FBQ2pHLElBQUksQ0FBQzBGLG9CQUFvQixFQUFFN0IsSUFBSTtZQUMzQkMsWUFBWWpFLFFBQVFpRSxVQUFVO1lBQzlCWixhQUFhekcsZUFBZW9ELFFBQVFuRCxPQUFPO1FBQy9DO1FBQ0F6QixlQUFlLElBQUksQ0FBQytCLFdBQVcsRUFBRSxJQUFJLENBQUMwSSxvQkFBb0I7UUFDMUQsSUFBSSxDQUFDQSxvQkFBb0IsRUFBRUcsVUFBVTtZQUNqQzFGLHVCQUF1QjtRQUMzQjtRQUNBK0YsU0FBU0MsZ0JBQWdCLENBQUMsb0JBQW9CLElBQUksQ0FBQzFHLGtDQUFrQztRQUNyRixJQUFJLENBQUM5QixNQUFNLENBQUNzRCxPQUFPLENBQUMsb0JBQW9CakI7UUFDeEMsSUFBSSxDQUFDekIsWUFBWSxDQUFDOEIsU0FBUyxDQUFDakYsMkRBQVNBLENBQUNnTCxnQkFBZ0IsRUFBRTVMLHdFQUFlQSxDQUFDNkwsTUFBTSxFQUFFTjtRQUNoRixJQUFJbEQ7UUFDSixJQUFJLElBQUksQ0FBQzJCLFlBQVksQ0FBQ3VCLGVBQWU7WUFDakNsRCxTQUFTLElBQUksQ0FBQ29DLGtCQUFrQixDQUFDYyxjQUFjdEwsOERBQUtBLENBQUNxTCxTQUFTLEVBQUV4QyxLQUFLLENBQUMsQ0FBQ3BHO2dCQUNuRSx1RkFBdUY7Z0JBQ3ZGLElBQUlBLGFBQWFyQix3RUFBZUEsSUFBSUMsbUZBQXNCQSxDQUFDb0IsSUFBSTtvQkFDM0QsSUFBSSxDQUFDNEQsdUJBQXVCLEdBQUcvRCxXQUFXLGtHQUFrRztvQkFDNUksTUFBTXVKLHFCQUFxQixJQUFJLENBQUNDLHdCQUF3QixDQUFDUixhQUFhL0YsYUFBYTtvQkFDbkYsT0FBT3NHLG1CQUFtQjVCLFlBQVksQ0FBQ3FCO2dCQUMzQztnQkFDQSxNQUFNN0k7WUFDVjtRQUNKLE9BQ0s7WUFDRCxNQUFNb0oscUJBQXFCLElBQUksQ0FBQ0Msd0JBQXdCLENBQUNSLGFBQWEvRixhQUFhO1lBQ25GNkMsU0FBU3lELG1CQUFtQjVCLFlBQVksQ0FBQ3FCO1FBQzdDO1FBQ0EsT0FBT2xELE9BQ0ZELElBQUksQ0FBQyxDQUFDckI7WUFDUCxJQUFJLENBQUNoRCxZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQ29MLGtCQUFrQixFQUFFaE0sd0VBQWVBLENBQUM2TCxNQUFNLEVBQUU5RTtZQUNsRixJQUFJLENBQUNtRSxvQkFBb0IsRUFBRXZJLElBQUk7Z0JBQzNCQyxTQUFTO2dCQUNUOEgsZ0JBQWdCM0QsU0FBU2tGLGdCQUFnQjtnQkFDekNwQixpQkFBaUI5RCxTQUFTK0QsV0FBVyxDQUFDdkMsTUFBTTtnQkFDNUN3QyxhQUFhaEUsU0FBU2lFLE9BQU8sQ0FBQ3pDLE1BQU07Z0JBQ3BDRyxhQUFhekcsZUFBZThFLFNBQVM3RSxPQUFPO1lBQ2hEO1lBQ0EsT0FBTzZFO1FBQ1gsR0FDSytCLEtBQUssQ0FBQyxDQUFDcEc7WUFDUixJQUFJLENBQUNxQixZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQ3NMLGtCQUFrQixFQUFFbE0sd0VBQWVBLENBQUM2TCxNQUFNLEVBQUUsTUFBTW5KO1lBQ3hGLElBQUksQ0FBQ3dJLG9CQUFvQixFQUFFdkksSUFBSTtnQkFDM0JDLFNBQVM7WUFDYixHQUFHRjtZQUNILE1BQU1BO1FBQ1YsR0FDS3lKLE9BQU8sQ0FBQztZQUNUVCxTQUFTVSxtQkFBbUIsQ0FBQyxvQkFBb0IsSUFBSSxDQUFDbkgsa0NBQWtDO1FBQzVGO0lBQ0o7SUFDQTs7Ozs7Ozs7O0tBU0MsR0FDRCxNQUFNb0gsbUJBQW1CaEgsT0FBTyxFQUFFO1FBQzlCLE1BQU1HLGdCQUFnQixJQUFJLENBQUNRLHVCQUF1QixDQUFDWDtRQUNuRCxJQUFJLENBQUNsQyxNQUFNLENBQUN5QyxLQUFLLENBQUMsNkJBQTZCSjtRQUMvQyxNQUFNOEcsa0JBQWtCLElBQUksQ0FBQzNJLGlCQUFpQixDQUFDd0MsZ0JBQWdCLENBQUN4SCx5RUFBaUJBLENBQUM0TixrQkFBa0IsRUFBRS9HO1FBQ3RHL0UsZUFBZSxJQUFJLENBQUMrQixXQUFXLEVBQUU4SjtRQUNqQyxJQUFJLENBQUN2SSxZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQzRMLDJCQUEyQixFQUFFeE0sd0VBQWVBLENBQUM2TCxNQUFNLEVBQUV4RztRQUMzRmlILGdCQUFnQmpELEdBQUcsQ0FBQztZQUFFQyxZQUFZakUsUUFBUWlFLFVBQVU7UUFBQztRQUNyRCxJQUFJO1lBQ0EsSUFBSWpFLFFBQVFvSCxJQUFJLElBQUlwSCxRQUFRcUgsZUFBZSxFQUFFO2dCQUN6QyxnR0FBZ0c7Z0JBQ2hHLE1BQU1qTCxvRkFBc0JBLENBQUNHLCtGQUFnQ0E7WUFDakUsT0FDSyxJQUFJeUQsUUFBUW9ILElBQUksRUFBRTtnQkFDbkIsTUFBTUUsaUJBQWlCdEgsUUFBUW9ILElBQUk7Z0JBQ25DLElBQUkxRixXQUFXLElBQUksQ0FBQ3JELHVCQUF1QixDQUFDc0QsR0FBRyxDQUFDMkY7Z0JBQ2hELElBQUksQ0FBQzVGLFVBQVU7b0JBQ1gsSUFBSSxDQUFDNUQsTUFBTSxDQUFDc0QsT0FBTyxDQUFDLDZDQUE2Q2pCO29CQUNqRXVCLFdBQVcsSUFBSSxDQUFDNkYsdUJBQXVCLENBQUM7d0JBQ3BDLEdBQUd2SCxPQUFPO3dCQUNWRztvQkFDSixHQUNLNEMsSUFBSSxDQUFDLENBQUNDO3dCQUNQLElBQUksQ0FBQ3RFLFlBQVksQ0FBQzhCLFNBQVMsQ0FBQ2pGLDJEQUFTQSxDQUFDaU0sNkJBQTZCLEVBQUU3TSx3RUFBZUEsQ0FBQzZMLE1BQU0sRUFBRXhEO3dCQUM3RixJQUFJLENBQUMzRSx1QkFBdUIsQ0FBQ29KLE1BQU0sQ0FBQ0g7d0JBQ3BDTCxnQkFBZ0IzSixHQUFHLENBQUM7NEJBQ2hCQyxTQUFTOzRCQUNUOEgsZ0JBQWdCckMsT0FBTzRELGdCQUFnQjs0QkFDdkNwQixpQkFBaUJ4QyxPQUFPeUMsV0FBVyxDQUFDdkMsTUFBTTs0QkFDMUN3QyxhQUFhMUMsT0FBTzJDLE9BQU8sQ0FBQ3pDLE1BQU07NEJBQ2xDRyxhQUFhekcsZUFBZW9HLE9BQU9uRyxPQUFPO3dCQUM5Qzt3QkFDQSxPQUFPbUc7b0JBQ1gsR0FDS1MsS0FBSyxDQUFDLENBQUNpRTt3QkFDUixJQUFJLENBQUNySix1QkFBdUIsQ0FBQ29KLE1BQU0sQ0FBQ0g7d0JBQ3BDLElBQUksQ0FBQzVJLFlBQVksQ0FBQzhCLFNBQVMsQ0FBQ2pGLDJEQUFTQSxDQUFDb00sNkJBQTZCLEVBQUVoTix3RUFBZUEsQ0FBQzZMLE1BQU0sRUFBRSxNQUFNa0I7d0JBQ25HVCxnQkFBZ0IzSixHQUFHLENBQUM7NEJBQ2hCQyxTQUFTO3dCQUNiLEdBQUdtSzt3QkFDSCxNQUFNQTtvQkFDVjtvQkFDQSxJQUFJLENBQUNySix1QkFBdUIsQ0FBQ3dELEdBQUcsQ0FBQ3lGLGdCQUFnQjVGO2dCQUNyRCxPQUNLO29CQUNELElBQUksQ0FBQzVELE1BQU0sQ0FBQ3NELE9BQU8sQ0FBQyw2Q0FBNkNqQjtvQkFDakU4RyxnQkFBZ0IxRCxPQUFPO2dCQUMzQjtnQkFDQSxPQUFPLE1BQU03QjtZQUNqQixPQUNLLElBQUkxQixRQUFRcUgsZUFBZSxFQUFFO2dCQUM5QixJQUFJLElBQUksQ0FBQzFDLFlBQVksQ0FBQzNFLFNBQVNBLFFBQVFxSCxlQUFlLEdBQUc7b0JBQ3JELE1BQU1yRSxTQUFTLE1BQU0sSUFBSSxDQUFDb0Msa0JBQWtCLENBQUM7d0JBQ3pDLEdBQUdwRixPQUFPO3dCQUNWRztvQkFDSixHQUFHdkYsOERBQUtBLENBQUNvTSxrQkFBa0IsRUFBRWhILFFBQVFxSCxlQUFlLEVBQUU1RCxLQUFLLENBQUMsQ0FBQ3BHO3dCQUN6RCx1RkFBdUY7d0JBQ3ZGLElBQUlBLGFBQWFyQix3RUFBZUEsSUFDNUJDLG1GQUFzQkEsQ0FBQ29CLElBQUk7NEJBQzNCLElBQUksQ0FBQzRELHVCQUF1QixHQUFHL0QsV0FBVyxrR0FBa0c7d0JBQ2hKO3dCQUNBLE1BQU1HO29CQUNWO29CQUNBNEosZ0JBQWdCM0osR0FBRyxDQUFDO3dCQUNoQitGLGFBQWF6RyxlQUFlb0csT0FBT25HLE9BQU87d0JBQzFDVSxTQUFTO29CQUNiO29CQUNBLE9BQU95RjtnQkFDWCxPQUNLO29CQUNELE1BQU01RyxvRkFBc0JBLENBQUNJLHFHQUFzQ0E7Z0JBQ3ZFO1lBQ0osT0FDSztnQkFDRCxNQUFNSixvRkFBc0JBLENBQUNLLGdHQUFpQ0E7WUFDbEU7UUFDSixFQUNBLE9BQU9ZLEdBQUc7WUFDTixJQUFJLENBQUNxQixZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQ29NLDZCQUE2QixFQUFFaE4sd0VBQWVBLENBQUM2TCxNQUFNLEVBQUUsTUFBTW5KO1lBQ25HNEosZ0JBQWdCM0osR0FBRyxDQUFDO2dCQUNoQkMsU0FBUztZQUNiLEdBQUdGO1lBQ0gsTUFBTUE7UUFDVjtJQUNKO0lBQ0E7Ozs7S0FJQyxHQUNELE1BQU1rSyx3QkFBd0J2SCxPQUFPLEVBQUU7UUFDbkMsSUFBSSxDQUFDbEMsTUFBTSxDQUFDeUMsS0FBSyxDQUFDLGtDQUFrQ1AsUUFBUUcsYUFBYTtRQUN6RSxJQUFJLENBQUMyRixrQ0FBa0MsR0FDbkMsSUFBSSxDQUFDeEgsaUJBQWlCLENBQUN3QyxnQkFBZ0IsQ0FBQ3hILHlFQUFpQkEsQ0FBQ3NPLHVCQUF1QixFQUFFNUgsUUFBUUcsYUFBYTtRQUM1RyxJQUFJLENBQUMyRixrQ0FBa0MsRUFBRUUsVUFBVTtZQUMvQzFGLHVCQUF1QjtRQUMzQjtRQUNBK0YsU0FBU0MsZ0JBQWdCLENBQUMsb0JBQW9CLElBQUksQ0FBQzFHLGtDQUFrQztRQUNyRixNQUFNaUksdUJBQXVCLElBQUksQ0FBQ0MsMEJBQTBCLENBQUM5SCxRQUFRRyxhQUFhO1FBQ2xGLE1BQU00SCxvQkFBb0IsTUFBTUYscUJBQzNCaEQsWUFBWSxDQUFDN0UsU0FDYitDLElBQUksQ0FBQyxDQUFDckI7WUFDUCxJQUFJLENBQUNvRSxrQ0FBa0MsRUFBRXhJLElBQUk7Z0JBQ3pDQyxTQUFTO2dCQUNUeUssV0FBV3RHLFNBQVNzRyxTQUFTO2dCQUM3QjNDLGdCQUFnQjNELFNBQVNrRixnQkFBZ0I7WUFDN0M7WUFDQSxPQUFPbEY7UUFDWCxHQUNLK0IsS0FBSyxDQUFDLENBQUN3RTtZQUNSLElBQUksQ0FBQ25DLGtDQUFrQyxFQUFFeEksSUFBSTtnQkFDekNDLFNBQVM7WUFDYixHQUFHMEs7WUFDSCxNQUFNQTtRQUNWLEdBQ0tuQixPQUFPLENBQUM7WUFDVFQsU0FBU1UsbUJBQW1CLENBQUMsb0JBQW9CLElBQUksQ0FBQ25ILGtDQUFrQztRQUM1RjtRQUNBLE9BQU9tSTtJQUNYO0lBQ0E7Ozs7OztLQU1DLEdBQ0QsTUFBTUcsc0JBQXNCQyxhQUFhLEVBQUVDLGlCQUFpQixFQUFFO1FBQzFELElBQUksQ0FBQzlKLGlCQUFpQixDQUFDK0osbUJBQW1CLENBQUMvTyx5RUFBaUJBLENBQUNnUCxxQkFBcUIsRUFBRUgsY0FBY2hJLGFBQWE7UUFDL0csT0FBUWlJO1lBQ0osS0FBS3ZOLDBFQUFpQkEsQ0FBQzBOLE9BQU87WUFDOUIsS0FBSzFOLDBFQUFpQkEsQ0FBQzJOLFdBQVc7WUFDbEMsS0FBSzNOLDBFQUFpQkEsQ0FBQzROLDBCQUEwQjtnQkFDN0MsTUFBTUMsb0JBQW9CLElBQUksQ0FBQ0MsdUJBQXVCLENBQUNSLGNBQWNoSSxhQUFhO2dCQUNsRixPQUFPNUcsd0VBQVdBLENBQUNtUCxrQkFBa0I3RCxZQUFZLENBQUNsRixJQUFJLENBQUMrSSxvQkFBb0JwUCx5RUFBaUJBLENBQUNzUCw2QkFBNkIsRUFBRSxJQUFJLENBQUM5SyxNQUFNLEVBQUUsSUFBSSxDQUFDUSxpQkFBaUIsRUFBRTZKLGNBQWNoSSxhQUFhLEVBQUVnSTtZQUNsTTtnQkFDSSxNQUFNMU8sa0ZBQXFCQSxDQUFDQyw2RUFBeUM7UUFDN0U7SUFDSjtJQUNBOzs7OztLQUtDLEdBQ0QsTUFBTW9QLDJCQUEyQlgsYUFBYSxFQUFFQyxpQkFBaUIsRUFBRTtRQUMvRCxJQUFJLENBQUM5SixpQkFBaUIsQ0FBQytKLG1CQUFtQixDQUFDL08seUVBQWlCQSxDQUFDeVAsMEJBQTBCLEVBQUVaLGNBQWNoSSxhQUFhO1FBQ3BILE9BQVFpSTtZQUNKLEtBQUt2TiwwRUFBaUJBLENBQUMwTixPQUFPO1lBQzlCLEtBQUsxTiwwRUFBaUJBLENBQUM0TiwwQkFBMEI7WUFDakQsS0FBSzVOLDBFQUFpQkEsQ0FBQ21PLFlBQVk7WUFDbkMsS0FBS25PLDBFQUFpQkEsQ0FBQ29PLHNCQUFzQjtnQkFDekMsTUFBTUMsc0JBQXNCLElBQUksQ0FBQ0MseUJBQXlCLENBQUNoQixjQUFjaEksYUFBYTtnQkFDdEYsT0FBTzVHLHdFQUFXQSxDQUFDMlAsb0JBQW9CckUsWUFBWSxDQUFDbEYsSUFBSSxDQUFDdUosc0JBQXNCNVAseUVBQWlCQSxDQUFDOFAsK0JBQStCLEVBQUUsSUFBSSxDQUFDdEwsTUFBTSxFQUFFLElBQUksQ0FBQ1EsaUJBQWlCLEVBQUU2SixjQUFjaEksYUFBYSxFQUFFZ0k7WUFDeE07Z0JBQ0ksTUFBTTFPLGtGQUFxQkEsQ0FBQ0MsNkVBQXlDO1FBQzdFO0lBQ0o7SUFDQTs7OztLQUlDLEdBQ0QsTUFBTTJQLDJCQUEyQnJKLE9BQU8sRUFBRTtRQUN0QyxJQUFJLENBQUMxQixpQkFBaUIsQ0FBQytKLG1CQUFtQixDQUFDL08seUVBQWlCQSxDQUFDZ1EsMEJBQTBCLEVBQUV0SixRQUFRRyxhQUFhO1FBQzlHLE1BQU1zRyxxQkFBcUIsSUFBSSxDQUFDQyx3QkFBd0IsQ0FBQzFHLFFBQVFHLGFBQWE7UUFDOUUsT0FBTzVHLHdFQUFXQSxDQUFDa04sbUJBQW1CNUIsWUFBWSxDQUFDbEYsSUFBSSxDQUFDOEcscUJBQXFCbk4seUVBQWlCQSxDQUFDaVEsOEJBQThCLEVBQUUsSUFBSSxDQUFDekwsTUFBTSxFQUFFLElBQUksQ0FBQ1EsaUJBQWlCLEVBQUUwQixRQUFRRyxhQUFhLEVBQUVIO0lBQy9MO0lBQ0EsYUFBYTtJQUNiLGlCQUFpQjtJQUNqQjs7OztLQUlDLEdBQ0QsTUFBTXdKLE9BQU9DLGFBQWEsRUFBRTtRQUN4QixNQUFNdEosZ0JBQWdCLElBQUksQ0FBQ1EsdUJBQXVCLENBQUM4STtRQUNuRCxJQUFJLENBQUMzTCxNQUFNLENBQUM0TCxPQUFPLENBQUMsb0dBQW9Hdko7UUFDeEgsT0FBTyxJQUFJLENBQUN3SixjQUFjLENBQUM7WUFDdkJ4SjtZQUNBLEdBQUdzSixhQUFhO1FBQ3BCO0lBQ0o7SUFDQTs7OztLQUlDLEdBQ0QsTUFBTUUsZUFBZUYsYUFBYSxFQUFFO1FBQ2hDLE1BQU10SixnQkFBZ0IsSUFBSSxDQUFDUSx1QkFBdUIsQ0FBQzhJO1FBQ25EdE8sK0VBQXNCQSxDQUFDLElBQUksQ0FBQ2dDLFdBQVcsRUFBRSxJQUFJLENBQUNTLE1BQU07UUFDcEQsSUFBSSxDQUFDZSxjQUFjLENBQUM2Rix3QkFBd0IsQ0FBQztRQUM3QyxNQUFNNUIsaUJBQWlCLElBQUksQ0FBQ0Msb0JBQW9CLENBQUMxQztRQUNqRCxPQUFPeUMsZUFBZTRHLE1BQU0sQ0FBQ0M7SUFDakM7SUFDQTs7O0tBR0MsR0FDREcsWUFBWUgsYUFBYSxFQUFFO1FBQ3ZCLElBQUk7WUFDQSxNQUFNdEosZ0JBQWdCLElBQUksQ0FBQ1EsdUJBQXVCLENBQUM4STtZQUNuRHBPLHVFQUFnQkEsQ0FBQyxJQUFJLENBQUM4QixXQUFXO1lBQ2pDLElBQUksQ0FBQ3dCLGNBQWMsQ0FBQzZGLHdCQUF3QixDQUFDO1lBQzdDLE1BQU1jLGNBQWMsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ3BGO1lBQzNDLE9BQU9tRixZQUFZa0UsTUFBTSxDQUFDQztRQUM5QixFQUNBLE9BQU9wTSxHQUFHO1lBQ04sc0RBQXNEO1lBQ3RELE9BQU80SCxRQUFRQyxNQUFNLENBQUM3SDtRQUMxQjtJQUNKO0lBQ0E7OztLQUdDLEdBQ0QsTUFBTXdNLFdBQVdKLGFBQWEsRUFBRTtRQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDOUwsb0JBQW9CLEVBQUU7WUFDNUIsSUFBSSxDQUFDRyxNQUFNLENBQUNzQyxJQUFJLENBQUM7WUFDakI7UUFDSjtRQUNBLE1BQU1ELGdCQUFnQixJQUFJLENBQUNRLHVCQUF1QixDQUFDOEk7UUFDbkQsTUFBTUssY0FBYyxJQUFJLENBQUNuQix1QkFBdUIsQ0FBQ3hJO1FBQ2pELE9BQU8ySixZQUFZTixNQUFNLENBQUNDO0lBQzlCO0lBQ0EsYUFBYTtJQUNiLHVCQUF1QjtJQUN2Qjs7OztLQUlDLEdBQ0R0UCxlQUFlNFAsYUFBYSxFQUFFO1FBQzFCLE9BQU81UCwwRUFBY0EsQ0FBQyxJQUFJLENBQUMyRCxNQUFNLEVBQUUsSUFBSSxDQUFDYSxjQUFjLEVBQUUsSUFBSSxDQUFDaEIsb0JBQW9CLEVBQUVvTTtJQUN2RjtJQUNBOzs7O0tBSUMsR0FDRDNQLFdBQVcyUCxhQUFhLEVBQUU7UUFDdEIsT0FBTzNQLHNFQUFVQSxDQUFDMlAsZUFBZSxJQUFJLENBQUNqTSxNQUFNLEVBQUUsSUFBSSxDQUFDYSxjQUFjO0lBQ3JFO0lBQ0E7Ozs7Ozs7S0FPQyxHQUNEdEUscUJBQXFCMlAsUUFBUSxFQUFFO1FBQzNCLE9BQU8zUCxnRkFBb0JBLENBQUMyUCxVQUFVLElBQUksQ0FBQ2xNLE1BQU0sRUFBRSxJQUFJLENBQUNhLGNBQWM7SUFDMUU7SUFDQTs7Ozs7O0tBTUMsR0FDRHJFLG1CQUFtQjJQLGFBQWEsRUFBRTtRQUM5QixPQUFPM1AsOEVBQWtCQSxDQUFDMlAsZUFBZSxJQUFJLENBQUNuTSxNQUFNLEVBQUUsSUFBSSxDQUFDYSxjQUFjO0lBQzdFO0lBQ0E7Ozs7OztLQU1DLEdBQ0RwRSxvQkFBb0IyUCxjQUFjLEVBQUU7UUFDaEMsT0FBTzNQLCtFQUFtQkEsQ0FBQzJQLGdCQUFnQixJQUFJLENBQUNwTSxNQUFNLEVBQUUsSUFBSSxDQUFDYSxjQUFjO0lBQy9FO0lBQ0E7OztLQUdDLEdBQ0RuRSxpQkFBaUJxQyxPQUFPLEVBQUU7UUFDdEJyQyw0RUFBZ0JBLENBQUNxQyxTQUFTLElBQUksQ0FBQzhCLGNBQWM7SUFDakQ7SUFDQTs7S0FFQyxHQUNEbEUsbUJBQW1CO1FBQ2YsT0FBT0EsNEVBQWdCQSxDQUFDLElBQUksQ0FBQ2tFLGNBQWM7SUFDL0M7SUFDQSxhQUFhO0lBQ2I7Ozs7O0tBS0MsR0FDRCxNQUFNd0wsYUFBYW5ILE1BQU0sRUFBRWhELE9BQU8sRUFBRTtRQUNoQyxJQUFJLENBQUNsQyxNQUFNLENBQUNzRCxPQUFPLENBQUM7UUFDcEIsb0VBQW9FO1FBQ3BFLE1BQU1nSixnQkFBZ0J6USxzRUFBYUEsQ0FBQzBRLHFCQUFxQixDQUFDckgsT0FBT25HLE9BQU8sRUFBRW1HLE9BQU9zSCxrQkFBa0IsRUFBRXRILE9BQU91SCxXQUFXO1FBQ3ZILElBQUksQ0FBQzVMLGNBQWMsQ0FBQzZMLFVBQVUsQ0FBQ0o7UUFDL0IsSUFBSXBILE9BQU80RCxnQkFBZ0IsRUFBRTtZQUN6QixJQUFJLENBQUM5SSxNQUFNLENBQUNzRCxPQUFPLENBQUM7WUFDcEIsaURBQWlEO1lBQ2pELE9BQU8sSUFBSSxDQUFDN0IscUJBQXFCLENBQUM0SyxZQUFZLENBQUNuSCxRQUFRaEQ7UUFDM0QsT0FDSztZQUNELE9BQU8sSUFBSSxDQUFDckIsY0FBYyxDQUFDd0wsWUFBWSxDQUFDbkgsUUFBUWhEO1FBQ3BEO0lBQ0o7SUFDQSxrQkFBa0I7SUFDbEI7OztLQUdDLEdBQ0QsTUFBTW9GLG1CQUFtQnBGLE9BQU8sRUFBRXlLLEtBQUssRUFBRWhJLFNBQVMsRUFBRTtRQUNoRCxJQUFJLENBQUMzRSxNQUFNLENBQUN5QyxLQUFLLENBQUM7UUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQ1UsdUJBQXVCLEVBQUU7WUFDL0IsTUFBTTdFLG9GQUFzQkEsQ0FBQ00sNkZBQThCQTtRQUMvRDtRQUNBLE1BQU04RixlQUFlLElBQUkxRyxxR0FBdUJBLENBQUMsSUFBSSxDQUFDOEIsTUFBTSxFQUFFLElBQUksQ0FBQ2UsY0FBYyxFQUFFLElBQUksQ0FBQ0YsYUFBYSxFQUFFLElBQUksQ0FBQ1gsTUFBTSxFQUFFLElBQUksQ0FBQ1ksWUFBWSxFQUFFLElBQUksQ0FBQ1IsZ0JBQWdCLEVBQUV1TSxPQUFPLElBQUksQ0FBQ25NLGlCQUFpQixFQUFFLElBQUksQ0FBQzJDLHVCQUF1QixFQUFFd0IsYUFBYSxJQUFJLENBQUNtQyxrQkFBa0IsQ0FBQzVFLFVBQVUsSUFBSSxDQUFDVCxxQkFBcUIsRUFBRVMsUUFBUUcsYUFBYTtRQUMzVCxPQUFPcUMsYUFBYXFDLFlBQVksQ0FBQzdFO0lBQ3JDO0lBQ0E7OztLQUdDLEdBQ0QyRSxhQUFhM0UsT0FBTyxFQUFFeUMsU0FBUyxFQUFFO1FBQzdCLElBQUksQ0FBQzNFLE1BQU0sQ0FBQ3lDLEtBQUssQ0FBQztRQUNsQixJQUFJLENBQUN4RSxnR0FBb0JBLENBQUNrRyxpQkFBaUIsQ0FBQyxJQUFJLENBQUNyRSxNQUFNLEVBQUUsSUFBSSxDQUFDRSxNQUFNLEVBQUUsSUFBSSxDQUFDbUQsdUJBQXVCLEVBQUVqQixRQUFRMEssb0JBQW9CLEdBQUc7WUFDL0gsSUFBSSxDQUFDNU0sTUFBTSxDQUFDeUMsS0FBSyxDQUFDO1lBQ2xCLE9BQU87UUFDWDtRQUNBLElBQUlQLFFBQVFtRyxNQUFNLEVBQUU7WUFDaEIsT0FBUW5HLFFBQVFtRyxNQUFNO2dCQUNsQixLQUFLdk0sb0VBQVdBLENBQUMrUSxJQUFJO2dCQUNyQixLQUFLL1Esb0VBQVdBLENBQUNnUixPQUFPO2dCQUN4QixLQUFLaFIsb0VBQVdBLENBQUNpUixLQUFLO29CQUNsQixJQUFJLENBQUMvTSxNQUFNLENBQUN5QyxLQUFLLENBQUM7b0JBQ2xCO2dCQUNKO29CQUNJLElBQUksQ0FBQ3pDLE1BQU0sQ0FBQ3lDLEtBQUssQ0FBQyxDQUFDLHVCQUF1QixFQUFFUCxRQUFRbUcsTUFBTSxDQUFDLG9EQUFvRCxDQUFDO29CQUNoSCxPQUFPO1lBQ2Y7UUFDSjtRQUNBLElBQUksQ0FBQzFELGFBQWEsQ0FBQyxJQUFJLENBQUNtQyxrQkFBa0IsQ0FBQzVFLFVBQVU7WUFDakQsSUFBSSxDQUFDbEMsTUFBTSxDQUFDeUMsS0FBSyxDQUFDO1lBQ2xCLE9BQU87UUFDWDtRQUNBLE9BQU87SUFDWDtJQUNBOzs7O0tBSUMsR0FDRHFFLG1CQUFtQjVFLE9BQU8sRUFBRTtRQUN4QixNQUFNbkQsVUFBVW1ELFFBQVFuRCxPQUFPLElBQzNCLElBQUksQ0FBQ3pDLFVBQVUsQ0FBQztZQUNaMFEsV0FBVzlLLFFBQVE4SyxTQUFTO1lBQzVCQyxLQUFLL0ssUUFBUStLLEdBQUc7UUFDcEIsTUFDQSxJQUFJLENBQUN0USxnQkFBZ0I7UUFDekIsT0FBTyxXQUFZb0MsUUFBUXdLLGVBQWUsSUFBSztJQUNuRDtJQUNBOzs7S0FHQyxHQUNEOUIsa0JBQWtCcEYsYUFBYSxFQUFFO1FBQzdCLE9BQU8sSUFBSTFFLDZFQUFXQSxDQUFDLElBQUksQ0FBQ21DLE1BQU0sRUFBRSxJQUFJLENBQUNlLGNBQWMsRUFBRSxJQUFJLENBQUNGLGFBQWEsRUFBRSxJQUFJLENBQUNYLE1BQU0sRUFBRSxJQUFJLENBQUNZLFlBQVksRUFBRSxJQUFJLENBQUNSLGdCQUFnQixFQUFFLElBQUksQ0FBQ0ksaUJBQWlCLEVBQUUsSUFBSSxDQUFDaUIscUJBQXFCLEVBQUUsSUFBSSxDQUFDMEIsdUJBQXVCLEVBQUVkO0lBQzFOO0lBQ0E7OztLQUdDLEdBQ0QwQyxxQkFBcUIxQyxhQUFhLEVBQUU7UUFDaEMsT0FBTyxJQUFJekUsbUZBQWNBLENBQUMsSUFBSSxDQUFDa0MsTUFBTSxFQUFFLElBQUksQ0FBQ2UsY0FBYyxFQUFFLElBQUksQ0FBQ0YsYUFBYSxFQUFFLElBQUksQ0FBQ1gsTUFBTSxFQUFFLElBQUksQ0FBQ1ksWUFBWSxFQUFFLElBQUksQ0FBQ1IsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDSSxpQkFBaUIsRUFBRSxJQUFJLENBQUNpQixxQkFBcUIsRUFBRSxJQUFJLENBQUMwQix1QkFBdUIsRUFBRWQ7SUFDN047SUFDQTs7O0tBR0MsR0FDRHVHLHlCQUF5QnZHLGFBQWEsRUFBRTtRQUNwQyxPQUFPLElBQUl4RSwyRkFBa0JBLENBQUMsSUFBSSxDQUFDaUMsTUFBTSxFQUFFLElBQUksQ0FBQ2UsY0FBYyxFQUFFLElBQUksQ0FBQ0YsYUFBYSxFQUFFLElBQUksQ0FBQ1gsTUFBTSxFQUFFLElBQUksQ0FBQ1ksWUFBWSxFQUFFLElBQUksQ0FBQ1IsZ0JBQWdCLEVBQUV0RCw4REFBS0EsQ0FBQ3FMLFNBQVMsRUFBRSxJQUFJLENBQUMzSCxpQkFBaUIsRUFBRSxJQUFJLENBQUNpQixxQkFBcUIsRUFBRSxJQUFJLENBQUMwQix1QkFBdUIsRUFBRWQ7SUFDbFA7SUFDQTs7S0FFQyxHQUNEd0ksd0JBQXdCeEksYUFBYSxFQUFFO1FBQ25DLE9BQU8sSUFBSWpFLHlGQUFpQkEsQ0FBQyxJQUFJLENBQUMwQixNQUFNLEVBQUUsSUFBSSxDQUFDZSxjQUFjLEVBQUUsSUFBSSxDQUFDRixhQUFhLEVBQUUsSUFBSSxDQUFDWCxNQUFNLEVBQUUsSUFBSSxDQUFDWSxZQUFZLEVBQUUsSUFBSSxDQUFDUixnQkFBZ0IsRUFBRSxJQUFJLENBQUNJLGlCQUFpQixFQUFFLElBQUksQ0FBQzJDLHVCQUF1QixFQUFFZDtJQUNwTTtJQUNBOztLQUVDLEdBQ0RnSiwwQkFBMEJoSixhQUFhLEVBQUU7UUFDckMsT0FBTyxJQUFJdkUsNkZBQW1CQSxDQUFDLElBQUksQ0FBQ2dDLE1BQU0sRUFBRSxJQUFJLENBQUNlLGNBQWMsRUFBRSxJQUFJLENBQUNGLGFBQWEsRUFBRSxJQUFJLENBQUNYLE1BQU0sRUFBRSxJQUFJLENBQUNZLFlBQVksRUFBRSxJQUFJLENBQUNSLGdCQUFnQixFQUFFLElBQUksQ0FBQ0ksaUJBQWlCLEVBQUUsSUFBSSxDQUFDMkMsdUJBQXVCLEVBQUVkO0lBQ3RNO0lBQ0E7O0tBRUMsR0FDRDJILDJCQUEyQjNILGFBQWEsRUFBRTtRQUN0QyxPQUFPLElBQUloRSwrRkFBb0JBLENBQUMsSUFBSSxDQUFDeUIsTUFBTSxFQUFFLElBQUksQ0FBQ2UsY0FBYyxFQUFFLElBQUksQ0FBQ0YsYUFBYSxFQUFFLElBQUksQ0FBQ1gsTUFBTSxFQUFFLElBQUksQ0FBQ1ksWUFBWSxFQUFFLElBQUksQ0FBQ1IsZ0JBQWdCLEVBQUV0RCw4REFBS0EsQ0FBQ29NLGtCQUFrQixFQUFFLElBQUksQ0FBQzFJLGlCQUFpQixFQUFFLElBQUksQ0FBQzJDLHVCQUF1QixFQUFFZDtJQUNqTztJQUNBOzs7S0FHQyxHQUNENkssaUJBQWlCQyxRQUFRLEVBQUVDLFVBQVUsRUFBRTtRQUNuQyxPQUFPLElBQUksQ0FBQ3hNLFlBQVksQ0FBQ3NNLGdCQUFnQixDQUFDQyxVQUFVQztJQUN4RDtJQUNBOzs7S0FHQyxHQUNEQyxvQkFBb0JDLFVBQVUsRUFBRTtRQUM1QixJQUFJLENBQUMxTSxZQUFZLENBQUN5TSxtQkFBbUIsQ0FBQ0M7SUFDMUM7SUFDQTs7Ozs7S0FLQyxHQUNEQyx1QkFBdUJKLFFBQVEsRUFBRTtRQUM3QjNQLG1GQUEwQkE7UUFDMUIsT0FBTyxJQUFJLENBQUNnRCxpQkFBaUIsQ0FBQytNLHNCQUFzQixDQUFDSjtJQUN6RDtJQUNBOzs7OztLQUtDLEdBQ0RLLDBCQUEwQkYsVUFBVSxFQUFFO1FBQ2xDLE9BQU8sSUFBSSxDQUFDOU0saUJBQWlCLENBQUNnTix5QkFBeUIsQ0FBQ0Y7SUFDNUQ7SUFDQTs7S0FFQyxHQUNERyw2QkFBNkI7UUFDekIsSUFBSSxJQUE2QixFQUFFO1lBQy9CO1FBQ0o7UUFDQSxJQUFJLENBQUMsSUFBSSxDQUFDMUwsd0JBQXdCLEVBQUU7WUFDaEMsSUFBSSxDQUFDL0IsTUFBTSxDQUFDc0QsT0FBTyxDQUFDO1lBQ3BCLElBQUksQ0FBQ3ZCLHdCQUF3QixHQUFHO1lBQ2hDMkwsT0FBT2xGLGdCQUFnQixDQUFDLFdBQVcsSUFBSSxDQUFDeEcsd0JBQXdCO1FBQ3BFLE9BQ0s7WUFDRCxJQUFJLENBQUNoQyxNQUFNLENBQUNzRCxPQUFPLENBQUM7UUFDeEI7SUFDSjtJQUNBOztLQUVDLEdBQ0RxSyw4QkFBOEI7UUFDMUIsSUFBSSxJQUE2QixFQUFFO1lBQy9CO1FBQ0o7UUFDQSxJQUFJLElBQUksQ0FBQzVMLHdCQUF3QixFQUFFO1lBQy9CLElBQUksQ0FBQy9CLE1BQU0sQ0FBQ3NELE9BQU8sQ0FBQztZQUNwQm9LLE9BQU96RSxtQkFBbUIsQ0FBQyxXQUFXLElBQUksQ0FBQ2pILHdCQUF3QjtZQUNuRSxJQUFJLENBQUNELHdCQUF3QixHQUFHO1FBQ3BDLE9BQ0s7WUFDRCxJQUFJLENBQUMvQixNQUFNLENBQUNzRCxPQUFPLENBQUM7UUFDeEI7SUFDSjtJQUNBOztLQUVDLEdBQ0R0Qix5QkFBeUJ6QyxDQUFDLEVBQUU7UUFDeEIsSUFBSTtZQUNBLHNDQUFzQztZQUN0QyxJQUFJQSxFQUFFcU8sR0FBRyxFQUFFQyxTQUFTOVIsNEVBQW1CQSxDQUFDK1Isc0JBQXNCLEdBQUc7Z0JBQzdELHNJQUFzSTtnQkFDdEksSUFBSSxDQUFDbE4sWUFBWSxDQUFDOEIsU0FBUyxDQUFDakYsMkRBQVNBLENBQUNzUSxzQkFBc0I7WUFDaEU7WUFDQSwrQkFBK0I7WUFDL0IsTUFBTUMsYUFBYXpPLEVBQUUwTyxRQUFRLElBQUkxTyxFQUFFMk8sUUFBUTtZQUMzQyxJQUFJLENBQUNGLFlBQVk7Z0JBQ2I7WUFDSjtZQUNBLE1BQU1HLGNBQWNDLEtBQUtDLEtBQUssQ0FBQ0w7WUFDL0IsSUFBSSxPQUFPRyxnQkFBZ0IsWUFDdkIsQ0FBQ3RTLHNFQUFhQSxDQUFDeVMsZUFBZSxDQUFDSCxjQUFjO2dCQUM3QztZQUNKO1lBQ0EsTUFBTTdCLGdCQUFnQnRRLHFFQUFZQSxDQUFDdVMsUUFBUSxDQUFDLElBQUkxUyxzRUFBYUEsSUFBSXNTO1lBQ2pFLE1BQU1LLGNBQWNsQyxjQUFjbUMsY0FBYztZQUNoRCxJQUFJLENBQUNsUCxFQUFFMk8sUUFBUSxJQUFJM08sRUFBRTBPLFFBQVEsRUFBRTtnQkFDM0IsSUFBSSxDQUFDak8sTUFBTSxDQUFDc0MsSUFBSSxDQUFDO2dCQUNqQixJQUFJLENBQUMxQixZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQ2lSLGFBQWEsRUFBRXRQLFdBQVdvUDtZQUNwRSxPQUNLLElBQUksQ0FBQ2pQLEVBQUUwTyxRQUFRLElBQUkxTyxFQUFFMk8sUUFBUSxFQUFFO2dCQUNoQyxJQUFJLENBQUNsTyxNQUFNLENBQUNzQyxJQUFJLENBQUM7Z0JBQ2pCLElBQUksQ0FBQzFCLFlBQVksQ0FBQzhCLFNBQVMsQ0FBQ2pGLDJEQUFTQSxDQUFDa1IsZUFBZSxFQUFFdlAsV0FBV29QO1lBQ3RFO1FBQ0osRUFDQSxPQUFPalAsR0FBRztZQUNOO1FBQ0o7SUFDSjtJQUNBOztLQUVDLEdBQ0RxUCxnQkFBZ0I7UUFDWixPQUFPLElBQUksQ0FBQ2xOLFVBQVU7SUFDMUI7SUFDQTs7S0FFQyxHQUNEekIsWUFBWTtRQUNSLE9BQU8sSUFBSSxDQUFDRCxNQUFNO0lBQ3RCO0lBQ0E7OztLQUdDLEdBQ0Q2TyxVQUFVN08sTUFBTSxFQUFFO1FBQ2QsSUFBSSxDQUFDQSxNQUFNLEdBQUdBO0lBQ2xCO0lBQ0E7Ozs7S0FJQyxHQUNEOE8seUJBQXlCQyxHQUFHLEVBQUVDLE9BQU8sRUFBRTtRQUNuQyw4Q0FBOEM7UUFDOUMsSUFBSSxDQUFDbk8sY0FBYyxDQUFDb08sa0JBQWtCLENBQUNGLEtBQUtDO0lBQ2hEO0lBQ0E7OztLQUdDLEdBQ0RFLG9CQUFvQjlPLGdCQUFnQixFQUFFO1FBQ2xDLElBQUksQ0FBQ0EsZ0JBQWdCLEdBQUdBO0lBQzVCO0lBQ0E7O0tBRUMsR0FDRCtPLG1CQUFtQjtRQUNmLE9BQU8sSUFBSSxDQUFDclAsTUFBTTtJQUN0QjtJQUNBOztLQUVDLEdBQ0RzUCx1QkFBdUI7UUFDbkIsT0FBTyxJQUFJLENBQUM1TyxpQkFBaUI7SUFDakM7SUFDQTs7S0FFQyxHQUNENk8sZUFBZTtRQUNYLE9BQU8sSUFBSSxDQUFDeFAsb0JBQW9CO0lBQ3BDO0lBQ0E7Ozs7OztLQU1DLEdBQ0RnRCx3QkFBd0JYLE9BQU8sRUFBRTtRQUM3QixJQUFJQSxTQUFTRyxlQUFlO1lBQ3hCLE9BQU9ILFFBQVFHLGFBQWE7UUFDaEM7UUFDQSxJQUFJLElBQUksQ0FBQ3hDLG9CQUFvQixFQUFFO1lBQzNCLE9BQU90Qix5RUFBYUE7UUFDeEI7UUFDQTs7O1NBR0MsR0FDRCxPQUFPdEMsa0VBQVNBLENBQUNxVCxZQUFZO0lBQ2pDO0lBQ0EsYUFBYTtJQUNiOzs7Ozs7OztLQVFDLEdBQ0QsTUFBTUMsY0FBY3JOLE9BQU8sRUFBRTtRQUN6QixNQUFNRyxnQkFBZ0IsSUFBSSxDQUFDUSx1QkFBdUIsQ0FBQ1g7UUFDbkQsSUFBSSxDQUFDbEMsTUFBTSxDQUFDc0QsT0FBTyxDQUFDLHdCQUF3QmpCO1FBQzVDLE9BQU8sSUFBSSxDQUFDMEQsb0JBQW9CLENBQUM7WUFDN0IxRDtZQUNBLEdBQUlILFdBQVdsRix3RUFBZTtRQUNsQztJQUNKO0lBQ0E7Ozs7OztLQU1DLEdBQ0R3UyxXQUFXdE4sT0FBTyxFQUFFO1FBQ2hCLE1BQU1HLGdCQUFnQixJQUFJLENBQUNRLHVCQUF1QixDQUFDWDtRQUNuRCxJQUFJLENBQUNsQyxNQUFNLENBQUNzRCxPQUFPLENBQUMscUJBQXFCakI7UUFDekMsT0FBTyxJQUFJLENBQUMyRSxpQkFBaUIsQ0FBQztZQUMxQjNFO1lBQ0EsR0FBSUgsV0FBV2xGLHdFQUFlO1FBQ2xDO0lBQ0o7SUFDQTs7Ozs7S0FLQyxHQUNELE1BQU15UyxtQkFBbUJ2TixPQUFPLEVBQUU7UUFDOUIsTUFBTUcsZ0JBQWdCLElBQUksQ0FBQ1EsdUJBQXVCLENBQUNYO1FBQ25ELE1BQU13TixpQkFBaUIsSUFBSSxDQUFDbFAsaUJBQWlCLENBQUN3QyxnQkFBZ0IsQ0FBQ3hILHlFQUFpQkEsQ0FBQ21VLGtCQUFrQixFQUFFdE47UUFDckdxTixlQUFleEosR0FBRyxDQUFDO1lBQ2ZvRSxtQkFBbUJwSSxRQUFRb0ksaUJBQWlCO1lBQzVDbkUsWUFBWWpFLFFBQVFpRSxVQUFVO1FBQ2xDO1FBQ0E3SSxlQUFlLElBQUksQ0FBQytCLFdBQVcsRUFBRXFRO1FBQ2pDLElBQUksQ0FBQzFQLE1BQU0sQ0FBQ3NELE9BQU8sQ0FBQyw2QkFBNkJqQjtRQUNqRCxNQUFNdEQsVUFBVW1ELFFBQVFuRCxPQUFPLElBQUksSUFBSSxDQUFDcEMsZ0JBQWdCO1FBQ3hELElBQUksQ0FBQ29DLFNBQVM7WUFDVixNQUFNVCxvRkFBc0JBLENBQUNPLDZFQUFjQTtRQUMvQztRQUNBNlEsZUFBZXhKLEdBQUcsQ0FBQztZQUFFWCxhQUFhekcsZUFBZUM7UUFBUztRQUMxRCxNQUFNNlEsYUFBYTtZQUNmN08sVUFBVSxJQUFJLENBQUNqQixNQUFNLENBQUNnQixJQUFJLENBQUNDLFFBQVE7WUFDbkM4TyxXQUFXM04sUUFBUTJOLFNBQVMsSUFBSTVULGtFQUFTQSxDQUFDcVQsWUFBWTtZQUN0RFEsUUFBUTVOLFFBQVE0TixNQUFNO1lBQ3RCQyx1QkFBdUJoUixRQUFRb04sYUFBYTtZQUM1QzZELFFBQVE5TixRQUFROE4sTUFBTTtZQUN0QnBELHNCQUFzQjFLLFFBQVEwSyxvQkFBb0I7WUFDbERxRCx1QkFBdUIvTixRQUFRK04scUJBQXFCO1lBQ3BEQyxvQkFBb0JoTyxRQUFRZ08sa0JBQWtCO1lBQzlDQyxXQUFXak8sUUFBUWlPLFNBQVM7WUFDNUJDLFFBQVFsTyxRQUFRa08sTUFBTTtZQUN0QkMsWUFBWW5PLFFBQVFtTyxVQUFVO1FBQ2xDO1FBQ0EsTUFBTUMsbUJBQW1CbEMsS0FBS21DLFNBQVMsQ0FBQ1g7UUFDeEMsTUFBTVksaUJBQWlCLElBQUksQ0FBQzdPLHlCQUF5QixDQUFDa0MsR0FBRyxDQUFDeU07UUFDMUQsSUFBSSxPQUFPRSxtQkFBbUIsYUFBYTtZQUN2QyxJQUFJLENBQUN4USxNQUFNLENBQUNzRCxPQUFPLENBQUMsd0VBQXdFakI7WUFDNUYsTUFBTXVCLFdBQVduSSx3RUFBV0EsQ0FBQyxJQUFJLENBQUNnVix1QkFBdUIsQ0FBQzVPLElBQUksQ0FBQyxJQUFJLEdBQUdyRyx5RUFBaUJBLENBQUNrVix1QkFBdUIsRUFBRSxJQUFJLENBQUMxUSxNQUFNLEVBQUUsSUFBSSxDQUFDUSxpQkFBaUIsRUFBRTZCLGVBQWU7Z0JBQ2pLLEdBQUdILE9BQU87Z0JBQ1ZHO1lBQ0osR0FBR3RELFNBQ0VrRyxJQUFJLENBQUMsQ0FBQ0M7Z0JBQ1AsSUFBSSxDQUFDdkQseUJBQXlCLENBQUNnSSxNQUFNLENBQUMyRztnQkFDdENaLGVBQWVsUSxHQUFHLENBQUM7b0JBQ2ZDLFNBQVM7b0JBQ1R5SyxXQUFXaEYsT0FBT2dGLFNBQVM7b0JBQzNCM0MsZ0JBQWdCckMsT0FBTzRELGdCQUFnQjtvQkFDdkN3QixtQkFBbUJwSSxRQUFRb0ksaUJBQWlCO29CQUM1QzVDLGlCQUFpQnhDLE9BQU95QyxXQUFXLENBQUN2QyxNQUFNO29CQUMxQ3dDLGFBQWExQyxPQUFPMkMsT0FBTyxDQUFDekMsTUFBTTtnQkFDdEM7Z0JBQ0EsT0FBT0Y7WUFDWCxHQUNLUyxLQUFLLENBQUMsQ0FBQ2lFO2dCQUNSLElBQUksQ0FBQ2pJLHlCQUF5QixDQUFDZ0ksTUFBTSxDQUFDMkc7Z0JBQ3RDWixlQUFlbFEsR0FBRyxDQUFDO29CQUNmQyxTQUFTO2dCQUNiLEdBQUdtSztnQkFDSCxNQUFNQTtZQUNWO1lBQ0EsSUFBSSxDQUFDakkseUJBQXlCLENBQUNvQyxHQUFHLENBQUN1TSxrQkFBa0IxTTtZQUNyRCxPQUFPO2dCQUNILEdBQUksTUFBTUEsUUFBUTtnQkFDbEIrTSxPQUFPek8sUUFBUXlPLEtBQUs7WUFDeEI7UUFDSixPQUNLO1lBQ0QsSUFBSSxDQUFDM1EsTUFBTSxDQUFDc0QsT0FBTyxDQUFDLDJGQUEyRmpCO1lBQy9HLHlIQUF5SDtZQUN6SHFOLGVBQWVqSyxPQUFPO1lBQ3RCLE9BQU87Z0JBQ0gsR0FBSSxNQUFNK0ssY0FBYztnQkFDeEJHLE9BQU96TyxRQUFReU8sS0FBSztZQUN4QjtRQUNKO0lBQ0o7SUFDQTs7Ozs7S0FLQyxHQUNELE1BQU1GLHdCQUF3QnZPLE9BQU8sRUFBRW5ELE9BQU8sRUFBRTtRQUM1QyxNQUFNNkMsc0JBQXNCLElBQU0sSUFBSSxDQUFDQSxtQkFBbUIsQ0FBQ00sUUFBUUcsYUFBYTtRQUNoRixJQUFJLENBQUM3QixpQkFBaUIsQ0FBQytKLG1CQUFtQixDQUFDL08seUVBQWlCQSxDQUFDa1YsdUJBQXVCLEVBQUV4TyxRQUFRRyxhQUFhO1FBQzNHLElBQUksQ0FBQ3pCLFlBQVksQ0FBQzhCLFNBQVMsQ0FBQ2pGLDJEQUFTQSxDQUFDa0osbUJBQW1CLEVBQUU5Six3RUFBZUEsQ0FBQzZMLE1BQU0sRUFBRXhHO1FBQ25GLElBQUlBLFFBQVFHLGFBQWEsRUFBRTtZQUN2QixJQUFJLENBQUM3QixpQkFBaUIsQ0FBQytCLGVBQWUsQ0FBQztnQkFBRUMsdUJBQXVCO1lBQUUsR0FBR04sUUFBUUcsYUFBYTtRQUM5RjtRQUNBa0csU0FBU0MsZ0JBQWdCLENBQUMsb0JBQW9CNUc7UUFDOUMsTUFBTWdQLGdCQUFnQixNQUFNblYsd0VBQVdBLENBQUMrQyxpRkFBdUJBLEVBQUVoRCx5RUFBaUJBLENBQUNxVix1QkFBdUIsRUFBRSxJQUFJLENBQUM3USxNQUFNLEVBQUUsSUFBSSxDQUFDUSxpQkFBaUIsRUFBRTBCLFFBQVFHLGFBQWEsRUFBRUgsU0FBU25ELFNBQVMsSUFBSSxDQUFDZSxNQUFNLEVBQUUsSUFBSSxDQUFDVSxpQkFBaUIsRUFBRSxJQUFJLENBQUNSLE1BQU07UUFDMU8sTUFBTXNLLG9CQUFvQnBJLFFBQVFvSSxpQkFBaUIsSUFBSXZOLDBFQUFpQkEsQ0FBQzBOLE9BQU87UUFDaEYsTUFBTXZGLFNBQVMsSUFBSSxDQUFDNEwsMEJBQTBCLENBQUNGLGVBQWV0RyxtQkFBbUIzRSxLQUFLLENBQUMsT0FBT29MO1lBQzFGLE1BQU1DLDZCQUE2QkMsOENBQThDRixtQkFBbUJ6RztZQUNwRyxJQUFJMEcsNEJBQTRCO2dCQUM1QixJQUFJLENBQUMsSUFBSSxDQUFDRSxtQkFBbUIsRUFBRTtvQkFDM0IsSUFBSUM7b0JBQ0osdUZBQXVGO29CQUN2RixJQUFJLENBQUNELG1CQUFtQixHQUFHO3dCQUN2QixJQUFJL0osUUFBUSxDQUFDaUs7NEJBQ1RELFdBQVdDO3dCQUNmO3dCQUNBUixjQUFjdk8sYUFBYTtxQkFDOUI7b0JBQ0QsSUFBSSxDQUFDckMsTUFBTSxDQUFDc0QsT0FBTyxDQUFDLDBHQUEwR3NOLGNBQWN2TyxhQUFhO29CQUN6SixPQUFPNUcsd0VBQVdBLENBQUMsSUFBSSxDQUFDOFAsMEJBQTBCLENBQUMxSixJQUFJLENBQUMsSUFBSSxHQUFHckcseUVBQWlCQSxDQUFDZ1EsMEJBQTBCLEVBQUUsSUFBSSxDQUFDeEwsTUFBTSxFQUFFLElBQUksQ0FBQ1EsaUJBQWlCLEVBQUVvUSxjQUFjdk8sYUFBYSxFQUFFdU8sZUFDMUszTCxJQUFJLENBQUMsQ0FBQ29NO3dCQUNQRixTQUFTO3dCQUNULE9BQU9FO29CQUNYLEdBQ0sxTCxLQUFLLENBQUMsQ0FBQ3BHO3dCQUNSNFIsU0FBUzt3QkFDVCxNQUFNNVI7b0JBQ1YsR0FDS3lKLE9BQU8sQ0FBQzt3QkFDVCxJQUFJLENBQUNrSSxtQkFBbUIsR0FBRzlSO29CQUMvQjtnQkFDSixPQUNLLElBQUlrTCxzQkFBc0J2TiwwRUFBaUJBLENBQUN1VSxJQUFJLEVBQUU7b0JBQ25ELE1BQU0sQ0FBQ0MsZUFBZUMsb0JBQW9CLEdBQUcsSUFBSSxDQUFDTixtQkFBbUI7b0JBQ3JFLElBQUksQ0FBQ2xSLE1BQU0sQ0FBQ3NELE9BQU8sQ0FBQyxDQUFDLDJGQUEyRixFQUFFa08sb0JBQW9CLENBQUMsRUFBRVosY0FBY3ZPLGFBQWE7b0JBQ3BLLE1BQU1vUCwrQkFBK0IsSUFBSSxDQUFDalIsaUJBQWlCLENBQUN3QyxnQkFBZ0IsQ0FBQ3hILHlFQUFpQkEsQ0FBQ2tXLHFCQUFxQixFQUFFZCxjQUFjdk8sYUFBYTtvQkFDakpvUCw2QkFBNkJ2TCxHQUFHLENBQUM7d0JBQzdCeUwsMEJBQTBCSDtvQkFDOUI7b0JBQ0EsTUFBTUksc0JBQXNCLE1BQU1MO29CQUNsQ0UsNkJBQTZCalMsR0FBRyxDQUFDO3dCQUM3QkMsU0FBU21TO29CQUNiO29CQUNBLElBQUlBLHFCQUFxQjt3QkFDckIsSUFBSSxDQUFDNVIsTUFBTSxDQUFDc0QsT0FBTyxDQUFDLENBQUMsNENBQTRDLEVBQUVrTyxvQkFBb0IsK0NBQStDLENBQUMsRUFBRVosY0FBY3ZPLGFBQWE7d0JBQ3BLLCtEQUErRDt3QkFDL0QsT0FBTyxJQUFJLENBQUN5TywwQkFBMEIsQ0FBQ0YsZUFBZXRHO29CQUMxRCxPQUNLO3dCQUNELElBQUksQ0FBQ3RLLE1BQU0sQ0FBQ3NDLElBQUksQ0FBQyxDQUFDLG1DQUFtQyxFQUFFa1Asb0JBQW9CLGlDQUFpQyxDQUFDO3dCQUM3RywrRkFBK0Y7d0JBQy9GLE1BQU1UO29CQUNWO2dCQUNKLE9BQ0s7b0JBQ0QsNkVBQTZFO29CQUM3RSxJQUFJLENBQUMvUSxNQUFNLENBQUM0TCxPQUFPLENBQUMseVFBQXlRZ0YsY0FBY3ZPLGFBQWE7b0JBQ3hULE9BQU81Ryx3RUFBV0EsQ0FBQyxJQUFJLENBQUM4UCwwQkFBMEIsQ0FBQzFKLElBQUksQ0FBQyxJQUFJLEdBQUdyRyx5RUFBaUJBLENBQUNnUSwwQkFBMEIsRUFBRSxJQUFJLENBQUN4TCxNQUFNLEVBQUUsSUFBSSxDQUFDUSxpQkFBaUIsRUFBRW9RLGNBQWN2TyxhQUFhLEVBQUV1TztnQkFDbkw7WUFDSixPQUNLO2dCQUNELDJGQUEyRjtnQkFDM0YsTUFBTUc7WUFDVjtRQUNKO1FBQ0EsT0FBTzdMLE9BQ0ZELElBQUksQ0FBQyxDQUFDckI7WUFDUCxJQUFJLENBQUNoRCxZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQzZILHFCQUFxQixFQUFFekksd0VBQWVBLENBQUM2TCxNQUFNLEVBQUU5RTtZQUNyRixJQUFJMUIsUUFBUUcsYUFBYSxFQUFFO2dCQUN2QixJQUFJLENBQUM3QixpQkFBaUIsQ0FBQ3FSLFNBQVMsQ0FBQztvQkFDN0IzSCxXQUFXdEcsU0FBU3NHLFNBQVM7b0JBQzdCM0MsZ0JBQWdCM0QsU0FBU2tGLGdCQUFnQjtnQkFDN0MsR0FBRzVHLFFBQVFHLGFBQWE7WUFDNUI7WUFDQSxPQUFPdUI7UUFDWCxHQUNLK0IsS0FBSyxDQUFDLENBQUN3RTtZQUNSLElBQUksQ0FBQ3ZKLFlBQVksQ0FBQzhCLFNBQVMsQ0FBQ2pGLDJEQUFTQSxDQUFDb0kscUJBQXFCLEVBQUVoSix3RUFBZUEsQ0FBQzZMLE1BQU0sRUFBRSxNQUFNeUI7WUFDM0YsTUFBTUE7UUFDVixHQUNLbkIsT0FBTyxDQUFDO1lBQ1RULFNBQVNVLG1CQUFtQixDQUFDLG9CQUFvQnJIO1FBQ3JEO0lBQ0o7SUFDQTs7Ozs7S0FLQyxHQUNELE1BQU1rUCwyQkFBMkJGLGFBQWEsRUFBRXRHLGlCQUFpQixFQUFFO1FBQy9ELElBQUlyTSxnR0FBb0JBLENBQUNrRyxpQkFBaUIsQ0FBQyxJQUFJLENBQUNyRSxNQUFNLEVBQUUsSUFBSSxDQUFDRSxNQUFNLEVBQUUsSUFBSSxDQUFDbUQsdUJBQXVCLEVBQUV5TixjQUFjaEUsb0JBQW9CLEtBQ2pJZ0UsY0FBYzdSLE9BQU8sQ0FBQ3dLLGVBQWUsRUFBRTtZQUN2QyxJQUFJLENBQUN2SixNQUFNLENBQUNzRCxPQUFPLENBQUM7WUFDcEIsT0FBTyxJQUFJLENBQUNnRSxrQkFBa0IsQ0FBQ3NKLGVBQWU5VCw4REFBS0EsQ0FBQ2dWLDZCQUE2QixFQUFFbk0sS0FBSyxDQUFDLE9BQU9wRztnQkFDNUYsa0ZBQWtGO2dCQUNsRixJQUFJQSxhQUFhckIsd0VBQWVBLElBQUlDLG1GQUFzQkEsQ0FBQ29CLElBQUk7b0JBQzNELElBQUksQ0FBQ1MsTUFBTSxDQUFDc0QsT0FBTyxDQUFDO29CQUNwQixJQUFJLENBQUNILHVCQUF1QixHQUFHL0QsV0FBVyxxREFBcUQ7b0JBQy9GLHlJQUF5STtvQkFDekksTUFBTXpELGtGQUFxQkEsQ0FBQ0MsNkVBQXlDO2dCQUN6RTtnQkFDQSxNQUFNMkQ7WUFDVjtRQUNKLE9BQ0s7WUFDRCxJQUFJLENBQUNTLE1BQU0sQ0FBQ3NELE9BQU8sQ0FBQztZQUNwQixPQUFPN0gsd0VBQVdBLENBQUMsSUFBSSxDQUFDMk8scUJBQXFCLENBQUN2SSxJQUFJLENBQUMsSUFBSSxHQUFHckcseUVBQWlCQSxDQUFDZ1AscUJBQXFCLEVBQUUsSUFBSSxDQUFDeEssTUFBTSxFQUFFLElBQUksQ0FBQ1EsaUJBQWlCLEVBQUVvUSxjQUFjdk8sYUFBYSxFQUFFdU8sZUFBZXRHLG1CQUFtQjNFLEtBQUssQ0FBQyxDQUFDb007Z0JBQzFNLElBQUl6SCxzQkFBc0J2TiwwRUFBaUJBLENBQUMyTixXQUFXLEVBQUU7b0JBQ3JELE1BQU1xSDtnQkFDVjtnQkFDQSxJQUFJLENBQUNuUixZQUFZLENBQUM4QixTQUFTLENBQUNqRiwyREFBU0EsQ0FBQ3VVLDJCQUEyQixFQUFFblYsd0VBQWVBLENBQUM2TCxNQUFNLEVBQUVrSTtnQkFDM0YsT0FBT25WLHdFQUFXQSxDQUFDLElBQUksQ0FBQ3VQLDBCQUEwQixDQUFDbkosSUFBSSxDQUFDLElBQUksR0FBR3JHLHlFQUFpQkEsQ0FBQ3lQLDBCQUEwQixFQUFFLElBQUksQ0FBQ2pMLE1BQU0sRUFBRSxJQUFJLENBQUNRLGlCQUFpQixFQUFFb1EsY0FBY3ZPLGFBQWEsRUFBRXVPLGVBQWV0RztZQUNsTTtRQUNKO0lBQ0o7QUFDSjtBQUNBOzs7Ozs7Q0FNQyxHQUNELFNBQVMyRyw4Q0FBOENGLGlCQUFpQixFQUFFekcsaUJBQWlCO0lBQ3ZGLE1BQU0ySCx3QkFBd0IsQ0FBRWxCLENBQUFBLDZCQUE2QnJWLHFGQUE0QkEsSUFDckYsZ0dBQWdHO0lBQ2hHcVYsa0JBQWtCbUIsUUFBUSxLQUN0QmhXLGlFQUEwQztJQUNsRCxpRUFBaUU7SUFDakUsTUFBTWtXLDhCQUE4QnJCLGtCQUFrQnZMLFNBQVMsS0FBS3JJLHlFQUFnQkEsQ0FBQ2tWLG1CQUFtQixJQUNwR3RCLGtCQUFrQnZMLFNBQVMsS0FDdkI1Siw2RUFBeUM7SUFDakQsMEZBQTBGO0lBQzFGLE1BQU0wVyx1QkFBdUIseUJBQTBCRiwrQkFDbkRyQixrQkFBa0J2TCxTQUFTLEtBQ3ZCdEosc0VBQStDLElBQ25ENlUsa0JBQWtCdkwsU0FBUyxLQUN2QnRKLDRFQUFxRDtJQUM3RCwwREFBMEQ7SUFDMUQsTUFBTXVXLG1CQUFtQnZWLDhFQUFxQkEsQ0FBQzJRLFFBQVEsQ0FBQ3ZEO0lBQ3hELE9BQU9nSSx3QkFBd0JHO0FBQ25DO0FBRThCLENBQzlCLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvY29udHJvbGxlcnMvU3RhbmRhcmRDb250cm9sbGVyLm1qcz84Y2MwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQ3J5cHRvT3BzIH0gZnJvbSAnLi4vY3J5cHRvL0NyeXB0b09wcy5tanMnO1xuaW1wb3J0IHsgREVGQVVMVF9DUllQVE9fSU1QTEVNRU5UQVRJT04sIGJ1aWxkU3RhdGljQXV0aG9yaXR5T3B0aW9ucywgUGVyZm9ybWFuY2VFdmVudHMsIGludm9rZUFzeW5jLCBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yLCBjcmVhdGVDbGllbnRBdXRoRXJyb3IsIENsaWVudEF1dGhFcnJvckNvZGVzLCBBY2NvdW50RW50aXR5LCBQcm9tcHRWYWx1ZSwgUGVyc2lzdGVudENhY2hlS2V5cywgQ2FjaGVNYW5hZ2VyLCBDb25zdGFudHMsIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3JDb2RlcyB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbi9icm93c2VyJztcbmltcG9ydCB7IEJyb3dzZXJDYWNoZU1hbmFnZXIsIERFRkFVTFRfQlJPV1NFUl9DQUNIRV9NQU5BR0VSIH0gZnJvbSAnLi4vY2FjaGUvQnJvd3NlckNhY2hlTWFuYWdlci5tanMnO1xuaW1wb3J0IHsgZ2V0QWxsQWNjb3VudHMsIGdldEFjY291bnQsIGdldEFjY291bnRCeVVzZXJuYW1lLCBnZXRBY2NvdW50QnlIb21lSWQsIGdldEFjY291bnRCeUxvY2FsSWQsIHNldEFjdGl2ZUFjY291bnQsIGdldEFjdGl2ZUFjY291bnQgfSBmcm9tICcuLi9jYWNoZS9BY2NvdW50TWFuYWdlci5tanMnO1xuaW1wb3J0IHsgVGVtcG9yYXJ5Q2FjaGVLZXlzLCBJbnRlcmFjdGlvblR5cGUsIEFwaUlkLCBDYWNoZUxvb2t1cFBvbGljeSwgREVGQVVMVF9SRVFVRVNULCBCcm93c2VyQ2FjaGVMb2NhdGlvbiwgaUZyYW1lUmVuZXdhbFBvbGljaWVzLCBCcm93c2VyQ29uc3RhbnRzIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlckNvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgYmxvY2tBUElDYWxsc0JlZm9yZUluaXRpYWxpemUsIHJlZGlyZWN0UHJlZmxpZ2h0Q2hlY2ssIHByZWZsaWdodENoZWNrIGFzIHByZWZsaWdodENoZWNrJDEsIGJsb2NrTm9uQnJvd3NlckVudmlyb25tZW50IH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlclV0aWxzLm1qcyc7XG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tICcuLi9ldmVudC9FdmVudFR5cGUubWpzJztcbmltcG9ydCB7IEV2ZW50SGFuZGxlciB9IGZyb20gJy4uL2V2ZW50L0V2ZW50SGFuZGxlci5tanMnO1xuaW1wb3J0IHsgUG9wdXBDbGllbnQgfSBmcm9tICcuLi9pbnRlcmFjdGlvbl9jbGllbnQvUG9wdXBDbGllbnQubWpzJztcbmltcG9ydCB7IFJlZGlyZWN0Q2xpZW50IH0gZnJvbSAnLi4vaW50ZXJhY3Rpb25fY2xpZW50L1JlZGlyZWN0Q2xpZW50Lm1qcyc7XG5pbXBvcnQgeyBTaWxlbnRJZnJhbWVDbGllbnQgfSBmcm9tICcuLi9pbnRlcmFjdGlvbl9jbGllbnQvU2lsZW50SWZyYW1lQ2xpZW50Lm1qcyc7XG5pbXBvcnQgeyBTaWxlbnRSZWZyZXNoQ2xpZW50IH0gZnJvbSAnLi4vaW50ZXJhY3Rpb25fY2xpZW50L1NpbGVudFJlZnJlc2hDbGllbnQubWpzJztcbmltcG9ydCB7IFRva2VuQ2FjaGUgfSBmcm9tICcuLi9jYWNoZS9Ub2tlbkNhY2hlLm1qcyc7XG5pbXBvcnQgeyBOYXRpdmVJbnRlcmFjdGlvbkNsaWVudCB9IGZyb20gJy4uL2ludGVyYWN0aW9uX2NsaWVudC9OYXRpdmVJbnRlcmFjdGlvbkNsaWVudC5tanMnO1xuaW1wb3J0IHsgTmF0aXZlTWVzc2FnZUhhbmRsZXIgfSBmcm9tICcuLi9icm9rZXIvbmF0aXZlQnJva2VyL05hdGl2ZU1lc3NhZ2VIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBOYXRpdmVBdXRoRXJyb3IsIGlzRmF0YWxOYXRpdmVBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9OYXRpdmVBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IFNpbGVudENhY2hlQ2xpZW50IH0gZnJvbSAnLi4vaW50ZXJhY3Rpb25fY2xpZW50L1NpbGVudENhY2hlQ2xpZW50Lm1qcyc7XG5pbXBvcnQgeyBTaWxlbnRBdXRoQ29kZUNsaWVudCB9IGZyb20gJy4uL2ludGVyYWN0aW9uX2NsaWVudC9TaWxlbnRBdXRoQ29kZUNsaWVudC5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IGNyZWF0ZU5ld0d1aWQgfSBmcm9tICcuLi9jcnlwdG8vQnJvd3NlckNyeXB0by5tanMnO1xuaW1wb3J0IHsgaW5pdGlhbGl6ZVNpbGVudFJlcXVlc3QgfSBmcm9tICcuLi9yZXF1ZXN0L1JlcXVlc3RIZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyBzcGFDb2RlQW5kTmF0aXZlQWNjb3VudElkUHJlc2VudCwgdW5hYmxlVG9BY3F1aXJlVG9rZW5Gcm9tTmF0aXZlUGxhdGZvcm0sIGF1dGhDb2RlT3JOYXRpdmVBY2NvdW50SWRSZXF1aXJlZCwgbmF0aXZlQ29ubmVjdGlvbk5vdEVzdGFibGlzaGVkLCBub0FjY291bnRFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0QWNjb3VudFR5cGUoYWNjb3VudCkge1xyXG4gICAgY29uc3QgaWRUb2tlbkNsYWltcyA9IGFjY291bnQ/LmlkVG9rZW5DbGFpbXM7XHJcbiAgICBpZiAoaWRUb2tlbkNsYWltcz8udGZwIHx8IGlkVG9rZW5DbGFpbXM/LmFjcikge1xyXG4gICAgICAgIHJldHVybiBcIkIyQ1wiO1xyXG4gICAgfVxyXG4gICAgaWYgKCFpZFRva2VuQ2xhaW1zPy50aWQpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoaWRUb2tlbkNsYWltcz8udGlkID09PSBcIjkxODgwNDBkLTZjNjctNGM1Yi1iMTEyLTM2YTMwNGI2NmRhZFwiKSB7XHJcbiAgICAgICAgcmV0dXJuIFwiTVNBXCI7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gXCJBQURcIjtcclxufVxyXG5mdW5jdGlvbiBwcmVmbGlnaHRDaGVjayhpbml0aWFsaXplZCwgcGVyZm9ybWFuY2VFdmVudCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBwcmVmbGlnaHRDaGVjayQxKGluaXRpYWxpemVkKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgcGVyZm9ybWFuY2VFdmVudC5lbmQoeyBzdWNjZXNzOiBmYWxzZSB9LCBlKTtcclxuICAgICAgICB0aHJvdyBlO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFN0YW5kYXJkQ29udHJvbGxlciB7XHJcbiAgICAvKipcclxuICAgICAqIEBjb25zdHJ1Y3RvclxyXG4gICAgICogQ29uc3RydWN0b3IgZm9yIHRoZSBQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiB1c2VkIHRvIGluc3RhbnRpYXRlIHRoZSBQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiBvYmplY3RcclxuICAgICAqXHJcbiAgICAgKiBJbXBvcnRhbnQgYXR0cmlidXRlcyBpbiB0aGUgQ29uZmlndXJhdGlvbiBvYmplY3QgZm9yIGF1dGggYXJlOlxyXG4gICAgICogLSBjbGllbnRJRDogdGhlIGFwcGxpY2F0aW9uIElEIG9mIHlvdXIgYXBwbGljYXRpb24uIFlvdSBjYW4gb2J0YWluIG9uZSBieSByZWdpc3RlcmluZyB5b3VyIGFwcGxpY2F0aW9uIHdpdGggb3VyIEFwcGxpY2F0aW9uIHJlZ2lzdHJhdGlvbiBwb3J0YWwgOiBodHRwczovL3BvcnRhbC5henVyZS5jb20vI2JsYWRlL01pY3Jvc29mdF9BQURfSUFNL0FjdGl2ZURpcmVjdG9yeU1lbnVCbGFkZS9SZWdpc3RlcmVkQXBwc1ByZXZpZXdcclxuICAgICAqIC0gYXV0aG9yaXR5OiB0aGUgYXV0aG9yaXR5IFVSTCBmb3IgeW91ciBhcHBsaWNhdGlvbi5cclxuICAgICAqIC0gcmVkaXJlY3RfdXJpOiB0aGUgdXJpIG9mIHlvdXIgYXBwbGljYXRpb24gcmVnaXN0ZXJlZCBpbiB0aGUgcG9ydGFsLlxyXG4gICAgICpcclxuICAgICAqIEluIEF6dXJlIEFELCBhdXRob3JpdHkgaXMgYSBVUkwgaW5kaWNhdGluZyB0aGUgQXp1cmUgYWN0aXZlIGRpcmVjdG9yeSB0aGF0IE1TQUwgdXNlcyB0byBvYnRhaW4gdG9rZW5zLlxyXG4gICAgICogSXQgaXMgb2YgdGhlIGZvcm0gaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tL3tFbnRlcl90aGVfVGVuYW50X0luZm9fSGVyZX1cclxuICAgICAqIElmIHlvdXIgYXBwbGljYXRpb24gc3VwcG9ydHMgQWNjb3VudHMgaW4gb25lIG9yZ2FuaXphdGlvbmFsIGRpcmVjdG9yeSwgcmVwbGFjZSBcIkVudGVyX3RoZV9UZW5hbnRfSW5mb19IZXJlXCIgdmFsdWUgd2l0aCB0aGUgVGVuYW50IElkIG9yIFRlbmFudCBuYW1lIChmb3IgZXhhbXBsZSwgY29udG9zby5taWNyb3NvZnQuY29tKS5cclxuICAgICAqIElmIHlvdXIgYXBwbGljYXRpb24gc3VwcG9ydHMgQWNjb3VudHMgaW4gYW55IG9yZ2FuaXphdGlvbmFsIGRpcmVjdG9yeSwgcmVwbGFjZSBcIkVudGVyX3RoZV9UZW5hbnRfSW5mb19IZXJlXCIgdmFsdWUgd2l0aCBvcmdhbml6YXRpb25zLlxyXG4gICAgICogSWYgeW91ciBhcHBsaWNhdGlvbiBzdXBwb3J0cyBBY2NvdW50cyBpbiBhbnkgb3JnYW5pemF0aW9uYWwgZGlyZWN0b3J5IGFuZCBwZXJzb25hbCBNaWNyb3NvZnQgYWNjb3VudHMsIHJlcGxhY2UgXCJFbnRlcl90aGVfVGVuYW50X0luZm9fSGVyZVwiIHZhbHVlIHdpdGggY29tbW9uLlxyXG4gICAgICogVG8gcmVzdHJpY3Qgc3VwcG9ydCB0byBQZXJzb25hbCBNaWNyb3NvZnQgYWNjb3VudHMgb25seSwgcmVwbGFjZSBcIkVudGVyX3RoZV9UZW5hbnRfSW5mb19IZXJlXCIgdmFsdWUgd2l0aCBjb25zdW1lcnMuXHJcbiAgICAgKlxyXG4gICAgICogSW4gQXp1cmUgQjJDLCBhdXRob3JpdHkgaXMgb2YgdGhlIGZvcm0gaHR0cHM6Ly97aW5zdGFuY2V9L3RmcC97dGVuYW50fS97cG9saWN5TmFtZX0vXHJcbiAgICAgKiBGdWxsIEIyQyBmdW5jdGlvbmFsaXR5IHdpbGwgYmUgYXZhaWxhYmxlIGluIHRoaXMgbGlicmFyeSBpbiBmdXR1cmUgdmVyc2lvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbmZpZ3VyYXRpb24gT2JqZWN0IGZvciB0aGUgTVNBTCBQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihvcGVyYXRpbmdDb250ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5vcGVyYXRpbmdDb250ZXh0ID0gb3BlcmF0aW5nQ29udGV4dDtcclxuICAgICAgICB0aGlzLmlzQnJvd3NlckVudmlyb25tZW50ID1cclxuICAgICAgICAgICAgdGhpcy5vcGVyYXRpbmdDb250ZXh0LmlzQnJvd3NlckVudmlyb25tZW50KCk7XHJcbiAgICAgICAgLy8gU2V0IHRoZSBjb25maWd1cmF0aW9uLlxyXG4gICAgICAgIHRoaXMuY29uZmlnID0gb3BlcmF0aW5nQ29udGV4dC5nZXRDb25maWcoKTtcclxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBsb2dnZXJcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IHRoaXMub3BlcmF0aW5nQ29udGV4dC5nZXRMb2dnZXIoKTtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBuZXR3b3JrIG1vZHVsZSBjbGFzcy5cclxuICAgICAgICB0aGlzLm5ldHdvcmtDbGllbnQgPSB0aGlzLmNvbmZpZy5zeXN0ZW0ubmV0d29ya0NsaWVudDtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBuYXZpZ2F0aW9uIGNsaWVudCBjbGFzcy5cclxuICAgICAgICB0aGlzLm5hdmlnYXRpb25DbGllbnQgPSB0aGlzLmNvbmZpZy5zeXN0ZW0ubmF2aWdhdGlvbkNsaWVudDtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHJlZGlyZWN0UmVzcG9uc2UgTWFwXHJcbiAgICAgICAgdGhpcy5yZWRpcmVjdFJlc3BvbnNlID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8vIEluaXRpYWwgaHlicmlkIHNwYSBtYXBcclxuICAgICAgICB0aGlzLmh5YnJpZEF1dGhDb2RlUmVzcG9uc2VzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgcGVyZm9ybWFuY2UgY2xpZW50XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCA9IHRoaXMuY29uZmlnLnRlbGVtZXRyeS5jbGllbnQ7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgY3J5cHRvIGNsYXNzLlxyXG4gICAgICAgIHRoaXMuYnJvd3NlckNyeXB0byA9IHRoaXMuaXNCcm93c2VyRW52aXJvbm1lbnRcclxuICAgICAgICAgICAgPyBuZXcgQ3J5cHRvT3BzKHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50KVxyXG4gICAgICAgICAgICA6IERFRkFVTFRfQ1JZUFRPX0lNUExFTUVOVEFUSU9OO1xyXG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyID0gbmV3IEV2ZW50SGFuZGxlcih0aGlzLmxvZ2dlcik7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgYnJvd3NlciBzdG9yYWdlIGNsYXNzLlxyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UgPSB0aGlzLmlzQnJvd3NlckVudmlyb25tZW50XHJcbiAgICAgICAgICAgID8gbmV3IEJyb3dzZXJDYWNoZU1hbmFnZXIodGhpcy5jb25maWcuYXV0aC5jbGllbnRJZCwgdGhpcy5jb25maWcuY2FjaGUsIHRoaXMuYnJvd3NlckNyeXB0bywgdGhpcy5sb2dnZXIsIGJ1aWxkU3RhdGljQXV0aG9yaXR5T3B0aW9ucyh0aGlzLmNvbmZpZy5hdXRoKSwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudClcclxuICAgICAgICAgICAgOiBERUZBVUxUX0JST1dTRVJfQ0FDSEVfTUFOQUdFUih0aGlzLmNvbmZpZy5hdXRoLmNsaWVudElkLCB0aGlzLmxvZ2dlcik7XHJcbiAgICAgICAgLy8gaW5pdGlhbGl6ZSBpbiBtZW1vcnkgc3RvcmFnZSBmb3IgbmF0aXZlIGZsb3dzXHJcbiAgICAgICAgY29uc3QgbmF0aXZlQ2FjaGVPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBjYWNoZUxvY2F0aW9uOiBCcm93c2VyQ2FjaGVMb2NhdGlvbi5NZW1vcnlTdG9yYWdlLFxyXG4gICAgICAgICAgICB0ZW1wb3JhcnlDYWNoZUxvY2F0aW9uOiBCcm93c2VyQ2FjaGVMb2NhdGlvbi5NZW1vcnlTdG9yYWdlLFxyXG4gICAgICAgICAgICBzdG9yZUF1dGhTdGF0ZUluQ29va2llOiBmYWxzZSxcclxuICAgICAgICAgICAgc2VjdXJlQ29va2llczogZmFsc2UsXHJcbiAgICAgICAgICAgIGNhY2hlTWlncmF0aW9uRW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgICAgIGNsYWltc0Jhc2VkQ2FjaGluZ0VuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5uYXRpdmVJbnRlcm5hbFN0b3JhZ2UgPSBuZXcgQnJvd3NlckNhY2hlTWFuYWdlcih0aGlzLmNvbmZpZy5hdXRoLmNsaWVudElkLCBuYXRpdmVDYWNoZU9wdGlvbnMsIHRoaXMuYnJvd3NlckNyeXB0bywgdGhpcy5sb2dnZXIsIHVuZGVmaW5lZCwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgdG9rZW4gY2FjaGVcclxuICAgICAgICB0aGlzLnRva2VuQ2FjaGUgPSBuZXcgVG9rZW5DYWNoZSh0aGlzLmNvbmZpZywgdGhpcy5icm93c2VyU3RvcmFnZSwgdGhpcy5sb2dnZXIsIHRoaXMuYnJvd3NlckNyeXB0byk7XHJcbiAgICAgICAgdGhpcy5hY3RpdmVTaWxlbnRUb2tlblJlcXVlc3RzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIC8vIFJlZ2lzdGVyIGxpc3RlbmVyIGZ1bmN0aW9uc1xyXG4gICAgICAgIHRoaXMudHJhY2tQYWdlVmlzaWJpbGl0eSA9IHRoaXMudHJhY2tQYWdlVmlzaWJpbGl0eS5iaW5kKHRoaXMpO1xyXG4gICAgICAgIC8vIFJlZ2lzdGVyIGxpc3RlbmVyIGZ1bmN0aW9uc1xyXG4gICAgICAgIHRoaXMudHJhY2tQYWdlVmlzaWJpbGl0eVdpdGhNZWFzdXJlbWVudCA9XHJcbiAgICAgICAgICAgIHRoaXMudHJhY2tQYWdlVmlzaWJpbGl0eVdpdGhNZWFzdXJlbWVudC5iaW5kKHRoaXMpO1xyXG4gICAgICAgIC8vIGFjY291bnQgc3RvcmFnZSBldmVudHNcclxuICAgICAgICB0aGlzLmxpc3RlbmluZ1RvU3RvcmFnZUV2ZW50cyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaGFuZGxlQWNjb3VudENhY2hlQ2hhbmdlID1cclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVBY2NvdW50Q2FjaGVDaGFuZ2UuYmluZCh0aGlzKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBhc3luYyBjcmVhdGVDb250cm9sbGVyKG9wZXJhdGluZ0NvbnRleHQsIHJlcXVlc3QpIHtcclxuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IFN0YW5kYXJkQ29udHJvbGxlcihvcGVyYXRpbmdDb250ZXh0KTtcclxuICAgICAgICBhd2FpdCBjb250cm9sbGVyLmluaXRpYWxpemUocmVxdWVzdCk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRyb2xsZXI7XHJcbiAgICB9XHJcbiAgICB0cmFja1BhZ2VWaXNpYmlsaXR5KGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICBpZiAoIWNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiUGVyZjogVmlzaWJpbGl0eSBjaGFuZ2UgZGV0ZWN0ZWRcIik7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudC5pbmNyZW1lbnRGaWVsZHMoeyB2aXNpYmlsaXR5Q2hhbmdlQ291bnQ6IDEgfSwgY29ycmVsYXRpb25JZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVyIGZ1bmN0aW9uIHRvIHBlcmZvcm0gYXN5bmMgc3RhcnR1cCB0YXNrcyBzdWNoIGFzIGNvbm5lY3RpbmcgdG8gV0FNIGV4dGVuc2lvblxyXG4gICAgICogQHBhcmFtIHJlcXVlc3Qgez9Jbml0aWFsaXplQXBwbGljYXRpb25SZXF1ZXN0fSBjb3JyZWxhdGlvbiBpZFxyXG4gICAgICovXHJcbiAgICBhc3luYyBpbml0aWFsaXplKHJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcImluaXRpYWxpemUgY2FsbGVkXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLmluaXRpYWxpemVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJpbml0aWFsaXplIGhhcyBhbHJlYWR5IGJlZW4gY2FsbGVkLCBleGl0aW5nIGVhcmx5LlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuaXNCcm93c2VyRW52aXJvbm1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImluIG5vbi1icm93c2VyIGVudmlyb25tZW50LCBleGl0aW5nIGVhcmx5LlwiKTtcclxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuSU5JVElBTElaRV9FTkQpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGluaXRDb3JyZWxhdGlvbklkID0gcmVxdWVzdD8uY29ycmVsYXRpb25JZCB8fCB0aGlzLmdldFJlcXVlc3RDb3JyZWxhdGlvbklkKCk7XHJcbiAgICAgICAgY29uc3QgYWxsb3dOYXRpdmVCcm9rZXIgPSB0aGlzLmNvbmZpZy5zeXN0ZW0uYWxsb3dOYXRpdmVCcm9rZXI7XHJcbiAgICAgICAgY29uc3QgaW5pdE1lYXN1cmVtZW50ID0gdGhpcy5wZXJmb3JtYW5jZUNsaWVudC5zdGFydE1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkluaXRpYWxpemVDbGllbnRBcHBsaWNhdGlvbiwgaW5pdENvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuSU5JVElBTElaRV9TVEFSVCk7XHJcbiAgICAgICAgaWYgKGFsbG93TmF0aXZlQnJva2VyKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5hdGl2ZUV4dGVuc2lvblByb3ZpZGVyID1cclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBOYXRpdmVNZXNzYWdlSGFuZGxlci5jcmVhdGVQcm92aWRlcih0aGlzLmxvZ2dlciwgdGhpcy5jb25maWcuc3lzdGVtLm5hdGl2ZUJyb2tlckhhbmRzaGFrZVRpbWVvdXQsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5jb25maWcuY2FjaGUuY2xhaW1zQmFzZWRDYWNoaW5nRW5hYmxlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQ2xhaW1zLWJhc2VkIGNhY2hpbmcgaXMgZGlzYWJsZWQuIENsZWFyaW5nIHRoZSBwcmV2aW91cyBjYWNoZSB3aXRoIGNsYWltc1wiKTtcclxuICAgICAgICAgICAgYXdhaXQgaW52b2tlQXN5bmModGhpcy5icm93c2VyU3RvcmFnZS5jbGVhclRva2Vuc0FuZEtleXNXaXRoQ2xhaW1zLmJpbmQodGhpcy5icm93c2VyU3RvcmFnZSksIFBlcmZvcm1hbmNlRXZlbnRzLkNsZWFyVG9rZW5zQW5kS2V5c1dpdGhDbGFpbXMsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCBpbml0Q29ycmVsYXRpb25JZCkodGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgaW5pdENvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLklOSVRJQUxJWkVfRU5EKTtcclxuICAgICAgICBpbml0TWVhc3VyZW1lbnQuZW5kKHsgYWxsb3dOYXRpdmVCcm9rZXIsIHN1Y2Nlc3M6IHRydWUgfSk7XHJcbiAgICB9XHJcbiAgICAvLyAjcmVnaW9uIFJlZGlyZWN0IEZsb3dcclxuICAgIC8qKlxyXG4gICAgICogRXZlbnQgaGFuZGxlciBmdW5jdGlvbiB3aGljaCBhbGxvd3MgdXNlcnMgdG8gZmlyZSBldmVudHMgYWZ0ZXIgdGhlIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIG9iamVjdFxyXG4gICAgICogaGFzIGxvYWRlZCBkdXJpbmcgcmVkaXJlY3QgZmxvd3MuIFRoaXMgc2hvdWxkIGJlIGludm9rZWQgb24gYWxsIHBhZ2UgbG9hZHMgaW52b2x2ZWQgaW4gcmVkaXJlY3RcclxuICAgICAqIGF1dGggZmxvd3MuXHJcbiAgICAgKiBAcGFyYW0gaGFzaCBIYXNoIHRvIHByb2Nlc3MuIERlZmF1bHRzIHRvIHRoZSBjdXJyZW50IHZhbHVlIG9mIHdpbmRvdy5sb2NhdGlvbi5oYXNoLiBPbmx5IG5lZWRzIHRvIGJlIHByb3ZpZGVkIGV4cGxpY2l0bHkgaWYgdGhlIHJlc3BvbnNlIHRvIGJlIGhhbmRsZWQgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgY3VycmVudCB2YWx1ZS5cclxuICAgICAqIEByZXR1cm5zIFRva2VuIHJlc3BvbnNlIG9yIG51bGwuIElmIHRoZSByZXR1cm4gdmFsdWUgaXMgbnVsbCwgdGhlbiBubyBhdXRoIHJlZGlyZWN0IHdhcyBkZXRlY3RlZC5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgaGFuZGxlUmVkaXJlY3RQcm9taXNlKGhhc2gpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiaGFuZGxlUmVkaXJlY3RQcm9taXNlIGNhbGxlZFwiKTtcclxuICAgICAgICAvLyBCbG9jayB0b2tlbiBhY3F1aXNpdGlvbiBiZWZvcmUgaW5pdGlhbGl6ZSBoYXMgYmVlbiBjYWxsZWRcclxuICAgICAgICBibG9ja0FQSUNhbGxzQmVmb3JlSW5pdGlhbGl6ZSh0aGlzLmluaXRpYWxpemVkKTtcclxuICAgICAgICBpZiAodGhpcy5pc0Jyb3dzZXJFbnZpcm9ubWVudCkge1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogU3RvcmUgdGhlIHByb21pc2Ugb24gdGhlIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIGluc3RhbmNlIGlmIHRoaXMgaXMgdGhlIGZpcnN0IGludm9jYXRpb24gb2YgaGFuZGxlUmVkaXJlY3RQcm9taXNlLFxyXG4gICAgICAgICAgICAgKiBvdGhlcndpc2UgcmV0dXJuIHRoZSBwcm9taXNlIGZyb20gdGhlIGZpcnN0IGludm9jYXRpb24uIFByZXZlbnRzIHJhY2UgY29uZGl0aW9ucyB3aGVuIGhhbmRsZVJlZGlyZWN0UHJvbWlzZSBpcyBjYWxsZWRcclxuICAgICAgICAgICAgICogc2V2ZXJhbCB0aW1lcyBjb25jdXJyZW50bHkuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjb25zdCByZWRpcmVjdFJlc3BvbnNlS2V5ID0gaGFzaCB8fCBcIlwiO1xyXG4gICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSB0aGlzLnJlZGlyZWN0UmVzcG9uc2UuZ2V0KHJlZGlyZWN0UmVzcG9uc2VLZXkpO1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICByZXNwb25zZSA9IHRoaXMuaGFuZGxlUmVkaXJlY3RQcm9taXNlSW50ZXJuYWwoaGFzaCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZGlyZWN0UmVzcG9uc2Uuc2V0KHJlZGlyZWN0UmVzcG9uc2VLZXksIHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJoYW5kbGVSZWRpcmVjdFByb21pc2UgaGFzIGJlZW4gY2FsbGVkIGZvciB0aGUgZmlyc3QgdGltZSwgc3RvcmluZyB0aGUgcHJvbWlzZVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJoYW5kbGVSZWRpcmVjdFByb21pc2UgaGFzIGJlZW4gY2FsbGVkIHByZXZpb3VzbHksIHJldHVybmluZyB0aGUgcmVzdWx0IGZyb20gdGhlIGZpcnN0IGNhbGxcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiaGFuZGxlUmVkaXJlY3RQcm9taXNlIHJldHVybnMgbnVsbCwgbm90IGJyb3dzZXIgZW52aXJvbm1lbnRcIik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBpbnRlcm5hbCBkZXRhaWxzIG9mIGhhbmRsZVJlZGlyZWN0UHJvbWlzZS4gVGhpcyBpcyBzZXBhcmF0ZWQgb3V0IHRvIGEgaGVscGVyIHRvIGFsbG93IGhhbmRsZVJlZGlyZWN0UHJvbWlzZSB0byBtZW1vaXplIHJlcXVlc3RzXHJcbiAgICAgKiBAcGFyYW0gaGFzaFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgaGFuZGxlUmVkaXJlY3RQcm9taXNlSW50ZXJuYWwoaGFzaCkge1xyXG4gICAgICAgIGNvbnN0IGxvZ2dlZEluQWNjb3VudHMgPSB0aGlzLmdldEFsbEFjY291bnRzKCk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0Q2FjaGVkTmF0aXZlUmVxdWVzdCgpO1xyXG4gICAgICAgIGNvbnN0IHVzZU5hdGl2ZSA9IHJlcXVlc3QgJiZcclxuICAgICAgICAgICAgTmF0aXZlTWVzc2FnZUhhbmRsZXIuaXNOYXRpdmVBdmFpbGFibGUodGhpcy5jb25maWcsIHRoaXMubG9nZ2VyLCB0aGlzLm5hdGl2ZUV4dGVuc2lvblByb3ZpZGVyKSAmJlxyXG4gICAgICAgICAgICB0aGlzLm5hdGl2ZUV4dGVuc2lvblByb3ZpZGVyICYmXHJcbiAgICAgICAgICAgICFoYXNoO1xyXG4gICAgICAgIGNvbnN0IGNvcnJlbGF0aW9uSWQgPSB1c2VOYXRpdmVcclxuICAgICAgICAgICAgPyByZXF1ZXN0Py5jb3JyZWxhdGlvbklkXHJcbiAgICAgICAgICAgIDogdGhpcy5icm93c2VyU3RvcmFnZS5nZXRUZW1wb3JhcnlDYWNoZShUZW1wb3JhcnlDYWNoZUtleXMuQ09SUkVMQVRJT05fSUQsIHRydWUpIHx8IFwiXCI7XHJcbiAgICAgICAgY29uc3Qgcm9vdE1lYXN1cmVtZW50ID0gdGhpcy5wZXJmb3JtYW5jZUNsaWVudC5zdGFydE1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkFjcXVpcmVUb2tlblJlZGlyZWN0LCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkhBTkRMRV9SRURJUkVDVF9TVEFSVCwgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0KTtcclxuICAgICAgICBsZXQgcmVkaXJlY3RSZXNwb25zZTtcclxuICAgICAgICBpZiAodXNlTmF0aXZlICYmIHRoaXMubmF0aXZlRXh0ZW5zaW9uUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJoYW5kbGVSZWRpcmVjdFByb21pc2UgLSBhY3F1aXJpbmcgdG9rZW4gZnJvbSBuYXRpdmUgcGxhdGZvcm1cIik7XHJcbiAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUNsaWVudCA9IG5ldyBOYXRpdmVJbnRlcmFjdGlvbkNsaWVudCh0aGlzLmNvbmZpZywgdGhpcy5icm93c2VyU3RvcmFnZSwgdGhpcy5icm93c2VyQ3J5cHRvLCB0aGlzLmxvZ2dlciwgdGhpcy5ldmVudEhhbmRsZXIsIHRoaXMubmF2aWdhdGlvbkNsaWVudCwgQXBpSWQuaGFuZGxlUmVkaXJlY3RQcm9taXNlLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLm5hdGl2ZUV4dGVuc2lvblByb3ZpZGVyLCByZXF1ZXN0LmFjY291bnRJZCwgdGhpcy5uYXRpdmVJbnRlcm5hbFN0b3JhZ2UsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgIHJlZGlyZWN0UmVzcG9uc2UgPSBpbnZva2VBc3luYyhuYXRpdmVDbGllbnQuaGFuZGxlUmVkaXJlY3RQcm9taXNlLmJpbmQobmF0aXZlQ2xpZW50KSwgUGVyZm9ybWFuY2VFdmVudHMuSGFuZGxlTmF0aXZlUmVkaXJlY3RQcm9taXNlTWVhc3VyZW1lbnQsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCByb290TWVhc3VyZW1lbnQuZXZlbnQuY29ycmVsYXRpb25JZCkodGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgcm9vdE1lYXN1cmVtZW50LmV2ZW50LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJoYW5kbGVSZWRpcmVjdFByb21pc2UgLSBhY3F1aXJpbmcgdG9rZW4gZnJvbSB3ZWIgZmxvd1wiKTtcclxuICAgICAgICAgICAgY29uc3QgcmVkaXJlY3RDbGllbnQgPSB0aGlzLmNyZWF0ZVJlZGlyZWN0Q2xpZW50KGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICByZWRpcmVjdFJlc3BvbnNlID0gaW52b2tlQXN5bmMocmVkaXJlY3RDbGllbnQuaGFuZGxlUmVkaXJlY3RQcm9taXNlLmJpbmQocmVkaXJlY3RDbGllbnQpLCBQZXJmb3JtYW5jZUV2ZW50cy5IYW5kbGVSZWRpcmVjdFByb21pc2VNZWFzdXJlbWVudCwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJvb3RNZWFzdXJlbWVudC5ldmVudC5jb3JyZWxhdGlvbklkKShoYXNoLCByb290TWVhc3VyZW1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVkaXJlY3RSZXNwb25zZVxyXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIC8vIEVtaXQgbG9naW4gZXZlbnQgaWYgbnVtYmVyIG9mIGFjY291bnRzIGNoYW5nZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgaXNMb2dnaW5nSW4gPSBsb2dnZWRJbkFjY291bnRzLmxlbmd0aCA8IHRoaXMuZ2V0QWxsQWNjb3VudHMoKS5sZW5ndGg7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNMb2dnaW5nSW4pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkxPR0lOX1NVQ0NFU1MsIEludGVyYWN0aW9uVHlwZS5SZWRpcmVjdCwgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiaGFuZGxlUmVkaXJlY3RSZXNwb25zZSByZXR1cm5lZCByZXN1bHQsIGxvZ2luIHN1Y2Nlc3NcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0LCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJoYW5kbGVSZWRpcmVjdFJlc3BvbnNlIHJldHVybmVkIHJlc3VsdCwgYWNxdWlyZSB0b2tlbiBzdWNjZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcm9vdE1lYXN1cmVtZW50LmVuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50VHlwZTogZ2V0QWNjb3VudFR5cGUocmVzdWx0LmFjY291bnQpLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICogSW5zdHJ1bWVudCBhbiBldmVudCBvbmx5IGlmIGFuIGVycm9yIGNvZGUgaXMgc2V0LiBPdGhlcndpc2UsIGRpc2NhcmQgaXQgd2hlbiB0aGUgcmVkaXJlY3QgcmVzcG9uc2VcclxuICAgICAgICAgICAgICAgICAqIGlzIGVtcHR5IGFuZCB0aGUgZXJyb3IgY29kZSBpcyBtaXNzaW5nLlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBpZiAocm9vdE1lYXN1cmVtZW50LmV2ZW50LmVycm9yQ29kZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvb3RNZWFzdXJlbWVudC5lbmQoeyBzdWNjZXNzOiBmYWxzZSB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJvb3RNZWFzdXJlbWVudC5kaXNjYXJkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5IQU5ETEVfUkVESVJFQ1RfRU5ELCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudEVycm9yID0gZTtcclxuICAgICAgICAgICAgLy8gRW1pdCBsb2dpbiBldmVudCBpZiB0aGVyZSBpcyBhbiBhY2NvdW50XHJcbiAgICAgICAgICAgIGlmIChsb2dnZWRJbkFjY291bnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuQUNRVUlSRV9UT0tFTl9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QsIG51bGwsIGV2ZW50RXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dJTl9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QsIG51bGwsIGV2ZW50RXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuSEFORExFX1JFRElSRUNUX0VORCwgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0KTtcclxuICAgICAgICAgICAgcm9vdE1lYXN1cmVtZW50LmVuZCh7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgfSwgZXZlbnRFcnJvcik7XHJcbiAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVzZSB3aGVuIHlvdSB3YW50IHRvIG9idGFpbiBhbiBhY2Nlc3NfdG9rZW4gZm9yIHlvdXIgQVBJIGJ5IHJlZGlyZWN0aW5nIHRoZSB1c2VyJ3MgYnJvd3NlciB3aW5kb3cgdG8gdGhlIGF1dGhvcml6YXRpb24gZW5kcG9pbnQuIFRoaXMgZnVuY3Rpb24gcmVkaXJlY3RzXHJcbiAgICAgKiB0aGUgcGFnZSwgc28gYW55IGNvZGUgdGhhdCBmb2xsb3dzIHRoaXMgZnVuY3Rpb24gd2lsbCBub3QgZXhlY3V0ZS5cclxuICAgICAqXHJcbiAgICAgKiBJTVBPUlRBTlQ6IEl0IGlzIE5PVCByZWNvbW1lbmRlZCB0byBoYXZlIGNvZGUgdGhhdCBpcyBkZXBlbmRlbnQgb24gdGhlIHJlc29sdXRpb24gb2YgdGhlIFByb21pc2UuIFRoaXMgZnVuY3Rpb24gd2lsbCBuYXZpZ2F0ZSBhd2F5IGZyb20gdGhlIGN1cnJlbnRcclxuICAgICAqIGJyb3dzZXIgd2luZG93LiBJdCBjdXJyZW50bHkgcmV0dXJucyBhIFByb21pc2UgaW4gb3JkZXIgdG8gcmVmbGVjdCB0aGUgYXN5bmNocm9ub3VzIG5hdHVyZSBvZiB0aGUgY29kZSBydW5uaW5nIGluIHRoaXMgZnVuY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuUmVkaXJlY3QocmVxdWVzdCkge1xyXG4gICAgICAgIC8vIFByZWZsaWdodCByZXF1ZXN0XHJcbiAgICAgICAgY29uc3QgY29ycmVsYXRpb25JZCA9IHRoaXMuZ2V0UmVxdWVzdENvcnJlbGF0aW9uSWQocmVxdWVzdCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImFjcXVpcmVUb2tlblJlZGlyZWN0IGNhbGxlZFwiLCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCBhdHJNZWFzdXJlbWVudCA9IHRoaXMucGVyZm9ybWFuY2VDbGllbnQuc3RhcnRNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5BY3F1aXJlVG9rZW5QcmVSZWRpcmVjdCwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgYXRyTWVhc3VyZW1lbnQuYWRkKHtcclxuICAgICAgICAgICAgYWNjb3VudFR5cGU6IGdldEFjY291bnRUeXBlKHJlcXVlc3QuYWNjb3VudCksXHJcbiAgICAgICAgICAgIHNjZW5hcmlvSWQ6IHJlcXVlc3Quc2NlbmFyaW9JZCxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBPdmVycmlkZSBvbiByZXF1ZXN0IG9ubHkgaWYgc2V0LCBhcyBvblJlZGlyZWN0TmF2aWdhdGUgZmllbGQgaXMgZGVwcmVjYXRlZFxyXG4gICAgICAgIGNvbnN0IG9uUmVkaXJlY3ROYXZpZ2F0ZUNiID0gcmVxdWVzdC5vblJlZGlyZWN0TmF2aWdhdGU7XHJcbiAgICAgICAgaWYgKG9uUmVkaXJlY3ROYXZpZ2F0ZUNiKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25SZWRpcmVjdE5hdmlnYXRlID0gKHVybCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGUgPSB0eXBlb2Ygb25SZWRpcmVjdE5hdmlnYXRlQ2IgPT09IFwiZnVuY3Rpb25cIlxyXG4gICAgICAgICAgICAgICAgICAgID8gb25SZWRpcmVjdE5hdmlnYXRlQ2IodXJsKVxyXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0ck1lYXN1cmVtZW50LmVuZCh7IHN1Y2Nlc3M6IHRydWUgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBhdHJNZWFzdXJlbWVudC5kaXNjYXJkKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbmF2aWdhdGU7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBjb25maWdPblJlZGlyZWN0TmF2aWdhdGVDYiA9IHRoaXMuY29uZmlnLmF1dGgub25SZWRpcmVjdE5hdmlnYXRlO1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRoLm9uUmVkaXJlY3ROYXZpZ2F0ZSA9ICh1cmwpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRlID0gdHlwZW9mIGNvbmZpZ09uUmVkaXJlY3ROYXZpZ2F0ZUNiID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgICAgICAgICAgICAgICA/IGNvbmZpZ09uUmVkaXJlY3ROYXZpZ2F0ZUNiKHVybClcclxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0ZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICBhdHJNZWFzdXJlbWVudC5lbmQoeyBzdWNjZXNzOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXRyTWVhc3VyZW1lbnQuZGlzY2FyZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hdmlnYXRlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiBsb2dnZWQgaW4sIGVtaXQgYWNxdWlyZSB0b2tlbiBldmVudHNcclxuICAgICAgICBjb25zdCBpc0xvZ2dlZEluID0gdGhpcy5nZXRBbGxBY2NvdW50cygpLmxlbmd0aCA+IDA7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmVkaXJlY3RQcmVmbGlnaHRDaGVjayh0aGlzLmluaXRpYWxpemVkLCB0aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKHRydWUpO1xyXG4gICAgICAgICAgICBpZiAoaXNMb2dnZWRJbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1FVSVJFX1RPS0VOX1NUQVJULCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QsIHJlcXVlc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dJTl9TVEFSVCwgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0LCByZXF1ZXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgcmVzdWx0O1xyXG4gICAgICAgICAgICBpZiAodGhpcy5uYXRpdmVFeHRlbnNpb25Qcm92aWRlciAmJiB0aGlzLmNhblVzZU5hdGl2ZShyZXF1ZXN0KSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmF0aXZlQ2xpZW50ID0gbmV3IE5hdGl2ZUludGVyYWN0aW9uQ2xpZW50KHRoaXMuY29uZmlnLCB0aGlzLmJyb3dzZXJTdG9yYWdlLCB0aGlzLmJyb3dzZXJDcnlwdG8sIHRoaXMubG9nZ2VyLCB0aGlzLmV2ZW50SGFuZGxlciwgdGhpcy5uYXZpZ2F0aW9uQ2xpZW50LCBBcGlJZC5hY3F1aXJlVG9rZW5SZWRpcmVjdCwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5uYXRpdmVFeHRlbnNpb25Qcm92aWRlciwgdGhpcy5nZXROYXRpdmVBY2NvdW50SWQocmVxdWVzdCksIHRoaXMubmF0aXZlSW50ZXJuYWxTdG9yYWdlLCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IG5hdGl2ZUNsaWVudFxyXG4gICAgICAgICAgICAgICAgICAgIC5hY3F1aXJlVG9rZW5SZWRpcmVjdChyZXF1ZXN0LCBhdHJNZWFzdXJlbWVudClcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIE5hdGl2ZUF1dGhFcnJvciAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0ZhdGFsTmF0aXZlQXV0aEVycm9yKGUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlRXh0ZW5zaW9uUHJvdmlkZXIgPSB1bmRlZmluZWQ7IC8vIElmIGV4dGVuc2lvbiBnZXRzIHVuaW5zdGFsbGVkIGR1cmluZyBzZXNzaW9uIHByZXZlbnQgZnV0dXJlIHJlcXVlc3RzIGZyb20gY29udGludWluZyB0byBhdHRlbXB0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlZGlyZWN0Q2xpZW50ID0gdGhpcy5jcmVhdGVSZWRpcmVjdENsaWVudChjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZGlyZWN0Q2xpZW50LmFjcXVpcmVUb2tlbihyZXF1ZXN0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZSBpbnN0YW5jZW9mIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImFjcXVpcmVUb2tlblJlZGlyZWN0IC0gUmVzb2x2aW5nIGludGVyYWN0aW9uIHJlcXVpcmVkIGVycm9yIHRocm93biBieSBuYXRpdmUgYnJva2VyIGJ5IGZhbGxpbmcgYmFjayB0byB3ZWIgZmxvd1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVkaXJlY3RDbGllbnQgPSB0aGlzLmNyZWF0ZVJlZGlyZWN0Q2xpZW50KGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVkaXJlY3RDbGllbnQuYWNxdWlyZVRva2VuKHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEludGVyYWN0aW9uSW5Qcm9ncmVzcyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVkaXJlY3RDbGllbnQgPSB0aGlzLmNyZWF0ZVJlZGlyZWN0Q2xpZW50KGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVkaXJlY3RDbGllbnQuYWNxdWlyZVRva2VuKHJlcXVlc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGF0ck1lYXN1cmVtZW50LmVuZCh7IHN1Y2Nlc3M6IGZhbHNlIH0sIGUpO1xyXG4gICAgICAgICAgICBpZiAoaXNMb2dnZWRJbikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1FVSVJFX1RPS0VOX0ZBSUxVUkUsIEludGVyYWN0aW9uVHlwZS5SZWRpcmVjdCwgbnVsbCwgZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkxPR0lOX0ZBSUxVUkUsIEludGVyYWN0aW9uVHlwZS5SZWRpcmVjdCwgbnVsbCwgZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyAjZW5kcmVnaW9uXHJcbiAgICAvLyAjcmVnaW9uIFBvcHVwIEZsb3dcclxuICAgIC8qKlxyXG4gICAgICogVXNlIHdoZW4geW91IHdhbnQgdG8gb2J0YWluIGFuIGFjY2Vzc190b2tlbiBmb3IgeW91ciBBUEkgdmlhIG9wZW5pbmcgYSBwb3B1cCB3aW5kb3cgaW4gdGhlIHVzZXIncyBicm93c2VyXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGlzIGZ1bmN0aW9uIGhhcyBjb21wbGV0ZWQsIG9yIHJlamVjdGVkIGlmIGFuIGVycm9yIHdhcyByYWlzZWQuXHJcbiAgICAgKi9cclxuICAgIGFjcXVpcmVUb2tlblBvcHVwKHJlcXVlc3QpIHtcclxuICAgICAgICBjb25zdCBjb3JyZWxhdGlvbklkID0gdGhpcy5nZXRSZXF1ZXN0Q29ycmVsYXRpb25JZChyZXF1ZXN0KTtcclxuICAgICAgICBjb25zdCBhdFBvcHVwTWVhc3VyZW1lbnQgPSB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LnN0YXJ0TWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuQWNxdWlyZVRva2VuUG9wdXAsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGF0UG9wdXBNZWFzdXJlbWVudC5hZGQoe1xyXG4gICAgICAgICAgICBzY2VuYXJpb0lkOiByZXF1ZXN0LnNjZW5hcmlvSWQsXHJcbiAgICAgICAgICAgIGFjY291bnRUeXBlOiBnZXRBY2NvdW50VHlwZShyZXF1ZXN0LmFjY291bnQpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJhY3F1aXJlVG9rZW5Qb3B1cCBjYWxsZWRcIiwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgIHByZWZsaWdodENoZWNrKHRoaXMuaW5pdGlhbGl6ZWQsIGF0UG9wdXBNZWFzdXJlbWVudCk7XHJcbiAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKHRydWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBTaW5jZSB0aGlzIGZ1bmN0aW9uIGlzIHN5bmNyb25vdXMgd2UgbmVlZCB0byByZWplY3RcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiBsb2dnZWQgaW4sIGVtaXQgYWNxdWlyZSB0b2tlbiBldmVudHNcclxuICAgICAgICBjb25zdCBsb2dnZWRJbkFjY291bnRzID0gdGhpcy5nZXRBbGxBY2NvdW50cygpO1xyXG4gICAgICAgIGlmIChsb2dnZWRJbkFjY291bnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1FVSVJFX1RPS0VOX1NUQVJULCBJbnRlcmFjdGlvblR5cGUuUG9wdXAsIHJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dJTl9TVEFSVCwgSW50ZXJhY3Rpb25UeXBlLlBvcHVwLCByZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICBpZiAodGhpcy5jYW5Vc2VOYXRpdmUocmVxdWVzdCkpIHtcclxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5hY3F1aXJlVG9rZW5OYXRpdmUoe1xyXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcclxuICAgICAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQsXHJcbiAgICAgICAgICAgIH0sIEFwaUlkLmFjcXVpcmVUb2tlblBvcHVwKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEludGVyYWN0aW9uSW5Qcm9ncmVzcyhmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICBhdFBvcHVwTWVhc3VyZW1lbnQuZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzTmF0aXZlQnJva2VyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRUeXBlOiBnZXRBY2NvdW50VHlwZShyZXNwb25zZS5hY2NvdW50KSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIE5hdGl2ZUF1dGhFcnJvciAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGlzRmF0YWxOYXRpdmVBdXRoRXJyb3IoZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm5hdGl2ZUV4dGVuc2lvblByb3ZpZGVyID0gdW5kZWZpbmVkOyAvLyBJZiBleHRlbnNpb24gZ2V0cyB1bmluc3RhbGxlZCBkdXJpbmcgc2Vzc2lvbiBwcmV2ZW50IGZ1dHVyZSByZXF1ZXN0cyBmcm9tIGNvbnRpbnVpbmcgdG8gYXR0ZW1wdFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvcHVwQ2xpZW50ID0gdGhpcy5jcmVhdGVQb3B1cENsaWVudChjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9wdXBDbGllbnQuYWNxdWlyZVRva2VuKHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZSBpbnN0YW5jZW9mIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiYWNxdWlyZVRva2VuUG9wdXAgLSBSZXNvbHZpbmcgaW50ZXJhY3Rpb24gcmVxdWlyZWQgZXJyb3IgdGhyb3duIGJ5IG5hdGl2ZSBicm9rZXIgYnkgZmFsbGluZyBiYWNrIHRvIHdlYiBmbG93XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvcHVwQ2xpZW50ID0gdGhpcy5jcmVhdGVQb3B1cENsaWVudChjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcG9wdXBDbGllbnQuYWNxdWlyZVRva2VuKHJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5zZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBwb3B1cENsaWVudCA9IHRoaXMuY3JlYXRlUG9wdXBDbGllbnQoY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IHBvcHVwQ2xpZW50LmFjcXVpcmVUb2tlbihyZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAqICBJZiBsb2dnZWQgaW4sIGVtaXQgYWNxdWlyZSB0b2tlbiBldmVudHNcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNvbnN0IGlzTG9nZ2luZ0luID0gbG9nZ2VkSW5BY2NvdW50cy5sZW5ndGggPCB0aGlzLmdldEFsbEFjY291bnRzKCkubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAoaXNMb2dnaW5nSW4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuTE9HSU5fU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlBvcHVwLCByZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1FVSVJFX1RPS0VOX1NVQ0NFU1MsIEludGVyYWN0aW9uVHlwZS5Qb3B1cCwgcmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhdFBvcHVwTWVhc3VyZW1lbnQuZW5kKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlblNpemU6IHJlc3VsdC5hY2Nlc3NUb2tlbi5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBpZFRva2VuU2l6ZTogcmVzdWx0LmlkVG9rZW4ubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgYWNjb3VudFR5cGU6IGdldEFjY291bnRUeXBlKHJlc3VsdC5hY2NvdW50KSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChsb2dnZWRJbkFjY291bnRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuQUNRVUlSRV9UT0tFTl9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuUG9wdXAsIG51bGwsIGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dJTl9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuUG9wdXAsIG51bGwsIGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGF0UG9wdXBNZWFzdXJlbWVudC5lbmQoe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIH0sIGUpO1xyXG4gICAgICAgICAgICAvLyBTaW5jZSB0aGlzIGZ1bmN0aW9uIGlzIHN5bmNyb25vdXMgd2UgbmVlZCB0byByZWplY3RcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdHJhY2tQYWdlVmlzaWJpbGl0eVdpdGhNZWFzdXJlbWVudCgpIHtcclxuICAgICAgICBjb25zdCBtZWFzdXJlbWVudCA9IHRoaXMuc3NvU2lsZW50TWVhc3VyZW1lbnQgfHxcclxuICAgICAgICAgICAgdGhpcy5hY3F1aXJlVG9rZW5CeUNvZGVBc3luY01lYXN1cmVtZW50O1xyXG4gICAgICAgIGlmICghbWVhc3VyZW1lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiUGVyZjogVmlzaWJpbGl0eSBjaGFuZ2UgZGV0ZWN0ZWQgaW4gXCIsIG1lYXN1cmVtZW50LmV2ZW50Lm5hbWUpO1xyXG4gICAgICAgIG1lYXN1cmVtZW50LmluY3JlbWVudCh7XHJcbiAgICAgICAgICAgIHZpc2liaWxpdHlDaGFuZ2VDb3VudDogMSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vICNlbmRyZWdpb25cclxuICAgIC8vICNyZWdpb24gU2lsZW50IEZsb3dcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB1c2VzIGEgaGlkZGVuIGlmcmFtZSB0byBmZXRjaCBhbiBhdXRob3JpemF0aW9uIGNvZGUgZnJvbSB0aGUgZVNUUy4gVGhlcmUgYXJlIGNhc2VzIHdoZXJlIHRoaXMgbWF5IG5vdCB3b3JrOlxyXG4gICAgICogLSBBbnkgYnJvd3NlciB1c2luZyBhIGZvcm0gb2YgSW50ZWxsaWdlbnQgVHJhY2tpbmcgUHJldmVudGlvblxyXG4gICAgICogLSBJZiB0aGVyZSBpcyBub3QgYW4gZXN0YWJsaXNoZWQgc2Vzc2lvbiB3aXRoIHRoZSBzZXJ2aWNlXHJcbiAgICAgKlxyXG4gICAgICogSW4gdGhlc2UgY2FzZXMsIHRoZSByZXF1ZXN0IG11c3QgYmUgZG9uZSBpbnNpZGUgYSBwb3B1cCBvciBmdWxsIGZyYW1lIHJlZGlyZWN0LlxyXG4gICAgICpcclxuICAgICAqIEZvciB0aGUgY2FzZXMgd2hlcmUgaW50ZXJhY3Rpb24gaXMgcmVxdWlyZWQsIHlvdSBjYW5ub3Qgc2VuZCBhIHJlcXVlc3Qgd2l0aCBwcm9tcHQ9bm9uZS5cclxuICAgICAqXHJcbiAgICAgKiBJZiB5b3VyIHJlZnJlc2ggdG9rZW4gaGFzIGV4cGlyZWQsIHlvdSBjYW4gdXNlIHRoaXMgZnVuY3Rpb24gdG8gZmV0Y2ggYSBuZXcgc2V0IG9mIHRva2VucyBzaWxlbnRseSBhcyBsb25nIGFzXHJcbiAgICAgKiB5b3Ugc2Vzc2lvbiBvbiB0aGUgc2VydmVyIHN0aWxsIGV4aXN0cy5cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0IHtAbGluayBTc29TaWxlbnRSZXF1ZXN0fVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoaXMgZnVuY3Rpb24gaGFzIGNvbXBsZXRlZCwgb3IgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igd2FzIHJhaXNlZC5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgc3NvU2lsZW50KHJlcXVlc3QpIHtcclxuICAgICAgICBjb25zdCBjb3JyZWxhdGlvbklkID0gdGhpcy5nZXRSZXF1ZXN0Q29ycmVsYXRpb25JZChyZXF1ZXN0KTtcclxuICAgICAgICBjb25zdCB2YWxpZFJlcXVlc3QgPSB7XHJcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXHJcbiAgICAgICAgICAgIC8vIHdpbGwgYmUgUHJvbXB0VmFsdWUuTk9ORSBvciBQcm9tcHRWYWx1ZS5OT19TRVNTSU9OXHJcbiAgICAgICAgICAgIHByb21wdDogcmVxdWVzdC5wcm9tcHQsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IGNvcnJlbGF0aW9uSWQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnNzb1NpbGVudE1lYXN1cmVtZW50ID0gdGhpcy5wZXJmb3JtYW5jZUNsaWVudC5zdGFydE1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLlNzb1NpbGVudCwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgdGhpcy5zc29TaWxlbnRNZWFzdXJlbWVudD8uYWRkKHtcclxuICAgICAgICAgICAgc2NlbmFyaW9JZDogcmVxdWVzdC5zY2VuYXJpb0lkLFxyXG4gICAgICAgICAgICBhY2NvdW50VHlwZTogZ2V0QWNjb3VudFR5cGUocmVxdWVzdC5hY2NvdW50KSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBwcmVmbGlnaHRDaGVjayh0aGlzLmluaXRpYWxpemVkLCB0aGlzLnNzb1NpbGVudE1lYXN1cmVtZW50KTtcclxuICAgICAgICB0aGlzLnNzb1NpbGVudE1lYXN1cmVtZW50Py5pbmNyZW1lbnQoe1xyXG4gICAgICAgICAgICB2aXNpYmlsaXR5Q2hhbmdlQ291bnQ6IDAsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy50cmFja1BhZ2VWaXNpYmlsaXR5V2l0aE1lYXN1cmVtZW50KTtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwic3NvU2lsZW50IGNhbGxlZFwiLCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLlNTT19TSUxFTlRfU1RBUlQsIEludGVyYWN0aW9uVHlwZS5TaWxlbnQsIHZhbGlkUmVxdWVzdCk7XHJcbiAgICAgICAgbGV0IHJlc3VsdDtcclxuICAgICAgICBpZiAodGhpcy5jYW5Vc2VOYXRpdmUodmFsaWRSZXF1ZXN0KSkge1xyXG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmFjcXVpcmVUb2tlbk5hdGl2ZSh2YWxpZFJlcXVlc3QsIEFwaUlkLnNzb1NpbGVudCkuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIElmIG5hdGl2ZSB0b2tlbiBhY3F1aXNpdGlvbiBmYWlscyBmb3IgYXZhaWxhYmlsaXR5IHJlYXNvbnMgZmFsbGJhY2sgdG8gc3RhbmRhcmQgZmxvd1xyXG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBOYXRpdmVBdXRoRXJyb3IgJiYgaXNGYXRhbE5hdGl2ZUF1dGhFcnJvcihlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlRXh0ZW5zaW9uUHJvdmlkZXIgPSB1bmRlZmluZWQ7IC8vIElmIGV4dGVuc2lvbiBnZXRzIHVuaW5zdGFsbGVkIGR1cmluZyBzZXNzaW9uIHByZXZlbnQgZnV0dXJlIHJlcXVlc3RzIGZyb20gY29udGludWluZyB0byBhdHRlbXB0XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2lsZW50SWZyYW1lQ2xpZW50ID0gdGhpcy5jcmVhdGVTaWxlbnRJZnJhbWVDbGllbnQodmFsaWRSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBzaWxlbnRJZnJhbWVDbGllbnQuYWNxdWlyZVRva2VuKHZhbGlkUmVxdWVzdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNpbGVudElmcmFtZUNsaWVudCA9IHRoaXMuY3JlYXRlU2lsZW50SWZyYW1lQ2xpZW50KHZhbGlkUmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgcmVzdWx0ID0gc2lsZW50SWZyYW1lQ2xpZW50LmFjcXVpcmVUb2tlbih2YWxpZFJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLlNTT19TSUxFTlRfU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlNpbGVudCwgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB0aGlzLnNzb1NpbGVudE1lYXN1cmVtZW50Py5lbmQoe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIGlzTmF0aXZlQnJva2VyOiByZXNwb25zZS5mcm9tTmF0aXZlQnJva2VyLFxyXG4gICAgICAgICAgICAgICAgYWNjZXNzVG9rZW5TaXplOiByZXNwb25zZS5hY2Nlc3NUb2tlbi5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBpZFRva2VuU2l6ZTogcmVzcG9uc2UuaWRUb2tlbi5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICBhY2NvdW50VHlwZTogZ2V0QWNjb3VudFR5cGUocmVzcG9uc2UuYWNjb3VudCksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuU1NPX1NJTEVOVF9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuU2lsZW50LCBudWxsLCBlKTtcclxuICAgICAgICAgICAgdGhpcy5zc29TaWxlbnRNZWFzdXJlbWVudD8uZW5kKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICB9LCBlKTtcclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMudHJhY2tQYWdlVmlzaWJpbGl0eVdpdGhNZWFzdXJlbWVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gcmVkZWVtcyBhbiBhdXRob3JpemF0aW9uIGNvZGUgKHBhc3NlZCBhcyBjb2RlKSBmcm9tIHRoZSBlU1RTIHRva2VuIGVuZHBvaW50LlxyXG4gICAgICogVGhpcyBhdXRob3JpemF0aW9uIGNvZGUgc2hvdWxkIGJlIGFjcXVpcmVkIHNlcnZlci1zaWRlIHVzaW5nIGEgY29uZmlkZW50aWFsIGNsaWVudCB0byBhY3F1aXJlIGEgc3BhX2NvZGUuXHJcbiAgICAgKiBUaGlzIEFQSSBpcyBub3QgaW5kZW5kZWQgZm9yIG5vcm1hbCBhdXRob3JpemF0aW9uIGNvZGUgYWNxdWlzaXRpb24gYW5kIHJlZGVtcHRpb24uXHJcbiAgICAgKlxyXG4gICAgICogUmVkZW1wdGlvbiBvZiB0aGlzIGF1dGhvcml6YXRpb24gY29kZSB3aWxsIG5vdCByZXF1aXJlIFBLQ0UsIGFzIGl0IHdhcyBhY3F1aXJlZCBieSBhIGNvbmZpZGVudGlhbCBjbGllbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3Qge0BsaW5rIEF1dGhvcml6YXRpb25Db2RlUmVxdWVzdH1cclxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoaXMgZnVuY3Rpb24gaGFzIGNvbXBsZXRlZCwgb3IgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igd2FzIHJhaXNlZC5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuQnlDb2RlKHJlcXVlc3QpIHtcclxuICAgICAgICBjb25zdCBjb3JyZWxhdGlvbklkID0gdGhpcy5nZXRSZXF1ZXN0Q29ycmVsYXRpb25JZChyZXF1ZXN0KTtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcImFjcXVpcmVUb2tlbkJ5Q29kZSBjYWxsZWRcIiwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgY29uc3QgYXRiY01lYXN1cmVtZW50ID0gdGhpcy5wZXJmb3JtYW5jZUNsaWVudC5zdGFydE1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkFjcXVpcmVUb2tlbkJ5Q29kZSwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgcHJlZmxpZ2h0Q2hlY2sodGhpcy5pbml0aWFsaXplZCwgYXRiY01lYXN1cmVtZW50KTtcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fQllfQ09ERV9TVEFSVCwgSW50ZXJhY3Rpb25UeXBlLlNpbGVudCwgcmVxdWVzdCk7XHJcbiAgICAgICAgYXRiY01lYXN1cmVtZW50LmFkZCh7IHNjZW5hcmlvSWQ6IHJlcXVlc3Quc2NlbmFyaW9JZCB9KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAocmVxdWVzdC5jb2RlICYmIHJlcXVlc3QubmF0aXZlQWNjb3VudElkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaHJvdyBlcnJvciBpbiBjYXNlIHNlcnZlciByZXR1cm5zIGJvdGggc3BhX2NvZGUgYW5kIHNwYV9hY2NvdW50aWQgaW4gZXhjaGFuZ2UgZm9yIGF1dGggY29kZS5cclxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3Ioc3BhQ29kZUFuZE5hdGl2ZUFjY291bnRJZFByZXNlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlcXVlc3QuY29kZSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaHlicmlkQXV0aENvZGUgPSByZXF1ZXN0LmNvZGU7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2UgPSB0aGlzLmh5YnJpZEF1dGhDb2RlUmVzcG9uc2VzLmdldChoeWJyaWRBdXRoQ29kZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkluaXRpYXRpbmcgbmV3IGFjcXVpcmVUb2tlbkJ5Q29kZSByZXF1ZXN0XCIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gdGhpcy5hY3F1aXJlVG9rZW5CeUNvZGVBc3luYyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fQllfQ09ERV9TVUNDRVNTLCBJbnRlcmFjdGlvblR5cGUuU2lsZW50LCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmh5YnJpZEF1dGhDb2RlUmVzcG9uc2VzLmRlbGV0ZShoeWJyaWRBdXRoQ29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0YmNNZWFzdXJlbWVudC5lbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzTmF0aXZlQnJva2VyOiByZXN1bHQuZnJvbU5hdGl2ZUJyb2tlcixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2VuU2l6ZTogcmVzdWx0LmFjY2Vzc1Rva2VuLmxlbmd0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkVG9rZW5TaXplOiByZXN1bHQuaWRUb2tlbi5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY2NvdW50VHlwZTogZ2V0QWNjb3VudFR5cGUocmVzdWx0LmFjY291bnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaHlicmlkQXV0aENvZGVSZXNwb25zZXMuZGVsZXRlKGh5YnJpZEF1dGhDb2RlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1FVSVJFX1RPS0VOX0JZX0NPREVfRkFJTFVSRSwgSW50ZXJhY3Rpb25UeXBlLlNpbGVudCwgbnVsbCwgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdGJjTWVhc3VyZW1lbnQuZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaHlicmlkQXV0aENvZGVSZXNwb25zZXMuc2V0KGh5YnJpZEF1dGhDb2RlLCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiRXhpc3RpbmcgYWNxdWlyZVRva2VuQnlDb2RlIHJlcXVlc3QgZm91bmRcIiwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXRiY01lYXN1cmVtZW50LmRpc2NhcmQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChyZXF1ZXN0Lm5hdGl2ZUFjY291bnRJZCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2FuVXNlTmF0aXZlKHJlcXVlc3QsIHJlcXVlc3QubmF0aXZlQWNjb3VudElkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuYWNxdWlyZVRva2VuTmF0aXZlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29ycmVsYXRpb25JZCxcclxuICAgICAgICAgICAgICAgICAgICB9LCBBcGlJZC5hY3F1aXJlVG9rZW5CeUNvZGUsIHJlcXVlc3QubmF0aXZlQWNjb3VudElkKS5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBuYXRpdmUgdG9rZW4gYWNxdWlzaXRpb24gZmFpbHMgZm9yIGF2YWlsYWJpbGl0eSByZWFzb25zIGZhbGxiYWNrIHRvIHN0YW5kYXJkIGZsb3dcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBOYXRpdmVBdXRoRXJyb3IgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzRmF0YWxOYXRpdmVBdXRoRXJyb3IoZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubmF0aXZlRXh0ZW5zaW9uUHJvdmlkZXIgPSB1bmRlZmluZWQ7IC8vIElmIGV4dGVuc2lvbiBnZXRzIHVuaW5zdGFsbGVkIGR1cmluZyBzZXNzaW9uIHByZXZlbnQgZnV0dXJlIHJlcXVlc3RzIGZyb20gY29udGludWluZyB0byBhdHRlbXB0XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBhdGJjTWVhc3VyZW1lbnQuZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWNjb3VudFR5cGU6IGdldEFjY291bnRUeXBlKHJlc3VsdC5hY2NvdW50KSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcih1bmFibGVUb0FjcXVpcmVUb2tlbkZyb21OYXRpdmVQbGF0Zm9ybSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVCcm93c2VyQXV0aEVycm9yKGF1dGhDb2RlT3JOYXRpdmVBY2NvdW50SWRSZXF1aXJlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1FVSVJFX1RPS0VOX0JZX0NPREVfRkFJTFVSRSwgSW50ZXJhY3Rpb25UeXBlLlNpbGVudCwgbnVsbCwgZSk7XHJcbiAgICAgICAgICAgIGF0YmNNZWFzdXJlbWVudC5lbmQoe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIH0sIGUpO1xyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIFNpbGVudEF1dGhDb2RlQ2xpZW50IHRvIHJlZGVlbSBhbiBhdXRob3JpemF0aW9uIGNvZGUuXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICogQHJldHVybnMgUmVzdWx0IG9mIHRoZSBvcGVyYXRpb24gdG8gcmVkZWVtIHRoZSBhdXRob3JpemF0aW9uIGNvZGVcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuQnlDb2RlQXN5bmMocmVxdWVzdCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiYWNxdWlyZVRva2VuQnlDb2RlQXN5bmMgY2FsbGVkXCIsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgdGhpcy5hY3F1aXJlVG9rZW5CeUNvZGVBc3luY01lYXN1cmVtZW50ID1cclxuICAgICAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudC5zdGFydE1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkFjcXVpcmVUb2tlbkJ5Q29kZUFzeW5jLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHRoaXMuYWNxdWlyZVRva2VuQnlDb2RlQXN5bmNNZWFzdXJlbWVudD8uaW5jcmVtZW50KHtcclxuICAgICAgICAgICAgdmlzaWJpbGl0eUNoYW5nZUNvdW50OiAwLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMudHJhY2tQYWdlVmlzaWJpbGl0eVdpdGhNZWFzdXJlbWVudCk7XHJcbiAgICAgICAgY29uc3Qgc2lsZW50QXV0aENvZGVDbGllbnQgPSB0aGlzLmNyZWF0ZVNpbGVudEF1dGhDb2RlQ2xpZW50KHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgY29uc3Qgc2lsZW50VG9rZW5SZXN1bHQgPSBhd2FpdCBzaWxlbnRBdXRoQ29kZUNsaWVudFxyXG4gICAgICAgICAgICAuYWNxdWlyZVRva2VuKHJlcXVlc3QpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmFjcXVpcmVUb2tlbkJ5Q29kZUFzeW5jTWVhc3VyZW1lbnQ/LmVuZCh7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgZnJvbUNhY2hlOiByZXNwb25zZS5mcm9tQ2FjaGUsXHJcbiAgICAgICAgICAgICAgICBpc05hdGl2ZUJyb2tlcjogcmVzcG9uc2UuZnJvbU5hdGl2ZUJyb2tlcixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKHRva2VuUmVuZXdhbEVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuYWNxdWlyZVRva2VuQnlDb2RlQXN5bmNNZWFzdXJlbWVudD8uZW5kKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICB9LCB0b2tlblJlbmV3YWxFcnJvcik7XHJcbiAgICAgICAgICAgIHRocm93IHRva2VuUmVuZXdhbEVycm9yO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy50cmFja1BhZ2VWaXNpYmlsaXR5V2l0aE1lYXN1cmVtZW50KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gc2lsZW50VG9rZW5SZXN1bHQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEF0dGVtcHQgdG8gYWNxdWlyZSBhbiBhY2Nlc3MgdG9rZW4gZnJvbSB0aGUgY2FjaGVcclxuICAgICAqIEBwYXJhbSBzaWxlbnRDYWNoZUNsaWVudCBTaWxlbnRDYWNoZUNsaWVudFxyXG4gICAgICogQHBhcmFtIGNvbW1vblJlcXVlc3QgQ29tbW9uU2lsZW50Rmxvd1JlcXVlc3RcclxuICAgICAqIEBwYXJhbSBzaWxlbnRSZXF1ZXN0IFNpbGVudFJlcXVlc3RcclxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0LCB3aGVuIHJlc29sdmVkLCByZXR1cm5zIHRoZSBhY2Nlc3MgdG9rZW5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuRnJvbUNhY2hlKGNvbW1vblJlcXVlc3QsIGNhY2hlTG9va3VwUG9saWN5KSB7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudC5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkFjcXVpcmVUb2tlbkZyb21DYWNoZSwgY29tbW9uUmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBzd2l0Y2ggKGNhY2hlTG9va3VwUG9saWN5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FjaGVMb29rdXBQb2xpY3kuRGVmYXVsdDpcclxuICAgICAgICAgICAgY2FzZSBDYWNoZUxvb2t1cFBvbGljeS5BY2Nlc3NUb2tlbjpcclxuICAgICAgICAgICAgY2FzZSBDYWNoZUxvb2t1cFBvbGljeS5BY2Nlc3NUb2tlbkFuZFJlZnJlc2hUb2tlbjpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpbGVudENhY2hlQ2xpZW50ID0gdGhpcy5jcmVhdGVTaWxlbnRDYWNoZUNsaWVudChjb21tb25SZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGludm9rZUFzeW5jKHNpbGVudENhY2hlQ2xpZW50LmFjcXVpcmVUb2tlbi5iaW5kKHNpbGVudENhY2hlQ2xpZW50KSwgUGVyZm9ybWFuY2VFdmVudHMuU2lsZW50Q2FjaGVDbGllbnRBY3F1aXJlVG9rZW4sIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCBjb21tb25SZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKGNvbW1vblJlcXVlc3QpO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvckNvZGVzLnRva2VuUmVmcmVzaFJlcXVpcmVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEF0dGVtcHQgdG8gYWNxdWlyZSBhbiBhY2Nlc3MgdG9rZW4gdmlhIGEgcmVmcmVzaCB0b2tlblxyXG4gICAgICogQHBhcmFtIGNvbW1vblJlcXVlc3QgQ29tbW9uU2lsZW50Rmxvd1JlcXVlc3RcclxuICAgICAqIEBwYXJhbSBjYWNoZUxvb2t1cFBvbGljeSBDYWNoZUxvb2t1cFBvbGljeVxyXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQsIHdoZW4gcmVzb2x2ZWQsIHJldHVybnMgdGhlIGFjY2VzcyB0b2tlblxyXG4gICAgICovXHJcbiAgICBhc3luYyBhY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbihjb21tb25SZXF1ZXN0LCBjYWNoZUxvb2t1cFBvbGljeSkge1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQuYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5BY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbiwgY29tbW9uUmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBzd2l0Y2ggKGNhY2hlTG9va3VwUG9saWN5KSB7XHJcbiAgICAgICAgICAgIGNhc2UgQ2FjaGVMb29rdXBQb2xpY3kuRGVmYXVsdDpcclxuICAgICAgICAgICAgY2FzZSBDYWNoZUxvb2t1cFBvbGljeS5BY2Nlc3NUb2tlbkFuZFJlZnJlc2hUb2tlbjpcclxuICAgICAgICAgICAgY2FzZSBDYWNoZUxvb2t1cFBvbGljeS5SZWZyZXNoVG9rZW46XHJcbiAgICAgICAgICAgIGNhc2UgQ2FjaGVMb29rdXBQb2xpY3kuUmVmcmVzaFRva2VuQW5kTmV0d29yazpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHNpbGVudFJlZnJlc2hDbGllbnQgPSB0aGlzLmNyZWF0ZVNpbGVudFJlZnJlc2hDbGllbnQoY29tbW9uUmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnZva2VBc3luYyhzaWxlbnRSZWZyZXNoQ2xpZW50LmFjcXVpcmVUb2tlbi5iaW5kKHNpbGVudFJlZnJlc2hDbGllbnQpLCBQZXJmb3JtYW5jZUV2ZW50cy5TaWxlbnRSZWZyZXNoQ2xpZW50QWNxdWlyZVRva2VuLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgY29tbW9uUmVxdWVzdC5jb3JyZWxhdGlvbklkKShjb21tb25SZXF1ZXN0KTtcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JDb2Rlcy50b2tlblJlZnJlc2hSZXF1aXJlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBdHRlbXB0IHRvIGFjcXVpcmUgYW4gYWNjZXNzIHRva2VuIHZpYSBhbiBpZnJhbWVcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0IENvbW1vblNpbGVudEZsb3dSZXF1ZXN0XHJcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdGhhdCwgd2hlbiByZXNvbHZlZCwgcmV0dXJucyB0aGUgYWNjZXNzIHRva2VuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGFjcXVpcmVUb2tlbkJ5U2lsZW50SWZyYW1lKHJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuQWNxdWlyZVRva2VuQnlTaWxlbnRJZnJhbWUsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgY29uc3Qgc2lsZW50SWZyYW1lQ2xpZW50ID0gdGhpcy5jcmVhdGVTaWxlbnRJZnJhbWVDbGllbnQocmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICByZXR1cm4gaW52b2tlQXN5bmMoc2lsZW50SWZyYW1lQ2xpZW50LmFjcXVpcmVUb2tlbi5iaW5kKHNpbGVudElmcmFtZUNsaWVudCksIFBlcmZvcm1hbmNlRXZlbnRzLlNpbGVudElmcmFtZUNsaWVudEFjcXVpcmVUb2tlbiwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkocmVxdWVzdCk7XHJcbiAgICB9XHJcbiAgICAvLyAjZW5kcmVnaW9uXHJcbiAgICAvLyAjcmVnaW9uIExvZ291dFxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXByZWNhdGVkIGxvZ291dCBmdW5jdGlvbi4gVXNlIGxvZ291dFJlZGlyZWN0IG9yIGxvZ291dFBvcHVwIGluc3RlYWRcclxuICAgICAqIEBwYXJhbSBsb2dvdXRSZXF1ZXN0XHJcbiAgICAgKiBAZGVwcmVjYXRlZFxyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2dvdXQobG9nb3V0UmVxdWVzdCkge1xyXG4gICAgICAgIGNvbnN0IGNvcnJlbGF0aW9uSWQgPSB0aGlzLmdldFJlcXVlc3RDb3JyZWxhdGlvbklkKGxvZ291dFJlcXVlc3QpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoXCJsb2dvdXQgQVBJIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiBtc2FsLWJyb3dzZXIgdjMuMC4wLiBVc2UgbG9nb3V0UmVkaXJlY3QgaW5zdGVhZC5cIiwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9nb3V0UmVkaXJlY3Qoe1xyXG4gICAgICAgICAgICBjb3JyZWxhdGlvbklkLFxyXG4gICAgICAgICAgICAuLi5sb2dvdXRSZXF1ZXN0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgdG8gbG9nIG91dCB0aGUgY3VycmVudCB1c2VyLCBhbmQgcmVkaXJlY3QgdGhlIHVzZXIgdG8gdGhlIHBvc3RMb2dvdXRSZWRpcmVjdFVyaS5cclxuICAgICAqIERlZmF1bHQgYmVoYXZpb3VyIGlzIHRvIHJlZGlyZWN0IHRoZSB1c2VyIHRvIGB3aW5kb3cubG9jYXRpb24uaHJlZmAuXHJcbiAgICAgKiBAcGFyYW0gbG9nb3V0UmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2dvdXRSZWRpcmVjdChsb2dvdXRSZXF1ZXN0KSB7XHJcbiAgICAgICAgY29uc3QgY29ycmVsYXRpb25JZCA9IHRoaXMuZ2V0UmVxdWVzdENvcnJlbGF0aW9uSWQobG9nb3V0UmVxdWVzdCk7XHJcbiAgICAgICAgcmVkaXJlY3RQcmVmbGlnaHRDaGVjayh0aGlzLmluaXRpYWxpemVkLCB0aGlzLmNvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5zZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3ModHJ1ZSk7XHJcbiAgICAgICAgY29uc3QgcmVkaXJlY3RDbGllbnQgPSB0aGlzLmNyZWF0ZVJlZGlyZWN0Q2xpZW50KGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHJldHVybiByZWRpcmVjdENsaWVudC5sb2dvdXQobG9nb3V0UmVxdWVzdCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENsZWFycyBsb2NhbCBjYWNoZSBmb3IgdGhlIGN1cnJlbnQgdXNlciB0aGVuIG9wZW5zIGEgcG9wdXAgd2luZG93IHByb21wdGluZyB0aGUgdXNlciB0byBzaWduLW91dCBvZiB0aGUgc2VydmVyXHJcbiAgICAgKiBAcGFyYW0gbG9nb3V0UmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBsb2dvdXRQb3B1cChsb2dvdXRSZXF1ZXN0KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgY29ycmVsYXRpb25JZCA9IHRoaXMuZ2V0UmVxdWVzdENvcnJlbGF0aW9uSWQobG9nb3V0UmVxdWVzdCk7XHJcbiAgICAgICAgICAgIHByZWZsaWdodENoZWNrJDEodGhpcy5pbml0aWFsaXplZCk7XHJcbiAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKHRydWUpO1xyXG4gICAgICAgICAgICBjb25zdCBwb3B1cENsaWVudCA9IHRoaXMuY3JlYXRlUG9wdXBDbGllbnQoY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3B1cENsaWVudC5sb2dvdXQobG9nb3V0UmVxdWVzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgZnVuY3Rpb24gaXMgc3luY3Jvbm91cyB3ZSBuZWVkIHRvIHJlamVjdFxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgY2FjaGUgaW50ZXJhY3Rpb24gY2xpZW50IHRvIGNsZWFyIGJyb3N3ZXIgY2FjaGUuXHJcbiAgICAgKiBAcGFyYW0gbG9nb3V0UmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBjbGVhckNhY2hlKGxvZ291dFJlcXVlc3QpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNCcm93c2VyRW52aXJvbm1lbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImluIG5vbi1icm93c2VyIGVudmlyb25tZW50LCByZXR1cm5pbmcgZWFybHkuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNvcnJlbGF0aW9uSWQgPSB0aGlzLmdldFJlcXVlc3RDb3JyZWxhdGlvbklkKGxvZ291dFJlcXVlc3QpO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlQ2xpZW50ID0gdGhpcy5jcmVhdGVTaWxlbnRDYWNoZUNsaWVudChjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICByZXR1cm4gY2FjaGVDbGllbnQubG9nb3V0KGxvZ291dFJlcXVlc3QpO1xyXG4gICAgfVxyXG4gICAgLy8gI2VuZHJlZ2lvblxyXG4gICAgLy8gI3JlZ2lvbiBBY2NvdW50IEFQSXNcclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhbGwgdGhlIGFjY291bnRzIGluIHRoZSBjYWNoZSB0aGF0IG1hdGNoIHRoZSBvcHRpb25hbCBmaWx0ZXIuIElmIG5vIGZpbHRlciBpcyBwcm92aWRlZCwgYWxsIGFjY291bnRzIGFyZSByZXR1cm5lZC5cclxuICAgICAqIEBwYXJhbSBhY2NvdW50RmlsdGVyIC0gKE9wdGlvbmFsKSBmaWx0ZXIgdG8gbmFycm93IGRvd24gdGhlIGFjY291bnRzIHJldHVybmVkXHJcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiBBY2NvdW50SW5mbyBvYmplY3RzIGluIGNhY2hlXHJcbiAgICAgKi9cclxuICAgIGdldEFsbEFjY291bnRzKGFjY291bnRGaWx0ZXIpIHtcclxuICAgICAgICByZXR1cm4gZ2V0QWxsQWNjb3VudHModGhpcy5sb2dnZXIsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIHRoaXMuaXNCcm93c2VyRW52aXJvbm1lbnQsIGFjY291bnRGaWx0ZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBmaXJzdCBhY2NvdW50IGZvdW5kIGluIHRoZSBjYWNoZSB0aGF0IG1hdGNoZXMgdGhlIGFjY291bnQgZmlsdGVyIHBhc3NlZCBpbi5cclxuICAgICAqIEBwYXJhbSBhY2NvdW50RmlsdGVyXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgZmlyc3QgYWNjb3VudCBmb3VuZCBpbiB0aGUgY2FjaGUgbWF0Y2hpbmcgdGhlIHByb3ZpZGVkIGZpbHRlciBvciBudWxsIGlmIG5vIGFjY291bnQgY291bGQgYmUgZm91bmQuXHJcbiAgICAgKi9cclxuICAgIGdldEFjY291bnQoYWNjb3VudEZpbHRlcikge1xyXG4gICAgICAgIHJldHVybiBnZXRBY2NvdW50KGFjY291bnRGaWx0ZXIsIHRoaXMubG9nZ2VyLCB0aGlzLmJyb3dzZXJTdG9yYWdlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgc2lnbmVkIGluIGFjY291bnQgbWF0Y2hpbmcgdXNlcm5hbWUuXHJcbiAgICAgKiAodGhlIGFjY291bnQgb2JqZWN0IGlzIGNyZWF0ZWQgYXQgdGhlIHRpbWUgb2Ygc3VjY2Vzc2Z1bCBsb2dpbilcclxuICAgICAqIG9yIG51bGwgd2hlbiBubyBtYXRjaGluZyBhY2NvdW50IGlzIGZvdW5kLlxyXG4gICAgICogVGhpcyBBUEkgaXMgcHJvdmlkZWQgZm9yIGNvbnZlbmllbmNlIGJ1dCBnZXRBY2NvdW50QnlJZCBzaG91bGQgYmUgdXNlZCBmb3IgYmVzdCByZWxpYWJpbGl0eVxyXG4gICAgICogQHBhcmFtIHVzZXJuYW1lXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgYWNjb3VudCBvYmplY3Qgc3RvcmVkIGluIE1TQUxcclxuICAgICAqL1xyXG4gICAgZ2V0QWNjb3VudEJ5VXNlcm5hbWUodXNlcm5hbWUpIHtcclxuICAgICAgICByZXR1cm4gZ2V0QWNjb3VudEJ5VXNlcm5hbWUodXNlcm5hbWUsIHRoaXMubG9nZ2VyLCB0aGlzLmJyb3dzZXJTdG9yYWdlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgc2lnbmVkIGluIGFjY291bnQgbWF0Y2hpbmcgaG9tZUFjY291bnRJZC5cclxuICAgICAqICh0aGUgYWNjb3VudCBvYmplY3QgaXMgY3JlYXRlZCBhdCB0aGUgdGltZSBvZiBzdWNjZXNzZnVsIGxvZ2luKVxyXG4gICAgICogb3IgbnVsbCB3aGVuIG5vIG1hdGNoaW5nIGFjY291bnQgaXMgZm91bmRcclxuICAgICAqIEBwYXJhbSBob21lQWNjb3VudElkXHJcbiAgICAgKiBAcmV0dXJucyBUaGUgYWNjb3VudCBvYmplY3Qgc3RvcmVkIGluIE1TQUxcclxuICAgICAqL1xyXG4gICAgZ2V0QWNjb3VudEJ5SG9tZUlkKGhvbWVBY2NvdW50SWQpIHtcclxuICAgICAgICByZXR1cm4gZ2V0QWNjb3VudEJ5SG9tZUlkKGhvbWVBY2NvdW50SWQsIHRoaXMubG9nZ2VyLCB0aGlzLmJyb3dzZXJTdG9yYWdlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgc2lnbmVkIGluIGFjY291bnQgbWF0Y2hpbmcgbG9jYWxBY2NvdW50SWQuXHJcbiAgICAgKiAodGhlIGFjY291bnQgb2JqZWN0IGlzIGNyZWF0ZWQgYXQgdGhlIHRpbWUgb2Ygc3VjY2Vzc2Z1bCBsb2dpbilcclxuICAgICAqIG9yIG51bGwgd2hlbiBubyBtYXRjaGluZyBhY2NvdW50IGlzIGZvdW5kXHJcbiAgICAgKiBAcGFyYW0gbG9jYWxBY2NvdW50SWRcclxuICAgICAqIEByZXR1cm5zIFRoZSBhY2NvdW50IG9iamVjdCBzdG9yZWQgaW4gTVNBTFxyXG4gICAgICovXHJcbiAgICBnZXRBY2NvdW50QnlMb2NhbElkKGxvY2FsQWNjb3VudElkKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldEFjY291bnRCeUxvY2FsSWQobG9jYWxBY2NvdW50SWQsIHRoaXMubG9nZ2VyLCB0aGlzLmJyb3dzZXJTdG9yYWdlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgYWNjb3VudCB0byB1c2UgYXMgdGhlIGFjdGl2ZSBhY2NvdW50LiBJZiBubyBhY2NvdW50IGlzIHBhc3NlZCB0byB0aGUgYWNxdWlyZVRva2VuIEFQSXMsIHRoZW4gTVNBTCB3aWxsIHVzZSB0aGlzIGFjdGl2ZSBhY2NvdW50LlxyXG4gICAgICogQHBhcmFtIGFjY291bnRcclxuICAgICAqL1xyXG4gICAgc2V0QWN0aXZlQWNjb3VudChhY2NvdW50KSB7XHJcbiAgICAgICAgc2V0QWN0aXZlQWNjb3VudChhY2NvdW50LCB0aGlzLmJyb3dzZXJTdG9yYWdlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyB0aGUgY3VycmVudGx5IGFjdGl2ZSBhY2NvdW50XHJcbiAgICAgKi9cclxuICAgIGdldEFjdGl2ZUFjY291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIGdldEFjdGl2ZUFjY291bnQodGhpcy5icm93c2VyU3RvcmFnZSk7XHJcbiAgICB9XHJcbiAgICAvLyAjZW5kcmVnaW9uXHJcbiAgICAvKipcclxuICAgICAqIEh5ZHJhdGVzIHRoZSBjYWNoZSB3aXRoIHRoZSB0b2tlbnMgZnJvbSBhbiBBdXRoZW50aWNhdGlvblJlc3VsdFxyXG4gICAgICogQHBhcmFtIHJlc3VsdFxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGh5ZHJhdGVDYWNoZShyZXN1bHQsIHJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiaHlkcmF0ZUNhY2hlIGNhbGxlZFwiKTtcclxuICAgICAgICAvLyBBY2NvdW50IGdldHMgc2F2ZWQgdG8gYnJvd3NlciBzdG9yYWdlIHJlZ2FyZGxlc3Mgb2YgbmF0aXZlIG9yIG5vdFxyXG4gICAgICAgIGNvbnN0IGFjY291bnRFbnRpdHkgPSBBY2NvdW50RW50aXR5LmNyZWF0ZUZyb21BY2NvdW50SW5mbyhyZXN1bHQuYWNjb3VudCwgcmVzdWx0LmNsb3VkR3JhcGhIb3N0TmFtZSwgcmVzdWx0Lm1zR3JhcGhIb3N0KTtcclxuICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEFjY291bnQoYWNjb3VudEVudGl0eSk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5mcm9tTmF0aXZlQnJva2VyKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJSZXNwb25zZSB3YXMgZnJvbSBuYXRpdmUgYnJva2VyLCBzdG9yaW5nIGluLW1lbW9yeVwiKTtcclxuICAgICAgICAgICAgLy8gVG9rZW5zIGZyb20gbmF0aXZlIGJyb2tlciBhcmUgc3RvcmVkIGluLW1lbW9yeVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5uYXRpdmVJbnRlcm5hbFN0b3JhZ2UuaHlkcmF0ZUNhY2hlKHJlc3VsdCwgcmVxdWVzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5icm93c2VyU3RvcmFnZS5oeWRyYXRlQ2FjaGUocmVzdWx0LCByZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvLyAjcmVnaW9uIEhlbHBlcnNcclxuICAgIC8qKlxyXG4gICAgICogQWNxdWlyZSBhIHRva2VuIGZyb20gbmF0aXZlIGRldmljZSAoZS5nLiBXQU0pXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBhY3F1aXJlVG9rZW5OYXRpdmUocmVxdWVzdCwgYXBpSWQsIGFjY291bnRJZCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiYWNxdWlyZVRva2VuTmF0aXZlIGNhbGxlZFwiKTtcclxuICAgICAgICBpZiAoIXRoaXMubmF0aXZlRXh0ZW5zaW9uUHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihuYXRpdmVDb25uZWN0aW9uTm90RXN0YWJsaXNoZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBuYXRpdmVDbGllbnQgPSBuZXcgTmF0aXZlSW50ZXJhY3Rpb25DbGllbnQodGhpcy5jb25maWcsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIHRoaXMuYnJvd3NlckNyeXB0bywgdGhpcy5sb2dnZXIsIHRoaXMuZXZlbnRIYW5kbGVyLCB0aGlzLm5hdmlnYXRpb25DbGllbnQsIGFwaUlkLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLm5hdGl2ZUV4dGVuc2lvblByb3ZpZGVyLCBhY2NvdW50SWQgfHwgdGhpcy5nZXROYXRpdmVBY2NvdW50SWQocmVxdWVzdCksIHRoaXMubmF0aXZlSW50ZXJuYWxTdG9yYWdlLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHJldHVybiBuYXRpdmVDbGllbnQuYWNxdWlyZVRva2VuKHJlcXVlc3QpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGJvb2xlYW4gaW5kaWNhdGluZyBpZiB0aGlzIHJlcXVlc3QgY2FuIHVzZSB0aGUgbmF0aXZlIGJyb2tlclxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgY2FuVXNlTmF0aXZlKHJlcXVlc3QsIGFjY291bnRJZCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiY2FuVXNlTmF0aXZlIGNhbGxlZFwiKTtcclxuICAgICAgICBpZiAoIU5hdGl2ZU1lc3NhZ2VIYW5kbGVyLmlzTmF0aXZlQXZhaWxhYmxlKHRoaXMuY29uZmlnLCB0aGlzLmxvZ2dlciwgdGhpcy5uYXRpdmVFeHRlbnNpb25Qcm92aWRlciwgcmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJjYW5Vc2VOYXRpdmU6IGlzTmF0aXZlQXZhaWxhYmxlIHJldHVybmVkIGZhbHNlLCByZXR1cm5pbmcgZmFsc2VcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcXVlc3QucHJvbXB0KSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAocmVxdWVzdC5wcm9tcHQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgUHJvbXB0VmFsdWUuTk9ORTpcclxuICAgICAgICAgICAgICAgIGNhc2UgUHJvbXB0VmFsdWUuQ09OU0VOVDpcclxuICAgICAgICAgICAgICAgIGNhc2UgUHJvbXB0VmFsdWUuTE9HSU46XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJjYW5Vc2VOYXRpdmU6IHByb21wdCBpcyBjb21wYXRpYmxlIHdpdGggbmF0aXZlIGZsb3dcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKGBjYW5Vc2VOYXRpdmU6IHByb21wdCA9ICR7cmVxdWVzdC5wcm9tcHR9IGlzIG5vdCBjb21wYXRpYmxlIHdpdGggbmF0aXZlIGZsb3csIHJldHVybmluZyBmYWxzZWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIWFjY291bnRJZCAmJiAhdGhpcy5nZXROYXRpdmVBY2NvdW50SWQocmVxdWVzdCkpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJjYW5Vc2VOYXRpdmU6IG5hdGl2ZUFjY291bnRJZCBpcyBub3QgYXZhaWxhYmxlLCByZXR1cm5pbmcgZmFsc2VcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgbmF0aXZlIGFjY291bnRJZCBmcm9tIHRoZSBhY2NvdW50XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgZ2V0TmF0aXZlQWNjb3VudElkKHJlcXVlc3QpIHtcclxuICAgICAgICBjb25zdCBhY2NvdW50ID0gcmVxdWVzdC5hY2NvdW50IHx8XHJcbiAgICAgICAgICAgIHRoaXMuZ2V0QWNjb3VudCh7XHJcbiAgICAgICAgICAgICAgICBsb2dpbkhpbnQ6IHJlcXVlc3QubG9naW5IaW50LFxyXG4gICAgICAgICAgICAgICAgc2lkOiByZXF1ZXN0LnNpZCxcclxuICAgICAgICAgICAgfSkgfHxcclxuICAgICAgICAgICAgdGhpcy5nZXRBY3RpdmVBY2NvdW50KCk7XHJcbiAgICAgICAgcmV0dXJuIChhY2NvdW50ICYmIGFjY291bnQubmF0aXZlQWNjb3VudElkKSB8fCBcIlwiO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIG5ldyBpbnN0YW5jZSBvZiB0aGUgUG9wdXAgSW50ZXJhY3Rpb24gQ2xpZW50XHJcbiAgICAgKiBAcGFyYW0gY29ycmVsYXRpb25JZFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVQb3B1cENsaWVudChjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQb3B1cENsaWVudCh0aGlzLmNvbmZpZywgdGhpcy5icm93c2VyU3RvcmFnZSwgdGhpcy5icm93c2VyQ3J5cHRvLCB0aGlzLmxvZ2dlciwgdGhpcy5ldmVudEhhbmRsZXIsIHRoaXMubmF2aWdhdGlvbkNsaWVudCwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5uYXRpdmVJbnRlcm5hbFN0b3JhZ2UsIHRoaXMubmF0aXZlRXh0ZW5zaW9uUHJvdmlkZXIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIG5ldyBpbnN0YW5jZSBvZiB0aGUgUmVkaXJlY3QgSW50ZXJhY3Rpb24gQ2xpZW50XHJcbiAgICAgKiBAcGFyYW0gY29ycmVsYXRpb25JZFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVSZWRpcmVjdENsaWVudChjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBSZWRpcmVjdENsaWVudCh0aGlzLmNvbmZpZywgdGhpcy5icm93c2VyU3RvcmFnZSwgdGhpcy5icm93c2VyQ3J5cHRvLCB0aGlzLmxvZ2dlciwgdGhpcy5ldmVudEhhbmRsZXIsIHRoaXMubmF2aWdhdGlvbkNsaWVudCwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5uYXRpdmVJbnRlcm5hbFN0b3JhZ2UsIHRoaXMubmF0aXZlRXh0ZW5zaW9uUHJvdmlkZXIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIG5ldyBpbnN0YW5jZSBvZiB0aGUgU2lsZW50IElmcmFtZSBJbnRlcmFjdGlvbiBDbGllbnRcclxuICAgICAqIEBwYXJhbSBjb3JyZWxhdGlvbklkXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZVNpbGVudElmcmFtZUNsaWVudChjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTaWxlbnRJZnJhbWVDbGllbnQodGhpcy5jb25maWcsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIHRoaXMuYnJvd3NlckNyeXB0bywgdGhpcy5sb2dnZXIsIHRoaXMuZXZlbnRIYW5kbGVyLCB0aGlzLm5hdmlnYXRpb25DbGllbnQsIEFwaUlkLnNzb1NpbGVudCwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5uYXRpdmVJbnRlcm5hbFN0b3JhZ2UsIHRoaXMubmF0aXZlRXh0ZW5zaW9uUHJvdmlkZXIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIG5ldyBpbnN0YW5jZSBvZiB0aGUgU2lsZW50IENhY2hlIEludGVyYWN0aW9uIENsaWVudFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVTaWxlbnRDYWNoZUNsaWVudChjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTaWxlbnRDYWNoZUNsaWVudCh0aGlzLmNvbmZpZywgdGhpcy5icm93c2VyU3RvcmFnZSwgdGhpcy5icm93c2VyQ3J5cHRvLCB0aGlzLmxvZ2dlciwgdGhpcy5ldmVudEhhbmRsZXIsIHRoaXMubmF2aWdhdGlvbkNsaWVudCwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5uYXRpdmVFeHRlbnNpb25Qcm92aWRlciwgY29ycmVsYXRpb25JZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgbmV3IGluc3RhbmNlIG9mIHRoZSBTaWxlbnQgUmVmcmVzaCBJbnRlcmFjdGlvbiBDbGllbnRcclxuICAgICAqL1xyXG4gICAgY3JlYXRlU2lsZW50UmVmcmVzaENsaWVudChjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTaWxlbnRSZWZyZXNoQ2xpZW50KHRoaXMuY29uZmlnLCB0aGlzLmJyb3dzZXJTdG9yYWdlLCB0aGlzLmJyb3dzZXJDcnlwdG8sIHRoaXMubG9nZ2VyLCB0aGlzLmV2ZW50SGFuZGxlciwgdGhpcy5uYXZpZ2F0aW9uQ2xpZW50LCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLm5hdGl2ZUV4dGVuc2lvblByb3ZpZGVyLCBjb3JyZWxhdGlvbklkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBuZXcgaW5zdGFuY2Ugb2YgdGhlIFNpbGVudCBBdXRoQ29kZSBJbnRlcmFjdGlvbiBDbGllbnRcclxuICAgICAqL1xyXG4gICAgY3JlYXRlU2lsZW50QXV0aENvZGVDbGllbnQoY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgU2lsZW50QXV0aENvZGVDbGllbnQodGhpcy5jb25maWcsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIHRoaXMuYnJvd3NlckNyeXB0bywgdGhpcy5sb2dnZXIsIHRoaXMuZXZlbnRIYW5kbGVyLCB0aGlzLm5hdmlnYXRpb25DbGllbnQsIEFwaUlkLmFjcXVpcmVUb2tlbkJ5Q29kZSwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5uYXRpdmVFeHRlbnNpb25Qcm92aWRlciwgY29ycmVsYXRpb25JZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgZXZlbnQgY2FsbGJhY2tzIHRvIGFycmF5XHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tcclxuICAgICAqL1xyXG4gICAgYWRkRXZlbnRDYWxsYmFjayhjYWxsYmFjaywgZXZlbnRUeXBlcykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmV2ZW50SGFuZGxlci5hZGRFdmVudENhbGxiYWNrKGNhbGxiYWNrLCBldmVudFR5cGVzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBjYWxsYmFjayB3aXRoIHByb3ZpZGVkIGlkIGZyb20gY2FsbGJhY2sgYXJyYXlcclxuICAgICAqIEBwYXJhbSBjYWxsYmFja0lkXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUV2ZW50Q2FsbGJhY2soY2FsbGJhY2tJZCkge1xyXG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLnJlbW92ZUV2ZW50Q2FsbGJhY2soY2FsbGJhY2tJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIHJlY2VpdmUgcGVyZm9ybWFuY2UgZXZlbnRzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7UGVyZm9ybWFuY2VDYWxsYmFja0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgYWRkUGVyZm9ybWFuY2VDYWxsYmFjayhjYWxsYmFjaykge1xyXG4gICAgICAgIGJsb2NrTm9uQnJvd3NlckVudmlyb25tZW50KCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGVyZm9ybWFuY2VDbGllbnQuYWRkUGVyZm9ybWFuY2VDYWxsYmFjayhjYWxsYmFjayk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgYSBjYWxsYmFjayByZWdpc3RlcmVkIHdpdGggYWRkUGVyZm9ybWFuY2VDYWxsYmFjay5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tJZFxyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZVBlcmZvcm1hbmNlQ2FsbGJhY2soY2FsbGJhY2tJZCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LnJlbW92ZVBlcmZvcm1hbmNlQ2FsbGJhY2soY2FsbGJhY2tJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgZXZlbnQgbGlzdGVuZXIgdGhhdCBlbWl0cyBhbiBldmVudCB3aGVuIGEgdXNlciBhY2NvdW50IGlzIGFkZGVkIG9yIHJlbW92ZWQgZnJvbSBsb2NhbHN0b3JhZ2UgaW4gYSBkaWZmZXJlbnQgYnJvd3NlciB0YWIgb3Igd2luZG93XHJcbiAgICAgKi9cclxuICAgIGVuYWJsZUFjY291bnRTdG9yYWdlRXZlbnRzKCkge1xyXG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0aGlzLmxpc3RlbmluZ1RvU3RvcmFnZUV2ZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQWRkaW5nIGFjY291bnQgc3RvcmFnZSBsaXN0ZW5lci5cIik7XHJcbiAgICAgICAgICAgIHRoaXMubGlzdGVuaW5nVG9TdG9yYWdlRXZlbnRzID0gdHJ1ZTtcclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIHRoaXMuaGFuZGxlQWNjb3VudENhY2hlQ2hhbmdlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJBY2NvdW50IHN0b3JhZ2UgbGlzdGVuZXIgYWxyZWFkeSByZWdpc3RlcmVkLlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgZXZlbnQgbGlzdGVuZXIgdGhhdCBlbWl0cyBhbiBldmVudCB3aGVuIGEgdXNlciBhY2NvdW50IGlzIGFkZGVkIG9yIHJlbW92ZWQgZnJvbSBsb2NhbHN0b3JhZ2UgaW4gYSBkaWZmZXJlbnQgYnJvd3NlciB0YWIgb3Igd2luZG93XHJcbiAgICAgKi9cclxuICAgIGRpc2FibGVBY2NvdW50U3RvcmFnZUV2ZW50cygpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmxpc3RlbmluZ1RvU3RvcmFnZUV2ZW50cykge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiUmVtb3ZpbmcgYWNjb3VudCBzdG9yYWdlIGxpc3RlbmVyLlwiKTtcclxuICAgICAgICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIHRoaXMuaGFuZGxlQWNjb3VudENhY2hlQ2hhbmdlKTtcclxuICAgICAgICAgICAgdGhpcy5saXN0ZW5pbmdUb1N0b3JhZ2VFdmVudHMgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJObyBhY2NvdW50IHN0b3JhZ2UgbGlzdGVuZXIgcmVnaXN0ZXJlZC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFbWl0IGFjY291bnQgYWRkZWQvcmVtb3ZlZCBldmVudHMgd2hlbiBjYWNoZWQgYWNjb3VudHMgYXJlIGNoYW5nZWQgaW4gYSBkaWZmZXJlbnQgdGFiIG9yIGZyYW1lXHJcbiAgICAgKi9cclxuICAgIGhhbmRsZUFjY291bnRDYWNoZUNoYW5nZShlKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gSGFuZGxlIGFjdGl2ZSBhY2NvdW50IGZpbHRlciBjaGFuZ2VcclxuICAgICAgICAgICAgaWYgKGUua2V5Py5pbmNsdWRlcyhQZXJzaXN0ZW50Q2FjaGVLZXlzLkFDVElWRV9BQ0NPVU5UX0ZJTFRFUlMpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGV2ZW50IGhhcyBubyBwYXlsb2FkLCBpdCBvbmx5IHNpZ25hbHMgY3Jvc3MtdGFiIGFwcCBpbnN0YW5jZXMgdGhhdCB0aGUgcmVzdWx0cyBvZiBjYWxsaW5nIGdldEFjdGl2ZUFjY291bnQoKSB3aWxsIGhhdmUgY2hhbmdlZFxyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ1RJVkVfQUNDT1VOVF9DSEFOR0VEKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBIYW5kbGUgYWNjb3VudCBvYmplY3QgY2hhbmdlXHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlVmFsdWUgPSBlLm5ld1ZhbHVlIHx8IGUub2xkVmFsdWU7XHJcbiAgICAgICAgICAgIGlmICghY2FjaGVWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFZhbHVlID0gSlNPTi5wYXJzZShjYWNoZVZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBwYXJzZWRWYWx1ZSAhPT0gXCJvYmplY3RcIiB8fFxyXG4gICAgICAgICAgICAgICAgIUFjY291bnRFbnRpdHkuaXNBY2NvdW50RW50aXR5KHBhcnNlZFZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnRFbnRpdHkgPSBDYWNoZU1hbmFnZXIudG9PYmplY3QobmV3IEFjY291bnRFbnRpdHkoKSwgcGFyc2VkVmFsdWUpO1xyXG4gICAgICAgICAgICBjb25zdCBhY2NvdW50SW5mbyA9IGFjY291bnRFbnRpdHkuZ2V0QWNjb3VudEluZm8oKTtcclxuICAgICAgICAgICAgaWYgKCFlLm9sZFZhbHVlICYmIGUubmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJBY2NvdW50IHdhcyBhZGRlZCB0byBjYWNoZSBpbiBhIGRpZmZlcmVudCB3aW5kb3dcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDQ09VTlRfQURERUQsIHVuZGVmaW5lZCwgYWNjb3VudEluZm8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKCFlLm5ld1ZhbHVlICYmIGUub2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJBY2NvdW50IHdhcyByZW1vdmVkIGZyb20gY2FjaGUgaW4gYSBkaWZmZXJlbnQgd2luZG93XCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5BQ0NPVU5UX1JFTU9WRUQsIHVuZGVmaW5lZCwgYWNjb3VudEluZm8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHRva2VuIGNhY2hlIGZvciB0aGUgYXBwbGljYXRpb24uXHJcbiAgICAgKi9cclxuICAgIGdldFRva2VuQ2FjaGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudG9rZW5DYWNoZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbG9nZ2VyIGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIGdldExvZ2dlcigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2dnZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlcGxhY2VzIHRoZSBkZWZhdWx0IGxvZ2dlciBzZXQgaW4gY29uZmlndXJhdGlvbnMgd2l0aCBuZXcgTG9nZ2VyIHdpdGggbmV3IGNvbmZpZ3VyYXRpb25zXHJcbiAgICAgKiBAcGFyYW0gbG9nZ2VyIExvZ2dlciBpbnN0YW5jZVxyXG4gICAgICovXHJcbiAgICBzZXRMb2dnZXIobG9nZ2VyKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCBieSB3cmFwcGVyIGxpYnJhcmllcyAoQW5ndWxhciAmIFJlYWN0KSB0byBzZXQgU0tVIGFuZCBWZXJzaW9uIHBhc3NlZCBkb3duIHRvIHRlbGVtZXRyeSwgbG9nZ2VyLCBldGMuXHJcbiAgICAgKiBAcGFyYW0gc2t1XHJcbiAgICAgKiBAcGFyYW0gdmVyc2lvblxyXG4gICAgICovXHJcbiAgICBpbml0aWFsaXplV3JhcHBlckxpYnJhcnkoc2t1LCB2ZXJzaW9uKSB7XHJcbiAgICAgICAgLy8gVmFsaWRhdGUgdGhlIFNLVSBwYXNzZWQgaW4gaXMgb25lIHdlIGV4cGVjdFxyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0V3JhcHBlck1ldGFkYXRhKHNrdSwgdmVyc2lvbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNldHMgbmF2aWdhdGlvbiBjbGllbnRcclxuICAgICAqIEBwYXJhbSBuYXZpZ2F0aW9uQ2xpZW50XHJcbiAgICAgKi9cclxuICAgIHNldE5hdmlnYXRpb25DbGllbnQobmF2aWdhdGlvbkNsaWVudCkge1xyXG4gICAgICAgIHRoaXMubmF2aWdhdGlvbkNsaWVudCA9IG5hdmlnYXRpb25DbGllbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIGdldENvbmZpZ3VyYXRpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBwZXJmb3JtYW5jZSBjbGllbnRcclxuICAgICAqL1xyXG4gICAgZ2V0UGVyZm9ybWFuY2VDbGllbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGVyZm9ybWFuY2VDbGllbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIGJyb3dzZXIgZW52IGluZGljYXRvclxyXG4gICAgICovXHJcbiAgICBpc0Jyb3dzZXJFbnYoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNCcm93c2VyRW52aXJvbm1lbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlcyBhIGNvcnJlbGF0aW9uIGlkIGZvciBhIHJlcXVlc3QgaWYgbm9uZSBpcyBwcm92aWRlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcHJvdGVjdGVkXHJcbiAgICAgKiBAcGFyYW0gez9QYXJ0aWFsPEJhc2VBdXRoUmVxdWVzdD59IFtyZXF1ZXN0XVxyXG4gICAgICogQHJldHVybnMge3N0cmluZ31cclxuICAgICAqL1xyXG4gICAgZ2V0UmVxdWVzdENvcnJlbGF0aW9uSWQocmVxdWVzdCkge1xyXG4gICAgICAgIGlmIChyZXF1ZXN0Py5jb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LmNvcnJlbGF0aW9uSWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmlzQnJvd3NlckVudmlyb25tZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBjcmVhdGVOZXdHdWlkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogSW5jbHVkZWQgZm9yIGZhbGxiYWNrIGZvciBub24tYnJvd3NlciBlbnZpcm9ubWVudHMsXHJcbiAgICAgICAgICogYW5kIHRvIGVuc3VyZSB0aGlzIG1ldGhvZCBhbHdheXMgcmV0dXJucyBhIHN0cmluZy5cclxuICAgICAgICAgKi9cclxuICAgICAgICByZXR1cm4gQ29uc3RhbnRzLkVNUFRZX1NUUklORztcclxuICAgIH1cclxuICAgIC8vICNlbmRyZWdpb25cclxuICAgIC8qKlxyXG4gICAgICogVXNlIHdoZW4gaW5pdGlhdGluZyB0aGUgbG9naW4gcHJvY2VzcyBieSByZWRpcmVjdGluZyB0aGUgdXNlcidzIGJyb3dzZXIgdG8gdGhlIGF1dGhvcml6YXRpb24gZW5kcG9pbnQuIFRoaXMgZnVuY3Rpb24gcmVkaXJlY3RzIHRoZSBwYWdlLCBzb1xyXG4gICAgICogYW55IGNvZGUgdGhhdCBmb2xsb3dzIHRoaXMgZnVuY3Rpb24gd2lsbCBub3QgZXhlY3V0ZS5cclxuICAgICAqXHJcbiAgICAgKiBJTVBPUlRBTlQ6IEl0IGlzIE5PVCByZWNvbW1lbmRlZCB0byBoYXZlIGNvZGUgdGhhdCBpcyBkZXBlbmRlbnQgb24gdGhlIHJlc29sdXRpb24gb2YgdGhlIFByb21pc2UuIFRoaXMgZnVuY3Rpb24gd2lsbCBuYXZpZ2F0ZSBhd2F5IGZyb20gdGhlIGN1cnJlbnRcclxuICAgICAqIGJyb3dzZXIgd2luZG93LiBJdCBjdXJyZW50bHkgcmV0dXJucyBhIFByb21pc2UgaW4gb3JkZXIgdG8gcmVmbGVjdCB0aGUgYXN5bmNocm9ub3VzIG5hdHVyZSBvZiB0aGUgY29kZSBydW5uaW5nIGluIHRoaXMgZnVuY3Rpb24uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9naW5SZWRpcmVjdChyZXF1ZXN0KSB7XHJcbiAgICAgICAgY29uc3QgY29ycmVsYXRpb25JZCA9IHRoaXMuZ2V0UmVxdWVzdENvcnJlbGF0aW9uSWQocmVxdWVzdCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImxvZ2luUmVkaXJlY3QgY2FsbGVkXCIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFjcXVpcmVUb2tlblJlZGlyZWN0KHtcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZCxcclxuICAgICAgICAgICAgLi4uKHJlcXVlc3QgfHwgREVGQVVMVF9SRVFVRVNUKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXNlIHdoZW4gaW5pdGlhdGluZyB0aGUgbG9naW4gcHJvY2VzcyB2aWEgb3BlbmluZyBhIHBvcHVwIHdpbmRvdyBpbiB0aGUgdXNlcidzIGJyb3dzZXJcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoaXMgZnVuY3Rpb24gaGFzIGNvbXBsZXRlZCwgb3IgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igd2FzIHJhaXNlZC5cclxuICAgICAqL1xyXG4gICAgbG9naW5Qb3B1cChyZXF1ZXN0KSB7XHJcbiAgICAgICAgY29uc3QgY29ycmVsYXRpb25JZCA9IHRoaXMuZ2V0UmVxdWVzdENvcnJlbGF0aW9uSWQocmVxdWVzdCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImxvZ2luUG9wdXAgY2FsbGVkXCIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFjcXVpcmVUb2tlblBvcHVwKHtcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZCxcclxuICAgICAgICAgICAgLi4uKHJlcXVlc3QgfHwgREVGQVVMVF9SRVFVRVNUKSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2lsZW50bHkgYWNxdWlyZSBhbiBhY2Nlc3MgdG9rZW4gZm9yIGEgZ2l2ZW4gc2V0IG9mIHNjb3Blcy4gUmV0dXJucyBjdXJyZW50bHkgcHJvY2Vzc2luZyBwcm9taXNlIGlmIHBhcmFsbGVsIHJlcXVlc3RzIGFyZSBtYWRlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7QGxpbmsgKFNpbGVudFJlcXVlc3Q6dHlwZSl9XHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZS48QXV0aGVudGljYXRpb25SZXN1bHQ+fSAtIGEgcHJvbWlzZSB0aGF0IGlzIGZ1bGZpbGxlZCB3aGVuIHRoaXMgZnVuY3Rpb24gaGFzIGNvbXBsZXRlZCwgb3IgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igd2FzIHJhaXNlZC4gUmV0dXJucyB0aGUge0BsaW5rIEF1dGhSZXNwb25zZX0gb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGFjcXVpcmVUb2tlblNpbGVudChyZXF1ZXN0KSB7XHJcbiAgICAgICAgY29uc3QgY29ycmVsYXRpb25JZCA9IHRoaXMuZ2V0UmVxdWVzdENvcnJlbGF0aW9uSWQocmVxdWVzdCk7XHJcbiAgICAgICAgY29uc3QgYXRzTWVhc3VyZW1lbnQgPSB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LnN0YXJ0TWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuQWNxdWlyZVRva2VuU2lsZW50LCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBhdHNNZWFzdXJlbWVudC5hZGQoe1xyXG4gICAgICAgICAgICBjYWNoZUxvb2t1cFBvbGljeTogcmVxdWVzdC5jYWNoZUxvb2t1cFBvbGljeSxcclxuICAgICAgICAgICAgc2NlbmFyaW9JZDogcmVxdWVzdC5zY2VuYXJpb0lkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHByZWZsaWdodENoZWNrKHRoaXMuaW5pdGlhbGl6ZWQsIGF0c01lYXN1cmVtZW50KTtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiYWNxdWlyZVRva2VuU2lsZW50IGNhbGxlZFwiLCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCBhY2NvdW50ID0gcmVxdWVzdC5hY2NvdW50IHx8IHRoaXMuZ2V0QWN0aXZlQWNjb3VudCgpO1xyXG4gICAgICAgIGlmICghYWNjb3VudCkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVCcm93c2VyQXV0aEVycm9yKG5vQWNjb3VudEVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXRzTWVhc3VyZW1lbnQuYWRkKHsgYWNjb3VudFR5cGU6IGdldEFjY291bnRUeXBlKGFjY291bnQpIH0pO1xyXG4gICAgICAgIGNvbnN0IHRodW1icHJpbnQgPSB7XHJcbiAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNvbmZpZy5hdXRoLmNsaWVudElkLFxyXG4gICAgICAgICAgICBhdXRob3JpdHk6IHJlcXVlc3QuYXV0aG9yaXR5IHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICAgICAgICAgIHNjb3BlczogcmVxdWVzdC5zY29wZXMsXHJcbiAgICAgICAgICAgIGhvbWVBY2NvdW50SWRlbnRpZmllcjogYWNjb3VudC5ob21lQWNjb3VudElkLFxyXG4gICAgICAgICAgICBjbGFpbXM6IHJlcXVlc3QuY2xhaW1zLFxyXG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvblNjaGVtZTogcmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSxcclxuICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0TWV0aG9kOiByZXF1ZXN0LnJlc291cmNlUmVxdWVzdE1ldGhvZCxcclxuICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0VXJpOiByZXF1ZXN0LnJlc291cmNlUmVxdWVzdFVyaSxcclxuICAgICAgICAgICAgc2hyQ2xhaW1zOiByZXF1ZXN0LnNockNsYWltcyxcclxuICAgICAgICAgICAgc3NoS2lkOiByZXF1ZXN0LnNzaEtpZCxcclxuICAgICAgICAgICAgc2hyT3B0aW9uczogcmVxdWVzdC5zaHJPcHRpb25zLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3Qgc2lsZW50UmVxdWVzdEtleSA9IEpTT04uc3RyaW5naWZ5KHRodW1icHJpbnQpO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlZFJlc3BvbnNlID0gdGhpcy5hY3RpdmVTaWxlbnRUb2tlblJlcXVlc3RzLmdldChzaWxlbnRSZXF1ZXN0S2V5KTtcclxuICAgICAgICBpZiAodHlwZW9mIGNhY2hlZFJlc3BvbnNlID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJhY3F1aXJlVG9rZW5TaWxlbnQgY2FsbGVkIGZvciB0aGUgZmlyc3QgdGltZSwgc3RvcmluZyBhY3RpdmUgcmVxdWVzdFwiLCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBpbnZva2VBc3luYyh0aGlzLmFjcXVpcmVUb2tlblNpbGVudEFzeW5jLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLkFjcXVpcmVUb2tlblNpbGVudEFzeW5jLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgY29ycmVsYXRpb25JZCkoe1xyXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcclxuICAgICAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQsXHJcbiAgICAgICAgICAgIH0sIGFjY291bnQpXHJcbiAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVNpbGVudFRva2VuUmVxdWVzdHMuZGVsZXRlKHNpbGVudFJlcXVlc3RLZXkpO1xyXG4gICAgICAgICAgICAgICAgYXRzTWVhc3VyZW1lbnQuZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb21DYWNoZTogcmVzdWx0LmZyb21DYWNoZSxcclxuICAgICAgICAgICAgICAgICAgICBpc05hdGl2ZUJyb2tlcjogcmVzdWx0LmZyb21OYXRpdmVCcm9rZXIsXHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVMb29rdXBQb2xpY3k6IHJlcXVlc3QuY2FjaGVMb29rdXBQb2xpY3ksXHJcbiAgICAgICAgICAgICAgICAgICAgYWNjZXNzVG9rZW5TaXplOiByZXN1bHQuYWNjZXNzVG9rZW4ubGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkVG9rZW5TaXplOiByZXN1bHQuaWRUb2tlbi5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZVNpbGVudFRva2VuUmVxdWVzdHMuZGVsZXRlKHNpbGVudFJlcXVlc3RLZXkpO1xyXG4gICAgICAgICAgICAgICAgYXRzTWVhc3VyZW1lbnQuZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIH0sIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5hY3RpdmVTaWxlbnRUb2tlblJlcXVlc3RzLnNldChzaWxlbnRSZXF1ZXN0S2V5LCByZXNwb25zZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAuLi4oYXdhaXQgcmVzcG9uc2UpLFxyXG4gICAgICAgICAgICAgICAgc3RhdGU6IHJlcXVlc3Quc3RhdGUsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiYWNxdWlyZVRva2VuU2lsZW50IGhhcyBiZWVuIGNhbGxlZCBwcmV2aW91c2x5LCByZXR1cm5pbmcgdGhlIHJlc3VsdCBmcm9tIHRoZSBmaXJzdCBjYWxsXCIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAvLyBEaXNjYXJkIG1lYXN1cmVtZW50cyBmb3IgbWVtb2l6ZWQgY2FsbHMsIGFzIHRoZXkgYXJlIHVzdWFsbHkgb25seSBhIGNvdXBsZSBvZiBtcyBhbmQgd2lsbCBhcnRpZmljaWFsbHkgZGVmbGF0ZSBtZXRyaWNzXHJcbiAgICAgICAgICAgIGF0c01lYXN1cmVtZW50LmRpc2NhcmQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIC4uLihhd2FpdCBjYWNoZWRSZXNwb25zZSksXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogcmVxdWVzdC5zdGF0ZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFNpbGVudGx5IGFjcXVpcmUgYW4gYWNjZXNzIHRva2VuIGZvciBhIGdpdmVuIHNldCBvZiBzY29wZXMuIFdpbGwgdXNlIGNhY2hlZCB0b2tlbiBpZiBhdmFpbGFibGUsIG90aGVyd2lzZSB3aWxsIGF0dGVtcHQgdG8gYWNxdWlyZSBhIG5ldyB0b2tlbiBmcm9tIHRoZSBuZXR3b3JrIHZpYSByZWZyZXNoIHRva2VuLlxyXG4gICAgICogQHBhcmFtIHtAbGluayAoU2lsZW50UmVxdWVzdDp0eXBlKX1cclxuICAgICAqIEBwYXJhbSB7QGxpbmsgKEFjY291bnRJbmZvOnR5cGUpfVxyXG4gICAgICogQHJldHVybnMge1Byb21pc2UuPEF1dGhlbnRpY2F0aW9uUmVzdWx0Pn0gLSBhIHByb21pc2UgdGhhdCBpcyBmdWxmaWxsZWQgd2hlbiB0aGlzIGZ1bmN0aW9uIGhhcyBjb21wbGV0ZWQsIG9yIHJlamVjdGVkIGlmIGFuIGVycm9yIHdhcyByYWlzZWQuIFJldHVybnMgdGhlIHtAbGluayBBdXRoUmVzcG9uc2V9XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGFjcXVpcmVUb2tlblNpbGVudEFzeW5jKHJlcXVlc3QsIGFjY291bnQpIHtcclxuICAgICAgICBjb25zdCB0cmFja1BhZ2VWaXNpYmlsaXR5ID0gKCkgPT4gdGhpcy50cmFja1BhZ2VWaXNpYmlsaXR5KHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudC5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkFjcXVpcmVUb2tlblNpbGVudEFzeW5jLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuQUNRVUlSRV9UT0tFTl9TVEFSVCwgSW50ZXJhY3Rpb25UeXBlLlNpbGVudCwgcmVxdWVzdCk7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LmluY3JlbWVudEZpZWxkcyh7IHZpc2liaWxpdHlDaGFuZ2VDb3VudDogMCB9LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0cmFja1BhZ2VWaXNpYmlsaXR5KTtcclxuICAgICAgICBjb25zdCBzaWxlbnRSZXF1ZXN0ID0gYXdhaXQgaW52b2tlQXN5bmMoaW5pdGlhbGl6ZVNpbGVudFJlcXVlc3QsIFBlcmZvcm1hbmNlRXZlbnRzLkluaXRpYWxpemVTaWxlbnRSZXF1ZXN0LCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKShyZXF1ZXN0LCBhY2NvdW50LCB0aGlzLmNvbmZpZywgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5sb2dnZXIpO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlTG9va3VwUG9saWN5ID0gcmVxdWVzdC5jYWNoZUxvb2t1cFBvbGljeSB8fCBDYWNoZUxvb2t1cFBvbGljeS5EZWZhdWx0O1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuYWNxdWlyZVRva2VuU2lsZW50Tm9JZnJhbWUoc2lsZW50UmVxdWVzdCwgY2FjaGVMb29rdXBQb2xpY3kpLmNhdGNoKGFzeW5jIChyZWZyZXNoVG9rZW5FcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBzaG91bGRUcnlUb1Jlc29sdmVTaWxlbnRseSA9IGNoZWNrSWZSZWZyZXNoVG9rZW5FcnJvckNhbkJlUmVzb2x2ZWRTaWxlbnRseShyZWZyZXNoVG9rZW5FcnJvciwgY2FjaGVMb29rdXBQb2xpY3kpO1xyXG4gICAgICAgICAgICBpZiAoc2hvdWxkVHJ5VG9SZXNvbHZlU2lsZW50bHkpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5hY3RpdmVJZnJhbWVSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IF9yZXNvbHZlO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBzZXQgdGhlIGFjdGl2ZSByZXF1ZXN0IHRyYWNrZXIgaW1tZWRpYXRlbHkgYWZ0ZXIgY2hlY2tpbmcgaXQgdG8gcHJldmVudCByYWNlc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlSWZyYW1lUmVxdWVzdCA9IFtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9yZXNvbHZlID0gcmVzb2x2ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbGVudFJlcXVlc3QuY29ycmVsYXRpb25JZCxcclxuICAgICAgICAgICAgICAgICAgICBdO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJSZWZyZXNoIHRva2VuIGV4cGlyZWQvaW52YWxpZCBvciBDYWNoZUxvb2t1cFBvbGljeSBpcyBzZXQgdG8gU2tpcCwgYXR0ZW1wdGluZyBhY3F1aXJlIHRva2VuIGJ5IGlmcmFtZS5cIiwgc2lsZW50UmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW52b2tlQXN5bmModGhpcy5hY3F1aXJlVG9rZW5CeVNpbGVudElmcmFtZS5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5BY3F1aXJlVG9rZW5CeVNpbGVudElmcmFtZSwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHNpbGVudFJlcXVlc3QuY29ycmVsYXRpb25JZCkoc2lsZW50UmVxdWVzdClcclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oKGlmcmFtZVJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlmcmFtZVJlc3VsdDtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX3Jlc29sdmUoZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJZnJhbWVSZXF1ZXN0ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2FjaGVMb29rdXBQb2xpY3kgIT09IENhY2hlTG9va3VwUG9saWN5LlNraXApIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBbYWN0aXZlUHJvbWlzZSwgYWN0aXZlQ29ycmVsYXRpb25JZF0gPSB0aGlzLmFjdGl2ZUlmcmFtZVJlcXVlc3Q7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShgSWZyYW1lIHJlcXVlc3QgaXMgYWxyZWFkeSBpbiBwcm9ncmVzcywgYXdhaXRpbmcgcmVzb2x1dGlvbiBmb3IgcmVxdWVzdCB3aXRoIGNvcnJlbGF0aW9uSWQ6ICR7YWN0aXZlQ29ycmVsYXRpb25JZH1gLCBzaWxlbnRSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGF3YWl0Q29uY3VycmVudElmcmFtZU1lYXN1cmUgPSB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LnN0YXJ0TWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuQXdhaXRDb25jdXJyZW50SWZyYW1lLCBzaWxlbnRSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0Q29uY3VycmVudElmcmFtZU1lYXN1cmUuYWRkKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXRJZnJhbWVDb3JyZWxhdGlvbklkOiBhY3RpdmVDb3JyZWxhdGlvbklkLFxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZVByb21pc2VSZXN1bHQgPSBhd2FpdCBhY3RpdmVQcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0Q29uY3VycmVudElmcmFtZU1lYXN1cmUuZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogYWN0aXZlUHJvbWlzZVJlc3VsdCxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlUHJvbWlzZVJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKGBQYXJhbGxlbCBpZnJhbWUgcmVxdWVzdCB3aXRoIGNvcnJlbGF0aW9uSWQ6ICR7YWN0aXZlQ29ycmVsYXRpb25JZH0gc3VjY2VlZGVkLiBSZXRyeWluZyBjYWNoZSBhbmQvb3IgUlQgcmVkZW1wdGlvbmAsIHNpbGVudFJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJldHJ5IGNhY2hlIGxvb2t1cCBhbmQvb3IgUlQgZXhjaGFuZ2UgYWZ0ZXIgaWZyYW1lIGNvbXBsZXRlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hY3F1aXJlVG9rZW5TaWxlbnROb0lmcmFtZShzaWxlbnRSZXF1ZXN0LCBjYWNoZUxvb2t1cFBvbGljeSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKGBJZnJhbWUgcmVxdWVzdCB3aXRoIGNvcnJlbGF0aW9uSWQ6ICR7YWN0aXZlQ29ycmVsYXRpb25JZH0gZmFpbGVkLiBJbnRlcmFjdGlvbiBpcyByZXF1aXJlZC5gKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgcHJldmlvdXMgaWZyYW1lIHJlcXVlc3QgZmFpbGVkLCBpdCdzIHVubGlrZWx5IHRvIHN1Y2NlZWQgdGhpcyB0aW1lLiBUaHJvdyBvcmlnaW5hbCBlcnJvci5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVmcmVzaFRva2VuRXJyb3I7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2FjaGUgcG9saWN5IHNldCB0byBza2lwIGFuZCBhbm90aGVyIGlmcmFtZSByZXF1ZXN0IGlzIGFscmVhZHkgaW4gcHJvZ3Jlc3NcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKFwiQW5vdGhlciBpZnJhbWUgcmVxdWVzdCBpcyBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MgYW5kIENhY2hlTG9va3VwUG9saWN5IGlzIHNldCB0byBTa2lwLiBUaGlzIG1heSByZXN1bHQgaW4gZGVncmFkZWQgcGVyZm9ybWFuY2UgYW5kL29yIHJlbGlhYmlsaXR5IGZvciBib3RoIGNhbGxzLiBQbGVhc2UgY29uc2lkZXIgY2hhbmdpbmcgdGhlIENhY2hlTG9va3VwUG9saWN5IHRvIHRha2UgYWR2YW50YWdlIG9mIHJlcXVlc3QgcXVldWluZyBhbmQgdG9rZW4gY2FjaGUuXCIsIHNpbGVudFJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludm9rZUFzeW5jKHRoaXMuYWNxdWlyZVRva2VuQnlTaWxlbnRJZnJhbWUuYmluZCh0aGlzKSwgUGVyZm9ybWFuY2VFdmVudHMuQWNxdWlyZVRva2VuQnlTaWxlbnRJZnJhbWUsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCBzaWxlbnRSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKHNpbGVudFJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gRXJyb3IgY2Fubm90IGJlIHNpbGVudGx5IHJlc29sdmVkIG9yIGlmcmFtZSByZW5ld2FsIGlzIG5vdCBhbGxvd2VkLCBpbnRlcmFjdGlvbiByZXF1aXJlZFxyXG4gICAgICAgICAgICAgICAgdGhyb3cgcmVmcmVzaFRva2VuRXJyb3I7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkFDUVVJUkVfVE9LRU5fU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlNpbGVudCwgcmVzcG9uc2UpO1xyXG4gICAgICAgICAgICBpZiAocmVxdWVzdC5jb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LmFkZEZpZWxkcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJvbUNhY2hlOiByZXNwb25zZS5mcm9tQ2FjaGUsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNOYXRpdmVCcm9rZXI6IHJlc3BvbnNlLmZyb21OYXRpdmVCcm9rZXIsXHJcbiAgICAgICAgICAgICAgICB9LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKHRva2VuUmVuZXdhbEVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuQUNRVUlSRV9UT0tFTl9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuU2lsZW50LCBudWxsLCB0b2tlblJlbmV3YWxFcnJvcik7XHJcbiAgICAgICAgICAgIHRocm93IHRva2VuUmVuZXdhbEVycm9yO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdHJhY2tQYWdlVmlzaWJpbGl0eSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFjcXVpcmVUb2tlblNpbGVudCB3aXRob3V0IHRoZSBpZnJhbWUgZmFsbGJhY2suIFRoaXMgaXMgdXNlZCB0byBlbmFibGUgdGhlIGNvcnJlY3QgZmFsbGJhY2tzIGluIGNhc2VzIHdoZXJlIHRoZXJlJ3MgYSBwb3RlbnRpYWwgZm9yIG11bHRpcGxlIHNpbGVudCByZXF1ZXN0cyB0byBiZSBtYWRlIGluIHBhcmFsbGVsIGFuZCBwcmV2ZW50IHRob3NlIHJlcXVlc3RzIGZyb20gbWFraW5nIGNvbmN1cnJlbnQgaWZyYW1lIHJlcXVlc3RzLlxyXG4gICAgICogQHBhcmFtIHNpbGVudFJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBjYWNoZUxvb2t1cFBvbGljeVxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuU2lsZW50Tm9JZnJhbWUoc2lsZW50UmVxdWVzdCwgY2FjaGVMb29rdXBQb2xpY3kpIHtcclxuICAgICAgICBpZiAoTmF0aXZlTWVzc2FnZUhhbmRsZXIuaXNOYXRpdmVBdmFpbGFibGUodGhpcy5jb25maWcsIHRoaXMubG9nZ2VyLCB0aGlzLm5hdGl2ZUV4dGVuc2lvblByb3ZpZGVyLCBzaWxlbnRSZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lKSAmJlxyXG4gICAgICAgICAgICBzaWxlbnRSZXF1ZXN0LmFjY291bnQubmF0aXZlQWNjb3VudElkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJhY3F1aXJlVG9rZW5TaWxlbnQgLSBhdHRlbXB0aW5nIHRvIGFjcXVpcmUgdG9rZW4gZnJvbSBuYXRpdmUgcGxhdGZvcm1cIik7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFjcXVpcmVUb2tlbk5hdGl2ZShzaWxlbnRSZXF1ZXN0LCBBcGlJZC5hY3F1aXJlVG9rZW5TaWxlbnRfc2lsZW50RmxvdykuY2F0Y2goYXN5bmMgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIElmIG5hdGl2ZSB0b2tlbiBhY3F1aXNpdGlvbiBmYWlscyBmb3IgYXZhaWxhYmlsaXR5IHJlYXNvbnMgZmFsbGJhY2sgdG8gd2ViIGZsb3dcclxuICAgICAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgTmF0aXZlQXV0aEVycm9yICYmIGlzRmF0YWxOYXRpdmVBdXRoRXJyb3IoZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiYWNxdWlyZVRva2VuU2lsZW50IC0gbmF0aXZlIHBsYXRmb3JtIHVuYXZhaWxhYmxlLCBmYWxsaW5nIGJhY2sgdG8gd2ViIGZsb3dcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5uYXRpdmVFeHRlbnNpb25Qcm92aWRlciA9IHVuZGVmaW5lZDsgLy8gUHJldmVudCBmdXR1cmUgcmVxdWVzdHMgZnJvbSBjb250aW51aW5nIHRvIGF0dGVtcHRcclxuICAgICAgICAgICAgICAgICAgICAvLyBDYWNoZSB3aWxsIG5vdCBjb250YWluIHRva2VucywgZ2l2ZW4gdGhhdCBwcmV2aW91cyBXQU0gcmVxdWVzdHMgc3VjY2VlZGVkLiBTa2lwIGNhY2hlIGFuZCBSVCByZW5ld2FsIGFuZCBnbyBzdHJhaWdodCB0byBpZnJhbWUgcmVuZXdhbFxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JDb2Rlcy50b2tlblJlZnJlc2hSZXF1aXJlZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJhY3F1aXJlVG9rZW5TaWxlbnQgLSBhdHRlbXB0aW5nIHRvIGFjcXVpcmUgdG9rZW4gZnJvbSB3ZWIgZmxvd1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuIGludm9rZUFzeW5jKHRoaXMuYWNxdWlyZVRva2VuRnJvbUNhY2hlLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLkFjcXVpcmVUb2tlbkZyb21DYWNoZSwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHNpbGVudFJlcXVlc3QuY29ycmVsYXRpb25JZCkoc2lsZW50UmVxdWVzdCwgY2FjaGVMb29rdXBQb2xpY3kpLmNhdGNoKChjYWNoZUVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVMb29rdXBQb2xpY3kgPT09IENhY2hlTG9va3VwUG9saWN5LkFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY2FjaGVFcnJvcjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuQUNRVUlSRV9UT0tFTl9ORVRXT1JLX1NUQVJULCBJbnRlcmFjdGlvblR5cGUuU2lsZW50LCBzaWxlbnRSZXF1ZXN0KTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpbnZva2VBc3luYyh0aGlzLmFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLkFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgc2lsZW50UmVxdWVzdC5jb3JyZWxhdGlvbklkKShzaWxlbnRSZXF1ZXN0LCBjYWNoZUxvb2t1cFBvbGljeSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vKipcclxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGFuIGVycm9yIHRocm93biBieSB0aGUgcmVmcmVzaCB0b2tlbiBlbmRwb2ludCBjYW4gYmUgcmVzb2x2ZWQgd2l0aG91dCBpbnRlcmFjdGlvblxyXG4gKiBAcGFyYW0gcmVmcmVzaFRva2VuRXJyb3JcclxuICogQHBhcmFtIHNpbGVudFJlcXVlc3RcclxuICogQHBhcmFtIGNhY2hlTG9va3VwUG9saWN5XHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBjaGVja0lmUmVmcmVzaFRva2VuRXJyb3JDYW5CZVJlc29sdmVkU2lsZW50bHkocmVmcmVzaFRva2VuRXJyb3IsIGNhY2hlTG9va3VwUG9saWN5KSB7XHJcbiAgICBjb25zdCBub0ludGVyYWN0aW9uUmVxdWlyZWQgPSAhKHJlZnJlc2hUb2tlbkVycm9yIGluc3RhbmNlb2YgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvciAmJlxyXG4gICAgICAgIC8vIEZvciByZWZyZXNoIHRva2VuIGVycm9ycywgYmFkX3Rva2VuIGRvZXMgbm90IGFsd2F5cyByZXF1aXJlIGludGVyYWN0aW9uIChzaWxlbnRseSByZXNvbHZhYmxlKVxyXG4gICAgICAgIHJlZnJlc2hUb2tlbkVycm9yLnN1YkVycm9yICE9PVxyXG4gICAgICAgICAgICBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yQ29kZXMuYmFkVG9rZW4pO1xyXG4gICAgLy8gRXJyb3JzIHRoYXQgcmVzdWx0IHdoZW4gdGhlIHJlZnJlc2ggdG9rZW4gbmVlZHMgdG8gYmUgcmVwbGFjZWRcclxuICAgIGNvbnN0IHJlZnJlc2hUb2tlblJlZnJlc2hSZXF1aXJlZCA9IHJlZnJlc2hUb2tlbkVycm9yLmVycm9yQ29kZSA9PT0gQnJvd3NlckNvbnN0YW50cy5JTlZBTElEX0dSQU5UX0VSUk9SIHx8XHJcbiAgICAgICAgcmVmcmVzaFRva2VuRXJyb3IuZXJyb3JDb2RlID09PVxyXG4gICAgICAgICAgICBDbGllbnRBdXRoRXJyb3JDb2Rlcy50b2tlblJlZnJlc2hSZXF1aXJlZDtcclxuICAgIC8vIEVycm9ycyB0aGF0IG1heSBiZSByZXNvbHZlZCBiZWZvcmUgZmFsbGluZyBiYWNrIHRvIGludGVyYWN0aW9uICh0aHJvdWdoIGlmcmFtZSByZW5ld2FsKVxyXG4gICAgY29uc3QgaXNTaWxlbnRseVJlc29sdmFibGUgPSAobm9JbnRlcmFjdGlvblJlcXVpcmVkICYmIHJlZnJlc2hUb2tlblJlZnJlc2hSZXF1aXJlZCkgfHxcclxuICAgICAgICByZWZyZXNoVG9rZW5FcnJvci5lcnJvckNvZGUgPT09XHJcbiAgICAgICAgICAgIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3JDb2Rlcy5ub1Rva2Vuc0ZvdW5kIHx8XHJcbiAgICAgICAgcmVmcmVzaFRva2VuRXJyb3IuZXJyb3JDb2RlID09PVxyXG4gICAgICAgICAgICBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yQ29kZXMucmVmcmVzaFRva2VuRXhwaXJlZDtcclxuICAgIC8vIE9ubHkgdGhlc2UgcG9saWNpZXMgYWxsb3cgZm9yIGFuIGlmcmFtZSByZW5ld2FsIGF0dGVtcHRcclxuICAgIGNvbnN0IHRyeUlmcmFtZVJlbmV3YWwgPSBpRnJhbWVSZW5ld2FsUG9saWNpZXMuaW5jbHVkZXMoY2FjaGVMb29rdXBQb2xpY3kpO1xyXG4gICAgcmV0dXJuIGlzU2lsZW50bHlSZXNvbHZhYmxlICYmIHRyeUlmcmFtZVJlbmV3YWw7XHJcbn1cblxuZXhwb3J0IHsgU3RhbmRhcmRDb250cm9sbGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdGFuZGFyZENvbnRyb2xsZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkNyeXB0b09wcyIsIkRFRkFVTFRfQ1JZUFRPX0lNUExFTUVOVEFUSU9OIiwiYnVpbGRTdGF0aWNBdXRob3JpdHlPcHRpb25zIiwiUGVyZm9ybWFuY2VFdmVudHMiLCJpbnZva2VBc3luYyIsIkludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IiLCJjcmVhdGVDbGllbnRBdXRoRXJyb3IiLCJDbGllbnRBdXRoRXJyb3JDb2RlcyIsIkFjY291bnRFbnRpdHkiLCJQcm9tcHRWYWx1ZSIsIlBlcnNpc3RlbnRDYWNoZUtleXMiLCJDYWNoZU1hbmFnZXIiLCJDb25zdGFudHMiLCJJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yQ29kZXMiLCJCcm93c2VyQ2FjaGVNYW5hZ2VyIiwiREVGQVVMVF9CUk9XU0VSX0NBQ0hFX01BTkFHRVIiLCJnZXRBbGxBY2NvdW50cyIsImdldEFjY291bnQiLCJnZXRBY2NvdW50QnlVc2VybmFtZSIsImdldEFjY291bnRCeUhvbWVJZCIsImdldEFjY291bnRCeUxvY2FsSWQiLCJzZXRBY3RpdmVBY2NvdW50IiwiZ2V0QWN0aXZlQWNjb3VudCIsIlRlbXBvcmFyeUNhY2hlS2V5cyIsIkludGVyYWN0aW9uVHlwZSIsIkFwaUlkIiwiQ2FjaGVMb29rdXBQb2xpY3kiLCJERUZBVUxUX1JFUVVFU1QiLCJCcm93c2VyQ2FjaGVMb2NhdGlvbiIsImlGcmFtZVJlbmV3YWxQb2xpY2llcyIsIkJyb3dzZXJDb25zdGFudHMiLCJibG9ja0FQSUNhbGxzQmVmb3JlSW5pdGlhbGl6ZSIsInJlZGlyZWN0UHJlZmxpZ2h0Q2hlY2siLCJwcmVmbGlnaHRDaGVjayIsInByZWZsaWdodENoZWNrJDEiLCJibG9ja05vbkJyb3dzZXJFbnZpcm9ubWVudCIsIkV2ZW50VHlwZSIsIkV2ZW50SGFuZGxlciIsIlBvcHVwQ2xpZW50IiwiUmVkaXJlY3RDbGllbnQiLCJTaWxlbnRJZnJhbWVDbGllbnQiLCJTaWxlbnRSZWZyZXNoQ2xpZW50IiwiVG9rZW5DYWNoZSIsIk5hdGl2ZUludGVyYWN0aW9uQ2xpZW50IiwiTmF0aXZlTWVzc2FnZUhhbmRsZXIiLCJOYXRpdmVBdXRoRXJyb3IiLCJpc0ZhdGFsTmF0aXZlQXV0aEVycm9yIiwiU2lsZW50Q2FjaGVDbGllbnQiLCJTaWxlbnRBdXRoQ29kZUNsaWVudCIsImNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IiLCJjcmVhdGVOZXdHdWlkIiwiaW5pdGlhbGl6ZVNpbGVudFJlcXVlc3QiLCJzcGFDb2RlQW5kTmF0aXZlQWNjb3VudElkUHJlc2VudCIsInVuYWJsZVRvQWNxdWlyZVRva2VuRnJvbU5hdGl2ZVBsYXRmb3JtIiwiYXV0aENvZGVPck5hdGl2ZUFjY291bnRJZFJlcXVpcmVkIiwibmF0aXZlQ29ubmVjdGlvbk5vdEVzdGFibGlzaGVkIiwibm9BY2NvdW50RXJyb3IiLCJnZXRBY2NvdW50VHlwZSIsImFjY291bnQiLCJpZFRva2VuQ2xhaW1zIiwidGZwIiwiYWNyIiwidGlkIiwidW5kZWZpbmVkIiwiaW5pdGlhbGl6ZWQiLCJwZXJmb3JtYW5jZUV2ZW50IiwiZSIsImVuZCIsInN1Y2Nlc3MiLCJTdGFuZGFyZENvbnRyb2xsZXIiLCJjb25zdHJ1Y3RvciIsIm9wZXJhdGluZ0NvbnRleHQiLCJpc0Jyb3dzZXJFbnZpcm9ubWVudCIsImNvbmZpZyIsImdldENvbmZpZyIsImxvZ2dlciIsImdldExvZ2dlciIsIm5ldHdvcmtDbGllbnQiLCJzeXN0ZW0iLCJuYXZpZ2F0aW9uQ2xpZW50IiwicmVkaXJlY3RSZXNwb25zZSIsIk1hcCIsImh5YnJpZEF1dGhDb2RlUmVzcG9uc2VzIiwicGVyZm9ybWFuY2VDbGllbnQiLCJ0ZWxlbWV0cnkiLCJjbGllbnQiLCJicm93c2VyQ3J5cHRvIiwiZXZlbnRIYW5kbGVyIiwiYnJvd3NlclN0b3JhZ2UiLCJhdXRoIiwiY2xpZW50SWQiLCJjYWNoZSIsIm5hdGl2ZUNhY2hlT3B0aW9ucyIsImNhY2hlTG9jYXRpb24iLCJNZW1vcnlTdG9yYWdlIiwidGVtcG9yYXJ5Q2FjaGVMb2NhdGlvbiIsInN0b3JlQXV0aFN0YXRlSW5Db29raWUiLCJzZWN1cmVDb29raWVzIiwiY2FjaGVNaWdyYXRpb25FbmFibGVkIiwiY2xhaW1zQmFzZWRDYWNoaW5nRW5hYmxlZCIsIm5hdGl2ZUludGVybmFsU3RvcmFnZSIsInRva2VuQ2FjaGUiLCJhY3RpdmVTaWxlbnRUb2tlblJlcXVlc3RzIiwidHJhY2tQYWdlVmlzaWJpbGl0eSIsImJpbmQiLCJ0cmFja1BhZ2VWaXNpYmlsaXR5V2l0aE1lYXN1cmVtZW50IiwibGlzdGVuaW5nVG9TdG9yYWdlRXZlbnRzIiwiaGFuZGxlQWNjb3VudENhY2hlQ2hhbmdlIiwiY3JlYXRlQ29udHJvbGxlciIsInJlcXVlc3QiLCJjb250cm9sbGVyIiwiaW5pdGlhbGl6ZSIsImNvcnJlbGF0aW9uSWQiLCJpbmZvIiwiaW5jcmVtZW50RmllbGRzIiwidmlzaWJpbGl0eUNoYW5nZUNvdW50IiwidHJhY2UiLCJlbWl0RXZlbnQiLCJJTklUSUFMSVpFX0VORCIsImluaXRDb3JyZWxhdGlvbklkIiwiZ2V0UmVxdWVzdENvcnJlbGF0aW9uSWQiLCJhbGxvd05hdGl2ZUJyb2tlciIsImluaXRNZWFzdXJlbWVudCIsInN0YXJ0TWVhc3VyZW1lbnQiLCJJbml0aWFsaXplQ2xpZW50QXBwbGljYXRpb24iLCJJTklUSUFMSVpFX1NUQVJUIiwibmF0aXZlRXh0ZW5zaW9uUHJvdmlkZXIiLCJjcmVhdGVQcm92aWRlciIsIm5hdGl2ZUJyb2tlckhhbmRzaGFrZVRpbWVvdXQiLCJ2ZXJib3NlIiwiY2xlYXJUb2tlbnNBbmRLZXlzV2l0aENsYWltcyIsIkNsZWFyVG9rZW5zQW5kS2V5c1dpdGhDbGFpbXMiLCJoYW5kbGVSZWRpcmVjdFByb21pc2UiLCJoYXNoIiwicmVkaXJlY3RSZXNwb25zZUtleSIsInJlc3BvbnNlIiwiZ2V0IiwiaGFuZGxlUmVkaXJlY3RQcm9taXNlSW50ZXJuYWwiLCJzZXQiLCJsb2dnZWRJbkFjY291bnRzIiwiZ2V0Q2FjaGVkTmF0aXZlUmVxdWVzdCIsInVzZU5hdGl2ZSIsImlzTmF0aXZlQXZhaWxhYmxlIiwiZ2V0VGVtcG9yYXJ5Q2FjaGUiLCJDT1JSRUxBVElPTl9JRCIsInJvb3RNZWFzdXJlbWVudCIsIkFjcXVpcmVUb2tlblJlZGlyZWN0IiwiSEFORExFX1JFRElSRUNUX1NUQVJUIiwiUmVkaXJlY3QiLCJuYXRpdmVDbGllbnQiLCJhY2NvdW50SWQiLCJIYW5kbGVOYXRpdmVSZWRpcmVjdFByb21pc2VNZWFzdXJlbWVudCIsImV2ZW50IiwicmVkaXJlY3RDbGllbnQiLCJjcmVhdGVSZWRpcmVjdENsaWVudCIsIkhhbmRsZVJlZGlyZWN0UHJvbWlzZU1lYXN1cmVtZW50IiwidGhlbiIsInJlc3VsdCIsImlzTG9nZ2luZ0luIiwibGVuZ3RoIiwiTE9HSU5fU1VDQ0VTUyIsIkFDUVVJUkVfVE9LRU5fU1VDQ0VTUyIsImFjY291bnRUeXBlIiwiZXJyb3JDb2RlIiwiZGlzY2FyZCIsIkhBTkRMRV9SRURJUkVDVF9FTkQiLCJjYXRjaCIsImV2ZW50RXJyb3IiLCJBQ1FVSVJFX1RPS0VOX0ZBSUxVUkUiLCJMT0dJTl9GQUlMVVJFIiwiYWNxdWlyZVRva2VuUmVkaXJlY3QiLCJhdHJNZWFzdXJlbWVudCIsIkFjcXVpcmVUb2tlblByZVJlZGlyZWN0IiwiYWRkIiwic2NlbmFyaW9JZCIsIm9uUmVkaXJlY3ROYXZpZ2F0ZUNiIiwib25SZWRpcmVjdE5hdmlnYXRlIiwidXJsIiwibmF2aWdhdGUiLCJjb25maWdPblJlZGlyZWN0TmF2aWdhdGVDYiIsImlzTG9nZ2VkSW4iLCJzZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MiLCJBQ1FVSVJFX1RPS0VOX1NUQVJUIiwiTE9HSU5fU1RBUlQiLCJjYW5Vc2VOYXRpdmUiLCJnZXROYXRpdmVBY2NvdW50SWQiLCJhY3F1aXJlVG9rZW4iLCJhY3F1aXJlVG9rZW5Qb3B1cCIsImF0UG9wdXBNZWFzdXJlbWVudCIsIkFjcXVpcmVUb2tlblBvcHVwIiwiUHJvbWlzZSIsInJlamVjdCIsIlBvcHVwIiwiYWNxdWlyZVRva2VuTmF0aXZlIiwiaXNOYXRpdmVCcm9rZXIiLCJwb3B1cENsaWVudCIsImNyZWF0ZVBvcHVwQ2xpZW50IiwiYWNjZXNzVG9rZW5TaXplIiwiYWNjZXNzVG9rZW4iLCJpZFRva2VuU2l6ZSIsImlkVG9rZW4iLCJtZWFzdXJlbWVudCIsInNzb1NpbGVudE1lYXN1cmVtZW50IiwiYWNxdWlyZVRva2VuQnlDb2RlQXN5bmNNZWFzdXJlbWVudCIsIm5hbWUiLCJpbmNyZW1lbnQiLCJzc29TaWxlbnQiLCJ2YWxpZFJlcXVlc3QiLCJwcm9tcHQiLCJTc29TaWxlbnQiLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJTU09fU0lMRU5UX1NUQVJUIiwiU2lsZW50Iiwic2lsZW50SWZyYW1lQ2xpZW50IiwiY3JlYXRlU2lsZW50SWZyYW1lQ2xpZW50IiwiU1NPX1NJTEVOVF9TVUNDRVNTIiwiZnJvbU5hdGl2ZUJyb2tlciIsIlNTT19TSUxFTlRfRkFJTFVSRSIsImZpbmFsbHkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWNxdWlyZVRva2VuQnlDb2RlIiwiYXRiY01lYXN1cmVtZW50IiwiQWNxdWlyZVRva2VuQnlDb2RlIiwiQUNRVUlSRV9UT0tFTl9CWV9DT0RFX1NUQVJUIiwiY29kZSIsIm5hdGl2ZUFjY291bnRJZCIsImh5YnJpZEF1dGhDb2RlIiwiYWNxdWlyZVRva2VuQnlDb2RlQXN5bmMiLCJBQ1FVSVJFX1RPS0VOX0JZX0NPREVfU1VDQ0VTUyIsImRlbGV0ZSIsImVycm9yIiwiQUNRVUlSRV9UT0tFTl9CWV9DT0RFX0ZBSUxVUkUiLCJBY3F1aXJlVG9rZW5CeUNvZGVBc3luYyIsInNpbGVudEF1dGhDb2RlQ2xpZW50IiwiY3JlYXRlU2lsZW50QXV0aENvZGVDbGllbnQiLCJzaWxlbnRUb2tlblJlc3VsdCIsImZyb21DYWNoZSIsInRva2VuUmVuZXdhbEVycm9yIiwiYWNxdWlyZVRva2VuRnJvbUNhY2hlIiwiY29tbW9uUmVxdWVzdCIsImNhY2hlTG9va3VwUG9saWN5IiwiYWRkUXVldWVNZWFzdXJlbWVudCIsIkFjcXVpcmVUb2tlbkZyb21DYWNoZSIsIkRlZmF1bHQiLCJBY2Nlc3NUb2tlbiIsIkFjY2Vzc1Rva2VuQW5kUmVmcmVzaFRva2VuIiwic2lsZW50Q2FjaGVDbGllbnQiLCJjcmVhdGVTaWxlbnRDYWNoZUNsaWVudCIsIlNpbGVudENhY2hlQ2xpZW50QWNxdWlyZVRva2VuIiwidG9rZW5SZWZyZXNoUmVxdWlyZWQiLCJhY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbiIsIkFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuIiwiUmVmcmVzaFRva2VuIiwiUmVmcmVzaFRva2VuQW5kTmV0d29yayIsInNpbGVudFJlZnJlc2hDbGllbnQiLCJjcmVhdGVTaWxlbnRSZWZyZXNoQ2xpZW50IiwiU2lsZW50UmVmcmVzaENsaWVudEFjcXVpcmVUb2tlbiIsImFjcXVpcmVUb2tlbkJ5U2lsZW50SWZyYW1lIiwiQWNxdWlyZVRva2VuQnlTaWxlbnRJZnJhbWUiLCJTaWxlbnRJZnJhbWVDbGllbnRBY3F1aXJlVG9rZW4iLCJsb2dvdXQiLCJsb2dvdXRSZXF1ZXN0Iiwid2FybmluZyIsImxvZ291dFJlZGlyZWN0IiwibG9nb3V0UG9wdXAiLCJjbGVhckNhY2hlIiwiY2FjaGVDbGllbnQiLCJhY2NvdW50RmlsdGVyIiwidXNlcm5hbWUiLCJob21lQWNjb3VudElkIiwibG9jYWxBY2NvdW50SWQiLCJoeWRyYXRlQ2FjaGUiLCJhY2NvdW50RW50aXR5IiwiY3JlYXRlRnJvbUFjY291bnRJbmZvIiwiY2xvdWRHcmFwaEhvc3ROYW1lIiwibXNHcmFwaEhvc3QiLCJzZXRBY2NvdW50IiwiYXBpSWQiLCJhdXRoZW50aWNhdGlvblNjaGVtZSIsIk5PTkUiLCJDT05TRU5UIiwiTE9HSU4iLCJsb2dpbkhpbnQiLCJzaWQiLCJhZGRFdmVudENhbGxiYWNrIiwiY2FsbGJhY2siLCJldmVudFR5cGVzIiwicmVtb3ZlRXZlbnRDYWxsYmFjayIsImNhbGxiYWNrSWQiLCJhZGRQZXJmb3JtYW5jZUNhbGxiYWNrIiwicmVtb3ZlUGVyZm9ybWFuY2VDYWxsYmFjayIsImVuYWJsZUFjY291bnRTdG9yYWdlRXZlbnRzIiwid2luZG93IiwiZGlzYWJsZUFjY291bnRTdG9yYWdlRXZlbnRzIiwia2V5IiwiaW5jbHVkZXMiLCJBQ1RJVkVfQUNDT1VOVF9GSUxURVJTIiwiQUNUSVZFX0FDQ09VTlRfQ0hBTkdFRCIsImNhY2hlVmFsdWUiLCJuZXdWYWx1ZSIsIm9sZFZhbHVlIiwicGFyc2VkVmFsdWUiLCJKU09OIiwicGFyc2UiLCJpc0FjY291bnRFbnRpdHkiLCJ0b09iamVjdCIsImFjY291bnRJbmZvIiwiZ2V0QWNjb3VudEluZm8iLCJBQ0NPVU5UX0FEREVEIiwiQUNDT1VOVF9SRU1PVkVEIiwiZ2V0VG9rZW5DYWNoZSIsInNldExvZ2dlciIsImluaXRpYWxpemVXcmFwcGVyTGlicmFyeSIsInNrdSIsInZlcnNpb24iLCJzZXRXcmFwcGVyTWV0YWRhdGEiLCJzZXROYXZpZ2F0aW9uQ2xpZW50IiwiZ2V0Q29uZmlndXJhdGlvbiIsImdldFBlcmZvcm1hbmNlQ2xpZW50IiwiaXNCcm93c2VyRW52IiwiRU1QVFlfU1RSSU5HIiwibG9naW5SZWRpcmVjdCIsImxvZ2luUG9wdXAiLCJhY3F1aXJlVG9rZW5TaWxlbnQiLCJhdHNNZWFzdXJlbWVudCIsIkFjcXVpcmVUb2tlblNpbGVudCIsInRodW1icHJpbnQiLCJhdXRob3JpdHkiLCJzY29wZXMiLCJob21lQWNjb3VudElkZW50aWZpZXIiLCJjbGFpbXMiLCJyZXNvdXJjZVJlcXVlc3RNZXRob2QiLCJyZXNvdXJjZVJlcXVlc3RVcmkiLCJzaHJDbGFpbXMiLCJzc2hLaWQiLCJzaHJPcHRpb25zIiwic2lsZW50UmVxdWVzdEtleSIsInN0cmluZ2lmeSIsImNhY2hlZFJlc3BvbnNlIiwiYWNxdWlyZVRva2VuU2lsZW50QXN5bmMiLCJBY3F1aXJlVG9rZW5TaWxlbnRBc3luYyIsInN0YXRlIiwic2lsZW50UmVxdWVzdCIsIkluaXRpYWxpemVTaWxlbnRSZXF1ZXN0IiwiYWNxdWlyZVRva2VuU2lsZW50Tm9JZnJhbWUiLCJyZWZyZXNoVG9rZW5FcnJvciIsInNob3VsZFRyeVRvUmVzb2x2ZVNpbGVudGx5IiwiY2hlY2tJZlJlZnJlc2hUb2tlbkVycm9yQ2FuQmVSZXNvbHZlZFNpbGVudGx5IiwiYWN0aXZlSWZyYW1lUmVxdWVzdCIsIl9yZXNvbHZlIiwicmVzb2x2ZSIsImlmcmFtZVJlc3VsdCIsIlNraXAiLCJhY3RpdmVQcm9taXNlIiwiYWN0aXZlQ29ycmVsYXRpb25JZCIsImF3YWl0Q29uY3VycmVudElmcmFtZU1lYXN1cmUiLCJBd2FpdENvbmN1cnJlbnRJZnJhbWUiLCJhd2FpdElmcmFtZUNvcnJlbGF0aW9uSWQiLCJhY3RpdmVQcm9taXNlUmVzdWx0IiwiYWRkRmllbGRzIiwiYWNxdWlyZVRva2VuU2lsZW50X3NpbGVudEZsb3ciLCJjYWNoZUVycm9yIiwiQUNRVUlSRV9UT0tFTl9ORVRXT1JLX1NUQVJUIiwibm9JbnRlcmFjdGlvblJlcXVpcmVkIiwic3ViRXJyb3IiLCJiYWRUb2tlbiIsInJlZnJlc2hUb2tlblJlZnJlc2hSZXF1aXJlZCIsIklOVkFMSURfR1JBTlRfRVJST1IiLCJpc1NpbGVudGx5UmVzb2x2YWJsZSIsIm5vVG9rZW5zRm91bmQiLCJyZWZyZXNoVG9rZW5FeHBpcmVkIiwidHJ5SWZyYW1lUmVuZXdhbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/controllers/StandardController.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/crypto/BrowserCrypto.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/crypto/BrowserCrypto.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNewGuid: () => (/* binding */ createNewGuid),\n/* harmony export */   exportJwk: () => (/* binding */ exportJwk),\n/* harmony export */   generateKeyPair: () => (/* binding */ generateKeyPair),\n/* harmony export */   getRandomValues: () => (/* binding */ getRandomValues),\n/* harmony export */   hashString: () => (/* binding */ hashString),\n/* harmony export */   importJwk: () => (/* binding */ importJwk),\n/* harmony export */   sha256Digest: () => (/* binding */ sha256Digest),\n/* harmony export */   sign: () => (/* binding */ sign),\n/* harmony export */   validateCryptoAvailable: () => (/* binding */ validateCryptoAvailable)\n/* harmony export */ });\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../encode/Base64Encode.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/encode/Base64Encode.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * This file defines functions used by the browser library to perform cryptography operations such as\r\n * hashing and encoding. It also has helper functions to validate the availability of specific APIs.\r\n */ /**\r\n * See here for more info on RsaHashedKeyGenParams: https://developer.mozilla.org/en-US/docs/Web/API/RsaHashedKeyGenParams\r\n */ // RSA KeyGen Algorithm\nconst PKCS1_V15_KEYGEN_ALG = \"RSASSA-PKCS1-v1_5\";\n// SHA-256 hashing algorithm\nconst S256_HASH_ALG = \"SHA-256\";\n// MOD length for PoP tokens\nconst MODULUS_LENGTH = 2048;\n// Public Exponent\nconst PUBLIC_EXPONENT = new Uint8Array([\n    0x01,\n    0x00,\n    0x01\n]);\n// UUID hex digits\nconst UUID_CHARS = \"0123456789abcdef\";\n// Array to store UINT32 random value\nconst UINT32_ARR = new Uint32Array(1);\nconst SUBTLE_SUBERROR = \"crypto_subtle_undefined\";\nconst keygenAlgorithmOptions = {\n    name: PKCS1_V15_KEYGEN_ALG,\n    hash: S256_HASH_ALG,\n    modulusLength: MODULUS_LENGTH,\n    publicExponent: PUBLIC_EXPONENT\n};\n/**\r\n * Check whether browser crypto is available.\r\n */ function validateCryptoAvailable() {\n    if (!window) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.nonBrowserEnvironment);\n    }\n    if (!window.crypto) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.cryptoNonExistent);\n    }\n    if (!window.crypto.subtle) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.cryptoNonExistent, SUBTLE_SUBERROR);\n    }\n}\n/**\r\n * Returns a sha-256 hash of the given dataString as an ArrayBuffer.\r\n * @param dataString {string} data string\r\n * @param performanceClient {?IPerformanceClient}\r\n * @param correlationId {?string} correlation id\r\n */ async function sha256Digest(dataString, performanceClient, correlationId) {\n    performanceClient?.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.PerformanceEvents.Sha256Digest, correlationId);\n    const encoder = new TextEncoder();\n    const data = encoder.encode(dataString);\n    return window.crypto.subtle.digest(S256_HASH_ALG, data);\n}\n/**\r\n * Populates buffer with cryptographically random values.\r\n * @param dataBuffer\r\n */ function getRandomValues(dataBuffer) {\n    return window.crypto.getRandomValues(dataBuffer);\n}\n/**\r\n * Returns random Uint32 value.\r\n * @returns {number}\r\n */ function getRandomUint32() {\n    window.crypto.getRandomValues(UINT32_ARR);\n    return UINT32_ARR[0];\n}\n/**\r\n * Creates a UUID v7 from the current timestamp.\r\n * Implementation relies on the system clock to guarantee increasing order of generated identifiers.\r\n * @returns {number}\r\n */ function createNewGuid() {\n    const currentTimestamp = Date.now();\n    const baseRand = getRandomUint32() * 0x400 + (getRandomUint32() & 0x3ff);\n    // Result byte array\n    const bytes = new Uint8Array(16);\n    // A 12-bit `rand_a` field value\n    const randA = Math.trunc(baseRand / 2 ** 30);\n    // The higher 30 bits of 62-bit `rand_b` field value\n    const randBHi = baseRand & 2 ** 30 - 1;\n    // The lower 32 bits of 62-bit `rand_b` field value\n    const randBLo = getRandomUint32();\n    bytes[0] = currentTimestamp / 2 ** 40;\n    bytes[1] = currentTimestamp / 2 ** 32;\n    bytes[2] = currentTimestamp / 2 ** 24;\n    bytes[3] = currentTimestamp / 2 ** 16;\n    bytes[4] = currentTimestamp / 2 ** 8;\n    bytes[5] = currentTimestamp;\n    bytes[6] = 0x70 | randA >>> 8;\n    bytes[7] = randA;\n    bytes[8] = 0x80 | randBHi >>> 24;\n    bytes[9] = randBHi >>> 16;\n    bytes[10] = randBHi >>> 8;\n    bytes[11] = randBHi;\n    bytes[12] = randBLo >>> 24;\n    bytes[13] = randBLo >>> 16;\n    bytes[14] = randBLo >>> 8;\n    bytes[15] = randBLo;\n    let text = \"\";\n    for(let i = 0; i < bytes.length; i++){\n        text += UUID_CHARS.charAt(bytes[i] >>> 4);\n        text += UUID_CHARS.charAt(bytes[i] & 0xf);\n        if (i === 3 || i === 5 || i === 7 || i === 9) {\n            text += \"-\";\n        }\n    }\n    return text;\n}\n/**\r\n * Generates a keypair based on current keygen algorithm config.\r\n * @param extractable\r\n * @param usages\r\n */ async function generateKeyPair(extractable, usages) {\n    return window.crypto.subtle.generateKey(keygenAlgorithmOptions, extractable, usages);\n}\n/**\r\n * Export key as Json Web Key (JWK)\r\n * @param key\r\n */ async function exportJwk(key) {\n    return window.crypto.subtle.exportKey(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.KEY_FORMAT_JWK, key);\n}\n/**\r\n * Imports key as Json Web Key (JWK), can set extractable and usages.\r\n * @param key\r\n * @param extractable\r\n * @param usages\r\n */ async function importJwk(key, extractable, usages) {\n    return window.crypto.subtle.importKey(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.KEY_FORMAT_JWK, key, keygenAlgorithmOptions, extractable, usages);\n}\n/**\r\n * Signs given data with given key\r\n * @param key\r\n * @param data\r\n */ async function sign(key, data) {\n    return window.crypto.subtle.sign(keygenAlgorithmOptions, key, data);\n}\n/**\r\n * Returns the SHA-256 hash of an input string\r\n * @param plainText\r\n */ async function hashString(plainText) {\n    const hashBuffer = await sha256Digest(plainText);\n    const hashBytes = new Uint8Array(hashBuffer);\n    return (0,_encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_4__.urlEncodeArr)(hashBytes);\n}\n //# sourceMappingURL=BrowserCrypto.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NyeXB0by9Ccm93c2VyQ3J5cHRvLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUN1RTtBQUNSO0FBQ0E7QUFDTDtBQUNvQztBQUU5Rjs7O0NBR0MsR0FDRDs7O0NBR0MsR0FDRDs7Q0FFQyxHQUNELHVCQUF1QjtBQUN2QixNQUFNTSx1QkFBdUI7QUFDN0IsNEJBQTRCO0FBQzVCLE1BQU1DLGdCQUFnQjtBQUN0Qiw0QkFBNEI7QUFDNUIsTUFBTUMsaUJBQWlCO0FBQ3ZCLGtCQUFrQjtBQUNsQixNQUFNQyxrQkFBa0IsSUFBSUMsV0FBVztJQUFDO0lBQU07SUFBTTtDQUFLO0FBQ3pELGtCQUFrQjtBQUNsQixNQUFNQyxhQUFhO0FBQ25CLHFDQUFxQztBQUNyQyxNQUFNQyxhQUFhLElBQUlDLFlBQVk7QUFDbkMsTUFBTUMsa0JBQWtCO0FBQ3hCLE1BQU1DLHlCQUF5QjtJQUMzQkMsTUFBTVY7SUFDTlcsTUFBTVY7SUFDTlcsZUFBZVY7SUFDZlcsZ0JBQWdCVjtBQUNwQjtBQUNBOztDQUVDLEdBQ0QsU0FBU1c7SUFDTCxJQUFJLENBQUNDLFFBQVE7UUFDVCxNQUFNckIsbUZBQXNCQSxDQUFDSSxtRkFBcUJBO0lBQ3REO0lBQ0EsSUFBSSxDQUFDaUIsT0FBT0MsTUFBTSxFQUFFO1FBQ2hCLE1BQU10QixtRkFBc0JBLENBQUNLLCtFQUFpQkE7SUFDbEQ7SUFDQSxJQUFJLENBQUNnQixPQUFPQyxNQUFNLENBQUNDLE1BQU0sRUFBRTtRQUN2QixNQUFNdkIsbUZBQXNCQSxDQUFDSywrRUFBaUJBLEVBQUVTO0lBQ3BEO0FBQ0o7QUFDQTs7Ozs7Q0FLQyxHQUNELGVBQWVVLGFBQWFDLFVBQVUsRUFBRUMsaUJBQWlCLEVBQUVDLGFBQWE7SUFDcEVELG1CQUFtQkUsb0JBQW9CM0IseUVBQWlCQSxDQUFDNEIsWUFBWSxFQUFFRjtJQUN2RSxNQUFN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QUtKLEdBQUcsRUFBRTFCLElBQUk7SUFDekIsT0FBT1gsT0FBT0MsTUFBTSxDQUFDQyxNQUFNLENBQUN1QyxJQUFJLENBQUMvQyx3QkFBd0IyQyxLQUFLMUI7QUFDbEU7QUFDQTs7O0NBR0MsR0FDRCxlQUFlK0IsV0FBV0MsU0FBUztJQUMvQixNQUFNQyxhQUFhLE1BQU16QyxhQUFhd0M7SUFDdEMsTUFBTUUsWUFBWSxJQUFJeEQsV0FBV3VEO0lBQ2pDLE9BQU85RCxzRUFBWUEsQ0FBQytEO0FBQ3hCO0FBRTBJLENBQzFJLDBDQUEwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvY3J5cHRvL0Jyb3dzZXJDcnlwdG8ubWpzPzNhZDIiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgUGVyZm9ybWFuY2VFdmVudHMgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBLRVlfRk9STUFUX0pXSyB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMubWpzJztcbmltcG9ydCB7IHVybEVuY29kZUFyciB9IGZyb20gJy4uL2VuY29kZS9CYXNlNjRFbmNvZGUubWpzJztcbmltcG9ydCB7IG5vbkJyb3dzZXJFbnZpcm9ubWVudCwgY3J5cHRvTm9uRXhpc3RlbnQgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGlzIGZpbGUgZGVmaW5lcyBmdW5jdGlvbnMgdXNlZCBieSB0aGUgYnJvd3NlciBsaWJyYXJ5IHRvIHBlcmZvcm0gY3J5cHRvZ3JhcGh5IG9wZXJhdGlvbnMgc3VjaCBhc1xyXG4gKiBoYXNoaW5nIGFuZCBlbmNvZGluZy4gSXQgYWxzbyBoYXMgaGVscGVyIGZ1bmN0aW9ucyB0byB2YWxpZGF0ZSB0aGUgYXZhaWxhYmlsaXR5IG9mIHNwZWNpZmljIEFQSXMuXHJcbiAqL1xyXG4vKipcclxuICogU2VlIGhlcmUgZm9yIG1vcmUgaW5mbyBvbiBSc2FIYXNoZWRLZXlHZW5QYXJhbXM6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9Sc2FIYXNoZWRLZXlHZW5QYXJhbXNcclxuICovXHJcbi8vIFJTQSBLZXlHZW4gQWxnb3JpdGhtXHJcbmNvbnN0IFBLQ1MxX1YxNV9LRVlHRU5fQUxHID0gXCJSU0FTU0EtUEtDUzEtdjFfNVwiO1xyXG4vLyBTSEEtMjU2IGhhc2hpbmcgYWxnb3JpdGhtXHJcbmNvbnN0IFMyNTZfSEFTSF9BTEcgPSBcIlNIQS0yNTZcIjtcclxuLy8gTU9EIGxlbmd0aCBmb3IgUG9QIHRva2Vuc1xyXG5jb25zdCBNT0RVTFVTX0xFTkdUSCA9IDIwNDg7XHJcbi8vIFB1YmxpYyBFeHBvbmVudFxyXG5jb25zdCBQVUJMSUNfRVhQT05FTlQgPSBuZXcgVWludDhBcnJheShbMHgwMSwgMHgwMCwgMHgwMV0pO1xyXG4vLyBVVUlEIGhleCBkaWdpdHNcclxuY29uc3QgVVVJRF9DSEFSUyA9IFwiMDEyMzQ1Njc4OWFiY2RlZlwiO1xyXG4vLyBBcnJheSB0byBzdG9yZSBVSU5UMzIgcmFuZG9tIHZhbHVlXHJcbmNvbnN0IFVJTlQzMl9BUlIgPSBuZXcgVWludDMyQXJyYXkoMSk7XHJcbmNvbnN0IFNVQlRMRV9TVUJFUlJPUiA9IFwiY3J5cHRvX3N1YnRsZV91bmRlZmluZWRcIjtcclxuY29uc3Qga2V5Z2VuQWxnb3JpdGhtT3B0aW9ucyA9IHtcclxuICAgIG5hbWU6IFBLQ1MxX1YxNV9LRVlHRU5fQUxHLFxyXG4gICAgaGFzaDogUzI1Nl9IQVNIX0FMRyxcclxuICAgIG1vZHVsdXNMZW5ndGg6IE1PRFVMVVNfTEVOR1RILFxyXG4gICAgcHVibGljRXhwb25lbnQ6IFBVQkxJQ19FWFBPTkVOVCxcclxufTtcclxuLyoqXHJcbiAqIENoZWNrIHdoZXRoZXIgYnJvd3NlciBjcnlwdG8gaXMgYXZhaWxhYmxlLlxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVDcnlwdG9BdmFpbGFibGUoKSB7XHJcbiAgICBpZiAoIXdpbmRvdykge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3Iobm9uQnJvd3NlckVudmlyb25tZW50KTtcclxuICAgIH1cclxuICAgIGlmICghd2luZG93LmNyeXB0bykge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IoY3J5cHRvTm9uRXhpc3RlbnQpO1xyXG4gICAgfVxyXG4gICAgaWYgKCF3aW5kb3cuY3J5cHRvLnN1YnRsZSkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IoY3J5cHRvTm9uRXhpc3RlbnQsIFNVQlRMRV9TVUJFUlJPUik7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgYSBzaGEtMjU2IGhhc2ggb2YgdGhlIGdpdmVuIGRhdGFTdHJpbmcgYXMgYW4gQXJyYXlCdWZmZXIuXHJcbiAqIEBwYXJhbSBkYXRhU3RyaW5nIHtzdHJpbmd9IGRhdGEgc3RyaW5nXHJcbiAqIEBwYXJhbSBwZXJmb3JtYW5jZUNsaWVudCB7P0lQZXJmb3JtYW5jZUNsaWVudH1cclxuICogQHBhcmFtIGNvcnJlbGF0aW9uSWQgez9zdHJpbmd9IGNvcnJlbGF0aW9uIGlkXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBzaGEyNTZEaWdlc3QoZGF0YVN0cmluZywgcGVyZm9ybWFuY2VDbGllbnQsIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgIHBlcmZvcm1hbmNlQ2xpZW50Py5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLlNoYTI1NkRpZ2VzdCwgY29ycmVsYXRpb25JZCk7XHJcbiAgICBjb25zdCBlbmNvZGVyID0gbmV3IFRleHRFbmNvZGVyKCk7XHJcbiAgICBjb25zdCBkYXRhID0gZW5jb2Rlci5lbmNvZGUoZGF0YVN0cmluZyk7XHJcbiAgICByZXR1cm4gd2luZG93LmNyeXB0by5zdWJ0bGUuZGlnZXN0KFMyNTZfSEFTSF9BTEcsIGRhdGEpO1xyXG59XHJcbi8qKlxyXG4gKiBQb3B1bGF0ZXMgYnVmZmVyIHdpdGggY3J5cHRvZ3JhcGhpY2FsbHkgcmFuZG9tIHZhbHVlcy5cclxuICogQHBhcmFtIGRhdGFCdWZmZXJcclxuICovXHJcbmZ1bmN0aW9uIGdldFJhbmRvbVZhbHVlcyhkYXRhQnVmZmVyKSB7XHJcbiAgICByZXR1cm4gd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMoZGF0YUJ1ZmZlcik7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgcmFuZG9tIFVpbnQzMiB2YWx1ZS5cclxuICogQHJldHVybnMge251bWJlcn1cclxuICovXHJcbmZ1bmN0aW9uIGdldFJhbmRvbVVpbnQzMigpIHtcclxuICAgIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKFVJTlQzMl9BUlIpO1xyXG4gICAgcmV0dXJuIFVJTlQzMl9BUlJbMF07XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBVVUlEIHY3IGZyb20gdGhlIGN1cnJlbnQgdGltZXN0YW1wLlxyXG4gKiBJbXBsZW1lbnRhdGlvbiByZWxpZXMgb24gdGhlIHN5c3RlbSBjbG9jayB0byBndWFyYW50ZWUgaW5jcmVhc2luZyBvcmRlciBvZiBnZW5lcmF0ZWQgaWRlbnRpZmllcnMuXHJcbiAqIEByZXR1cm5zIHtudW1iZXJ9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVOZXdHdWlkKCkge1xyXG4gICAgY29uc3QgY3VycmVudFRpbWVzdGFtcCA9IERhdGUubm93KCk7XHJcbiAgICBjb25zdCBiYXNlUmFuZCA9IGdldFJhbmRvbVVpbnQzMigpICogMHg0MDAgKyAoZ2V0UmFuZG9tVWludDMyKCkgJiAweDNmZik7XHJcbiAgICAvLyBSZXN1bHQgYnl0ZSBhcnJheVxyXG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxNik7XHJcbiAgICAvLyBBIDEyLWJpdCBgcmFuZF9hYCBmaWVsZCB2YWx1ZVxyXG4gICAgY29uc3QgcmFuZEEgPSBNYXRoLnRydW5jKGJhc2VSYW5kIC8gMiAqKiAzMCk7XHJcbiAgICAvLyBUaGUgaGlnaGVyIDMwIGJpdHMgb2YgNjItYml0IGByYW5kX2JgIGZpZWxkIHZhbHVlXHJcbiAgICBjb25zdCByYW5kQkhpID0gYmFzZVJhbmQgJiAoMiAqKiAzMCAtIDEpO1xyXG4gICAgLy8gVGhlIGxvd2VyIDMyIGJpdHMgb2YgNjItYml0IGByYW5kX2JgIGZpZWxkIHZhbHVlXHJcbiAgICBjb25zdCByYW5kQkxvID0gZ2V0UmFuZG9tVWludDMyKCk7XHJcbiAgICBieXRlc1swXSA9IGN1cnJlbnRUaW1lc3RhbXAgLyAyICoqIDQwO1xyXG4gICAgYnl0ZXNbMV0gPSBjdXJyZW50VGltZXN0YW1wIC8gMiAqKiAzMjtcclxuICAgIGJ5dGVzWzJdID0gY3VycmVudFRpbWVzdGFtcCAvIDIgKiogMjQ7XHJcbiAgICBieXRlc1szXSA9IGN1cnJlbnRUaW1lc3RhbXAgLyAyICoqIDE2O1xyXG4gICAgYnl0ZXNbNF0gPSBjdXJyZW50VGltZXN0YW1wIC8gMiAqKiA4O1xyXG4gICAgYnl0ZXNbNV0gPSBjdXJyZW50VGltZXN0YW1wO1xyXG4gICAgYnl0ZXNbNl0gPSAweDcwIHwgKHJhbmRBID4+PiA4KTtcclxuICAgIGJ5dGVzWzddID0gcmFuZEE7XHJcbiAgICBieXRlc1s4XSA9IDB4ODAgfCAocmFuZEJIaSA+Pj4gMjQpO1xyXG4gICAgYnl0ZXNbOV0gPSByYW5kQkhpID4+PiAxNjtcclxuICAgIGJ5dGVzWzEwXSA9IHJhbmRCSGkgPj4+IDg7XHJcbiAgICBieXRlc1sxMV0gPSByYW5kQkhpO1xyXG4gICAgYnl0ZXNbMTJdID0gcmFuZEJMbyA+Pj4gMjQ7XHJcbiAgICBieXRlc1sxM10gPSByYW5kQkxvID4+PiAxNjtcclxuICAgIGJ5dGVzWzE0XSA9IHJhbmRCTG8gPj4+IDg7XHJcbiAgICBieXRlc1sxNV0gPSByYW5kQkxvO1xyXG4gICAgbGV0IHRleHQgPSBcIlwiO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBieXRlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRleHQgKz0gVVVJRF9DSEFSUy5jaGFyQXQoYnl0ZXNbaV0gPj4+IDQpO1xyXG4gICAgICAgIHRleHQgKz0gVVVJRF9DSEFSUy5jaGFyQXQoYnl0ZXNbaV0gJiAweGYpO1xyXG4gICAgICAgIGlmIChpID09PSAzIHx8IGkgPT09IDUgfHwgaSA9PT0gNyB8fCBpID09PSA5KSB7XHJcbiAgICAgICAgICAgIHRleHQgKz0gXCItXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRleHQ7XHJcbn1cclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIGtleXBhaXIgYmFzZWQgb24gY3VycmVudCBrZXlnZW4gYWxnb3JpdGhtIGNvbmZpZy5cclxuICogQHBhcmFtIGV4dHJhY3RhYmxlXHJcbiAqIEBwYXJhbSB1c2FnZXNcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlS2V5UGFpcihleHRyYWN0YWJsZSwgdXNhZ2VzKSB7XHJcbiAgICByZXR1cm4gd2luZG93LmNyeXB0by5zdWJ0bGUuZ2VuZXJhdGVLZXkoa2V5Z2VuQWxnb3JpdGhtT3B0aW9ucywgZXh0cmFjdGFibGUsIHVzYWdlcyk7XHJcbn1cclxuLyoqXHJcbiAqIEV4cG9ydCBrZXkgYXMgSnNvbiBXZWIgS2V5IChKV0spXHJcbiAqIEBwYXJhbSBrZXlcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGV4cG9ydEp3ayhrZXkpIHtcclxuICAgIHJldHVybiB3aW5kb3cuY3J5cHRvLnN1YnRsZS5leHBvcnRLZXkoS0VZX0ZPUk1BVF9KV0ssIGtleSk7XHJcbn1cclxuLyoqXHJcbiAqIEltcG9ydHMga2V5IGFzIEpzb24gV2ViIEtleSAoSldLKSwgY2FuIHNldCBleHRyYWN0YWJsZSBhbmQgdXNhZ2VzLlxyXG4gKiBAcGFyYW0ga2V5XHJcbiAqIEBwYXJhbSBleHRyYWN0YWJsZVxyXG4gKiBAcGFyYW0gdXNhZ2VzXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBpbXBvcnRKd2soa2V5LCBleHRyYWN0YWJsZSwgdXNhZ2VzKSB7XHJcbiAgICByZXR1cm4gd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KEtFWV9GT1JNQVRfSldLLCBrZXksIGtleWdlbkFsZ29yaXRobU9wdGlvbnMsIGV4dHJhY3RhYmxlLCB1c2FnZXMpO1xyXG59XHJcbi8qKlxyXG4gKiBTaWducyBnaXZlbiBkYXRhIHdpdGggZ2l2ZW4ga2V5XHJcbiAqIEBwYXJhbSBrZXlcclxuICogQHBhcmFtIGRhdGFcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHNpZ24oa2V5LCBkYXRhKSB7XHJcbiAgICByZXR1cm4gd2luZG93LmNyeXB0by5zdWJ0bGUuc2lnbihrZXlnZW5BbGdvcml0aG1PcHRpb25zLCBrZXksIGRhdGEpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRoZSBTSEEtMjU2IGhhc2ggb2YgYW4gaW5wdXQgc3RyaW5nXHJcbiAqIEBwYXJhbSBwbGFpblRleHRcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGhhc2hTdHJpbmcocGxhaW5UZXh0KSB7XHJcbiAgICBjb25zdCBoYXNoQnVmZmVyID0gYXdhaXQgc2hhMjU2RGlnZXN0KHBsYWluVGV4dCk7XHJcbiAgICBjb25zdCBoYXNoQnl0ZXMgPSBuZXcgVWludDhBcnJheShoYXNoQnVmZmVyKTtcclxuICAgIHJldHVybiB1cmxFbmNvZGVBcnIoaGFzaEJ5dGVzKTtcclxufVxuXG5leHBvcnQgeyBjcmVhdGVOZXdHdWlkLCBleHBvcnRKd2ssIGdlbmVyYXRlS2V5UGFpciwgZ2V0UmFuZG9tVmFsdWVzLCBoYXNoU3RyaW5nLCBpbXBvcnRKd2ssIHNoYTI1NkRpZ2VzdCwgc2lnbiwgdmFsaWRhdGVDcnlwdG9BdmFpbGFibGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJyb3dzZXJDcnlwdG8ubWpzLm1hcFxuIl0sIm5hbWVzIjpbImNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IiLCJQZXJmb3JtYW5jZUV2ZW50cyIsIktFWV9GT1JNQVRfSldLIiwidXJsRW5jb2RlQXJyIiwibm9uQnJvd3NlckVudmlyb25tZW50IiwiY3J5cHRvTm9uRXhpc3RlbnQiLCJQS0NTMV9WMTVfS0VZR0VOX0FMRyIsIlMyNTZfSEFTSF9BTEciLCJNT0RVTFVTX0xFTkdUSCIsIlBVQkxJQ19FWFBPTkVOVCIsIlVpbnQ4QXJyYXkiLCJVVUlEX0NIQVJTIiwiVUlOVDMyX0FSUiIsIlVpbnQzMkFycmF5IiwiU1VCVExFX1NVQkVSUk9SIiwia2V5Z2VuQWxnb3JpdGhtT3B0aW9ucyIsIm5hbWUiLCJoYXNoIiwibW9kdWx1c0xlbmd0aCIsInB1YmxpY0V4cG9uZW50IiwidmFsaWRhdGVDcnlwdG9BdmFpbGFibGUiLCJ3aW5kb3ciLCJjcnlwdG8iLCJzdWJ0bGUiLCJzaGEyNTZEaWdlc3QiLCJkYXRhU3RyaW5nIiwicGVyZm9ybWFuY2VDbGllbnQiLCJjb3JyZWxhdGlvbklkIiwiYWRkUXVldWVNZWFzdXJlbWVudCIsIlNoYTI1NkRpZ2VzdCIsImVuY29kZXIiLCJUZXh0RW5jb2RlciIsImRhdGEiLCJlbmNvZGUiLCJkaWdlc3QiLCJnZXRSYW5kb21WYWx1ZXMiLCJkYXRhQnVmZmVyIiwiZ2V0UmFuZG9tVWludDMyIiwiY3JlYXRlTmV3R3VpZCIsImN1cnJlbnRUaW1lc3RhbXAiLCJEYXRlIiwibm93IiwiYmFzZVJhbmQiLCJieXRlcyIsInJhbmRBIiwiTWF0aCIsInRydW5jIiwicmFuZEJIaSIsInJhbmRCTG8iLCJ0ZXh0IiwiaSIsImxlbmd0aCIsImNoYXJBdCIsImdlbmVyYXRlS2V5UGFpciIsImV4dHJhY3RhYmxlIiwidXNhZ2VzIiwiZ2VuZXJhdGVLZXkiLCJleHBvcnRKd2siLCJrZXkiLCJleHBvcnRLZXkiLCJpbXBvcnRKd2siLCJpbXBvcnRLZXkiLCJzaWduIiwiaGFzaFN0cmluZyIsInBsYWluVGV4dCIsImhhc2hCdWZmZXIiLCJoYXNoQnl0ZXMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/crypto/BrowserCrypto.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/crypto/CryptoOps.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/crypto/CryptoOps.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CryptoOps: () => (/* binding */ CryptoOps)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/crypto/JoseHeader.mjs\");\n/* harmony import */ var _encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../encode/Base64Encode.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/encode/Base64Encode.mjs\");\n/* harmony import */ var _encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../encode/Base64Decode.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/encode/Base64Decode.mjs\");\n/* harmony import */ var _BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BrowserCrypto.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/crypto/BrowserCrypto.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _cache_AsyncMemoryStorage_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../cache/AsyncMemoryStorage.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/cache/AsyncMemoryStorage.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * This class implements MSAL's crypto interface, which allows it to perform base64 encoding and decoding, generating cryptographically random GUIDs and\r\n * implementing Proof Key for Code Exchange specs for the OAuth Authorization Code Flow using PKCE (rfc here: https://tools.ietf.org/html/rfc7636).\r\n */ class CryptoOps {\n    constructor(logger, performanceClient){\n        this.logger = logger;\n        // Browser crypto needs to be validated first before any other classes can be set.\n        (0,_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_0__.validateCryptoAvailable)();\n        this.cache = new _cache_AsyncMemoryStorage_mjs__WEBPACK_IMPORTED_MODULE_1__.AsyncMemoryStorage(this.logger);\n        this.performanceClient = performanceClient;\n    }\n    /**\r\n     * Creates a new random GUID - used to populate state and nonce.\r\n     * @returns string (GUID)\r\n     */ createNewGuid() {\n        return (0,_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_0__.createNewGuid)();\n    }\n    /**\r\n     * Encodes input string to base64.\r\n     * @param input\r\n     */ base64Encode(input) {\n        return (0,_encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_2__.base64Encode)(input);\n    }\n    /**\r\n     * Decodes input string from base64.\r\n     * @param input\r\n     */ base64Decode(input) {\n        return (0,_encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_3__.base64Decode)(input);\n    }\n    /**\r\n     * Encodes input string to base64 URL safe string.\r\n     * @param input\r\n     */ base64UrlEncode(input) {\n        return (0,_encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_2__.urlEncode)(input);\n    }\n    /**\r\n     * Stringifies and base64Url encodes input public key\r\n     * @param inputKid\r\n     * @returns Base64Url encoded public key\r\n     */ encodeKid(inputKid) {\n        return this.base64UrlEncode(JSON.stringify({\n            kid: inputKid\n        }));\n    }\n    /**\r\n     * Generates a keypair, stores it and returns a thumbprint\r\n     * @param request\r\n     */ async getPublicKeyThumbprint(request) {\n        const publicKeyThumbMeasurement = this.performanceClient?.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.PerformanceEvents.CryptoOptsGetPublicKeyThumbprint, request.correlationId);\n        // Generate Keypair\n        const keyPair = await (0,_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_0__.generateKeyPair)(CryptoOps.EXTRACTABLE, CryptoOps.POP_KEY_USAGES);\n        // Generate Thumbprint for Public Key\n        const publicKeyJwk = await (0,_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_0__.exportJwk)(keyPair.publicKey);\n        const pubKeyThumprintObj = {\n            e: publicKeyJwk.e,\n            kty: publicKeyJwk.kty,\n            n: publicKeyJwk.n\n        };\n        const publicJwkString = getSortedObjectString(pubKeyThumprintObj);\n        const publicJwkHash = await this.hashString(publicJwkString);\n        // Generate Thumbprint for Private Key\n        const privateKeyJwk = await (0,_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_0__.exportJwk)(keyPair.privateKey);\n        // Re-import private key to make it unextractable\n        const unextractablePrivateKey = await (0,_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_0__.importJwk)(privateKeyJwk, false, [\n            \"sign\"\n        ]);\n        // Store Keypair data in keystore\n        await this.cache.setItem(publicJwkHash, {\n            privateKey: unextractablePrivateKey,\n            publicKey: keyPair.publicKey,\n            requestMethod: request.resourceRequestMethod,\n            requestUri: request.resourceRequestUri\n        });\n        if (publicKeyThumbMeasurement) {\n            publicKeyThumbMeasurement.end({\n                success: true\n            });\n        }\n        return publicJwkHash;\n    }\n    /**\r\n     * Removes cryptographic keypair from key store matching the keyId passed in\r\n     * @param kid\r\n     */ async removeTokenBindingKey(kid) {\n        await this.cache.removeItem(kid);\n        const keyFound = await this.cache.containsKey(kid);\n        return !keyFound;\n    }\n    /**\r\n     * Removes all cryptographic keys from IndexedDB storage\r\n     */ async clearKeystore() {\n        // Delete in-memory keystores\n        this.cache.clearInMemory();\n        /**\r\n         * There is only one database, so calling clearPersistent on asymmetric keystore takes care of\r\n         * every persistent keystore\r\n         */ try {\n            await this.cache.clearPersistent();\n            return true;\n        } catch (e) {\n            if (e instanceof Error) {\n                this.logger.error(`Clearing keystore failed with error: ${e.message}`);\n            } else {\n                this.logger.error(\"Clearing keystore failed with unknown error\");\n            }\n            return false;\n        }\n    }\n    /**\r\n     * Signs the given object as a jwt payload with private key retrieved by given kid.\r\n     * @param payload\r\n     * @param kid\r\n     */ async signJwt(payload, kid, shrOptions, correlationId) {\n        const signJwtMeasurement = this.performanceClient?.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.PerformanceEvents.CryptoOptsSignJwt, correlationId);\n        const cachedKeyPair = await this.cache.getItem(kid);\n        if (!cachedKeyPair) {\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__.cryptoKeyNotFound);\n        }\n        // Get public key as JWK\n        const publicKeyJwk = await (0,_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_0__.exportJwk)(cachedKeyPair.publicKey);\n        const publicKeyJwkString = getSortedObjectString(publicKeyJwk);\n        // Base64URL encode public key thumbprint with keyId only: BASE64URL({ kid: \"FULL_PUBLIC_KEY_HASH\" })\n        const encodedKeyIdThumbprint = (0,_encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_2__.urlEncode)(JSON.stringify({\n            kid: kid\n        }));\n        // Generate header\n        const shrHeader = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.JoseHeader.getShrHeaderString({\n            ...shrOptions?.header,\n            alg: publicKeyJwk.alg,\n            kid: encodedKeyIdThumbprint\n        });\n        const encodedShrHeader = (0,_encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_2__.urlEncode)(shrHeader);\n        // Generate payload\n        payload.cnf = {\n            jwk: JSON.parse(publicKeyJwkString)\n        };\n        const encodedPayload = (0,_encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_2__.urlEncode)(JSON.stringify(payload));\n        // Form token string\n        const tokenString = `${encodedShrHeader}.${encodedPayload}`;\n        // Sign token\n        const encoder = new TextEncoder();\n        const tokenBuffer = encoder.encode(tokenString);\n        const signatureBuffer = await (0,_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_0__.sign)(cachedKeyPair.privateKey, tokenBuffer);\n        const encodedSignature = (0,_encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_2__.urlEncodeArr)(new Uint8Array(signatureBuffer));\n        const signedJwt = `${tokenString}.${encodedSignature}`;\n        if (signJwtMeasurement) {\n            signJwtMeasurement.end({\n                success: true\n            });\n        }\n        return signedJwt;\n    }\n    /**\r\n     * Returns the SHA-256 hash of an input string\r\n     * @param plainText\r\n     */ async hashString(plainText) {\n        return (0,_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_0__.hashString)(plainText);\n    }\n}\nCryptoOps.POP_KEY_USAGES = [\n    \"sign\",\n    \"verify\"\n];\nCryptoOps.EXTRACTABLE = true;\nfunction getSortedObjectString(obj) {\n    return JSON.stringify(obj, Object.keys(obj).sort());\n}\n //# sourceMappingURL=CryptoOps.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NyeXB0by9DcnlwdG9PcHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUMyRTtBQUNRO0FBQ3pCO0FBQzRFO0FBQy9EO0FBQ0Y7QUFDRTtBQUV2RTs7O0NBR0MsR0FDRDs7O0NBR0MsR0FDRCxNQUFNZ0I7SUFDRkMsWUFBWUMsTUFBTSxFQUFFQyxpQkFBaUIsQ0FBRTtRQUNuQyxJQUFJLENBQUNELE1BQU0sR0FBR0E7UUFDZCxrRkFBa0Y7UUFDbEZaLDJFQUF1QkE7UUFDdkIsSUFBSSxDQUFDYyxLQUFLLEdBQUcsSUFBSU4sNkVBQWtCQSxDQUFDLElBQUksQ0FBQ0ksTUFBTTtRQUMvQyxJQUFJLENBQUNDLGlCQUFpQixHQUFHQTtJQUM3QjtJQUNBOzs7S0FHQyxHQUNEWixnQkFBZ0I7UUFDWixPQUFPQSxpRUFBYUE7SUFDeEI7SUFDQTs7O0tBR0MsR0FDREwsYUFBYW1CLEtBQUssRUFBRTtRQUNoQixPQUFPbkIsc0VBQVlBLENBQUNtQjtJQUN4QjtJQUNBOzs7S0FHQyxHQUNEaEIsYUFBYWdCLEtBQUssRUFBRTtRQUNoQixPQUFPaEIsc0VBQVlBLENBQUNnQjtJQUN4QjtJQUNBOzs7S0FHQyxHQUNEQyxnQkFBZ0JELEtBQUssRUFBRTtRQUNuQixPQUFPbEIsbUVBQVNBLENBQUNrQjtJQUNyQjtJQUNBOzs7O0tBSUMsR0FDREUsVUFBVUMsUUFBUSxFQUFFO1FBQ2hCLE9BQU8sSUFBSSxDQUFDRixlQUFlLENBQUNHLEtBQUtDLFNBQVMsQ0FBQztZQUFFQyxLQUFLSDtRQUFTO0lBQy9EO0lBQ0E7OztLQUdDLEdBQ0QsTUFBTUksdUJBQXVCQyxPQUFPLEVBQUU7UUFDbEMsTUFBTUMsNEJBQTRCLElBQUksQ0FBQ1gsaUJBQWlCLEVBQUVZLGlCQUFpQi9CLHlFQUFpQkEsQ0FBQ2dDLGdDQUFnQyxFQUFFSCxRQUFRSSxhQUFhO1FBQ3BKLG1CQUFt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Q0EsTUFBTUssbUJBQW1CNUUsbUVBQVNBLENBQUN3RTtRQUNuQyxtQkFBbUI7UUFDbkJSLFFBQVFhLEdBQUcsR0FBRztZQUNWQyxLQUFLeEQsS0FBS3lELEtBQUssQ0FBQ1Q7UUFDcEI7UUFDQSxNQUFNVSxpQkFBaUJoRixtRUFBU0EsQ0FBQ3NCLEtBQUtDLFNBQVMsQ0FBQ3lDO1FBQ2hELG9CQUFvQjtRQUNwQixNQUFNaUIsY0FBYyxDQUFDLEVBQUVMLGlCQUFpQixDQUFDLEVBQUVJLGVBQWUsQ0FBQztRQUMzRCxhQUFhO1FBQ2IsTUFBTUUsVUFBVSxJQUFJQztRQUNwQixNQUFNQyxjQUFjRixRQUFRRyxNQUFNLENBQUNKO1FBQ25DLE1BQU1LLGtCQUFrQixNQUFNOUUsd0RBQUlBLENBQUM0RCxjQUFjeEIsVUFBVSxFQUFFd0M7UUFDN0QsTUFBTUcsbUJBQW1CdEYsc0VBQVlBLENBQUMsSUFBSXVGLFdBQVdGO1FBQ3JELE1BQU1HLFlBQVksQ0FBQyxFQUFFUixZQUFZLENBQUMsRUFBRU0saUJBQWlCLENBQUM7UUFDdEQsSUFBSXJCLG9CQUFvQjtZQUNwQkEsbUJBQW1CZixHQUFHLENBQUM7Z0JBQ25CQyxTQUFTO1lBQ2I7UUFDSjtRQUNBLE9BQU9xQztJQUNYO0lBQ0E7OztLQUdDLEdBQ0QsTUFBTWhGLFdBQVdpRixTQUFTLEVBQUU7UUFDeEIsT0FBT2pGLDhEQUFVQSxDQUFDaUY7SUFDdEI7QUFDSjtBQUNBN0UsVUFBVW9CLGNBQWMsR0FBRztJQUFDO0lBQVE7Q0FBUztBQUM3Q3BCLFVBQVVtQixXQUFXLEdBQUc7QUFDeEIsU0FBU1Msc0JBQXNCa0QsR0FBRztJQUM5QixPQUFPckUsS0FBS0MsU0FBUyxDQUFDb0UsS0FBS0MsT0FBT0MsSUFBSSxDQUFDRixLQUFLRyxJQUFJO0FBQ3BEO0FBRXFCLENBQ3JCLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvY3J5cHRvL0NyeXB0b09wcy5tanM/YTk4OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFBlcmZvcm1hbmNlRXZlbnRzLCBKb3NlSGVhZGVyIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uL2Jyb3dzZXInO1xuaW1wb3J0IHsgYmFzZTY0RW5jb2RlLCB1cmxFbmNvZGUsIHVybEVuY29kZUFyciB9IGZyb20gJy4uL2VuY29kZS9CYXNlNjRFbmNvZGUubWpzJztcbmltcG9ydCB7IGJhc2U2NERlY29kZSB9IGZyb20gJy4uL2VuY29kZS9CYXNlNjREZWNvZGUubWpzJztcbmltcG9ydCB7IHZhbGlkYXRlQ3J5cHRvQXZhaWxhYmxlLCBjcmVhdGVOZXdHdWlkLCBnZW5lcmF0ZUtleVBhaXIsIGV4cG9ydEp3aywgaW1wb3J0SndrLCBzaWduLCBoYXNoU3RyaW5nIH0gZnJvbSAnLi9Ccm93c2VyQ3J5cHRvLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgQXN5bmNNZW1vcnlTdG9yYWdlIH0gZnJvbSAnLi4vY2FjaGUvQXN5bmNNZW1vcnlTdG9yYWdlLm1qcyc7XG5pbXBvcnQgeyBjcnlwdG9LZXlOb3RGb3VuZCB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBNU0FMJ3MgY3J5cHRvIGludGVyZmFjZSwgd2hpY2ggYWxsb3dzIGl0IHRvIHBlcmZvcm0gYmFzZTY0IGVuY29kaW5nIGFuZCBkZWNvZGluZywgZ2VuZXJhdGluZyBjcnlwdG9ncmFwaGljYWxseSByYW5kb20gR1VJRHMgYW5kXHJcbiAqIGltcGxlbWVudGluZyBQcm9vZiBLZXkgZm9yIENvZGUgRXhjaGFuZ2Ugc3BlY3MgZm9yIHRoZSBPQXV0aCBBdXRob3JpemF0aW9uIENvZGUgRmxvdyB1c2luZyBQS0NFIChyZmMgaGVyZTogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzc2MzYpLlxyXG4gKi9cclxuY2xhc3MgQ3J5cHRvT3BzIHtcclxuICAgIGNvbnN0cnVjdG9yKGxvZ2dlciwgcGVyZm9ybWFuY2VDbGllbnQpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcclxuICAgICAgICAvLyBCcm93c2VyIGNyeXB0byBuZWVkcyB0byBiZSB2YWxpZGF0ZWQgZmlyc3QgYmVmb3JlIGFueSBvdGhlciBjbGFzc2VzIGNhbiBiZSBzZXQuXHJcbiAgICAgICAgdmFsaWRhdGVDcnlwdG9BdmFpbGFibGUoKTtcclxuICAgICAgICB0aGlzLmNhY2hlID0gbmV3IEFzeW5jTWVtb3J5U3RvcmFnZSh0aGlzLmxvZ2dlcik7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCA9IHBlcmZvcm1hbmNlQ2xpZW50O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJhbmRvbSBHVUlEIC0gdXNlZCB0byBwb3B1bGF0ZSBzdGF0ZSBhbmQgbm9uY2UuXHJcbiAgICAgKiBAcmV0dXJucyBzdHJpbmcgKEdVSUQpXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZU5ld0d1aWQoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNyZWF0ZU5ld0d1aWQoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRW5jb2RlcyBpbnB1dCBzdHJpbmcgdG8gYmFzZTY0LlxyXG4gICAgICogQHBhcmFtIGlucHV0XHJcbiAgICAgKi9cclxuICAgIGJhc2U2NEVuY29kZShpbnB1dCkge1xyXG4gICAgICAgIHJldHVybiBiYXNlNjRFbmNvZGUoaW5wdXQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWNvZGVzIGlucHV0IHN0cmluZyBmcm9tIGJhc2U2NC5cclxuICAgICAqIEBwYXJhbSBpbnB1dFxyXG4gICAgICovXHJcbiAgICBiYXNlNjREZWNvZGUoaW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gYmFzZTY0RGVjb2RlKGlucHV0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRW5jb2RlcyBpbnB1dCBzdHJpbmcgdG8gYmFzZTY0IFVSTCBzYWZlIHN0cmluZy5cclxuICAgICAqIEBwYXJhbSBpbnB1dFxyXG4gICAgICovXHJcbiAgICBiYXNlNjRVcmxFbmNvZGUoaW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gdXJsRW5jb2RlKGlucHV0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU3RyaW5naWZpZXMgYW5kIGJhc2U2NFVybCBlbmNvZGVzIGlucHV0IHB1YmxpYyBrZXlcclxuICAgICAqIEBwYXJhbSBpbnB1dEtpZFxyXG4gICAgICogQHJldHVybnMgQmFzZTY0VXJsIGVuY29kZWQgcHVibGljIGtleVxyXG4gICAgICovXHJcbiAgICBlbmNvZGVLaWQoaW5wdXRLaWQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5iYXNlNjRVcmxFbmNvZGUoSlNPTi5zdHJpbmdpZnkoeyBraWQ6IGlucHV0S2lkIH0pKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGVzIGEga2V5cGFpciwgc3RvcmVzIGl0IGFuZCByZXR1cm5zIGEgdGh1bWJwcmludFxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0UHVibGljS2V5VGh1bWJwcmludChyZXF1ZXN0KSB7XHJcbiAgICAgICAgY29uc3QgcHVibGljS2V5VGh1bWJNZWFzdXJlbWVudCA9IHRoaXMucGVyZm9ybWFuY2VDbGllbnQ/LnN0YXJ0TWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuQ3J5cHRvT3B0c0dldFB1YmxpY0tleVRodW1icHJpbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgLy8gR2VuZXJhdGUgS2V5cGFpclxyXG4gICAgICAgIGNvbnN0IGtleVBhaXIgPSBhd2FpdCBnZW5lcmF0ZUtleVBhaXIoQ3J5cHRvT3BzLkVYVFJBQ1RBQkxFLCBDcnlwdG9PcHMuUE9QX0tFWV9VU0FHRVMpO1xyXG4gICAgICAgIC8vIEdlbmVyYXRlIFRodW1icHJpbnQgZm9yIFB1YmxpYyBLZXlcclxuICAgICAgICBjb25zdCBwdWJsaWNLZXlKd2sgPSBhd2FpdCBleHBvcnRKd2soa2V5UGFpci5wdWJsaWNLZXkpO1xyXG4gICAgICAgIGNvbnN0IHB1YktleVRodW1wcmludE9iaiA9IHtcclxuICAgICAgICAgICAgZTogcHVibGljS2V5SndrLmUsXHJcbiAgICAgICAgICAgIGt0eTogcHVibGljS2V5SndrLmt0eSxcclxuICAgICAgICAgICAgbjogcHVibGljS2V5SndrLm4sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBwdWJsaWNKd2tTdHJpbmcgPSBnZXRTb3J0ZWRPYmplY3RTdHJpbmcocHViS2V5VGh1bXByaW50T2JqKTtcclxuICAgICAgICBjb25zdCBwdWJsaWNKd2tIYXNoID0gYXdhaXQgdGhpcy5oYXNoU3RyaW5nKHB1YmxpY0p3a1N0cmluZyk7XHJcbiAgICAgICAgLy8gR2VuZXJhdGUgVGh1bWJwcmludCBmb3IgUHJpdmF0ZSBLZXlcclxuICAgICAgICBjb25zdCBwcml2YXRlS2V5SndrID0gYXdhaXQgZXhwb3J0SndrKGtleVBhaXIucHJpdmF0ZUtleSk7XHJcbiAgICAgICAgLy8gUmUtaW1wb3J0IHByaXZhdGUga2V5IHRvIG1ha2UgaXQgdW5leHRyYWN0YWJsZVxyXG4gICAgICAgIGNvbnN0IHVuZXh0cmFjdGFibGVQcml2YXRlS2V5ID0gYXdhaXQgaW1wb3J0SndrKHByaXZhdGVLZXlKd2ssIGZhbHNlLCBbXCJzaWduXCJdKTtcclxuICAgICAgICAvLyBTdG9yZSBLZXlwYWlyIGRhdGEgaW4ga2V5c3RvcmVcclxuICAgICAgICBhd2FpdCB0aGlzLmNhY2hlLnNldEl0ZW0ocHVibGljSndrSGFzaCwge1xyXG4gICAgICAgICAgICBwcml2YXRlS2V5OiB1bmV4dHJhY3RhYmxlUHJpdmF0ZUtleSxcclxuICAgICAgICAgICAgcHVibGljS2V5OiBrZXlQYWlyLnB1YmxpY0tleSxcclxuICAgICAgICAgICAgcmVxdWVzdE1ldGhvZDogcmVxdWVzdC5yZXNvdXJjZVJlcXVlc3RNZXRob2QsXHJcbiAgICAgICAgICAgIHJlcXVlc3RVcmk6IHJlcXVlc3QucmVzb3VyY2VSZXF1ZXN0VXJpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChwdWJsaWNLZXlUaHVtYk1lYXN1cmVtZW50KSB7XHJcbiAgICAgICAgICAgIHB1YmxpY0tleVRodW1iTWVhc3VyZW1lbnQuZW5kKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcHVibGljSndrSGFzaDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBjcnlwdG9ncmFwaGljIGtleXBhaXIgZnJvbSBrZXkgc3RvcmUgbWF0Y2hpbmcgdGhlIGtleUlkIHBhc3NlZCBpblxyXG4gICAgICogQHBhcmFtIGtpZFxyXG4gICAgICovXHJcbiAgICBhc3luYyByZW1vdmVUb2tlbkJpbmRpbmdLZXkoa2lkKSB7XHJcbiAgICAgICAgYXdhaXQgdGhpcy5jYWNoZS5yZW1vdmVJdGVtKGtpZCk7XHJcbiAgICAgICAgY29uc3Qga2V5Rm91bmQgPSBhd2FpdCB0aGlzLmNhY2hlLmNvbnRhaW5zS2V5KGtpZCk7XHJcbiAgICAgICAgcmV0dXJuICFrZXlGb3VuZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBhbGwgY3J5cHRvZ3JhcGhpYyBrZXlzIGZyb20gSW5kZXhlZERCIHN0b3JhZ2VcclxuICAgICAqL1xyXG4gICAgYXN5bmMgY2xlYXJLZXlzdG9yZSgpIHtcclxuICAgICAgICAvLyBEZWxldGUgaW4tbWVtb3J5IGtleXN0b3Jlc1xyXG4gICAgICAgIHRoaXMuY2FjaGUuY2xlYXJJbk1lbW9yeSgpO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZXJlIGlzIG9ubHkgb25lIGRhdGFiYXNlLCBzbyBjYWxsaW5nIGNsZWFyUGVyc2lzdGVudCBvbiBhc3ltbWV0cmljIGtleXN0b3JlIHRha2VzIGNhcmUgb2ZcclxuICAgICAgICAgKiBldmVyeSBwZXJzaXN0ZW50IGtleXN0b3JlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWNoZS5jbGVhclBlcnNpc3RlbnQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKGBDbGVhcmluZyBrZXlzdG9yZSBmYWlsZWQgd2l0aCBlcnJvcjogJHtlLm1lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIkNsZWFyaW5nIGtleXN0b3JlIGZhaWxlZCB3aXRoIHVua25vd24gZXJyb3JcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2lnbnMgdGhlIGdpdmVuIG9iamVjdCBhcyBhIGp3dCBwYXlsb2FkIHdpdGggcHJpdmF0ZSBrZXkgcmV0cmlldmVkIGJ5IGdpdmVuIGtpZC5cclxuICAgICAqIEBwYXJhbSBwYXlsb2FkXHJcbiAgICAgKiBAcGFyYW0ga2lkXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHNpZ25Kd3QocGF5bG9hZCwga2lkLCBzaHJPcHRpb25zLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgY29uc3Qgc2lnbkp3dE1lYXN1cmVtZW50ID0gdGhpcy5wZXJmb3JtYW5jZUNsaWVudD8uc3RhcnRNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5DcnlwdG9PcHRzU2lnbkp3dCwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgY29uc3QgY2FjaGVkS2V5UGFpciA9IGF3YWl0IHRoaXMuY2FjaGUuZ2V0SXRlbShraWQpO1xyXG4gICAgICAgIGlmICghY2FjaGVkS2V5UGFpcikge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVCcm93c2VyQXV0aEVycm9yKGNyeXB0b0tleU5vdEZvdW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gR2V0IHB1YmxpYyBrZXkgYXMgSldLXHJcbiAgICAgICAgY29uc3QgcHVibGljS2V5SndrID0gYXdhaXQgZXhwb3J0SndrKGNhY2hlZEtleVBhaXIucHVibGljS2V5KTtcclxuICAgICAgICBjb25zdCBwdWJsaWNLZXlKd2tTdHJpbmcgPSBnZXRTb3J0ZWRPYmplY3RTdHJpbmcocHVibGljS2V5SndrKTtcclxuICAgICAgICAvLyBCYXNlNjRVUkwgZW5jb2RlIHB1YmxpYyBrZXkgdGh1bWJwcmludCB3aXRoIGtleUlkIG9ubHk6IEJBU0U2NFVSTCh7IGtpZDogXCJGVUxMX1BVQkxJQ19LRVlfSEFTSFwiIH0pXHJcbiAgICAgICAgY29uc3QgZW5jb2RlZEtleUlkVGh1bWJwcmludCA9IHVybEVuY29kZShKU09OLnN0cmluZ2lmeSh7IGtpZDoga2lkIH0pKTtcclxuICAgICAgICAvLyBHZW5lcmF0ZSBoZWFkZXJcclxuICAgICAgICBjb25zdCBzaHJIZWFkZXIgPSBKb3NlSGVhZGVyLmdldFNockhlYWRlclN0cmluZyh7XHJcbiAgICAgICAgICAgIC4uLnNock9wdGlvbnM/LmhlYWRlcixcclxuICAgICAgICAgICAgYWxnOiBwdWJsaWNLZXlKd2suYWxnLFxyXG4gICAgICAgICAgICBraWQ6IGVuY29kZWRLZXlJZFRodW1icHJpbnQsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3QgZW5jb2RlZFNockhlYWRlciA9IHVybEVuY29kZShzaHJIZWFkZXIpO1xyXG4gICAgICAgIC8vIEdlbmVyYXRlIHBheWxvYWRcclxuICAgICAgICBwYXlsb2FkLmNuZiA9IHtcclxuICAgICAgICAgICAgandrOiBKU09OLnBhcnNlKHB1YmxpY0tleUp3a1N0cmluZyksXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBlbmNvZGVkUGF5bG9hZCA9IHVybEVuY29kZShKU09OLnN0cmluZ2lmeShwYXlsb2FkKSk7XHJcbiAgICAgICAgLy8gRm9ybSB0b2tlbiBzdHJpbmdcclxuICAgICAgICBjb25zdCB0b2tlblN0cmluZyA9IGAke2VuY29kZWRTaHJIZWFkZXJ9LiR7ZW5jb2RlZFBheWxvYWR9YDtcclxuICAgICAgICAvLyBTaWduIHRva2VuXHJcbiAgICAgICAgY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuQnVmZmVyID0gZW5jb2Rlci5lbmNvZGUodG9rZW5TdHJpbmcpO1xyXG4gICAgICAgIGNvbnN0IHNpZ25hdHVyZUJ1ZmZlciA9IGF3YWl0IHNpZ24oY2FjaGVkS2V5UGFpci5wcml2YXRlS2V5LCB0b2tlbkJ1ZmZlcik7XHJcbiAgICAgICAgY29uc3QgZW5jb2RlZFNpZ25hdHVyZSA9IHVybEVuY29kZUFycihuZXcgVWludDhBcnJheShzaWduYXR1cmVCdWZmZXIpKTtcclxuICAgICAgICBjb25zdCBzaWduZWRKd3QgPSBgJHt0b2tlblN0cmluZ30uJHtlbmNvZGVkU2lnbmF0dXJlfWA7XHJcbiAgICAgICAgaWYgKHNpZ25Kd3RNZWFzdXJlbWVudCkge1xyXG4gICAgICAgICAgICBzaWduSnd0TWVhc3VyZW1lbnQuZW5kKHtcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2lnbmVkSnd0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBTSEEtMjU2IGhhc2ggb2YgYW4gaW5wdXQgc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gcGxhaW5UZXh0XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGhhc2hTdHJpbmcocGxhaW5UZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIGhhc2hTdHJpbmcocGxhaW5UZXh0KTtcclxuICAgIH1cclxufVxyXG5DcnlwdG9PcHMuUE9QX0tFWV9VU0FHRVMgPSBbXCJzaWduXCIsIFwidmVyaWZ5XCJdO1xyXG5DcnlwdG9PcHMuRVhUUkFDVEFCTEUgPSB0cnVlO1xyXG5mdW5jdGlvbiBnZXRTb3J0ZWRPYmplY3RTdHJpbmcob2JqKSB7XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCBPYmplY3Qua2V5cyhvYmopLnNvcnQoKSk7XHJcbn1cblxuZXhwb3J0IHsgQ3J5cHRvT3BzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DcnlwdG9PcHMubWpzLm1hcFxuIl0sIm5hbWVzIjpbIlBlcmZvcm1hbmNlRXZlbnRzIiwiSm9zZUhlYWRlciIsImJhc2U2NEVuY29kZSIsInVybEVuY29kZSIsInVybEVuY29kZUFyciIsImJhc2U2NERlY29kZSIsInZhbGlkYXRlQ3J5cHRvQXZhaWxhYmxlIiwiY3JlYXRlTmV3R3VpZCIsImdlbmVyYXRlS2V5UGFpciIsImV4cG9ydEp3ayIsImltcG9ydEp3ayIsInNpZ24iLCJoYXNoU3RyaW5nIiwiY3JlYXRlQnJvd3NlckF1dGhFcnJvciIsIkFzeW5jTWVtb3J5U3RvcmFnZSIsImNyeXB0b0tleU5vdEZvdW5kIiwiQ3J5cHRvT3BzIiwiY29uc3RydWN0b3IiLCJsb2dnZXIiLCJwZXJmb3JtYW5jZUNsaWVudCIsImNhY2hlIiwiaW5wdXQiLCJiYXNlNjRVcmxFbmNvZGUiLCJlbmNvZGVLaWQiLCJpbnB1dEtpZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJraWQiLCJnZXRQdWJsaWNLZXlUaHVtYnByaW50IiwicmVxdWVzdCIsInB1YmxpY0tleVRodW1iTWVhc3VyZW1lbnQiLCJzdGFydE1lYXN1cmVtZW50IiwiQ3J5cHRvT3B0c0dldFB1YmxpY0tleVRodW1icHJpbnQiLCJjb3JyZWxhdGlvbklkIiwia2V5UGFpciIsIkVYVFJBQ1RBQkxFIiwiUE9QX0tFWV9VU0FHRVMiLCJwdWJsaWNLZXlKd2siLCJwdWJsaWNLZXkiLCJwdWJLZXlUaHVtcHJpbnRPYmoiLCJlIiwia3R5IiwibiIsInB1YmxpY0p3a1N0cmluZyIsImdldFNvcnRlZE9iamVjdFN0cmluZyIsInB1YmxpY0p3a0hhc2giLCJwcml2YXRlS2V5SndrIiwicHJpdmF0ZUtleSIsInVuZXh0cmFjdGFibGVQcml2YXRlS2V5Iiwic2V0SXRlbSIsInJlcXVlc3RNZXRob2QiLCJyZXNvdXJjZVJlcXVlc3RNZXRob2QiLCJyZXF1ZXN0VXJpIiwicmVzb3VyY2VSZXF1ZXN0VXJpIiwiZW5kIiwic3VjY2VzcyIsInJlbW92ZVRva2VuQmluZGluZ0tleSIsInJlbW92ZUl0ZW0iLCJrZXlGb3VuZCIsImNvbnRhaW5zS2V5IiwiY2xlYXJLZXlzdG9yZSIsImNsZWFySW5NZW1vcnkiLCJjbGVhclBlcnNpc3RlbnQiLCJFcnJvciIsImVycm9yIiwibWVzc2FnZSIsInNpZ25Kd3QiLCJwYXlsb2FkIiwic2hyT3B0aW9ucyIsInNpZ25Kd3RNZWFzdXJlbWVudCIsIkNyeXB0b09wdHNTaWduSnd0IiwiY2FjaGVkS2V5UGFpciIsImdldEl0ZW0iLCJwdWJsaWNLZXlKd2tTdHJpbmciLCJlbmNvZGVkS2V5SWRUaHVtYnByaW50Iiwic2hySGVhZGVyIiwiZ2V0U2hySGVhZGVyU3RyaW5nIiwiaGVhZGVyIiwiYWxnIiwiZW5jb2RlZFNockhlYWRlciIsImNuZiIsImp3ayIsInBhcnNlIiwiZW5jb2RlZFBheWxvYWQiLCJ0b2tlblN0cmluZyIsImVuY29kZXIiLCJUZXh0RW5jb2RlciIsInRva2VuQnVmZmVyIiwiZW5jb2RlIiwic2lnbmF0dXJlQnVmZmVyIiwiZW5jb2RlZFNpZ25hdHVyZSIsIlVpbnQ4QXJyYXkiLCJzaWduZWRKd3QiLCJwbGFpblRleHQiLCJvYmoiLCJPYmplY3QiLCJrZXlzIiwic29ydCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/crypto/CryptoOps.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/crypto/PkceGenerator.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/crypto/PkceGenerator.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generatePkceCodes: () => (/* binding */ generatePkceCodes)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../encode/Base64Encode.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/encode/Base64Encode.mjs\");\n/* harmony import */ var _BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BrowserCrypto.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/crypto/BrowserCrypto.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ // Constant byte array length\nconst RANDOM_BYTE_ARR_LENGTH = 32;\n/**\r\n * This file defines APIs to generate PKCE codes and code verifiers.\r\n */ /**\r\n * Generates PKCE Codes. See the RFC for more information: https://tools.ietf.org/html/rfc7636\r\n */ async function generatePkceCodes(performanceClient, logger, correlationId) {\n    performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.GeneratePkceCodes, correlationId);\n    const codeVerifier = (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.invoke)(generateCodeVerifier, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.GenerateCodeVerifier, logger, performanceClient, correlationId)(performanceClient, logger, correlationId);\n    const codeChallenge = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.invokeAsync)(generateCodeChallengeFromVerifier, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.GenerateCodeChallengeFromVerifier, logger, performanceClient, correlationId)(codeVerifier, performanceClient, logger, correlationId);\n    return {\n        verifier: codeVerifier,\n        challenge: codeChallenge\n    };\n}\n/**\r\n * Generates a random 32 byte buffer and returns the base64\r\n * encoded string to be used as a PKCE Code Verifier\r\n */ function generateCodeVerifier(performanceClient, logger, correlationId) {\n    try {\n        // Generate random values as utf-8\n        const buffer = new Uint8Array(RANDOM_BYTE_ARR_LENGTH);\n        (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.invoke)(_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_2__.getRandomValues, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.GetRandomValues, logger, performanceClient, correlationId)(buffer);\n        // encode verifier as base64\n        const pkceCodeVerifierB64 = (0,_encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_3__.urlEncodeArr)(buffer);\n        return pkceCodeVerifierB64;\n    } catch (e) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.pkceNotCreated);\n    }\n}\n/**\r\n * Creates a base64 encoded PKCE Code Challenge string from the\r\n * hash created from the PKCE Code Verifier supplied\r\n */ async function generateCodeChallengeFromVerifier(pkceCodeVerifier, performanceClient, logger, correlationId) {\n    performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.GenerateCodeChallengeFromVerifier, correlationId);\n    try {\n        // hashed verifier\n        const pkceHashedCodeVerifier = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.invokeAsync)(_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_2__.sha256Digest, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.Sha256Digest, logger, performanceClient, correlationId)(pkceCodeVerifier, performanceClient, correlationId);\n        // encode hash as base64\n        return (0,_encode_Base64Encode_mjs__WEBPACK_IMPORTED_MODULE_3__.urlEncodeArr)(new Uint8Array(pkceHashedCodeVerifier));\n    } catch (e) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.pkceNotCreated);\n    }\n}\n //# sourceMappingURL=PkceGenerator.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2NyeXB0by9Qa2NlR2VuZXJhdG9yLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ29GO0FBQ2I7QUFDYjtBQUNVO0FBQ0E7QUFFcEU7OztDQUdDLEdBQ0QsNkJBQTZCO0FBQzdCLE1BQU1RLHlCQUF5QjtBQUMvQjs7Q0FFQyxHQUNEOztDQUVDLEdBQ0QsZUFBZUMsa0JBQWtCQyxpQkFBaUIsRUFBRUMsTUFBTSxFQUFFQyxhQUFhO0lBQ3JFRixrQkFBa0JHLG1CQUFtQixDQUFDYix5RUFBaUJBLENBQUNjLGlCQUFpQixFQUFFRjtJQUMzRSxNQUFNRyxlQUFlZCxrRUFBTUEsQ0FBQ2Usc0JBQXNCaEIseUVBQWlCQSxDQUFDaUIsb0JBQW9CLEVBQUVOLFFBQVFELG1CQUFtQkUsZUFBZUYsbUJBQW1CQyxRQUFRQztJQUMvSixNQUFNTSxnQkFBZ0IsTUFBTWhCLHVFQUFXQSxDQUFDaUIsbUNBQW1DbkIseUVBQWlCQSxDQUFDb0IsaUNBQWlDLEVBQUVULFFBQVFELG1CQUFtQkUsZUFBZUcsY0FBY0wsbUJBQW1CQyxRQUFRQztJQUNuTixPQUFPO1FBQ0hTLFVBQVVOO1FBQ1ZPLFdBQVdKO0lBQ2Y7QUFDSjtBQUNBOzs7Q0FHQyxHQUNELFNBQVNGLHFCQUFxQk4saUJBQWlCLEVBQUVDLE1BQU0sRUFBRUMsYUFBYTtJQUNsRSxJQUFJO1FBQ0Esa0NBQWtDO1FBQ2xDLE1BQU1XLFNBQVMsSUFBSUMsV0FBV2hCO1FBQzlCUCxrRUFBTUEsQ0FBQ0ksK0RBQWVBLEVBQUVMLHlFQUFpQkEsQ0FBQ3lCLGVBQWUsRUFBRWQsUUFBUUQsbUJBQW1CRSxlQUFlVztRQUNyRyw0QkFBNEI7UUFDNUIsTUFBTUcsc0JBQXNCdEIsc0VBQVlBLENBQUNtQjtRQUN6QyxPQUFPRztJQUNYLEVBQ0EsT0FBT0MsR0FBRztRQUNOLE1BQU14QixtRkFBc0JBLENBQUNJLDRFQUFjQTtJQUMvQztBQUNKO0FBQ0E7OztDQUdDLEdBQ0QsZUFBZVksa0NBQWtDUyxnQkFBZ0IsRUFBRWxCLGlCQUFpQixFQUFFQyxNQUFNLEVBQUVDLGFBQWE7SUFDdkdGLGtCQUFrQkcsbUJBQW1CLENBQUNiLHlFQUFpQkEsQ0FBQ29CLGlDQUFpQyxFQUFFUjtJQUMzRixJQUFJO1FBQ0Esa0JBQWtCO1FBQ2xCLE1BQU1pQix5QkFBeUIsTUFBTTNCLHVFQUFXQSxDQUFDSSw0REFBWUEsRUFBRU4seUVBQWlCQSxDQUFDOEIsWUFBWSxFQUFFbkIsUUFBUUQsbUJBQW1CRSxlQUFlZ0Isa0JBQWtCbEIsbUJBQW1CRTtRQUM5Syx3QkFBd0I7UUFDeEIsT0FBT1Isc0VBQVlBLENBQUMsSUFBSW9CLFdBQVdLO0lBQ3ZDLEVBQ0EsT0FBT0YsR0FBRztRQUNOLE1BQU14QixtRkFBc0JBLENBQUNJLDRFQUFjQTtJQUMvQztBQUNKO0FBRTZCLENBQzdCLDBDQUEwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvY3J5cHRvL1BrY2VHZW5lcmF0b3IubWpzPzg3ZDQiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBQZXJmb3JtYW5jZUV2ZW50cywgaW52b2tlLCBpbnZva2VBc3luYyB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbi9icm93c2VyJztcbmltcG9ydCB7IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyB1cmxFbmNvZGVBcnIgfSBmcm9tICcuLi9lbmNvZGUvQmFzZTY0RW5jb2RlLm1qcyc7XG5pbXBvcnQgeyBnZXRSYW5kb21WYWx1ZXMsIHNoYTI1NkRpZ2VzdCB9IGZyb20gJy4vQnJvd3NlckNyeXB0by5tanMnO1xuaW1wb3J0IHsgcGtjZU5vdENyZWF0ZWQgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8vIENvbnN0YW50IGJ5dGUgYXJyYXkgbGVuZ3RoXHJcbmNvbnN0IFJBTkRPTV9CWVRFX0FSUl9MRU5HVEggPSAzMjtcclxuLyoqXHJcbiAqIFRoaXMgZmlsZSBkZWZpbmVzIEFQSXMgdG8gZ2VuZXJhdGUgUEtDRSBjb2RlcyBhbmQgY29kZSB2ZXJpZmllcnMuXHJcbiAqL1xyXG4vKipcclxuICogR2VuZXJhdGVzIFBLQ0UgQ29kZXMuIFNlZSB0aGUgUkZDIGZvciBtb3JlIGluZm9ybWF0aW9uOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNzYzNlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVQa2NlQ29kZXMocGVyZm9ybWFuY2VDbGllbnQsIGxvZ2dlciwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgcGVyZm9ybWFuY2VDbGllbnQuYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5HZW5lcmF0ZVBrY2VDb2RlcywgY29ycmVsYXRpb25JZCk7XHJcbiAgICBjb25zdCBjb2RlVmVyaWZpZXIgPSBpbnZva2UoZ2VuZXJhdGVDb2RlVmVyaWZpZXIsIFBlcmZvcm1hbmNlRXZlbnRzLkdlbmVyYXRlQ29kZVZlcmlmaWVyLCBsb2dnZXIsIHBlcmZvcm1hbmNlQ2xpZW50LCBjb3JyZWxhdGlvbklkKShwZXJmb3JtYW5jZUNsaWVudCwgbG9nZ2VyLCBjb3JyZWxhdGlvbklkKTtcclxuICAgIGNvbnN0IGNvZGVDaGFsbGVuZ2UgPSBhd2FpdCBpbnZva2VBc3luYyhnZW5lcmF0ZUNvZGVDaGFsbGVuZ2VGcm9tVmVyaWZpZXIsIFBlcmZvcm1hbmNlRXZlbnRzLkdlbmVyYXRlQ29kZUNoYWxsZW5nZUZyb21WZXJpZmllciwgbG9nZ2VyLCBwZXJmb3JtYW5jZUNsaWVudCwgY29ycmVsYXRpb25JZCkoY29kZVZlcmlmaWVyLCBwZXJmb3JtYW5jZUNsaWVudCwgbG9nZ2VyLCBjb3JyZWxhdGlvbklkKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgdmVyaWZpZXI6IGNvZGVWZXJpZmllcixcclxuICAgICAgICBjaGFsbGVuZ2U6IGNvZGVDaGFsbGVuZ2UsXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSByYW5kb20gMzIgYnl0ZSBidWZmZXIgYW5kIHJldHVybnMgdGhlIGJhc2U2NFxyXG4gKiBlbmNvZGVkIHN0cmluZyB0byBiZSB1c2VkIGFzIGEgUEtDRSBDb2RlIFZlcmlmaWVyXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUNvZGVWZXJpZmllcihwZXJmb3JtYW5jZUNsaWVudCwgbG9nZ2VyLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIEdlbmVyYXRlIHJhbmRvbSB2YWx1ZXMgYXMgdXRmLThcclxuICAgICAgICBjb25zdCBidWZmZXIgPSBuZXcgVWludDhBcnJheShSQU5ET01fQllURV9BUlJfTEVOR1RIKTtcclxuICAgICAgICBpbnZva2UoZ2V0UmFuZG9tVmFsdWVzLCBQZXJmb3JtYW5jZUV2ZW50cy5HZXRSYW5kb21WYWx1ZXMsIGxvZ2dlciwgcGVyZm9ybWFuY2VDbGllbnQsIGNvcnJlbGF0aW9uSWQpKGJ1ZmZlcik7XHJcbiAgICAgICAgLy8gZW5jb2RlIHZlcmlmaWVyIGFzIGJhc2U2NFxyXG4gICAgICAgIGNvbnN0IHBrY2VDb2RlVmVyaWZpZXJCNjQgPSB1cmxFbmNvZGVBcnIoYnVmZmVyKTtcclxuICAgICAgICByZXR1cm4gcGtjZUNvZGVWZXJpZmllckI2NDtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihwa2NlTm90Q3JlYXRlZCk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBiYXNlNjQgZW5jb2RlZCBQS0NFIENvZGUgQ2hhbGxlbmdlIHN0cmluZyBmcm9tIHRoZVxyXG4gKiBoYXNoIGNyZWF0ZWQgZnJvbSB0aGUgUEtDRSBDb2RlIFZlcmlmaWVyIHN1cHBsaWVkXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUNvZGVDaGFsbGVuZ2VGcm9tVmVyaWZpZXIocGtjZUNvZGVWZXJpZmllciwgcGVyZm9ybWFuY2VDbGllbnQsIGxvZ2dlciwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgcGVyZm9ybWFuY2VDbGllbnQuYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5HZW5lcmF0ZUNvZGVDaGFsbGVuZ2VGcm9tVmVyaWZpZXIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBoYXNoZWQgdmVyaWZpZXJcclxuICAgICAgICBjb25zdCBwa2NlSGFzaGVkQ29kZVZlcmlmaWVyID0gYXdhaXQgaW52b2tlQXN5bmMoc2hhMjU2RGlnZXN0LCBQZXJmb3JtYW5jZUV2ZW50cy5TaGEyNTZEaWdlc3QsIGxvZ2dlciwgcGVyZm9ybWFuY2VDbGllbnQsIGNvcnJlbGF0aW9uSWQpKHBrY2VDb2RlVmVyaWZpZXIsIHBlcmZvcm1hbmNlQ2xpZW50LCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAvLyBlbmNvZGUgaGFzaCBhcyBiYXNlNjRcclxuICAgICAgICByZXR1cm4gdXJsRW5jb2RlQXJyKG5ldyBVaW50OEFycmF5KHBrY2VIYXNoZWRDb2RlVmVyaWZpZXIpKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihwa2NlTm90Q3JlYXRlZCk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgZ2VuZXJhdGVQa2NlQ29kZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBrY2VHZW5lcmF0b3IubWpzLm1hcFxuIl0sIm5hbWVzIjpbIlBlcmZvcm1hbmNlRXZlbnRzIiwiaW52b2tlIiwiaW52b2tlQXN5bmMiLCJjcmVhdGVCcm93c2VyQXV0aEVycm9yIiwidXJsRW5jb2RlQXJyIiwiZ2V0UmFuZG9tVmFsdWVzIiwic2hhMjU2RGlnZXN0IiwicGtjZU5vdENyZWF0ZWQiLCJSQU5ET01fQllURV9BUlJfTEVOR1RIIiwiZ2VuZXJhdGVQa2NlQ29kZXMiLCJwZXJmb3JtYW5jZUNsaWVudCIsImxvZ2dlciIsImNvcnJlbGF0aW9uSWQiLCJhZGRRdWV1ZU1lYXN1cmVtZW50IiwiR2VuZXJhdGVQa2NlQ29kZXMiLCJjb2RlVmVyaWZpZXIiLCJnZW5lcmF0ZUNvZGVWZXJpZmllciIsIkdlbmVyYXRlQ29kZVZlcmlmaWVyIiwiY29kZUNoYWxsZW5nZSIsImdlbmVyYXRlQ29kZUNoYWxsZW5nZUZyb21WZXJpZmllciIsIkdlbmVyYXRlQ29kZUNoYWxsZW5nZUZyb21WZXJpZmllciIsInZlcmlmaWVyIiwiY2hhbGxlbmdlIiwiYnVmZmVyIiwiVWludDhBcnJheSIsIkdldFJhbmRvbVZhbHVlcyIsInBrY2VDb2RlVmVyaWZpZXJCNjQiLCJlIiwicGtjZUNvZGVWZXJpZmllciIsInBrY2VIYXNoZWRDb2RlVmVyaWZpZXIiLCJTaGEyNTZEaWdlc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/crypto/PkceGenerator.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/encode/Base64Decode.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/encode/Base64Decode.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base64Decode: () => (/* binding */ base64Decode)\n/* harmony export */ });\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Class which exposes APIs to decode base64 strings to plaintext. See here for implementation details:\r\n * https://developer.mozilla.org/en-US/docs/Glossary/Base64#the_unicode_problem\r\n */ /**\r\n * Returns a URL-safe plaintext decoded string from b64 encoded input.\r\n * @param input\r\n */ function base64Decode(input) {\n    return new TextDecoder().decode(base64DecToArr(input));\n}\n/**\r\n * Decodes base64 into Uint8Array\r\n * @param base64String\r\n */ function base64DecToArr(base64String) {\n    let encodedString = base64String.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    switch(encodedString.length % 4){\n        case 0:\n            break;\n        case 2:\n            encodedString += \"==\";\n            break;\n        case 3:\n            encodedString += \"=\";\n            break;\n        default:\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.invalidBase64String);\n    }\n    const binString = atob(encodedString);\n    return Uint8Array.from(binString, (m)=>m.codePointAt(0) || 0);\n}\n //# sourceMappingURL=Base64Decode.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2VuY29kZS9CYXNlNjREZWNvZGUubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUN1RTtBQUNFO0FBRXpFOzs7Q0FHQyxHQUNEOzs7Q0FHQyxHQUNEOzs7Q0FHQyxHQUNELFNBQVNFLGFBQWFDLEtBQUs7SUFDdkIsT0FBTyxJQUFJQyxjQUFjQyxNQUFNLENBQUNDLGVBQWVIO0FBQ25EO0FBQ0E7OztDQUdDLEdBQ0QsU0FBU0csZUFBZUMsWUFBWTtJQUNoQyxJQUFJQyxnQkFBZ0JELGFBQWFFLE9BQU8sQ0FBQyxNQUFNLEtBQUtBLE9BQU8sQ0FBQyxNQUFNO0lBQ2xFLE9BQVFELGNBQWNFLE1BQU0sR0FBRztRQUMzQixLQUFLO1lBQ0Q7UUFDSixLQUFLO1lBQ0RGLGlCQUFpQjtZQUNqQjtRQUNKLEtBQUs7WUFDREEsaUJBQWlCO1lBQ2pCO1FBQ0o7WUFDSSxNQUFNUixtRkFBc0JBLENBQUNDLGlGQUFtQkE7SUFDeEQ7SUFDQSxNQUFNVSxZQUFZQyxLQUFLSjtJQUN2QixPQUFPSyxXQUFXQyxJQUFJLENBQUNILFdBQVcsQ0FBQ0ksSUFBTUEsRUFBRUMsV0FBVyxDQUFDLE1BQU07QUFDakU7QUFFd0IsQ0FDeEIseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9lbmNvZGUvQmFzZTY0RGVjb2RlLm1qcz9iYzJhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgY3JlYXRlQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IGludmFsaWRCYXNlNjRTdHJpbmcgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDbGFzcyB3aGljaCBleHBvc2VzIEFQSXMgdG8gZGVjb2RlIGJhc2U2NCBzdHJpbmdzIHRvIHBsYWludGV4dC4gU2VlIGhlcmUgZm9yIGltcGxlbWVudGF0aW9uIGRldGFpbHM6XHJcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvR2xvc3NhcnkvQmFzZTY0I3RoZV91bmljb2RlX3Byb2JsZW1cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgVVJMLXNhZmUgcGxhaW50ZXh0IGRlY29kZWQgc3RyaW5nIGZyb20gYjY0IGVuY29kZWQgaW5wdXQuXHJcbiAqIEBwYXJhbSBpbnB1dFxyXG4gKi9cclxuZnVuY3Rpb24gYmFzZTY0RGVjb2RlKGlucHV0KSB7XHJcbiAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKGJhc2U2NERlY1RvQXJyKGlucHV0KSk7XHJcbn1cclxuLyoqXHJcbiAqIERlY29kZXMgYmFzZTY0IGludG8gVWludDhBcnJheVxyXG4gKiBAcGFyYW0gYmFzZTY0U3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBiYXNlNjREZWNUb0FycihiYXNlNjRTdHJpbmcpIHtcclxuICAgIGxldCBlbmNvZGVkU3RyaW5nID0gYmFzZTY0U3RyaW5nLnJlcGxhY2UoLy0vZywgXCIrXCIpLnJlcGxhY2UoL18vZywgXCIvXCIpO1xyXG4gICAgc3dpdGNoIChlbmNvZGVkU3RyaW5nLmxlbmd0aCAlIDQpIHtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgZW5jb2RlZFN0cmluZyArPSBcIj09XCI7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgZW5jb2RlZFN0cmluZyArPSBcIj1cIjtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihpbnZhbGlkQmFzZTY0U3RyaW5nKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGJpblN0cmluZyA9IGF0b2IoZW5jb2RlZFN0cmluZyk7XHJcbiAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKGJpblN0cmluZywgKG0pID0+IG0uY29kZVBvaW50QXQoMCkgfHwgMCk7XHJcbn1cblxuZXhwb3J0IHsgYmFzZTY0RGVjb2RlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1CYXNlNjREZWNvZGUubWpzLm1hcFxuIl0sIm5hbWVzIjpbImNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IiLCJpbnZhbGlkQmFzZTY0U3RyaW5nIiwiYmFzZTY0RGVjb2RlIiwiaW5wdXQiLCJUZXh0RGVjb2RlciIsImRlY29kZSIsImJhc2U2NERlY1RvQXJyIiwiYmFzZTY0U3RyaW5nIiwiZW5jb2RlZFN0cmluZyIsInJlcGxhY2UiLCJsZW5ndGgiLCJiaW5TdHJpbmciLCJhdG9iIiwiVWludDhBcnJheSIsImZyb20iLCJtIiwiY29kZVBvaW50QXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/encode/Base64Decode.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/encode/Base64Encode.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/encode/Base64Encode.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base64Encode: () => (/* binding */ base64Encode),\n/* harmony export */   urlEncode: () => (/* binding */ urlEncode),\n/* harmony export */   urlEncodeArr: () => (/* binding */ urlEncodeArr)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Class which exposes APIs to encode plaintext to base64 encoded string. See here for implementation details:\r\n * https://developer.mozilla.org/en-US/docs/Web/API/WindowBase64/Base64_encoding_and_decoding#Solution_2_%E2%80%93_JavaScript's_UTF-16_%3E_UTF-8_%3E_base64\r\n */ /**\r\n * Returns URL Safe b64 encoded string from a plaintext string.\r\n * @param input\r\n */ function urlEncode(input) {\n    return encodeURIComponent(base64Encode(input).replace(/=/g, \"\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\"));\n}\n/**\r\n * Returns URL Safe b64 encoded string from an int8Array.\r\n * @param inputArr\r\n */ function urlEncodeArr(inputArr) {\n    return base64EncArr(inputArr).replace(/=/g, \"\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n}\n/**\r\n * Returns b64 encoded string from plaintext string.\r\n * @param input\r\n */ function base64Encode(input) {\n    return base64EncArr(new TextEncoder().encode(input));\n}\n/**\r\n * Base64 encode byte array\r\n * @param aBytes\r\n */ function base64EncArr(aBytes) {\n    const binString = Array.from(aBytes, (x)=>String.fromCodePoint(x)).join(\"\");\n    return btoa(binString);\n}\n //# sourceMappingURL=Base64Encode.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2VuY29kZS9CYXNlNjRFbmNvZGUubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBOzs7Q0FHQyxHQUNEOzs7Q0FHQyxHQUNEOzs7Q0FHQyxHQUNELFNBQVNBLFVBQVVDLEtBQUs7SUFDcEIsT0FBT0MsbUJBQW1CQyxhQUFhRixPQUNsQ0csT0FBTyxDQUFDLE1BQU0sSUFDZEEsT0FBTyxDQUFDLE9BQU8sS0FDZkEsT0FBTyxDQUFDLE9BQU87QUFDeEI7QUFDQTs7O0NBR0MsR0FDRCxTQUFTQyxhQUFhQyxRQUFRO0lBQzFCLE9BQU9DLGFBQWFELFVBQ2ZGLE9BQU8sQ0FBQyxNQUFNLElBQ2RBLE9BQU8sQ0FBQyxPQUFPLEtBQ2ZBLE9BQU8sQ0FBQyxPQUFPO0FBQ3hCO0FBQ0E7OztDQUdDLEdBQ0QsU0FBU0QsYUFBYUYsS0FBSztJQUN2QixPQUFPTSxhQUFhLElBQUlDLGNBQWNDLE1BQU0sQ0FBQ1I7QUFDakQ7QUFDQTs7O0NBR0MsR0FDRCxTQUFTTSxhQUFhRyxNQUFNO0lBQ3hCLE1BQU1DLFlBQVlDLE1BQU1DLElBQUksQ0FBQ0gsUUFBUSxDQUFDSSxJQUFNQyxPQUFPQyxhQUFhLENBQUNGLElBQUlHLElBQUksQ0FBQztJQUMxRSxPQUFPQyxLQUFLUDtBQUNoQjtBQUVpRCxDQUNqRCx5Q0FBeUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2VuY29kZS9CYXNlNjRFbmNvZGUubWpzPzUwYTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENsYXNzIHdoaWNoIGV4cG9zZXMgQVBJcyB0byBlbmNvZGUgcGxhaW50ZXh0IHRvIGJhc2U2NCBlbmNvZGVkIHN0cmluZy4gU2VlIGhlcmUgZm9yIGltcGxlbWVudGF0aW9uIGRldGFpbHM6XHJcbiAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9XaW5kb3dCYXNlNjQvQmFzZTY0X2VuY29kaW5nX2FuZF9kZWNvZGluZyNTb2x1dGlvbl8yXyVFMiU4MCU5M19KYXZhU2NyaXB0J3NfVVRGLTE2XyUzRV9VVEYtOF8lM0VfYmFzZTY0XHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBVUkwgU2FmZSBiNjQgZW5jb2RlZCBzdHJpbmcgZnJvbSBhIHBsYWludGV4dCBzdHJpbmcuXHJcbiAqIEBwYXJhbSBpbnB1dFxyXG4gKi9cclxuZnVuY3Rpb24gdXJsRW5jb2RlKGlucHV0KSB7XHJcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGJhc2U2NEVuY29kZShpbnB1dClcclxuICAgICAgICAucmVwbGFjZSgvPS9nLCBcIlwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXCsvZywgXCItXCIpXHJcbiAgICAgICAgLnJlcGxhY2UoL1xcLy9nLCBcIl9cIikpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIFVSTCBTYWZlIGI2NCBlbmNvZGVkIHN0cmluZyBmcm9tIGFuIGludDhBcnJheS5cclxuICogQHBhcmFtIGlucHV0QXJyXHJcbiAqL1xyXG5mdW5jdGlvbiB1cmxFbmNvZGVBcnIoaW5wdXRBcnIpIHtcclxuICAgIHJldHVybiBiYXNlNjRFbmNBcnIoaW5wdXRBcnIpXHJcbiAgICAgICAgLnJlcGxhY2UoLz0vZywgXCJcIilcclxuICAgICAgICAucmVwbGFjZSgvXFwrL2csIFwiLVwiKVxyXG4gICAgICAgIC5yZXBsYWNlKC9cXC8vZywgXCJfXCIpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGI2NCBlbmNvZGVkIHN0cmluZyBmcm9tIHBsYWludGV4dCBzdHJpbmcuXHJcbiAqIEBwYXJhbSBpbnB1dFxyXG4gKi9cclxuZnVuY3Rpb24gYmFzZTY0RW5jb2RlKGlucHV0KSB7XHJcbiAgICByZXR1cm4gYmFzZTY0RW5jQXJyKG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShpbnB1dCkpO1xyXG59XHJcbi8qKlxyXG4gKiBCYXNlNjQgZW5jb2RlIGJ5dGUgYXJyYXlcclxuICogQHBhcmFtIGFCeXRlc1xyXG4gKi9cclxuZnVuY3Rpb24gYmFzZTY0RW5jQXJyKGFCeXRlcykge1xyXG4gICAgY29uc3QgYmluU3RyaW5nID0gQXJyYXkuZnJvbShhQnl0ZXMsICh4KSA9PiBTdHJpbmcuZnJvbUNvZGVQb2ludCh4KSkuam9pbihcIlwiKTtcclxuICAgIHJldHVybiBidG9hKGJpblN0cmluZyk7XHJcbn1cblxuZXhwb3J0IHsgYmFzZTY0RW5jb2RlLCB1cmxFbmNvZGUsIHVybEVuY29kZUFyciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZTY0RW5jb2RlLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJ1cmxFbmNvZGUiLCJpbnB1dCIsImVuY29kZVVSSUNvbXBvbmVudCIsImJhc2U2NEVuY29kZSIsInJlcGxhY2UiLCJ1cmxFbmNvZGVBcnIiLCJpbnB1dEFyciIsImJhc2U2NEVuY0FyciIsIlRleHRFbmNvZGVyIiwiZW5jb2RlIiwiYUJ5dGVzIiwiYmluU3RyaW5nIiwiQXJyYXkiLCJmcm9tIiwieCIsIlN0cmluZyIsImZyb21Db2RlUG9pbnQiLCJqb2luIiwiYnRvYSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/encode/Base64Encode.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BrowserAuthError: () => (/* binding */ BrowserAuthError),\n/* harmony export */   BrowserAuthErrorCodes: () => (/* reexport module object */ _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   BrowserAuthErrorMessage: () => (/* binding */ BrowserAuthErrorMessage),\n/* harmony export */   BrowserAuthErrorMessages: () => (/* binding */ BrowserAuthErrorMessages),\n/* harmony export */   createBrowserAuthError: () => (/* binding */ createBrowserAuthError)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const ErrorLink = \"For more visit: aka.ms/msaljs/browser-errors\";\n/**\r\n * BrowserAuthErrorMessage class containing string constants used by error codes and messages.\r\n */ const BrowserAuthErrorMessages = {\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.pkceNotCreated]: \"The PKCE code challenge and verifier could not be generated.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cryptoNonExistent]: \"The crypto object or function is not available.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.emptyNavigateUri]: \"Navigation URI is empty. Please check stack trace for more info.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.hashEmptyError]: `Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${ErrorLink}`,\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noStateInHash]: \"Hash does not contain state. Please verify that the request originated from msal.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.hashDoesNotContainKnownProperties]: `Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${ErrorLink}`,\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unableToParseState]: \"Unable to parse state. Please verify that the request originated from msal.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.stateInteractionTypeMismatch]: \"Hash contains state but the interaction type does not match the caller.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.interactionInProgress]: `Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${ErrorLink}`,\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.popupWindowError]: \"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.emptyWindowError]: \"window.open returned null or undefined window object.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.userCancelled]: \"User cancelled the flow.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.monitorPopupTimeout]: `Token acquisition in popup failed due to timeout.  ${ErrorLink}`,\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.monitorWindowTimeout]: `Token acquisition in iframe failed due to timeout.  ${ErrorLink}`,\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.redirectInIframe]: \"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.blockIframeReload]: `Request was blocked inside an iframe because MSAL detected an authentication response.  ${ErrorLink}`,\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.blockNestedPopups]: \"Request was blocked inside a popup because MSAL detected it was running in a popup.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.iframeClosedPrematurely]: \"The iframe being monitored was closed prematurely.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.silentLogoutUnsupported]: \"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noAccountError]: \"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.silentPromptValueError]: \"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noTokenRequestCacheError]: \"No token request found in cache.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unableToParseTokenRequestCacheError]: \"The cached token request could not be parsed.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noCachedAuthorityError]: \"No cached authority found.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authRequestNotSetError]: \"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCacheType]: \"Invalid cache type\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nonBrowserEnvironment]: \"Login and token requests are not supported in non-browser environments.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.databaseNotOpen]: \"Database is not open!\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noNetworkConnectivity]: \"No network connectivity. Check your internet connection.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.postRequestFailed]: \"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.getRequestFailed]: \"Network request failed. Please check the network trace to determine root cause.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.failedToParseResponse]: \"Failed to parse network response. Check network trace.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unableToLoadToken]: \"Error loading token to cache.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cryptoKeyNotFound]: \"Cryptographic Key or Keypair not found in browser storage.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authCodeRequired]: \"An authorization code must be provided (as the `code` property on the request) to this flow.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authCodeOrNativeAccountIdRequired]: \"An authorization code or nativeAccountId must be provided to this flow.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.spaCodeAndNativeAccountIdPresent]: \"Request cannot contain both spa code and native account id.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.databaseUnavailable]: \"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unableToAcquireTokenFromNativePlatform]: `Unable to acquire token from native platform.  ${ErrorLink}`,\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativeHandshakeTimeout]: \"Timed out while attempting to establish connection to browser extension\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativeExtensionNotInstalled]: \"Native extension is not installed. If you think this is a mistake call the initialize function.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativeConnectionNotEstablished]: `Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${ErrorLink}`,\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.uninitializedPublicClientApplication]: `You must call and await the initialize function before attempting to call any other MSAL API.  ${ErrorLink}`,\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativePromptNotSupported]: \"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidBase64String]: \"Invalid base64 encoded string.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidPopTokenRequest]: \"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.failedToBuildHeaders]: \"Failed to build request headers object.\",\n    [_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.failedToParseHeaders]: \"Failed to parse response headers\"\n};\n/**\r\n * BrowserAuthErrorMessage class containing string constants used by error codes and messages.\r\n * @deprecated Use exported BrowserAuthErrorCodes instead.\r\n * In your app you can do :\r\n * ```\r\n * import { BrowserAuthErrorCodes } from \"@azure/msal-browser\";\r\n * ```\r\n */ const BrowserAuthErrorMessage = {\n    pkceNotGenerated: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.pkceNotCreated,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.pkceNotCreated]\n    },\n    cryptoDoesNotExist: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cryptoNonExistent,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cryptoNonExistent]\n    },\n    emptyNavigateUriError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.emptyNavigateUri,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.emptyNavigateUri]\n    },\n    hashEmptyError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.hashEmptyError,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.hashEmptyError]\n    },\n    hashDoesNotContainStateError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noStateInHash,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noStateInHash]\n    },\n    hashDoesNotContainKnownPropertiesError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.hashDoesNotContainKnownProperties,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.hashDoesNotContainKnownProperties]\n    },\n    unableToParseStateError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unableToParseState,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unableToParseState]\n    },\n    stateInteractionTypeMismatchError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.stateInteractionTypeMismatch,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.stateInteractionTypeMismatch]\n    },\n    interactionInProgress: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.interactionInProgress,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.interactionInProgress]\n    },\n    popupWindowError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.popupWindowError,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.popupWindowError]\n    },\n    emptyWindowError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.emptyWindowError,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.emptyWindowError]\n    },\n    userCancelledError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.userCancelled,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.userCancelled]\n    },\n    monitorPopupTimeoutError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.monitorPopupTimeout,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.monitorPopupTimeout]\n    },\n    monitorIframeTimeoutError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.monitorWindowTimeout,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.monitorWindowTimeout]\n    },\n    redirectInIframeError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.redirectInIframe,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.redirectInIframe]\n    },\n    blockTokenRequestsInHiddenIframeError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.blockIframeReload,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.blockIframeReload]\n    },\n    blockAcquireTokenInPopupsError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.blockNestedPopups,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.blockNestedPopups]\n    },\n    iframeClosedPrematurelyError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.iframeClosedPrematurely,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.iframeClosedPrematurely]\n    },\n    silentLogoutUnsupportedError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.silentLogoutUnsupported,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.silentLogoutUnsupported]\n    },\n    noAccountError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noAccountError,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noAccountError]\n    },\n    silentPromptValueError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.silentPromptValueError,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.silentPromptValueError]\n    },\n    noTokenRequestCacheError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noTokenRequestCacheError,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noTokenRequestCacheError]\n    },\n    unableToParseTokenRequestCacheError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unableToParseTokenRequestCacheError,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unableToParseTokenRequestCacheError]\n    },\n    noCachedAuthorityError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noCachedAuthorityError,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noCachedAuthorityError]\n    },\n    authRequestNotSet: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authRequestNotSetError,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authRequestNotSetError]\n    },\n    invalidCacheType: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCacheType,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCacheType]\n    },\n    notInBrowserEnvironment: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nonBrowserEnvironment,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nonBrowserEnvironment]\n    },\n    databaseNotOpen: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.databaseNotOpen,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.databaseNotOpen]\n    },\n    noNetworkConnectivity: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noNetworkConnectivity,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noNetworkConnectivity]\n    },\n    postRequestFailed: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.postRequestFailed,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.postRequestFailed]\n    },\n    getRequestFailed: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.getRequestFailed,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.getRequestFailed]\n    },\n    failedToParseNetworkResponse: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.failedToParseResponse,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.failedToParseResponse]\n    },\n    unableToLoadTokenError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unableToLoadToken,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unableToLoadToken]\n    },\n    signingKeyNotFoundInStorage: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cryptoKeyNotFound,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cryptoKeyNotFound]\n    },\n    authCodeRequired: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authCodeRequired,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authCodeRequired]\n    },\n    authCodeOrNativeAccountRequired: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authCodeOrNativeAccountIdRequired,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authCodeOrNativeAccountIdRequired]\n    },\n    spaCodeAndNativeAccountPresent: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.spaCodeAndNativeAccountIdPresent,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.spaCodeAndNativeAccountIdPresent]\n    },\n    databaseUnavailable: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.databaseUnavailable,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.databaseUnavailable]\n    },\n    unableToAcquireTokenFromNativePlatform: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unableToAcquireTokenFromNativePlatform,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unableToAcquireTokenFromNativePlatform]\n    },\n    nativeHandshakeTimeout: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativeHandshakeTimeout,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativeHandshakeTimeout]\n    },\n    nativeExtensionNotInstalled: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativeExtensionNotInstalled,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativeExtensionNotInstalled]\n    },\n    nativeConnectionNotEstablished: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativeConnectionNotEstablished,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativeConnectionNotEstablished]\n    },\n    uninitializedPublicClientApplication: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.uninitializedPublicClientApplication,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.uninitializedPublicClientApplication]\n    },\n    nativePromptNotSupported: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativePromptNotSupported,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativePromptNotSupported]\n    },\n    invalidBase64StringError: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidBase64String,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidBase64String]\n    },\n    invalidPopTokenRequest: {\n        code: _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidPopTokenRequest,\n        desc: BrowserAuthErrorMessages[_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidPopTokenRequest]\n    }\n};\n/**\r\n * Browser library error class thrown by the MSAL.js library for SPAs\r\n */ class BrowserAuthError extends _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.AuthError {\n    constructor(errorCode, subError){\n        super(errorCode, BrowserAuthErrorMessages[errorCode], subError);\n        Object.setPrototypeOf(this, BrowserAuthError.prototype);\n        this.name = \"BrowserAuthError\";\n    }\n}\nfunction createBrowserAuthError(errorCode, subError) {\n    return new BrowserAuthError(errorCode, subError);\n}\n //# sourceMappingURL=BrowserAuthError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDdUQ7QUFDMGtDO0FBQzVqQztBQUNwQztBQUVqQzs7O0NBR0MsR0FDRCxNQUFNa0QsWUFBWTtBQUNsQjs7Q0FFQyxHQUNELE1BQU1DLDJCQUEyQjtJQUM3QixDQUFDbEQsc0VBQWNBLENBQUMsRUFBRTtJQUNsQixDQUFDQyx5RUFBaUJBLENBQUMsRUFBRTtJQUNyQixDQUFDQyx3RUFBZ0JBLENBQUMsRUFBRTtJQUNwQixDQUFDQyxzRUFBY0EsQ0FBQyxFQUFFLENBQUMsa0hBQWtILEVBQUU4QyxVQUFVLENBQUM7SUFDbEosQ0FBQzdDLHFFQUFhQSxDQUFDLEVBQUU7SUFDakIsQ0FBQ0MseUZBQWlDQSxDQUFDLEVBQUUsQ0FBQyx1R0FBdUcsRUFBRTRDLFVBQVUsQ0FBQztJQUMxSixDQUFDM0MsMEVBQWtCQSxDQUFDLEVBQUU7SUFDdEIsQ0FBQ0Msb0ZBQTRCQSxDQUFDLEVBQUU7SUFDaEMsQ0FBQ0MsNkVBQXFCQSxDQUFDLEVBQUUsQ0FBQyxrSUFBa0ksRUFBRXlDLFVBQVUsQ0FBQztJQUN6SyxDQUFDeEMsd0VBQWdCQSxDQUFDLEVBQUU7SUFDcEIsQ0FBQ0Msd0VBQWdCQSxDQUFDLEVBQUU7SUFDcEIsQ0FBQ0MscUVBQWFBLENBQUMsRUFBRTtJQUNqQixDQUFDQywyRUFBbUJBLENBQUMsRUFBRSxDQUFDLG1EQUFtRCxFQUFFcUMsVUFBVSxDQUFDO0lBQ3hGLENBQUNwQyw0RUFBb0JBLENBQUMsRUFBRSxDQUFDLG9EQUFvRCxFQUFFb0MsVUFBVSxDQUFDO0lBQzFGLENBQUNuQyx3RUFBZ0JBLENBQUMsRUFBRTtJQUNwQixDQUFDQyx5RUFBaUJBLENBQUMsRUFBRSxDQUFDLHdGQUF3RixFQUFFa0MsVUFBVSxDQUFDO0lBQzNILENBQUNqQyx5RUFBaUJBLENB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LENBQUM7SUFDbEU7SUFDQUMsc0NBQXNDO1FBQ2xDVyxNQUFNWCw0RkFBb0NBO1FBQzFDWSxNQUFNSix3QkFBd0IsQ0FBQ1IsNEZBQW9DQSxDQUFDO0lBQ3hFO0lBQ0FDLDBCQUEwQjtRQUN0QlUsTUFBTVYsZ0ZBQXdCQTtRQUM5QlcsTUFBTUosd0JBQXdCLENBQUNQLGdGQUF3QkEsQ0FBQztJQUM1RDtJQUNBaUMsMEJBQTBCO1FBQ3RCdkIsTUFBTVQsMkVBQW1CQTtRQUN6QlUsTUFBTUosd0JBQXdCLENBQUNOLDJFQUFtQkEsQ0FBQztJQUN2RDtJQUNBQyx3QkFBd0I7UUFDcEJRLE1BQU1SLDhFQUFzQkE7UUFDNUJTLE1BQU1KLHdCQUF3QixDQUFDTCw4RUFBc0JBLENBQUM7SUFDMUQ7QUFDSjtBQUNBOztDQUVDLEdBQ0QsTUFBTWdDLHlCQUF5QjlFLGlFQUFTQTtJQUNwQytFLFlBQVlDLFNBQVMsRUFBRUMsUUFBUSxDQUFFO1FBQzdCLEtBQUssQ0FBQ0QsV0FBVzdCLHdCQUF3QixDQUFDNkIsVUFBVSxFQUFFQztRQUN0REMsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRUwsaUJBQWlCTSxTQUFTO1FBQ3RELElBQUksQ0FBQ0MsSUFBSSxHQUFHO0lBQ2hCO0FBQ0o7QUFDQSxTQUFTQyx1QkFBdUJOLFNBQVMsRUFBRUMsUUFBUTtJQUMvQyxPQUFPLElBQUlILGlCQUFpQkUsV0FBV0M7QUFDM0M7QUFFdUcsQ0FDdkcsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9lcnJvci9Ccm93c2VyQXV0aEVycm9yLm1qcz9hYThkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uL2Jyb3dzZXInO1xuaW1wb3J0IHsgcGtjZU5vdENyZWF0ZWQsIGNyeXB0b05vbkV4aXN0ZW50LCBlbXB0eU5hdmlnYXRlVXJpLCBoYXNoRW1wdHlFcnJvciwgbm9TdGF0ZUluSGFzaCwgaGFzaERvZXNOb3RDb250YWluS25vd25Qcm9wZXJ0aWVzLCB1bmFibGVUb1BhcnNlU3RhdGUsIHN0YXRlSW50ZXJhY3Rpb25UeXBlTWlzbWF0Y2gsIGludGVyYWN0aW9uSW5Qcm9ncmVzcywgcG9wdXBXaW5kb3dFcnJvciwgZW1wdHlXaW5kb3dFcnJvciwgdXNlckNhbmNlbGxlZCwgbW9uaXRvclBvcHVwVGltZW91dCwgbW9uaXRvcldpbmRvd1RpbWVvdXQsIHJlZGlyZWN0SW5JZnJhbWUsIGJsb2NrSWZyYW1lUmVsb2FkLCBibG9ja05lc3RlZFBvcHVwcywgaWZyYW1lQ2xvc2VkUHJlbWF0dXJlbHksIHNpbGVudExvZ291dFVuc3VwcG9ydGVkLCBub0FjY291bnRFcnJvciwgc2lsZW50UHJvbXB0VmFsdWVFcnJvciwgbm9Ub2tlblJlcXVlc3RDYWNoZUVycm9yLCB1bmFibGVUb1BhcnNlVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvciwgbm9DYWNoZWRBdXRob3JpdHlFcnJvciwgYXV0aFJlcXVlc3ROb3RTZXRFcnJvciwgaW52YWxpZENhY2hlVHlwZSwgbm9uQnJvd3NlckVudmlyb25tZW50LCBkYXRhYmFzZU5vdE9wZW4sIG5vTmV0d29ya0Nvbm5lY3Rpdml0eSwgcG9zdFJlcXVlc3RGYWlsZWQsIGdldFJlcXVlc3RGYWlsZWQsIGZhaWxlZFRvUGFyc2VSZXNwb25zZSwgdW5hYmxlVG9Mb2FkVG9rZW4sIGNyeXB0b0tleU5vdEZvdW5kLCBhdXRoQ29kZVJlcXVpcmVkLCBhdXRoQ29kZU9yTmF0aXZlQWNjb3VudElkUmVxdWlyZWQsIHNwYUNvZGVBbmROYXRpdmVBY2NvdW50SWRQcmVzZW50LCBkYXRhYmFzZVVuYXZhaWxhYmxlLCB1bmFibGVUb0FjcXVpcmVUb2tlbkZyb21OYXRpdmVQbGF0Zm9ybSwgbmF0aXZlSGFuZHNoYWtlVGltZW91dCwgbmF0aXZlRXh0ZW5zaW9uTm90SW5zdGFsbGVkLCBuYXRpdmVDb25uZWN0aW9uTm90RXN0YWJsaXNoZWQsIHVuaW5pdGlhbGl6ZWRQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiwgbmF0aXZlUHJvbXB0Tm90U3VwcG9ydGVkLCBpbnZhbGlkQmFzZTY0U3RyaW5nLCBpbnZhbGlkUG9wVG9rZW5SZXF1ZXN0LCBmYWlsZWRUb0J1aWxkSGVhZGVycywgZmFpbGVkVG9QYXJzZUhlYWRlcnMgfSBmcm9tICcuL0Jyb3dzZXJBdXRoRXJyb3JDb2Rlcy5tanMnO1xuaW1wb3J0ICogYXMgQnJvd3NlckF1dGhFcnJvckNvZGVzIGZyb20gJy4vQnJvd3NlckF1dGhFcnJvckNvZGVzLm1qcyc7XG5leHBvcnQgeyBCcm93c2VyQXV0aEVycm9yQ29kZXMgfTtcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IEVycm9yTGluayA9IFwiRm9yIG1vcmUgdmlzaXQ6IGFrYS5tcy9tc2FsanMvYnJvd3Nlci1lcnJvcnNcIjtcclxuLyoqXHJcbiAqIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlIGNsYXNzIGNvbnRhaW5pbmcgc3RyaW5nIGNvbnN0YW50cyB1c2VkIGJ5IGVycm9yIGNvZGVzIGFuZCBtZXNzYWdlcy5cclxuICovXHJcbmNvbnN0IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlcyA9IHtcclxuICAgIFtwa2NlTm90Q3JlYXRlZF06IFwiVGhlIFBLQ0UgY29kZSBjaGFsbGVuZ2UgYW5kIHZlcmlmaWVyIGNvdWxkIG5vdCBiZSBnZW5lcmF0ZWQuXCIsXHJcbiAgICBbY3J5cHRvTm9uRXhpc3RlbnRdOiBcIlRoZSBjcnlwdG8gb2JqZWN0IG9yIGZ1bmN0aW9uIGlzIG5vdCBhdmFpbGFibGUuXCIsXHJcbiAgICBbZW1wdHlOYXZpZ2F0ZVVyaV06IFwiTmF2aWdhdGlvbiBVUkkgaXMgZW1wdHkuIFBsZWFzZSBjaGVjayBzdGFjayB0cmFjZSBmb3IgbW9yZSBpbmZvLlwiLFxyXG4gICAgW2hhc2hFbXB0eUVycm9yXTogYEhhc2ggdmFsdWUgY2Fubm90IGJlIHByb2Nlc3NlZCBiZWNhdXNlIGl0IGlzIGVtcHR5LiBQbGVhc2UgdmVyaWZ5IHRoYXQgeW91ciByZWRpcmVjdFVyaSBpcyBub3QgY2xlYXJpbmcgdGhlIGhhc2guICR7RXJyb3JMaW5rfWAsXHJcbiAgICBbbm9TdGF0ZUluSGFzaF06IFwiSGFzaCBkb2VzIG5vdCBjb250YWluIHN0YXRlLiBQbGVhc2UgdmVyaWZ5IHRoYXQgdGhlIHJlcXVlc3Qgb3JpZ2luYXRlZCBmcm9tIG1zYWwuXCIsXHJcbiAgICBbaGFzaERvZXNOb3RDb250YWluS25vd25Qcm9wZXJ0aWVzXTogYEhhc2ggZG9lcyBub3QgY29udGFpbiBrbm93biBwcm9wZXJpdGVzLiBQbGVhc2UgdmVyaWZ5IHRoYXQgeW91ciByZWRpcmVjdFVyaSBpcyBub3QgY2hhbmdpbmcgdGhlIGhhc2guICAke0Vycm9yTGlua31gLFxyXG4gICAgW3VuYWJsZVRvUGFyc2VTdGF0ZV06IFwiVW5hYmxlIHRvIHBhcnNlIHN0YXRlLiBQbGVhc2UgdmVyaWZ5IHRoYXQgdGhlIHJlcXVlc3Qgb3JpZ2luYXRlZCBmcm9tIG1zYWwuXCIsXHJcbiAgICBbc3RhdGVJbnRlcmFjdGlvblR5cGVNaXNtYXRjaF06IFwiSGFzaCBjb250YWlucyBzdGF0ZSBidXQgdGhlIGludGVyYWN0aW9uIHR5cGUgZG9lcyBub3QgbWF0Y2ggdGhlIGNhbGxlci5cIixcclxuICAgIFtpbnRlcmFjdGlvbkluUHJvZ3Jlc3NdOiBgSW50ZXJhY3Rpb24gaXMgY3VycmVudGx5IGluIHByb2dyZXNzLiBQbGVhc2UgZW5zdXJlIHRoYXQgdGhpcyBpbnRlcmFjdGlvbiBoYXMgYmVlbiBjb21wbGV0ZWQgYmVmb3JlIGNhbGxpbmcgYW4gaW50ZXJhY3RpdmUgQVBJLiAgICR7RXJyb3JMaW5rfWAsXHJcbiAgICBbcG9wdXBXaW5kb3dFcnJvcl06IFwiRXJyb3Igb3BlbmluZyBwb3B1cCB3aW5kb3cuIFRoaXMgY2FuIGhhcHBlbiBpZiB5b3UgYXJlIHVzaW5nIElFIG9yIGlmIHBvcHVwcyBhcmUgYmxvY2tlZCBpbiB0aGUgYnJvd3Nlci5cIixcclxuICAgIFtlbXB0eVdpbmRvd0Vycm9yXTogXCJ3aW5kb3cub3BlbiByZXR1cm5lZCBudWxsIG9yIHVuZGVmaW5lZCB3aW5kb3cgb2JqZWN0LlwiLFxyXG4gICAgW3VzZXJDYW5jZWxsZWRdOiBcIlVzZXIgY2FuY2VsbGVkIHRoZSBmbG93LlwiLFxyXG4gICAgW21vbml0b3JQb3B1cFRpbWVvdXRdOiBgVG9rZW4gYWNxdWlzaXRpb24gaW4gcG9wdXAgZmFpbGVkIGR1ZSB0byB0aW1lb3V0LiAgJHtFcnJvckxpbmt9YCxcclxuICAgIFttb25pdG9yV2luZG93VGltZW91dF06IGBUb2tlbiBhY3F1aXNpdGlvbiBpbiBpZnJhbWUgZmFpbGVkIGR1ZSB0byB0aW1lb3V0LiAgJHtFcnJvckxpbmt9YCxcclxuICAgIFtyZWRpcmVjdEluSWZyYW1lXTogXCJSZWRpcmVjdHMgYXJlIG5vdCBzdXBwb3J0ZWQgZm9yIGlmcmFtZWQgb3IgYnJva2VyZWQgYXBwbGljYXRpb25zLiBQbGVhc2UgZW5zdXJlIHlvdSBhcmUgdXNpbmcgTVNBTC5qcyBpbiBhIHRvcCBmcmFtZSBvZiB0aGUgd2luZG93IGlmIHVzaW5nIHRoZSByZWRpcmVjdCBBUElzLCBvciB1c2UgdGhlIHBvcHVwIEFQSXMuXCIsXHJcbiAgICBbYmxvY2tJZnJhbWVSZWxvYWRdOiBgUmVxdWVzdCB3YXMgYmxvY2tlZCBpbnNpZGUgYW4gaWZyYW1lIGJlY2F1c2UgTVNBTCBkZXRlY3RlZCBhbiBhdXRoZW50aWNhdGlvbiByZXNwb25zZS4gICR7RXJyb3JMaW5rfWAsXHJcbiAgICBbYmxvY2tOZXN0ZWRQb3B1cHNdOiBcIlJlcXVlc3Qgd2FzIGJsb2NrZWQgaW5zaWRlIGEgcG9wdXAgYmVjYXVzZSBNU0FMIGRldGVjdGVkIGl0IHdhcyBydW5uaW5nIGluIGEgcG9wdXAuXCIsXHJcbiAgICBbaWZyYW1lQ2xvc2VkUHJlbWF0dXJlbHldOiBcIlRoZSBpZnJhbWUgYmVpbmcgbW9uaXRvcmVkIHdhcyBjbG9zZWQgcHJlbWF0dXJlbHkuXCIsXHJcbiAgICBbc2lsZW50TG9nb3V0VW5zdXBwb3J0ZWRdOiBcIlNpbGVudCBsb2dvdXQgbm90IHN1cHBvcnRlZC4gUGxlYXNlIGNhbGwgbG9nb3V0UmVkaXJlY3Qgb3IgbG9nb3V0UG9wdXAgaW5zdGVhZC5cIixcclxuICAgIFtub0FjY291bnRFcnJvcl06IFwiTm8gYWNjb3VudCBvYmplY3QgcHJvdmlkZWQgdG8gYWNxdWlyZVRva2VuU2lsZW50IGFuZCBubyBhY3RpdmUgYWNjb3VudCBoYXMgYmVlbiBzZXQuIFBsZWFzZSBjYWxsIHNldEFjdGl2ZUFjY291bnQgb3IgcHJvdmlkZSBhbiBhY2NvdW50IG9uIHRoZSByZXF1ZXN0LlwiLFxyXG4gICAgW3NpbGVudFByb21wdFZhbHVlRXJyb3JdOiBcIlRoZSB2YWx1ZSBnaXZlbiBmb3IgdGhlIHByb21wdCB2YWx1ZSBpcyBub3QgdmFsaWQgZm9yIHNpbGVudCByZXF1ZXN0cyAtIG11c3QgYmUgc2V0IHRvICdub25lJyBvciAnbm9fc2Vzc2lvbicuXCIsXHJcbiAgICBbbm9Ub2tlblJlcXVlc3RDYWNoZUVycm9yXTogXCJObyB0b2tlbiByZXF1ZXN0IGZvdW5kIGluIGNhY2hlLlwiLFxyXG4gICAgW3VuYWJsZVRvUGFyc2VUb2tlblJlcXVlc3RDYWNoZUVycm9yXTogXCJUaGUgY2FjaGVkIHRva2VuIHJlcXVlc3QgY291bGQgbm90IGJlIHBhcnNlZC5cIixcclxuICAgIFtub0NhY2hlZEF1dGhvcml0eUVycm9yXTogXCJObyBjYWNoZWQgYXV0aG9yaXR5IGZvdW5kLlwiLFxyXG4gICAgW2F1dGhSZXF1ZXN0Tm90U2V0RXJyb3JdOiBcIkF1dGggUmVxdWVzdCBub3Qgc2V0LiBQbGVhc2UgZW5zdXJlIGluaXRpYXRlQXV0aFJlcXVlc3Qgd2FzIGNhbGxlZCBmcm9tIHRoZSBJbnRlcmFjdGlvbkhhbmRsZXJcIixcclxuICAgIFtpbnZhbGlkQ2FjaGVUeXBlXTogXCJJbnZhbGlkIGNhY2hlIHR5cGVcIixcclxuICAgIFtub25Ccm93c2VyRW52aXJvbm1lbnRdOiBcIkxvZ2luIGFuZCB0b2tlbiByZXF1ZXN0cyBhcmUgbm90IHN1cHBvcnRlZCBpbiBub24tYnJvd3NlciBlbnZpcm9ubWVudHMuXCIsXHJcbiAgICBbZGF0YWJhc2VOb3RPcGVuXTogXCJEYXRhYmFzZSBpcyBub3Qgb3BlbiFcIixcclxuICAgIFtub05ldHdvcmtDb25uZWN0aXZpdHldOiBcIk5vIG5ldHdvcmsgY29ubmVjdGl2aXR5LiBDaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24uXCIsXHJcbiAgICBbcG9zdFJlcXVlc3RGYWlsZWRdOiBcIk5ldHdvcmsgcmVxdWVzdCBmYWlsZWQ6IElmIHRoZSBicm93c2VyIHRocmV3IGEgQ09SUyBlcnJvciwgY2hlY2sgdGhhdCB0aGUgcmVkaXJlY3RVcmkgaXMgcmVnaXN0ZXJlZCBpbiB0aGUgQXp1cmUgQXBwIFBvcnRhbCBhcyB0eXBlICdTUEEnXCIsXHJcbiAgICBbZ2V0UmVxdWVzdEZhaWxlZF06IFwiTmV0d29yayByZXF1ZXN0IGZhaWxlZC4gUGxlYXNlIGNoZWNrIHRoZSBuZXR3b3JrIHRyYWNlIHRvIGRldGVybWluZSByb290IGNhdXNlLlwiLFxyXG4gICAgW2ZhaWxlZFRvUGFyc2VSZXNwb25zZV06IFwiRmFpbGVkIHRvIHBhcnNlIG5ldHdvcmsgcmVzcG9uc2UuIENoZWNrIG5ldHdvcmsgdHJhY2UuXCIsXHJcbiAgICBbdW5hYmxlVG9Mb2FkVG9rZW5dOiBcIkVycm9yIGxvYWRpbmcgdG9rZW4gdG8gY2FjaGUuXCIsXHJcbiAgICBbY3J5cHRvS2V5Tm90Rm91bmRdOiBcIkNyeXB0b2dyYXBoaWMgS2V5IG9yIEtleXBhaXIgbm90IGZvdW5kIGluIGJyb3dzZXIgc3RvcmFnZS5cIixcclxuICAgIFthdXRoQ29kZVJlcXVpcmVkXTogXCJBbiBhdXRob3JpemF0aW9uIGNvZGUgbXVzdCBiZSBwcm92aWRlZCAoYXMgdGhlIGBjb2RlYCBwcm9wZXJ0eSBvbiB0aGUgcmVxdWVzdCkgdG8gdGhpcyBmbG93LlwiLFxyXG4gICAgW2F1dGhDb2RlT3JOYXRpdmVBY2NvdW50SWRSZXF1aXJlZF06IFwiQW4gYXV0aG9yaXphdGlvbiBjb2RlIG9yIG5hdGl2ZUFjY291bnRJZCBtdXN0IGJlIHByb3ZpZGVkIHRvIHRoaXMgZmxvdy5cIixcclxuICAgIFtzcGFDb2RlQW5kTmF0aXZlQWNjb3VudElkUHJlc2VudF06IFwiUmVxdWVzdCBjYW5ub3QgY29udGFpbiBib3RoIHNwYSBjb2RlIGFuZCBuYXRpdmUgYWNjb3VudCBpZC5cIixcclxuICAgIFtkYXRhYmFzZVVuYXZhaWxhYmxlXTogXCJJbmRleGVkREIsIHdoaWNoIGlzIHJlcXVpcmVkIGZvciBwZXJzaXN0ZW50IGNyeXB0b2dyYXBoaWMga2V5IHN0b3JhZ2UsIGlzIHVuYXZhaWxhYmxlLiBUaGlzIG1heSBiZSBjYXVzZWQgYnkgYnJvd3NlciBwcml2YWN5IGZlYXR1cmVzIHdoaWNoIGJsb2NrIHBlcnNpc3RlbnQgc3RvcmFnZSBpbiB0aGlyZC1wYXJ0eSBjb250ZXh0cy5cIixcclxuICAgIFt1bmFibGVUb0FjcXVpcmVUb2tlbkZyb21OYXRpdmVQbGF0Zm9ybV06IGBVbmFibGUgdG8gYWNxdWlyZSB0b2tlbiBmcm9tIG5hdGl2ZSBwbGF0Zm9ybS4gICR7RXJyb3JMaW5rfWAsXHJcbiAgICBbbmF0aXZlSGFuZHNoYWtlVGltZW91dF06IFwiVGltZWQgb3V0IHdoaWxlIGF0dGVtcHRpbmcgdG8gZXN0YWJsaXNoIGNvbm5lY3Rpb24gdG8gYnJvd3NlciBleHRlbnNpb25cIixcclxuICAgIFtuYXRpdmVFeHRlbnNpb25Ob3RJbnN0YWxsZWRdOiBcIk5hdGl2ZSBleHRlbnNpb24gaXMgbm90IGluc3RhbGxlZC4gSWYgeW91IHRoaW5rIHRoaXMgaXMgYSBtaXN0YWtlIGNhbGwgdGhlIGluaXRpYWxpemUgZnVuY3Rpb24uXCIsXHJcbiAgICBbbmF0aXZlQ29ubmVjdGlvbk5vdEVzdGFibGlzaGVkXTogYENvbm5lY3Rpb24gdG8gbmF0aXZlIHBsYXRmb3JtIGhhcyBub3QgYmVlbiBlc3RhYmxpc2hlZC4gUGxlYXNlIGluc3RhbGwgYSBjb21wYXRpYmxlIGJyb3dzZXIgZXh0ZW5zaW9uIGFuZCBydW4gaW5pdGlhbGl6ZSgpLiAgJHtFcnJvckxpbmt9YCxcclxuICAgIFt1bmluaXRpYWxpemVkUHVibGljQ2xpZW50QXBwbGljYXRpb25dOiBgWW91IG11c3QgY2FsbCBhbmQgYXdhaXQgdGhlIGluaXRpYWxpemUgZnVuY3Rpb24gYmVmb3JlIGF0dGVtcHRpbmcgdG8gY2FsbCBhbnkgb3RoZXIgTVNBTCBBUEkuICAke0Vycm9yTGlua31gLFxyXG4gICAgW25hdGl2ZVByb21wdE5vdFN1cHBvcnRlZF06IFwiVGhlIHByb3ZpZGVkIHByb21wdCBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBuYXRpdmUgcGxhdGZvcm0uIFRoaXMgcmVxdWVzdCBzaG91bGQgYmUgcm91dGVkIHRvIHRoZSB3ZWIgYmFzZWQgZmxvdy5cIixcclxuICAgIFtpbnZhbGlkQmFzZTY0U3RyaW5nXTogXCJJbnZhbGlkIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cIixcclxuICAgIFtpbnZhbGlkUG9wVG9rZW5SZXF1ZXN0XTogXCJJbnZhbGlkIFBvUCB0b2tlbiByZXF1ZXN0LiBUaGUgcmVxdWVzdCBzaG91bGQgbm90IGhhdmUgYm90aCBhIHBvcEtpZCB2YWx1ZSBhbmQgc2lnblBvcFRva2VuIHNldCB0byB0cnVlLlwiLFxyXG4gICAgW2ZhaWxlZFRvQnVpbGRIZWFkZXJzXTogXCJGYWlsZWQgdG8gYnVpbGQgcmVxdWVzdCBoZWFkZXJzIG9iamVjdC5cIixcclxuICAgIFtmYWlsZWRUb1BhcnNlSGVhZGVyc106IFwiRmFpbGVkIHRvIHBhcnNlIHJlc3BvbnNlIGhlYWRlcnNcIixcclxufTtcclxuLyoqXHJcbiAqIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlIGNsYXNzIGNvbnRhaW5pbmcgc3RyaW5nIGNvbnN0YW50cyB1c2VkIGJ5IGVycm9yIGNvZGVzIGFuZCBtZXNzYWdlcy5cclxuICogQGRlcHJlY2F0ZWQgVXNlIGV4cG9ydGVkIEJyb3dzZXJBdXRoRXJyb3JDb2RlcyBpbnN0ZWFkLlxyXG4gKiBJbiB5b3VyIGFwcCB5b3UgY2FuIGRvIDpcclxuICogYGBgXHJcbiAqIGltcG9ydCB7IEJyb3dzZXJBdXRoRXJyb3JDb2RlcyB9IGZyb20gXCJAYXp1cmUvbXNhbC1icm93c2VyXCI7XHJcbiAqIGBgYFxyXG4gKi9cclxuY29uc3QgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UgPSB7XHJcbiAgICBwa2NlTm90R2VuZXJhdGVkOiB7XHJcbiAgICAgICAgY29kZTogcGtjZU5vdENyZWF0ZWQsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW3BrY2VOb3RDcmVhdGVkXSxcclxuICAgIH0sXHJcbiAgICBjcnlwdG9Eb2VzTm90RXhpc3Q6IHtcclxuICAgICAgICBjb2RlOiBjcnlwdG9Ob25FeGlzdGVudCxcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbY3J5cHRvTm9uRXhpc3RlbnRdLFxyXG4gICAgfSxcclxuICAgIGVtcHR5TmF2aWdhdGVVcmlFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IGVtcHR5TmF2aWdhdGVVcmksXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW2VtcHR5TmF2aWdhdGVVcmldLFxyXG4gICAgfSxcclxuICAgIGhhc2hFbXB0eUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogaGFzaEVtcHR5RXJyb3IsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW2hhc2hFbXB0eUVycm9yXSxcclxuICAgIH0sXHJcbiAgICBoYXNoRG9lc05vdENvbnRhaW5TdGF0ZUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogbm9TdGF0ZUluSGFzaCxcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbbm9TdGF0ZUluSGFzaF0sXHJcbiAgICB9LFxyXG4gICAgaGFzaERvZXNOb3RDb250YWluS25vd25Qcm9wZXJ0aWVzRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBoYXNoRG9lc05vdENvbnRhaW5Lbm93blByb3BlcnRpZXMsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW2hhc2hEb2VzTm90Q29udGFpbktub3duUHJvcGVydGllc10sXHJcbiAgICB9LFxyXG4gICAgdW5hYmxlVG9QYXJzZVN0YXRlRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiB1bmFibGVUb1BhcnNlU3RhdGUsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW3VuYWJsZVRvUGFyc2VTdGF0ZV0sXHJcbiAgICB9LFxyXG4gICAgc3RhdGVJbnRlcmFjdGlvblR5cGVNaXNtYXRjaEVycm9yOiB7XHJcbiAgICAgICAgY29kZTogc3RhdGVJbnRlcmFjdGlvblR5cGVNaXNtYXRjaCxcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbc3RhdGVJbnRlcmFjdGlvblR5cGVNaXNtYXRjaF0sXHJcbiAgICB9LFxyXG4gICAgaW50ZXJhY3Rpb25JblByb2dyZXNzOiB7XHJcbiAgICAgICAgY29kZTogaW50ZXJhY3Rpb25JblByb2dyZXNzLFxyXG4gICAgICAgIGRlc2M6IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlc1tpbnRlcmFjdGlvbkluUHJvZ3Jlc3NdLFxyXG4gICAgfSxcclxuICAgIHBvcHVwV2luZG93RXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBwb3B1cFdpbmRvd0Vycm9yLFxyXG4gICAgICAgIGRlc2M6IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlc1twb3B1cFdpbmRvd0Vycm9yXSxcclxuICAgIH0sXHJcbiAgICBlbXB0eVdpbmRvd0Vycm9yOiB7XHJcbiAgICAgICAgY29kZTogZW1wdHlXaW5kb3dFcnJvcixcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbZW1wdHlXaW5kb3dFcnJvcl0sXHJcbiAgICB9LFxyXG4gICAgdXNlckNhbmNlbGxlZEVycm9yOiB7XHJcbiAgICAgICAgY29kZTogdXNlckNhbmNlbGxlZCxcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbdXNlckNhbmNlbGxlZF0sXHJcbiAgICB9LFxyXG4gICAgbW9uaXRvclBvcHVwVGltZW91dEVycm9yOiB7XHJcbiAgICAgICAgY29kZTogbW9uaXRvclBvcHVwVGltZW91dCxcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbbW9uaXRvclBvcHVwVGltZW91dF0sXHJcbiAgICB9LFxyXG4gICAgbW9uaXRvcklmcmFtZVRpbWVvdXRFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IG1vbml0b3JXaW5kb3dUaW1lb3V0LFxyXG4gICAgICAgIGRlc2M6IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlc1ttb25pdG9yV2luZG93VGltZW91dF0sXHJcbiAgICB9LFxyXG4gICAgcmVkaXJlY3RJbklmcmFtZUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogcmVkaXJlY3RJbklmcmFtZSxcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbcmVkaXJlY3RJbklmcmFtZV0sXHJcbiAgICB9LFxyXG4gICAgYmxvY2tUb2tlblJlcXVlc3RzSW5IaWRkZW5JZnJhbWVFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IGJsb2NrSWZyYW1lUmVsb2FkLFxyXG4gICAgICAgIGRlc2M6IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlc1tibG9ja0lmcmFtZVJlbG9hZF0sXHJcbiAgICB9LFxyXG4gICAgYmxvY2tBY3F1aXJlVG9rZW5JblBvcHVwc0Vycm9yOiB7XHJcbiAgICAgICAgY29kZTogYmxvY2tOZXN0ZWRQb3B1cHMsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW2Jsb2NrTmVzdGVkUG9wdXBzXSxcclxuICAgIH0sXHJcbiAgICBpZnJhbWVDbG9zZWRQcmVtYXR1cmVseUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogaWZyYW1lQ2xvc2VkUHJlbWF0dXJlbHksXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW2lmcmFtZUNsb3NlZFByZW1hdHVyZWx5XSxcclxuICAgIH0sXHJcbiAgICBzaWxlbnRMb2dvdXRVbnN1cHBvcnRlZEVycm9yOiB7XHJcbiAgICAgICAgY29kZTogc2lsZW50TG9nb3V0VW5zdXBwb3J0ZWQsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW3NpbGVudExvZ291dFVuc3VwcG9ydGVkXSxcclxuICAgIH0sXHJcbiAgICBub0FjY291bnRFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IG5vQWNjb3VudEVycm9yLFxyXG4gICAgICAgIGRlc2M6IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlc1tub0FjY291bnRFcnJvcl0sXHJcbiAgICB9LFxyXG4gICAgc2lsZW50UHJvbXB0VmFsdWVFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IHNpbGVudFByb21wdFZhbHVlRXJyb3IsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW3NpbGVudFByb21wdFZhbHVlRXJyb3JdLFxyXG4gICAgfSxcclxuICAgIG5vVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IG5vVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvcixcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbbm9Ub2tlblJlcXVlc3RDYWNoZUVycm9yXSxcclxuICAgIH0sXHJcbiAgICB1bmFibGVUb1BhcnNlVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IHVuYWJsZVRvUGFyc2VUb2tlblJlcXVlc3RDYWNoZUVycm9yLFxyXG4gICAgICAgIGRlc2M6IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlc1t1bmFibGVUb1BhcnNlVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvcl0sXHJcbiAgICB9LFxyXG4gICAgbm9DYWNoZWRBdXRob3JpdHlFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IG5vQ2FjaGVkQXV0aG9yaXR5RXJyb3IsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW25vQ2FjaGVkQXV0aG9yaXR5RXJyb3JdLFxyXG4gICAgfSxcclxuICAgIGF1dGhSZXF1ZXN0Tm90U2V0OiB7XHJcbiAgICAgICAgY29kZTogYXV0aFJlcXVlc3ROb3RTZXRFcnJvcixcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbYXV0aFJlcXVlc3ROb3RTZXRFcnJvcl0sXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZENhY2hlVHlwZToge1xyXG4gICAgICAgIGNvZGU6IGludmFsaWRDYWNoZVR5cGUsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW2ludmFsaWRDYWNoZVR5cGVdLFxyXG4gICAgfSxcclxuICAgIG5vdEluQnJvd3NlckVudmlyb25tZW50OiB7XHJcbiAgICAgICAgY29kZTogbm9uQnJvd3NlckVudmlyb25tZW50LFxyXG4gICAgICAgIGRlc2M6IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlc1tub25Ccm93c2VyRW52aXJvbm1lbnRdLFxyXG4gICAgfSxcclxuICAgIGRhdGFiYXNlTm90T3Blbjoge1xyXG4gICAgICAgIGNvZGU6IGRhdGFiYXNlTm90T3BlbixcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbZGF0YWJhc2VOb3RPcGVuXSxcclxuICAgIH0sXHJcbiAgICBub05ldHdvcmtDb25uZWN0aXZpdHk6IHtcclxuICAgICAgICBjb2RlOiBub05ldHdvcmtDb25uZWN0aXZpdHksXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW25vTmV0d29ya0Nvbm5lY3Rpdml0eV0sXHJcbiAgICB9LFxyXG4gICAgcG9zdFJlcXVlc3RGYWlsZWQ6IHtcclxuICAgICAgICBjb2RlOiBwb3N0UmVxdWVzdEZhaWxlZCxcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbcG9zdFJlcXVlc3RGYWlsZWRdLFxyXG4gICAgfSxcclxuICAgIGdldFJlcXVlc3RGYWlsZWQ6IHtcclxuICAgICAgICBjb2RlOiBnZXRSZXF1ZXN0RmFpbGVkLFxyXG4gICAgICAgIGRlc2M6IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlc1tnZXRSZXF1ZXN0RmFpbGVkXSxcclxuICAgIH0sXHJcbiAgICBmYWlsZWRUb1BhcnNlTmV0d29ya1Jlc3BvbnNlOiB7XHJcbiAgICAgICAgY29kZTogZmFpbGVkVG9QYXJzZVJlc3BvbnNlLFxyXG4gICAgICAgIGRlc2M6IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlc1tmYWlsZWRUb1BhcnNlUmVzcG9uc2VdLFxyXG4gICAgfSxcclxuICAgIHVuYWJsZVRvTG9hZFRva2VuRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiB1bmFibGVUb0xvYWRUb2tlbixcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbdW5hYmxlVG9Mb2FkVG9rZW5dLFxyXG4gICAgfSxcclxuICAgIHNpZ25pbmdLZXlOb3RGb3VuZEluU3RvcmFnZToge1xyXG4gICAgICAgIGNvZGU6IGNyeXB0b0tleU5vdEZvdW5kLFxyXG4gICAgICAgIGRlc2M6IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlc1tjcnlwdG9LZXlOb3RGb3VuZF0sXHJcbiAgICB9LFxyXG4gICAgYXV0aENvZGVSZXF1aXJlZDoge1xyXG4gICAgICAgIGNvZGU6IGF1dGhDb2RlUmVxdWlyZWQsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW2F1dGhDb2RlUmVxdWlyZWRdLFxyXG4gICAgfSxcclxuICAgIGF1dGhDb2RlT3JOYXRpdmVBY2NvdW50UmVxdWlyZWQ6IHtcclxuICAgICAgICBjb2RlOiBhdXRoQ29kZU9yTmF0aXZlQWNjb3VudElkUmVxdWlyZWQsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW2F1dGhDb2RlT3JOYXRpdmVBY2NvdW50SWRSZXF1aXJlZF0sXHJcbiAgICB9LFxyXG4gICAgc3BhQ29kZUFuZE5hdGl2ZUFjY291bnRQcmVzZW50OiB7XHJcbiAgICAgICAgY29kZTogc3BhQ29kZUFuZE5hdGl2ZUFjY291bnRJZFByZXNlbnQsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW3NwYUNvZGVBbmROYXRpdmVBY2NvdW50SWRQcmVzZW50XSxcclxuICAgIH0sXHJcbiAgICBkYXRhYmFzZVVuYXZhaWxhYmxlOiB7XHJcbiAgICAgICAgY29kZTogZGF0YWJhc2VVbmF2YWlsYWJsZSxcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbZGF0YWJhc2VVbmF2YWlsYWJsZV0sXHJcbiAgICB9LFxyXG4gICAgdW5hYmxlVG9BY3F1aXJlVG9rZW5Gcm9tTmF0aXZlUGxhdGZvcm06IHtcclxuICAgICAgICBjb2RlOiB1bmFibGVUb0FjcXVpcmVUb2tlbkZyb21OYXRpdmVQbGF0Zm9ybSxcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbdW5hYmxlVG9BY3F1aXJlVG9rZW5Gcm9tTmF0aXZlUGxhdGZvcm1dLFxyXG4gICAgfSxcclxuICAgIG5hdGl2ZUhhbmRzaGFrZVRpbWVvdXQ6IHtcclxuICAgICAgICBjb2RlOiBuYXRpdmVIYW5kc2hha2VUaW1lb3V0LFxyXG4gICAgICAgIGRlc2M6IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlc1tuYXRpdmVIYW5kc2hha2VUaW1lb3V0XSxcclxuICAgIH0sXHJcbiAgICBuYXRpdmVFeHRlbnNpb25Ob3RJbnN0YWxsZWQ6IHtcclxuICAgICAgICBjb2RlOiBuYXRpdmVFeHRlbnNpb25Ob3RJbnN0YWxsZWQsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW25hdGl2ZUV4dGVuc2lvbk5vdEluc3RhbGxlZF0sXHJcbiAgICB9LFxyXG4gICAgbmF0aXZlQ29ubmVjdGlvbk5vdEVzdGFibGlzaGVkOiB7XHJcbiAgICAgICAgY29kZTogbmF0aXZlQ29ubmVjdGlvbk5vdEVzdGFibGlzaGVkLFxyXG4gICAgICAgIGRlc2M6IEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlc1tuYXRpdmVDb25uZWN0aW9uTm90RXN0YWJsaXNoZWRdLFxyXG4gICAgfSxcclxuICAgIHVuaW5pdGlhbGl6ZWRQdWJsaWNDbGllbnRBcHBsaWNhdGlvbjoge1xyXG4gICAgICAgIGNvZGU6IHVuaW5pdGlhbGl6ZWRQdWJsaWNDbGllbnRBcHBsaWNhdGlvbixcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbdW5pbml0aWFsaXplZFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uXSxcclxuICAgIH0sXHJcbiAgICBuYXRpdmVQcm9tcHROb3RTdXBwb3J0ZWQ6IHtcclxuICAgICAgICBjb2RlOiBuYXRpdmVQcm9tcHROb3RTdXBwb3J0ZWQsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW25hdGl2ZVByb21wdE5vdFN1cHBvcnRlZF0sXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZEJhc2U2NFN0cmluZ0Vycm9yOiB7XHJcbiAgICAgICAgY29kZTogaW52YWxpZEJhc2U2NFN0cmluZyxcclxuICAgICAgICBkZXNjOiBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbaW52YWxpZEJhc2U2NFN0cmluZ10sXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZFBvcFRva2VuUmVxdWVzdDoge1xyXG4gICAgICAgIGNvZGU6IGludmFsaWRQb3BUb2tlblJlcXVlc3QsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2VzW2ludmFsaWRQb3BUb2tlblJlcXVlc3RdLFxyXG4gICAgfSxcclxufTtcclxuLyoqXHJcbiAqIEJyb3dzZXIgbGlicmFyeSBlcnJvciBjbGFzcyB0aHJvd24gYnkgdGhlIE1TQUwuanMgbGlicmFyeSBmb3IgU1BBc1xyXG4gKi9cclxuY2xhc3MgQnJvd3NlckF1dGhFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlcnJvckNvZGUsIHN1YkVycm9yKSB7XHJcbiAgICAgICAgc3VwZXIoZXJyb3JDb2RlLCBCcm93c2VyQXV0aEVycm9yTWVzc2FnZXNbZXJyb3JDb2RlXSwgc3ViRXJyb3IpO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBCcm93c2VyQXV0aEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJCcm93c2VyQXV0aEVycm9yXCI7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlQnJvd3NlckF1dGhFcnJvcihlcnJvckNvZGUsIHN1YkVycm9yKSB7XHJcbiAgICByZXR1cm4gbmV3IEJyb3dzZXJBdXRoRXJyb3IoZXJyb3JDb2RlLCBzdWJFcnJvcik7XHJcbn1cblxuZXhwb3J0IHsgQnJvd3NlckF1dGhFcnJvciwgQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UsIEJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlcywgY3JlYXRlQnJvd3NlckF1dGhFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlckF1dGhFcnJvci5tanMubWFwXG4iXSwibmFtZXMiOlsiQXV0aEVycm9yIiwicGtjZU5vdENyZWF0ZWQiLCJjcnlwdG9Ob25FeGlzdGVudCIsImVtcHR5TmF2aWdhdGVVcmkiLCJoYXNoRW1wdHlFcnJvciIsIm5vU3RhdGVJbkhhc2giLCJoYXNoRG9lc05vdENvbnRhaW5Lbm93blByb3BlcnRpZXMiLCJ1bmFibGVUb1BhcnNlU3RhdGUiLCJzdGF0ZUludGVyYWN0aW9uVHlwZU1pc21hdGNoIiwiaW50ZXJhY3Rpb25JblByb2dyZXNzIiwicG9wdXBXaW5kb3dFcnJvciIsImVtcHR5V2luZG93RXJyb3IiLCJ1c2VyQ2FuY2VsbGVkIiwibW9uaXRvclBvcHVwVGltZW91dCIsIm1vbml0b3JXaW5kb3dUaW1lb3V0IiwicmVkaXJlY3RJbklmcmFtZSIsImJsb2NrSWZyYW1lUmVsb2FkIiwiYmxvY2tOZXN0ZWRQb3B1cHMiLCJpZnJhbWVDbG9zZWRQcmVtYXR1cmVseSIsInNpbGVudExvZ291dFVuc3VwcG9ydGVkIiwibm9BY2NvdW50RXJyb3IiLCJzaWxlbnRQcm9tcHRWYWx1ZUVycm9yIiwibm9Ub2tlblJlcXVlc3RDYWNoZUVycm9yIiwidW5hYmxlVG9QYXJzZVRva2VuUmVxdWVzdENhY2hlRXJyb3IiLCJub0NhY2hlZEF1dGhvcml0eUVycm9yIiwiYXV0aFJlcXVlc3ROb3RTZXRFcnJvciIsImludmFsaWRDYWNoZVR5cGUiLCJub25Ccm93c2VyRW52aXJvbm1lbnQiLCJkYXRhYmFzZU5vdE9wZW4iLCJub05ldHdvcmtDb25uZWN0aXZpdHkiLCJwb3N0UmVxdWVzdEZhaWxlZCIsImdldFJlcXVlc3RGYWlsZWQiLCJmYWlsZWRUb1BhcnNlUmVzcG9uc2UiLCJ1bmFibGVUb0xvYWRUb2tlbiIsImNyeXB0b0tleU5vdEZvdW5kIiwiYXV0aENvZGVSZXF1aXJlZCIsImF1dGhDb2RlT3JOYXRpdmVBY2NvdW50SWRSZXF1aXJlZCIsInNwYUNvZGVBbmROYXRpdmVBY2NvdW50SWRQcmVzZW50IiwiZGF0YWJhc2VVbmF2YWlsYWJsZSIsInVuYWJsZVRvQWNxdWlyZVRva2VuRnJvbU5hdGl2ZVBsYXRmb3JtIiwibmF0aXZlSGFuZHNoYWtlVGltZW91dCIsIm5hdGl2ZUV4dGVuc2lvbk5vdEluc3RhbGxlZCIsIm5hdGl2ZUNvbm5lY3Rpb25Ob3RFc3RhYmxpc2hlZCIsInVuaW5pdGlhbGl6ZWRQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiIsIm5hdGl2ZVByb21wdE5vdFN1cHBvcnRlZCIsImludmFsaWRCYXNlNjRTdHJpbmciLCJpbnZhbGlkUG9wVG9rZW5SZXF1ZXN0IiwiZmFpbGVkVG9CdWlsZEhlYWRlcnMiLCJmYWlsZWRUb1BhcnNlSGVhZGVycyIsIkJyb3dzZXJBdXRoRXJyb3JDb2RlcyIsIkVycm9yTGluayIsIkJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlcyIsIkJyb3dzZXJBdXRoRXJyb3JNZXNzYWdlIiwicGtjZU5vdEdlbmVyYXRlZCIsImNvZGUiLCJkZXNjIiwiY3J5cHRvRG9lc05vdEV4aXN0IiwiZW1wdHlOYXZpZ2F0ZVVyaUVycm9yIiwiaGFzaERvZXNOb3RDb250YWluU3RhdGVFcnJvciIsImhhc2hEb2VzTm90Q29udGFpbktub3duUHJvcGVydGllc0Vycm9yIiwidW5hYmxlVG9QYXJzZVN0YXRlRXJyb3IiLCJzdGF0ZUludGVyYWN0aW9uVHlwZU1pc21hdGNoRXJyb3IiLCJ1c2VyQ2FuY2VsbGVkRXJyb3IiLCJtb25pdG9yUG9wdXBUaW1lb3V0RXJyb3IiLCJtb25pdG9ySWZyYW1lVGltZW91dEVycm9yIiwicmVkaXJlY3RJbklmcmFtZUVycm9yIiwiYmxvY2tUb2tlblJlcXVlc3RzSW5IaWRkZW5JZnJhbWVFcnJvciIsImJsb2NrQWNxdWlyZVRva2VuSW5Qb3B1cHNFcnJvciIsImlmcmFtZUNsb3NlZFByZW1hdHVyZWx5RXJyb3IiLCJzaWxlbnRMb2dvdXRVbnN1cHBvcnRlZEVycm9yIiwiYXV0aFJlcXVlc3ROb3RTZXQiLCJub3RJbkJyb3dzZXJFbnZpcm9ubWVudCIsImZhaWxlZFRvUGFyc2VOZXR3b3JrUmVzcG9uc2UiLCJ1bmFibGVUb0xvYWRUb2tlbkVycm9yIiwic2lnbmluZ0tleU5vdEZvdW5kSW5TdG9yYWdlIiwiYXV0aENvZGVPck5hdGl2ZUFjY291bnRSZXF1aXJlZCIsInNwYUNvZGVBbmROYXRpdmVBY2NvdW50UHJlc2VudCIsImludmFsaWRCYXNlNjRTdHJpbmdFcnJvciIsIkJyb3dzZXJBdXRoRXJyb3IiLCJjb25zdHJ1Y3RvciIsImVycm9yQ29kZSIsInN1YkVycm9yIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiLCJuYW1lIiwiY3JlYXRlQnJvd3NlckF1dGhFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authCodeOrNativeAccountIdRequired: () => (/* binding */ authCodeOrNativeAccountIdRequired),\n/* harmony export */   authCodeRequired: () => (/* binding */ authCodeRequired),\n/* harmony export */   authRequestNotSetError: () => (/* binding */ authRequestNotSetError),\n/* harmony export */   blockIframeReload: () => (/* binding */ blockIframeReload),\n/* harmony export */   blockNestedPopups: () => (/* binding */ blockNestedPopups),\n/* harmony export */   cryptoKeyNotFound: () => (/* binding */ cryptoKeyNotFound),\n/* harmony export */   cryptoNonExistent: () => (/* binding */ cryptoNonExistent),\n/* harmony export */   databaseNotOpen: () => (/* binding */ databaseNotOpen),\n/* harmony export */   databaseUnavailable: () => (/* binding */ databaseUnavailable),\n/* harmony export */   emptyNavigateUri: () => (/* binding */ emptyNavigateUri),\n/* harmony export */   emptyWindowError: () => (/* binding */ emptyWindowError),\n/* harmony export */   failedToBuildHeaders: () => (/* binding */ failedToBuildHeaders),\n/* harmony export */   failedToParseHeaders: () => (/* binding */ failedToParseHeaders),\n/* harmony export */   failedToParseResponse: () => (/* binding */ failedToParseResponse),\n/* harmony export */   getRequestFailed: () => (/* binding */ getRequestFailed),\n/* harmony export */   hashDoesNotContainKnownProperties: () => (/* binding */ hashDoesNotContainKnownProperties),\n/* harmony export */   hashEmptyError: () => (/* binding */ hashEmptyError),\n/* harmony export */   iframeClosedPrematurely: () => (/* binding */ iframeClosedPrematurely),\n/* harmony export */   interactionInProgress: () => (/* binding */ interactionInProgress),\n/* harmony export */   invalidBase64String: () => (/* binding */ invalidBase64String),\n/* harmony export */   invalidCacheType: () => (/* binding */ invalidCacheType),\n/* harmony export */   invalidPopTokenRequest: () => (/* binding */ invalidPopTokenRequest),\n/* harmony export */   monitorPopupTimeout: () => (/* binding */ monitorPopupTimeout),\n/* harmony export */   monitorWindowTimeout: () => (/* binding */ monitorWindowTimeout),\n/* harmony export */   nativeConnectionNotEstablished: () => (/* binding */ nativeConnectionNotEstablished),\n/* harmony export */   nativeExtensionNotInstalled: () => (/* binding */ nativeExtensionNotInstalled),\n/* harmony export */   nativeHandshakeTimeout: () => (/* binding */ nativeHandshakeTimeout),\n/* harmony export */   nativePromptNotSupported: () => (/* binding */ nativePromptNotSupported),\n/* harmony export */   noAccountError: () => (/* binding */ noAccountError),\n/* harmony export */   noCachedAuthorityError: () => (/* binding */ noCachedAuthorityError),\n/* harmony export */   noNetworkConnectivity: () => (/* binding */ noNetworkConnectivity),\n/* harmony export */   noStateInHash: () => (/* binding */ noStateInHash),\n/* harmony export */   noTokenRequestCacheError: () => (/* binding */ noTokenRequestCacheError),\n/* harmony export */   nonBrowserEnvironment: () => (/* binding */ nonBrowserEnvironment),\n/* harmony export */   pkceNotCreated: () => (/* binding */ pkceNotCreated),\n/* harmony export */   popupWindowError: () => (/* binding */ popupWindowError),\n/* harmony export */   postRequestFailed: () => (/* binding */ postRequestFailed),\n/* harmony export */   redirectInIframe: () => (/* binding */ redirectInIframe),\n/* harmony export */   silentLogoutUnsupported: () => (/* binding */ silentLogoutUnsupported),\n/* harmony export */   silentPromptValueError: () => (/* binding */ silentPromptValueError),\n/* harmony export */   spaCodeAndNativeAccountIdPresent: () => (/* binding */ spaCodeAndNativeAccountIdPresent),\n/* harmony export */   stateInteractionTypeMismatch: () => (/* binding */ stateInteractionTypeMismatch),\n/* harmony export */   unableToAcquireTokenFromNativePlatform: () => (/* binding */ unableToAcquireTokenFromNativePlatform),\n/* harmony export */   unableToLoadToken: () => (/* binding */ unableToLoadToken),\n/* harmony export */   unableToParseState: () => (/* binding */ unableToParseState),\n/* harmony export */   unableToParseTokenRequestCacheError: () => (/* binding */ unableToParseTokenRequestCacheError),\n/* harmony export */   uninitializedPublicClientApplication: () => (/* binding */ uninitializedPublicClientApplication),\n/* harmony export */   userCancelled: () => (/* binding */ userCancelled)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const pkceNotCreated = \"pkce_not_created\";\nconst cryptoNonExistent = \"crypto_nonexistent\";\nconst emptyNavigateUri = \"empty_navigate_uri\";\nconst hashEmptyError = \"hash_empty_error\";\nconst noStateInHash = \"no_state_in_hash\";\nconst hashDoesNotContainKnownProperties = \"hash_does_not_contain_known_properties\";\nconst unableToParseState = \"unable_to_parse_state\";\nconst stateInteractionTypeMismatch = \"state_interaction_type_mismatch\";\nconst interactionInProgress = \"interaction_in_progress\";\nconst popupWindowError = \"popup_window_error\";\nconst emptyWindowError = \"empty_window_error\";\nconst userCancelled = \"user_cancelled\";\nconst monitorPopupTimeout = \"monitor_popup_timeout\";\nconst monitorWindowTimeout = \"monitor_window_timeout\";\nconst redirectInIframe = \"redirect_in_iframe\";\nconst blockIframeReload = \"block_iframe_reload\";\nconst blockNestedPopups = \"block_nested_popups\";\nconst iframeClosedPrematurely = \"iframe_closed_prematurely\";\nconst silentLogoutUnsupported = \"silent_logout_unsupported\";\nconst noAccountError = \"no_account_error\";\nconst silentPromptValueError = \"silent_prompt_value_error\";\nconst noTokenRequestCacheError = \"no_token_request_cache_error\";\nconst unableToParseTokenRequestCacheError = \"unable_to_parse_token_request_cache_error\";\nconst noCachedAuthorityError = \"no_cached_authority_error\";\nconst authRequestNotSetError = \"auth_request_not_set_error\";\nconst invalidCacheType = \"invalid_cache_type\";\nconst nonBrowserEnvironment = \"non_browser_environment\";\nconst databaseNotOpen = \"database_not_open\";\nconst noNetworkConnectivity = \"no_network_connectivity\";\nconst postRequestFailed = \"post_request_failed\";\nconst getRequestFailed = \"get_request_failed\";\nconst failedToParseResponse = \"failed_to_parse_response\";\nconst unableToLoadToken = \"unable_to_load_token\";\nconst cryptoKeyNotFound = \"crypto_key_not_found\";\nconst authCodeRequired = \"auth_code_required\";\nconst authCodeOrNativeAccountIdRequired = \"auth_code_or_nativeAccountId_required\";\nconst spaCodeAndNativeAccountIdPresent = \"spa_code_and_nativeAccountId_present\";\nconst databaseUnavailable = \"database_unavailable\";\nconst unableToAcquireTokenFromNativePlatform = \"unable_to_acquire_token_from_native_platform\";\nconst nativeHandshakeTimeout = \"native_handshake_timeout\";\nconst nativeExtensionNotInstalled = \"native_extension_not_installed\";\nconst nativeConnectionNotEstablished = \"native_connection_not_established\";\nconst uninitializedPublicClientApplication = \"uninitialized_public_client_application\";\nconst nativePromptNotSupported = \"native_prompt_not_supported\";\nconst invalidBase64String = \"invalid_base64_string\";\nconst invalidPopTokenRequest = \"invalid_pop_token_request\";\nconst failedToBuildHeaders = \"failed_to_build_headers\";\nconst failedToParseHeaders = \"failed_to_parse_headers\";\n //# sourceMappingURL=BrowserAuthErrorCodes.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3JDb2Rlcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0QsTUFBTUEsaUJBQWlCO0FBQ3ZCLE1BQU1DLG9CQUFvQjtBQUMxQixNQUFNQyxtQkFBbUI7QUFDekIsTUFBTUMsaUJBQWlCO0FBQ3ZCLE1BQU1DLGdCQUFnQjtBQUN0QixNQUFNQyxvQ0FBb0M7QUFDMUMsTUFBTUMscUJBQXFCO0FBQzNCLE1BQU1DLCtCQUErQjtBQUNyQyxNQUFNQyx3QkFBd0I7QUFDOUIsTUFBTUMsbUJBQW1CO0FBQ3pCLE1BQU1DLG1CQUFtQjtBQUN6QixNQUFNQyxnQkFBZ0I7QUFDdEIsTUFBTUMsc0JBQXNCO0FBQzVCLE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyxtQkFBbUI7QUFDekIsTUFBTUMsb0JBQW9CO0FBQzFCLE1BQU1DLG9CQUFvQjtBQUMxQixNQUFNQywwQkFBMEI7QUFDaEMsTUFBTUMsMEJBQTBCO0FBQ2hDLE1BQU1DLGlCQUFpQjtBQUN2QixNQUFNQyx5QkFBeUI7QUFDL0IsTUFBTUMsMkJBQTJCO0FBQ2pDLE1BQU1DLHNDQUFzQztBQUM1QyxNQUFNQyx5QkFBeUI7QUFDL0IsTUFBTUMseUJBQXlCO0FBQy9CLE1BQU1DLG1CQUFtQjtBQUN6QixNQUFNQyx3QkFBd0I7QUFDOUIsTUFBTUMsa0JBQWtCO0FBQ3hCLE1BQU1DLHdCQUF3QjtBQUM5QixNQUFNQyxvQkFBb0I7QUFDMUIsTUFBTUMsbUJBQW1CO0FBQ3pCLE1BQU1DLHdCQUF3QjtBQUM5QixNQUFNQyxvQkFBb0I7QUFDMUIsTUFBTUMsb0JBQW9CO0FBQzFCLE1BQU1DLG1CQUFtQjtBQUN6QixNQUFNQyxvQ0FBb0M7QUFDMUMsTUFBTUMsbUNBQW1DO0FBQ3pDLE1BQU1DLHNCQUFzQjtBQUM1QixNQUFNQyx5Q0FBeUM7QUFDL0MsTUFBTUMseUJBQXlCO0FBQy9CLE1BQU1DLDhCQUE4QjtBQUNwQyxNQUFNQyxpQ0FBaUM7QUFDdkMsTUFBTUMsdUNBQXVDO0FBQzdDLE1BQU1DLDJCQUEyQjtBQUNqQyxNQUFNQyxzQkFBc0I7QUFDNUIsTUFBTUMseUJBQXlCO0FBQy9CLE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyx1QkFBdUI7QUFFaWtDLENBQzlsQyxrREFBa0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3JDb2Rlcy5tanM/NjJhNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBwa2NlTm90Q3JlYXRlZCA9IFwicGtjZV9ub3RfY3JlYXRlZFwiO1xyXG5jb25zdCBjcnlwdG9Ob25FeGlzdGVudCA9IFwiY3J5cHRvX25vbmV4aXN0ZW50XCI7XHJcbmNvbnN0IGVtcHR5TmF2aWdhdGVVcmkgPSBcImVtcHR5X25hdmlnYXRlX3VyaVwiO1xyXG5jb25zdCBoYXNoRW1wdHlFcnJvciA9IFwiaGFzaF9lbXB0eV9lcnJvclwiO1xyXG5jb25zdCBub1N0YXRlSW5IYXNoID0gXCJub19zdGF0ZV9pbl9oYXNoXCI7XHJcbmNvbnN0IGhhc2hEb2VzTm90Q29udGFpbktub3duUHJvcGVydGllcyA9IFwiaGFzaF9kb2VzX25vdF9jb250YWluX2tub3duX3Byb3BlcnRpZXNcIjtcclxuY29uc3QgdW5hYmxlVG9QYXJzZVN0YXRlID0gXCJ1bmFibGVfdG9fcGFyc2Vfc3RhdGVcIjtcclxuY29uc3Qgc3RhdGVJbnRlcmFjdGlvblR5cGVNaXNtYXRjaCA9IFwic3RhdGVfaW50ZXJhY3Rpb25fdHlwZV9taXNtYXRjaFwiO1xyXG5jb25zdCBpbnRlcmFjdGlvbkluUHJvZ3Jlc3MgPSBcImludGVyYWN0aW9uX2luX3Byb2dyZXNzXCI7XHJcbmNvbnN0IHBvcHVwV2luZG93RXJyb3IgPSBcInBvcHVwX3dpbmRvd19lcnJvclwiO1xyXG5jb25zdCBlbXB0eVdpbmRvd0Vycm9yID0gXCJlbXB0eV93aW5kb3dfZXJyb3JcIjtcclxuY29uc3QgdXNlckNhbmNlbGxlZCA9IFwidXNlcl9jYW5jZWxsZWRcIjtcclxuY29uc3QgbW9uaXRvclBvcHVwVGltZW91dCA9IFwibW9uaXRvcl9wb3B1cF90aW1lb3V0XCI7XHJcbmNvbnN0IG1vbml0b3JXaW5kb3dUaW1lb3V0ID0gXCJtb25pdG9yX3dpbmRvd190aW1lb3V0XCI7XHJcbmNvbnN0IHJlZGlyZWN0SW5JZnJhbWUgPSBcInJlZGlyZWN0X2luX2lmcmFtZVwiO1xyXG5jb25zdCBibG9ja0lmcmFtZVJlbG9hZCA9IFwiYmxvY2tfaWZyYW1lX3JlbG9hZFwiO1xyXG5jb25zdCBibG9ja05lc3RlZFBvcHVwcyA9IFwiYmxvY2tfbmVzdGVkX3BvcHVwc1wiO1xyXG5jb25zdCBpZnJhbWVDbG9zZWRQcmVtYXR1cmVseSA9IFwiaWZyYW1lX2Nsb3NlZF9wcmVtYXR1cmVseVwiO1xyXG5jb25zdCBzaWxlbnRMb2dvdXRVbnN1cHBvcnRlZCA9IFwic2lsZW50X2xvZ291dF91bnN1cHBvcnRlZFwiO1xyXG5jb25zdCBub0FjY291bnRFcnJvciA9IFwibm9fYWNjb3VudF9lcnJvclwiO1xyXG5jb25zdCBzaWxlbnRQcm9tcHRWYWx1ZUVycm9yID0gXCJzaWxlbnRfcHJvbXB0X3ZhbHVlX2Vycm9yXCI7XHJcbmNvbnN0IG5vVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvciA9IFwibm9fdG9rZW5fcmVxdWVzdF9jYWNoZV9lcnJvclwiO1xyXG5jb25zdCB1bmFibGVUb1BhcnNlVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvciA9IFwidW5hYmxlX3RvX3BhcnNlX3Rva2VuX3JlcXVlc3RfY2FjaGVfZXJyb3JcIjtcclxuY29uc3Qgbm9DYWNoZWRBdXRob3JpdHlFcnJvciA9IFwibm9fY2FjaGVkX2F1dGhvcml0eV9lcnJvclwiO1xyXG5jb25zdCBhdXRoUmVxdWVzdE5vdFNldEVycm9yID0gXCJhdXRoX3JlcXVlc3Rfbm90X3NldF9lcnJvclwiO1xyXG5jb25zdCBpbnZhbGlkQ2FjaGVUeXBlID0gXCJpbnZhbGlkX2NhY2hlX3R5cGVcIjtcclxuY29uc3Qgbm9uQnJvd3NlckVudmlyb25tZW50ID0gXCJub25fYnJvd3Nlcl9lbnZpcm9ubWVudFwiO1xyXG5jb25zdCBkYXRhYmFzZU5vdE9wZW4gPSBcImRhdGFiYXNlX25vdF9vcGVuXCI7XHJcbmNvbnN0IG5vTmV0d29ya0Nvbm5lY3Rpdml0eSA9IFwibm9fbmV0d29ya19jb25uZWN0aXZpdHlcIjtcclxuY29uc3QgcG9zdFJlcXVlc3RGYWlsZWQgPSBcInBvc3RfcmVxdWVzdF9mYWlsZWRcIjtcclxuY29uc3QgZ2V0UmVxdWVzdEZhaWxlZCA9IFwiZ2V0X3JlcXVlc3RfZmFpbGVkXCI7XHJcbmNvbnN0IGZhaWxlZFRvUGFyc2VSZXNwb25zZSA9IFwiZmFpbGVkX3RvX3BhcnNlX3Jlc3BvbnNlXCI7XHJcbmNvbnN0IHVuYWJsZVRvTG9hZFRva2VuID0gXCJ1bmFibGVfdG9fbG9hZF90b2tlblwiO1xyXG5jb25zdCBjcnlwdG9LZXlOb3RGb3VuZCA9IFwiY3J5cHRvX2tleV9ub3RfZm91bmRcIjtcclxuY29uc3QgYXV0aENvZGVSZXF1aXJlZCA9IFwiYXV0aF9jb2RlX3JlcXVpcmVkXCI7XHJcbmNvbnN0IGF1dGhDb2RlT3JOYXRpdmVBY2NvdW50SWRSZXF1aXJlZCA9IFwiYXV0aF9jb2RlX29yX25hdGl2ZUFjY291bnRJZF9yZXF1aXJlZFwiO1xyXG5jb25zdCBzcGFDb2RlQW5kTmF0aXZlQWNjb3VudElkUHJlc2VudCA9IFwic3BhX2NvZGVfYW5kX25hdGl2ZUFjY291bnRJZF9wcmVzZW50XCI7XHJcbmNvbnN0IGRhdGFiYXNlVW5hdmFpbGFibGUgPSBcImRhdGFiYXNlX3VuYXZhaWxhYmxlXCI7XHJcbmNvbnN0IHVuYWJsZVRvQWNxdWlyZVRva2VuRnJvbU5hdGl2ZVBsYXRmb3JtID0gXCJ1bmFibGVfdG9fYWNxdWlyZV90b2tlbl9mcm9tX25hdGl2ZV9wbGF0Zm9ybVwiO1xyXG5jb25zdCBuYXRpdmVIYW5kc2hha2VUaW1lb3V0ID0gXCJuYXRpdmVfaGFuZHNoYWtlX3RpbWVvdXRcIjtcclxuY29uc3QgbmF0aXZlRXh0ZW5zaW9uTm90SW5zdGFsbGVkID0gXCJuYXRpdmVfZXh0ZW5zaW9uX25vdF9pbnN0YWxsZWRcIjtcclxuY29uc3QgbmF0aXZlQ29ubmVjdGlvbk5vdEVzdGFibGlzaGVkID0gXCJuYXRpdmVfY29ubmVjdGlvbl9ub3RfZXN0YWJsaXNoZWRcIjtcclxuY29uc3QgdW5pbml0aWFsaXplZFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uID0gXCJ1bmluaXRpYWxpemVkX3B1YmxpY19jbGllbnRfYXBwbGljYXRpb25cIjtcclxuY29uc3QgbmF0aXZlUHJvbXB0Tm90U3VwcG9ydGVkID0gXCJuYXRpdmVfcHJvbXB0X25vdF9zdXBwb3J0ZWRcIjtcclxuY29uc3QgaW52YWxpZEJhc2U2NFN0cmluZyA9IFwiaW52YWxpZF9iYXNlNjRfc3RyaW5nXCI7XHJcbmNvbnN0IGludmFsaWRQb3BUb2tlblJlcXVlc3QgPSBcImludmFsaWRfcG9wX3Rva2VuX3JlcXVlc3RcIjtcclxuY29uc3QgZmFpbGVkVG9CdWlsZEhlYWRlcnMgPSBcImZhaWxlZF90b19idWlsZF9oZWFkZXJzXCI7XHJcbmNvbnN0IGZhaWxlZFRvUGFyc2VIZWFkZXJzID0gXCJmYWlsZWRfdG9fcGFyc2VfaGVhZGVyc1wiO1xuXG5leHBvcnQgeyBhdXRoQ29kZU9yTmF0aXZlQWNjb3VudElkUmVxdWlyZWQsIGF1dGhDb2RlUmVxdWlyZWQsIGF1dGhSZXF1ZXN0Tm90U2V0RXJyb3IsIGJsb2NrSWZyYW1lUmVsb2FkLCBibG9ja05lc3RlZFBvcHVwcywgY3J5cHRvS2V5Tm90Rm91bmQsIGNyeXB0b05vbkV4aXN0ZW50LCBkYXRhYmFzZU5vdE9wZW4sIGRhdGFiYXNlVW5hdmFpbGFibGUsIGVtcHR5TmF2aWdhdGVVcmksIGVtcHR5V2luZG93RXJyb3IsIGZhaWxlZFRvQnVpbGRIZWFkZXJzLCBmYWlsZWRUb1BhcnNlSGVhZGVycywgZmFpbGVkVG9QYXJzZVJlc3BvbnNlLCBnZXRSZXF1ZXN0RmFpbGVkLCBoYXNoRG9lc05vdENvbnRhaW5Lbm93blByb3BlcnRpZXMsIGhhc2hFbXB0eUVycm9yLCBpZnJhbWVDbG9zZWRQcmVtYXR1cmVseSwgaW50ZXJhY3Rpb25JblByb2dyZXNzLCBpbnZhbGlkQmFzZTY0U3RyaW5nLCBpbnZhbGlkQ2FjaGVUeXBlLCBpbnZhbGlkUG9wVG9rZW5SZXF1ZXN0LCBtb25pdG9yUG9wdXBUaW1lb3V0LCBtb25pdG9yV2luZG93VGltZW91dCwgbmF0aXZlQ29ubmVjdGlvbk5vdEVzdGFibGlzaGVkLCBuYXRpdmVFeHRlbnNpb25Ob3RJbnN0YWxsZWQsIG5hdGl2ZUhhbmRzaGFrZVRpbWVvdXQsIG5hdGl2ZVByb21wdE5vdFN1cHBvcnRlZCwgbm9BY2NvdW50RXJyb3IsIG5vQ2FjaGVkQXV0aG9yaXR5RXJyb3IsIG5vTmV0d29ya0Nvbm5lY3Rpdml0eSwgbm9TdGF0ZUluSGFzaCwgbm9Ub2tlblJlcXVlc3RDYWNoZUVycm9yLCBub25Ccm93c2VyRW52aXJvbm1lbnQsIHBrY2VOb3RDcmVhdGVkLCBwb3B1cFdpbmRvd0Vycm9yLCBwb3N0UmVxdWVzdEZhaWxlZCwgcmVkaXJlY3RJbklmcmFtZSwgc2lsZW50TG9nb3V0VW5zdXBwb3J0ZWQsIHNpbGVudFByb21wdFZhbHVlRXJyb3IsIHNwYUNvZGVBbmROYXRpdmVBY2NvdW50SWRQcmVzZW50LCBzdGF0ZUludGVyYWN0aW9uVHlwZU1pc21hdGNoLCB1bmFibGVUb0FjcXVpcmVUb2tlbkZyb21OYXRpdmVQbGF0Zm9ybSwgdW5hYmxlVG9Mb2FkVG9rZW4sIHVuYWJsZVRvUGFyc2VTdGF0ZSwgdW5hYmxlVG9QYXJzZVRva2VuUmVxdWVzdENhY2hlRXJyb3IsIHVuaW5pdGlhbGl6ZWRQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiwgdXNlckNhbmNlbGxlZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlckF1dGhFcnJvckNvZGVzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJwa2NlTm90Q3JlYXRlZCIsImNyeXB0b05vbkV4aXN0ZW50IiwiZW1wdHlOYXZpZ2F0ZVVyaSIsImhhc2hFbXB0eUVycm9yIiwibm9TdGF0ZUluSGFzaCIsImhhc2hEb2VzTm90Q29udGFpbktub3duUHJvcGVydGllcyIsInVuYWJsZVRvUGFyc2VTdGF0ZSIsInN0YXRlSW50ZXJhY3Rpb25UeXBlTWlzbWF0Y2giLCJpbnRlcmFjdGlvbkluUHJvZ3Jlc3MiLCJwb3B1cFdpbmRvd0Vycm9yIiwiZW1wdHlXaW5kb3dFcnJvciIsInVzZXJDYW5jZWxsZWQiLCJtb25pdG9yUG9wdXBUaW1lb3V0IiwibW9uaXRvcldpbmRvd1RpbWVvdXQiLCJyZWRpcmVjdEluSWZyYW1lIiwiYmxvY2tJZnJhbWVSZWxvYWQiLCJibG9ja05lc3RlZFBvcHVwcyIsImlmcmFtZUNsb3NlZFByZW1hdHVyZWx5Iiwic2lsZW50TG9nb3V0VW5zdXBwb3J0ZWQiLCJub0FjY291bnRFcnJvciIsInNpbGVudFByb21wdFZhbHVlRXJyb3IiLCJub1Rva2VuUmVxdWVzdENhY2hlRXJyb3IiLCJ1bmFibGVUb1BhcnNlVG9rZW5SZXF1ZXN0Q2FjaGVFcnJvciIsIm5vQ2FjaGVkQXV0aG9yaXR5RXJyb3IiLCJhdXRoUmVxdWVzdE5vdFNldEVycm9yIiwiaW52YWxpZENhY2hlVHlwZSIsIm5vbkJyb3dzZXJFbnZpcm9ubWVudCIsImRhdGFiYXNlTm90T3BlbiIsIm5vTmV0d29ya0Nvbm5lY3Rpdml0eSIsInBvc3RSZXF1ZXN0RmFpbGVkIiwiZ2V0UmVxdWVzdEZhaWxlZCIsImZhaWxlZFRvUGFyc2VSZXNwb25zZSIsInVuYWJsZVRvTG9hZFRva2VuIiwiY3J5cHRvS2V5Tm90Rm91bmQiLCJhdXRoQ29kZVJlcXVpcmVkIiwiYXV0aENvZGVPck5hdGl2ZUFjY291bnRJZFJlcXVpcmVkIiwic3BhQ29kZUFuZE5hdGl2ZUFjY291bnRJZFByZXNlbnQiLCJkYXRhYmFzZVVuYXZhaWxhYmxlIiwidW5hYmxlVG9BY3F1aXJlVG9rZW5Gcm9tTmF0aXZlUGxhdGZvcm0iLCJuYXRpdmVIYW5kc2hha2VUaW1lb3V0IiwibmF0aXZlRXh0ZW5zaW9uTm90SW5zdGFsbGVkIiwibmF0aXZlQ29ubmVjdGlvbk5vdEVzdGFibGlzaGVkIiwidW5pbml0aWFsaXplZFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIiwibmF0aXZlUHJvbXB0Tm90U3VwcG9ydGVkIiwiaW52YWxpZEJhc2U2NFN0cmluZyIsImludmFsaWRQb3BUb2tlblJlcXVlc3QiLCJmYWlsZWRUb0J1aWxkSGVhZGVycyIsImZhaWxlZFRvUGFyc2VIZWFkZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthError.mjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthError.mjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BrowserConfigurationAuthError: () => (/* binding */ BrowserConfigurationAuthError),\n/* harmony export */   BrowserConfigurationAuthErrorCodes: () => (/* reexport module object */ _BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   BrowserConfigurationAuthErrorMessage: () => (/* binding */ BrowserConfigurationAuthErrorMessage),\n/* harmony export */   BrowserConfigurationAuthErrorMessages: () => (/* binding */ BrowserConfigurationAuthErrorMessages),\n/* harmony export */   createBrowserConfigurationAuthError: () => (/* binding */ createBrowserConfigurationAuthError)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BrowserConfigurationAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const BrowserConfigurationAuthErrorMessages = {\n    [_BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.storageNotSupported]: \"Given storage configuration option was not supported.\",\n    [_BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.stubbedPublicClientApplicationCalled]: \"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors\",\n    [_BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.inMemRedirectUnavailable]: \"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true.\"\n};\n/**\r\n * BrowserAuthErrorMessage class containing string constants used by error codes and messages.\r\n * @deprecated Use BrowserAuthErrorCodes instead\r\n */ const BrowserConfigurationAuthErrorMessage = {\n    storageNotSupportedError: {\n        code: _BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.storageNotSupported,\n        desc: BrowserConfigurationAuthErrorMessages[_BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.storageNotSupported]\n    },\n    stubPcaInstanceCalled: {\n        code: _BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.stubbedPublicClientApplicationCalled,\n        desc: BrowserConfigurationAuthErrorMessages[_BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.stubbedPublicClientApplicationCalled]\n    },\n    inMemRedirectUnavailable: {\n        code: _BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.inMemRedirectUnavailable,\n        desc: BrowserConfigurationAuthErrorMessages[_BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.inMemRedirectUnavailable]\n    }\n};\n/**\r\n * Browser library error class thrown by the MSAL.js library for SPAs\r\n */ class BrowserConfigurationAuthError extends _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.AuthError {\n    constructor(errorCode, errorMessage){\n        super(errorCode, errorMessage);\n        this.name = \"BrowserConfigurationAuthError\";\n        Object.setPrototypeOf(this, BrowserConfigurationAuthError.prototype);\n    }\n}\nfunction createBrowserConfigurationAuthError(errorCode) {\n    return new BrowserConfigurationAuthError(errorCode, BrowserConfigurationAuthErrorMessages[errorCode]);\n}\n //# sourceMappingURL=BrowserConfigurationAuthError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Vycm9yL0Jyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ3VEO0FBQ3dGO0FBQ2hEO0FBQ2pEO0FBRTlDOzs7Q0FHQyxHQUNELE1BQU1LLHdDQUF3QztJQUMxQyxDQUFDSix3RkFBbUJBLENBQUMsRUFBRTtJQUN2QixDQUFDQyx5R0FBb0NBLENBQUMsRUFBRTtJQUN4QyxDQUFDQyw2RkFBd0JBLENBQUMsRUFBRTtBQUNoQztBQUNBOzs7Q0FHQyxHQUNELE1BQU1HLHVDQUF1QztJQUN6Q0MsMEJBQTBCO1FBQ3RCQyxNQUFNUCx3RkFBbUJBO1FBQ3pCUSxNQUFNSixxQ0FBcUMsQ0FBQ0osd0ZBQW1CQSxDQUFDO0lBQ3BFO0lBQ0FTLHVCQUF1QjtRQUNuQkYsTUFBTU4seUdBQW9DQTtRQUMxQ08sTUFBTUoscUNBQXFDLENBQUNILHlHQUFvQ0EsQ0FBQztJQUNyRjtJQUNBQywwQkFBMEI7UUFDdEJLLE1BQU1MLDZGQUF3QkE7UUFDOUJNLE1BQU1KLHFDQUFxQyxDQUFDRiw2RkFBd0JBLENBQUM7SUFDekU7QUFDSjtBQUNBOztDQUVDLEdBQ0QsTUFBTVEsc0NBQXNDWCxpRUFBU0E7SUFDakRZLFlBQVlDLFNBQVMsRUFBRUMsWUFBWSxDQUFFO1FBQ2pDLEtBQUssQ0FBQ0QsV0FBV0M7UUFDakIsSUFBSSxDQUFDQyxJQUFJLEdBQUc7UUFDWkMsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRU4sOEJBQThCTyxTQUFTO0lBQ3ZFO0FBQ0o7QUFDQSxTQUFTQyxvQ0FBb0NOLFNBQVM7SUFDbEQsT0FBTyxJQUFJRiw4QkFBOEJFLFdBQVdSLHFDQUFxQyxDQUFDUSxVQUFVO0FBQ3hHO0FBRTJKLENBQzNKLDBEQUEwRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvZXJyb3IvQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IubWpzPzg4NzkiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBzdG9yYWdlTm90U3VwcG9ydGVkLCBzdHViYmVkUHVibGljQ2xpZW50QXBwbGljYXRpb25DYWxsZWQsIGluTWVtUmVkaXJlY3RVbmF2YWlsYWJsZSB9IGZyb20gJy4vQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JDb2Rlcy5tanMnO1xuaW1wb3J0ICogYXMgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JDb2RlcyBmcm9tICcuL0Jyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yQ29kZXMubWpzJztcbmV4cG9ydCB7IEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yQ29kZXMgfTtcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yTWVzc2FnZXMgPSB7XHJcbiAgICBbc3RvcmFnZU5vdFN1cHBvcnRlZF06IFwiR2l2ZW4gc3RvcmFnZSBjb25maWd1cmF0aW9uIG9wdGlvbiB3YXMgbm90IHN1cHBvcnRlZC5cIixcclxuICAgIFtzdHViYmVkUHVibGljQ2xpZW50QXBwbGljYXRpb25DYWxsZWRdOiBcIlN0dWIgaW5zdGFuY2Ugb2YgUHVibGljIENsaWVudCBBcHBsaWNhdGlvbiB3YXMgY2FsbGVkLiBJZiB1c2luZyBtc2FsLXJlYWN0LCBwbGVhc2UgZW5zdXJlIGNvbnRleHQgaXMgbm90IHVzZWQgd2l0aG91dCBhIHByb3ZpZGVyLiBGb3IgbW9yZSB2aXNpdDogYWthLm1zL21zYWxqcy9icm93c2VyLWVycm9yc1wiLFxyXG4gICAgW2luTWVtUmVkaXJlY3RVbmF2YWlsYWJsZV06IFwiUmVkaXJlY3QgY2Fubm90IGJlIHN1cHBvcnRlZC4gSW4tbWVtb3J5IHN0b3JhZ2Ugd2FzIHNlbGVjdGVkIGFuZCBzdG9yZUF1dGhTdGF0ZUluQ29va2llPWZhbHNlLCB3aGljaCB3b3VsZCBjYXVzZSB0aGUgbGlicmFyeSB0byBiZSB1bmFibGUgdG8gaGFuZGxlIHRoZSBpbmNvbWluZyBoYXNoLiBJZiB5b3Ugd291bGQgbGlrZSB0byB1c2UgdGhlIHJlZGlyZWN0IEFQSSwgcGxlYXNlIHVzZSBzZXNzaW9uL2xvY2FsU3RvcmFnZSBvciBzZXQgc3RvcmVBdXRoU3RhdGVJbkNvb2tpZT10cnVlLlwiLFxyXG59O1xyXG4vKipcclxuICogQnJvd3NlckF1dGhFcnJvck1lc3NhZ2UgY2xhc3MgY29udGFpbmluZyBzdHJpbmcgY29uc3RhbnRzIHVzZWQgYnkgZXJyb3IgY29kZXMgYW5kIG1lc3NhZ2VzLlxyXG4gKiBAZGVwcmVjYXRlZCBVc2UgQnJvd3NlckF1dGhFcnJvckNvZGVzIGluc3RlYWRcclxuICovXHJcbmNvbnN0IEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yTWVzc2FnZSA9IHtcclxuICAgIHN0b3JhZ2VOb3RTdXBwb3J0ZWRFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IHN0b3JhZ2VOb3RTdXBwb3J0ZWQsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JNZXNzYWdlc1tzdG9yYWdlTm90U3VwcG9ydGVkXSxcclxuICAgIH0sXHJcbiAgICBzdHViUGNhSW5zdGFuY2VDYWxsZWQ6IHtcclxuICAgICAgICBjb2RlOiBzdHViYmVkUHVibGljQ2xpZW50QXBwbGljYXRpb25DYWxsZWQsXHJcbiAgICAgICAgZGVzYzogQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JNZXNzYWdlc1tzdHViYmVkUHVibGljQ2xpZW50QXBwbGljYXRpb25DYWxsZWRdLFxyXG4gICAgfSxcclxuICAgIGluTWVtUmVkaXJlY3RVbmF2YWlsYWJsZToge1xyXG4gICAgICAgIGNvZGU6IGluTWVtUmVkaXJlY3RVbmF2YWlsYWJsZSxcclxuICAgICAgICBkZXNjOiBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvck1lc3NhZ2VzW2luTWVtUmVkaXJlY3RVbmF2YWlsYWJsZV0sXHJcbiAgICB9LFxyXG59O1xyXG4vKipcclxuICogQnJvd3NlciBsaWJyYXJ5IGVycm9yIGNsYXNzIHRocm93biBieSB0aGUgTVNBTC5qcyBsaWJyYXJ5IGZvciBTUEFzXHJcbiAqL1xyXG5jbGFzcyBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlcnJvckNvZGUsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgIHN1cGVyKGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcIkJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yXCI7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IoZXJyb3JDb2RlKSB7XHJcbiAgICByZXR1cm4gbmV3IEJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yKGVycm9yQ29kZSwgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JNZXNzYWdlc1tlcnJvckNvZGVdKTtcclxufVxuXG5leHBvcnQgeyBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvciwgQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JNZXNzYWdlLCBCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvck1lc3NhZ2VzLCBjcmVhdGVCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkF1dGhFcnJvciIsInN0b3JhZ2VOb3RTdXBwb3J0ZWQiLCJzdHViYmVkUHVibGljQ2xpZW50QXBwbGljYXRpb25DYWxsZWQiLCJpbk1lbVJlZGlyZWN0VW5hdmFpbGFibGUiLCJCcm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvckNvZGVzIiwiQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JNZXNzYWdlcyIsIkJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yTWVzc2FnZSIsInN0b3JhZ2VOb3RTdXBwb3J0ZWRFcnJvciIsImNvZGUiLCJkZXNjIiwic3R1YlBjYUluc3RhbmNlQ2FsbGVkIiwiQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IiLCJjb25zdHJ1Y3RvciIsImVycm9yQ29kZSIsImVycm9yTWVzc2FnZSIsIm5hbWUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImNyZWF0ZUJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthErrorCodes.mjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthErrorCodes.mjs ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   inMemRedirectUnavailable: () => (/* binding */ inMemRedirectUnavailable),\n/* harmony export */   storageNotSupported: () => (/* binding */ storageNotSupported),\n/* harmony export */   stubbedPublicClientApplicationCalled: () => (/* binding */ stubbedPublicClientApplicationCalled)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const storageNotSupported = \"storage_not_supported\";\nconst stubbedPublicClientApplicationCalled = \"stubbed_public_client_application_called\";\nconst inMemRedirectUnavailable = \"in_mem_redirect_unavailable\";\n //# sourceMappingURL=BrowserConfigurationAuthErrorCodes.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Vycm9yL0Jyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yQ29kZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBOzs7Q0FHQyxHQUNELE1BQU1BLHNCQUFzQjtBQUM1QixNQUFNQyx1Q0FBdUM7QUFDN0MsTUFBTUMsMkJBQTJCO0FBRThELENBQy9GLCtEQUErRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvZXJyb3IvQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3JDb2Rlcy5tanM/ZDAzZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBzdG9yYWdlTm90U3VwcG9ydGVkID0gXCJzdG9yYWdlX25vdF9zdXBwb3J0ZWRcIjtcclxuY29uc3Qgc3R1YmJlZFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uQ2FsbGVkID0gXCJzdHViYmVkX3B1YmxpY19jbGllbnRfYXBwbGljYXRpb25fY2FsbGVkXCI7XHJcbmNvbnN0IGluTWVtUmVkaXJlY3RVbmF2YWlsYWJsZSA9IFwiaW5fbWVtX3JlZGlyZWN0X3VuYXZhaWxhYmxlXCI7XG5cbmV4cG9ydCB7IGluTWVtUmVkaXJlY3RVbmF2YWlsYWJsZSwgc3RvcmFnZU5vdFN1cHBvcnRlZCwgc3R1YmJlZFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uQ2FsbGVkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ccm93c2VyQ29uZmlndXJhdGlvbkF1dGhFcnJvckNvZGVzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJzdG9yYWdlTm90U3VwcG9ydGVkIiwic3R1YmJlZFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uQ2FsbGVkIiwiaW5NZW1SZWRpcmVjdFVuYXZhaWxhYmxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthErrorCodes.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/error/NativeAuthError.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/error/NativeAuthError.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NativeAuthError: () => (/* binding */ NativeAuthError),\n/* harmony export */   NativeAuthErrorMessages: () => (/* binding */ NativeAuthErrorMessages),\n/* harmony export */   createNativeAuthError: () => (/* binding */ createNativeAuthError),\n/* harmony export */   isFatalNativeAuthError: () => (/* binding */ isFatalNativeAuthError)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs\");\n/* harmony import */ var _BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _NativeAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./NativeAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/NativeAuthErrorCodes.mjs\");\n/* harmony import */ var _broker_nativeBroker_NativeStatusCodes_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../broker/nativeBroker/NativeStatusCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/broker/nativeBroker/NativeStatusCodes.mjs\");\n/* harmony import */ var _BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const INVALID_METHOD_ERROR = -2147186943;\nconst NativeAuthErrorMessages = {\n    [_NativeAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.userSwitch]: \"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again.\"\n};\nclass NativeAuthError extends _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.AuthError {\n    constructor(errorCode, description, ext){\n        super(errorCode, description);\n        Object.setPrototypeOf(this, NativeAuthError.prototype);\n        this.name = \"NativeAuthError\";\n        this.ext = ext;\n    }\n}\n/**\r\n * These errors should result in a fallback to the 'standard' browser based auth flow.\r\n */ function isFatalNativeAuthError(error) {\n    if (error.ext && error.ext.status && (error.ext.status === _broker_nativeBroker_NativeStatusCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.PERSISTENT_ERROR || error.ext.status === _broker_nativeBroker_NativeStatusCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.DISABLED)) {\n        return true;\n    }\n    if (error.ext && error.ext.error && error.ext.error === INVALID_METHOD_ERROR) {\n        return true;\n    }\n    switch(error.errorCode){\n        case _NativeAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.contentError:\n            return true;\n        default:\n            return false;\n    }\n}\n/**\r\n * Create the appropriate error object based on the WAM status code.\r\n * @param code\r\n * @param description\r\n * @param ext\r\n * @returns\r\n */ function createNativeAuthError(code, description, ext) {\n    if (ext && ext.status) {\n        switch(ext.status){\n            case _broker_nativeBroker_NativeStatusCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.ACCOUNT_UNAVAILABLE:\n                return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.createInteractionRequiredAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.nativeAccountUnavailable);\n            case _broker_nativeBroker_NativeStatusCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.USER_INTERACTION_REQUIRED:\n                return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.InteractionRequiredAuthError(code, description);\n            case _broker_nativeBroker_NativeStatusCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.USER_CANCEL:\n                return (0,_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__.createBrowserAuthError)(_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__.userCancelled);\n            case _broker_nativeBroker_NativeStatusCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.NO_NETWORK:\n                return (0,_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__.createBrowserAuthError)(_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__.noNetworkConnectivity);\n        }\n    }\n    return new NativeAuthError(code, NativeAuthErrorMessages[code] || description, ext);\n}\n //# sourceMappingURL=NativeAuthError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Vycm9yL05hdGl2ZUF1dGhFcnJvci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDNEo7QUFDNUY7QUFDTTtBQUM2RjtBQUNoRjtBQUVuRjs7O0NBR0MsR0FDRCxNQUFNZSx1QkFBdUIsQ0FBQztBQUM5QixNQUFNQywwQkFBMEI7SUFDNUIsQ0FBQ1YsaUVBQVVBLENBQUMsRUFBRTtBQUNsQjtBQUNBLE1BQU1XLHdCQUF3QmpCLGlFQUFTQTtJQUNuQ2tCLFlBQVlDLFNBQVMsRUFBRUMsV0FBVyxFQUFFQyxHQUFHLENBQUU7UUFDckMsS0FBSyxDQUFDRixXQUFXQztRQUNqQkUsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRU4sZ0JBQWdCTyxTQUFTO1FBQ3JELElBQUksQ0FBQ0MsSUFBSSxHQUFHO1FBQ1osSUFBSSxDQUFDSixHQUFHLEdBQUdBO0lBQ2Y7QUFDSjtBQUNBOztDQUVDLEdBQ0QsU0FBU0ssdUJBQXVCQyxLQUFLO0lBQ2pDLElBQUlBLE1BQU1OLEdBQUcsSUFDVE0sTUFBTU4sR0FBRyxDQUFDTyxNQUFNLElBQ2ZELENBQUFBLE1BQU1OLEdBQUcsQ0FBQ08sTUFBTSxLQUFLckIsd0ZBQWdCQSxJQUNsQ29CLE1BQU1OLEdBQUcsQ0FBQ08sTUFBTSxLQUFLcEIsZ0ZBQU8sR0FBSTtRQUNwQyxPQUFPO0lBQ1g7SUFDQSxJQUFJbUIsTUFBTU4sR0FBRyxJQUNUTSxNQUFNTixHQUFHLENBQUNNLEtBQUssSUFDZkEsTUFBTU4sR0FBRyxDQUFDTSxLQUFLLEtBQUtaLHNCQUFzQjtRQUMxQyxPQUFPO0lBQ1g7SUFDQSxPQUFRWSxNQUFNUixTQUFTO1FBQ25CLEtBQUtkLG1FQUFZQTtZQUNiLE9BQU87UUFDWDtZQUNJLE9BQU87SUFDZjtBQUNKO0FBQ0E7Ozs7OztDQU1DLEdBQ0QsU0FBU3dCLHNCQUFzQkMsSUFBSSxFQUFFVixXQUFXLEVBQUVDLEdBQUc7SUFDakQsSUFBSUEsT0FBT0EsSUFBSU8sTUFBTSxFQUFFO1FBQ25CLE9BQVFQLElBQUlPLE1BQU07WUFDZCxLQUFLaEIsMkZBQW1CQTtnQkFDcEIsT0FBT1YsOEZBQWtDQSxDQUFDQyxnRkFBMEQ7WUFDeEcsS0FBS1EsaUdBQXlCQTtnQkFDMUIsT0FBTyxJQUFJVixvRkFBNEJBLENBQUM2QixNQUFNVjtZQUNsRCxLQUFLVixtRkFBV0E7Z0JBQ1osT0FBT04sNkVBQXNCQSxDQUFDVSxxRUFBYUE7WUFDL0MsS0FBS0wsa0ZBQVVBO2dCQUNYLE9BQU9MLDZFQUFzQkEsQ0FBQ1MsNkVBQXFCQTtRQUMzRDtJQUNKO0lBQ0EsT0FBTyxJQUFJSSxnQkFBZ0JhLE1BQU1kLHVCQUF1QixDQUFDYyxLQUFLLElBQUlWLGFBQWFDO0FBQ25GO0FBRW1HLENBQ25HLDRDQUE0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvZXJyb3IvTmF0aXZlQXV0aEVycm9yLm1qcz9jYzcyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQXV0aEVycm9yLCBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yLCBjcmVhdGVJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yLCBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yQ29kZXMgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi9Ccm93c2VyQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBjb250ZW50RXJyb3IsIHVzZXJTd2l0Y2ggfSBmcm9tICcuL05hdGl2ZUF1dGhFcnJvckNvZGVzLm1qcyc7XG5pbXBvcnQgeyBQRVJTSVNURU5UX0VSUk9SLCBESVNBQkxFRCwgTk9fTkVUV09SSywgVVNFUl9DQU5DRUwsIFVTRVJfSU5URVJBQ1RJT05fUkVRVUlSRUQsIEFDQ09VTlRfVU5BVkFJTEFCTEUgfSBmcm9tICcuLi9icm9rZXIvbmF0aXZlQnJva2VyL05hdGl2ZVN0YXR1c0NvZGVzLm1qcyc7XG5pbXBvcnQgeyBub05ldHdvcmtDb25uZWN0aXZpdHksIHVzZXJDYW5jZWxsZWQgfSBmcm9tICcuL0Jyb3dzZXJBdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgSU5WQUxJRF9NRVRIT0RfRVJST1IgPSAtMjE0NzE4Njk0MztcclxuY29uc3QgTmF0aXZlQXV0aEVycm9yTWVzc2FnZXMgPSB7XHJcbiAgICBbdXNlclN3aXRjaF06IFwiVXNlciBhdHRlbXB0ZWQgdG8gc3dpdGNoIGFjY291bnRzIGluIHRoZSBuYXRpdmUgYnJva2VyLCB3aGljaCBpcyBub3QgYWxsb3dlZC4gQWxsIG5ldyBhY2NvdW50cyBtdXN0IHNpZ24taW4gdGhyb3VnaCB0aGUgc3RhbmRhcmQgd2ViIGZsb3cgZmlyc3QsIHBsZWFzZSB0cnkgYWdhaW4uXCIsXHJcbn07XHJcbmNsYXNzIE5hdGl2ZUF1dGhFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlcnJvckNvZGUsIGRlc2NyaXB0aW9uLCBleHQpIHtcclxuICAgICAgICBzdXBlcihlcnJvckNvZGUsIGRlc2NyaXB0aW9uKTtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTmF0aXZlQXV0aEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJOYXRpdmVBdXRoRXJyb3JcIjtcclxuICAgICAgICB0aGlzLmV4dCA9IGV4dDtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogVGhlc2UgZXJyb3JzIHNob3VsZCByZXN1bHQgaW4gYSBmYWxsYmFjayB0byB0aGUgJ3N0YW5kYXJkJyBicm93c2VyIGJhc2VkIGF1dGggZmxvdy5cclxuICovXHJcbmZ1bmN0aW9uIGlzRmF0YWxOYXRpdmVBdXRoRXJyb3IoZXJyb3IpIHtcclxuICAgIGlmIChlcnJvci5leHQgJiZcclxuICAgICAgICBlcnJvci5leHQuc3RhdHVzICYmXHJcbiAgICAgICAgKGVycm9yLmV4dC5zdGF0dXMgPT09IFBFUlNJU1RFTlRfRVJST1IgfHxcclxuICAgICAgICAgICAgZXJyb3IuZXh0LnN0YXR1cyA9PT0gRElTQUJMRUQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZiAoZXJyb3IuZXh0ICYmXHJcbiAgICAgICAgZXJyb3IuZXh0LmVycm9yICYmXHJcbiAgICAgICAgZXJyb3IuZXh0LmVycm9yID09PSBJTlZBTElEX01FVEhPRF9FUlJPUikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgc3dpdGNoIChlcnJvci5lcnJvckNvZGUpIHtcclxuICAgICAgICBjYXNlIGNvbnRlbnRFcnJvcjpcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgdGhlIGFwcHJvcHJpYXRlIGVycm9yIG9iamVjdCBiYXNlZCBvbiB0aGUgV0FNIHN0YXR1cyBjb2RlLlxyXG4gKiBAcGFyYW0gY29kZVxyXG4gKiBAcGFyYW0gZGVzY3JpcHRpb25cclxuICogQHBhcmFtIGV4dFxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlTmF0aXZlQXV0aEVycm9yKGNvZGUsIGRlc2NyaXB0aW9uLCBleHQpIHtcclxuICAgIGlmIChleHQgJiYgZXh0LnN0YXR1cykge1xyXG4gICAgICAgIHN3aXRjaCAoZXh0LnN0YXR1cykge1xyXG4gICAgICAgICAgICBjYXNlIEFDQ09VTlRfVU5BVkFJTEFCTEU6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvcihJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yQ29kZXMubmF0aXZlQWNjb3VudFVuYXZhaWxhYmxlKTtcclxuICAgICAgICAgICAgY2FzZSBVU0VSX0lOVEVSQUNUSU9OX1JFUVVJUkVEOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yKGNvZGUsIGRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgY2FzZSBVU0VSX0NBTkNFTDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBjcmVhdGVCcm93c2VyQXV0aEVycm9yKHVzZXJDYW5jZWxsZWQpO1xyXG4gICAgICAgICAgICBjYXNlIE5PX05FVFdPUks6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gY3JlYXRlQnJvd3NlckF1dGhFcnJvcihub05ldHdvcmtDb25uZWN0aXZpdHkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgTmF0aXZlQXV0aEVycm9yKGNvZGUsIE5hdGl2ZUF1dGhFcnJvck1lc3NhZ2VzW2NvZGVdIHx8IGRlc2NyaXB0aW9uLCBleHQpO1xyXG59XG5cbmV4cG9ydCB7IE5hdGl2ZUF1dGhFcnJvciwgTmF0aXZlQXV0aEVycm9yTWVzc2FnZXMsIGNyZWF0ZU5hdGl2ZUF1dGhFcnJvciwgaXNGYXRhbE5hdGl2ZUF1dGhFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TmF0aXZlQXV0aEVycm9yLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJBdXRoRXJyb3IiLCJJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yIiwiY3JlYXRlSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvciIsIkludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3JDb2RlcyIsImNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IiLCJjb250ZW50RXJyb3IiLCJ1c2VyU3dpdGNoIiwiUEVSU0lTVEVOVF9FUlJPUiIsIkRJU0FCTEVEIiwiTk9fTkVUV09SSyIsIlVTRVJfQ0FOQ0VMIiwiVVNFUl9JTlRFUkFDVElPTl9SRVFVSVJFRCIsIkFDQ09VTlRfVU5BVkFJTEFCTEUiLCJub05ldHdvcmtDb25uZWN0aXZpdHkiLCJ1c2VyQ2FuY2VsbGVkIiwiSU5WQUxJRF9NRVRIT0RfRVJST1IiLCJOYXRpdmVBdXRoRXJyb3JNZXNzYWdlcyIsIk5hdGl2ZUF1dGhFcnJvciIsImNvbnN0cnVjdG9yIiwiZXJyb3JDb2RlIiwiZGVzY3JpcHRpb24iLCJleHQiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIm5hbWUiLCJpc0ZhdGFsTmF0aXZlQXV0aEVycm9yIiwiZXJyb3IiLCJzdGF0dXMiLCJjcmVhdGVOYXRpdmVBdXRoRXJyb3IiLCJjb2RlIiwibmF0aXZlQWNjb3VudFVuYXZhaWxhYmxlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/error/NativeAuthError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/error/NativeAuthErrorCodes.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/error/NativeAuthErrorCodes.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   contentError: () => (/* binding */ contentError),\n/* harmony export */   userSwitch: () => (/* binding */ userSwitch)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const contentError = \"ContentError\";\nconst userSwitch = \"user_switch\";\n //# sourceMappingURL=NativeAuthErrorCodes.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Vycm9yL05hdGl2ZUF1dGhFcnJvckNvZGVzLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBOzs7Q0FHQyxHQUNELE1BQU1BLGVBQWU7QUFDckIsTUFBTUMsYUFBYTtBQUVpQixDQUNwQyxpREFBaUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Vycm9yL05hdGl2ZUF1dGhFcnJvckNvZGVzLm1qcz9mZGEyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IGNvbnRlbnRFcnJvciA9IFwiQ29udGVudEVycm9yXCI7XHJcbmNvbnN0IHVzZXJTd2l0Y2ggPSBcInVzZXJfc3dpdGNoXCI7XG5cbmV4cG9ydCB7IGNvbnRlbnRFcnJvciwgdXNlclN3aXRjaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TmF0aXZlQXV0aEVycm9yQ29kZXMubWpzLm1hcFxuIl0sIm5hbWVzIjpbImNvbnRlbnRFcnJvciIsInVzZXJTd2l0Y2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/error/NativeAuthErrorCodes.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/error/NestedAppAuthError.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/error/NestedAppAuthError.mjs ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NestedAppAuthError: () => (/* binding */ NestedAppAuthError),\n/* harmony export */   NestedAppAuthErrorMessage: () => (/* binding */ NestedAppAuthErrorMessage)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * NestedAppAuthErrorMessage class containing string constants used by error codes and messages.\r\n */ const NestedAppAuthErrorMessage = {\n    unsupportedMethod: {\n        code: \"unsupported_method\",\n        desc: \"This method is not supported in nested app environment.\"\n    }\n};\nclass NestedAppAuthError extends _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.AuthError {\n    constructor(errorCode, errorMessage){\n        super(errorCode, errorMessage);\n        Object.setPrototypeOf(this, NestedAppAuthError.prototype);\n        this.name = \"NestedAppAuthError\";\n    }\n    static createUnsupportedError() {\n        return new NestedAppAuthError(NestedAppAuthErrorMessage.unsupportedMethod.code, NestedAppAuthErrorMessage.unsupportedMethod.desc);\n    }\n}\n //# sourceMappingURL=NestedAppAuthError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2Vycm9yL05lc3RlZEFwcEF1dGhFcnJvci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ3VEO0FBRXZEOzs7Q0FHQyxHQUNEOztDQUVDLEdBQ0QsTUFBTUMsNEJBQTRCO0lBQzlCQyxtQkFBbUI7UUFDZkMsTUFBTTtRQUNOQyxNQUFNO0lBQ1Y7QUFDSjtBQUNBLE1BQU1DLDJCQUEyQkwsaUVBQVNBO0lBQ3RDTSxZQUFZQyxTQUFTLEVBQUVDLFlBQVksQ0FBRTtRQUNqQyxLQUFLLENBQUNELFdBQVdDO1FBQ2pCQyxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFTCxtQkFBbUJNLFNBQVM7UUFDeEQsSUFBSSxDQUFDQyxJQUFJLEdBQUc7SUFDaEI7SUFDQSxPQUFPQyx5QkFBeUI7UUFDNUIsT0FBTyxJQUFJUixtQkFBbUJKLDBCQUEwQkMsaUJBQWlCLENBQUNDLElBQUksRUFBRUYsMEJBQTBCQyxpQkFBaUIsQ0FBQ0UsSUFBSTtJQUNwSTtBQUNKO0FBRXlELENBQ3pELCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvZXJyb3IvTmVzdGVkQXBwQXV0aEVycm9yLm1qcz83OTdmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uL2Jyb3dzZXInO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIE5lc3RlZEFwcEF1dGhFcnJvck1lc3NhZ2UgY2xhc3MgY29udGFpbmluZyBzdHJpbmcgY29uc3RhbnRzIHVzZWQgYnkgZXJyb3IgY29kZXMgYW5kIG1lc3NhZ2VzLlxyXG4gKi9cclxuY29uc3QgTmVzdGVkQXBwQXV0aEVycm9yTWVzc2FnZSA9IHtcclxuICAgIHVuc3VwcG9ydGVkTWV0aG9kOiB7XHJcbiAgICAgICAgY29kZTogXCJ1bnN1cHBvcnRlZF9tZXRob2RcIixcclxuICAgICAgICBkZXNjOiBcIlRoaXMgbWV0aG9kIGlzIG5vdCBzdXBwb3J0ZWQgaW4gbmVzdGVkIGFwcCBlbnZpcm9ubWVudC5cIixcclxuICAgIH0sXHJcbn07XHJcbmNsYXNzIE5lc3RlZEFwcEF1dGhFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlcnJvckNvZGUsIGVycm9yTWVzc2FnZSkge1xyXG4gICAgICAgIHN1cGVyKGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgTmVzdGVkQXBwQXV0aEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJOZXN0ZWRBcHBBdXRoRXJyb3JcIjtcclxuICAgIH1cclxuICAgIHN0YXRpYyBjcmVhdGVVbnN1cHBvcnRlZEVycm9yKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgTmVzdGVkQXBwQXV0aEVycm9yKE5lc3RlZEFwcEF1dGhFcnJvck1lc3NhZ2UudW5zdXBwb3J0ZWRNZXRob2QuY29kZSwgTmVzdGVkQXBwQXV0aEVycm9yTWVzc2FnZS51bnN1cHBvcnRlZE1ldGhvZC5kZXNjKTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBOZXN0ZWRBcHBBdXRoRXJyb3IsIE5lc3RlZEFwcEF1dGhFcnJvck1lc3NhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5lc3RlZEFwcEF1dGhFcnJvci5tanMubWFwXG4iXSwibmFtZXMiOlsiQXV0aEVycm9yIiwiTmVzdGVkQXBwQXV0aEVycm9yTWVzc2FnZSIsInVuc3VwcG9ydGVkTWV0aG9kIiwiY29kZSIsImRlc2MiLCJOZXN0ZWRBcHBBdXRoRXJyb3IiLCJjb25zdHJ1Y3RvciIsImVycm9yQ29kZSIsImVycm9yTWVzc2FnZSIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwibmFtZSIsImNyZWF0ZVVuc3VwcG9ydGVkRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/error/NestedAppAuthError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/event/EventHandler.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/event/EventHandler.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventHandler: () => (/* binding */ EventHandler)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/logger/Logger.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class EventHandler {\n    constructor(logger){\n        this.eventCallbacks = new Map();\n        this.logger = logger || new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Logger({});\n    }\n    /**\r\n     * Adds event callbacks to array\r\n     * @param callback - callback to be invoked when an event is raised\r\n     * @param eventTypes - list of events that this callback will be invoked for, if not provided callback will be invoked for all events\r\n     * @param callbackId - Identifier for the callback, used to locate and remove the callback when no longer required\r\n     */ addEventCallback(callback, eventTypes, callbackId) {\n        if (false) {}\n        return null;\n    }\n    /**\r\n     * Removes callback with provided id from callback array\r\n     * @param callbackId\r\n     */ removeEventCallback(callbackId) {\n        this.eventCallbacks.delete(callbackId);\n        this.logger.verbose(`Event callback ${callbackId} removed.`);\n    }\n    /**\r\n     * Emits events by calling callback with event message\r\n     * @param eventType\r\n     * @param interactionType\r\n     * @param payload\r\n     * @param error\r\n     */ emitEvent(eventType, interactionType, payload, error) {\n        if (false) {}\n    }\n}\n //# sourceMappingURL=EventHandler.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2V2ZW50L0V2ZW50SGFuZGxlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDb0Q7QUFDRztBQUV2RDs7O0NBR0MsR0FDRCxNQUFNRTtJQUNGQyxZQUFZQyxNQUFNLENBQUU7UUFDaEIsSUFBSSxDQUFDQyxjQUFjLEdBQUcsSUFBSUM7UUFDMUIsSUFBSSxDQUFDRixNQUFNLEdBQUdBLFVBQVUsSUFBSUosOERBQU1BLENBQUMsQ0FBQztJQUN4QztJQUNBOzs7OztLQUtDLEdBQ0RPLGlCQUFpQkMsUUFBUSxFQUFFQyxVQUFVLEVBQUVDLFVBQVUsRUFBRTtRQUMvQyxJQUFJLEtBQTZCLEVBQUUsRUFTbEM7UUFDRCxPQUFPO0lBQ1g7SUFDQTs7O0tBR0MsR0FDRE0sb0JBQW9CTixVQUFVLEVBQUU7UUFDNUIsSUFBSSxDQUFDTCxjQUFjLENBQUNZLE1BQU0sQ0FBQ1A7UUFDM0IsSUFBSSxDQUFDTixNQUFNLENBQUNXLE9BQU8sQ0FBQyxDQUFDLGVBQWUsRUFBRUwsV0FBVyxTQUFTLENBQUM7SUFDL0Q7SUFDQTs7Ozs7O0tBTUMsR0FDRFEsVUFBVUMsU0FBUyxFQUFFQyxlQUFlLEVBQUVDLE9BQU8sRUFBRVIsS0FBSyxFQUFFO1FBQ2xELElBQUksS0FBNkIsRUFBRSxFQWVsQztJQUNMO0FBQ0o7QUFFd0IsQ0FDeEIseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9ldmVudC9FdmVudEhhbmRsZXIubWpzPzdiNTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBMb2dnZXIgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBjcmVhdGVHdWlkIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlclV0aWxzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBFdmVudEhhbmRsZXIge1xyXG4gICAgY29uc3RydWN0b3IobG9nZ2VyKSB7XHJcbiAgICAgICAgdGhpcy5ldmVudENhbGxiYWNrcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlciB8fCBuZXcgTG9nZ2VyKHt9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBldmVudCBjYWxsYmFja3MgdG8gYXJyYXlcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBhbiBldmVudCBpcyByYWlzZWRcclxuICAgICAqIEBwYXJhbSBldmVudFR5cGVzIC0gbGlzdCBvZiBldmVudHMgdGhhdCB0aGlzIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCBmb3IsIGlmIG5vdCBwcm92aWRlZCBjYWxsYmFjayB3aWxsIGJlIGludm9rZWQgZm9yIGFsbCBldmVudHNcclxuICAgICAqIEBwYXJhbSBjYWxsYmFja0lkIC0gSWRlbnRpZmllciBmb3IgdGhlIGNhbGxiYWNrLCB1c2VkIHRvIGxvY2F0ZSBhbmQgcmVtb3ZlIHRoZSBjYWxsYmFjayB3aGVuIG5vIGxvbmdlciByZXF1aXJlZFxyXG4gICAgICovXHJcbiAgICBhZGRFdmVudENhbGxiYWNrKGNhbGxiYWNrLCBldmVudFR5cGVzLCBjYWxsYmFja0lkKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgaWQgPSBjYWxsYmFja0lkIHx8IGNyZWF0ZUd1aWQoKTtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZXZlbnRDYWxsYmFja3MuaGFzKGlkKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEV2ZW50IGNhbGxiYWNrIHdpdGggaWQ6ICR7aWR9IGlzIGFscmVhZHkgcmVnaXN0ZXJlZC4gUGxlYXNlIHByb3ZpZGUgYSB1bmlxdWUgaWQgb3IgcmVtb3ZlIHRoZSBleGlzdGluZyBjYWxsYmFjayBhbmQgdHJ5IGFnYWluLmApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5ldmVudENhbGxiYWNrcy5zZXQoaWQsIFtjYWxsYmFjaywgZXZlbnRUeXBlcyB8fCBbXV0pO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKGBFdmVudCBjYWxsYmFjayByZWdpc3RlcmVkIHdpdGggaWQ6ICR7aWR9YCk7XHJcbiAgICAgICAgICAgIHJldHVybiBpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgY2FsbGJhY2sgd2l0aCBwcm92aWRlZCBpZCBmcm9tIGNhbGxiYWNrIGFycmF5XHJcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2tJZFxyXG4gICAgICovXHJcbiAgICByZW1vdmVFdmVudENhbGxiYWNrKGNhbGxiYWNrSWQpIHtcclxuICAgICAgICB0aGlzLmV2ZW50Q2FsbGJhY2tzLmRlbGV0ZShjYWxsYmFja0lkKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKGBFdmVudCBjYWxsYmFjayAke2NhbGxiYWNrSWR9IHJlbW92ZWQuYCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEVtaXRzIGV2ZW50cyBieSBjYWxsaW5nIGNhbGxiYWNrIHdpdGggZXZlbnQgbWVzc2FnZVxyXG4gICAgICogQHBhcmFtIGV2ZW50VHlwZVxyXG4gICAgICogQHBhcmFtIGludGVyYWN0aW9uVHlwZVxyXG4gICAgICogQHBhcmFtIHBheWxvYWRcclxuICAgICAqIEBwYXJhbSBlcnJvclxyXG4gICAgICovXHJcbiAgICBlbWl0RXZlbnQoZXZlbnRUeXBlLCBpbnRlcmFjdGlvblR5cGUsIHBheWxvYWQsIGVycm9yKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogZXZlbnRUeXBlLFxyXG4gICAgICAgICAgICAgICAgaW50ZXJhY3Rpb25UeXBlOiBpbnRlcmFjdGlvblR5cGUgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgIHBheWxvYWQ6IHBheWxvYWQgfHwgbnVsbCxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50Q2FsbGJhY2tzLmZvckVhY2goKFtjYWxsYmFjaywgZXZlbnRUeXBlc10sIGNhbGxiYWNrSWQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChldmVudFR5cGVzLmxlbmd0aCA9PT0gMCB8fFxyXG4gICAgICAgICAgICAgICAgICAgIGV2ZW50VHlwZXMuaW5jbHVkZXMoZXZlbnRUeXBlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoYEVtaXR0aW5nIGV2ZW50IHRvIGNhbGxiYWNrICR7Y2FsbGJhY2tJZH06ICR7ZXZlbnRUeXBlfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrLmFwcGx5KG51bGwsIFttZXNzYWdlXSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBFdmVudEhhbmRsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUV2ZW50SGFuZGxlci5tanMubWFwXG4iXSwibmFtZXMiOlsiTG9nZ2VyIiwiY3JlYXRlR3VpZCIsIkV2ZW50SGFuZGxlciIsImNvbnN0cnVjdG9yIiwibG9nZ2VyIiwiZXZlbnRDYWxsYmFja3MiLCJNYXAiLCJhZGRFdmVudENhbGxiYWNrIiwiY2FsbGJhY2siLCJldmVudFR5cGVzIiwiY2FsbGJhY2tJZCIsImlkIiwiaGFzIiwiZXJyb3IiLCJzZXQiLCJ2ZXJib3NlIiwicmVtb3ZlRXZlbnRDYWxsYmFjayIsImRlbGV0ZSIsImVtaXRFdmVudCIsImV2ZW50VHlwZSIsImludGVyYWN0aW9uVHlwZSIsInBheWxvYWQiLCJtZXNzYWdlIiwidGltZXN0YW1wIiwiRGF0ZSIsIm5vdyIsImZvckVhY2giLCJsZW5ndGgiLCJpbmNsdWRlcyIsImFwcGx5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/event/EventHandler.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/event/EventType.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/event/EventType.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventType: () => (/* binding */ EventType)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const EventType = {\n    INITIALIZE_START: \"msal:initializeStart\",\n    INITIALIZE_END: \"msal:initializeEnd\",\n    ACCOUNT_ADDED: \"msal:accountAdded\",\n    ACCOUNT_REMOVED: \"msal:accountRemoved\",\n    ACTIVE_ACCOUNT_CHANGED: \"msal:activeAccountChanged\",\n    LOGIN_START: \"msal:loginStart\",\n    LOGIN_SUCCESS: \"msal:loginSuccess\",\n    LOGIN_FAILURE: \"msal:loginFailure\",\n    ACQUIRE_TOKEN_START: \"msal:acquireTokenStart\",\n    ACQUIRE_TOKEN_SUCCESS: \"msal:acquireTokenSuccess\",\n    ACQUIRE_TOKEN_FAILURE: \"msal:acquireTokenFailure\",\n    ACQUIRE_TOKEN_NETWORK_START: \"msal:acquireTokenFromNetworkStart\",\n    SSO_SILENT_START: \"msal:ssoSilentStart\",\n    SSO_SILENT_SUCCESS: \"msal:ssoSilentSuccess\",\n    SSO_SILENT_FAILURE: \"msal:ssoSilentFailure\",\n    ACQUIRE_TOKEN_BY_CODE_START: \"msal:acquireTokenByCodeStart\",\n    ACQUIRE_TOKEN_BY_CODE_SUCCESS: \"msal:acquireTokenByCodeSuccess\",\n    ACQUIRE_TOKEN_BY_CODE_FAILURE: \"msal:acquireTokenByCodeFailure\",\n    HANDLE_REDIRECT_START: \"msal:handleRedirectStart\",\n    HANDLE_REDIRECT_END: \"msal:handleRedirectEnd\",\n    POPUP_OPENED: \"msal:popupOpened\",\n    LOGOUT_START: \"msal:logoutStart\",\n    LOGOUT_SUCCESS: \"msal:logoutSuccess\",\n    LOGOUT_FAILURE: \"msal:logoutFailure\",\n    LOGOUT_END: \"msal:logoutEnd\",\n    RESTORE_FROM_BFCACHE: \"msal:restoreFromBFCache\"\n};\n //# sourceMappingURL=EventType.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2V2ZW50L0V2ZW50VHlwZS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBOzs7Q0FHQyxHQUNELE1BQU1BLFlBQVk7SUFDZEMsa0JBQWtCO0lBQ2xCQyxnQkFBZ0I7SUFDaEJDLGVBQWU7SUFDZkMsaUJBQWlCO0lBQ2pCQyx3QkFBd0I7SUFDeEJDLGFBQWE7SUFDYkMsZUFBZTtJQUNmQyxlQUFlO0lBQ2ZDLHFCQUFxQjtJQUNyQkMsdUJBQXVCO0lBQ3ZCQyx1QkFBdUI7SUFDdkJDLDZCQUE2QjtJQUM3QkMsa0JBQWtCO0lBQ2xCQyxvQkFBb0I7SUFDcEJDLG9CQUFvQjtJQUNwQkMsNkJBQTZCO0lBQzdCQywrQkFBK0I7SUFDL0JDLCtCQUErQjtJQUMvQkMsdUJBQXVCO0lBQ3ZCQyxxQkFBcUI7SUFDckJDLGNBQWM7SUFDZEMsY0FBYztJQUNkQyxnQkFBZ0I7SUFDaEJDLGdCQUFnQjtJQUNoQkMsWUFBWTtJQUNaQyxzQkFBc0I7QUFDMUI7QUFFcUIsQ0FDckIsc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9ldmVudC9FdmVudFR5cGUubWpzPzFhMTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgRXZlbnRUeXBlID0ge1xyXG4gICAgSU5JVElBTElaRV9TVEFSVDogXCJtc2FsOmluaXRpYWxpemVTdGFydFwiLFxyXG4gICAgSU5JVElBTElaRV9FTkQ6IFwibXNhbDppbml0aWFsaXplRW5kXCIsXHJcbiAgICBBQ0NPVU5UX0FEREVEOiBcIm1zYWw6YWNjb3VudEFkZGVkXCIsXHJcbiAgICBBQ0NPVU5UX1JFTU9WRUQ6IFwibXNhbDphY2NvdW50UmVtb3ZlZFwiLFxyXG4gICAgQUNUSVZFX0FDQ09VTlRfQ0hBTkdFRDogXCJtc2FsOmFjdGl2ZUFjY291bnRDaGFuZ2VkXCIsXHJcbiAgICBMT0dJTl9TVEFSVDogXCJtc2FsOmxvZ2luU3RhcnRcIixcclxuICAgIExPR0lOX1NVQ0NFU1M6IFwibXNhbDpsb2dpblN1Y2Nlc3NcIixcclxuICAgIExPR0lOX0ZBSUxVUkU6IFwibXNhbDpsb2dpbkZhaWx1cmVcIixcclxuICAgIEFDUVVJUkVfVE9LRU5fU1RBUlQ6IFwibXNhbDphY3F1aXJlVG9rZW5TdGFydFwiLFxyXG4gICAgQUNRVUlSRV9UT0tFTl9TVUNDRVNTOiBcIm1zYWw6YWNxdWlyZVRva2VuU3VjY2Vzc1wiLFxyXG4gICAgQUNRVUlSRV9UT0tFTl9GQUlMVVJFOiBcIm1zYWw6YWNxdWlyZVRva2VuRmFpbHVyZVwiLFxyXG4gICAgQUNRVUlSRV9UT0tFTl9ORVRXT1JLX1NUQVJUOiBcIm1zYWw6YWNxdWlyZVRva2VuRnJvbU5ldHdvcmtTdGFydFwiLFxyXG4gICAgU1NPX1NJTEVOVF9TVEFSVDogXCJtc2FsOnNzb1NpbGVudFN0YXJ0XCIsXHJcbiAgICBTU09fU0lMRU5UX1NVQ0NFU1M6IFwibXNhbDpzc29TaWxlbnRTdWNjZXNzXCIsXHJcbiAgICBTU09fU0lMRU5UX0ZBSUxVUkU6IFwibXNhbDpzc29TaWxlbnRGYWlsdXJlXCIsXHJcbiAgICBBQ1FVSVJFX1RPS0VOX0JZX0NPREVfU1RBUlQ6IFwibXNhbDphY3F1aXJlVG9rZW5CeUNvZGVTdGFydFwiLFxyXG4gICAgQUNRVUlSRV9UT0tFTl9CWV9DT0RFX1NVQ0NFU1M6IFwibXNhbDphY3F1aXJlVG9rZW5CeUNvZGVTdWNjZXNzXCIsXHJcbiAgICBBQ1FVSVJFX1RPS0VOX0JZX0NPREVfRkFJTFVSRTogXCJtc2FsOmFjcXVpcmVUb2tlbkJ5Q29kZUZhaWx1cmVcIixcclxuICAgIEhBTkRMRV9SRURJUkVDVF9TVEFSVDogXCJtc2FsOmhhbmRsZVJlZGlyZWN0U3RhcnRcIixcclxuICAgIEhBTkRMRV9SRURJUkVDVF9FTkQ6IFwibXNhbDpoYW5kbGVSZWRpcmVjdEVuZFwiLFxyXG4gICAgUE9QVVBfT1BFTkVEOiBcIm1zYWw6cG9wdXBPcGVuZWRcIixcclxuICAgIExPR09VVF9TVEFSVDogXCJtc2FsOmxvZ291dFN0YXJ0XCIsXHJcbiAgICBMT0dPVVRfU1VDQ0VTUzogXCJtc2FsOmxvZ291dFN1Y2Nlc3NcIixcclxuICAgIExPR09VVF9GQUlMVVJFOiBcIm1zYWw6bG9nb3V0RmFpbHVyZVwiLFxyXG4gICAgTE9HT1VUX0VORDogXCJtc2FsOmxvZ291dEVuZFwiLFxyXG4gICAgUkVTVE9SRV9GUk9NX0JGQ0FDSEU6IFwibXNhbDpyZXN0b3JlRnJvbUJGQ2FjaGVcIixcclxufTtcblxuZXhwb3J0IHsgRXZlbnRUeXBlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFR5cGUubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkV2ZW50VHlwZSIsIklOSVRJQUxJWkVfU1RBUlQiLCJJTklUSUFMSVpFX0VORCIsIkFDQ09VTlRfQURERUQiLCJBQ0NPVU5UX1JFTU9WRUQiLCJBQ1RJVkVfQUNDT1VOVF9DSEFOR0VEIiwiTE9HSU5fU1RBUlQiLCJMT0dJTl9TVUNDRVNTIiwiTE9HSU5fRkFJTFVSRSIsIkFDUVVJUkVfVE9LRU5fU1RBUlQiLCJBQ1FVSVJFX1RPS0VOX1NVQ0NFU1MiLCJBQ1FVSVJFX1RPS0VOX0ZBSUxVUkUiLCJBQ1FVSVJFX1RPS0VOX05FVFdPUktfU1RBUlQiLCJTU09fU0lMRU5UX1NUQVJUIiwiU1NPX1NJTEVOVF9TVUNDRVNTIiwiU1NPX1NJTEVOVF9GQUlMVVJFIiwiQUNRVUlSRV9UT0tFTl9CWV9DT0RFX1NUQVJUIiwiQUNRVUlSRV9UT0tFTl9CWV9DT0RFX1NVQ0NFU1MiLCJBQ1FVSVJFX1RPS0VOX0JZX0NPREVfRkFJTFVSRSIsIkhBTkRMRV9SRURJUkVDVF9TVEFSVCIsIkhBTkRMRV9SRURJUkVDVF9FTkQiLCJQT1BVUF9PUEVORUQiLCJMT0dPVVRfU1RBUlQiLCJMT0dPVVRfU1VDQ0VTUyIsIkxPR09VVF9GQUlMVVJFIiwiTE9HT1VUX0VORCIsIlJFU1RPUkVfRlJPTV9CRkNBQ0hFIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/event/EventType.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/BaseInteractionClient.mjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_client/BaseInteractionClient.mjs ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseInteractionClient: () => (/* binding */ BaseInteractionClient)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/entities/AccountEntity.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/Authority.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityFactory.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs\");\n/* harmony import */ var _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../packageMetadata.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/packageMetadata.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/BrowserUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserUtils.mjs\");\n/* harmony import */ var _crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../crypto/BrowserCrypto.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/crypto/BrowserCrypto.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class BaseInteractionClient {\n    constructor(config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, performanceClient, nativeMessageHandler, correlationId){\n        this.config = config;\n        this.browserStorage = storageImpl;\n        this.browserCrypto = browserCrypto;\n        this.networkClient = this.config.system.networkClient;\n        this.eventHandler = eventHandler;\n        this.navigationClient = navigationClient;\n        this.nativeMessageHandler = nativeMessageHandler;\n        this.correlationId = correlationId || (0,_crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_0__.createNewGuid)();\n        this.logger = logger.clone(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_1__.BrowserConstants.MSAL_SKU, _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_2__.version, this.correlationId);\n        this.performanceClient = performanceClient;\n    }\n    async clearCacheOnLogout(account) {\n        if (account) {\n            if (_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.AccountEntity.accountInfoIsEqual(account, this.browserStorage.getActiveAccount(), false)) {\n                this.logger.verbose(\"Setting active account to null\");\n                this.browserStorage.setActiveAccount(null);\n            }\n            // Clear given account.\n            try {\n                await this.browserStorage.removeAccount(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.AccountEntity.generateAccountCacheKey(account));\n                this.logger.verbose(\"Cleared cache items belonging to the account provided in the logout request.\");\n            } catch (error) {\n                this.logger.error(\"Account provided in logout request was not found. Local cache unchanged.\");\n            }\n        } else {\n            try {\n                this.logger.verbose(\"No account provided in logout request, clearing all cache items.\", this.correlationId);\n                // Clear all accounts and tokens\n                await this.browserStorage.clear();\n                // Clear any stray keys from IndexedDB\n                await this.browserCrypto.clearKeystore();\n            } catch (e) {\n                this.logger.error(\"Attempted to clear all MSAL cache items and failed. Local cache unchanged.\");\n            }\n        }\n    }\n    /**\r\n     *\r\n     * Use to get the redirect uri configured in MSAL or null.\r\n     * @param requestRedirectUri\r\n     * @returns Redirect URL\r\n     *\r\n     */ getRedirectUri(requestRedirectUri) {\n        this.logger.verbose(\"getRedirectUri called\");\n        const redirectUri = requestRedirectUri || this.config.auth.redirectUri;\n        return _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.UrlString.getAbsoluteUrl(redirectUri, (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_5__.getCurrentUri)());\n    }\n    /**\r\n     *\r\n     * @param apiId\r\n     * @param correlationId\r\n     * @param forceRefresh\r\n     */ initializeServerTelemetryManager(apiId, forceRefresh) {\n        this.logger.verbose(\"initializeServerTelemetryManager called\");\n        const telemetryPayload = {\n            clientId: this.config.auth.clientId,\n            correlationId: this.correlationId,\n            apiId: apiId,\n            forceRefresh: forceRefresh || false,\n            wrapperSKU: this.browserStorage.getWrapperMetadata()[0],\n            wrapperVer: this.browserStorage.getWrapperMetadata()[1]\n        };\n        return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.ServerTelemetryManager(telemetryPayload, this.browserStorage);\n    }\n    /**\r\n     * Used to get a discovered version of the default authority.\r\n     * @param params {\r\n     *         requestAuthority?: string;\r\n     *         requestAzureCloudOptions?: AzureCloudOptions;\r\n     *         requestExtraQueryParameters?: StringDict;\r\n     *         account?: AccountInfo;\r\n     *        }\r\n     */ async getDiscoveredAuthority(params) {\n        const { account } = params;\n        const instanceAwareEQ = params.requestExtraQueryParameters && params.requestExtraQueryParameters.hasOwnProperty(\"instance_aware\") ? params.requestExtraQueryParameters[\"instance_aware\"] : undefined;\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.StandardInteractionClientGetDiscoveredAuthority, this.correlationId);\n        const authorityOptions = {\n            protocolMode: this.config.auth.protocolMode,\n            OIDCOptions: this.config.auth.OIDCOptions,\n            knownAuthorities: this.config.auth.knownAuthorities,\n            cloudDiscoveryMetadata: this.config.auth.cloudDiscoveryMetadata,\n            authorityMetadata: this.config.auth.authorityMetadata,\n            skipAuthorityMetadataCache: this.config.auth.skipAuthorityMetadataCache\n        };\n        // build authority string based on auth params, precedence - azureCloudInstance + tenant >> authority\n        const resolvedAuthority = params.requestAuthority || this.config.auth.authority;\n        const resolvedInstanceAware = instanceAwareEQ?.length ? instanceAwareEQ === \"true\" : this.config.auth.instanceAware;\n        const userAuthority = account && resolvedInstanceAware ? this.config.auth.authority.replace(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.UrlString.getDomainFromUrl(resolvedAuthority), account.environment) : resolvedAuthority;\n        // fall back to the authority from config\n        const builtAuthority = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.Authority.generateAuthority(userAuthority, params.requestAzureCloudOptions || this.config.auth.azureCloudOptions);\n        const discoveredAuthority = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.invokeAsync)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.createDiscoveredInstance, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityFactoryCreateDiscoveredInstance, this.logger, this.performanceClient, this.correlationId)(builtAuthority, this.config.system.networkClient, this.browserStorage, authorityOptions, this.logger, this.correlationId, this.performanceClient);\n        if (account && !discoveredAuthority.isAlias(account.environment)) {\n            throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.createClientConfigurationError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_12__.authorityMismatch);\n        }\n        return discoveredAuthority;\n    }\n}\n //# sourceMappingURL=BaseInteractionClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9CYXNlSW50ZXJhY3Rpb25DbGllbnQubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQzBOO0FBQ3pLO0FBQ2dCO0FBQ1A7QUFDRTtBQUU1RDs7O0NBR0MsR0FDRCxNQUFNYTtJQUNGQyxZQUFZQyxNQUFNLEVBQUVDLFdBQVcsRUFBRUMsYUFBYSxFQUFFQyxNQUFNLEVBQUVDLFlBQVksRUFBRUMsZ0JBQWdCLEVBQUVDLGlCQUFpQixFQUFFQyxvQkFBb0IsRUFBRUMsYUFBYSxDQUFFO1FBQzVJLElBQUksQ0FBQ1IsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ1MsY0FBYyxHQUFHUjtRQUN0QixJQUFJLENBQUNDLGFBQWEsR0FBR0E7UUFDckIsSUFBSSxDQUFDUSxhQUFhLEdBQUcsSUFBSSxDQUFDVixNQUFNLENBQUNXLE1BQU0sQ0FBQ0QsYUFBYTtRQUNyRCxJQUFJLENBQUNOLFlBQVksR0FBR0E7UUFDcEIsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBR0E7UUFDeEIsSUFBSSxDQUFDRSxvQkFBb0IsR0FBR0E7UUFDNUIsSUFBSSxDQUFDQyxhQUFhLEdBQUdBLGlCQUFpQlgsd0VBQWFBO1FBQ25ELElBQUksQ0FBQ00sTUFBTSxHQUFHQSxPQUFPUyxLQUFLLENBQUNqQix5RUFBZ0JBLENBQUNrQixRQUFRLEVBQUVuQix5REFBT0EsRUFBRSxJQUFJLENBQUNjLGFBQWE7UUFDakYsSUFBSSxDQUFDRixpQkFBaUIsR0FBR0E7SUFDN0I7SUFDQSxNQUFNUSxtQkFBbUJDLE9BQU8sRUFBRTtRQUM5QixJQUFJQSxTQUFTO1lBQ1QsSUFBSTlCLHFFQUFhQSxDQUFDK0Isa0JBQWtCLENBQUNELFNBQVMsSUFBSSxDQUFDTixjQUFjLENBQUNRLGdCQUFnQixJQUFJLFFBQVE7Z0JBQzFGLElBQUksQ0FBQ2QsTUFBTSxDQUFD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Li9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9CYXNlSW50ZXJhY3Rpb25DbGllbnQubWpzP2JiYmUiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBBY2NvdW50RW50aXR5LCBVcmxTdHJpbmcsIFNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIFBlcmZvcm1hbmNlRXZlbnRzLCBBdXRob3JpdHksIGludm9rZUFzeW5jLCBBdXRob3JpdHlGYWN0b3J5LCBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvckNvZGVzIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uL2Jyb3dzZXInO1xuaW1wb3J0IHsgdmVyc2lvbiB9IGZyb20gJy4uL3BhY2thZ2VNZXRhZGF0YS5tanMnO1xuaW1wb3J0IHsgQnJvd3NlckNvbnN0YW50cyB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMubWpzJztcbmltcG9ydCB7IGdldEN1cnJlbnRVcmkgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyVXRpbHMubWpzJztcbmltcG9ydCB7IGNyZWF0ZU5ld0d1aWQgfSBmcm9tICcuLi9jcnlwdG8vQnJvd3NlckNyeXB0by5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY2xhc3MgQmFzZUludGVyYWN0aW9uQ2xpZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgc3RvcmFnZUltcGwsIGJyb3dzZXJDcnlwdG8sIGxvZ2dlciwgZXZlbnRIYW5kbGVyLCBuYXZpZ2F0aW9uQ2xpZW50LCBwZXJmb3JtYW5jZUNsaWVudCwgbmF0aXZlTWVzc2FnZUhhbmRsZXIsIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcclxuICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlID0gc3RvcmFnZUltcGw7XHJcbiAgICAgICAgdGhpcy5icm93c2VyQ3J5cHRvID0gYnJvd3NlckNyeXB0bztcclxuICAgICAgICB0aGlzLm5ldHdvcmtDbGllbnQgPSB0aGlzLmNvbmZpZy5zeXN0ZW0ubmV0d29ya0NsaWVudDtcclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlciA9IGV2ZW50SGFuZGxlcjtcclxuICAgICAgICB0aGlzLm5hdmlnYXRpb25DbGllbnQgPSBuYXZpZ2F0aW9uQ2xpZW50O1xyXG4gICAgICAgIHRoaXMubmF0aXZlTWVzc2FnZUhhbmRsZXIgPSBuYXRpdmVNZXNzYWdlSGFuZGxlcjtcclxuICAgICAgICB0aGlzLmNvcnJlbGF0aW9uSWQgPSBjb3JyZWxhdGlvbklkIHx8IGNyZWF0ZU5ld0d1aWQoKTtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlci5jbG9uZShCcm93c2VyQ29uc3RhbnRzLk1TQUxfU0tVLCB2ZXJzaW9uLCB0aGlzLmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQgPSBwZXJmb3JtYW5jZUNsaWVudDtcclxuICAgIH1cclxuICAgIGFzeW5jIGNsZWFyQ2FjaGVPbkxvZ291dChhY2NvdW50KSB7XHJcbiAgICAgICAgaWYgKGFjY291bnQpIHtcclxuICAgICAgICAgICAgaWYgKEFjY291bnRFbnRpdHkuYWNjb3VudEluZm9Jc0VxdWFsKGFjY291bnQsIHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0QWN0aXZlQWNjb3VudCgpLCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJTZXR0aW5nIGFjdGl2ZSBhY2NvdW50IHRvIG51bGxcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEFjdGl2ZUFjY291bnQobnVsbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQ2xlYXIgZ2l2ZW4gYWNjb3VudC5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYnJvd3NlclN0b3JhZ2UucmVtb3ZlQWNjb3VudChBY2NvdW50RW50aXR5LmdlbmVyYXRlQWNjb3VudENhY2hlS2V5KGFjY291bnQpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJDbGVhcmVkIGNhY2hlIGl0ZW1zIGJlbG9uZ2luZyB0byB0aGUgYWNjb3VudCBwcm92aWRlZCBpbiB0aGUgbG9nb3V0IHJlcXVlc3QuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJBY2NvdW50IHByb3ZpZGVkIGluIGxvZ291dCByZXF1ZXN0IHdhcyBub3QgZm91bmQuIExvY2FsIGNhY2hlIHVuY2hhbmdlZC5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiTm8gYWNjb3VudCBwcm92aWRlZCBpbiBsb2dvdXQgcmVxdWVzdCwgY2xlYXJpbmcgYWxsIGNhY2hlIGl0ZW1zLlwiLCB0aGlzLmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgYWxsIGFjY291bnRzIGFuZCB0b2tlbnNcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYnJvd3NlclN0b3JhZ2UuY2xlYXIoKTtcclxuICAgICAgICAgICAgICAgIC8vIENsZWFyIGFueSBzdHJheSBrZXlzIGZyb20gSW5kZXhlZERCXHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmJyb3dzZXJDcnlwdG8uY2xlYXJLZXlzdG9yZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIkF0dGVtcHRlZCB0byBjbGVhciBhbGwgTVNBTCBjYWNoZSBpdGVtcyBhbmQgZmFpbGVkLiBMb2NhbCBjYWNoZSB1bmNoYW5nZWQuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogVXNlIHRvIGdldCB0aGUgcmVkaXJlY3QgdXJpIGNvbmZpZ3VyZWQgaW4gTVNBTCBvciBudWxsLlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RSZWRpcmVjdFVyaVxyXG4gICAgICogQHJldHVybnMgUmVkaXJlY3QgVVJMXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBnZXRSZWRpcmVjdFVyaShyZXF1ZXN0UmVkaXJlY3RVcmkpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiZ2V0UmVkaXJlY3RVcmkgY2FsbGVkXCIpO1xyXG4gICAgICAgIGNvbnN0IHJlZGlyZWN0VXJpID0gcmVxdWVzdFJlZGlyZWN0VXJpIHx8IHRoaXMuY29uZmlnLmF1dGgucmVkaXJlY3RVcmk7XHJcbiAgICAgICAgcmV0dXJuIFVybFN0cmluZy5nZXRBYnNvbHV0ZVVybChyZWRpcmVjdFVyaSwgZ2V0Q3VycmVudFVyaSgpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBhcGlJZFxyXG4gICAgICogQHBhcmFtIGNvcnJlbGF0aW9uSWRcclxuICAgICAqIEBwYXJhbSBmb3JjZVJlZnJlc2hcclxuICAgICAqL1xyXG4gICAgaW5pdGlhbGl6ZVNlcnZlclRlbGVtZXRyeU1hbmFnZXIoYXBpSWQsIGZvcmNlUmVmcmVzaCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJpbml0aWFsaXplU2VydmVyVGVsZW1ldHJ5TWFuYWdlciBjYWxsZWRcIik7XHJcbiAgICAgICAgY29uc3QgdGVsZW1ldHJ5UGF5bG9hZCA9IHtcclxuICAgICAgICAgICAgY2xpZW50SWQ6IHRoaXMuY29uZmlnLmF1dGguY2xpZW50SWQsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IHRoaXMuY29ycmVsYXRpb25JZCxcclxuICAgICAgICAgICAgYXBpSWQ6IGFwaUlkLFxyXG4gICAgICAgICAgICBmb3JjZVJlZnJlc2g6IGZvcmNlUmVmcmVzaCB8fCBmYWxzZSxcclxuICAgICAgICAgICAgd3JhcHBlclNLVTogdGhpcy5icm93c2VyU3RvcmFnZS5nZXRXcmFwcGVyTWV0YWRhdGEoKVswXSxcclxuICAgICAgICAgICAgd3JhcHBlclZlcjogdGhpcy5icm93c2VyU3RvcmFnZS5nZXRXcmFwcGVyTWV0YWRhdGEoKVsxXSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBuZXcgU2VydmVyVGVsZW1ldHJ5TWFuYWdlcih0ZWxlbWV0cnlQYXlsb2FkLCB0aGlzLmJyb3dzZXJTdG9yYWdlKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXNlZCB0byBnZXQgYSBkaXNjb3ZlcmVkIHZlcnNpb24gb2YgdGhlIGRlZmF1bHQgYXV0aG9yaXR5LlxyXG4gICAgICogQHBhcmFtIHBhcmFtcyB7XHJcbiAgICAgKiAgICAgICAgIHJlcXVlc3RBdXRob3JpdHk/OiBzdHJpbmc7XHJcbiAgICAgKiAgICAgICAgIHJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucz86IEF6dXJlQ2xvdWRPcHRpb25zO1xyXG4gICAgICogICAgICAgICByZXF1ZXN0RXh0cmFRdWVyeVBhcmFtZXRlcnM/OiBTdHJpbmdEaWN0O1xyXG4gICAgICogICAgICAgICBhY2NvdW50PzogQWNjb3VudEluZm87XHJcbiAgICAgKiAgICAgICAgfVxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXREaXNjb3ZlcmVkQXV0aG9yaXR5KHBhcmFtcykge1xyXG4gICAgICAgIGNvbnN0IHsgYWNjb3VudCB9ID0gcGFyYW1zO1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlQXdhcmVFUSA9IHBhcmFtcy5yZXF1ZXN0RXh0cmFRdWVyeVBhcmFtZXRlcnMgJiZcclxuICAgICAgICAgICAgcGFyYW1zLnJlcXVlc3RFeHRyYVF1ZXJ5UGFyYW1ldGVycy5oYXNPd25Qcm9wZXJ0eShcImluc3RhbmNlX2F3YXJlXCIpXHJcbiAgICAgICAgICAgID8gcGFyYW1zLnJlcXVlc3RFeHRyYVF1ZXJ5UGFyYW1ldGVyc1tcImluc3RhbmNlX2F3YXJlXCJdXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQuYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50R2V0RGlzY292ZXJlZEF1dGhvcml0eSwgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCBhdXRob3JpdHlPcHRpb25zID0ge1xyXG4gICAgICAgICAgICBwcm90b2NvbE1vZGU6IHRoaXMuY29uZmlnLmF1dGgucHJvdG9jb2xNb2RlLFxyXG4gICAgICAgICAgICBPSURDT3B0aW9uczogdGhpcy5jb25maWcuYXV0aC5PSURDT3B0aW9ucyxcclxuICAgICAgICAgICAga25vd25BdXRob3JpdGllczogdGhpcy5jb25maWcuYXV0aC5rbm93bkF1dGhvcml0aWVzLFxyXG4gICAgICAgICAgICBjbG91ZERpc2NvdmVyeU1ldGFkYXRhOiB0aGlzLmNvbmZpZy5hdXRoLmNsb3VkRGlzY292ZXJ5TWV0YWRhdGEsXHJcbiAgICAgICAgICAgIGF1dGhvcml0eU1ldGFkYXRhOiB0aGlzLmNvbmZpZy5hdXRoLmF1dGhvcml0eU1ldGFkYXRhLFxyXG4gICAgICAgICAgICBza2lwQXV0aG9yaXR5TWV0YWRhdGFDYWNoZTogdGhpcy5jb25maWcuYXV0aC5za2lwQXV0aG9yaXR5TWV0YWRhdGFDYWNoZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGJ1aWxkIGF1dGhvcml0eSBzdHJpbmcgYmFzZWQgb24gYXV0aCBwYXJhbXMsIHByZWNlZGVuY2UgLSBhenVyZUNsb3VkSW5zdGFuY2UgKyB0ZW5hbnQgPj4gYXV0aG9yaXR5XHJcbiAgICAgICAgY29uc3QgcmVzb2x2ZWRBdXRob3JpdHkgPSBwYXJhbXMucmVxdWVzdEF1dGhvcml0eSB8fCB0aGlzLmNvbmZpZy5hdXRoLmF1dGhvcml0eTtcclxuICAgICAgICBjb25zdCByZXNvbHZlZEluc3RhbmNlQXdhcmUgPSBpbnN0YW5jZUF3YXJlRVE/Lmxlbmd0aFxyXG4gICAgICAgICAgICA/IGluc3RhbmNlQXdhcmVFUSA9PT0gXCJ0cnVlXCJcclxuICAgICAgICAgICAgOiB0aGlzLmNvbmZpZy5hdXRoLmluc3RhbmNlQXdhcmU7XHJcbiAgICAgICAgY29uc3QgdXNlckF1dGhvcml0eSA9IGFjY291bnQgJiYgcmVzb2x2ZWRJbnN0YW5jZUF3YXJlXHJcbiAgICAgICAgICAgID8gdGhpcy5jb25maWcuYXV0aC5hdXRob3JpdHkucmVwbGFjZShVcmxTdHJpbmcuZ2V0RG9tYWluRnJvbVVybChyZXNvbHZlZEF1dGhvcml0eSksIGFjY291bnQuZW52aXJvbm1lbnQpXHJcbiAgICAgICAgICAgIDogcmVzb2x2ZWRBdXRob3JpdHk7XHJcbiAgICAgICAgLy8gZmFsbCBiYWNrIHRvIHRoZSBhdXRob3JpdHkgZnJvbSBjb25maWdcclxuICAgICAgICBjb25zdCBidWlsdEF1dGhvcml0eSA9IEF1dGhvcml0eS5nZW5lcmF0ZUF1dGhvcml0eSh1c2VyQXV0aG9yaXR5LCBwYXJhbXMucmVxdWVzdEF6dXJlQ2xvdWRPcHRpb25zIHx8XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmF1dGguYXp1cmVDbG91ZE9wdGlvbnMpO1xyXG4gICAgICAgIGNvbnN0IGRpc2NvdmVyZWRBdXRob3JpdHkgPSBhd2FpdCBpbnZva2VBc3luYyhBdXRob3JpdHlGYWN0b3J5LmNyZWF0ZURpc2NvdmVyZWRJbnN0YW5jZSwgUGVyZm9ybWFuY2VFdmVudHMuQXV0aG9yaXR5RmFjdG9yeUNyZWF0ZURpc2NvdmVyZWRJbnN0YW5jZSwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHRoaXMuY29ycmVsYXRpb25JZCkoYnVpbHRBdXRob3JpdHksIHRoaXMuY29uZmlnLnN5c3RlbS5uZXR3b3JrQ2xpZW50LCB0aGlzLmJyb3dzZXJTdG9yYWdlLCBhdXRob3JpdHlPcHRpb25zLCB0aGlzLmxvZ2dlciwgdGhpcy5jb3JyZWxhdGlvbklkLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50KTtcclxuICAgICAgICBpZiAoYWNjb3VudCAmJiAhZGlzY292ZXJlZEF1dGhvcml0eS5pc0FsaWFzKGFjY291bnQuZW52aXJvbm1lbnQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudENvbmZpZ3VyYXRpb25FcnJvcihDbGllbnRDb25maWd1cmF0aW9uRXJyb3JDb2Rlcy5hdXRob3JpdHlNaXNtYXRjaCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkaXNjb3ZlcmVkQXV0aG9yaXR5O1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IEJhc2VJbnRlcmFjdGlvbkNsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZUludGVyYWN0aW9uQ2xpZW50Lm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJBY2NvdW50RW50aXR5IiwiVXJsU3RyaW5nIiwiU2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsIlBlcmZvcm1hbmNlRXZlbnRzIiwiQXV0aG9yaXR5IiwiaW52b2tlQXN5bmMiLCJBdXRob3JpdHlGYWN0b3J5IiwiY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIiwiQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yQ29kZXMiLCJ2ZXJzaW9uIiwiQnJvd3NlckNvbnN0YW50cyIsImdldEN1cnJlbnRVcmkiLCJjcmVhdGVOZXdHdWlkIiwiQmFzZUludGVyYWN0aW9uQ2xpZW50IiwiY29uc3RydWN0b3IiLCJjb25maWciLCJzdG9yYWdlSW1wbCIsImJyb3dzZXJDcnlwdG8iLCJsb2dnZXIiLCJldmVudEhhbmRsZXIiLCJuYXZpZ2F0aW9uQ2xpZW50IiwicGVyZm9ybWFuY2VDbGllbnQiLCJuYXRpdmVNZXNzYWdlSGFuZGxlciIsImNvcnJlbGF0aW9uSWQiLCJicm93c2VyU3RvcmFnZSIsIm5ldHdvcmtDbGllbnQiLCJzeXN0ZW0iLCJjbG9uZSIsIk1TQUxfU0tVIiwiY2xlYXJDYWNoZU9uTG9nb3V0IiwiYWNjb3VudCIsImFjY291bnRJbmZvSXNFcXVhbCIsImdldEFjdGl2ZUFjY291bnQiLCJ2ZXJib3NlIiwic2V0QWN0aXZlQWNjb3VudCIsInJlbW92ZUFjY291bnQiLCJnZW5lcmF0ZUFjY291bnRDYWNoZUtleSIsImVycm9yIiwiY2xlYXIiLCJjbGVhcktleXN0b3JlIiwiZSIsImdldFJlZGlyZWN0VXJpIiwicmVxdWVzdFJlZGlyZWN0VXJpIiwicmVkaXJlY3RVcmkiLCJhdXRoIiwiZ2V0QWJzb2x1dGVVcmwiLCJpbml0aWFsaXplU2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsImFwaUlkIiwiZm9yY2VSZWZyZXNoIiwidGVsZW1ldHJ5UGF5bG9hZCIsImNsaWVudElkIiwid3JhcHBlclNLVSIsImdldFdyYXBwZXJNZXRhZGF0YSIsIndyYXBwZXJWZXIiLCJnZXREaXNjb3ZlcmVkQXV0aG9yaXR5IiwicGFyYW1zIiwiaW5zdGFuY2VBd2FyZUVRIiwicmVxdWVzdEV4dHJhUXVlcnlQYXJhbWV0ZXJzIiwiaGFzT3duUHJvcGVydHkiLCJ1bmRlZmluZWQiLCJhZGRRdWV1ZU1lYXN1cmVtZW50IiwiU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEdldERpc2NvdmVyZWRBdXRob3JpdHkiLCJhdXRob3JpdHlPcHRpb25zIiwicHJvdG9jb2xNb2RlIiwiT0lEQ09wdGlvbnMiLCJrbm93bkF1dGhvcml0aWVzIiwiY2xvdWREaXNjb3ZlcnlNZXRhZGF0YSIsImF1dGhvcml0eU1ldGFkYXRhIiwic2tpcEF1dGhvcml0eU1ldGFkYXRhQ2FjaGUiLCJyZXNvbHZlZEF1dGhvcml0eSIsInJlcXVlc3RBdXRob3JpdHkiLCJhdXRob3JpdHkiLCJyZXNvbHZlZEluc3RhbmNlQXdhcmUiLCJsZW5ndGgiLCJpbnN0YW5jZUF3YXJlIiwidXNlckF1dGhvcml0eSIsInJlcGxhY2UiLCJnZXREb21haW5Gcm9tVXJsIiwiZW52aXJvbm1lbnQiLCJidWlsdEF1dGhvcml0eSIsImdlbmVyYXRlQXV0aG9yaXR5IiwicmVxdWVzdEF6dXJlQ2xvdWRPcHRpb25zIiwiYXp1cmVDbG91ZE9wdGlvbnMiLCJkaXNjb3ZlcmVkQXV0aG9yaXR5IiwiY3JlYXRlRGlzY292ZXJlZEluc3RhbmNlIiwiQXV0aG9yaXR5RmFjdG9yeUNyZWF0ZURpc2NvdmVyZWRJbnN0YW5jZSIsImlzQWxpYXMiLCJhdXRob3JpdHlNaXNtYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/BaseInteractionClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/HybridSpaAuthorizationCodeClient.mjs":
/*!*******************************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_client/HybridSpaAuthorizationCodeClient.mjs ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HybridSpaAuthorizationCodeClient: () => (/* binding */ HybridSpaAuthorizationCodeClient)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/client/AuthorizationCodeClient.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class HybridSpaAuthorizationCodeClient extends _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.AuthorizationCodeClient {\n    constructor(config){\n        super(config);\n        this.includeRedirectUri = false;\n    }\n}\n //# sourceMappingURL=HybridSpaAuthorizationCodeClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9IeWJyaWRTcGFBdXRob3JpemF0aW9uQ29kZUNsaWVudC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDcUU7QUFFckU7OztDQUdDLEdBQ0QsTUFBTUMseUNBQXlDRCwrRUFBdUJBO0lBQ2xFRSxZQUFZQyxNQUFNLENBQUU7UUFDaEIsS0FBSyxDQUFDQTtRQUNOLElBQUksQ0FBQ0Msa0JBQWtCLEdBQUc7SUFDOUI7QUFDSjtBQUU0QyxDQUM1Qyw2REFBNkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9IeWJyaWRTcGFBdXRob3JpemF0aW9uQ29kZUNsaWVudC5tanM/MWY3NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IEF1dGhvcml6YXRpb25Db2RlQ2xpZW50IH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uL2Jyb3dzZXInO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY2xhc3MgSHlicmlkU3BhQXV0aG9yaXphdGlvbkNvZGVDbGllbnQgZXh0ZW5kcyBBdXRob3JpemF0aW9uQ29kZUNsaWVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcclxuICAgICAgICBzdXBlcihjb25maWcpO1xyXG4gICAgICAgIHRoaXMuaW5jbHVkZVJlZGlyZWN0VXJpID0gZmFsc2U7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgSHlicmlkU3BhQXV0aG9yaXphdGlvbkNvZGVDbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUh5YnJpZFNwYUF1dGhvcml6YXRpb25Db2RlQ2xpZW50Lm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJBdXRob3JpemF0aW9uQ29kZUNsaWVudCIsIkh5YnJpZFNwYUF1dGhvcml6YXRpb25Db2RlQ2xpZW50IiwiY29uc3RydWN0b3IiLCJjb25maWciLCJpbmNsdWRlUmVkaXJlY3RVcmkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/HybridSpaAuthorizationCodeClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/NativeInteractionClient.mjs":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_client/NativeInteractionClient.mjs ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NativeInteractionClient: () => (/* binding */ NativeInteractionClient)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/constants/AADServerParamKeys.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/TimeUtils.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/request/ScopeSet.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AuthToken.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/response/ResponseHandler.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/entities/AccountEntity.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityType.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/crypto/PopTokenGenerator.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AccountInfo.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/utils/CacheHelpers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthErrorCodes.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _BaseInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseInteractionClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/BaseInteractionClient.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../error/NativeAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/NativeAuthError.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _SilentCacheClient_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./SilentCacheClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentCacheClient.mjs\");\n/* harmony import */ var _encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../encode/Base64Decode.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/encode/Base64Decode.mjs\");\n/* harmony import */ var _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../packageMetadata.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/packageMetadata.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/* harmony import */ var _error_NativeAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../error/NativeAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/NativeAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class NativeInteractionClient extends _BaseInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseInteractionClient {\n    constructor(config, browserStorage, browserCrypto, logger, eventHandler, navigationClient, apiId, performanceClient, provider, accountId, nativeStorageImpl, correlationId){\n        super(config, browserStorage, browserCrypto, logger, eventHandler, navigationClient, performanceClient, provider, correlationId);\n        this.apiId = apiId;\n        this.accountId = accountId;\n        this.nativeMessageHandler = provider;\n        this.nativeStorageManager = nativeStorageImpl;\n        this.silentCacheClient = new _SilentCacheClient_mjs__WEBPACK_IMPORTED_MODULE_1__.SilentCacheClient(config, this.nativeStorageManager, browserCrypto, logger, eventHandler, navigationClient, performanceClient, provider, correlationId);\n        this.serverTelemetryManager = this.initializeServerTelemetryManager(this.apiId);\n        const extensionName = this.nativeMessageHandler.getExtensionId() === _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.NativeConstants.PREFERRED_EXTENSION_ID ? \"chrome\" : this.nativeMessageHandler.getExtensionId()?.length ? \"unknown\" : undefined;\n        this.skus = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.ServerTelemetryManager.makeExtraSkuString({\n            libraryName: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.BrowserConstants.MSAL_SKU,\n            libraryVersion: _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_4__.version,\n            extensionName: extensionName,\n            extensionVersion: this.nativeMessageHandler.getExtensionVersion()\n        });\n    }\n    /**\r\n     * Adds SKUs to request extra query parameters\r\n     * @param request {NativeTokenRequest}\r\n     * @private\r\n     */ addRequestSKUs(request) {\n        request.extraParameters = {\n            ...request.extraParameters,\n            [_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.X_CLIENT_EXTRA_SKU]: this.skus\n        };\n    }\n    /**\r\n     * Acquire token from native platform via browser extension\r\n     * @param request\r\n     */ async acquireToken(request) {\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PerformanceEvents.NativeInteractionClientAcquireToken, request.correlationId);\n        this.logger.trace(\"NativeInteractionClient - acquireToken called.\");\n        // start the perf measurement\n        const nativeATMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PerformanceEvents.NativeInteractionClientAcquireToken, request.correlationId);\n        const reqTimestamp = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.nowSeconds();\n        try {\n            // initialize native request\n            const nativeRequest = await this.initializeNativeRequest(request);\n            // check if the tokens can be retrieved from internal cache\n            try {\n                const result = await this.acquireTokensFromCache(this.accountId, nativeRequest);\n                nativeATMeasurement.end({\n                    success: true,\n                    isNativeBroker: false,\n                    fromCache: true\n                });\n                return result;\n            } catch (e) {\n                // continue with a native call for any and all errors\n                this.logger.info(\"MSAL internal Cache does not contain tokens, proceed to make a native call\");\n            }\n            const { ...nativeTokenRequest } = nativeRequest;\n            // fall back to native calls\n            const messageBody = {\n                method: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.NativeExtensionMethod.GetToken,\n                request: nativeTokenRequest\n            };\n            const response = await this.nativeMessageHandler.sendMessage(messageBody);\n            const validatedResponse = this.validateNativeResponse(response);\n            return await this.handleNativeResponse(validatedResponse, nativeRequest, reqTimestamp).then((result)=>{\n                nativeATMeasurement.end({\n                    success: true,\n                    isNativeBroker: true,\n                    requestId: result.requestId\n                });\n                this.serverTelemetryManager.clearNativeBrokerErrorCode();\n                return result;\n            }).catch((error)=>{\n                nativeATMeasurement.end({\n                    success: false,\n                    errorCode: error.errorCode,\n                    subErrorCode: error.subError,\n                    isNativeBroker: true\n                });\n                throw error;\n            });\n        } catch (e) {\n            if (e instanceof _error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_8__.NativeAuthError) {\n                this.serverTelemetryManager.setNativeBrokerErrorCode(e.errorCode);\n            }\n            throw e;\n        }\n    }\n    /**\r\n     * Creates silent flow request\r\n     * @param request\r\n     * @param cachedAccount\r\n     * @returns CommonSilentFlowRequest\r\n     */ createSilentCacheRequest(request, cachedAccount) {\n        return {\n            authority: request.authority,\n            correlationId: this.correlationId,\n            scopes: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.ScopeSet.fromString(request.scope).asArray(),\n            account: cachedAccount,\n            forceRefresh: false\n        };\n    }\n    /**\r\n     * Fetches the tokens from the cache if un-expired\r\n     * @param nativeAccountId\r\n     * @param request\r\n     * @returns authenticationResult\r\n     */ async acquireTokensFromCache(nativeAccountId, request) {\n        if (!nativeAccountId) {\n            this.logger.warning(\"NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided\");\n            throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.createClientAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.noAccountFound);\n        }\n        // fetch the account from browser cache\n        const account = this.browserStorage.getBaseAccountInfo({\n            nativeAccountId\n        });\n        if (!account) {\n            throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.createClientAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.noAccountFound);\n        }\n        // leverage silent flow for cached tokens retrieval\n        try {\n            const silentRequest = this.createSilentCacheRequest(request, account);\n            const result = await this.silentCacheClient.acquireToken(silentRequest);\n            const fullAccount = {\n                ...account,\n                idTokenClaims: result?.idTokenClaims,\n                idToken: result?.idToken\n            };\n            return {\n                ...result,\n                account: fullAccount\n            };\n        } catch (e) {\n            throw e;\n        }\n    }\n    /**\r\n     * Acquires a token from native platform then redirects to the redirectUri instead of returning the response\r\n     * @param {RedirectRequest} request\r\n     * @param {InProgressPerformanceEvent} rootMeasurement\r\n     */ async acquireTokenRedirect(request, rootMeasurement) {\n        this.logger.trace(\"NativeInteractionClient - acquireTokenRedirect called.\");\n        const { ...remainingParameters } = request;\n        delete remainingParameters.onRedirectNavigate;\n        const nativeRequest = await this.initializeNativeRequest(remainingParameters);\n        const messageBody = {\n            method: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.NativeExtensionMethod.GetToken,\n            request: nativeRequest\n        };\n        try {\n            const response = await this.nativeMessageHandler.sendMessage(messageBody);\n            this.validateNativeResponse(response);\n        } catch (e) {\n            // Only throw fatal errors here to allow application to fallback to regular redirect. Otherwise proceed and the error will be thrown in handleRedirectPromise\n            if (e instanceof _error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_8__.NativeAuthError) {\n                this.serverTelemetryManager.setNativeBrokerErrorCode(e.errorCode);\n                if ((0,_error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_8__.isFatalNativeAuthError)(e)) {\n                    throw e;\n                }\n            }\n        }\n        this.browserStorage.setTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.TemporaryCacheKeys.NATIVE_REQUEST, JSON.stringify(nativeRequest), true);\n        const navigationOptions = {\n            apiId: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.ApiId.acquireTokenRedirect,\n            timeout: this.config.system.redirectNavigationTimeout,\n            noHistory: false\n        };\n        const redirectUri = this.config.auth.navigateToLoginRequestUrl ? window.location.href : this.getRedirectUri(request.redirectUri);\n        rootMeasurement.end({\n            success: true\n        });\n        await this.navigationClient.navigateExternal(redirectUri, navigationOptions); // Need to treat this as external to ensure handleRedirectPromise is run again\n    }\n    /**\r\n     * If the previous page called native platform for a token using redirect APIs, send the same request again and return the response\r\n     * @param performanceClient {IPerformanceClient?}\r\n     * @param correlationId {string?} correlation identifier\r\n     */ async handleRedirectPromise(performanceClient, correlationId) {\n        this.logger.trace(\"NativeInteractionClient - handleRedirectPromise called.\");\n        if (!this.browserStorage.isInteractionInProgress(true)) {\n            this.logger.info(\"handleRedirectPromise called but there is no interaction in progress, returning null.\");\n            return null;\n        }\n        // remove prompt from the request to prevent WAM from prompting twice\n        const cachedRequest = this.browserStorage.getCachedNativeRequest();\n        if (!cachedRequest) {\n            this.logger.verbose(\"NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null.\");\n            if (performanceClient && correlationId) {\n                performanceClient?.addFields({\n                    errorCode: \"no_cached_request\"\n                }, correlationId);\n            }\n            return null;\n        }\n        const { prompt, ...request } = cachedRequest;\n        if (prompt) {\n            this.logger.verbose(\"NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window.\");\n        }\n        this.browserStorage.removeItem(this.browserStorage.generateCacheKey(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.TemporaryCacheKeys.NATIVE_REQUEST));\n        const messageBody = {\n            method: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.NativeExtensionMethod.GetToken,\n            request: request\n        };\n        const reqTimestamp = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.nowSeconds();\n        try {\n            this.logger.verbose(\"NativeInteractionClient - handleRedirectPromise sending message to native broker.\");\n            const response = await this.nativeMessageHandler.sendMessage(messageBody);\n            this.validateNativeResponse(response);\n            const result = this.handleNativeResponse(response, request, reqTimestamp);\n            this.browserStorage.setInteractionInProgress(false);\n            const res = await result;\n            this.serverTelemetryManager.clearNativeBrokerErrorCode();\n            return res;\n        } catch (e) {\n            this.browserStorage.setInteractionInProgress(false);\n            throw e;\n        }\n    }\n    /**\r\n     * Logout from native platform via browser extension\r\n     * @param request\r\n     */ logout() {\n        this.logger.trace(\"NativeInteractionClient - logout called.\");\n        return Promise.reject(\"Logout not implemented yet\");\n    }\n    /**\r\n     * Transform response from native platform into AuthenticationResult object which will be returned to the end user\r\n     * @param response\r\n     * @param request\r\n     * @param reqTimestamp\r\n     */ async handleNativeResponse(response, request, reqTimestamp) {\n        this.logger.trace(\"NativeInteractionClient - handleNativeResponse called.\");\n        // generate identifiers\n        const idTokenClaims = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_12__.extractTokenClaims(response.id_token, _encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_13__.base64Decode);\n        const homeAccountIdentifier = this.createHomeAccountIdentifier(response, idTokenClaims);\n        const cachedhomeAccountId = this.browserStorage.getAccountInfoFilteredBy({\n            nativeAccountId: request.accountId\n        })?.homeAccountId;\n        if (homeAccountIdentifier !== cachedhomeAccountId && response.account.id !== request.accountId) {\n            // User switch in native broker prompt is not supported. All users must first sign in through web flow to ensure server state is in sync\n            throw (0,_error_NativeAuthError_mjs__WEBPACK_IMPORTED_MODULE_8__.createNativeAuthError)(_error_NativeAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_14__.userSwitch);\n        }\n        // Get the preferred_cache domain for the given authority\n        const authority = await this.getDiscoveredAuthority({\n            requestAuthority: request.authority\n        });\n        const baseAccount = (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_15__.buildAccountToCache)(this.browserStorage, authority, homeAccountIdentifier, _encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_13__.base64Decode, idTokenClaims, response.client_info, undefined, idTokenClaims.tid, undefined, response.account.id, this.logger);\n        // generate authenticationResult\n        const result = await this.generateAuthenticationResult(response, request, idTokenClaims, baseAccount, authority.canonicalAuthority, reqTimestamp);\n        // cache accounts and tokens in the appropriate storage\n        this.cacheAccount(baseAccount);\n        this.cacheNativeTokens(response, request, homeAccountIdentifier, idTokenClaims, response.access_token, result.tenantId, reqTimestamp);\n        return result;\n    }\n    /**\r\n     * creates an homeAccountIdentifier for the account\r\n     * @param response\r\n     * @param idTokenObj\r\n     * @returns\r\n     */ createHomeAccountIdentifier(response, idTokenClaims) {\n        // Save account in browser storage\n        const homeAccountIdentifier = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_16__.AccountEntity.generateHomeAccountId(response.client_info || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.Constants.EMPTY_STRING, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_18__.AuthorityType.Default, this.logger, this.browserCrypto, idTokenClaims);\n        return homeAccountIdentifier;\n    }\n    /**\r\n     * Helper to generate scopes\r\n     * @param response\r\n     * @param request\r\n     * @returns\r\n     */ generateScopes(response, request) {\n        return response.scope ? _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.ScopeSet.fromString(response.scope) : _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.ScopeSet.fromString(request.scope);\n    }\n    /**\r\n     * If PoP token is requesred, records the PoP token if returned from the WAM, else generates one in the browser\r\n     * @param request\r\n     * @param response\r\n     */ async generatePopAccessToken(response, request) {\n        if (request.tokenType === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.AuthenticationScheme.POP && request.signPopToken) {\n            /**\r\n             * This code prioritizes SHR returned from the native layer. In case of error/SHR not calculated from WAM and the AT\r\n             * is still received, SHR is calculated locally\r\n             */ // Check if native layer returned an SHR token\n            if (response.shr) {\n                this.logger.trace(\"handleNativeServerResponse: SHR is enabled in native layer\");\n                return response.shr;\n            }\n            // Generate SHR in msal js if WAM does not compute it when POP is enabled\n            const popTokenGenerator = new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_19__.PopTokenGenerator(this.browserCrypto);\n            const shrParameters = {\n                resourceRequestMethod: request.resourceRequestMethod,\n                resourceRequestUri: request.resourceRequestUri,\n                shrClaims: request.shrClaims,\n                shrNonce: request.shrNonce\n            };\n            /**\r\n             * KeyID must be present in the native request from when the PoP key was generated in order for\r\n             * PopTokenGenerator to query the full key for signing\r\n             */ if (!request.keyId) {\n                throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.createClientAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.keyIdMissing);\n            }\n            return popTokenGenerator.signPopToken(response.access_token, request.keyId, shrParameters);\n        } else {\n            return response.access_token;\n        }\n    }\n    /**\r\n     * Generates authentication result\r\n     * @param response\r\n     * @param request\r\n     * @param idTokenObj\r\n     * @param accountEntity\r\n     * @param authority\r\n     * @param reqTimestamp\r\n     * @returns\r\n     */ async generateAuthenticationResult(response, request, idTokenClaims, accountEntity, authority, reqTimestamp) {\n        // Add Native Broker fields to Telemetry\n        const mats = this.addTelemetryFromNativeResponse(response);\n        // If scopes not returned in server response, use request scopes\n        const responseScopes = response.scope ? _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.ScopeSet.fromString(response.scope) : _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.ScopeSet.fromString(request.scope);\n        const accountProperties = response.account.properties || {};\n        const uid = accountProperties[\"UID\"] || idTokenClaims.oid || idTokenClaims.sub || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.Constants.EMPTY_STRING;\n        const tid = accountProperties[\"TenantId\"] || idTokenClaims.tid || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.Constants.EMPTY_STRING;\n        const accountInfo = (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_20__.updateAccountTenantProfileData)(accountEntity.getAccountInfo(), undefined, idTokenClaims, response.id_token);\n        /**\r\n         * In pairwise broker flows, this check prevents the broker's native account id\r\n         * from being returned over the embedded app's account id.\r\n         */ if (accountInfo.nativeAccountId !== response.account.id) {\n            accountInfo.nativeAccountId = response.account.id;\n        }\n        // generate PoP token as needed\n        const responseAccessToken = await this.generatePopAccessToken(response, request);\n        const tokenType = request.tokenType === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.AuthenticationScheme.POP ? _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.AuthenticationScheme.POP : _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.AuthenticationScheme.BEARER;\n        const result = {\n            authority: authority,\n            uniqueId: uid,\n            tenantId: tid,\n            scopes: responseScopes.asArray(),\n            account: accountInfo,\n            idToken: response.id_token,\n            idTokenClaims: idTokenClaims,\n            accessToken: responseAccessToken,\n            fromCache: mats ? this.isResponseFromCache(mats) : false,\n            expiresOn: new Date(Number(reqTimestamp + response.expires_in) * 1000),\n            tokenType: tokenType,\n            correlationId: this.correlationId,\n            state: response.state,\n            fromNativeBroker: true\n        };\n        return result;\n    }\n    /**\r\n     * cache the account entity in browser storage\r\n     * @param accountEntity\r\n     */ cacheAccount(accountEntity) {\n        // Store the account info and hence `nativeAccountId` in browser cache\n        this.browserStorage.setAccount(accountEntity);\n        // Remove any existing cached tokens for this account in browser storage\n        this.browserStorage.removeAccountContext(accountEntity).catch((e)=>{\n            this.logger.error(`Error occurred while removing account context from browser storage. ${e}`);\n        });\n    }\n    /**\r\n     * Stores the access_token and id_token in inmemory storage\r\n     * @param response\r\n     * @param request\r\n     * @param homeAccountIdentifier\r\n     * @param idTokenObj\r\n     * @param responseAccessToken\r\n     * @param tenantId\r\n     * @param reqTimestamp\r\n     */ cacheNativeTokens(response, request, homeAccountIdentifier, idTokenClaims, responseAccessToken, tenantId, reqTimestamp) {\n        const cachedIdToken = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_21__.createIdTokenEntity(homeAccountIdentifier, request.authority, response.id_token || \"\", request.clientId, idTokenClaims.tid || \"\");\n        // cache accessToken in inmemory storage\n        const expiresIn = request.tokenType === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.AuthenticationScheme.POP ? _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.Constants.SHR_NONCE_VALIDITY : (typeof response.expires_in === \"string\" ? parseInt(response.expires_in, 10) : response.expires_in) || 0;\n        const tokenExpirationSeconds = reqTimestamp + expiresIn;\n        const responseScopes = this.generateScopes(response, request);\n        const cachedAccessToken = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_21__.createAccessTokenEntity(homeAccountIdentifier, request.authority, responseAccessToken, request.clientId, idTokenClaims.tid || tenantId, responseScopes.printScopes(), tokenExpirationSeconds, 0, _encode_Base64Decode_mjs__WEBPACK_IMPORTED_MODULE_13__.base64Decode, undefined, request.tokenType, undefined, request.keyId);\n        const nativeCacheRecord = {\n            idToken: cachedIdToken,\n            accessToken: cachedAccessToken\n        };\n        void this.nativeStorageManager.saveCacheRecord(nativeCacheRecord, request.storeInCache);\n    }\n    addTelemetryFromNativeResponse(response) {\n        const mats = this.getMATSFromResponse(response);\n        if (!mats) {\n            return null;\n        }\n        this.performanceClient.addFields({\n            extensionId: this.nativeMessageHandler.getExtensionId(),\n            extensionVersion: this.nativeMessageHandler.getExtensionVersion(),\n            matsBrokerVersion: mats.broker_version,\n            matsAccountJoinOnStart: mats.account_join_on_start,\n            matsAccountJoinOnEnd: mats.account_join_on_end,\n            matsDeviceJoin: mats.device_join,\n            matsPromptBehavior: mats.prompt_behavior,\n            matsApiErrorCode: mats.api_error_code,\n            matsUiVisible: mats.ui_visible,\n            matsSilentCode: mats.silent_code,\n            matsSilentBiSubCode: mats.silent_bi_sub_code,\n            matsSilentMessage: mats.silent_message,\n            matsSilentStatus: mats.silent_status,\n            matsHttpStatus: mats.http_status,\n            matsHttpEventCount: mats.http_event_count\n        }, this.correlationId);\n        return mats;\n    }\n    /**\r\n     * Validates native platform response before processing\r\n     * @param response\r\n     */ validateNativeResponse(response) {\n        if (response.hasOwnProperty(\"access_token\") && response.hasOwnProperty(\"id_token\") && response.hasOwnProperty(\"client_info\") && response.hasOwnProperty(\"account\") && response.hasOwnProperty(\"scope\") && response.hasOwnProperty(\"expires_in\")) {\n            return response;\n        } else {\n            throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_22__.createAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_23__.unexpectedError, \"Response missing expected properties.\");\n        }\n    }\n    /**\r\n     * Gets MATS telemetry from native response\r\n     * @param response\r\n     * @returns\r\n     */ getMATSFromResponse(response) {\n        if (response.properties.MATS) {\n            try {\n                return JSON.parse(response.properties.MATS);\n            } catch (e) {\n                this.logger.error(\"NativeInteractionClient - Error parsing MATS telemetry, returning null instead\");\n            }\n        }\n        return null;\n    }\n    /**\r\n     * Returns whether or not response came from native cache\r\n     * @param response\r\n     * @returns\r\n     */ isResponseFromCache(mats) {\n        if (typeof mats.is_cached === \"undefined\") {\n            this.logger.verbose(\"NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false.\");\n            return false;\n        }\n        return !!mats.is_cached;\n    }\n    /**\r\n     * Translates developer provided request object into NativeRequest object\r\n     * @param request\r\n     */ async initializeNativeRequest(request) {\n        this.logger.trace(\"NativeInteractionClient - initializeNativeRequest called\");\n        const requestAuthority = request.authority || this.config.auth.authority;\n        if (request.account) {\n            // validate authority\n            await this.getDiscoveredAuthority({\n                requestAuthority,\n                requestAzureCloudOptions: request.azureCloudOptions,\n                account: request.account\n            });\n        }\n        const canonicalAuthority = new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_24__.UrlString(requestAuthority);\n        canonicalAuthority.validateAsUri();\n        // scopes are expected to be received by the native broker as \"scope\" and will be added to the request below. Other properties that should be dropped from the request to the native broker can be included in the object destructuring here.\n        const { scopes, ...remainingProperties } = request;\n        const scopeSet = new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.ScopeSet(scopes || []);\n        scopeSet.appendScopes(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.OIDC_DEFAULT_SCOPES);\n        const getPrompt = ()=>{\n            // If request is silent, prompt is always none\n            switch(this.apiId){\n                case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.ApiId.ssoSilent:\n                case _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.ApiId.acquireTokenSilent_silentFlow:\n                    this.logger.trace(\"initializeNativeRequest: silent request sets prompt to none\");\n                    return _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.PromptValue.NONE;\n            }\n            // Prompt not provided, request may proceed and native broker decides if it needs to prompt\n            if (!request.prompt) {\n                this.logger.trace(\"initializeNativeRequest: prompt was not provided\");\n                return undefined;\n            }\n            // If request is interactive, check if prompt provided is allowed to go directly to native broker\n            switch(request.prompt){\n                case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.PromptValue.NONE:\n                case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.PromptValue.CONSENT:\n                case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.PromptValue.LOGIN:\n                    this.logger.trace(\"initializeNativeRequest: prompt is compatible with native flow\");\n                    return request.prompt;\n                default:\n                    this.logger.trace(`initializeNativeRequest: prompt = ${request.prompt} is not compatible with native flow`);\n                    throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_25__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_26__.nativePromptNotSupported);\n            }\n        };\n        const validatedRequest = {\n            ...remainingProperties,\n            accountId: this.accountId,\n            clientId: this.config.auth.clientId,\n            authority: canonicalAuthority.urlString,\n            scope: scopeSet.printScopes(),\n            redirectUri: this.getRedirectUri(request.redirectUri),\n            prompt: getPrompt(),\n            correlationId: this.correlationId,\n            tokenType: request.authenticationScheme,\n            windowTitleSubstring: document.title,\n            extraParameters: {\n                ...request.extraQueryParameters,\n                ...request.tokenQueryParameters\n            },\n            extendedExpiryToken: false,\n            keyId: request.popKid\n        };\n        // Check for PoP token requests: signPopToken should only be set to true if popKid is not set\n        if (validatedRequest.signPopToken && !!request.popKid) {\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_25__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_26__.invalidPopTokenRequest);\n        }\n        this.handleExtraBrokerParams(validatedRequest);\n        validatedRequest.extraParameters = validatedRequest.extraParameters || {};\n        validatedRequest.extraParameters.telemetry = _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.NativeConstants.MATS_TELEMETRY;\n        if (request.authenticationScheme === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.AuthenticationScheme.POP) {\n            // add POP request type\n            const shrParameters = {\n                resourceRequestUri: request.resourceRequestUri,\n                resourceRequestMethod: request.resourceRequestMethod,\n                shrClaims: request.shrClaims,\n                shrNonce: request.shrNonce\n            };\n            const popTokenGenerator = new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_19__.PopTokenGenerator(this.browserCrypto);\n            // generate reqCnf if not provided in the request\n            let reqCnfData;\n            if (!validatedRequest.keyId) {\n                const generatedReqCnfData = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_27__.invokeAsync)(popTokenGenerator.generateCnf.bind(popTokenGenerator), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.PerformanceEvents.PopTokenGenerateCnf, this.logger, this.performanceClient, request.correlationId)(shrParameters, this.logger);\n                reqCnfData = generatedReqCnfData.reqCnfString;\n                validatedRequest.keyId = generatedReqCnfData.kid;\n                validatedRequest.signPopToken = true;\n            } else {\n                reqCnfData = this.browserCrypto.base64UrlEncode(JSON.stringify({\n                    kid: validatedRequest.keyId\n                }));\n                validatedRequest.signPopToken = false;\n            }\n            // SPAs require whole string to be passed to broker\n            validatedRequest.reqCnf = reqCnfData;\n        }\n        this.addRequestSKUs(validatedRequest);\n        return validatedRequest;\n    }\n    /**\r\n     * Handles extra broker request parameters\r\n     * @param request {NativeTokenRequest}\r\n     * @private\r\n     */ handleExtraBrokerParams(request) {\n        const hasExtraBrokerParams = request.extraParameters && request.extraParameters.hasOwnProperty(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.BROKER_CLIENT_ID) && request.extraParameters.hasOwnProperty(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.BROKER_REDIRECT_URI) && request.extraParameters.hasOwnProperty(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.CLIENT_ID);\n        if (!request.embeddedClientId && !hasExtraBrokerParams) {\n            return;\n        }\n        let child_client_id = \"\";\n        const child_redirect_uri = request.redirectUri;\n        if (request.embeddedClientId) {\n            request.redirectUri = this.config.auth.redirectUri;\n            child_client_id = request.embeddedClientId;\n        } else if (request.extraParameters) {\n            request.redirectUri = request.extraParameters[_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.BROKER_REDIRECT_URI];\n            child_client_id = request.extraParameters[_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.CLIENT_ID];\n        }\n        request.extraParameters = {\n            child_client_id,\n            child_redirect_uri\n        };\n        this.performanceClient?.addFields({\n            embeddedClientId: child_client_id,\n            embeddedRedirectUri: child_redirect_uri\n        }, request.correlationId);\n    }\n}\n //# sourceMappingURL=NativeInteractionClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9OYXRpdmVJbnRlcmFjdGlvbkNsaWVudC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDd2E7QUFDcFc7QUFDZ0U7QUFDdEI7QUFDdkM7QUFDWDtBQUNGO0FBQ1Q7QUFDcUQ7QUFDdkM7QUFFL0Q7OztDQUdDLEdBQ0QsTUFBTXNDLGdDQUFnQ2hCLDZFQUFxQkE7SUFDdkRpQixZQUFZQyxNQUFNLEVBQUVDLGNBQWMsRUFBRUMsYUFBYSxFQUFFQyxNQUFNLEVBQUVDLFlBQVksRUFBRUMsZ0JBQWdCLEVBQUVDLEtBQUssRUFBRUMsaUJBQWlCLEVBQUVDLFFBQVEsRUFBRUMsU0FBUyxFQUFFQyxpQkFBaUIsRUFBRUMsYUFBYSxDQUFFO1FBQ3hLLEtBQUssQ0FBQ1gsUUFBUUMsZ0JBQWdCQyxlQUFlQyxRQUFRQyxjQUFjQyxrQkFBa0JFLG1CQUFtQkMsVUFBVUc7UUFDbEgsSUFBSSxDQUFDTCxLQUFLLEdBQUdBO1FBQ2IsSUFBSSxDQUFDRyxTQUFTLEdBQUdBO1FBQ2pCLElBQUksQ0FBQ0csb0JBQW9CLEdBQUdKO1FBQzVCLElBQUksQ0FBQ0ssb0JBQW9CLEdBQUdIO1FBQzVCLElBQUksQ0FBQ0ksaUJBQWlCLEdBQUcsSUFBSXRCLHFFQUFpQkEsQ0FBQ1EsUUFBUSxJQUFJLENBQUNhLG9CQUFvQixFQUFFWCxlQUFlQyxRQUFRQyxjQUFjQyxrQkFBa0JFLG1CQUFtQkMsVUFBVUc7UUFDdEssSUFBSSxDQUFDSSxzQkFBc0IsR0FBRyxJQUFJLENBQUNDLGdDQUFnQyxDQUFDLElBQUksQ0FBQ1YsS0FBSztRQUM5RSxNQUFNVyxnQkFBZ0IsSUFBSSxDQUFDTCxvQkFBb0IsQ0FBQ00sY0FBYyxPQUMxRG5DLHdFQUFlQSxDQUFDb0Msc0JBQXNCLEdBQ3BDLFdBQ0EsSUFBSSxDQUFDUCxv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QyxLQUMxRXFFLFFBQVFDLGVBQWUsQ0FBQytMLGNBQWMsQ0FBQ3JRLDJFQUFzQyxLQUM3RXFFLFFBQVFDLGVBQWUsQ0FBQytMLGNBQWMsQ0FBQ3JRLGlFQUE0QjtRQUN2RSxJQUFJLENBQUNxRSxRQUFRMk8sZ0JBQWdCLElBQUksQ0FBQ0osc0JBQXNCO1lBQ3BEO1FBQ0o7UUFDQSxJQUFJSyxrQkFBa0I7UUFDdEIsTUFBTUMscUJBQXFCN08sUUFBUXFFLFdBQVc7UUFDOUMsSUFBSXJFLFFBQVEyTyxnQkFBZ0IsRUFBRTtZQUMxQjNPLFFBQVFxRSxXQUFXLEdBQUcsSUFBSSxDQUFDbkcsTUFBTSxDQUFDb0csSUFBSSxDQUFDRCxXQUFXO1lBQ2xEdUssa0JBQWtCNU8sUUFBUTJPLGdCQUFnQjtRQUM5QyxPQUNLLElBQUkzTyxRQUFRQyxlQUFlLEVBQUU7WUFDOUJELFFBQVFxRSxXQUFXLEdBQ2ZyRSxRQUFRQyxlQUFlLENBQUN0RSwyRUFBc0MsQ0FBQztZQUNuRWlULGtCQUNJNU8sUUFBUUMsZUFBZSxDQUFDdEUsaUVBQTRCLENBQUM7UUFDN0Q7UUFDQXFFLFFBQVFDLGVBQWUsR0FBRztZQUN0QjJPO1lBQ0FDO1FBQ0o7UUFDQSxJQUFJLENBQUNwUSxpQkFBaUIsRUFBRXlHLFVBQVU7WUFDOUJ5SixrQkFBa0JDO1lBQ2xCRSxxQkFBcUJEO1FBQ3pCLEdBQUc3TyxRQUFRbkIsYUFBYTtJQUM1QjtBQUNKO0FBRW1DLENBQ25DLG9EQUFvRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvaW50ZXJhY3Rpb25fY2xpZW50L05hdGl2ZUludGVyYWN0aW9uQ2xpZW50Lm1qcz8zMzI3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgU2VydmVyVGVsZW1ldHJ5TWFuYWdlciwgQUFEU2VydmVyUGFyYW1LZXlzLCBQZXJmb3JtYW5jZUV2ZW50cywgVGltZVV0aWxzLCBTY29wZVNldCwgY3JlYXRlQ2xpZW50QXV0aEVycm9yLCBDbGllbnRBdXRoRXJyb3JDb2RlcywgQXV0aFRva2VuLCBidWlsZEFjY291bnRUb0NhY2hlLCBBY2NvdW50RW50aXR5LCBDb25zdGFudHMsIEF1dGhvcml0eVR5cGUsIEF1dGhlbnRpY2F0aW9uU2NoZW1lLCBQb3BUb2tlbkdlbmVyYXRvciwgdXBkYXRlQWNjb3VudFRlbmFudFByb2ZpbGVEYXRhLCBDYWNoZUhlbHBlcnMsIGNyZWF0ZUF1dGhFcnJvciwgQXV0aEVycm9yQ29kZXMsIFVybFN0cmluZywgT0lEQ19ERUZBVUxUX1NDT1BFUywgaW52b2tlQXN5bmMsIFByb21wdFZhbHVlIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uL2Jyb3dzZXInO1xuaW1wb3J0IHsgQmFzZUludGVyYWN0aW9uQ2xpZW50IH0gZnJvbSAnLi9CYXNlSW50ZXJhY3Rpb25DbGllbnQubWpzJztcbmltcG9ydCB7IE5hdGl2ZUNvbnN0YW50cywgQnJvd3NlckNvbnN0YW50cywgTmF0aXZlRXh0ZW5zaW9uTWV0aG9kLCBUZW1wb3JhcnlDYWNoZUtleXMsIEFwaUlkIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlckNvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgTmF0aXZlQXV0aEVycm9yLCBpc0ZhdGFsTmF0aXZlQXV0aEVycm9yLCBjcmVhdGVOYXRpdmVBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9OYXRpdmVBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBTaWxlbnRDYWNoZUNsaWVudCB9IGZyb20gJy4vU2lsZW50Q2FjaGVDbGllbnQubWpzJztcbmltcG9ydCB7IGJhc2U2NERlY29kZSB9IGZyb20gJy4uL2VuY29kZS9CYXNlNjREZWNvZGUubWpzJztcbmltcG9ydCB7IHZlcnNpb24gfSBmcm9tICcuLi9wYWNrYWdlTWV0YWRhdGEubWpzJztcbmltcG9ydCB7IGludmFsaWRQb3BUb2tlblJlcXVlc3QsIG5hdGl2ZVByb21wdE5vdFN1cHBvcnRlZCB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3JDb2Rlcy5tanMnO1xuaW1wb3J0IHsgdXNlclN3aXRjaCB9IGZyb20gJy4uL2Vycm9yL05hdGl2ZUF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBOYXRpdmVJbnRlcmFjdGlvbkNsaWVudCBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbkNsaWVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIGJyb3dzZXJTdG9yYWdlLCBicm93c2VyQ3J5cHRvLCBsb2dnZXIsIGV2ZW50SGFuZGxlciwgbmF2aWdhdGlvbkNsaWVudCwgYXBpSWQsIHBlcmZvcm1hbmNlQ2xpZW50LCBwcm92aWRlciwgYWNjb3VudElkLCBuYXRpdmVTdG9yYWdlSW1wbCwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHN1cGVyKGNvbmZpZywgYnJvd3NlclN0b3JhZ2UsIGJyb3dzZXJDcnlwdG8sIGxvZ2dlciwgZXZlbnRIYW5kbGVyLCBuYXZpZ2F0aW9uQ2xpZW50LCBwZXJmb3JtYW5jZUNsaWVudCwgcHJvdmlkZXIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHRoaXMuYXBpSWQgPSBhcGlJZDtcclxuICAgICAgICB0aGlzLmFjY291bnRJZCA9IGFjY291bnRJZDtcclxuICAgICAgICB0aGlzLm5hdGl2ZU1lc3NhZ2VIYW5kbGVyID0gcHJvdmlkZXI7XHJcbiAgICAgICAgdGhpcy5uYXRpdmVTdG9yYWdlTWFuYWdlciA9IG5hdGl2ZVN0b3JhZ2VJbXBsO1xyXG4gICAgICAgIHRoaXMuc2lsZW50Q2FjaGVDbGllbnQgPSBuZXcgU2lsZW50Q2FjaGVDbGllbnQoY29uZmlnLCB0aGlzLm5hdGl2ZVN0b3JhZ2VNYW5hZ2VyLCBicm93c2VyQ3J5cHRvLCBsb2dnZXIsIGV2ZW50SGFuZGxlciwgbmF2aWdhdGlvbkNsaWVudCwgcGVyZm9ybWFuY2VDbGllbnQsIHByb3ZpZGVyLCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICB0aGlzLnNlcnZlclRlbGVtZXRyeU1hbmFnZXIgPSB0aGlzLmluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKHRoaXMuYXBpSWQpO1xyXG4gICAgICAgIGNvbnN0IGV4dGVuc2lvbk5hbWUgPSB0aGlzLm5hdGl2ZU1lc3NhZ2VIYW5kbGVyLmdldEV4dGVuc2lvbklkKCkgPT09XHJcbiAgICAgICAgICAgIE5hdGl2ZUNvbnN0YW50cy5QUkVGRVJSRURfRVhURU5TSU9OX0lEXHJcbiAgICAgICAgICAgID8gXCJjaHJvbWVcIlxyXG4gICAgICAgICAgICA6IHRoaXMubmF0aXZlTWVzc2FnZUhhbmRsZXIuZ2V0RXh0ZW5zaW9uSWQoKT8ubGVuZ3RoXHJcbiAgICAgICAgICAgICAgICA/IFwidW5rbm93blwiXHJcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLnNrdXMgPSBTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLm1ha2VFeHRyYVNrdVN0cmluZyh7XHJcbiAgICAgICAgICAgIGxpYnJhcnlOYW1lOiBCcm93c2VyQ29uc3RhbnRzLk1TQUxfU0tVLFxyXG4gICAgICAgICAgICBsaWJyYXJ5VmVyc2lvbjogdmVyc2lvbixcclxuICAgICAgICAgICAgZXh0ZW5zaW9uTmFtZTogZXh0ZW5zaW9uTmFtZSxcclxuICAgICAgICAgICAgZXh0ZW5zaW9uVmVyc2lvbjogdGhpcy5uYXRpdmVNZXNzYWdlSGFuZGxlci5nZXRFeHRlbnNpb25WZXJzaW9uKCksXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgU0tVcyB0byByZXF1ZXN0IGV4dHJhIHF1ZXJ5IHBhcmFtZXRlcnNcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0IHtOYXRpdmVUb2tlblJlcXVlc3R9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBhZGRSZXF1ZXN0U0tVcyhyZXF1ZXN0KSB7XHJcbiAgICAgICAgcmVxdWVzdC5leHRyYVBhcmFtZXRlcnMgPSB7XHJcbiAgICAgICAgICAgIC4uLnJlcXVlc3QuZXh0cmFQYXJhbWV0ZXJzLFxyXG4gICAgICAgICAgICBbQUFEU2VydmVyUGFyYW1LZXlzLlhfQ0xJRU5UX0VYVFJBX1NLVV06IHRoaXMuc2t1cyxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBY3F1aXJlIHRva2VuIGZyb20gbmF0aXZlIHBsYXRmb3JtIHZpYSBicm93c2VyIGV4dGVuc2lvblxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuKHJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuTmF0aXZlSW50ZXJhY3Rpb25DbGllbnRBY3F1aXJlVG9rZW4sIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJOYXRpdmVJbnRlcmFjdGlvbkNsaWVudCAtIGFjcXVpcmVUb2tlbiBjYWxsZWQuXCIpO1xyXG4gICAgICAgIC8vIHN0YXJ0IHRoZSBwZXJmIG1lYXN1cmVtZW50XHJcbiAgICAgICAgY29uc3QgbmF0aXZlQVRNZWFzdXJlbWVudCA9IHRoaXMucGVyZm9ybWFuY2VDbGllbnQuc3RhcnRNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5OYXRpdmVJbnRlcmFjdGlvbkNsaWVudEFjcXVpcmVUb2tlbiwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCByZXFUaW1lc3RhbXAgPSBUaW1lVXRpbHMubm93U2Vjb25kcygpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIGluaXRpYWxpemUgbmF0aXZlIHJlcXVlc3RcclxuICAgICAgICAgICAgY29uc3QgbmF0aXZlUmVxdWVzdCA9IGF3YWl0IHRoaXMuaW5pdGlhbGl6ZU5hdGl2ZVJlcXVlc3QocmVxdWVzdCk7XHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZSB0b2tlbnMgY2FuIGJlIHJldHJpZXZlZCBmcm9tIGludGVybmFsIGNhY2hlXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmFjcXVpcmVUb2tlbnNGcm9tQ2FjaGUodGhpcy5hY2NvdW50SWQsIG5hdGl2ZVJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgbmF0aXZlQVRNZWFzdXJlbWVudC5lbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNOYXRpdmVCcm9rZXI6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgIGZyb21DYWNoZTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29udGludWUgd2l0aCBhIG5hdGl2ZSBjYWxsIGZvciBhbnkgYW5kIGFsbCBlcnJvcnNcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm8oXCJNU0FMIGludGVybmFsIENhY2hlIGRvZXMgbm90IGNvbnRhaW4gdG9rZW5zLCBwcm9jZWVkIHRvIG1ha2UgYSBuYXRpdmUgY2FsbFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7IC4uLm5hdGl2ZVRva2VuUmVxdWVzdCB9ID0gbmF0aXZlUmVxdWVzdDtcclxuICAgICAgICAgICAgLy8gZmFsbCBiYWNrIHRvIG5hdGl2ZSBjYWxsc1xyXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlQm9keSA9IHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogTmF0aXZlRXh0ZW5zaW9uTWV0aG9kLkdldFRva2VuLFxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdDogbmF0aXZlVG9rZW5SZXF1ZXN0LFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubmF0aXZlTWVzc2FnZUhhbmRsZXIuc2VuZE1lc3NhZ2UobWVzc2FnZUJvZHkpO1xyXG4gICAgICAgICAgICBjb25zdCB2YWxpZGF0ZWRSZXNwb25zZSA9IHRoaXMudmFsaWRhdGVOYXRpdmVSZXNwb25zZShyZXNwb25zZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmhhbmRsZU5hdGl2ZVJlc3BvbnNlKHZhbGlkYXRlZFJlc3BvbnNlLCBuYXRpdmVSZXF1ZXN0LCByZXFUaW1lc3RhbXApXHJcbiAgICAgICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBuYXRpdmVBVE1lYXN1cmVtZW50LmVuZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBpc05hdGl2ZUJyb2tlcjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlc3VsdC5yZXF1ZXN0SWQsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyVGVsZW1ldHJ5TWFuYWdlci5jbGVhck5hdGl2ZUJyb2tlckVycm9yQ29kZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIG5hdGl2ZUFUTWVhc3VyZW1lbnQuZW5kKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGU6IGVycm9yLmVycm9yQ29kZSxcclxuICAgICAgICAgICAgICAgICAgICBzdWJFcnJvckNvZGU6IGVycm9yLnN1YkVycm9yLFxyXG4gICAgICAgICAgICAgICAgICAgIGlzTmF0aXZlQnJva2VyOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgTmF0aXZlQXV0aEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlcnZlclRlbGVtZXRyeU1hbmFnZXIuc2V0TmF0aXZlQnJva2VyRXJyb3JDb2RlKGUuZXJyb3JDb2RlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBzaWxlbnQgZmxvdyByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICogQHBhcmFtIGNhY2hlZEFjY291bnRcclxuICAgICAqIEByZXR1cm5zIENvbW1vblNpbGVudEZsb3dSZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZVNpbGVudENhY2hlUmVxdWVzdChyZXF1ZXN0LCBjYWNoZWRBY2NvdW50KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgYXV0aG9yaXR5OiByZXF1ZXN0LmF1dGhvcml0eSxcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogdGhpcy5jb3JyZWxhdGlvbklkLFxyXG4gICAgICAgICAgICBzY29wZXM6IFNjb3BlU2V0LmZyb21TdHJpbmcocmVxdWVzdC5zY29wZSkuYXNBcnJheSgpLFxyXG4gICAgICAgICAgICBhY2NvdW50OiBjYWNoZWRBY2NvdW50LFxyXG4gICAgICAgICAgICBmb3JjZVJlZnJlc2g6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZldGNoZXMgdGhlIHRva2VucyBmcm9tIHRoZSBjYWNoZSBpZiB1bi1leHBpcmVkXHJcbiAgICAgKiBAcGFyYW0gbmF0aXZlQWNjb3VudElkXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICogQHJldHVybnMgYXV0aGVudGljYXRpb25SZXN1bHRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2Vuc0Zyb21DYWNoZShuYXRpdmVBY2NvdW50SWQsIHJlcXVlc3QpIHtcclxuICAgICAgICBpZiAoIW5hdGl2ZUFjY291bnRJZCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKFwiTmF0aXZlSW50ZXJhY3Rpb25DbGllbnQ6YWNxdWlyZVRva2Vuc0Zyb21DYWNoZSAtIE5vIG5hdGl2ZUFjY291bnRJZCBwcm92aWRlZFwiKTtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvckNvZGVzLm5vQWNjb3VudEZvdW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZmV0Y2ggdGhlIGFjY291bnQgZnJvbSBicm93c2VyIGNhY2hlXHJcbiAgICAgICAgY29uc3QgYWNjb3VudCA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0QmFzZUFjY291bnRJbmZvKHtcclxuICAgICAgICAgICAgbmF0aXZlQWNjb3VudElkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghYWNjb3VudCkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yQ29kZXMubm9BY2NvdW50Rm91bmQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBsZXZlcmFnZSBzaWxlbnQgZmxvdyBmb3IgY2FjaGVkIHRva2VucyByZXRyaWV2YWxcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBzaWxlbnRSZXF1ZXN0ID0gdGhpcy5jcmVhdGVTaWxlbnRDYWNoZVJlcXVlc3QocmVxdWVzdCwgYWNjb3VudCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuc2lsZW50Q2FjaGVDbGllbnQuYWNxdWlyZVRva2VuKHNpbGVudFJlcXVlc3QpO1xyXG4gICAgICAgICAgICBjb25zdCBmdWxsQWNjb3VudCA9IHtcclxuICAgICAgICAgICAgICAgIC4uLmFjY291bnQsXHJcbiAgICAgICAgICAgICAgICBpZFRva2VuQ2xhaW1zOiByZXN1bHQ/LmlkVG9rZW5DbGFpbXMsXHJcbiAgICAgICAgICAgICAgICBpZFRva2VuOiByZXN1bHQ/LmlkVG9rZW4sXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICAuLi5yZXN1bHQsXHJcbiAgICAgICAgICAgICAgICBhY2NvdW50OiBmdWxsQWNjb3VudCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFjcXVpcmVzIGEgdG9rZW4gZnJvbSBuYXRpdmUgcGxhdGZvcm0gdGhlbiByZWRpcmVjdHMgdG8gdGhlIHJlZGlyZWN0VXJpIGluc3RlYWQgb2YgcmV0dXJuaW5nIHRoZSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIHtSZWRpcmVjdFJlcXVlc3R9IHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSB7SW5Qcm9ncmVzc1BlcmZvcm1hbmNlRXZlbnR9IHJvb3RNZWFzdXJlbWVudFxyXG4gICAgICovXHJcbiAgICBhc3luYyBhY3F1aXJlVG9rZW5SZWRpcmVjdChyZXF1ZXN0LCByb290TWVhc3VyZW1lbnQpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIk5hdGl2ZUludGVyYWN0aW9uQ2xpZW50IC0gYWNxdWlyZVRva2VuUmVkaXJlY3QgY2FsbGVkLlwiKTtcclxuICAgICAgICBjb25zdCB7IC4uLnJlbWFpbmluZ1BhcmFtZXRlcnMgfSA9IHJlcXVlc3Q7XHJcbiAgICAgICAgZGVsZXRlIHJlbWFpbmluZ1BhcmFtZXRlcnMub25SZWRpcmVjdE5hdmlnYXRlO1xyXG4gICAgICAgIGNvbnN0IG5hdGl2ZVJlcXVlc3QgPSBhd2FpdCB0aGlzLmluaXRpYWxpemVOYXRpdmVSZXF1ZXN0KHJlbWFpbmluZ1BhcmFtZXRlcnMpO1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2VCb2R5ID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6IE5hdGl2ZUV4dGVuc2lvbk1ldGhvZC5HZXRUb2tlbixcclxuICAgICAgICAgICAgcmVxdWVzdDogbmF0aXZlUmVxdWVzdCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5uYXRpdmVNZXNzYWdlSGFuZGxlci5zZW5kTWVzc2FnZShtZXNzYWdlQm9keSk7XHJcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGVOYXRpdmVSZXNwb25zZShyZXNwb25zZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIE9ubHkgdGhyb3cgZmF0YWwgZXJyb3JzIGhlcmUgdG8gYWxsb3cgYXBwbGljYXRpb24gdG8gZmFsbGJhY2sgdG8gcmVndWxhciByZWRpcmVjdC4gT3RoZXJ3aXNlIHByb2NlZWQgYW5kIHRoZSBlcnJvciB3aWxsIGJlIHRocm93biBpbiBoYW5kbGVSZWRpcmVjdFByb21pc2VcclxuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBOYXRpdmVBdXRoRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2VydmVyVGVsZW1ldHJ5TWFuYWdlci5zZXROYXRpdmVCcm9rZXJFcnJvckNvZGUoZS5lcnJvckNvZGUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRmF0YWxOYXRpdmVBdXRoRXJyb3IoZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0VGVtcG9yYXJ5Q2FjaGUoVGVtcG9yYXJ5Q2FjaGVLZXlzLk5BVElWRV9SRVFVRVNULCBKU09OLnN0cmluZ2lmeShuYXRpdmVSZXF1ZXN0KSwgdHJ1ZSk7XHJcbiAgICAgICAgY29uc3QgbmF2aWdhdGlvbk9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgIGFwaUlkOiBBcGlJZC5hY3F1aXJlVG9rZW5SZWRpcmVjdCxcclxuICAgICAgICAgICAgdGltZW91dDogdGhpcy5jb25maWcuc3lzdGVtLnJlZGlyZWN0TmF2aWdhdGlvblRpbWVvdXQsXHJcbiAgICAgICAgICAgIG5vSGlzdG9yeTogZmFsc2UsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCByZWRpcmVjdFVyaSA9IHRoaXMuY29uZmlnLmF1dGgubmF2aWdhdGVUb0xvZ2luUmVxdWVzdFVybFxyXG4gICAgICAgICAgICA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmXHJcbiAgICAgICAgICAgIDogdGhpcy5nZXRSZWRpcmVjdFVyaShyZXF1ZXN0LnJlZGlyZWN0VXJpKTtcclxuICAgICAgICByb290TWVhc3VyZW1lbnQuZW5kKHsgc3VjY2VzczogdHJ1ZSB9KTtcclxuICAgICAgICBhd2FpdCB0aGlzLm5hdmlnYXRpb25DbGllbnQubmF2aWdhdGVFeHRlcm5hbChyZWRpcmVjdFVyaSwgbmF2aWdhdGlvbk9wdGlvbnMpOyAvLyBOZWVkIHRvIHRyZWF0IHRoaXMgYXMgZXh0ZXJuYWwgdG8gZW5zdXJlIGhhbmRsZVJlZGlyZWN0UHJvbWlzZSBpcyBydW4gYWdhaW5cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSWYgdGhlIHByZXZpb3VzIHBhZ2UgY2FsbGVkIG5hdGl2ZSBwbGF0Zm9ybSBmb3IgYSB0b2tlbiB1c2luZyByZWRpcmVjdCBBUElzLCBzZW5kIHRoZSBzYW1lIHJlcXVlc3QgYWdhaW4gYW5kIHJldHVybiB0aGUgcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBwZXJmb3JtYW5jZUNsaWVudCB7SVBlcmZvcm1hbmNlQ2xpZW50P31cclxuICAgICAqIEBwYXJhbSBjb3JyZWxhdGlvbklkIHtzdHJpbmc/fSBjb3JyZWxhdGlvbiBpZGVudGlmaWVyXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGhhbmRsZVJlZGlyZWN0UHJvbWlzZShwZXJmb3JtYW5jZUNsaWVudCwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiTmF0aXZlSW50ZXJhY3Rpb25DbGllbnQgLSBoYW5kbGVSZWRpcmVjdFByb21pc2UgY2FsbGVkLlwiKTtcclxuICAgICAgICBpZiAoIXRoaXMuYnJvd3NlclN0b3JhZ2UuaXNJbnRlcmFjdGlvbkluUHJvZ3Jlc3ModHJ1ZSkpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImhhbmRsZVJlZGlyZWN0UHJvbWlzZSBjYWxsZWQgYnV0IHRoZXJlIGlzIG5vIGludGVyYWN0aW9uIGluIHByb2dyZXNzLCByZXR1cm5pbmcgbnVsbC5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyByZW1vdmUgcHJvbXB0IGZyb20gdGhlIHJlcXVlc3QgdG8gcHJldmVudCBXQU0gZnJvbSBwcm9tcHRpbmcgdHdpY2VcclxuICAgICAgICBjb25zdCBjYWNoZWRSZXF1ZXN0ID0gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRDYWNoZWROYXRpdmVSZXF1ZXN0KCk7XHJcbiAgICAgICAgaWYgKCFjYWNoZWRSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJOYXRpdmVJbnRlcmFjdGlvbkNsaWVudCAtIGhhbmRsZVJlZGlyZWN0UHJvbWlzZSBjYWxsZWQgYnV0IHRoZXJlIGlzIG5vIGNhY2hlZCByZXF1ZXN0LCByZXR1cm5pbmcgbnVsbC5cIik7XHJcbiAgICAgICAgICAgIGlmIChwZXJmb3JtYW5jZUNsaWVudCAmJiBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZUNsaWVudD8uYWRkRmllbGRzKHsgZXJyb3JDb2RlOiBcIm5vX2NhY2hlZF9yZXF1ZXN0XCIgfSwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHsgcHJvbXB0LCAuLi5yZXF1ZXN0IH0gPSBjYWNoZWRSZXF1ZXN0O1xyXG4gICAgICAgIGlmIChwcm9tcHQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIk5hdGl2ZUludGVyYWN0aW9uQ2xpZW50IC0gaGFuZGxlUmVkaXJlY3RQcm9taXNlIGNhbGxlZCBhbmQgcHJvbXB0IHdhcyBpbmNsdWRlZCBpbiB0aGUgb3JpZ2luYWwgcmVxdWVzdCwgcmVtb3ZpbmcgcHJvbXB0IGZyb20gY2FjaGVkIHJlcXVlc3QgdG8gcHJldmVudCBzZWNvbmQgaW50ZXJhY3Rpb24gd2l0aCBuYXRpdmUgYnJva2VyIHdpbmRvdy5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmJyb3dzZXJTdG9yYWdlLmdlbmVyYXRlQ2FjaGVLZXkoVGVtcG9yYXJ5Q2FjaGVLZXlzLk5BVElWRV9SRVFVRVNUKSk7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZUJvZHkgPSB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogTmF0aXZlRXh0ZW5zaW9uTWV0aG9kLkdldFRva2VuLFxyXG4gICAgICAgICAgICByZXF1ZXN0OiByZXF1ZXN0LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgcmVxVGltZXN0YW1wID0gVGltZVV0aWxzLm5vd1NlY29uZHMoKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiTmF0aXZlSW50ZXJhY3Rpb25DbGllbnQgLSBoYW5kbGVSZWRpcmVjdFByb21pc2Ugc2VuZGluZyBtZXNzYWdlIHRvIG5hdGl2ZSBicm9rZXIuXCIpO1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubmF0aXZlTWVzc2FnZUhhbmRsZXIuc2VuZE1lc3NhZ2UobWVzc2FnZUJvZHkpO1xyXG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlTmF0aXZlUmVzcG9uc2UocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLmhhbmRsZU5hdGl2ZVJlc3BvbnNlKHJlc3BvbnNlLCByZXF1ZXN0LCByZXFUaW1lc3RhbXApO1xyXG4gICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEludGVyYWN0aW9uSW5Qcm9ncmVzcyhmYWxzZSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHJlc3VsdDtcclxuICAgICAgICAgICAgdGhpcy5zZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLmNsZWFyTmF0aXZlQnJva2VyRXJyb3JDb2RlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvZ291dCBmcm9tIG5hdGl2ZSBwbGF0Zm9ybSB2aWEgYnJvd3NlciBleHRlbnNpb25cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGxvZ291dCgpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIk5hdGl2ZUludGVyYWN0aW9uQ2xpZW50IC0gbG9nb3V0IGNhbGxlZC5cIik7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFwiTG9nb3V0IG5vdCBpbXBsZW1lbnRlZCB5ZXRcIik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zZm9ybSByZXNwb25zZSBmcm9tIG5hdGl2ZSBwbGF0Zm9ybSBpbnRvIEF1dGhlbnRpY2F0aW9uUmVzdWx0IG9iamVjdCB3aGljaCB3aWxsIGJlIHJldHVybmVkIHRvIHRoZSBlbmQgdXNlclxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICogQHBhcmFtIHJlcVRpbWVzdGFtcFxyXG4gICAgICovXHJcbiAgICBhc3luYyBoYW5kbGVOYXRpdmVSZXNwb25zZShyZXNwb25zZSwgcmVxdWVzdCwgcmVxVGltZXN0YW1wKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJOYXRpdmVJbnRlcmFjdGlvbkNsaWVudCAtIGhhbmRsZU5hdGl2ZVJlc3BvbnNlIGNhbGxlZC5cIik7XHJcbiAgICAgICAgLy8gZ2VuZXJhdGUgaWRlbnRpZmllcnNcclxuICAgICAgICBjb25zdCBpZFRva2VuQ2xhaW1zID0gQXV0aFRva2VuLmV4dHJhY3RUb2tlbkNsYWltcyhyZXNwb25zZS5pZF90b2tlbiwgYmFzZTY0RGVjb2RlKTtcclxuICAgICAgICBjb25zdCBob21lQWNjb3VudElkZW50aWZpZXIgPSB0aGlzLmNyZWF0ZUhvbWVBY2NvdW50SWRlbnRpZmllcihyZXNwb25zZSwgaWRUb2tlbkNsYWltcyk7XHJcbiAgICAgICAgY29uc3QgY2FjaGVkaG9tZUFjY291bnRJZCA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0QWNjb3VudEluZm9GaWx0ZXJlZEJ5KHtcclxuICAgICAgICAgICAgbmF0aXZlQWNjb3VudElkOiByZXF1ZXN0LmFjY291bnRJZCxcclxuICAgICAgICB9KT8uaG9tZUFjY291bnRJZDtcclxuICAgICAgICBpZiAoaG9tZUFjY291bnRJZGVudGlmaWVyICE9PSBjYWNoZWRob21lQWNjb3VudElkICYmXHJcbiAgICAgICAgICAgIHJlc3BvbnNlLmFjY291bnQuaWQgIT09IHJlcXVlc3QuYWNjb3VudElkKSB7XHJcbiAgICAgICAgICAgIC8vIFVzZXIgc3dpdGNoIGluIG5hdGl2ZSBicm9rZXIgcHJvbXB0IGlzIG5vdCBzdXBwb3J0ZWQuIEFsbCB1c2VycyBtdXN0IGZpcnN0IHNpZ24gaW4gdGhyb3VnaCB3ZWIgZmxvdyB0byBlbnN1cmUgc2VydmVyIHN0YXRlIGlzIGluIHN5bmNcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTmF0aXZlQXV0aEVycm9yKHVzZXJTd2l0Y2gpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBHZXQgdGhlIHByZWZlcnJlZF9jYWNoZSBkb21haW4gZm9yIHRoZSBnaXZlbiBhdXRob3JpdHlcclxuICAgICAgICBjb25zdCBhdXRob3JpdHkgPSBhd2FpdCB0aGlzLmdldERpc2NvdmVyZWRBdXRob3JpdHkoe1xyXG4gICAgICAgICAgICByZXF1ZXN0QXV0aG9yaXR5OiByZXF1ZXN0LmF1dGhvcml0eSxcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBiYXNlQWNjb3VudCA9IGJ1aWxkQWNjb3VudFRvQ2FjaGUodGhpcy5icm93c2VyU3RvcmFnZSwgYXV0aG9yaXR5LCBob21lQWNjb3VudElkZW50aWZpZXIsIGJhc2U2NERlY29kZSwgaWRUb2tlbkNsYWltcywgcmVzcG9uc2UuY2xpZW50X2luZm8sIHVuZGVmaW5lZCwgLy8gZW52aXJvbm1lbnRcclxuICAgICAgICBpZFRva2VuQ2xhaW1zLnRpZCwgdW5kZWZpbmVkLCAvLyBhdXRoIGNvZGUgcGF5bG9hZFxyXG4gICAgICAgIHJlc3BvbnNlLmFjY291bnQuaWQsIHRoaXMubG9nZ2VyKTtcclxuICAgICAgICAvLyBnZW5lcmF0ZSBhdXRoZW50aWNhdGlvblJlc3VsdFxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVBdXRoZW50aWNhdGlvblJlc3VsdChyZXNwb25zZSwgcmVxdWVzdCwgaWRUb2tlbkNsYWltcywgYmFzZUFjY291bnQsIGF1dGhvcml0eS5jYW5vbmljYWxBdXRob3JpdHksIHJlcVRpbWVzdGFtcCk7XHJcbiAgICAgICAgLy8gY2FjaGUgYWNjb3VudHMgYW5kIHRva2VucyBpbiB0aGUgYXBwcm9wcmlhdGUgc3RvcmFnZVxyXG4gICAgICAgIHRoaXMuY2FjaGVBY2NvdW50KGJhc2VBY2NvdW50KTtcclxuICAgICAgICB0aGlzLmNhY2hlTmF0aXZlVG9rZW5zKHJlc3BvbnNlLCByZXF1ZXN0LCBob21lQWNjb3VudElkZW50aWZpZXIsIGlkVG9rZW5DbGFpbXMsIHJlc3BvbnNlLmFjY2Vzc190b2tlbiwgcmVzdWx0LnRlbmFudElkLCByZXFUaW1lc3RhbXApO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGNyZWF0ZXMgYW4gaG9tZUFjY291bnRJZGVudGlmaWVyIGZvciB0aGUgYWNjb3VudFxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXHJcbiAgICAgKiBAcGFyYW0gaWRUb2tlbk9ialxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgY3JlYXRlSG9tZUFjY291bnRJZGVudGlmaWVyKHJlc3BvbnNlLCBpZFRva2VuQ2xhaW1zKSB7XHJcbiAgICAgICAgLy8gU2F2ZSBhY2NvdW50IGluIGJyb3dzZXIgc3RvcmFnZVxyXG4gICAgICAgIGNvbnN0IGhvbWVBY2NvdW50SWRlbnRpZmllciA9IEFjY291bnRFbnRpdHkuZ2VuZXJhdGVIb21lQWNjb3VudElkKHJlc3BvbnNlLmNsaWVudF9pbmZvIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsIEF1dGhvcml0eVR5cGUuRGVmYXVsdCwgdGhpcy5sb2dnZXIsIHRoaXMuYnJvd3NlckNyeXB0bywgaWRUb2tlbkNsYWltcyk7XHJcbiAgICAgICAgcmV0dXJuIGhvbWVBY2NvdW50SWRlbnRpZmllcjtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIHRvIGdlbmVyYXRlIHNjb3Blc1xyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVTY29wZXMocmVzcG9uc2UsIHJlcXVlc3QpIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2Uuc2NvcGVcclxuICAgICAgICAgICAgPyBTY29wZVNldC5mcm9tU3RyaW5nKHJlc3BvbnNlLnNjb3BlKVxyXG4gICAgICAgICAgICA6IFNjb3BlU2V0LmZyb21TdHJpbmcocmVxdWVzdC5zY29wZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIElmIFBvUCB0b2tlbiBpcyByZXF1ZXNyZWQsIHJlY29yZHMgdGhlIFBvUCB0b2tlbiBpZiByZXR1cm5lZCBmcm9tIHRoZSBXQU0sIGVsc2UgZ2VuZXJhdGVzIG9uZSBpbiB0aGUgYnJvd3NlclxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZW5lcmF0ZVBvcEFjY2Vzc1Rva2VuKHJlc3BvbnNlLCByZXF1ZXN0KSB7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QudG9rZW5UeXBlID09PSBBdXRoZW50aWNhdGlvblNjaGVtZS5QT1AgJiZcclxuICAgICAgICAgICAgcmVxdWVzdC5zaWduUG9wVG9rZW4pIHtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIFRoaXMgY29kZSBwcmlvcml0aXplcyBTSFIgcmV0dXJuZWQgZnJvbSB0aGUgbmF0aXZlIGxheWVyLiBJbiBjYXNlIG9mIGVycm9yL1NIUiBub3QgY2FsY3VsYXRlZCBmcm9tIFdBTSBhbmQgdGhlIEFUXHJcbiAgICAgICAgICAgICAqIGlzIHN0aWxsIHJlY2VpdmVkLCBTSFIgaXMgY2FsY3VsYXRlZCBsb2NhbGx5XHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAvLyBDaGVjayBpZiBuYXRpdmUgbGF5ZXIgcmV0dXJuZWQgYW4gU0hSIHRva2VuXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zaHIpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnRyYWNlKFwiaGFuZGxlTmF0aXZlU2VydmVyUmVzcG9uc2U6IFNIUiBpcyBlbmFibGVkIGluIG5hdGl2ZSBsYXllclwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5zaHI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gR2VuZXJhdGUgU0hSIGluIG1zYWwganMgaWYgV0FNIGRvZXMgbm90IGNvbXB1dGUgaXQgd2hlbiBQT1AgaXMgZW5hYmxlZFxyXG4gICAgICAgICAgICBjb25zdCBwb3BUb2tlbkdlbmVyYXRvciA9IG5ldyBQb3BUb2tlbkdlbmVyYXRvcih0aGlzLmJyb3dzZXJDcnlwdG8pO1xyXG4gICAgICAgICAgICBjb25zdCBzaHJQYXJhbWV0ZXJzID0ge1xyXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0TWV0aG9kOiByZXF1ZXN0LnJlc291cmNlUmVxdWVzdE1ldGhvZCxcclxuICAgICAgICAgICAgICAgIHJlc291cmNlUmVxdWVzdFVyaTogcmVxdWVzdC5yZXNvdXJjZVJlcXVlc3RVcmksXHJcbiAgICAgICAgICAgICAgICBzaHJDbGFpbXM6IHJlcXVlc3Quc2hyQ2xhaW1zLFxyXG4gICAgICAgICAgICAgICAgc2hyTm9uY2U6IHJlcXVlc3Quc2hyTm9uY2UsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBLZXlJRCBtdXN0IGJlIHByZXNlbnQgaW4gdGhlIG5hdGl2ZSByZXF1ZXN0IGZyb20gd2hlbiB0aGUgUG9QIGtleSB3YXMgZ2VuZXJhdGVkIGluIG9yZGVyIGZvclxyXG4gICAgICAgICAgICAgKiBQb3BUb2tlbkdlbmVyYXRvciB0byBxdWVyeSB0aGUgZnVsbCBrZXkgZm9yIHNpZ25pbmdcclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlmICghcmVxdWVzdC5rZXlJZCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvckNvZGVzLmtleUlkTWlzc2luZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHBvcFRva2VuR2VuZXJhdG9yLnNpZ25Qb3BUb2tlbihyZXNwb25zZS5hY2Nlc3NfdG9rZW4sIHJlcXVlc3Qua2V5SWQsIHNoclBhcmFtZXRlcnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmFjY2Vzc190b2tlbjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlcyBhdXRoZW50aWNhdGlvbiByZXN1bHRcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBpZFRva2VuT2JqXHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudEVudGl0eVxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVxyXG4gICAgICogQHBhcmFtIHJlcVRpbWVzdGFtcFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2VuZXJhdGVBdXRoZW50aWNhdGlvblJlc3VsdChyZXNwb25zZSwgcmVxdWVzdCwgaWRUb2tlbkNsYWltcywgYWNjb3VudEVudGl0eSwgYXV0aG9yaXR5LCByZXFUaW1lc3RhbXApIHtcclxuICAgICAgICAvLyBBZGQgTmF0aXZlIEJyb2tlciBmaWVsZHMgdG8gVGVsZW1ldHJ5XHJcbiAgICAgICAgY29uc3QgbWF0cyA9IHRoaXMuYWRkVGVsZW1ldHJ5RnJvbU5hdGl2ZVJlc3BvbnNlKHJlc3BvbnNlKTtcclxuICAgICAgICAvLyBJZiBzY29wZXMgbm90IHJldHVybmVkIGluIHNlcnZlciByZXNwb25zZSwgdXNlIHJlcXVlc3Qgc2NvcGVzXHJcbiAgICAgICAgY29uc3QgcmVzcG9uc2VTY29wZXMgPSByZXNwb25zZS5zY29wZVxyXG4gICAgICAgICAgICA/IFNjb3BlU2V0LmZyb21TdHJpbmcocmVzcG9uc2Uuc2NvcGUpXHJcbiAgICAgICAgICAgIDogU2NvcGVTZXQuZnJvbVN0cmluZyhyZXF1ZXN0LnNjb3BlKTtcclxuICAgICAgICBjb25zdCBhY2NvdW50UHJvcGVydGllcyA9IHJlc3BvbnNlLmFjY291bnQucHJvcGVydGllcyB8fCB7fTtcclxuICAgICAgICBjb25zdCB1aWQgPSBhY2NvdW50UHJvcGVydGllc1tcIlVJRFwiXSB8fFxyXG4gICAgICAgICAgICBpZFRva2VuQ2xhaW1zLm9pZCB8fFxyXG4gICAgICAgICAgICBpZFRva2VuQ2xhaW1zLnN1YiB8fFxyXG4gICAgICAgICAgICBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgIGNvbnN0IHRpZCA9IGFjY291bnRQcm9wZXJ0aWVzW1wiVGVuYW50SWRcIl0gfHxcclxuICAgICAgICAgICAgaWRUb2tlbkNsYWltcy50aWQgfHxcclxuICAgICAgICAgICAgQ29uc3RhbnRzLkVNUFRZX1NUUklORztcclxuICAgICAgICBjb25zdCBhY2NvdW50SW5mbyA9IHVwZGF0ZUFjY291bnRUZW5hbnRQcm9maWxlRGF0YShhY2NvdW50RW50aXR5LmdldEFjY291bnRJbmZvKCksIHVuZGVmaW5lZCwgLy8gdGVuYW50UHJvZmlsZSBvcHRpb25hbFxyXG4gICAgICAgIGlkVG9rZW5DbGFpbXMsIHJlc3BvbnNlLmlkX3Rva2VuKTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBJbiBwYWlyd2lzZSBicm9rZXIgZmxvd3MsIHRoaXMgY2hlY2sgcHJldmVudHMgdGhlIGJyb2tlcidzIG5hdGl2ZSBhY2NvdW50IGlkXHJcbiAgICAgICAgICogZnJvbSBiZWluZyByZXR1cm5lZCBvdmVyIHRoZSBlbWJlZGRlZCBhcHAncyBhY2NvdW50IGlkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChhY2NvdW50SW5mby5uYXRpdmVBY2NvdW50SWQgIT09IHJlc3BvbnNlLmFjY291bnQuaWQpIHtcclxuICAgICAgICAgICAgYWNjb3VudEluZm8ubmF0aXZlQWNjb3VudElkID0gcmVzcG9uc2UuYWNjb3VudC5pZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZ2VuZXJhdGUgUG9QIHRva2VuIGFzIG5lZWRlZFxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlQWNjZXNzVG9rZW4gPSBhd2FpdCB0aGlzLmdlbmVyYXRlUG9wQWNjZXNzVG9rZW4ocmVzcG9uc2UsIHJlcXVlc3QpO1xyXG4gICAgICAgIGNvbnN0IHRva2VuVHlwZSA9IHJlcXVlc3QudG9rZW5UeXBlID09PSBBdXRoZW50aWNhdGlvblNjaGVtZS5QT1BcclxuICAgICAgICAgICAgPyBBdXRoZW50aWNhdGlvblNjaGVtZS5QT1BcclxuICAgICAgICAgICAgOiBBdXRoZW50aWNhdGlvblNjaGVtZS5CRUFSRVI7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICBhdXRob3JpdHk6IGF1dGhvcml0eSxcclxuICAgICAgICAgICAgdW5pcXVlSWQ6IHVpZCxcclxuICAgICAgICAgICAgdGVuYW50SWQ6IHRpZCxcclxuICAgICAgICAgICAgc2NvcGVzOiByZXNwb25zZVNjb3Blcy5hc0FycmF5KCksXHJcbiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnRJbmZvLFxyXG4gICAgICAgICAgICBpZFRva2VuOiByZXNwb25zZS5pZF90b2tlbixcclxuICAgICAgICAgICAgaWRUb2tlbkNsYWltczogaWRUb2tlbkNsYWltcyxcclxuICAgICAgICAgICAgYWNjZXNzVG9rZW46IHJlc3BvbnNlQWNjZXNzVG9rZW4sXHJcbiAgICAgICAgICAgIGZyb21DYWNoZTogbWF0cyA/IHRoaXMuaXNSZXNwb25zZUZyb21DYWNoZShtYXRzKSA6IGZhbHNlLFxyXG4gICAgICAgICAgICBleHBpcmVzT246IG5ldyBEYXRlKE51bWJlcihyZXFUaW1lc3RhbXAgKyByZXNwb25zZS5leHBpcmVzX2luKSAqIDEwMDApLFxyXG4gICAgICAgICAgICB0b2tlblR5cGU6IHRva2VuVHlwZSxcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogdGhpcy5jb3JyZWxhdGlvbklkLFxyXG4gICAgICAgICAgICBzdGF0ZTogcmVzcG9uc2Uuc3RhdGUsXHJcbiAgICAgICAgICAgIGZyb21OYXRpdmVCcm9rZXI6IHRydWUsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBjYWNoZSB0aGUgYWNjb3VudCBlbnRpdHkgaW4gYnJvd3NlciBzdG9yYWdlXHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudEVudGl0eVxyXG4gICAgICovXHJcbiAgICBjYWNoZUFjY291bnQoYWNjb3VudEVudGl0eSkge1xyXG4gICAgICAgIC8vIFN0b3JlIHRoZSBhY2NvdW50IGluZm8gYW5kIGhlbmNlIGBuYXRpdmVBY2NvdW50SWRgIGluIGJyb3dzZXIgY2FjaGVcclxuICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEFjY291bnQoYWNjb3VudEVudGl0eSk7XHJcbiAgICAgICAgLy8gUmVtb3ZlIGFueSBleGlzdGluZyBjYWNoZWQgdG9rZW5zIGZvciB0aGlzIGFjY291bnQgaW4gYnJvd3NlciBzdG9yYWdlXHJcbiAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5yZW1vdmVBY2NvdW50Q29udGV4dChhY2NvdW50RW50aXR5KS5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgRXJyb3Igb2NjdXJyZWQgd2hpbGUgcmVtb3ZpbmcgYWNjb3VudCBjb250ZXh0IGZyb20gYnJvd3NlciBzdG9yYWdlLiAke2V9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFN0b3JlcyB0aGUgYWNjZXNzX3Rva2VuIGFuZCBpZF90b2tlbiBpbiBpbm1lbW9yeSBzdG9yYWdlXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gaG9tZUFjY291bnRJZGVudGlmaWVyXHJcbiAgICAgKiBAcGFyYW0gaWRUb2tlbk9ialxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlQWNjZXNzVG9rZW5cclxuICAgICAqIEBwYXJhbSB0ZW5hbnRJZFxyXG4gICAgICogQHBhcmFtIHJlcVRpbWVzdGFtcFxyXG4gICAgICovXHJcbiAgICBjYWNoZU5hdGl2ZVRva2VucyhyZXNwb25zZSwgcmVxdWVzdCwgaG9tZUFjY291bnRJZGVudGlmaWVyLCBpZFRva2VuQ2xhaW1zLCByZXNwb25zZUFjY2Vzc1Rva2VuLCB0ZW5hbnRJZCwgcmVxVGltZXN0YW1wKSB7XHJcbiAgICAgICAgY29uc3QgY2FjaGVkSWRUb2tlbiA9IENhY2hlSGVscGVycy5jcmVhdGVJZFRva2VuRW50aXR5KGhvbWVBY2NvdW50SWRlbnRpZmllciwgcmVxdWVzdC5hdXRob3JpdHksIHJlc3BvbnNlLmlkX3Rva2VuIHx8IFwiXCIsIHJlcXVlc3QuY2xpZW50SWQsIGlkVG9rZW5DbGFpbXMudGlkIHx8IFwiXCIpO1xyXG4gICAgICAgIC8vIGNhY2hlIGFjY2Vzc1Rva2VuIGluIGlubWVtb3J5IHN0b3JhZ2VcclxuICAgICAgICBjb25zdCBleHBpcmVzSW4gPSByZXF1ZXN0LnRva2VuVHlwZSA9PT0gQXV0aGVudGljYXRpb25TY2hlbWUuUE9QXHJcbiAgICAgICAgICAgID8gQ29uc3RhbnRzLlNIUl9OT05DRV9WQUxJRElUWVxyXG4gICAgICAgICAgICA6ICh0eXBlb2YgcmVzcG9uc2UuZXhwaXJlc19pbiA9PT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICAgICAgICAgPyBwYXJzZUludChyZXNwb25zZS5leHBpcmVzX2luLCAxMClcclxuICAgICAgICAgICAgICAgIDogcmVzcG9uc2UuZXhwaXJlc19pbikgfHwgMDtcclxuICAgICAgICBjb25zdCB0b2tlbkV4cGlyYXRpb25TZWNvbmRzID0gcmVxVGltZXN0YW1wICsgZXhwaXJlc0luO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlU2NvcGVzID0gdGhpcy5nZW5lcmF0ZVNjb3BlcyhyZXNwb25zZSwgcmVxdWVzdCk7XHJcbiAgICAgICAgY29uc3QgY2FjaGVkQWNjZXNzVG9rZW4gPSBDYWNoZUhlbHBlcnMuY3JlYXRlQWNjZXNzVG9rZW5FbnRpdHkoaG9tZUFjY291bnRJZGVudGlmaWVyLCByZXF1ZXN0LmF1dGhvcml0eSwgcmVzcG9uc2VBY2Nlc3NUb2tlbiwgcmVxdWVzdC5jbGllbnRJZCwgaWRUb2tlbkNsYWltcy50aWQgfHwgdGVuYW50SWQsIHJlc3BvbnNlU2NvcGVzLnByaW50U2NvcGVzKCksIHRva2VuRXhwaXJhdGlvblNlY29uZHMsIDAsIGJhc2U2NERlY29kZSwgdW5kZWZpbmVkLCByZXF1ZXN0LnRva2VuVHlwZSwgdW5kZWZpbmVkLCByZXF1ZXN0LmtleUlkKTtcclxuICAgICAgICBjb25zdCBuYXRpdmVDYWNoZVJlY29yZCA9IHtcclxuICAgICAgICAgICAgaWRUb2tlbjogY2FjaGVkSWRUb2tlbixcclxuICAgICAgICAgICAgYWNjZXNzVG9rZW46IGNhY2hlZEFjY2Vzc1Rva2VuLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdm9pZCB0aGlzLm5hdGl2ZVN0b3JhZ2VNYW5hZ2VyLnNhdmVDYWNoZVJlY29yZChuYXRpdmVDYWNoZVJlY29yZCwgcmVxdWVzdC5zdG9yZUluQ2FjaGUpO1xyXG4gICAgfVxyXG4gICAgYWRkVGVsZW1ldHJ5RnJvbU5hdGl2ZVJlc3BvbnNlKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgY29uc3QgbWF0cyA9IHRoaXMuZ2V0TUFUU0Zyb21SZXNwb25zZShyZXNwb25zZSk7XHJcbiAgICAgICAgaWYgKCFtYXRzKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LmFkZEZpZWxkcyh7XHJcbiAgICAgICAgICAgIGV4dGVuc2lvbklkOiB0aGlzLm5hdGl2ZU1lc3NhZ2VIYW5kbGVyLmdldEV4dGVuc2lvbklkKCksXHJcbiAgICAgICAgICAgIGV4dGVuc2lvblZlcnNpb246IHRoaXMubmF0aXZlTWVzc2FnZUhhbmRsZXIuZ2V0RXh0ZW5zaW9uVmVyc2lvbigpLFxyXG4gICAgICAgICAgICBtYXRzQnJva2VyVmVyc2lvbjogbWF0cy5icm9rZXJfdmVyc2lvbixcclxuICAgICAgICAgICAgbWF0c0FjY291bnRKb2luT25TdGFydDogbWF0cy5hY2NvdW50X2pvaW5fb25fc3RhcnQsXHJcbiAgICAgICAgICAgIG1hdHNBY2NvdW50Sm9pbk9uRW5kOiBtYXRzLmFjY291bnRfam9pbl9vbl9lbmQsXHJcbiAgICAgICAgICAgIG1hdHNEZXZpY2VKb2luOiBtYXRzLmRldmljZV9qb2luLFxyXG4gICAgICAgICAgICBtYXRzUHJvbXB0QmVoYXZpb3I6IG1hdHMucHJvbXB0X2JlaGF2aW9yLFxyXG4gICAgICAgICAgICBtYXRzQXBpRXJyb3JDb2RlOiBtYXRzLmFwaV9lcnJvcl9jb2RlLFxyXG4gICAgICAgICAgICBtYXRzVWlWaXNpYmxlOiBtYXRzLnVpX3Zpc2libGUsXHJcbiAgICAgICAgICAgIG1hdHNTaWxlbnRDb2RlOiBtYXRzLnNpbGVudF9jb2RlLFxyXG4gICAgICAgICAgICBtYXRzU2lsZW50QmlTdWJDb2RlOiBtYXRzLnNpbGVudF9iaV9zdWJfY29kZSxcclxuICAgICAgICAgICAgbWF0c1NpbGVudE1lc3NhZ2U6IG1hdHMuc2lsZW50X21lc3NhZ2UsXHJcbiAgICAgICAgICAgIG1hdHNTaWxlbnRTdGF0dXM6IG1hdHMuc2lsZW50X3N0YXR1cyxcclxuICAgICAgICAgICAgbWF0c0h0dHBTdGF0dXM6IG1hdHMuaHR0cF9zdGF0dXMsXHJcbiAgICAgICAgICAgIG1hdHNIdHRwRXZlbnRDb3VudDogbWF0cy5odHRwX2V2ZW50X2NvdW50LFxyXG4gICAgICAgIH0sIHRoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgcmV0dXJuIG1hdHM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFZhbGlkYXRlcyBuYXRpdmUgcGxhdGZvcm0gcmVzcG9uc2UgYmVmb3JlIHByb2Nlc3NpbmdcclxuICAgICAqIEBwYXJhbSByZXNwb25zZVxyXG4gICAgICovXHJcbiAgICB2YWxpZGF0ZU5hdGl2ZVJlc3BvbnNlKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLmhhc093blByb3BlcnR5KFwiYWNjZXNzX3Rva2VuXCIpICYmXHJcbiAgICAgICAgICAgIHJlc3BvbnNlLmhhc093blByb3BlcnR5KFwiaWRfdG9rZW5cIikgJiZcclxuICAgICAgICAgICAgcmVzcG9uc2UuaGFzT3duUHJvcGVydHkoXCJjbGllbnRfaW5mb1wiKSAmJlxyXG4gICAgICAgICAgICByZXNwb25zZS5oYXNPd25Qcm9wZXJ0eShcImFjY291bnRcIikgJiZcclxuICAgICAgICAgICAgcmVzcG9uc2UuaGFzT3duUHJvcGVydHkoXCJzY29wZVwiKSAmJlxyXG4gICAgICAgICAgICByZXNwb25zZS5oYXNPd25Qcm9wZXJ0eShcImV4cGlyZXNfaW5cIikpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQXV0aEVycm9yKEF1dGhFcnJvckNvZGVzLnVuZXhwZWN0ZWRFcnJvciwgXCJSZXNwb25zZSBtaXNzaW5nIGV4cGVjdGVkIHByb3BlcnRpZXMuXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2V0cyBNQVRTIHRlbGVtZXRyeSBmcm9tIG5hdGl2ZSByZXNwb25zZVxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBnZXRNQVRTRnJvbVJlc3BvbnNlKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLnByb3BlcnRpZXMuTUFUUykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzcG9uc2UucHJvcGVydGllcy5NQVRTKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJOYXRpdmVJbnRlcmFjdGlvbkNsaWVudCAtIEVycm9yIHBhcnNpbmcgTUFUUyB0ZWxlbWV0cnksIHJldHVybmluZyBudWxsIGluc3RlYWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2hldGhlciBvciBub3QgcmVzcG9uc2UgY2FtZSBmcm9tIG5hdGl2ZSBjYWNoZVxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBpc1Jlc3BvbnNlRnJvbUNhY2hlKG1hdHMpIHtcclxuICAgICAgICBpZiAodHlwZW9mIG1hdHMuaXNfY2FjaGVkID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJOYXRpdmVJbnRlcmFjdGlvbkNsaWVudCAtIE1BVFMgdGVsZW1ldHJ5IGRvZXMgbm90IGNvbnRhaW4gZmllbGQgaW5kaWNhdGluZyBpZiByZXNwb25zZSB3YXMgc2VydmVkIGZyb20gY2FjaGUuIFJldHVybmluZyBmYWxzZS5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICEhbWF0cy5pc19jYWNoZWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zbGF0ZXMgZGV2ZWxvcGVyIHByb3ZpZGVkIHJlcXVlc3Qgb2JqZWN0IGludG8gTmF0aXZlUmVxdWVzdCBvYmplY3RcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGluaXRpYWxpemVOYXRpdmVSZXF1ZXN0KHJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcIk5hdGl2ZUludGVyYWN0aW9uQ2xpZW50IC0gaW5pdGlhbGl6ZU5hdGl2ZVJlcXVlc3QgY2FsbGVkXCIpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3RBdXRob3JpdHkgPSByZXF1ZXN0LmF1dGhvcml0eSB8fCB0aGlzLmNvbmZpZy5hdXRoLmF1dGhvcml0eTtcclxuICAgICAgICBpZiAocmVxdWVzdC5hY2NvdW50KSB7XHJcbiAgICAgICAgICAgIC8vIHZhbGlkYXRlIGF1dGhvcml0eVxyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLmdldERpc2NvdmVyZWRBdXRob3JpdHkoe1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEF1dGhvcml0eSxcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBenVyZUNsb3VkT3B0aW9uczogcmVxdWVzdC5henVyZUNsb3VkT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIGFjY291bnQ6IHJlcXVlc3QuYWNjb3VudCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNhbm9uaWNhbEF1dGhvcml0eSA9IG5ldyBVcmxTdHJpbmcocmVxdWVzdEF1dGhvcml0eSk7XHJcbiAgICAgICAgY2Fub25pY2FsQXV0aG9yaXR5LnZhbGlkYXRlQXNVcmkoKTtcclxuICAgICAgICAvLyBzY29wZXMgYXJlIGV4cGVjdGVkIHRvIGJlIHJlY2VpdmVkIGJ5IHRoZSBuYXRpdmUgYnJva2VyIGFzIFwic2NvcGVcIiBhbmQgd2lsbCBiZSBhZGRlZCB0byB0aGUgcmVxdWVzdCBiZWxvdy4gT3RoZXIgcHJvcGVydGllcyB0aGF0IHNob3VsZCBiZSBkcm9wcGVkIGZyb20gdGhlIHJlcXVlc3QgdG8gdGhlIG5hdGl2ZSBicm9rZXIgY2FuIGJlIGluY2x1ZGVkIGluIHRoZSBvYmplY3QgZGVzdHJ1Y3R1cmluZyBoZXJlLlxyXG4gICAgICAgIGNvbnN0IHsgc2NvcGVzLCAuLi5yZW1haW5pbmdQcm9wZXJ0aWVzIH0gPSByZXF1ZXN0O1xyXG4gICAgICAgIGNvbnN0IHNjb3BlU2V0ID0gbmV3IFNjb3BlU2V0KHNjb3BlcyB8fCBbXSk7XHJcbiAgICAgICAgc2NvcGVTZXQuYXBwZW5kU2NvcGVzKE9JRENfREVGQVVMVF9TQ09QRVMpO1xyXG4gICAgICAgIGNvbnN0IGdldFByb21wdCA9ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gSWYgcmVxdWVzdCBpcyBzaWxlbnQsIHByb21wdCBpcyBhbHdheXMgbm9uZVxyXG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuYXBpSWQpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQXBpSWQuc3NvU2lsZW50OlxyXG4gICAgICAgICAgICAgICAgY2FzZSBBcGlJZC5hY3F1aXJlVG9rZW5TaWxlbnRfc2lsZW50RmxvdzpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcImluaXRpYWxpemVOYXRpdmVSZXF1ZXN0OiBzaWxlbnQgcmVxdWVzdCBzZXRzIHByb21wdCB0byBub25lXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9tcHRWYWx1ZS5OT05FO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFByb21wdCBub3QgcHJvdmlkZWQsIHJlcXVlc3QgbWF5IHByb2NlZWQgYW5kIG5hdGl2ZSBicm9rZXIgZGVjaWRlcyBpZiBpdCBuZWVkcyB0byBwcm9tcHRcclxuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0LnByb21wdCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJpbml0aWFsaXplTmF0aXZlUmVxdWVzdDogcHJvbXB0IHdhcyBub3QgcHJvdmlkZWRcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIHJlcXVlc3QgaXMgaW50ZXJhY3RpdmUsIGNoZWNrIGlmIHByb21wdCBwcm92aWRlZCBpcyBhbGxvd2VkIHRvIGdvIGRpcmVjdGx5IHRvIG5hdGl2ZSBicm9rZXJcclxuICAgICAgICAgICAgc3dpdGNoIChyZXF1ZXN0LnByb21wdCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBQcm9tcHRWYWx1ZS5OT05FOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBQcm9tcHRWYWx1ZS5DT05TRU5UOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBQcm9tcHRWYWx1ZS5MT0dJTjpcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci50cmFjZShcImluaXRpYWxpemVOYXRpdmVSZXF1ZXN0OiBwcm9tcHQgaXMgY29tcGF0aWJsZSB3aXRoIG5hdGl2ZSBmbG93XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXF1ZXN0LnByb21wdDtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoYGluaXRpYWxpemVOYXRpdmVSZXF1ZXN0OiBwcm9tcHQgPSAke3JlcXVlc3QucHJvbXB0fSBpcyBub3QgY29tcGF0aWJsZSB3aXRoIG5hdGl2ZSBmbG93YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihuYXRpdmVQcm9tcHROb3RTdXBwb3J0ZWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB2YWxpZGF0ZWRSZXF1ZXN0ID0ge1xyXG4gICAgICAgICAgICAuLi5yZW1haW5pbmdQcm9wZXJ0aWVzLFxyXG4gICAgICAgICAgICBhY2NvdW50SWQ6IHRoaXMuYWNjb3VudElkLFxyXG4gICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jb25maWcuYXV0aC5jbGllbnRJZCxcclxuICAgICAgICAgICAgYXV0aG9yaXR5OiBjYW5vbmljYWxBdXRob3JpdHkudXJsU3RyaW5nLFxyXG4gICAgICAgICAgICBzY29wZTogc2NvcGVTZXQucHJpbnRTY29wZXMoKSxcclxuICAgICAgICAgICAgcmVkaXJlY3RVcmk6IHRoaXMuZ2V0UmVkaXJlY3RVcmkocmVxdWVzdC5yZWRpcmVjdFVyaSksXHJcbiAgICAgICAgICAgIHByb21wdDogZ2V0UHJvbXB0KCksXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IHRoaXMuY29ycmVsYXRpb25JZCxcclxuICAgICAgICAgICAgdG9rZW5UeXBlOiByZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lLFxyXG4gICAgICAgICAgICB3aW5kb3dUaXRsZVN1YnN0cmluZzogZG9jdW1lbnQudGl0bGUsXHJcbiAgICAgICAgICAgIGV4dHJhUGFyYW1ldGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdC5leHRyYVF1ZXJ5UGFyYW1ldGVycyxcclxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QudG9rZW5RdWVyeVBhcmFtZXRlcnMsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGV4dGVuZGVkRXhwaXJ5VG9rZW46IGZhbHNlLFxyXG4gICAgICAgICAgICBrZXlJZDogcmVxdWVzdC5wb3BLaWQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBDaGVjayBmb3IgUG9QIHRva2VuIHJlcXVlc3RzOiBzaWduUG9wVG9rZW4gc2hvdWxkIG9ubHkgYmUgc2V0IHRvIHRydWUgaWYgcG9wS2lkIGlzIG5vdCBzZXRcclxuICAgICAgICBpZiAodmFsaWRhdGVkUmVxdWVzdC5zaWduUG9wVG9rZW4gJiYgISFyZXF1ZXN0LnBvcEtpZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVCcm93c2VyQXV0aEVycm9yKGludmFsaWRQb3BUb2tlblJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmhhbmRsZUV4dHJhQnJva2VyUGFyYW1zKHZhbGlkYXRlZFJlcXVlc3QpO1xyXG4gICAgICAgIHZhbGlkYXRlZFJlcXVlc3QuZXh0cmFQYXJhbWV0ZXJzID1cclxuICAgICAgICAgICAgdmFsaWRhdGVkUmVxdWVzdC5leHRyYVBhcmFtZXRlcnMgfHwge307XHJcbiAgICAgICAgdmFsaWRhdGVkUmVxdWVzdC5leHRyYVBhcmFtZXRlcnMudGVsZW1ldHJ5ID1cclxuICAgICAgICAgICAgTmF0aXZlQ29uc3RhbnRzLk1BVFNfVEVMRU1FVFJZO1xyXG4gICAgICAgIGlmIChyZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lID09PSBBdXRoZW50aWNhdGlvblNjaGVtZS5QT1ApIHtcclxuICAgICAgICAgICAgLy8gYWRkIFBPUCByZXF1ZXN0IHR5cGVcclxuICAgICAgICAgICAgY29uc3Qgc2hyUGFyYW1ldGVycyA9IHtcclxuICAgICAgICAgICAgICAgIHJlc291cmNlUmVxdWVzdFVyaTogcmVxdWVzdC5yZXNvdXJjZVJlcXVlc3RVcmksXHJcbiAgICAgICAgICAgICAgICByZXNvdXJjZVJlcXVlc3RNZXRob2Q6IHJlcXVlc3QucmVzb3VyY2VSZXF1ZXN0TWV0aG9kLFxyXG4gICAgICAgICAgICAgICAgc2hyQ2xhaW1zOiByZXF1ZXN0LnNockNsYWltcyxcclxuICAgICAgICAgICAgICAgIHNock5vbmNlOiByZXF1ZXN0LnNock5vbmNlLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBjb25zdCBwb3BUb2tlbkdlbmVyYXRvciA9IG5ldyBQb3BUb2tlbkdlbmVyYXRvcih0aGlzLmJyb3dzZXJDcnlwdG8pO1xyXG4gICAgICAgICAgICAvLyBnZW5lcmF0ZSByZXFDbmYgaWYgbm90IHByb3ZpZGVkIGluIHRoZSByZXF1ZXN0XHJcbiAgICAgICAgICAgIGxldCByZXFDbmZEYXRhO1xyXG4gICAgICAgICAgICBpZiAoIXZhbGlkYXRlZFJlcXVlc3Qua2V5SWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlZFJlcUNuZkRhdGEgPSBhd2FpdCBpbnZva2VBc3luYyhwb3BUb2tlbkdlbmVyYXRvci5nZW5lcmF0ZUNuZi5iaW5kKHBvcFRva2VuR2VuZXJhdG9yKSwgUGVyZm9ybWFuY2VFdmVudHMuUG9wVG9rZW5HZW5lcmF0ZUNuZiwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkoc2hyUGFyYW1ldGVycywgdGhpcy5sb2dnZXIpO1xyXG4gICAgICAgICAgICAgICAgcmVxQ25mRGF0YSA9IGdlbmVyYXRlZFJlcUNuZkRhdGEucmVxQ25mU3RyaW5nO1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVkUmVxdWVzdC5rZXlJZCA9IGdlbmVyYXRlZFJlcUNuZkRhdGEua2lkO1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVkUmVxdWVzdC5zaWduUG9wVG9rZW4gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVxQ25mRGF0YSA9IHRoaXMuYnJvd3NlckNyeXB0by5iYXNlNjRVcmxFbmNvZGUoSlNPTi5zdHJpbmdpZnkoeyBraWQ6IHZhbGlkYXRlZFJlcXVlc3Qua2V5SWQgfSkpO1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVkUmVxdWVzdC5zaWduUG9wVG9rZW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTUEFzIHJlcXVpcmUgd2hvbGUgc3RyaW5nIHRvIGJlIHBhc3NlZCB0byBicm9rZXJcclxuICAgICAgICAgICAgdmFsaWRhdGVkUmVxdWVzdC5yZXFDbmYgPSByZXFDbmZEYXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFkZFJlcXVlc3RTS1VzKHZhbGlkYXRlZFJlcXVlc3QpO1xyXG4gICAgICAgIHJldHVybiB2YWxpZGF0ZWRSZXF1ZXN0O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIYW5kbGVzIGV4dHJhIGJyb2tlciByZXF1ZXN0IHBhcmFtZXRlcnNcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0IHtOYXRpdmVUb2tlblJlcXVlc3R9XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBoYW5kbGVFeHRyYUJyb2tlclBhcmFtcyhyZXF1ZXN0KSB7XHJcbiAgICAgICAgY29uc3QgaGFzRXh0cmFCcm9rZXJQYXJhbXMgPSByZXF1ZXN0LmV4dHJhUGFyYW1ldGVycyAmJlxyXG4gICAgICAgICAgICByZXF1ZXN0LmV4dHJhUGFyYW1ldGVycy5oYXNPd25Qcm9wZXJ0eShBQURTZXJ2ZXJQYXJhbUtleXMuQlJPS0VSX0NMSUVOVF9JRCkgJiZcclxuICAgICAgICAgICAgcmVxdWVzdC5leHRyYVBhcmFtZXRlcnMuaGFzT3duUHJvcGVydHkoQUFEU2VydmVyUGFyYW1LZXlzLkJST0tFUl9SRURJUkVDVF9VUkkpICYmXHJcbiAgICAgICAgICAgIHJlcXVlc3QuZXh0cmFQYXJhbWV0ZXJzLmhhc093blByb3BlcnR5KEFBRFNlcnZlclBhcmFtS2V5cy5DTElFTlRfSUQpO1xyXG4gICAgICAgIGlmICghcmVxdWVzdC5lbWJlZGRlZENsaWVudElkICYmICFoYXNFeHRyYUJyb2tlclBhcmFtcykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBjaGlsZF9jbGllbnRfaWQgPSBcIlwiO1xyXG4gICAgICAgIGNvbnN0IGNoaWxkX3JlZGlyZWN0X3VyaSA9IHJlcXVlc3QucmVkaXJlY3RVcmk7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuZW1iZWRkZWRDbGllbnRJZCkge1xyXG4gICAgICAgICAgICByZXF1ZXN0LnJlZGlyZWN0VXJpID0gdGhpcy5jb25maWcuYXV0aC5yZWRpcmVjdFVyaTtcclxuICAgICAgICAgICAgY2hpbGRfY2xpZW50X2lkID0gcmVxdWVzdC5lbWJlZGRlZENsaWVudElkO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChyZXF1ZXN0LmV4dHJhUGFyYW1ldGVycykge1xyXG4gICAgICAgICAgICByZXF1ZXN0LnJlZGlyZWN0VXJpID1cclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuZXh0cmFQYXJhbWV0ZXJzW0FBRFNlcnZlclBhcmFtS2V5cy5CUk9LRVJfUkVESVJFQ1RfVVJJXTtcclxuICAgICAgICAgICAgY2hpbGRfY2xpZW50X2lkID1cclxuICAgICAgICAgICAgICAgIHJlcXVlc3QuZXh0cmFQYXJhbWV0ZXJzW0FBRFNlcnZlclBhcmFtS2V5cy5DTElFTlRfSURdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXF1ZXN0LmV4dHJhUGFyYW1ldGVycyA9IHtcclxuICAgICAgICAgICAgY2hpbGRfY2xpZW50X2lkLFxyXG4gICAgICAgICAgICBjaGlsZF9yZWRpcmVjdF91cmksXHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRGaWVsZHMoe1xyXG4gICAgICAgICAgICBlbWJlZGRlZENsaWVudElkOiBjaGlsZF9jbGllbnRfaWQsXHJcbiAgICAgICAgICAgIGVtYmVkZGVkUmVkaXJlY3RVcmk6IGNoaWxkX3JlZGlyZWN0X3VyaSxcclxuICAgICAgICB9LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IE5hdGl2ZUludGVyYWN0aW9uQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1OYXRpdmVJbnRlcmFjdGlvbkNsaWVudC5tanMubWFwXG4iXSwibmFtZXMiOlsiU2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsIkFBRFNlcnZlclBhcmFtS2V5cyIsIlBlcmZvcm1hbmNlRXZlbnRzIiwiVGltZVV0aWxzIiwiU2NvcGVTZXQiLCJjcmVhdGVDbGllbnRBdXRoRXJyb3IiLCJDbGllbnRBdXRoRXJyb3JDb2RlcyIsIkF1dGhUb2tlbiIsImJ1aWxkQWNjb3VudFRvQ2FjaGUiLCJBY2NvdW50RW50aXR5IiwiQ29uc3RhbnRzIiwiQXV0aG9yaXR5VHlwZSIsIkF1dGhlbnRpY2F0aW9uU2NoZW1lIiwiUG9wVG9rZW5HZW5lcmF0b3IiLCJ1cGRhdGVBY2NvdW50VGVuYW50UHJvZmlsZURhdGEiLCJDYWNoZUhlbHBlcnMiLCJjcmVhdGVBdXRoRXJyb3IiLCJBdXRoRXJyb3JDb2RlcyIsIlVybFN0cmluZyIsIk9JRENfREVGQVVMVF9TQ09QRVMiLCJpbnZva2VBc3luYyIsIlByb21wdFZhbHVlIiwiQmFzZUludGVyYWN0aW9uQ2xpZW50IiwiTmF0aXZlQ29uc3RhbnRzIiwiQnJvd3NlckNvbnN0YW50cyIsIk5hdGl2ZUV4dGVuc2lvbk1ldGhvZCIsIlRlbXBvcmFyeUNhY2hlS2V5cyIsIkFwaUlkIiwiTmF0aXZlQXV0aEVycm9yIiwiaXNGYXRhbE5hdGl2ZUF1dGhFcnJvciIsImNyZWF0ZU5hdGl2ZUF1dGhFcnJvciIsImNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IiLCJTaWxlbnRDYWNoZUNsaWVudCIsImJhc2U2NERlY29kZSIsInZlcnNpb24iLCJpbnZhbGlkUG9wVG9rZW5SZXF1ZXN0IiwibmF0aXZlUHJvbXB0Tm90U3VwcG9ydGVkIiwidXNlclN3aXRjaCIsIk5hdGl2ZUludGVyYWN0aW9uQ2xpZW50IiwiY29uc3RydWN0b3IiLCJjb25maWciLCJicm93c2VyU3RvcmFnZSIsImJyb3dzZXJDcnlwdG8iLCJsb2dnZXIiLCJldmVudEhhbmRsZXIiLCJuYXZpZ2F0aW9uQ2xpZW50IiwiYXBpSWQiLCJwZXJmb3JtYW5jZUNsaWVudCIsInByb3ZpZGVyIiwiYWNjb3VudElkIiwibmF0aXZlU3RvcmFnZUltcGwiLCJjb3JyZWxhdGlvbklkIiwibmF0aXZlTWVzc2FnZUhhbmRsZXIiLCJuYXRpdmVTdG9yYWdlTWFuYWdlciIsInNpbGVudENhY2hlQ2xpZW50Iiwic2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsImluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyIiwiZXh0ZW5zaW9uTmFtZSIsImdldEV4dGVuc2lvbklkIiwiUFJFRkVSUkVEX0VYVEVOU0lPTl9JRCIsImxlbmd0aCIsInVuZGVmaW5lZCIsInNrdXMiLCJtYWtlRXh0cmFTa3VTdHJpbmciLCJsaWJyYXJ5TmFtZSIsIk1TQUxfU0tVIiwibGlicmFyeVZlcnNpb24iLCJleHRlbnNpb25WZXJzaW9uIiwiZ2V0RXh0ZW5zaW9uVmVyc2lvbiIsImFkZFJlcXVlc3RTS1VzIiwicmVxdWVzdCIsImV4dHJhUGFyYW1ldGVycyIsIlhfQ0xJRU5UX0VYVFJBX1NLVSIsImFjcXVpcmVUb2tlbiIsImFkZFF1ZXVlTWVhc3VyZW1lbnQiLCJOYXRpdmVJbnRlcmFjdGlvbkNsaWVudEFjcXVpcmVUb2tlbiIsInRyYWNlIiwibmF0aXZlQVRNZWFzdXJlbWVudCIsInN0YXJ0TWVhc3VyZW1lbnQiLCJyZXFUaW1lc3RhbXAiLCJub3dTZWNvbmRzIiwibmF0aXZlUmVxdWVzdCIsImluaXRpYWxpemVOYXRpdmVSZXF1ZXN0IiwicmVzdWx0IiwiYWNxdWlyZVRva2Vuc0Zyb21DYWNoZSIsImVuZCIsInN1Y2Nlc3MiLCJpc05hdGl2ZUJyb2tlciIsImZyb21DYWNoZSIsImUiLCJpbmZvIiwibmF0aXZlVG9rZW5SZXF1ZXN0IiwibWVzc2FnZUJvZHkiLCJtZXRob2QiLCJHZXRUb2tlbiIsInJlc3BvbnNlIiwic2VuZE1lc3NhZ2UiLCJ2YWxpZGF0ZWRSZXNwb25zZSIsInZhbGlkYXRlTmF0aXZlUmVzcG9uc2UiLCJoYW5kbGVOYXRpdmVSZXNwb25zZSIsInRoZW4iLCJyZXF1ZXN0SWQiLCJjbGVhck5hdGl2ZUJyb2tlckVycm9yQ29kZSIsImNhdGNoIiwiZXJyb3IiLCJlcnJvckNvZGUiLCJzdWJFcnJvckNvZGUiLCJzdWJFcnJvciIsInNldE5hdGl2ZUJyb2tlckVycm9yQ29kZSIsImNyZWF0ZVNpbGVudENhY2hlUmVxdWVzdCIsImNhY2hlZEFjY291bnQiLCJhdXRob3JpdHkiLCJzY29wZXMiLCJmcm9tU3RyaW5nIiwic2NvcGUiLCJhc0FycmF5IiwiYWNjb3VudCIsImZvcmNlUmVmcmVzaCIsIm5hdGl2ZUFjY291bnRJZCIsIndhcm5pbmciLCJub0FjY291bnRGb3VuZCIsImdldEJhc2VBY2NvdW50SW5mbyIsInNpbGVudFJlcXVlc3QiLCJmdWxsQWNjb3VudCIsImlkVG9rZW5DbGFpbXMiLCJpZFRva2VuIiwiYWNxdWlyZVRva2VuUmVkaXJlY3QiLCJyb290TWVhc3VyZW1lbnQiLCJyZW1haW5pbmdQYXJhbWV0ZXJzIiwib25SZWRpcmVjdE5hdmlnYXRlIiwic2V0VGVtcG9yYXJ5Q2FjaGUiLCJOQVRJVkVfUkVRVUVTVCIsIkpTT04iLCJzdHJpbmdpZnkiLCJuYXZpZ2F0aW9uT3B0aW9ucyIsInRpbWVvdXQiLCJzeXN0ZW0iLCJyZWRpcmVjdE5hdmlnYXRpb25UaW1lb3V0Iiwibm9IaXN0b3J5IiwicmVkaXJlY3RVcmkiLCJhdXRoIiwibmF2aWdhdGVUb0xvZ2luUmVxdWVzdFVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImdldFJlZGlyZWN0VXJpIiwibmF2aWdhdGVFeHRlcm5hbCIsImhhbmRsZVJlZGlyZWN0UHJvbWlzZSIsImlzSW50ZXJhY3Rpb25JblByb2dyZXNzIiwiY2FjaGVkUmVxdWVzdCIsImdldENhY2hlZE5hdGl2ZVJlcXVlc3QiLCJ2ZXJib3NlIiwiYWRkRmllbGRzIiwicHJvbXB0IiwicmVtb3ZlSXRlbSIsImdlbmVyYXRlQ2FjaGVLZXkiLCJzZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MiLCJyZXMiLCJsb2dvdXQiLCJQcm9taXNlIiwicmVqZWN0IiwiZXh0cmFjdFRva2VuQ2xhaW1zIiwiaWRfdG9rZW4iLCJob21lQWNjb3VudElkZW50aWZpZXIiLCJjcmVhdGVIb21lQWNjb3VudElkZW50aWZpZXIiLCJjYWNoZWRob21lQWNjb3VudElkIiwiZ2V0QWNjb3VudEluZm9GaWx0ZXJlZEJ5IiwiaG9tZUFjY291bnRJZCIsImlkIiwiZ2V0RGlzY292ZXJlZEF1dGhvcml0eSIsInJlcXVlc3RBdXRob3JpdHkiLCJiYXNlQWNjb3VudCIsImNsaWVudF9pbmZvIiwidGlkIiwiZ2VuZXJhdGVBdXRoZW50aWNhdGlvblJlc3VsdCIsImNhbm9uaWNhbEF1dGhvcml0eSIsImNhY2hlQWNjb3VudCIsImNhY2hlTmF0aXZlVG9rZW5zIiwiYWNjZXNzX3Rva2VuIiwidGVuYW50SWQiLCJnZW5lcmF0ZUhvbWVBY2NvdW50SWQiLCJFTVBUWV9TVFJJTkciLCJEZWZhdWx0IiwiZ2VuZXJhdGVTY29wZXMiLCJnZW5lcmF0ZVBvcEFjY2Vzc1Rva2VuIiwidG9rZW5UeXBlIiwiUE9QIiwic2lnblBvcFRva2VuIiwic2hyIiwicG9wVG9rZW5HZW5lcmF0b3IiLCJzaHJQYXJhbWV0ZXJzIiwicmVzb3VyY2VSZXF1ZXN0TWV0aG9kIiwicmVzb3VyY2VSZXF1ZXN0VXJpIiwic2hyQ2xhaW1zIiwic2hyTm9uY2UiLCJrZXlJZCIsImtleUlkTWlzc2luZyIsImFjY291bnRFbnRpdHkiLCJtYXRzIiwiYWRkVGVsZW1ldHJ5RnJvbU5hdGl2ZVJlc3BvbnNlIiwicmVzcG9uc2VTY29wZXMiLCJhY2NvdW50UHJvcGVydGllcyIsInByb3BlcnRpZXMiLCJ1aWQiLCJvaWQiLCJzdWIiLCJhY2NvdW50SW5mbyIsImdldEFjY291bnRJbmZvIiwicmVzcG9uc2VBY2Nlc3NUb2tlbiIsIkJFQVJFUiIsInVuaXF1ZUlkIiwiYWNjZXNzVG9rZW4iLCJpc1Jlc3BvbnNlRnJvbUNhY2hlIiwiZXhwaXJlc09uIiwiRGF0ZSIsIk51bWJlciIsImV4cGlyZXNfaW4iLCJzdGF0ZSIsImZyb21OYXRpdmVCcm9rZXIiLCJzZXRBY2NvdW50IiwicmVtb3ZlQWNjb3VudENvbnRleHQiLCJjYWNoZWRJZFRva2VuIiwiY3JlYXRlSWRUb2tlbkVudGl0eSIsImNsaWVudElkIiwiZXhwaXJlc0luIiwiU0hSX05PTkNFX1ZBTElESVRZIiwicGFyc2VJbnQiLCJ0b2tlbkV4cGlyYXRpb25TZWNvbmRzIiwiY2FjaGVkQWNjZXNzVG9rZW4iLCJjcmVhdGVBY2Nlc3NUb2tlbkVudGl0eSIsInByaW50U2NvcGVzIiwibmF0aXZlQ2FjaGVSZWNvcmQiLCJzYXZlQ2FjaGVSZWNvcmQiLCJzdG9yZUluQ2FjaGUiLCJnZXRNQVRTRnJvbVJlc3BvbnNlIiwiZXh0ZW5zaW9uSWQiLCJtYXRzQnJva2VyVmVyc2lvbiIsImJyb2tlcl92ZXJzaW9uIiwibWF0c0FjY291bnRKb2luT25TdGFydCIsImFjY291bnRfam9pbl9vbl9zdGFydCIsIm1hdHNBY2NvdW50Sm9pbk9uRW5kIiwiYWNjb3VudF9qb2luX29uX2VuZCIsIm1hdHNEZXZpY2VKb2luIiwiZGV2aWNlX2pvaW4iLCJtYXRzUHJvbXB0QmVoYXZpb3IiLCJwcm9tcHRfYmVoYXZpb3IiLCJtYXRzQXBpRXJyb3JDb2RlIiwiYXBpX2Vycm9yX2NvZGUiLCJtYXRzVWlWaXNpYmxlIiwidWlfdmlzaWJsZSIsIm1hdHNTaWxlbnRDb2RlIiwic2lsZW50X2NvZGUiLCJtYXRzU2lsZW50QmlTdWJDb2RlIiwic2lsZW50X2JpX3N1Yl9jb2RlIiwibWF0c1NpbGVudE1lc3NhZ2UiLCJzaWxlbnRfbWVzc2FnZSIsIm1hdHNTaWxlbnRTdGF0dXMiLCJzaWxlbnRfc3RhdHVzIiwibWF0c0h0dHBTdGF0dXMiLCJodHRwX3N0YXR1cyIsIm1hdHNIdHRwRXZlbnRDb3VudCIsImh0dHBfZXZlbnRfY291bnQiLCJoYXNPd25Qcm9wZXJ0eSIsInVuZXhwZWN0ZWRFcnJvciIsIk1BVFMiLCJwYXJzZSIsImlzX2NhY2hlZCIsInJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucyIsImF6dXJlQ2xvdWRPcHRpb25zIiwidmFsaWRhdGVBc1VyaSIsInJlbWFpbmluZ1Byb3BlcnRpZXMiLCJzY29wZVNldCIsImFwcGVuZFNjb3BlcyIsImdldFByb21wdCIsInNzb1NpbGVudCIsImFjcXVpcmVUb2tlblNpbGVudF9zaWxlbnRGbG93IiwiTk9ORSIsIkNPTlNFTlQiLCJMT0dJTiIsInZhbGlkYXRlZFJlcXVlc3QiLCJ1cmxTdHJpbmciLCJhdXRoZW50aWNhdGlvblNjaGVtZSIsIndpbmRvd1RpdGxlU3Vic3RyaW5nIiwiZG9jdW1lbnQiLCJ0aXRsZSIsImV4dHJhUXVlcnlQYXJhbWV0ZXJzIiwidG9rZW5RdWVyeVBhcmFtZXRlcnMiLCJleHRlbmRlZEV4cGlyeVRva2VuIiwicG9wS2lkIiwiaGFuZGxlRXh0cmFCcm9rZXJQYXJhbXMiLCJ0ZWxlbWV0cnkiLCJNQVRTX1RFTEVNRVRSWSIsInJlcUNuZkRhdGEiLCJnZW5lcmF0ZWRSZXFDbmZEYXRhIiwiZ2VuZXJhdGVDbmYiLCJiaW5kIiwiUG9wVG9rZW5HZW5lcmF0ZUNuZiIsInJlcUNuZlN0cmluZyIsImtpZCIsImJhc2U2NFVybEVuY29kZSIsInJlcUNuZiIsImhhc0V4dHJhQnJva2VyUGFyYW1zIiwiQlJPS0VSX0NMSUVOVF9JRCIsIkJST0tFUl9SRURJUkVDVF9VUkkiLCJDTElFTlRfSUQiLCJlbWJlZGRlZENsaWVudElkIiwiY2hpbGRfY2xpZW50X2lkIiwiY2hpbGRfcmVkaXJlY3RfdXJpIiwiZW1iZWRkZWRSZWRpcmVjdFVyaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/NativeInteractionClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/PopupClient.mjs":
/*!**********************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_client/PopupClient.mjs ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PopupClient: () => (/* binding */ PopupClient)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/network/ThrottlingUtils.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/ProtocolUtils.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/ProtocolMode.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs\");\n/* harmony import */ var _StandardInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StandardInteractionClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/StandardInteractionClient.mjs\");\n/* harmony import */ var _event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../event/EventType.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/event/EventType.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/BrowserUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserUtils.mjs\");\n/* harmony import */ var _NativeInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./NativeInteractionClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/NativeInteractionClient.mjs\");\n/* harmony import */ var _broker_nativeBroker_NativeMessageHandler_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../broker/nativeBroker/NativeMessageHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/broker/nativeBroker/NativeMessageHandler.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _interaction_handler_InteractionHandler_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../interaction_handler/InteractionHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_handler/InteractionHandler.mjs\");\n/* harmony import */ var _response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../response/ResponseHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/response/ResponseHandler.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class PopupClient extends _StandardInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__.StandardInteractionClient {\n    constructor(config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, performanceClient, nativeStorageImpl, nativeMessageHandler, correlationId){\n        super(config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, performanceClient, nativeMessageHandler, correlationId);\n        // Properly sets this reference for the unload event.\n        this.unloadWindow = this.unloadWindow.bind(this);\n        this.nativeStorage = nativeStorageImpl;\n    }\n    /**\r\n     * Acquires tokens by opening a popup window to the /authorize endpoint of the authority\r\n     * @param request\r\n     */ acquireToken(request) {\n        try {\n            const popupName = this.generatePopupName(request.scopes || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.OIDC_DEFAULT_SCOPES, request.authority || this.config.auth.authority);\n            const popupParams = {\n                popupName,\n                popupWindowAttributes: request.popupWindowAttributes || {},\n                popupWindowParent: request.popupWindowParent ?? window\n            };\n            // asyncPopups flag is true. Acquires token without first opening popup. Popup will be opened later asynchronously.\n            if (this.config.system.asyncPopups) {\n                this.logger.verbose(\"asyncPopups set to true, acquiring token\");\n                // Passes on popup position and dimensions if in request\n                return this.acquireTokenPopupAsync(request, popupParams);\n            } else {\n                // asyncPopups flag is set to false. Opens popup before acquiring token.\n                this.logger.verbose(\"asyncPopup set to false, opening popup before acquiring token\");\n                popupParams.popup = this.openSizedPopup(\"about:blank\", popupParams);\n                return this.acquireTokenPopupAsync(request, popupParams);\n            }\n        } catch (e) {\n            return Promise.reject(e);\n        }\n    }\n    /**\r\n     * Clears local cache for the current user then opens a popup window prompting the user to sign-out of the server\r\n     * @param logoutRequest\r\n     */ logout(logoutRequest) {\n        try {\n            this.logger.verbose(\"logoutPopup called\");\n            const validLogoutRequest = this.initializeLogoutRequest(logoutRequest);\n            const popupParams = {\n                popupName: this.generateLogoutPopupName(validLogoutRequest),\n                popupWindowAttributes: logoutRequest?.popupWindowAttributes || {},\n                popupWindowParent: logoutRequest?.popupWindowParent ?? window\n            };\n            const authority = logoutRequest && logoutRequest.authority;\n            const mainWindowRedirectUri = logoutRequest && logoutRequest.mainWindowRedirectUri;\n            // asyncPopups flag is true. Acquires token without first opening popup. Popup will be opened later asynchronously.\n            if (this.config.system.asyncPopups) {\n                this.logger.verbose(\"asyncPopups set to true\");\n                // Passes on popup position and dimensions if in request\n                return this.logoutPopupAsync(validLogoutRequest, popupParams, authority, mainWindowRedirectUri);\n            } else {\n                // asyncPopups flag is set to false. Opens popup before logging out.\n                this.logger.verbose(\"asyncPopup set to false, opening popup\");\n                popupParams.popup = this.openSizedPopup(\"about:blank\", popupParams);\n                return this.logoutPopupAsync(validLogoutRequest, popupParams, authority, mainWindowRedirectUri);\n            }\n        } catch (e) {\n            // Since this function is synchronous we need to reject\n            return Promise.reject(e);\n        }\n    }\n    /**\r\n     * Helper which obtains an access_token for your API via opening a popup window in the user's browser\r\n     * @param validRequest\r\n     * @param popupName\r\n     * @param popup\r\n     * @param popupWindowAttributes\r\n     *\r\n     * @returns A promise that is fulfilled when this function has completed, or rejected if an error was raised.\r\n     */ async acquireTokenPopupAsync(request, popupParams) {\n        this.logger.verbose(\"acquireTokenPopupAsync called\");\n        const serverTelemetryManager = this.initializeServerTelemetryManager(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.ApiId.acquireTokenPopup);\n        const validRequest = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.initializeAuthorizationRequest.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest, this.logger, this.performanceClient, this.correlationId)(request, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.InteractionType.Popup);\n        (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_5__.preconnect)(validRequest.authority);\n        try {\n            // Create auth code request and generate PKCE params\n            const authCodeRequest = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.initializeAuthorizationCodeRequest.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest, this.logger, this.performanceClient, this.correlationId)(validRequest);\n            // Initialize the client\n            const authClient = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.createAuthCodeClient.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.PerformanceEvents.StandardInteractionClientCreateAuthCodeClient, this.logger, this.performanceClient, this.correlationId)({\n                serverTelemetryManager,\n                requestAuthority: validRequest.authority,\n                requestAzureCloudOptions: validRequest.azureCloudOptions,\n                requestExtraQueryParameters: validRequest.extraQueryParameters,\n                account: validRequest.account\n            });\n            const isNativeBroker = _broker_nativeBroker_NativeMessageHandler_mjs__WEBPACK_IMPORTED_MODULE_6__.NativeMessageHandler.isNativeAvailable(this.config, this.logger, this.nativeMessageHandler, request.authenticationScheme);\n            // Start measurement for server calls with native brokering enabled\n            let fetchNativeAccountIdMeasurement;\n            if (isNativeBroker) {\n                fetchNativeAccountIdMeasurement = this.performanceClient.startMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.PerformanceEvents.FetchAccountIdWithNativeBroker, request.correlationId);\n            }\n            // Create acquire token url.\n            const navigateUrl = await authClient.getAuthCodeUrl({\n                ...validRequest,\n                nativeBroker: isNativeBroker\n            });\n            // Create popup interaction handler.\n            const interactionHandler = new _interaction_handler_InteractionHandler_mjs__WEBPACK_IMPORTED_MODULE_7__.InteractionHandler(authClient, this.browserStorage, authCodeRequest, this.logger, this.performanceClient);\n            // Show the UI once the url has been created. Get the window handle for the popup.\n            const popupWindow = this.initiateAuthRequest(navigateUrl, popupParams);\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.POPUP_OPENED, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.InteractionType.Popup, {\n                popupWindow\n            }, null);\n            // Monitor the window for the hash. Return the string value and close the popup when the hash is received. Default timeout is 60 seconds.\n            const responseString = await this.monitorPopupForHash(popupWindow, popupParams.popupWindowParent);\n            const serverParams = (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invoke)(_response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_9__.deserializeResponse, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.PerformanceEvents.DeserializeResponse, this.logger, this.performanceClient, this.correlationId)(responseString, this.config.auth.OIDCOptions.serverResponseType, this.logger);\n            // Remove throttle if it exists\n            _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.ThrottlingUtils.removeThrottle(this.browserStorage, this.config.auth.clientId, authCodeRequest);\n            if (serverParams.accountId) {\n                this.logger.verbose(\"Account id found in hash, calling WAM for token\");\n                // end measurement for server call with native brokering enabled\n                if (fetchNativeAccountIdMeasurement) {\n                    fetchNativeAccountIdMeasurement.end({\n                        success: true,\n                        isNativeBroker: true\n                    });\n                }\n                if (!this.nativeMessageHandler) {\n                    throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_11__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_12__.nativeConnectionNotEstablished);\n                }\n                const nativeInteractionClient = new _NativeInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_13__.NativeInteractionClient(this.config, this.browserStorage, this.browserCrypto, this.logger, this.eventHandler, this.navigationClient, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.ApiId.acquireTokenPopup, this.performanceClient, this.nativeMessageHandler, serverParams.accountId, this.nativeStorage, validRequest.correlationId);\n                const { userRequestState } = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_14__.ProtocolUtils.parseRequestState(this.browserCrypto, validRequest.state);\n                return await nativeInteractionClient.acquireToken({\n                    ...validRequest,\n                    state: userRequestState,\n                    prompt: undefined\n                });\n            }\n            // Handle response from hash string.\n            const result = await interactionHandler.handleCodeResponse(serverParams, validRequest);\n            return result;\n        } catch (e) {\n            // Close the synchronous popup if an error is thrown before the window unload event is registered\n            popupParams.popup?.close();\n            if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_15__.AuthError) {\n                e.setCorrelationId(this.correlationId);\n                serverTelemetryManager.cacheFailedRequest(e);\n            }\n            throw e;\n        }\n    }\n    /**\r\n     *\r\n     * @param validRequest\r\n     * @param popupName\r\n     * @param requestAuthority\r\n     * @param popup\r\n     * @param mainWindowRedirectUri\r\n     * @param popupWindowAttributes\r\n     */ async logoutPopupAsync(validRequest, popupParams, requestAuthority, mainWindowRedirectUri) {\n        this.logger.verbose(\"logoutPopupAsync called\");\n        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGOUT_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.InteractionType.Popup, validRequest);\n        const serverTelemetryManager = this.initializeServerTelemetryManager(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.ApiId.logoutPopup);\n        try {\n            // Clear cache on logout\n            await this.clearCacheOnLogout(validRequest.account);\n            // Initialize the client\n            const authClient = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.createAuthCodeClient.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.PerformanceEvents.StandardInteractionClientCreateAuthCodeClient, this.logger, this.performanceClient, this.correlationId)({\n                serverTelemetryManager,\n                requestAuthority: requestAuthority,\n                account: validRequest.account || undefined\n            });\n            try {\n                authClient.authority.endSessionEndpoint;\n            } catch  {\n                if (validRequest.account?.homeAccountId && validRequest.postLogoutRedirectUri && authClient.authority.protocolMode === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_16__.ProtocolMode.OIDC) {\n                    void this.browserStorage.removeAccount(validRequest.account?.homeAccountId);\n                    this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGOUT_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.InteractionType.Popup, validRequest);\n                    if (mainWindowRedirectUri) {\n                        const navigationOptions = {\n                            apiId: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.ApiId.logoutPopup,\n                            timeout: this.config.system.redirectNavigationTimeout,\n                            noHistory: false\n                        };\n                        const absoluteUrl = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.UrlString.getAbsoluteUrl(mainWindowRedirectUri, (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_5__.getCurrentUri)());\n                        await this.navigationClient.navigateInternal(absoluteUrl, navigationOptions);\n                    }\n                    popupParams.popup?.close();\n                    return;\n                }\n            }\n            // Create logout string and navigate user window to logout.\n            const logoutUri = authClient.getLogoutUri(validRequest);\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGOUT_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.InteractionType.Popup, validRequest);\n            // Open the popup window to requestUrl.\n            const popupWindow = this.openPopup(logoutUri, popupParams);\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.POPUP_OPENED, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.InteractionType.Popup, {\n                popupWindow\n            }, null);\n            await this.monitorPopupForHash(popupWindow, popupParams.popupWindowParent).catch(()=>{\n            // Swallow any errors related to monitoring the window. Server logout is best effort\n            });\n            if (mainWindowRedirectUri) {\n                const navigationOptions = {\n                    apiId: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.ApiId.logoutPopup,\n                    timeout: this.config.system.redirectNavigationTimeout,\n                    noHistory: false\n                };\n                const absoluteUrl = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.UrlString.getAbsoluteUrl(mainWindowRedirectUri, (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_5__.getCurrentUri)());\n                this.logger.verbose(\"Redirecting main window to url specified in the request\");\n                this.logger.verbosePii(`Redirecting main window to: ${absoluteUrl}`);\n                await this.navigationClient.navigateInternal(absoluteUrl, navigationOptions);\n            } else {\n                this.logger.verbose(\"No main window navigation requested\");\n            }\n        } catch (e) {\n            // Close the synchronous popup if an error is thrown before the window unload event is registered\n            popupParams.popup?.close();\n            if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_15__.AuthError) {\n                e.setCorrelationId(this.correlationId);\n                serverTelemetryManager.cacheFailedRequest(e);\n            }\n            this.browserStorage.setInteractionInProgress(false);\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGOUT_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.InteractionType.Popup, null, e);\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGOUT_END, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.InteractionType.Popup);\n            throw e;\n        }\n        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_8__.EventType.LOGOUT_END, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.InteractionType.Popup);\n    }\n    /**\r\n     * Opens a popup window with given request Url.\r\n     * @param requestUrl\r\n     */ initiateAuthRequest(requestUrl, params) {\n        // Check that request url is not empty.\n        if (requestUrl) {\n            this.logger.infoPii(`Navigate to: ${requestUrl}`);\n            // Open the popup window to requestUrl.\n            return this.openPopup(requestUrl, params);\n        } else {\n            // Throw error if request URL is empty.\n            this.logger.error(\"Navigate url is empty\");\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_11__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_12__.emptyNavigateUri);\n        }\n    }\n    /**\r\n     * Monitors a window until it loads a url with the same origin.\r\n     * @param popupWindow - window that is being monitored\r\n     * @param timeout - timeout for processing hash once popup is redirected back to application\r\n     */ monitorPopupForHash(popupWindow, popupWindowParent) {\n        return new Promise((resolve, reject)=>{\n            this.logger.verbose(\"PopupHandler.monitorPopupForHash - polling started\");\n            const intervalId = setInterval(()=>{\n                // Window is closed\n                if (popupWindow.closed) {\n                    this.logger.error(\"PopupHandler.monitorPopupForHash - window closed\");\n                    clearInterval(intervalId);\n                    reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_11__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_12__.userCancelled));\n                    return;\n                }\n                let href = \"\";\n                try {\n                    /*\r\n                     * Will throw if cross origin,\r\n                     * which should be caught and ignored\r\n                     * since we need the interval to keep running while on STS UI.\r\n                     */ href = popupWindow.location.href;\n                } catch (e) {}\n                // Don't process blank pages or cross domain\n                if (!href || href === \"about:blank\") {\n                    return;\n                }\n                clearInterval(intervalId);\n                let responseString = \"\";\n                const responseType = this.config.auth.OIDCOptions.serverResponseType;\n                if (popupWindow) {\n                    if (responseType === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.ServerResponseType.QUERY) {\n                        responseString = popupWindow.location.search;\n                    } else {\n                        responseString = popupWindow.location.hash;\n                    }\n                }\n                this.logger.verbose(\"PopupHandler.monitorPopupForHash - popup window is on same origin as caller\");\n                resolve(responseString);\n            }, this.config.system.pollIntervalMilliseconds);\n        }).finally(()=>{\n            this.cleanPopup(popupWindow, popupWindowParent);\n        });\n    }\n    /**\r\n     * @hidden\r\n     *\r\n     * Configures popup window for login.\r\n     *\r\n     * @param urlNavigate\r\n     * @param title\r\n     * @param popUpWidth\r\n     * @param popUpHeight\r\n     * @param popupWindowAttributes\r\n     * @ignore\r\n     * @hidden\r\n     */ openPopup(urlNavigate, popupParams) {\n        try {\n            let popupWindow;\n            // Popup window passed in, setting url to navigate to\n            if (popupParams.popup) {\n                popupWindow = popupParams.popup;\n                this.logger.verbosePii(`Navigating popup window to: ${urlNavigate}`);\n                popupWindow.location.assign(urlNavigate);\n            } else if (typeof popupParams.popup === \"undefined\") {\n                // Popup will be undefined if it was not passed in\n                this.logger.verbosePii(`Opening popup window to: ${urlNavigate}`);\n                popupWindow = this.openSizedPopup(urlNavigate, popupParams);\n            }\n            // Popup will be null if popups are blocked\n            if (!popupWindow) {\n                throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_11__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_12__.emptyWindowError);\n            }\n            if (popupWindow.focus) {\n                popupWindow.focus();\n            }\n            this.currentWindow = popupWindow;\n            popupParams.popupWindowParent.addEventListener(\"beforeunload\", this.unloadWindow);\n            return popupWindow;\n        } catch (e) {\n            this.logger.error(\"error opening popup \" + e.message);\n            this.browserStorage.setInteractionInProgress(false);\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_11__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_12__.popupWindowError);\n        }\n    }\n    /**\r\n     * Helper function to set popup window dimensions and position\r\n     * @param urlNavigate\r\n     * @param popupName\r\n     * @param popupWindowAttributes\r\n     * @returns\r\n     */ openSizedPopup(urlNavigate, { popupName, popupWindowAttributes, popupWindowParent }) {\n        /**\r\n         * adding winLeft and winTop to account for dual monitor\r\n         * using screenLeft and screenTop for IE8 and earlier\r\n         */ const winLeft = popupWindowParent.screenLeft ? popupWindowParent.screenLeft : popupWindowParent.screenX;\n        const winTop = popupWindowParent.screenTop ? popupWindowParent.screenTop : popupWindowParent.screenY;\n        /**\r\n         * window.innerWidth displays browser window\"s height and width excluding toolbars\r\n         * using document.documentElement.clientWidth for IE8 and earlier\r\n         */ const winWidth = popupWindowParent.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n        const winHeight = popupWindowParent.innerHeight || document.documentElement.clientHeight || document.body.clientHeight;\n        let width = popupWindowAttributes.popupSize?.width;\n        let height = popupWindowAttributes.popupSize?.height;\n        let top = popupWindowAttributes.popupPosition?.top;\n        let left = popupWindowAttributes.popupPosition?.left;\n        if (!width || width < 0 || width > winWidth) {\n            this.logger.verbose(\"Default popup window width used. Window width not configured or invalid.\");\n            width = _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.BrowserConstants.POPUP_WIDTH;\n        }\n        if (!height || height < 0 || height > winHeight) {\n            this.logger.verbose(\"Default popup window height used. Window height not configured or invalid.\");\n            height = _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.BrowserConstants.POPUP_HEIGHT;\n        }\n        if (!top || top < 0 || top > winHeight) {\n            this.logger.verbose(\"Default popup window top position used. Window top not configured or invalid.\");\n            top = Math.max(0, winHeight / 2 - _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.BrowserConstants.POPUP_HEIGHT / 2 + winTop);\n        }\n        if (!left || left < 0 || left > winWidth) {\n            this.logger.verbose(\"Default popup window left position used. Window left not configured or invalid.\");\n            left = Math.max(0, winWidth / 2 - _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.BrowserConstants.POPUP_WIDTH / 2 + winLeft);\n        }\n        return popupWindowParent.open(urlNavigate, popupName, `width=${width}, height=${height}, top=${top}, left=${left}, scrollbars=yes`);\n    }\n    /**\r\n     * Event callback to unload main window.\r\n     */ unloadWindow(e) {\n        this.browserStorage.cleanRequestByInteractionType(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.InteractionType.Popup);\n        if (this.currentWindow) {\n            this.currentWindow.close();\n        }\n        // Guarantees browser unload will happen, so no other errors will be thrown.\n        e.preventDefault();\n    }\n    /**\r\n     * Closes popup, removes any state vars created during popup calls.\r\n     * @param popupWindow\r\n     */ cleanPopup(popupWindow, popupWindowParent) {\n        // Close window.\n        popupWindow.close();\n        // Remove window unload function\n        popupWindowParent.removeEventListener(\"beforeunload\", this.unloadWindow);\n        // Interaction is completed - remove interaction status.\n        this.browserStorage.setInteractionInProgress(false);\n    }\n    /**\r\n     * Generates the name for the popup based on the client id and request\r\n     * @param clientId\r\n     * @param request\r\n     */ generatePopupName(scopes, authority) {\n        return `${_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.BrowserConstants.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${scopes.join(\"-\")}.${authority}.${this.correlationId}`;\n    }\n    /**\r\n     * Generates the name for the popup based on the client id and request for logouts\r\n     * @param clientId\r\n     * @param request\r\n     */ generateLogoutPopupName(request) {\n        const homeAccountId = request.account && request.account.homeAccountId;\n        return `${_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.BrowserConstants.POPUP_NAME_PREFIX}.${this.config.auth.clientId}.${homeAccountId}.${this.correlationId}`;\n    }\n}\n //# sourceMappingURL=PopupClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9Qb3B1cENsaWVudC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNpTTtBQUNySDtBQUN6QjtBQUNzQztBQUNuQjtBQUNFO0FBQ2U7QUFDaEI7QUFDWTtBQUNiO0FBQ21GO0FBRXpKOzs7Q0FHQyxHQUNELE1BQU0yQixvQkFBb0JqQixxRkFBeUJBO0lBQy9Da0IsWUFBWUMsTUFBTSxFQUFFQyxXQUFXLEVBQUVDLGFBQWEsRUFBRUMsTUFBTSxFQUFFQyxZQUFZLEVBQUVDLGdCQUFnQixFQUFFQyxpQkFBaUIsRUFBRUMsaUJBQWlCLEVBQUVDLG9CQUFvQixFQUFFQyxhQUFhLENBQUU7UUFDL0osS0FBSyxDQUFDVCxRQUFRQyxhQUFhQyxlQUFlQyxRQUFRQyxjQUFjQyxrQkFBa0JDLG1CQUFtQkUsc0JBQXNCQztRQUMzSCxxREFBcUQ7UUFDckQsSUFBSSxDQUFDQyxZQUFZLEdBQUcsSUFBSSxDQUFDQSxZQUFZLENBQUNDLElBQUksQ0FBQyxJQUFJO1FBQy9DLElBQUksQ0FBQ0MsYUFBYSxHQUFHTDtJQUN6QjtJQUNBOzs7S0FHQyxHQUNETSxhQUFhQyxPQUFPLEVBQUU7UUFDbEIsSUFBSTtZQUNBLE1BQU1DLFlBQVksSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ0YsUUFBUUcsTUFBTSxJQUFJOUMsMkVBQW1CQSxFQUFFMkMsUUFBUUksU0FBUyxJQUFJLElBQUksQ0FBQ2xCLE1BQU0sQ0FBQ21CLElBQUksQ0FBQ0QsU0FBUztZQUMvSCxNQUFNRSxjQUFjO2dCQUNoQkw7Z0JBQ0FNLHVCQUF1QlAsUUFBUU8scUJBQXFCLElBQUksQ0FBQztnQkFDekRDLG1CQUFtQlIsUUFBUVEsaUJBQWlCLElBQUlDO1lBQ3BEO1lBQ0EsbUhBQW1IO1lBQ25ILElBQUksSUFBSSxDQUFDdkIsTUFBTSxDQUFDd0IsTUFB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QUFDO0lBQ3RJO0lBQ0E7Ozs7S0FJQyxHQUNENEIsd0JBQXdCdkIsT0FBTyxFQUFFO1FBQzdCLE1BQU1zRixnQkFBZ0J0RixRQUFRNEMsT0FBTyxJQUFJNUMsUUFBUTRDLE9BQU8sQ0FBQzBDLGFBQWE7UUFDdEUsT0FBTyxDQUFDLEVBQUVuSCx5RUFBZ0JBLENBQUM4TCxpQkFBaUIsQ0FBQyxDQUFDLEVBQUUsSUFBSSxDQUFDL0ssTUFBTSxDQUFDbUIsSUFBSSxDQUFDOEQsUUFBUSxDQUFDLENBQUMsRUFBRW1CLGNBQWMsQ0FBQyxFQUFFLElBQUksQ0FBQzNGLGFBQWEsQ0FBQyxDQUFDO0lBQ3RIO0FBQ0o7QUFFdUIsQ0FDdkIsd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9pbnRlcmFjdGlvbl9jbGllbnQvUG9wdXBDbGllbnQubWpzP2EyYTQiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBPSURDX0RFRkFVTFRfU0NPUEVTLCBpbnZva2VBc3luYywgUGVyZm9ybWFuY2VFdmVudHMsIGludm9rZSwgVGhyb3R0bGluZ1V0aWxzLCBQcm90b2NvbFV0aWxzLCBBdXRoRXJyb3IsIFByb3RvY29sTW9kZSwgVXJsU3RyaW5nLCBTZXJ2ZXJSZXNwb25zZVR5cGUgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50IH0gZnJvbSAnLi9TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50Lm1qcyc7XG5pbXBvcnQgeyBFdmVudFR5cGUgfSBmcm9tICcuLi9ldmVudC9FdmVudFR5cGUubWpzJztcbmltcG9ydCB7IEFwaUlkLCBJbnRlcmFjdGlvblR5cGUsIEJyb3dzZXJDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBwcmVjb25uZWN0LCBnZXRDdXJyZW50VXJpIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlclV0aWxzLm1qcyc7XG5pbXBvcnQgeyBOYXRpdmVJbnRlcmFjdGlvbkNsaWVudCB9IGZyb20gJy4vTmF0aXZlSW50ZXJhY3Rpb25DbGllbnQubWpzJztcbmltcG9ydCB7IE5hdGl2ZU1lc3NhZ2VIYW5kbGVyIH0gZnJvbSAnLi4vYnJva2VyL25hdGl2ZUJyb2tlci9OYXRpdmVNZXNzYWdlSGFuZGxlci5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IEludGVyYWN0aW9uSGFuZGxlciB9IGZyb20gJy4uL2ludGVyYWN0aW9uX2hhbmRsZXIvSW50ZXJhY3Rpb25IYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBkZXNlcmlhbGl6ZVJlc3BvbnNlIH0gZnJvbSAnLi4vcmVzcG9uc2UvUmVzcG9uc2VIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBuYXRpdmVDb25uZWN0aW9uTm90RXN0YWJsaXNoZWQsIGVtcHR5TmF2aWdhdGVVcmksIHVzZXJDYW5jZWxsZWQsIGVtcHR5V2luZG93RXJyb3IsIHBvcHVwV2luZG93RXJyb3IgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNsYXNzIFBvcHVwQ2xpZW50IGV4dGVuZHMgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIHN0b3JhZ2VJbXBsLCBicm93c2VyQ3J5cHRvLCBsb2dnZXIsIGV2ZW50SGFuZGxlciwgbmF2aWdhdGlvbkNsaWVudCwgcGVyZm9ybWFuY2VDbGllbnQsIG5hdGl2ZVN0b3JhZ2VJbXBsLCBuYXRpdmVNZXNzYWdlSGFuZGxlciwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHN1cGVyKGNvbmZpZywgc3RvcmFnZUltcGwsIGJyb3dzZXJDcnlwdG8sIGxvZ2dlciwgZXZlbnRIYW5kbGVyLCBuYXZpZ2F0aW9uQ2xpZW50LCBwZXJmb3JtYW5jZUNsaWVudCwgbmF0aXZlTWVzc2FnZUhhbmRsZXIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIC8vIFByb3Blcmx5IHNldHMgdGhpcyByZWZlcmVuY2UgZm9yIHRoZSB1bmxvYWQgZXZlbnQuXHJcbiAgICAgICAgdGhpcy51bmxvYWRXaW5kb3cgPSB0aGlzLnVubG9hZFdpbmRvdy5iaW5kKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubmF0aXZlU3RvcmFnZSA9IG5hdGl2ZVN0b3JhZ2VJbXBsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBY3F1aXJlcyB0b2tlbnMgYnkgb3BlbmluZyBhIHBvcHVwIHdpbmRvdyB0byB0aGUgL2F1dGhvcml6ZSBlbmRwb2ludCBvZiB0aGUgYXV0aG9yaXR5XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBhY3F1aXJlVG9rZW4ocmVxdWVzdCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHBvcHVwTmFtZSA9IHRoaXMuZ2VuZXJhdGVQb3B1cE5hbWUocmVxdWVzdC5zY29wZXMgfHwgT0lEQ19ERUZBVUxUX1NDT1BFUywgcmVxdWVzdC5hdXRob3JpdHkgfHwgdGhpcy5jb25maWcuYXV0aC5hdXRob3JpdHkpO1xyXG4gICAgICAgICAgICBjb25zdCBwb3B1cFBhcmFtcyA9IHtcclxuICAgICAgICAgICAgICAgIHBvcHVwTmFtZSxcclxuICAgICAgICAgICAgICAgIHBvcHVwV2luZG93QXR0cmlidXRlczogcmVxdWVzdC5wb3B1cFdpbmRvd0F0dHJpYnV0ZXMgfHwge30sXHJcbiAgICAgICAgICAgICAgICBwb3B1cFdpbmRvd1BhcmVudDogcmVxdWVzdC5wb3B1cFdpbmRvd1BhcmVudCA/PyB3aW5kb3csXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vIGFzeW5jUG9wdXBzIGZsYWcgaXMgdHJ1ZS4gQWNxdWlyZXMgdG9rZW4gd2l0aG91dCBmaXJzdCBvcGVuaW5nIHBvcHVwLiBQb3B1cCB3aWxsIGJlIG9wZW5lZCBsYXRlciBhc3luY2hyb25vdXNseS5cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnN5c3RlbS5hc3luY1BvcHVwcykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImFzeW5jUG9wdXBzIHNldCB0byB0cnVlLCBhY3F1aXJpbmcgdG9rZW5cIik7XHJcbiAgICAgICAgICAgICAgICAvLyBQYXNzZXMgb24gcG9wdXAgcG9zaXRpb24gYW5kIGRpbWVuc2lvbnMgaWYgaW4gcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWNxdWlyZVRva2VuUG9wdXBBc3luYyhyZXF1ZXN0LCBwb3B1cFBhcmFtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhc3luY1BvcHVwcyBmbGFnIGlzIHNldCB0byBmYWxzZS4gT3BlbnMgcG9wdXAgYmVmb3JlIGFjcXVpcmluZyB0b2tlbi5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJhc3luY1BvcHVwIHNldCB0byBmYWxzZSwgb3BlbmluZyBwb3B1cCBiZWZvcmUgYWNxdWlyaW5nIHRva2VuXCIpO1xyXG4gICAgICAgICAgICAgICAgcG9wdXBQYXJhbXMucG9wdXAgPSB0aGlzLm9wZW5TaXplZFBvcHVwKFwiYWJvdXQ6YmxhbmtcIiwgcG9wdXBQYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWNxdWlyZVRva2VuUG9wdXBBc3luYyhyZXF1ZXN0LCBwb3B1cFBhcmFtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2xlYXJzIGxvY2FsIGNhY2hlIGZvciB0aGUgY3VycmVudCB1c2VyIHRoZW4gb3BlbnMgYSBwb3B1cCB3aW5kb3cgcHJvbXB0aW5nIHRoZSB1c2VyIHRvIHNpZ24tb3V0IG9mIHRoZSBzZXJ2ZXJcclxuICAgICAqIEBwYXJhbSBsb2dvdXRSZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGxvZ291dChsb2dvdXRSZXF1ZXN0KSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImxvZ291dFBvcHVwIGNhbGxlZFwiKTtcclxuICAgICAgICAgICAgY29uc3QgdmFsaWRMb2dvdXRSZXF1ZXN0ID0gdGhpcy5pbml0aWFsaXplTG9nb3V0UmVxdWVzdChsb2dvdXRSZXF1ZXN0KTtcclxuICAgICAgICAgICAgY29uc3QgcG9wdXBQYXJhbXMgPSB7XHJcbiAgICAgICAgICAgICAgICBwb3B1cE5hbWU6IHRoaXMuZ2VuZXJhdGVMb2dvdXRQb3B1cE5hbWUodmFsaWRMb2dvdXRSZXF1ZXN0KSxcclxuICAgICAgICAgICAgICAgIHBvcHVwV2luZG93QXR0cmlidXRlczogbG9nb3V0UmVxdWVzdD8ucG9wdXBXaW5kb3dBdHRyaWJ1dGVzIHx8IHt9LFxyXG4gICAgICAgICAgICAgICAgcG9wdXBXaW5kb3dQYXJlbnQ6IGxvZ291dFJlcXVlc3Q/LnBvcHVwV2luZG93UGFyZW50ID8/IHdpbmRvdyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgYXV0aG9yaXR5ID0gbG9nb3V0UmVxdWVzdCAmJiBsb2dvdXRSZXF1ZXN0LmF1dGhvcml0eTtcclxuICAgICAgICAgICAgY29uc3QgbWFpbldpbmRvd1JlZGlyZWN0VXJpID0gbG9nb3V0UmVxdWVzdCAmJiBsb2dvdXRSZXF1ZXN0Lm1haW5XaW5kb3dSZWRpcmVjdFVyaTtcclxuICAgICAgICAgICAgLy8gYXN5bmNQb3B1cHMgZmxhZyBpcyB0cnVlLiBBY3F1aXJlcyB0b2tlbiB3aXRob3V0IGZpcnN0IG9wZW5pbmcgcG9wdXAuIFBvcHVwIHdpbGwgYmUgb3BlbmVkIGxhdGVyIGFzeW5jaHJvbm91c2x5LlxyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcuc3lzdGVtLmFzeW5jUG9wdXBzKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiYXN5bmNQb3B1cHMgc2V0IHRvIHRydWVcIik7XHJcbiAgICAgICAgICAgICAgICAvLyBQYXNzZXMgb24gcG9wdXAgcG9zaXRpb24gYW5kIGRpbWVuc2lvbnMgaWYgaW4gcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9nb3V0UG9wdXBBc3luYyh2YWxpZExvZ291dFJlcXVlc3QsIHBvcHVwUGFyYW1zLCBhdXRob3JpdHksIG1haW5XaW5kb3dSZWRpcmVjdFVyaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBhc3luY1BvcHVwcyBmbGFnIGlzIHNldCB0byBmYWxzZS4gT3BlbnMgcG9wdXAgYmVmb3JlIGxvZ2dpbmcgb3V0LlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImFzeW5jUG9wdXAgc2V0IHRvIGZhbHNlLCBvcGVuaW5nIHBvcHVwXCIpO1xyXG4gICAgICAgICAgICAgICAgcG9wdXBQYXJhbXMucG9wdXAgPSB0aGlzLm9wZW5TaXplZFBvcHVwKFwiYWJvdXQ6YmxhbmtcIiwgcG9wdXBQYXJhbXMpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9nb3V0UG9wdXBBc3luYyh2YWxpZExvZ291dFJlcXVlc3QsIHBvcHVwUGFyYW1zLCBhdXRob3JpdHksIG1haW5XaW5kb3dSZWRpcmVjdFVyaSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBmdW5jdGlvbiBpcyBzeW5jaHJvbm91cyB3ZSBuZWVkIHRvIHJlamVjdFxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgd2hpY2ggb2J0YWlucyBhbiBhY2Nlc3NfdG9rZW4gZm9yIHlvdXIgQVBJIHZpYSBvcGVuaW5nIGEgcG9wdXAgd2luZG93IGluIHRoZSB1c2VyJ3MgYnJvd3NlclxyXG4gICAgICogQHBhcmFtIHZhbGlkUmVxdWVzdFxyXG4gICAgICogQHBhcmFtIHBvcHVwTmFtZVxyXG4gICAgICogQHBhcmFtIHBvcHVwXHJcbiAgICAgKiBAcGFyYW0gcG9wdXBXaW5kb3dBdHRyaWJ1dGVzXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgQSBwcm9taXNlIHRoYXQgaXMgZnVsZmlsbGVkIHdoZW4gdGhpcyBmdW5jdGlvbiBoYXMgY29tcGxldGVkLCBvciByZWplY3RlZCBpZiBhbiBlcnJvciB3YXMgcmFpc2VkLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBhY3F1aXJlVG9rZW5Qb3B1cEFzeW5jKHJlcXVlc3QsIHBvcHVwUGFyYW1zKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImFjcXVpcmVUb2tlblBvcHVwQXN5bmMgY2FsbGVkXCIpO1xyXG4gICAgICAgIGNvbnN0IHNlcnZlclRlbGVtZXRyeU1hbmFnZXIgPSB0aGlzLmluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKEFwaUlkLmFjcXVpcmVUb2tlblBvcHVwKTtcclxuICAgICAgICBjb25zdCB2YWxpZFJlcXVlc3QgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdC5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50SW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0LCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5jb3JyZWxhdGlvbklkKShyZXF1ZXN0LCBJbnRlcmFjdGlvblR5cGUuUG9wdXApO1xyXG4gICAgICAgIHByZWNvbm5lY3QodmFsaWRSZXF1ZXN0LmF1dGhvcml0eSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGF1dGggY29kZSByZXF1ZXN0IGFuZCBnZW5lcmF0ZSBQS0NFIHBhcmFtc1xyXG4gICAgICAgICAgICBjb25zdCBhdXRoQ29kZVJlcXVlc3QgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmluaXRpYWxpemVBdXRob3JpemF0aW9uQ29kZVJlcXVlc3QuYmluZCh0aGlzKSwgUGVyZm9ybWFuY2VFdmVudHMuU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEluaXRpYWxpemVBdXRob3JpemF0aW9uQ29kZVJlcXVlc3QsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmNvcnJlbGF0aW9uSWQpKHZhbGlkUmVxdWVzdCk7XHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGNsaWVudFxyXG4gICAgICAgICAgICBjb25zdCBhdXRoQ2xpZW50ID0gYXdhaXQgaW52b2tlQXN5bmModGhpcy5jcmVhdGVBdXRoQ29kZUNsaWVudC5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50Q3JlYXRlQXV0aENvZGVDbGllbnQsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmNvcnJlbGF0aW9uSWQpKHtcclxuICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0QXV0aG9yaXR5OiB2YWxpZFJlcXVlc3QuYXV0aG9yaXR5LFxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEF6dXJlQ2xvdWRPcHRpb25zOiB2YWxpZFJlcXVlc3QuYXp1cmVDbG91ZE9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0RXh0cmFRdWVyeVBhcmFtZXRlcnM6IHZhbGlkUmVxdWVzdC5leHRyYVF1ZXJ5UGFyYW1ldGVycyxcclxuICAgICAgICAgICAgICAgIGFjY291bnQ6IHZhbGlkUmVxdWVzdC5hY2NvdW50LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgaXNOYXRpdmVCcm9rZXIgPSBOYXRpdmVNZXNzYWdlSGFuZGxlci5pc05hdGl2ZUF2YWlsYWJsZSh0aGlzLmNvbmZpZywgdGhpcy5sb2dnZXIsIHRoaXMubmF0aXZlTWVzc2FnZUhhbmRsZXIsIHJlcXVlc3QuYXV0aGVudGljYXRpb25TY2hlbWUpO1xyXG4gICAgICAgICAgICAvLyBTdGFydCBtZWFzdXJlbWVudCBmb3Igc2VydmVyIGNhbGxzIHdpdGggbmF0aXZlIGJyb2tlcmluZyBlbmFibGVkXHJcbiAgICAgICAgICAgIGxldCBmZXRjaE5hdGl2ZUFjY291bnRJZE1lYXN1cmVtZW50O1xyXG4gICAgICAgICAgICBpZiAoaXNOYXRpdmVCcm9rZXIpIHtcclxuICAgICAgICAgICAgICAgIGZldGNoTmF0aXZlQWNjb3VudElkTWVhc3VyZW1lbnQgPVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQuc3RhcnRNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5GZXRjaEFjY291bnRJZFdpdGhOYXRpdmVCcm9rZXIsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGFjcXVpcmUgdG9rZW4gdXJsLlxyXG4gICAgICAgICAgICBjb25zdCBuYXZpZ2F0ZVVybCA9IGF3YWl0IGF1dGhDbGllbnQuZ2V0QXV0aENvZGVVcmwoe1xyXG4gICAgICAgICAgICAgICAgLi4udmFsaWRSZXF1ZXN0LFxyXG4gICAgICAgICAgICAgICAgbmF0aXZlQnJva2VyOiBpc05hdGl2ZUJyb2tlcixcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBwb3B1cCBpbnRlcmFjdGlvbiBoYW5kbGVyLlxyXG4gICAgICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkhhbmRsZXIgPSBuZXcgSW50ZXJhY3Rpb25IYW5kbGVyKGF1dGhDbGllbnQsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIGF1dGhDb2RlUmVxdWVzdCwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQpO1xyXG4gICAgICAgICAgICAvLyBTaG93IHRoZSBVSSBvbmNlIHRoZSB1cmwgaGFzIGJlZW4gY3JlYXRlZC4gR2V0IHRoZSB3aW5kb3cgaGFuZGxlIGZvciB0aGUgcG9wdXAuXHJcbiAgICAgICAgICAgIGNvbnN0IHBvcHVwV2luZG93ID0gdGhpcy5pbml0aWF0ZUF1dGhSZXF1ZXN0KG5hdmlnYXRlVXJsLCBwb3B1cFBhcmFtcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuUE9QVVBfT1BFTkVELCBJbnRlcmFjdGlvblR5cGUuUG9wdXAsIHsgcG9wdXBXaW5kb3cgfSwgbnVsbCk7XHJcbiAgICAgICAgICAgIC8vIE1vbml0b3IgdGhlIHdpbmRvdyBmb3IgdGhlIGhhc2guIFJldHVybiB0aGUgc3RyaW5nIHZhbHVlIGFuZCBjbG9zZSB0aGUgcG9wdXAgd2hlbiB0aGUgaGFzaCBpcyByZWNlaXZlZC4gRGVmYXVsdCB0aW1lb3V0IGlzIDYwIHNlY29uZHMuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlU3RyaW5nID0gYXdhaXQgdGhpcy5tb25pdG9yUG9wdXBGb3JIYXNoKHBvcHVwV2luZG93LCBwb3B1cFBhcmFtcy5wb3B1cFdpbmRvd1BhcmVudCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlclBhcmFtcyA9IGludm9rZShkZXNlcmlhbGl6ZVJlc3BvbnNlLCBQZXJmb3JtYW5jZUV2ZW50cy5EZXNlcmlhbGl6ZVJlc3BvbnNlLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5jb3JyZWxhdGlvbklkKShyZXNwb25zZVN0cmluZywgdGhpcy5jb25maWcuYXV0aC5PSURDT3B0aW9ucy5zZXJ2ZXJSZXNwb25zZVR5cGUsIHRoaXMubG9nZ2VyKTtcclxuICAgICAgICAgICAgLy8gUmVtb3ZlIHRocm90dGxlIGlmIGl0IGV4aXN0c1xyXG4gICAgICAgICAgICBUaHJvdHRsaW5nVXRpbHMucmVtb3ZlVGhyb3R0bGUodGhpcy5icm93c2VyU3RvcmFnZSwgdGhpcy5jb25maWcuYXV0aC5jbGllbnRJZCwgYXV0aENvZGVSZXF1ZXN0KTtcclxuICAgICAgICAgICAgaWYgKHNlcnZlclBhcmFtcy5hY2NvdW50SWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJBY2NvdW50IGlkIGZvdW5kIGluIGhhc2gsIGNhbGxpbmcgV0FNIGZvciB0b2tlblwiKTtcclxuICAgICAgICAgICAgICAgIC8vIGVuZCBtZWFzdXJlbWVudCBmb3Igc2VydmVyIGNhbGwgd2l0aCBuYXRpdmUgYnJva2VyaW5nIGVuYWJsZWRcclxuICAgICAgICAgICAgICAgIGlmIChmZXRjaE5hdGl2ZUFjY291bnRJZE1lYXN1cmVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hOYXRpdmVBY2NvdW50SWRNZWFzdXJlbWVudC5lbmQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpc05hdGl2ZUJyb2tlcjogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5uYXRpdmVNZXNzYWdlSGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IobmF0aXZlQ29ubmVjdGlvbk5vdEVzdGFibGlzaGVkKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hdGl2ZUludGVyYWN0aW9uQ2xpZW50ID0gbmV3IE5hdGl2ZUludGVyYWN0aW9uQ2xpZW50KHRoaXMuY29uZmlnLCB0aGlzLmJyb3dzZXJTdG9yYWdlLCB0aGlzLmJyb3dzZXJDcnlwdG8sIHRoaXMubG9nZ2VyLCB0aGlzLmV2ZW50SGFuZGxlciwgdGhpcy5uYXZpZ2F0aW9uQ2xpZW50LCBBcGlJZC5hY3F1aXJlVG9rZW5Qb3B1cCwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5uYXRpdmVNZXNzYWdlSGFuZGxlciwgc2VydmVyUGFyYW1zLmFjY291bnRJZCwgdGhpcy5uYXRpdmVTdG9yYWdlLCB2YWxpZFJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHVzZXJSZXF1ZXN0U3RhdGUgfSA9IFByb3RvY29sVXRpbHMucGFyc2VSZXF1ZXN0U3RhdGUodGhpcy5icm93c2VyQ3J5cHRvLCB2YWxpZFJlcXVlc3Quc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IG5hdGl2ZUludGVyYWN0aW9uQ2xpZW50LmFjcXVpcmVUb2tlbih7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4udmFsaWRSZXF1ZXN0LFxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlOiB1c2VyUmVxdWVzdFN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIHByb21wdDogdW5kZWZpbmVkLCAvLyBTZXJ2ZXIgc2hvdWxkIGhhbmRsZSB0aGUgcHJvbXB0LCBpZGVhbGx5IG5hdGl2ZSBicm9rZXIgY2FuIGRvIHRoaXMgcGFydCBzaWxlbnRseVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gSGFuZGxlIHJlc3BvbnNlIGZyb20gaGFzaCBzdHJpbmcuXHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGludGVyYWN0aW9uSGFuZGxlci5oYW5kbGVDb2RlUmVzcG9uc2Uoc2VydmVyUGFyYW1zLCB2YWxpZFJlcXVlc3QpO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBDbG9zZSB0aGUgc3luY2hyb25vdXMgcG9wdXAgaWYgYW4gZXJyb3IgaXMgdGhyb3duIGJlZm9yZSB0aGUgd2luZG93IHVubG9hZCBldmVudCBpcyByZWdpc3RlcmVkXHJcbiAgICAgICAgICAgIHBvcHVwUGFyYW1zLnBvcHVwPy5jbG9zZSgpO1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEF1dGhFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgZS5zZXRDb3JyZWxhdGlvbklkKHRoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLmNhY2hlRmFpbGVkUmVxdWVzdChlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB2YWxpZFJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBwb3B1cE5hbWVcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0QXV0aG9yaXR5XHJcbiAgICAgKiBAcGFyYW0gcG9wdXBcclxuICAgICAqIEBwYXJhbSBtYWluV2luZG93UmVkaXJlY3RVcmlcclxuICAgICAqIEBwYXJhbSBwb3B1cFdpbmRvd0F0dHJpYnV0ZXNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgbG9nb3V0UG9wdXBBc3luYyh2YWxpZFJlcXVlc3QsIHBvcHVwUGFyYW1zLCByZXF1ZXN0QXV0aG9yaXR5LCBtYWluV2luZG93UmVkaXJlY3RVcmkpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwibG9nb3V0UG9wdXBBc3luYyBjYWxsZWRcIik7XHJcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dPVVRfU1RBUlQsIEludGVyYWN0aW9uVHlwZS5Qb3B1cCwgdmFsaWRSZXF1ZXN0KTtcclxuICAgICAgICBjb25zdCBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyID0gdGhpcy5pbml0aWFsaXplU2VydmVyVGVsZW1ldHJ5TWFuYWdlcihBcGlJZC5sb2dvdXRQb3B1cCk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ2xlYXIgY2FjaGUgb24gbG9nb3V0XHJcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuY2xlYXJDYWNoZU9uTG9nb3V0KHZhbGlkUmVxdWVzdC5hY2NvdW50KTtcclxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgY2xpZW50XHJcbiAgICAgICAgICAgIGNvbnN0IGF1dGhDbGllbnQgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmNyZWF0ZUF1dGhDb2RlQ2xpZW50LmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRDcmVhdGVBdXRoQ29kZUNsaWVudCwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHRoaXMuY29ycmVsYXRpb25JZCkoe1xyXG4gICAgICAgICAgICAgICAgc2VydmVyVGVsZW1ldHJ5TWFuYWdlcixcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBdXRob3JpdHk6IHJlcXVlc3RBdXRob3JpdHksXHJcbiAgICAgICAgICAgICAgICBhY2NvdW50OiB2YWxpZFJlcXVlc3QuYWNjb3VudCB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXV0aENsaWVudC5hdXRob3JpdHkuZW5kU2Vzc2lvbkVuZHBvaW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWxpZFJlcXVlc3QuYWNjb3VudD8uaG9tZUFjY291bnRJZCAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHZhbGlkUmVxdWVzdC5wb3N0TG9nb3V0UmVkaXJlY3RVcmkgJiZcclxuICAgICAgICAgICAgICAgICAgICBhdXRoQ2xpZW50LmF1dGhvcml0eS5wcm90b2NvbE1vZGUgPT09IFByb3RvY29sTW9kZS5PSURDKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLmJyb3dzZXJTdG9yYWdlLnJlbW92ZUFjY291bnQodmFsaWRSZXF1ZXN0LmFjY291bnQ/LmhvbWVBY2NvdW50SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuTE9HT1VUX1NVQ0NFU1MsIEludGVyYWN0aW9uVHlwZS5Qb3B1cCwgdmFsaWRSZXF1ZXN0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobWFpbldpbmRvd1JlZGlyZWN0VXJpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRpb25PcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBpSWQ6IEFwaUlkLmxvZ291dFBvcHVwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZW91dDogdGhpcy5jb25maWcuc3lzdGVtLnJlZGlyZWN0TmF2aWdhdGlvblRpbWVvdXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub0hpc3Rvcnk6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhYnNvbHV0ZVVybCA9IFVybFN0cmluZy5nZXRBYnNvbHV0ZVVybChtYWluV2luZG93UmVkaXJlY3RVcmksIGdldEN1cnJlbnRVcmkoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubmF2aWdhdGlvbkNsaWVudC5uYXZpZ2F0ZUludGVybmFsKGFic29sdXRlVXJsLCBuYXZpZ2F0aW9uT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHBvcHVwUGFyYW1zLnBvcHVwPy5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBDcmVhdGUgbG9nb3V0IHN0cmluZyBhbmQgbmF2aWdhdGUgdXNlciB3aW5kb3cgdG8gbG9nb3V0LlxyXG4gICAgICAgICAgICBjb25zdCBsb2dvdXRVcmkgPSBhdXRoQ2xpZW50LmdldExvZ291dFVyaSh2YWxpZFJlcXVlc3QpO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkxPR09VVF9TVUNDRVNTLCBJbnRlcmFjdGlvblR5cGUuUG9wdXAsIHZhbGlkUmVxdWVzdCk7XHJcbiAgICAgICAgICAgIC8vIE9wZW4gdGhlIHBvcHVwIHdpbmRvdyB0byByZXF1ZXN0VXJsLlxyXG4gICAgICAgICAgICBjb25zdCBwb3B1cFdpbmRvdyA9IHRoaXMub3BlblBvcHVwKGxvZ291dFVyaSwgcG9wdXBQYXJhbXMpO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLlBPUFVQX09QRU5FRCwgSW50ZXJhY3Rpb25UeXBlLlBvcHVwLCB7IHBvcHVwV2luZG93IH0sIG51bGwpO1xyXG4gICAgICAgICAgICBhd2FpdCB0aGlzLm1vbml0b3JQb3B1cEZvckhhc2gocG9wdXBXaW5kb3csIHBvcHVwUGFyYW1zLnBvcHVwV2luZG93UGFyZW50KS5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBTd2FsbG93IGFueSBlcnJvcnMgcmVsYXRlZCB0byBtb25pdG9yaW5nIHRoZSB3aW5kb3cuIFNlcnZlciBsb2dvdXQgaXMgYmVzdCBlZmZvcnRcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChtYWluV2luZG93UmVkaXJlY3RVcmkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG5hdmlnYXRpb25PcHRpb25zID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGFwaUlkOiBBcGlJZC5sb2dvdXRQb3B1cCxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLmNvbmZpZy5zeXN0ZW0ucmVkaXJlY3ROYXZpZ2F0aW9uVGltZW91dCxcclxuICAgICAgICAgICAgICAgICAgICBub0hpc3Rvcnk6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFic29sdXRlVXJsID0gVXJsU3RyaW5nLmdldEFic29sdXRlVXJsKG1haW5XaW5kb3dSZWRpcmVjdFVyaSwgZ2V0Q3VycmVudFVyaSgpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJSZWRpcmVjdGluZyBtYWluIHdpbmRvdyB0byB1cmwgc3BlY2lmaWVkIGluIHRoZSByZXF1ZXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZVBpaShgUmVkaXJlY3RpbmcgbWFpbiB3aW5kb3cgdG86ICR7YWJzb2x1dGVVcmx9YCk7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLm5hdmlnYXRpb25DbGllbnQubmF2aWdhdGVJbnRlcm5hbChhYnNvbHV0ZVVybCwgbmF2aWdhdGlvbk9wdGlvbnMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIk5vIG1haW4gd2luZG93IG5hdmlnYXRpb24gcmVxdWVzdGVkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIENsb3NlIHRoZSBzeW5jaHJvbm91cyBwb3B1cCBpZiBhbiBlcnJvciBpcyB0aHJvd24gYmVmb3JlIHRoZSB3aW5kb3cgdW5sb2FkIGV2ZW50IGlzIHJlZ2lzdGVyZWRcclxuICAgICAgICAgICAgcG9wdXBQYXJhbXMucG9wdXA/LmNsb3NlKCk7XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgQXV0aEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBlLnNldENvcnJlbGF0aW9uSWQodGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIuY2FjaGVGYWlsZWRSZXF1ZXN0KGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dPVVRfRkFJTFVSRSwgSW50ZXJhY3Rpb25UeXBlLlBvcHVwLCBudWxsLCBlKTtcclxuICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dPVVRfRU5ELCBJbnRlcmFjdGlvblR5cGUuUG9wdXApO1xyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkxPR09VVF9FTkQsIEludGVyYWN0aW9uVHlwZS5Qb3B1cCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE9wZW5zIGEgcG9wdXAgd2luZG93IHdpdGggZ2l2ZW4gcmVxdWVzdCBVcmwuXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFVybFxyXG4gICAgICovXHJcbiAgICBpbml0aWF0ZUF1dGhSZXF1ZXN0KHJlcXVlc3RVcmwsIHBhcmFtcykge1xyXG4gICAgICAgIC8vIENoZWNrIHRoYXQgcmVxdWVzdCB1cmwgaXMgbm90IGVtcHR5LlxyXG4gICAgICAgIGlmIChyZXF1ZXN0VXJsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLmluZm9QaWkoYE5hdmlnYXRlIHRvOiAke3JlcXVlc3RVcmx9YCk7XHJcbiAgICAgICAgICAgIC8vIE9wZW4gdGhlIHBvcHVwIHdpbmRvdyB0byByZXF1ZXN0VXJsLlxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5vcGVuUG9wdXAocmVxdWVzdFVybCwgcGFyYW1zKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGVycm9yIGlmIHJlcXVlc3QgVVJMIGlzIGVtcHR5LlxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIk5hdmlnYXRlIHVybCBpcyBlbXB0eVwiKTtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihlbXB0eU5hdmlnYXRlVXJpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE1vbml0b3JzIGEgd2luZG93IHVudGlsIGl0IGxvYWRzIGEgdXJsIHdpdGggdGhlIHNhbWUgb3JpZ2luLlxyXG4gICAgICogQHBhcmFtIHBvcHVwV2luZG93IC0gd2luZG93IHRoYXQgaXMgYmVpbmcgbW9uaXRvcmVkXHJcbiAgICAgKiBAcGFyYW0gdGltZW91dCAtIHRpbWVvdXQgZm9yIHByb2Nlc3NpbmcgaGFzaCBvbmNlIHBvcHVwIGlzIHJlZGlyZWN0ZWQgYmFjayB0byBhcHBsaWNhdGlvblxyXG4gICAgICovXHJcbiAgICBtb25pdG9yUG9wdXBGb3JIYXNoKHBvcHVwV2luZG93LCBwb3B1cFdpbmRvd1BhcmVudCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJQb3B1cEhhbmRsZXIubW9uaXRvclBvcHVwRm9ySGFzaCAtIHBvbGxpbmcgc3RhcnRlZFwiKTtcclxuICAgICAgICAgICAgY29uc3QgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIC8vIFdpbmRvdyBpcyBjbG9zZWRcclxuICAgICAgICAgICAgICAgIGlmIChwb3B1cFdpbmRvdy5jbG9zZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlBvcHVwSGFuZGxlci5tb25pdG9yUG9wdXBGb3JIYXNoIC0gd2luZG93IGNsb3NlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChjcmVhdGVCcm93c2VyQXV0aEVycm9yKHVzZXJDYW5jZWxsZWQpKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBsZXQgaHJlZiA9IFwiXCI7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgICogV2lsbCB0aHJvdyBpZiBjcm9zcyBvcmlnaW4sXHJcbiAgICAgICAgICAgICAgICAgICAgICogd2hpY2ggc2hvdWxkIGJlIGNhdWdodCBhbmQgaWdub3JlZFxyXG4gICAgICAgICAgICAgICAgICAgICAqIHNpbmNlIHdlIG5lZWQgdGhlIGludGVydmFsIHRvIGtlZXAgcnVubmluZyB3aGlsZSBvbiBTVFMgVUkuXHJcbiAgICAgICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICAgICAgaHJlZiA9IHBvcHVwV2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XHJcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBwcm9jZXNzIGJsYW5rIHBhZ2VzIG9yIGNyb3NzIGRvbWFpblxyXG4gICAgICAgICAgICAgICAgaWYgKCFocmVmIHx8IGhyZWYgPT09IFwiYWJvdXQ6YmxhbmtcIikge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzcG9uc2VTdHJpbmcgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VUeXBlID0gdGhpcy5jb25maWcuYXV0aC5PSURDT3B0aW9ucy5zZXJ2ZXJSZXNwb25zZVR5cGU7XHJcbiAgICAgICAgICAgICAgICBpZiAocG9wdXBXaW5kb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VUeXBlID09PSBTZXJ2ZXJSZXNwb25zZVR5cGUuUVVFUlkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VTdHJpbmcgPSBwb3B1cFdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0cmluZyA9IHBvcHVwV2luZG93LmxvY2F0aW9uLmhhc2g7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlBvcHVwSGFuZGxlci5tb25pdG9yUG9wdXBGb3JIYXNoIC0gcG9wdXAgd2luZG93IGlzIG9uIHNhbWUgb3JpZ2luIGFzIGNhbGxlclwiKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzcG9uc2VTdHJpbmcpO1xyXG4gICAgICAgICAgICB9LCB0aGlzLmNvbmZpZy5zeXN0ZW0ucG9sbEludGVydmFsTWlsbGlzZWNvbmRzKTtcclxuICAgICAgICB9KS5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhblBvcHVwKHBvcHVwV2luZG93LCBwb3B1cFdpbmRvd1BhcmVudCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqXHJcbiAgICAgKiBDb25maWd1cmVzIHBvcHVwIHdpbmRvdyBmb3IgbG9naW4uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHVybE5hdmlnYXRlXHJcbiAgICAgKiBAcGFyYW0gdGl0bGVcclxuICAgICAqIEBwYXJhbSBwb3BVcFdpZHRoXHJcbiAgICAgKiBAcGFyYW0gcG9wVXBIZWlnaHRcclxuICAgICAqIEBwYXJhbSBwb3B1cFdpbmRvd0F0dHJpYnV0ZXNcclxuICAgICAqIEBpZ25vcmVcclxuICAgICAqIEBoaWRkZW5cclxuICAgICAqL1xyXG4gICAgb3BlblBvcHVwKHVybE5hdmlnYXRlLCBwb3B1cFBhcmFtcykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBwb3B1cFdpbmRvdztcclxuICAgICAgICAgICAgLy8gUG9wdXAgd2luZG93IHBhc3NlZCBpbiwgc2V0dGluZyB1cmwgdG8gbmF2aWdhdGUgdG9cclxuICAgICAgICAgICAgaWYgKHBvcHVwUGFyYW1zLnBvcHVwKSB7XHJcbiAgICAgICAgICAgICAgICBwb3B1cFdpbmRvdyA9IHBvcHVwUGFyYW1zLnBvcHVwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZVBpaShgTmF2aWdhdGluZyBwb3B1cCB3aW5kb3cgdG86ICR7dXJsTmF2aWdhdGV9YCk7XHJcbiAgICAgICAgICAgICAgICBwb3B1cFdpbmRvdy5sb2NhdGlvbi5hc3NpZ24odXJsTmF2aWdhdGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBwb3B1cFBhcmFtcy5wb3B1cCA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICAgICAgLy8gUG9wdXAgd2lsbCBiZSB1bmRlZmluZWQgaWYgaXQgd2FzIG5vdCBwYXNzZWQgaW5cclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2VQaWkoYE9wZW5pbmcgcG9wdXAgd2luZG93IHRvOiAke3VybE5hdmlnYXRlfWApO1xyXG4gICAgICAgICAgICAgICAgcG9wdXBXaW5kb3cgPSB0aGlzLm9wZW5TaXplZFBvcHVwKHVybE5hdmlnYXRlLCBwb3B1cFBhcmFtcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gUG9wdXAgd2lsbCBiZSBudWxsIGlmIHBvcHVwcyBhcmUgYmxvY2tlZFxyXG4gICAgICAgICAgICBpZiAoIXBvcHVwV2luZG93KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVCcm93c2VyQXV0aEVycm9yKGVtcHR5V2luZG93RXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwb3B1cFdpbmRvdy5mb2N1cykge1xyXG4gICAgICAgICAgICAgICAgcG9wdXBXaW5kb3cuZm9jdXMoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRXaW5kb3cgPSBwb3B1cFdpbmRvdztcclxuICAgICAgICAgICAgcG9wdXBQYXJhbXMucG9wdXBXaW5kb3dQYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCB0aGlzLnVubG9hZFdpbmRvdyk7XHJcbiAgICAgICAgICAgIHJldHVybiBwb3B1cFdpbmRvdztcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJlcnJvciBvcGVuaW5nIHBvcHVwIFwiICsgZS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5zZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVCcm93c2VyQXV0aEVycm9yKHBvcHVwV2luZG93RXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIHRvIHNldCBwb3B1cCB3aW5kb3cgZGltZW5zaW9ucyBhbmQgcG9zaXRpb25cclxuICAgICAqIEBwYXJhbSB1cmxOYXZpZ2F0ZVxyXG4gICAgICogQHBhcmFtIHBvcHVwTmFtZVxyXG4gICAgICogQHBhcmFtIHBvcHVwV2luZG93QXR0cmlidXRlc1xyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgb3BlblNpemVkUG9wdXAodXJsTmF2aWdhdGUsIHsgcG9wdXBOYW1lLCBwb3B1cFdpbmRvd0F0dHJpYnV0ZXMsIHBvcHVwV2luZG93UGFyZW50IH0pIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBhZGRpbmcgd2luTGVmdCBhbmQgd2luVG9wIHRvIGFjY291bnQgZm9yIGR1YWwgbW9uaXRvclxyXG4gICAgICAgICAqIHVzaW5nIHNjcmVlbkxlZnQgYW5kIHNjcmVlblRvcCBmb3IgSUU4IGFuZCBlYXJsaWVyXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3Qgd2luTGVmdCA9IHBvcHVwV2luZG93UGFyZW50LnNjcmVlbkxlZnRcclxuICAgICAgICAgICAgPyBwb3B1cFdpbmRvd1BhcmVudC5zY3JlZW5MZWZ0XHJcbiAgICAgICAgICAgIDogcG9wdXBXaW5kb3dQYXJlbnQuc2NyZWVuWDtcclxuICAgICAgICBjb25zdCB3aW5Ub3AgPSBwb3B1cFdpbmRvd1BhcmVudC5zY3JlZW5Ub3BcclxuICAgICAgICAgICAgPyBwb3B1cFdpbmRvd1BhcmVudC5zY3JlZW5Ub3BcclxuICAgICAgICAgICAgOiBwb3B1cFdpbmRvd1BhcmVudC5zY3JlZW5ZO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIHdpbmRvdy5pbm5lcldpZHRoIGRpc3BsYXlzIGJyb3dzZXIgd2luZG93XCJzIGhlaWdodCBhbmQgd2lkdGggZXhjbHVkaW5nIHRvb2xiYXJzXHJcbiAgICAgICAgICogdXNpbmcgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIGZvciBJRTggYW5kIGVhcmxpZXJcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdCB3aW5XaWR0aCA9IHBvcHVwV2luZG93UGFyZW50LmlubmVyV2lkdGggfHxcclxuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIHx8XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgY29uc3Qgd2luSGVpZ2h0ID0gcG9wdXBXaW5kb3dQYXJlbnQuaW5uZXJIZWlnaHQgfHxcclxuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCB8fFxyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodDtcclxuICAgICAgICBsZXQgd2lkdGggPSBwb3B1cFdpbmRvd0F0dHJpYnV0ZXMucG9wdXBTaXplPy53aWR0aDtcclxuICAgICAgICBsZXQgaGVpZ2h0ID0gcG9wdXBXaW5kb3dBdHRyaWJ1dGVzLnBvcHVwU2l6ZT8uaGVpZ2h0O1xyXG4gICAgICAgIGxldCB0b3AgPSBwb3B1cFdpbmRvd0F0dHJpYnV0ZXMucG9wdXBQb3NpdGlvbj8udG9wO1xyXG4gICAgICAgIGxldCBsZWZ0ID0gcG9wdXBXaW5kb3dBdHRyaWJ1dGVzLnBvcHVwUG9zaXRpb24/LmxlZnQ7XHJcbiAgICAgICAgaWYgKCF3aWR0aCB8fCB3aWR0aCA8IDAgfHwgd2lkdGggPiB3aW5XaWR0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiRGVmYXVsdCBwb3B1cCB3aW5kb3cgd2lkdGggdXNlZC4gV2luZG93IHdpZHRoIG5vdCBjb25maWd1cmVkIG9yIGludmFsaWQuXCIpO1xyXG4gICAgICAgICAgICB3aWR0aCA9IEJyb3dzZXJDb25zdGFudHMuUE9QVVBfV0lEVEg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghaGVpZ2h0IHx8IGhlaWdodCA8IDAgfHwgaGVpZ2h0ID4gd2luSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJEZWZhdWx0IHBvcHVwIHdpbmRvdyBoZWlnaHQgdXNlZC4gV2luZG93IGhlaWdodCBub3QgY29uZmlndXJlZCBvciBpbnZhbGlkLlwiKTtcclxuICAgICAgICAgICAgaGVpZ2h0ID0gQnJvd3NlckNvbnN0YW50cy5QT1BVUF9IRUlHSFQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdG9wIHx8IHRvcCA8IDAgfHwgdG9wID4gd2luSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJEZWZhdWx0IHBvcHVwIHdpbmRvdyB0b3AgcG9zaXRpb24gdXNlZC4gV2luZG93IHRvcCBub3QgY29uZmlndXJlZCBvciBpbnZhbGlkLlwiKTtcclxuICAgICAgICAgICAgdG9wID0gTWF0aC5tYXgoMCwgd2luSGVpZ2h0IC8gMiAtIEJyb3dzZXJDb25zdGFudHMuUE9QVVBfSEVJR0hUIC8gMiArIHdpblRvcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghbGVmdCB8fCBsZWZ0IDwgMCB8fCBsZWZ0ID4gd2luV2lkdGgpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkRlZmF1bHQgcG9wdXAgd2luZG93IGxlZnQgcG9zaXRpb24gdXNlZC4gV2luZG93IGxlZnQgbm90IGNvbmZpZ3VyZWQgb3IgaW52YWxpZC5cIik7XHJcbiAgICAgICAgICAgIGxlZnQgPSBNYXRoLm1heCgwLCB3aW5XaWR0aCAvIDIgLSBCcm93c2VyQ29uc3RhbnRzLlBPUFVQX1dJRFRIIC8gMiArIHdpbkxlZnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcG9wdXBXaW5kb3dQYXJlbnQub3Blbih1cmxOYXZpZ2F0ZSwgcG9wdXBOYW1lLCBgd2lkdGg9JHt3aWR0aH0sIGhlaWdodD0ke2hlaWdodH0sIHRvcD0ke3RvcH0sIGxlZnQ9JHtsZWZ0fSwgc2Nyb2xsYmFycz15ZXNgKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRXZlbnQgY2FsbGJhY2sgdG8gdW5sb2FkIG1haW4gd2luZG93LlxyXG4gICAgICovXHJcbiAgICB1bmxvYWRXaW5kb3coZSkge1xyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UuY2xlYW5SZXF1ZXN0QnlJbnRlcmFjdGlvblR5cGUoSW50ZXJhY3Rpb25UeXBlLlBvcHVwKTtcclxuICAgICAgICBpZiAodGhpcy5jdXJyZW50V2luZG93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFdpbmRvdy5jbG9zZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBHdWFyYW50ZWVzIGJyb3dzZXIgdW5sb2FkIHdpbGwgaGFwcGVuLCBzbyBubyBvdGhlciBlcnJvcnMgd2lsbCBiZSB0aHJvd24uXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDbG9zZXMgcG9wdXAsIHJlbW92ZXMgYW55IHN0YXRlIHZhcnMgY3JlYXRlZCBkdXJpbmcgcG9wdXAgY2FsbHMuXHJcbiAgICAgKiBAcGFyYW0gcG9wdXBXaW5kb3dcclxuICAgICAqL1xyXG4gICAgY2xlYW5Qb3B1cChwb3B1cFdpbmRvdywgcG9wdXBXaW5kb3dQYXJlbnQpIHtcclxuICAgICAgICAvLyBDbG9zZSB3aW5kb3cuXHJcbiAgICAgICAgcG9wdXBXaW5kb3cuY2xvc2UoKTtcclxuICAgICAgICAvLyBSZW1vdmUgd2luZG93IHVubG9hZCBmdW5jdGlvblxyXG4gICAgICAgIHBvcHVwV2luZG93UGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgdGhpcy51bmxvYWRXaW5kb3cpO1xyXG4gICAgICAgIC8vIEludGVyYWN0aW9uIGlzIGNvbXBsZXRlZCAtIHJlbW92ZSBpbnRlcmFjdGlvbiBzdGF0dXMuXHJcbiAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5zZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MoZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIG5hbWUgZm9yIHRoZSBwb3B1cCBiYXNlZCBvbiB0aGUgY2xpZW50IGlkIGFuZCByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gY2xpZW50SWRcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlUG9wdXBOYW1lKHNjb3BlcywgYXV0aG9yaXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIGAke0Jyb3dzZXJDb25zdGFudHMuUE9QVVBfTkFNRV9QUkVGSVh9LiR7dGhpcy5jb25maWcuYXV0aC5jbGllbnRJZH0uJHtzY29wZXMuam9pbihcIi1cIil9LiR7YXV0aG9yaXR5fS4ke3RoaXMuY29ycmVsYXRpb25JZH1gO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZXMgdGhlIG5hbWUgZm9yIHRoZSBwb3B1cCBiYXNlZCBvbiB0aGUgY2xpZW50IGlkIGFuZCByZXF1ZXN0IGZvciBsb2dvdXRzXHJcbiAgICAgKiBAcGFyYW0gY2xpZW50SWRcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlTG9nb3V0UG9wdXBOYW1lKHJlcXVlc3QpIHtcclxuICAgICAgICBjb25zdCBob21lQWNjb3VudElkID0gcmVxdWVzdC5hY2NvdW50ICYmIHJlcXVlc3QuYWNjb3VudC5ob21lQWNjb3VudElkO1xyXG4gICAgICAgIHJldHVybiBgJHtCcm93c2VyQ29uc3RhbnRzLlBPUFVQX05BTUVfUFJFRklYfS4ke3RoaXMuY29uZmlnLmF1dGguY2xpZW50SWR9LiR7aG9tZUFjY291bnRJZH0uJHt0aGlzLmNvcnJlbGF0aW9uSWR9YDtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBQb3B1cENsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9wdXBDbGllbnQubWpzLm1hcFxuIl0sIm5hbWVzIjpbIk9JRENfREVGQVVMVF9TQ09QRVMiLCJpbnZva2VBc3luYyIsIlBlcmZvcm1hbmNlRXZlbnRzIiwiaW52b2tlIiwiVGhyb3R0bGluZ1V0aWxzIiwiUHJvdG9jb2xVdGlscyIsIkF1dGhFcnJvciIsIlByb3RvY29sTW9kZSIsIlVybFN0cmluZyIsIlNlcnZlclJlc3BvbnNlVHlwZSIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQiLCJFdmVudFR5cGUiLCJBcGlJZCIsIkludGVyYWN0aW9uVHlwZSIsIkJyb3dzZXJDb25zdGFudHMiLCJwcmVjb25uZWN0IiwiZ2V0Q3VycmVudFVyaSIsIk5hdGl2ZUludGVyYWN0aW9uQ2xpZW50IiwiTmF0aXZlTWVzc2FnZUhhbmRsZXIiLCJjcmVhdGVCcm93c2VyQXV0aEVycm9yIiwiSW50ZXJhY3Rpb25IYW5kbGVyIiwiZGVzZXJpYWxpemVSZXNwb25zZSIsIm5hdGl2ZUNvbm5lY3Rpb25Ob3RFc3RhYmxpc2hlZCIsImVtcHR5TmF2aWdhdGVVcmkiLCJ1c2VyQ2FuY2VsbGVkIiwiZW1wdHlXaW5kb3dFcnJvciIsInBvcHVwV2luZG93RXJyb3IiLCJQb3B1cENsaWVudCIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwic3RvcmFnZUltcGwiLCJicm93c2VyQ3J5cHRvIiwibG9nZ2VyIiwiZXZlbnRIYW5kbGVyIiwibmF2aWdhdGlvbkNsaWVudCIsInBlcmZvcm1hbmNlQ2xpZW50IiwibmF0aXZlU3RvcmFnZUltcGwiLCJuYXRpdmVNZXNzYWdlSGFuZGxlciIsImNvcnJlbGF0aW9uSWQiLCJ1bmxvYWRXaW5kb3ciLCJiaW5kIiwibmF0aXZlU3RvcmFnZSIsImFjcXVpcmVUb2tlbiIsInJlcXVlc3QiLCJwb3B1cE5hbWUiLCJnZW5lcmF0ZVBvcHVwTmFtZSIsInNjb3BlcyIsImF1dGhvcml0eSIsImF1dGgiLCJwb3B1cFBhcmFtcyIsInBvcHVwV2luZG93QXR0cmlidXRlcyIsInBvcHVwV2luZG93UGFyZW50Iiwid2luZG93Iiwic3lzdGVtIiwiYXN5bmNQb3B1cHMiLCJ2ZXJib3NlIiwiYWNxdWlyZVRva2VuUG9wdXBBc3luYyIsInBvcHVwIiwib3BlblNpemVkUG9wdXAiLCJlIiwiUHJvbWlzZSIsInJlamVjdCIsImxvZ291dCIsImxvZ291dFJlcXVlc3QiLCJ2YWxpZExvZ291dFJlcXVlc3QiLCJpbml0aWFsaXplTG9nb3V0UmVxdWVzdCIsImdlbmVyYXRlTG9nb3V0UG9wdXBOYW1lIiwibWFpbldpbmRvd1JlZGlyZWN0VXJpIiwibG9nb3V0UG9wdXBBc3luYyIsInNlcnZlclRlbGVtZXRyeU1hbmFnZXIiLCJpbml0aWFsaXplU2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsImFjcXVpcmVUb2tlblBvcHVwIiwidmFsaWRSZXF1ZXN0IiwiaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0IiwiU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdCIsIlBvcHVwIiwiYXV0aENvZGVSZXF1ZXN0IiwiaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25Db2RlUmVxdWVzdCIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRJbml0aWFsaXplQXV0aG9yaXphdGlvbkNvZGVSZXF1ZXN0IiwiYXV0aENsaWVudCIsImNyZWF0ZUF1dGhDb2RlQ2xpZW50IiwiU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudENyZWF0ZUF1dGhDb2RlQ2xpZW50IiwicmVxdWVzdEF1dGhvcml0eSIsInJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucyIsImF6dXJlQ2xvdWRPcHRpb25zIiwicmVxdWVzdEV4dHJhUXVlcnlQYXJhbWV0ZXJzIiwiZXh0cmFRdWVyeVBhcmFtZXRlcnMiLCJhY2NvdW50IiwiaXNOYXRpdmVCcm9rZXIiLCJpc05hdGl2ZUF2YWlsYWJsZSIsImF1dGhlbnRpY2F0aW9uU2NoZW1lIiwiZmV0Y2hOYXRpdmVBY2NvdW50SWRNZWFzdXJlbWVudCIsInN0YXJ0TWVhc3VyZW1lbnQiLCJGZXRjaEFjY291bnRJZFdpdGhOYXRpdmVCcm9rZXIiLCJuYXZpZ2F0ZVVybCIsImdldEF1dGhDb2RlVXJsIiwibmF0aXZlQnJva2VyIiwiaW50ZXJhY3Rpb25IYW5kbGVyIiwiYnJvd3NlclN0b3JhZ2UiLCJwb3B1cFdpbmRvdyIsImluaXRpYXRlQXV0aFJlcXVlc3QiLCJlbWl0RXZlbnQiLCJQT1BVUF9PUEVORUQiLCJyZXNwb25zZVN0cmluZyIsIm1vbml0b3JQb3B1cEZvckhhc2giLCJzZXJ2ZXJQYXJhbXMiLCJEZXNlcmlhbGl6ZVJlc3BvbnNlIiwiT0lEQ09wdGlvbnMiLCJzZXJ2ZXJSZXNwb25zZVR5cGUiLCJyZW1vdmVUaHJvdHRsZSIsImNsaWVudElkIiwiYWNjb3VudElkIiwiZW5kIiwic3VjY2VzcyIsIm5hdGl2ZUludGVyYWN0aW9uQ2xpZW50IiwidXNlclJlcXVlc3RTdGF0ZSIsInBhcnNlUmVxdWVzdFN0YXRlIiwic3RhdGUiLCJwcm9tcHQiLCJ1bmRlZmluZWQiLCJyZXN1bHQiLCJoYW5kbGVDb2RlUmVzcG9uc2UiLCJjbG9zZSIsInNldENvcnJlbGF0aW9uSWQiLCJjYWNoZUZhaWxlZFJlcXVlc3QiLCJMT0dPVVRfU1RBUlQiLCJsb2dvdXRQb3B1cCIsImNsZWFyQ2FjaGVPbkxvZ291dCIsImVuZFNlc3Npb25FbmRwb2ludCIsImhvbWVBY2NvdW50SWQiLCJwb3N0TG9nb3V0UmVkaXJlY3RVcmkiLCJwcm90b2NvbE1vZGUiLCJPSURDIiwicmVtb3ZlQWNjb3VudCIsIkxPR09VVF9TVUNDRVNTIiwibmF2aWdhdGlvbk9wdGlvbnMiLCJhcGlJZCIsInRpbWVvdXQiLCJyZWRpcmVjdE5hdmlnYXRpb25UaW1lb3V0Iiwibm9IaXN0b3J5IiwiYWJzb2x1dGVVcmwiLCJnZXRBYnNvbHV0ZVVybCIsIm5hdmlnYXRlSW50ZXJuYWwiLCJsb2dvdXRVcmkiLCJnZXRMb2dvdXRVcmkiLCJvcGVuUG9wdXAiLCJjYXRjaCIsInZlcmJvc2VQaWkiLCJzZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MiLCJMT0dPVVRfRkFJTFVSRSIsIkxPR09VVF9FTkQiLCJyZXF1ZXN0VXJsIiwicGFyYW1zIiwiaW5mb1BpaSIsImVycm9yIiwicmVzb2x2ZSIsImludGVydmFsSWQiLCJzZXRJbnRlcnZhbCIsImNsb3NlZCIsImNsZWFySW50ZXJ2YWwiLCJocmVmIiwibG9jYXRpb24iLCJyZXNwb25zZVR5cGUiLCJRVUVSWSIsInNlYXJjaCIsImhhc2giLCJwb2xsSW50ZXJ2YWxNaWxsaXNlY29uZHMiLCJmaW5hbGx5IiwiY2xlYW5Qb3B1cCIsInVybE5hdmlnYXRlIiwiYXNzaWduIiwiZm9jdXMiLCJjdXJyZW50V2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsIm1lc3NhZ2UiLCJ3aW5MZWZ0Iiwic2NyZWVuTGVmdCIsInNjcmVlblgiLCJ3aW5Ub3AiLCJzY3JlZW5Ub3AiLCJzY3JlZW5ZIiwid2luV2lkdGgiLCJpbm5lcldpZHRoIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJjbGllbnRXaWR0aCIsImJvZHkiLCJ3aW5IZWlnaHQiLCJpbm5lckhlaWdodCIsImNsaWVudEhlaWdodCIsIndpZHRoIiwicG9wdXBTaXplIiwiaGVpZ2h0IiwidG9wIiwicG9wdXBQb3NpdGlvbiIsImxlZnQiLCJQT1BVUF9XSURUSCIsIlBPUFVQX0hFSUdIVCIsIk1hdGgiLCJtYXgiLCJvcGVuIiwiY2xlYW5SZXF1ZXN0QnlJbnRlcmFjdGlvblR5cGUiLCJwcmV2ZW50RGVmYXVsdCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJQT1BVUF9OQU1FX1BSRUZJWCIsImpvaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/PopupClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/RedirectClient.mjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_client/RedirectClient.mjs ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RedirectClient: () => (/* binding */ RedirectClient)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/UrlUtils.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/ProtocolUtils.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/network/ThrottlingUtils.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/ProtocolMode.mjs\");\n/* harmony import */ var _StandardInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StandardInteractionClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/StandardInteractionClient.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _interaction_handler_RedirectHandler_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../interaction_handler/RedirectHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_handler/RedirectHandler.mjs\");\n/* harmony import */ var _utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../utils/BrowserUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserUtils.mjs\");\n/* harmony import */ var _event_EventType_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../event/EventType.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/event/EventType.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _NativeInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./NativeInteractionClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/NativeInteractionClient.mjs\");\n/* harmony import */ var _broker_nativeBroker_NativeMessageHandler_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../broker/nativeBroker/NativeMessageHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/broker/nativeBroker/NativeMessageHandler.mjs\");\n/* harmony import */ var _response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../response/ResponseHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/response/ResponseHandler.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ function getNavigationType() {\n    if (true) {\n        return undefined;\n    }\n    const navigationEntries = window.performance.getEntriesByType(\"navigation\");\n    const navigation = navigationEntries.length ? navigationEntries[0] : undefined;\n    return navigation?.type;\n}\nclass RedirectClient extends _StandardInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__.StandardInteractionClient {\n    constructor(config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, performanceClient, nativeStorageImpl, nativeMessageHandler, correlationId){\n        super(config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, performanceClient, nativeMessageHandler, correlationId);\n        this.nativeStorage = nativeStorageImpl;\n    }\n    /**\r\n     * Redirects the page to the /authorize endpoint of the IDP\r\n     * @param request\r\n     */ async acquireToken(request) {\n        const validRequest = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.invokeAsync)(this.initializeAuthorizationRequest.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest, this.logger, this.performanceClient, this.correlationId)(request, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InteractionType.Redirect);\n        this.browserStorage.updateCacheEntries(validRequest.state, validRequest.nonce, validRequest.authority, validRequest.loginHint || \"\", validRequest.account || null);\n        const serverTelemetryManager = this.initializeServerTelemetryManager(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.ApiId.acquireTokenRedirect);\n        const handleBackButton = (event)=>{\n            // Clear temporary cache if the back button is clicked during the redirect flow.\n            if (event.persisted) {\n                this.logger.verbose(\"Page was restored from back/forward cache. Clearing temporary cache.\");\n                this.browserStorage.cleanRequestByState(validRequest.state);\n                this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_4__.EventType.RESTORE_FROM_BFCACHE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InteractionType.Redirect);\n            }\n        };\n        try {\n            // Create auth code request and generate PKCE params\n            const authCodeRequest = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.invokeAsync)(this.initializeAuthorizationCodeRequest.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest, this.logger, this.performanceClient, this.correlationId)(validRequest);\n            // Initialize the client\n            const authClient = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.invokeAsync)(this.createAuthCodeClient.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.PerformanceEvents.StandardInteractionClientCreateAuthCodeClient, this.logger, this.performanceClient, this.correlationId)({\n                serverTelemetryManager,\n                requestAuthority: validRequest.authority,\n                requestAzureCloudOptions: validRequest.azureCloudOptions,\n                requestExtraQueryParameters: validRequest.extraQueryParameters,\n                account: validRequest.account\n            });\n            // Create redirect interaction handler.\n            const interactionHandler = new _interaction_handler_RedirectHandler_mjs__WEBPACK_IMPORTED_MODULE_5__.RedirectHandler(authClient, this.browserStorage, authCodeRequest, this.logger, this.performanceClient);\n            // Create acquire token url.\n            const navigateUrl = await authClient.getAuthCodeUrl({\n                ...validRequest,\n                nativeBroker: _broker_nativeBroker_NativeMessageHandler_mjs__WEBPACK_IMPORTED_MODULE_6__.NativeMessageHandler.isNativeAvailable(this.config, this.logger, this.nativeMessageHandler, request.authenticationScheme)\n            });\n            const redirectStartPage = this.getRedirectStartPage(request.redirectStartPage);\n            this.logger.verbosePii(`Redirect start page: ${redirectStartPage}`);\n            // Clear temporary cache if the back button is clicked during the redirect flow.\n            window.addEventListener(\"pageshow\", handleBackButton);\n            // Show the UI once the url has been created. Response will come back in the hash, which will be handled in the handleRedirectCallback function.\n            return await interactionHandler.initiateAuthRequest(navigateUrl, {\n                navigationClient: this.navigationClient,\n                redirectTimeout: this.config.system.redirectNavigationTimeout,\n                redirectStartPage: redirectStartPage,\n                onRedirectNavigate: request.onRedirectNavigate || this.config.auth.onRedirectNavigate\n            });\n        } catch (e) {\n            if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.AuthError) {\n                e.setCorrelationId(this.correlationId);\n                serverTelemetryManager.cacheFailedRequest(e);\n            }\n            window.removeEventListener(\"pageshow\", handleBackButton);\n            this.browserStorage.cleanRequestByState(validRequest.state);\n            throw e;\n        }\n    }\n    /**\r\n     * Checks if navigateToLoginRequestUrl is set, and:\r\n     * - if true, performs logic to cache and navigate\r\n     * - if false, handles hash string and parses response\r\n     * @param hash {string} url hash\r\n     * @param parentMeasurement {InProgressPerformanceEvent} parent measurement\r\n     */ async handleRedirectPromise(hash = \"\", parentMeasurement) {\n        const serverTelemetryManager = this.initializeServerTelemetryManager(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.ApiId.handleRedirectPromise);\n        try {\n            if (!this.browserStorage.isInteractionInProgress(true)) {\n                this.logger.info(\"handleRedirectPromise called but there is no interaction in progress, returning null.\");\n                return null;\n            }\n            const [serverParams, responseString] = this.getRedirectResponse(hash || \"\");\n            if (!serverParams) {\n                // Not a recognized server response hash or hash not associated with a redirect request\n                this.logger.info(\"handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache.\");\n                this.browserStorage.cleanRequestByInteractionType(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InteractionType.Redirect);\n                // Do not instrument \"no_server_response\" if user clicked back button\n                if (getNavigationType() !== \"back_forward\") {\n                    parentMeasurement.event.errorCode = \"no_server_response\";\n                } else {\n                    this.logger.verbose(\"Back navigation event detected. Muting no_server_response error\");\n                }\n                return null;\n            }\n            // If navigateToLoginRequestUrl is true, get the url where the redirect request was initiated\n            const loginRequestUrl = this.browserStorage.getTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.ORIGIN_URI, true) || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.Constants.EMPTY_STRING;\n            const loginRequestUrlNormalized = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.UrlString.removeHashFromUrl(loginRequestUrl);\n            const currentUrlNormalized = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.UrlString.removeHashFromUrl(window.location.href);\n            if (loginRequestUrlNormalized === currentUrlNormalized && this.config.auth.navigateToLoginRequestUrl) {\n                // We are on the page we need to navigate to - handle hash\n                this.logger.verbose(\"Current page is loginRequestUrl, handling response\");\n                if (loginRequestUrl.indexOf(\"#\") > -1) {\n                    // Replace current hash with non-msal hash, if present\n                    (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_10__.replaceHash)(loginRequestUrl);\n                }\n                const handleHashResult = await this.handleResponse(serverParams, serverTelemetryManager);\n                return handleHashResult;\n            } else if (!this.config.auth.navigateToLoginRequestUrl) {\n                this.logger.verbose(\"NavigateToLoginRequestUrl set to false, handling response\");\n                return await this.handleResponse(serverParams, serverTelemetryManager);\n            } else if (!(0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_10__.isInIframe)() || this.config.system.allowRedirectInIframe) {\n                /*\r\n                 * Returned from authority using redirect - need to perform navigation before processing response\r\n                 * Cache the hash to be retrieved after the next redirect\r\n                 */ this.browserStorage.setTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.URL_HASH, responseString, true);\n                const navigationOptions = {\n                    apiId: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.ApiId.handleRedirectPromise,\n                    timeout: this.config.system.redirectNavigationTimeout,\n                    noHistory: true\n                };\n                /**\r\n                 * Default behavior is to redirect to the start page and not process the hash now.\r\n                 * The start page is expected to also call handleRedirectPromise which will process the hash in one of the checks above.\r\n                 */ let processHashOnRedirect = true;\n                if (!loginRequestUrl || loginRequestUrl === \"null\") {\n                    // Redirect to home page if login request url is null (real null or the string null)\n                    const homepage = (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_10__.getHomepage)();\n                    // Cache the homepage under ORIGIN_URI to ensure cached hash is processed on homepage\n                    this.browserStorage.setTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.ORIGIN_URI, homepage, true);\n                    this.logger.warning(\"Unable to get valid login request url from cache, redirecting to home page\");\n                    processHashOnRedirect = await this.navigationClient.navigateInternal(homepage, navigationOptions);\n                } else {\n                    // Navigate to page that initiated the redirect request\n                    this.logger.verbose(`Navigating to loginRequestUrl: ${loginRequestUrl}`);\n                    processHashOnRedirect = await this.navigationClient.navigateInternal(loginRequestUrl, navigationOptions);\n                }\n                // If navigateInternal implementation returns false, handle the hash now\n                if (!processHashOnRedirect) {\n                    return await this.handleResponse(serverParams, serverTelemetryManager);\n                }\n            }\n            return null;\n        } catch (e) {\n            if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.AuthError) {\n                e.setCorrelationId(this.correlationId);\n                serverTelemetryManager.cacheFailedRequest(e);\n            }\n            this.browserStorage.cleanRequestByInteractionType(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InteractionType.Redirect);\n            throw e;\n        }\n    }\n    /**\r\n     * Gets the response hash for a redirect request\r\n     * Returns null if interactionType in the state value is not \"redirect\" or the hash does not contain known properties\r\n     * @param hash\r\n     */ getRedirectResponse(userProvidedResponse) {\n        this.logger.verbose(\"getRedirectResponseHash called\");\n        // Get current location hash from window or cache.\n        let responseString = userProvidedResponse;\n        if (!responseString) {\n            if (this.config.auth.OIDCOptions.serverResponseType === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.ServerResponseType.QUERY) {\n                responseString = window.location.search;\n            } else {\n                responseString = window.location.hash;\n            }\n        }\n        let response = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.getDeserializedResponse(responseString);\n        if (response) {\n            try {\n                (0,_response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_12__.validateInteractionType)(response, this.browserCrypto, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InteractionType.Redirect);\n            } catch (e) {\n                if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.AuthError) {\n                    this.logger.error(`Interaction type validation failed due to ${e.errorCode}: ${e.errorMessage}`);\n                }\n                return [\n                    null,\n                    \"\"\n                ];\n            }\n            (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_10__.clearHash)(window);\n            this.logger.verbose(\"Hash contains known properties, returning response hash\");\n            return [\n                response,\n                responseString\n            ];\n        }\n        const cachedHash = this.browserStorage.getTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.URL_HASH, true);\n        this.browserStorage.removeItem(this.browserStorage.generateCacheKey(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.TemporaryCacheKeys.URL_HASH));\n        if (cachedHash) {\n            response = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.getDeserializedResponse(cachedHash);\n            if (response) {\n                this.logger.verbose(\"Hash does not contain known properties, returning cached hash\");\n                return [\n                    response,\n                    cachedHash\n                ];\n            }\n        }\n        return [\n            null,\n            \"\"\n        ];\n    }\n    /**\r\n     * Checks if hash exists and handles in window.\r\n     * @param hash\r\n     * @param state\r\n     */ async handleResponse(serverParams, serverTelemetryManager) {\n        const state = serverParams.state;\n        if (!state) {\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_14__.noStateInHash);\n        }\n        const cachedRequest = this.browserStorage.getCachedRequest(state);\n        this.logger.verbose(\"handleResponse called, retrieved cached request\");\n        if (serverParams.accountId) {\n            this.logger.verbose(\"Account id found in hash, calling WAM for token\");\n            if (!this.nativeMessageHandler) {\n                throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_14__.nativeConnectionNotEstablished);\n            }\n            const nativeInteractionClient = new _NativeInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_15__.NativeInteractionClient(this.config, this.browserStorage, this.browserCrypto, this.logger, this.eventHandler, this.navigationClient, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.ApiId.acquireTokenPopup, this.performanceClient, this.nativeMessageHandler, serverParams.accountId, this.nativeStorage, cachedRequest.correlationId);\n            const { userRequestState } = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_16__.ProtocolUtils.parseRequestState(this.browserCrypto, state);\n            return nativeInteractionClient.acquireToken({\n                ...cachedRequest,\n                state: userRequestState,\n                prompt: undefined\n            }).finally(()=>{\n                this.browserStorage.cleanRequestByState(state);\n            });\n        }\n        // Hash contains known properties - handle and return in callback\n        const currentAuthority = this.browserStorage.getCachedAuthority(state);\n        if (!currentAuthority) {\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_13__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_14__.noCachedAuthorityError);\n        }\n        const authClient = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.invokeAsync)(this.createAuthCodeClient.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.PerformanceEvents.StandardInteractionClientCreateAuthCodeClient, this.logger, this.performanceClient, this.correlationId)({\n            serverTelemetryManager,\n            requestAuthority: currentAuthority\n        });\n        _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_17__.ThrottlingUtils.removeThrottle(this.browserStorage, this.config.auth.clientId, cachedRequest);\n        const interactionHandler = new _interaction_handler_RedirectHandler_mjs__WEBPACK_IMPORTED_MODULE_5__.RedirectHandler(authClient, this.browserStorage, cachedRequest, this.logger, this.performanceClient);\n        return interactionHandler.handleCodeResponse(serverParams, state);\n    }\n    /**\r\n     * Use to log out the current user, and redirect the user to the postLogoutRedirectUri.\r\n     * Default behaviour is to redirect the user to `window.location.href`.\r\n     * @param logoutRequest\r\n     */ async logout(logoutRequest) {\n        this.logger.verbose(\"logoutRedirect called\");\n        const validLogoutRequest = this.initializeLogoutRequest(logoutRequest);\n        const serverTelemetryManager = this.initializeServerTelemetryManager(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.ApiId.logout);\n        try {\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_4__.EventType.LOGOUT_START, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InteractionType.Redirect, logoutRequest);\n            // Clear cache on logout\n            await this.clearCacheOnLogout(validLogoutRequest.account);\n            const navigationOptions = {\n                apiId: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.ApiId.logout,\n                timeout: this.config.system.redirectNavigationTimeout,\n                noHistory: false\n            };\n            const authClient = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.invokeAsync)(this.createAuthCodeClient.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.PerformanceEvents.StandardInteractionClientCreateAuthCodeClient, this.logger, this.performanceClient, this.correlationId)({\n                serverTelemetryManager,\n                requestAuthority: logoutRequest && logoutRequest.authority,\n                requestExtraQueryParameters: logoutRequest?.extraQueryParameters,\n                account: logoutRequest && logoutRequest.account || undefined\n            });\n            if (authClient.authority.protocolMode === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_18__.ProtocolMode.OIDC) {\n                try {\n                    authClient.authority.endSessionEndpoint;\n                } catch  {\n                    if (validLogoutRequest.account?.homeAccountId) {\n                        void this.browserStorage.removeAccount(validLogoutRequest.account?.homeAccountId);\n                        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_4__.EventType.LOGOUT_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InteractionType.Redirect, validLogoutRequest);\n                        return;\n                    }\n                }\n            }\n            // Create logout string and navigate user window to logout.\n            const logoutUri = authClient.getLogoutUri(validLogoutRequest);\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_4__.EventType.LOGOUT_SUCCESS, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InteractionType.Redirect, validLogoutRequest);\n            // Check if onRedirectNavigate is implemented, and invoke it if so\n            if (logoutRequest && typeof logoutRequest.onRedirectNavigate === \"function\") {\n                const navigate = logoutRequest.onRedirectNavigate(logoutUri);\n                if (navigate !== false) {\n                    this.logger.verbose(\"Logout onRedirectNavigate did not return false, navigating\");\n                    // Ensure interaction is in progress\n                    if (!this.browserStorage.getInteractionInProgress()) {\n                        this.browserStorage.setInteractionInProgress(true);\n                    }\n                    await this.navigationClient.navigateExternal(logoutUri, navigationOptions);\n                    return;\n                } else {\n                    // Ensure interaction is not in progress\n                    this.browserStorage.setInteractionInProgress(false);\n                    this.logger.verbose(\"Logout onRedirectNavigate returned false, stopping navigation\");\n                }\n            } else {\n                // Ensure interaction is in progress\n                if (!this.browserStorage.getInteractionInProgress()) {\n                    this.browserStorage.setInteractionInProgress(true);\n                }\n                await this.navigationClient.navigateExternal(logoutUri, navigationOptions);\n                return;\n            }\n        } catch (e) {\n            if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.AuthError) {\n                e.setCorrelationId(this.correlationId);\n                serverTelemetryManager.cacheFailedRequest(e);\n            }\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_4__.EventType.LOGOUT_FAILURE, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InteractionType.Redirect, null, e);\n            this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_4__.EventType.LOGOUT_END, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InteractionType.Redirect);\n            throw e;\n        }\n        this.eventHandler.emitEvent(_event_EventType_mjs__WEBPACK_IMPORTED_MODULE_4__.EventType.LOGOUT_END, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_3__.InteractionType.Redirect);\n    }\n    /**\r\n     * Use to get the redirectStartPage either from request or use current window\r\n     * @param requestStartPage\r\n     */ getRedirectStartPage(requestStartPage) {\n        const redirectStartPage = requestStartPage || window.location.href;\n        return _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.UrlString.getAbsoluteUrl(redirectStartPage, (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_10__.getCurrentUri)());\n    }\n}\n //# sourceMappingURL=RedirectClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9SZWRpcmVjdENsaWVudC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDeUw7QUFDN0c7QUFDZTtBQUNkO0FBQzhCO0FBQ3hEO0FBQ29CO0FBQ0M7QUFDZTtBQUNiO0FBQ2lEO0FBRTNIOzs7Q0FHQyxHQUNELFNBQVM0QjtJQUNMLElBQUksSUFFeUQsRUFBRTtRQUMzRCxPQUFPSTtJQUNYO0lBQ0EsTUFBTUMsb0JBQW9CSixPQUFPQyxXQUFXLENBQUNDLGdCQUFnQixDQUFDO0lBQzlELE1BQU1HLGFBQWFELGtCQUFrQkUsTUFBTSxHQUNyQ0YsaUJBQWlCLENBQUMsRUFBRSxHQUNwQkQ7SUFDTixPQUFPRSxZQUFZRTtBQUN2QjtBQUNBLE1BQU1DLHVCQUF1QjNCLHFGQUF5QkE7SUFDbEQ0QixZQUFZQyxNQUFNLEVBQUVDLFdBQVcsRUFBRUMsYUFBYSxFQUFFQyxNQUFNLEVBQUVDLFlBQVksRUFBRUMsZ0JBQWdCLEVBQUVDLGlCQUFpQixFQUFFQyxpQkFBaUIsRUFBRUMsb0JBQW9CLEVBQUVDLGFBQWEsQ0FBRTtRQUMvSixLQUFLLENBQUNULFFBQVFDLGFBQWFDLGVBQWVDLFFBQVFDLGNBQWNDLGtCQUFrQkMsbUJBQW1CRSxzQkFBc0JDO1FBQzNILElBQUksQ0FBQ0MsYUFBYSxHQUFHSDtJQUN6QjtJQUNBOzs7S0FHQyxHQUNELE1BQU1JLGFBQWFDLE9BQU8sRUFBRTtRQUN4QixNQUFNQyxlQUFlLE1BQU1wRCx1RUFBV0EsQ0FBQyxJQUFJLENBQUNxRCw4QkFBOEIsQ0FBQ0MsSUFBSSxDQUFDLElBQUksR0FBR3JELHlFQUFpQkEsQ0FBQ3NELHVEQUF1RCxFQUFFLElBQUksQ0FBQ2IsTUFBTSxFQUFFLElBQUksQ0FBQ0csaUJBQWlCLEVBQUUsSUFBSSxDQUFDRyxhQUFhLEVBQUVHLFNBQVN4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QUNMLFdBQVc5QztnQkFDeEQ7WUFDSjtRQUNKLEVBQ0EsT0FBTzlCLEdBQUc7WUFDTixJQUFJQSxhQUFhbkcsaUVBQVNBLEVBQUU7Z0JBQ3hCbUcsRUFBRUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDdEQsYUFBYTtnQkFDckNnQix1QkFBdUJ1QyxrQkFBa0IsQ0FBQ0Y7WUFDOUM7WUFDQSxJQUFJLENBQUMxRCxZQUFZLENBQUM2QixTQUFTLENBQUNwRCwyREFBU0EsQ0FBQ21LLGNBQWMsRUFBRTVLLHdFQUFlQSxDQUFDNkMsUUFBUSxFQUFFLE1BQU02QztZQUN0RixJQUFJLENBQUMxRCxZQUFZLENBQUM2QixTQUFTLENBQUNwRCwyREFBU0EsQ0FBQ29LLFVBQVUsRUFBRTdLLHdFQUFlQSxDQUFDNkMsUUFBUTtZQUMxRSxNQUFNNkM7UUFDVjtRQUNBLElBQUksQ0FBQzFELFlBQVksQ0FBQzZCLFNBQVMsQ0FBQ3BELDJEQUFTQSxDQUFDb0ssVUFBVSxFQUFFN0ssd0VBQWVBLENBQUM2QyxRQUFRO0lBQzlFO0lBQ0E7OztLQUdDLEdBQ0RvQyxxQkFBcUI2RixnQkFBZ0IsRUFBRTtRQUNuQyxNQUFNOUYsb0JBQW9COEYsb0JBQW9CNUosT0FBTzZGLFFBQVEsQ0FBQ0MsSUFBSTtRQUNsRSxPQUFPdkgsaUVBQVNBLENBQUNzTCxjQUFjLENBQUMvRixtQkFBbUJ4RSx1RUFBYUE7SUFDcEU7QUFDSjtBQUUwQixDQUMxQiwyQ0FBMkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9SZWRpcmVjdENsaWVudC5tanM/MTEyMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IGludm9rZUFzeW5jLCBQZXJmb3JtYW5jZUV2ZW50cywgQXV0aEVycm9yLCBDb25zdGFudHMsIFVybFN0cmluZywgVXJsVXRpbHMsIFByb3RvY29sVXRpbHMsIFRocm90dGxpbmdVdGlscywgUHJvdG9jb2xNb2RlLCBTZXJ2ZXJSZXNwb25zZVR5cGUgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50IH0gZnJvbSAnLi9TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50Lm1qcyc7XG5pbXBvcnQgeyBJbnRlcmFjdGlvblR5cGUsIEFwaUlkLCBUZW1wb3JhcnlDYWNoZUtleXMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBSZWRpcmVjdEhhbmRsZXIgfSBmcm9tICcuLi9pbnRlcmFjdGlvbl9oYW5kbGVyL1JlZGlyZWN0SGFuZGxlci5tanMnO1xuaW1wb3J0IHsgcmVwbGFjZUhhc2gsIGlzSW5JZnJhbWUsIGdldEhvbWVwYWdlLCBjbGVhckhhc2gsIGdldEN1cnJlbnRVcmkgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyVXRpbHMubWpzJztcbmltcG9ydCB7IEV2ZW50VHlwZSB9IGZyb20gJy4uL2V2ZW50L0V2ZW50VHlwZS5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IE5hdGl2ZUludGVyYWN0aW9uQ2xpZW50IH0gZnJvbSAnLi9OYXRpdmVJbnRlcmFjdGlvbkNsaWVudC5tanMnO1xuaW1wb3J0IHsgTmF0aXZlTWVzc2FnZUhhbmRsZXIgfSBmcm9tICcuLi9icm9rZXIvbmF0aXZlQnJva2VyL05hdGl2ZU1lc3NhZ2VIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyB2YWxpZGF0ZUludGVyYWN0aW9uVHlwZSB9IGZyb20gJy4uL3Jlc3BvbnNlL1Jlc3BvbnNlSGFuZGxlci5tanMnO1xuaW1wb3J0IHsgbm9TdGF0ZUluSGFzaCwgbmF0aXZlQ29ubmVjdGlvbk5vdEVzdGFibGlzaGVkLCBub0NhY2hlZEF1dGhvcml0eUVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXROYXZpZ2F0aW9uVHlwZSgpIHtcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiIHx8XHJcbiAgICAgICAgdHlwZW9mIHdpbmRvdy5wZXJmb3JtYW5jZSA9PT0gXCJ1bmRlZmluZWRcIiB8fFxyXG4gICAgICAgIHR5cGVvZiB3aW5kb3cucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZSAhPT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IG5hdmlnYXRpb25FbnRyaWVzID0gd2luZG93LnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpO1xyXG4gICAgY29uc3QgbmF2aWdhdGlvbiA9IG5hdmlnYXRpb25FbnRyaWVzLmxlbmd0aFxyXG4gICAgICAgID8gbmF2aWdhdGlvbkVudHJpZXNbMF1cclxuICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgIHJldHVybiBuYXZpZ2F0aW9uPy50eXBlO1xyXG59XHJcbmNsYXNzIFJlZGlyZWN0Q2xpZW50IGV4dGVuZHMgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIHN0b3JhZ2VJbXBsLCBicm93c2VyQ3J5cHRvLCBsb2dnZXIsIGV2ZW50SGFuZGxlciwgbmF2aWdhdGlvbkNsaWVudCwgcGVyZm9ybWFuY2VDbGllbnQsIG5hdGl2ZVN0b3JhZ2VJbXBsLCBuYXRpdmVNZXNzYWdlSGFuZGxlciwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHN1cGVyKGNvbmZpZywgc3RvcmFnZUltcGwsIGJyb3dzZXJDcnlwdG8sIGxvZ2dlciwgZXZlbnRIYW5kbGVyLCBuYXZpZ2F0aW9uQ2xpZW50LCBwZXJmb3JtYW5jZUNsaWVudCwgbmF0aXZlTWVzc2FnZUhhbmRsZXIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHRoaXMubmF0aXZlU3RvcmFnZSA9IG5hdGl2ZVN0b3JhZ2VJbXBsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZWRpcmVjdHMgdGhlIHBhZ2UgdG8gdGhlIC9hdXRob3JpemUgZW5kcG9pbnQgb2YgdGhlIElEUFxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuKHJlcXVlc3QpIHtcclxuICAgICAgICBjb25zdCB2YWxpZFJlcXVlc3QgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdC5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50SW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0LCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5jb3JyZWxhdGlvbklkKShyZXF1ZXN0LCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QpO1xyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UudXBkYXRlQ2FjaGVFbnRyaWVzKHZhbGlkUmVxdWVzdC5zdGF0ZSwgdmFsaWRSZXF1ZXN0Lm5vbmNlLCB2YWxpZFJlcXVlc3QuYXV0aG9yaXR5LCB2YWxpZFJlcXVlc3QubG9naW5IaW50IHx8IFwiXCIsIHZhbGlkUmVxdWVzdC5hY2NvdW50IHx8IG51bGwpO1xyXG4gICAgICAgIGNvbnN0IHNlcnZlclRlbGVtZXRyeU1hbmFnZXIgPSB0aGlzLmluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKEFwaUlkLmFjcXVpcmVUb2tlblJlZGlyZWN0KTtcclxuICAgICAgICBjb25zdCBoYW5kbGVCYWNrQnV0dG9uID0gKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIENsZWFyIHRlbXBvcmFyeSBjYWNoZSBpZiB0aGUgYmFjayBidXR0b24gaXMgY2xpY2tlZCBkdXJpbmcgdGhlIHJlZGlyZWN0IGZsb3cuXHJcbiAgICAgICAgICAgIGlmIChldmVudC5wZXJzaXN0ZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJQYWdlIHdhcyByZXN0b3JlZCBmcm9tIGJhY2svZm9yd2FyZCBjYWNoZS4gQ2xlYXJpbmcgdGVtcG9yYXJ5IGNhY2hlLlwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UuY2xlYW5SZXF1ZXN0QnlTdGF0ZSh2YWxpZFJlcXVlc3Quc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5SRVNUT1JFX0ZST01fQkZDQUNIRSwgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIGF1dGggY29kZSByZXF1ZXN0IGFuZCBnZW5lcmF0ZSBQS0NFIHBhcmFtc1xyXG4gICAgICAgICAgICBjb25zdCBhdXRoQ29kZVJlcXVlc3QgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmluaXRpYWxpemVBdXRob3JpemF0aW9uQ29kZVJlcXVlc3QuYmluZCh0aGlzKSwgUGVyZm9ybWFuY2VFdmVudHMuU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEluaXRpYWxpemVBdXRob3JpemF0aW9uQ29kZVJlcXVlc3QsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmNvcnJlbGF0aW9uSWQpKHZhbGlkUmVxdWVzdCk7XHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGNsaWVudFxyXG4gICAgICAgICAgICBjb25zdCBhdXRoQ2xpZW50ID0gYXdhaXQgaW52b2tlQXN5bmModGhpcy5jcmVhdGVBdXRoQ29kZUNsaWVudC5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50Q3JlYXRlQXV0aENvZGVDbGllbnQsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmNvcnJlbGF0aW9uSWQpKHtcclxuICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0QXV0aG9yaXR5OiB2YWxpZFJlcXVlc3QuYXV0aG9yaXR5LFxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEF6dXJlQ2xvdWRPcHRpb25zOiB2YWxpZFJlcXVlc3QuYXp1cmVDbG91ZE9wdGlvbnMsXHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0RXh0cmFRdWVyeVBhcmFtZXRlcnM6IHZhbGlkUmVxdWVzdC5leHRyYVF1ZXJ5UGFyYW1ldGVycyxcclxuICAgICAgICAgICAgICAgIGFjY291bnQ6IHZhbGlkUmVxdWVzdC5hY2NvdW50LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHJlZGlyZWN0IGludGVyYWN0aW9uIGhhbmRsZXIuXHJcbiAgICAgICAgICAgIGNvbnN0IGludGVyYWN0aW9uSGFuZGxlciA9IG5ldyBSZWRpcmVjdEhhbmRsZXIoYXV0aENsaWVudCwgdGhpcy5icm93c2VyU3RvcmFnZSwgYXV0aENvZGVSZXF1ZXN0LCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBhY3F1aXJlIHRva2VuIHVybC5cclxuICAgICAgICAgICAgY29uc3QgbmF2aWdhdGVVcmwgPSBhd2FpdCBhdXRoQ2xpZW50LmdldEF1dGhDb2RlVXJsKHtcclxuICAgICAgICAgICAgICAgIC4uLnZhbGlkUmVxdWVzdCxcclxuICAgICAgICAgICAgICAgIG5hdGl2ZUJyb2tlcjogTmF0aXZlTWVzc2FnZUhhbmRsZXIuaXNOYXRpdmVBdmFpbGFibGUodGhpcy5jb25maWcsIHRoaXMubG9nZ2VyLCB0aGlzLm5hdGl2ZU1lc3NhZ2VIYW5kbGVyLCByZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lKSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlZGlyZWN0U3RhcnRQYWdlID0gdGhpcy5nZXRSZWRpcmVjdFN0YXJ0UGFnZShyZXF1ZXN0LnJlZGlyZWN0U3RhcnRQYWdlKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZVBpaShgUmVkaXJlY3Qgc3RhcnQgcGFnZTogJHtyZWRpcmVjdFN0YXJ0UGFnZX1gKTtcclxuICAgICAgICAgICAgLy8gQ2xlYXIgdGVtcG9yYXJ5IGNhY2hlIGlmIHRoZSBiYWNrIGJ1dHRvbiBpcyBjbGlja2VkIGR1cmluZyB0aGUgcmVkaXJlY3QgZmxvdy5cclxuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlc2hvd1wiLCBoYW5kbGVCYWNrQnV0dG9uKTtcclxuICAgICAgICAgICAgLy8gU2hvdyB0aGUgVUkgb25jZSB0aGUgdXJsIGhhcyBiZWVuIGNyZWF0ZWQuIFJlc3BvbnNlIHdpbGwgY29tZSBiYWNrIGluIHRoZSBoYXNoLCB3aGljaCB3aWxsIGJlIGhhbmRsZWQgaW4gdGhlIGhhbmRsZVJlZGlyZWN0Q2FsbGJhY2sgZnVuY3Rpb24uXHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBpbnRlcmFjdGlvbkhhbmRsZXIuaW5pdGlhdGVBdXRoUmVxdWVzdChuYXZpZ2F0ZVVybCwge1xyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGlvbkNsaWVudDogdGhpcy5uYXZpZ2F0aW9uQ2xpZW50LFxyXG4gICAgICAgICAgICAgICAgcmVkaXJlY3RUaW1lb3V0OiB0aGlzLmNvbmZpZy5zeXN0ZW0ucmVkaXJlY3ROYXZpZ2F0aW9uVGltZW91dCxcclxuICAgICAgICAgICAgICAgIHJlZGlyZWN0U3RhcnRQYWdlOiByZWRpcmVjdFN0YXJ0UGFnZSxcclxuICAgICAgICAgICAgICAgIG9uUmVkaXJlY3ROYXZpZ2F0ZTogcmVxdWVzdC5vblJlZGlyZWN0TmF2aWdhdGUgfHxcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRoLm9uUmVkaXJlY3ROYXZpZ2F0ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgQXV0aEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBlLnNldENvcnJlbGF0aW9uSWQodGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIuY2FjaGVGYWlsZWRSZXF1ZXN0KGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicGFnZXNob3dcIiwgaGFuZGxlQmFja0J1dHRvbik7XHJcbiAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UuY2xlYW5SZXF1ZXN0QnlTdGF0ZSh2YWxpZFJlcXVlc3Quc3RhdGUpO1xyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGlmIG5hdmlnYXRlVG9Mb2dpblJlcXVlc3RVcmwgaXMgc2V0LCBhbmQ6XHJcbiAgICAgKiAtIGlmIHRydWUsIHBlcmZvcm1zIGxvZ2ljIHRvIGNhY2hlIGFuZCBuYXZpZ2F0ZVxyXG4gICAgICogLSBpZiBmYWxzZSwgaGFuZGxlcyBoYXNoIHN0cmluZyBhbmQgcGFyc2VzIHJlc3BvbnNlXHJcbiAgICAgKiBAcGFyYW0gaGFzaCB7c3RyaW5nfSB1cmwgaGFzaFxyXG4gICAgICogQHBhcmFtIHBhcmVudE1lYXN1cmVtZW50IHtJblByb2dyZXNzUGVyZm9ybWFuY2VFdmVudH0gcGFyZW50IG1lYXN1cmVtZW50XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGhhbmRsZVJlZGlyZWN0UHJvbWlzZShoYXNoID0gXCJcIiwgcGFyZW50TWVhc3VyZW1lbnQpIHtcclxuICAgICAgICBjb25zdCBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyID0gdGhpcy5pbml0aWFsaXplU2VydmVyVGVsZW1ldHJ5TWFuYWdlcihBcGlJZC5oYW5kbGVSZWRpcmVjdFByb21pc2UpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5icm93c2VyU3RvcmFnZS5pc0ludGVyYWN0aW9uSW5Qcm9ncmVzcyh0cnVlKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImhhbmRsZVJlZGlyZWN0UHJvbWlzZSBjYWxsZWQgYnV0IHRoZXJlIGlzIG5vIGludGVyYWN0aW9uIGluIHByb2dyZXNzLCByZXR1cm5pbmcgbnVsbC5cIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBbc2VydmVyUGFyYW1zLCByZXNwb25zZVN0cmluZ10gPSB0aGlzLmdldFJlZGlyZWN0UmVzcG9uc2UoaGFzaCB8fCBcIlwiKTtcclxuICAgICAgICAgICAgaWYgKCFzZXJ2ZXJQYXJhbXMpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vdCBhIHJlY29nbml6ZWQgc2VydmVyIHJlc3BvbnNlIGhhc2ggb3IgaGFzaCBub3QgYXNzb2NpYXRlZCB3aXRoIGEgcmVkaXJlY3QgcmVxdWVzdFxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcImhhbmRsZVJlZGlyZWN0UHJvbWlzZSBkaWQgbm90IGRldGVjdCBhIHJlc3BvbnNlIGFzIGEgcmVzdWx0IG9mIGEgcmVkaXJlY3QuIENsZWFuaW5nIHRlbXBvcmFyeSBjYWNoZS5cIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLmNsZWFuUmVxdWVzdEJ5SW50ZXJhY3Rpb25UeXBlKEludGVyYWN0aW9uVHlwZS5SZWRpcmVjdCk7XHJcbiAgICAgICAgICAgICAgICAvLyBEbyBub3QgaW5zdHJ1bWVudCBcIm5vX3NlcnZlcl9yZXNwb25zZVwiIGlmIHVzZXIgY2xpY2tlZCBiYWNrIGJ1dHRvblxyXG4gICAgICAgICAgICAgICAgaWYgKGdldE5hdmlnYXRpb25UeXBlKCkgIT09IFwiYmFja19mb3J3YXJkXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRNZWFzdXJlbWVudC5ldmVudC5lcnJvckNvZGUgPSBcIm5vX3NlcnZlcl9yZXNwb25zZVwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkJhY2sgbmF2aWdhdGlvbiBldmVudCBkZXRlY3RlZC4gTXV0aW5nIG5vX3NlcnZlcl9yZXNwb25zZSBlcnJvclwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIG5hdmlnYXRlVG9Mb2dpblJlcXVlc3RVcmwgaXMgdHJ1ZSwgZ2V0IHRoZSB1cmwgd2hlcmUgdGhlIHJlZGlyZWN0IHJlcXVlc3Qgd2FzIGluaXRpYXRlZFxyXG4gICAgICAgICAgICBjb25zdCBsb2dpblJlcXVlc3RVcmwgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdldFRlbXBvcmFyeUNhY2hlKFRlbXBvcmFyeUNhY2hlS2V5cy5PUklHSU5fVVJJLCB0cnVlKSB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgICAgICBjb25zdCBsb2dpblJlcXVlc3RVcmxOb3JtYWxpemVkID0gVXJsU3RyaW5nLnJlbW92ZUhhc2hGcm9tVXJsKGxvZ2luUmVxdWVzdFVybCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRVcmxOb3JtYWxpemVkID0gVXJsU3RyaW5nLnJlbW92ZUhhc2hGcm9tVXJsKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgICAgICAgICAgaWYgKGxvZ2luUmVxdWVzdFVybE5vcm1hbGl6ZWQgPT09IGN1cnJlbnRVcmxOb3JtYWxpemVkICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRoLm5hdmlnYXRlVG9Mb2dpblJlcXVlc3RVcmwpIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGFyZSBvbiB0aGUgcGFnZSB3ZSBuZWVkIHRvIG5hdmlnYXRlIHRvIC0gaGFuZGxlIGhhc2hcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJDdXJyZW50IHBhZ2UgaXMgbG9naW5SZXF1ZXN0VXJsLCBoYW5kbGluZyByZXNwb25zZVwiKTtcclxuICAgICAgICAgICAgICAgIGlmIChsb2dpblJlcXVlc3RVcmwuaW5kZXhPZihcIiNcIikgPiAtMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFJlcGxhY2UgY3VycmVudCBoYXNoIHdpdGggbm9uLW1zYWwgaGFzaCwgaWYgcHJlc2VudFxyXG4gICAgICAgICAgICAgICAgICAgIHJlcGxhY2VIYXNoKGxvZ2luUmVxdWVzdFVybCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVIYXNoUmVzdWx0ID0gYXdhaXQgdGhpcy5oYW5kbGVSZXNwb25zZShzZXJ2ZXJQYXJhbXMsIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhhbmRsZUhhc2hSZXN1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuY29uZmlnLmF1dGgubmF2aWdhdGVUb0xvZ2luUmVxdWVzdFVybCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIk5hdmlnYXRlVG9Mb2dpblJlcXVlc3RVcmwgc2V0IHRvIGZhbHNlLCBoYW5kbGluZyByZXNwb25zZVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmhhbmRsZVJlc3BvbnNlKHNlcnZlclBhcmFtcywgc2VydmVyVGVsZW1ldHJ5TWFuYWdlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoIWlzSW5JZnJhbWUoKSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcuc3lzdGVtLmFsbG93UmVkaXJlY3RJbklmcmFtZSkge1xyXG4gICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAqIFJldHVybmVkIGZyb20gYXV0aG9yaXR5IHVzaW5nIHJlZGlyZWN0IC0gbmVlZCB0byBwZXJmb3JtIG5hdmlnYXRpb24gYmVmb3JlIHByb2Nlc3NpbmcgcmVzcG9uc2VcclxuICAgICAgICAgICAgICAgICAqIENhY2hlIHRoZSBoYXNoIHRvIGJlIHJldHJpZXZlZCBhZnRlciB0aGUgbmV4dCByZWRpcmVjdFxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldFRlbXBvcmFyeUNhY2hlKFRlbXBvcmFyeUNhY2hlS2V5cy5VUkxfSEFTSCwgcmVzcG9uc2VTdHJpbmcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGlvbk9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBpSWQ6IEFwaUlkLmhhbmRsZVJlZGlyZWN0UHJvbWlzZSxcclxuICAgICAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLmNvbmZpZy5zeXN0ZW0ucmVkaXJlY3ROYXZpZ2F0aW9uVGltZW91dCxcclxuICAgICAgICAgICAgICAgICAgICBub0hpc3Rvcnk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAgICAgKiBEZWZhdWx0IGJlaGF2aW9yIGlzIHRvIHJlZGlyZWN0IHRvIHRoZSBzdGFydCBwYWdlIGFuZCBub3QgcHJvY2VzcyB0aGUgaGFzaCBub3cuXHJcbiAgICAgICAgICAgICAgICAgKiBUaGUgc3RhcnQgcGFnZSBpcyBleHBlY3RlZCB0byBhbHNvIGNhbGwgaGFuZGxlUmVkaXJlY3RQcm9taXNlIHdoaWNoIHdpbGwgcHJvY2VzcyB0aGUgaGFzaCBpbiBvbmUgb2YgdGhlIGNoZWNrcyBhYm92ZS5cclxuICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgbGV0IHByb2Nlc3NIYXNoT25SZWRpcmVjdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWxvZ2luUmVxdWVzdFVybCB8fCBsb2dpblJlcXVlc3RVcmwgPT09IFwibnVsbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVkaXJlY3QgdG8gaG9tZSBwYWdlIGlmIGxvZ2luIHJlcXVlc3QgdXJsIGlzIG51bGwgKHJlYWwgbnVsbCBvciB0aGUgc3RyaW5nIG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaG9tZXBhZ2UgPSBnZXRIb21lcGFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIENhY2hlIHRoZSBob21lcGFnZSB1bmRlciBPUklHSU5fVVJJIHRvIGVuc3VyZSBjYWNoZWQgaGFzaCBpcyBwcm9jZXNzZWQgb24gaG9tZXBhZ2VcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldFRlbXBvcmFyeUNhY2hlKFRlbXBvcmFyeUNhY2hlS2V5cy5PUklHSU5fVVJJLCBob21lcGFnZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZyhcIlVuYWJsZSB0byBnZXQgdmFsaWQgbG9naW4gcmVxdWVzdCB1cmwgZnJvbSBjYWNoZSwgcmVkaXJlY3RpbmcgdG8gaG9tZSBwYWdlXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NIYXNoT25SZWRpcmVjdCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubmF2aWdhdGlvbkNsaWVudC5uYXZpZ2F0ZUludGVybmFsKGhvbWVwYWdlLCBuYXZpZ2F0aW9uT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBOYXZpZ2F0ZSB0byBwYWdlIHRoYXQgaW5pdGlhdGVkIHRoZSByZWRpcmVjdCByZXF1ZXN0XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShgTmF2aWdhdGluZyB0byBsb2dpblJlcXVlc3RVcmw6ICR7bG9naW5SZXF1ZXN0VXJsfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NIYXNoT25SZWRpcmVjdCA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubmF2aWdhdGlvbkNsaWVudC5uYXZpZ2F0ZUludGVybmFsKGxvZ2luUmVxdWVzdFVybCwgbmF2aWdhdGlvbk9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gSWYgbmF2aWdhdGVJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiByZXR1cm5zIGZhbHNlLCBoYW5kbGUgdGhlIGhhc2ggbm93XHJcbiAgICAgICAgICAgICAgICBpZiAoIXByb2Nlc3NIYXNoT25SZWRpcmVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmhhbmRsZVJlc3BvbnNlKHNlcnZlclBhcmFtcywgc2VydmVyVGVsZW1ldHJ5TWFuYWdlcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgQXV0aEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBlLnNldENvcnJlbGF0aW9uSWQodGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIuY2FjaGVGYWlsZWRSZXF1ZXN0KGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UuY2xlYW5SZXF1ZXN0QnlJbnRlcmFjdGlvblR5cGUoSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0KTtcclxuICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgdGhlIHJlc3BvbnNlIGhhc2ggZm9yIGEgcmVkaXJlY3QgcmVxdWVzdFxyXG4gICAgICogUmV0dXJucyBudWxsIGlmIGludGVyYWN0aW9uVHlwZSBpbiB0aGUgc3RhdGUgdmFsdWUgaXMgbm90IFwicmVkaXJlY3RcIiBvciB0aGUgaGFzaCBkb2VzIG5vdCBjb250YWluIGtub3duIHByb3BlcnRpZXNcclxuICAgICAqIEBwYXJhbSBoYXNoXHJcbiAgICAgKi9cclxuICAgIGdldFJlZGlyZWN0UmVzcG9uc2UodXNlclByb3ZpZGVkUmVzcG9uc2UpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiZ2V0UmVkaXJlY3RSZXNwb25zZUhhc2ggY2FsbGVkXCIpO1xyXG4gICAgICAgIC8vIEdldCBjdXJyZW50IGxvY2F0aW9uIGhhc2ggZnJvbSB3aW5kb3cgb3IgY2FjaGUuXHJcbiAgICAgICAgbGV0IHJlc3BvbnNlU3RyaW5nID0gdXNlclByb3ZpZGVkUmVzcG9uc2U7XHJcbiAgICAgICAgaWYgKCFyZXNwb25zZVN0cmluZykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcuYXV0aC5PSURDT3B0aW9ucy5zZXJ2ZXJSZXNwb25zZVR5cGUgPT09XHJcbiAgICAgICAgICAgICAgICBTZXJ2ZXJSZXNwb25zZVR5cGUuUVVFUlkpIHtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RyaW5nID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RyaW5nID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlID0gVXJsVXRpbHMuZ2V0RGVzZXJpYWxpemVkUmVzcG9uc2UocmVzcG9uc2VTdHJpbmcpO1xyXG4gICAgICAgIGlmIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVJbnRlcmFjdGlvblR5cGUocmVzcG9uc2UsIHRoaXMuYnJvd3NlckNyeXB0bywgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBdXRoRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihgSW50ZXJhY3Rpb24gdHlwZSB2YWxpZGF0aW9uIGZhaWxlZCBkdWUgdG8gJHtlLmVycm9yQ29kZX06ICR7ZS5lcnJvck1lc3NhZ2V9YCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gW251bGwsIFwiXCJdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNsZWFySGFzaCh3aW5kb3cpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiSGFzaCBjb250YWlucyBrbm93biBwcm9wZXJ0aWVzLCByZXR1cm5pbmcgcmVzcG9uc2UgaGFzaFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIFtyZXNwb25zZSwgcmVzcG9uc2VTdHJpbmddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjYWNoZWRIYXNoID0gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRUZW1wb3JhcnlDYWNoZShUZW1wb3JhcnlDYWNoZUtleXMuVVJMX0hBU0gsIHRydWUpO1xyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UucmVtb3ZlSXRlbSh0aGlzLmJyb3dzZXJTdG9yYWdlLmdlbmVyYXRlQ2FjaGVLZXkoVGVtcG9yYXJ5Q2FjaGVLZXlzLlVSTF9IQVNIKSk7XHJcbiAgICAgICAgaWYgKGNhY2hlZEhhc2gpIHtcclxuICAgICAgICAgICAgcmVzcG9uc2UgPSBVcmxVdGlscy5nZXREZXNlcmlhbGl6ZWRSZXNwb25zZShjYWNoZWRIYXNoKTtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiSGFzaCBkb2VzIG5vdCBjb250YWluIGtub3duIHByb3BlcnRpZXMsIHJldHVybmluZyBjYWNoZWQgaGFzaFwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbcmVzcG9uc2UsIGNhY2hlZEhhc2hdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBbbnVsbCwgXCJcIl07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyBpZiBoYXNoIGV4aXN0cyBhbmQgaGFuZGxlcyBpbiB3aW5kb3cuXHJcbiAgICAgKiBAcGFyYW0gaGFzaFxyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGhhbmRsZVJlc3BvbnNlKHNlcnZlclBhcmFtcywgc2VydmVyVGVsZW1ldHJ5TWFuYWdlcikge1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gc2VydmVyUGFyYW1zLnN0YXRlO1xyXG4gICAgICAgIGlmICghc3RhdGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihub1N0YXRlSW5IYXNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgY2FjaGVkUmVxdWVzdCA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0Q2FjaGVkUmVxdWVzdChzdGF0ZSk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImhhbmRsZVJlc3BvbnNlIGNhbGxlZCwgcmV0cmlldmVkIGNhY2hlZCByZXF1ZXN0XCIpO1xyXG4gICAgICAgIGlmIChzZXJ2ZXJQYXJhbXMuYWNjb3VudElkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJBY2NvdW50IGlkIGZvdW5kIGluIGhhc2gsIGNhbGxpbmcgV0FNIGZvciB0b2tlblwiKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm5hdGl2ZU1lc3NhZ2VIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVCcm93c2VyQXV0aEVycm9yKG5hdGl2ZUNvbm5lY3Rpb25Ob3RFc3RhYmxpc2hlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbmF0aXZlSW50ZXJhY3Rpb25DbGllbnQgPSBuZXcgTmF0aXZlSW50ZXJhY3Rpb25DbGllbnQodGhpcy5jb25maWcsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIHRoaXMuYnJvd3NlckNyeXB0bywgdGhpcy5sb2dnZXIsIHRoaXMuZXZlbnRIYW5kbGVyLCB0aGlzLm5hdmlnYXRpb25DbGllbnQsIEFwaUlkLmFjcXVpcmVUb2tlblBvcHVwLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLm5hdGl2ZU1lc3NhZ2VIYW5kbGVyLCBzZXJ2ZXJQYXJhbXMuYWNjb3VudElkLCB0aGlzLm5hdGl2ZVN0b3JhZ2UsIGNhY2hlZFJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHsgdXNlclJlcXVlc3RTdGF0ZSB9ID0gUHJvdG9jb2xVdGlscy5wYXJzZVJlcXVlc3RTdGF0ZSh0aGlzLmJyb3dzZXJDcnlwdG8sIHN0YXRlKTtcclxuICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUludGVyYWN0aW9uQ2xpZW50XHJcbiAgICAgICAgICAgICAgICAuYWNxdWlyZVRva2VuKHtcclxuICAgICAgICAgICAgICAgIC4uLmNhY2hlZFJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogdXNlclJlcXVlc3RTdGF0ZSxcclxuICAgICAgICAgICAgICAgIHByb21wdDogdW5kZWZpbmVkLCAvLyBTZXJ2ZXIgc2hvdWxkIGhhbmRsZSB0aGUgcHJvbXB0LCBpZGVhbGx5IG5hdGl2ZSBicm9rZXIgY2FuIGRvIHRoaXMgcGFydCBzaWxlbnRseVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5jbGVhblJlcXVlc3RCeVN0YXRlKHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEhhc2ggY29udGFpbnMga25vd24gcHJvcGVydGllcyAtIGhhbmRsZSBhbmQgcmV0dXJuIGluIGNhbGxiYWNrXHJcbiAgICAgICAgY29uc3QgY3VycmVudEF1dGhvcml0eSA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0Q2FjaGVkQXV0aG9yaXR5KHN0YXRlKTtcclxuICAgICAgICBpZiAoIWN1cnJlbnRBdXRob3JpdHkpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihub0NhY2hlZEF1dGhvcml0eUVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYXV0aENsaWVudCA9IGF3YWl0IGludm9rZUFzeW5jKHRoaXMuY3JlYXRlQXV0aENvZGVDbGllbnQuYmluZCh0aGlzKSwgUGVyZm9ybWFuY2VFdmVudHMuU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudENyZWF0ZUF1dGhDb2RlQ2xpZW50LCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5jb3JyZWxhdGlvbklkKSh7IHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIHJlcXVlc3RBdXRob3JpdHk6IGN1cnJlbnRBdXRob3JpdHkgfSk7XHJcbiAgICAgICAgVGhyb3R0bGluZ1V0aWxzLnJlbW92ZVRocm90dGxlKHRoaXMuYnJvd3NlclN0b3JhZ2UsIHRoaXMuY29uZmlnLmF1dGguY2xpZW50SWQsIGNhY2hlZFJlcXVlc3QpO1xyXG4gICAgICAgIGNvbnN0IGludGVyYWN0aW9uSGFuZGxlciA9IG5ldyBSZWRpcmVjdEhhbmRsZXIoYXV0aENsaWVudCwgdGhpcy5icm93c2VyU3RvcmFnZSwgY2FjaGVkUmVxdWVzdCwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQpO1xyXG4gICAgICAgIHJldHVybiBpbnRlcmFjdGlvbkhhbmRsZXIuaGFuZGxlQ29kZVJlc3BvbnNlKHNlcnZlclBhcmFtcywgc3RhdGUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2UgdG8gbG9nIG91dCB0aGUgY3VycmVudCB1c2VyLCBhbmQgcmVkaXJlY3QgdGhlIHVzZXIgdG8gdGhlIHBvc3RMb2dvdXRSZWRpcmVjdFVyaS5cclxuICAgICAqIERlZmF1bHQgYmVoYXZpb3VyIGlzIHRvIHJlZGlyZWN0IHRoZSB1c2VyIHRvIGB3aW5kb3cubG9jYXRpb24uaHJlZmAuXHJcbiAgICAgKiBAcGFyYW0gbG9nb3V0UmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBsb2dvdXQobG9nb3V0UmVxdWVzdCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJsb2dvdXRSZWRpcmVjdCBjYWxsZWRcIik7XHJcbiAgICAgICAgY29uc3QgdmFsaWRMb2dvdXRSZXF1ZXN0ID0gdGhpcy5pbml0aWFsaXplTG9nb3V0UmVxdWVzdChsb2dvdXRSZXF1ZXN0KTtcclxuICAgICAgICBjb25zdCBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyID0gdGhpcy5pbml0aWFsaXplU2VydmVyVGVsZW1ldHJ5TWFuYWdlcihBcGlJZC5sb2dvdXQpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuTE9HT1VUX1NUQVJULCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QsIGxvZ291dFJlcXVlc3QpO1xyXG4gICAgICAgICAgICAvLyBDbGVhciBjYWNoZSBvbiBsb2dvdXRcclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jbGVhckNhY2hlT25Mb2dvdXQodmFsaWRMb2dvdXRSZXF1ZXN0LmFjY291bnQpO1xyXG4gICAgICAgICAgICBjb25zdCBuYXZpZ2F0aW9uT3B0aW9ucyA9IHtcclxuICAgICAgICAgICAgICAgIGFwaUlkOiBBcGlJZC5sb2dvdXQsXHJcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiB0aGlzLmNvbmZpZy5zeXN0ZW0ucmVkaXJlY3ROYXZpZ2F0aW9uVGltZW91dCxcclxuICAgICAgICAgICAgICAgIG5vSGlzdG9yeTogZmFsc2UsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IGF1dGhDbGllbnQgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmNyZWF0ZUF1dGhDb2RlQ2xpZW50LmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRDcmVhdGVBdXRoQ29kZUNsaWVudCwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHRoaXMuY29ycmVsYXRpb25JZCkoe1xyXG4gICAgICAgICAgICAgICAgc2VydmVyVGVsZW1ldHJ5TWFuYWdlcixcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBdXRob3JpdHk6IGxvZ291dFJlcXVlc3QgJiYgbG9nb3V0UmVxdWVzdC5hdXRob3JpdHksXHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0RXh0cmFRdWVyeVBhcmFtZXRlcnM6IGxvZ291dFJlcXVlc3Q/LmV4dHJhUXVlcnlQYXJhbWV0ZXJzLFxyXG4gICAgICAgICAgICAgICAgYWNjb3VudDogKGxvZ291dFJlcXVlc3QgJiYgbG9nb3V0UmVxdWVzdC5hY2NvdW50KSB8fCB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoYXV0aENsaWVudC5hdXRob3JpdHkucHJvdG9jb2xNb2RlID09PSBQcm90b2NvbE1vZGUuT0lEQykge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBhdXRoQ2xpZW50LmF1dGhvcml0eS5lbmRTZXNzaW9uRW5kcG9pbnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbGlkTG9nb3V0UmVxdWVzdC5hY2NvdW50Py5ob21lQWNjb3VudElkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5icm93c2VyU3RvcmFnZS5yZW1vdmVBY2NvdW50KHZhbGlkTG9nb3V0UmVxdWVzdC5hY2NvdW50Py5ob21lQWNjb3VudElkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5ldmVudEhhbmRsZXIuZW1pdEV2ZW50KEV2ZW50VHlwZS5MT0dPVVRfU1VDQ0VTUywgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0LCB2YWxpZExvZ291dFJlcXVlc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIENyZWF0ZSBsb2dvdXQgc3RyaW5nIGFuZCBuYXZpZ2F0ZSB1c2VyIHdpbmRvdyB0byBsb2dvdXQuXHJcbiAgICAgICAgICAgIGNvbnN0IGxvZ291dFVyaSA9IGF1dGhDbGllbnQuZ2V0TG9nb3V0VXJpKHZhbGlkTG9nb3V0UmVxdWVzdCk7XHJcbiAgICAgICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuTE9HT1VUX1NVQ0NFU1MsIEludGVyYWN0aW9uVHlwZS5SZWRpcmVjdCwgdmFsaWRMb2dvdXRSZXF1ZXN0KTtcclxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgb25SZWRpcmVjdE5hdmlnYXRlIGlzIGltcGxlbWVudGVkLCBhbmQgaW52b2tlIGl0IGlmIHNvXHJcbiAgICAgICAgICAgIGlmIChsb2dvdXRSZXF1ZXN0ICYmXHJcbiAgICAgICAgICAgICAgICB0eXBlb2YgbG9nb3V0UmVxdWVzdC5vblJlZGlyZWN0TmF2aWdhdGUgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbmF2aWdhdGUgPSBsb2dvdXRSZXF1ZXN0Lm9uUmVkaXJlY3ROYXZpZ2F0ZShsb2dvdXRVcmkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5hdmlnYXRlICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJMb2dvdXQgb25SZWRpcmVjdE5hdmlnYXRlIGRpZCBub3QgcmV0dXJuIGZhbHNlLCBuYXZpZ2F0aW5nXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBpbnRlcmFjdGlvbiBpcyBpbiBwcm9ncmVzc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5icm93c2VyU3RvcmFnZS5nZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEludGVyYWN0aW9uSW5Qcm9ncmVzcyh0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5uYXZpZ2F0aW9uQ2xpZW50Lm5hdmlnYXRlRXh0ZXJuYWwobG9nb3V0VXJpLCBuYXZpZ2F0aW9uT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRW5zdXJlIGludGVyYWN0aW9uIGlzIG5vdCBpbiBwcm9ncmVzc1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0SW50ZXJhY3Rpb25JblByb2dyZXNzKGZhbHNlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiTG9nb3V0IG9uUmVkaXJlY3ROYXZpZ2F0ZSByZXR1cm5lZCBmYWxzZSwgc3RvcHBpbmcgbmF2aWdhdGlvblwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEVuc3VyZSBpbnRlcmFjdGlvbiBpcyBpbiBwcm9ncmVzc1xyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmJyb3dzZXJTdG9yYWdlLmdldEludGVyYWN0aW9uSW5Qcm9ncmVzcygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5zZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3ModHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLm5hdmlnYXRpb25DbGllbnQubmF2aWdhdGVFeHRlcm5hbChsb2dvdXRVcmksIG5hdmlnYXRpb25PcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEF1dGhFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgZS5zZXRDb3JyZWxhdGlvbklkKHRoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLmNhY2hlRmFpbGVkUmVxdWVzdChlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkxPR09VVF9GQUlMVVJFLCBJbnRlcmFjdGlvblR5cGUuUmVkaXJlY3QsIG51bGwsIGUpO1xyXG4gICAgICAgICAgICB0aGlzLmV2ZW50SGFuZGxlci5lbWl0RXZlbnQoRXZlbnRUeXBlLkxPR09VVF9FTkQsIEludGVyYWN0aW9uVHlwZS5SZWRpcmVjdCk7XHJcbiAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVyLmVtaXRFdmVudChFdmVudFR5cGUuTE9HT1VUX0VORCwgSW50ZXJhY3Rpb25UeXBlLlJlZGlyZWN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXNlIHRvIGdldCB0aGUgcmVkaXJlY3RTdGFydFBhZ2UgZWl0aGVyIGZyb20gcmVxdWVzdCBvciB1c2UgY3VycmVudCB3aW5kb3dcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0U3RhcnRQYWdlXHJcbiAgICAgKi9cclxuICAgIGdldFJlZGlyZWN0U3RhcnRQYWdlKHJlcXVlc3RTdGFydFBhZ2UpIHtcclxuICAgICAgICBjb25zdCByZWRpcmVjdFN0YXJ0UGFnZSA9IHJlcXVlc3RTdGFydFBhZ2UgfHwgd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICAgICAgcmV0dXJuIFVybFN0cmluZy5nZXRBYnNvbHV0ZVVybChyZWRpcmVjdFN0YXJ0UGFnZSwgZ2V0Q3VycmVudFVyaSgpKTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBSZWRpcmVjdENsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVkaXJlY3RDbGllbnQubWpzLm1hcFxuIl0sIm5hbWVzIjpbImludm9rZUFzeW5jIiwiUGVyZm9ybWFuY2VFdmVudHMiLCJBdXRoRXJyb3IiLCJDb25zdGFudHMiLCJVcmxTdHJpbmciLCJVcmxVdGlscyIsIlByb3RvY29sVXRpbHMiLCJUaHJvdHRsaW5nVXRpbHMiLCJQcm90b2NvbE1vZGUiLCJTZXJ2ZXJSZXNwb25zZVR5cGUiLCJTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50IiwiSW50ZXJhY3Rpb25UeXBlIiwiQXBpSWQiLCJUZW1wb3JhcnlDYWNoZUtleXMiLCJSZWRpcmVjdEhhbmRsZXIiLCJyZXBsYWNlSGFzaCIsImlzSW5JZnJhbWUiLCJnZXRIb21lcGFnZSIsImNsZWFySGFzaCIsImdldEN1cnJlbnRVcmkiLCJFdmVudFR5cGUiLCJjcmVhdGVCcm93c2VyQXV0aEVycm9yIiwiTmF0aXZlSW50ZXJhY3Rpb25DbGllbnQiLCJOYXRpdmVNZXNzYWdlSGFuZGxlciIsInZhbGlkYXRlSW50ZXJhY3Rpb25UeXBlIiwibm9TdGF0ZUluSGFzaCIsIm5hdGl2ZUNvbm5lY3Rpb25Ob3RFc3RhYmxpc2hlZCIsIm5vQ2FjaGVkQXV0aG9yaXR5RXJyb3IiLCJnZXROYXZpZ2F0aW9uVHlwZSIsIndpbmRvdyIsInBlcmZvcm1hbmNlIiwiZ2V0RW50cmllc0J5VHlwZSIsInVuZGVmaW5lZCIsIm5hdmlnYXRpb25FbnRyaWVzIiwibmF2aWdhdGlvbiIsImxlbmd0aCIsInR5cGUiLCJSZWRpcmVjdENsaWVudCIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwic3RvcmFnZUltcGwiLCJicm93c2VyQ3J5cHRvIiwibG9nZ2VyIiwiZXZlbnRIYW5kbGVyIiwibmF2aWdhdGlvbkNsaWVudCIsInBlcmZvcm1hbmNlQ2xpZW50IiwibmF0aXZlU3RvcmFnZUltcGwiLCJuYXRpdmVNZXNzYWdlSGFuZGxlciIsImNvcnJlbGF0aW9uSWQiLCJuYXRpdmVTdG9yYWdlIiwiYWNxdWlyZVRva2VuIiwicmVxdWVzdCIsInZhbGlkUmVxdWVzdCIsImluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdCIsImJpbmQiLCJTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50SW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0IiwiUmVkaXJlY3QiLCJicm93c2VyU3RvcmFnZSIsInVwZGF0ZUNhY2hlRW50cmllcyIsInN0YXRlIiwibm9uY2UiLCJhdXRob3JpdHkiLCJsb2dpbkhpbnQiLCJhY2NvdW50Iiwic2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsImluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyIiwiYWNxdWlyZVRva2VuUmVkaXJlY3QiLCJoYW5kbGVCYWNrQnV0dG9uIiwiZXZlbnQiLCJwZXJzaXN0ZWQiLCJ2ZXJib3NlIiwiY2xlYW5SZXF1ZXN0QnlTdGF0ZSIsImVtaXRFdmVudCIsIlJFU1RPUkVfRlJPTV9CRkNBQ0hFIiwiYXV0aENvZGVSZXF1ZXN0IiwiaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25Db2RlUmVxdWVzdCIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRJbml0aWFsaXplQXV0aG9yaXphdGlvbkNvZGVSZXF1ZXN0IiwiYXV0aENsaWVudCIsImNyZWF0ZUF1dGhDb2RlQ2xpZW50IiwiU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudENyZWF0ZUF1dGhDb2RlQ2xpZW50IiwicmVxdWVzdEF1dGhvcml0eSIsInJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucyIsImF6dXJlQ2xvdWRPcHRpb25zIiwicmVxdWVzdEV4dHJhUXVlcnlQYXJhbWV0ZXJzIiwiZXh0cmFRdWVyeVBhcmFtZXRlcnMiLCJpbnRlcmFjdGlvbkhhbmRsZXIiLCJuYXZpZ2F0ZVVybCIsImdldEF1dGhDb2RlVXJsIiwibmF0aXZlQnJva2VyIiwiaXNOYXRpdmVBdmFpbGFibGUiLCJhdXRoZW50aWNhdGlvblNjaGVtZSIsInJlZGlyZWN0U3RhcnRQYWdlIiwiZ2V0UmVkaXJlY3RTdGFydFBhZ2UiLCJ2ZXJib3NlUGlpIiwiYWRkRXZlbnRMaXN0ZW5lciIsImluaXRpYXRlQXV0aFJlcXVlc3QiLCJyZWRpcmVjdFRpbWVvdXQiLCJzeXN0ZW0iLCJyZWRpcmVjdE5hdmlnYXRpb25UaW1lb3V0Iiwib25SZWRpcmVjdE5hdmlnYXRlIiwiYXV0aCIsImUiLCJzZXRDb3JyZWxhdGlvbklkIiwiY2FjaGVGYWlsZWRSZXF1ZXN0IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhhbmRsZVJlZGlyZWN0UHJvbWlzZSIsImhhc2giLCJwYXJlbnRNZWFzdXJlbWVudCIsImlzSW50ZXJhY3Rpb25JblByb2dyZXNzIiwiaW5mbyIsInNlcnZlclBhcmFtcyIsInJlc3BvbnNlU3RyaW5nIiwiZ2V0UmVkaXJlY3RSZXNwb25zZSIsImNsZWFuUmVxdWVzdEJ5SW50ZXJhY3Rpb25UeXBlIiwiZXJyb3JDb2RlIiwibG9naW5SZXF1ZXN0VXJsIiwiZ2V0VGVtcG9yYXJ5Q2FjaGUiLCJPUklHSU5fVVJJIiwiRU1QVFlfU1RSSU5HIiwibG9naW5SZXF1ZXN0VXJsTm9ybWFsaXplZCIsInJlbW92ZUhhc2hGcm9tVXJsIiwiY3VycmVudFVybE5vcm1hbGl6ZWQiLCJsb2NhdGlvbiIsImhyZWYiLCJuYXZpZ2F0ZVRvTG9naW5SZXF1ZXN0VXJsIiwiaW5kZXhPZiIsImhhbmRsZUhhc2hSZXN1bHQiLCJoYW5kbGVSZXNwb25zZSIsImFsbG93UmVkaXJlY3RJbklmcmFtZSIsInNldFRlbXBvcmFyeUNhY2hlIiwiVVJMX0hBU0giLCJuYXZpZ2F0aW9uT3B0aW9ucyIsImFwaUlkIiwidGltZW91dCIsIm5vSGlzdG9yeSIsInByb2Nlc3NIYXNoT25SZWRpcmVjdCIsImhvbWVwYWdlIiwid2FybmluZyIsIm5hdmlnYXRlSW50ZXJuYWwiLCJ1c2VyUHJvdmlkZWRSZXNwb25zZSIsIk9JRENPcHRpb25zIiwic2VydmVyUmVzcG9uc2VUeXBlIiwiUVVFUlkiLCJzZWFyY2giLCJyZXNwb25zZSIsImdldERlc2VyaWFsaXplZFJlc3BvbnNlIiwiZXJyb3IiLCJlcnJvck1lc3NhZ2UiLCJjYWNoZWRIYXNoIiwicmVtb3ZlSXRlbSIsImdlbmVyYXRlQ2FjaGVLZXkiLCJjYWNoZWRSZXF1ZXN0IiwiZ2V0Q2FjaGVkUmVxdWVzdCIsImFjY291bnRJZCIsIm5hdGl2ZUludGVyYWN0aW9uQ2xpZW50IiwiYWNxdWlyZVRva2VuUG9wdXAiLCJ1c2VyUmVxdWVzdFN0YXRlIiwicGFyc2VSZXF1ZXN0U3RhdGUiLCJwcm9tcHQiLCJmaW5hbGx5IiwiY3VycmVudEF1dGhvcml0eSIsImdldENhY2hlZEF1dGhvcml0eSIsInJlbW92ZVRocm90dGxlIiwiY2xpZW50SWQiLCJoYW5kbGVDb2RlUmVzcG9uc2UiLCJsb2dvdXQiLCJsb2dvdXRSZXF1ZXN0IiwidmFsaWRMb2dvdXRSZXF1ZXN0IiwiaW5pdGlhbGl6ZUxvZ291dFJlcXVlc3QiLCJMT0dPVVRfU1RBUlQiLCJjbGVhckNhY2hlT25Mb2dvdXQiLCJwcm90b2NvbE1vZGUiLCJPSURDIiwiZW5kU2Vzc2lvbkVuZHBvaW50IiwiaG9tZUFjY291bnRJZCIsInJlbW92ZUFjY291bnQiLCJMT0dPVVRfU1VDQ0VTUyIsImxvZ291dFVyaSIsImdldExvZ291dFVyaSIsIm5hdmlnYXRlIiwiZ2V0SW50ZXJhY3Rpb25JblByb2dyZXNzIiwic2V0SW50ZXJhY3Rpb25JblByb2dyZXNzIiwibmF2aWdhdGVFeHRlcm5hbCIsIkxPR09VVF9GQUlMVVJFIiwiTE9HT1VUX0VORCIsInJlcXVlc3RTdGFydFBhZ2UiLCJnZXRBYnNvbHV0ZVVybCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/RedirectClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentAuthCodeClient.mjs":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_client/SilentAuthCodeClient.mjs ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SilentAuthCodeClient: () => (/* binding */ SilentAuthCodeClient)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _StandardInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StandardInteractionClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/StandardInteractionClient.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _HybridSpaAuthorizationCodeClient_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./HybridSpaAuthorizationCodeClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/HybridSpaAuthorizationCodeClient.mjs\");\n/* harmony import */ var _interaction_handler_InteractionHandler_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../interaction_handler/InteractionHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_handler/InteractionHandler.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class SilentAuthCodeClient extends _StandardInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__.StandardInteractionClient {\n    constructor(config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, apiId, performanceClient, nativeMessageHandler, correlationId){\n        super(config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, performanceClient, nativeMessageHandler, correlationId);\n        this.apiId = apiId;\n    }\n    /**\r\n     * Acquires a token silently by redeeming an authorization code against the /token endpoint\r\n     * @param request\r\n     */ async acquireToken(request) {\n        // Auth code payload is required\n        if (!request.code) {\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.authCodeRequired);\n        }\n        // Create silent request\n        const silentRequest = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.initializeAuthorizationRequest.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest, this.logger, this.performanceClient, request.correlationId)(request, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_5__.InteractionType.Silent);\n        const serverTelemetryManager = this.initializeServerTelemetryManager(this.apiId);\n        try {\n            // Create auth code request (PKCE not needed)\n            const authCodeRequest = {\n                ...silentRequest,\n                code: request.code\n            };\n            // Initialize the client\n            const clientConfig = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.getClientConfiguration.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.PerformanceEvents.StandardInteractionClientGetClientConfiguration, this.logger, this.performanceClient, request.correlationId)({\n                serverTelemetryManager,\n                requestAuthority: silentRequest.authority,\n                requestAzureCloudOptions: silentRequest.azureCloudOptions,\n                requestExtraQueryParameters: silentRequest.extraQueryParameters,\n                account: silentRequest.account\n            });\n            const authClient = new _HybridSpaAuthorizationCodeClient_mjs__WEBPACK_IMPORTED_MODULE_6__.HybridSpaAuthorizationCodeClient(clientConfig);\n            this.logger.verbose(\"Auth code client created\");\n            // Create silent handler\n            const interactionHandler = new _interaction_handler_InteractionHandler_mjs__WEBPACK_IMPORTED_MODULE_7__.InteractionHandler(authClient, this.browserStorage, authCodeRequest, this.logger, this.performanceClient);\n            // Handle auth code parameters from request\n            return await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(interactionHandler.handleCodeResponseFromServer.bind(interactionHandler), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.PerformanceEvents.HandleCodeResponseFromServer, this.logger, this.performanceClient, request.correlationId)({\n                code: request.code,\n                msgraph_host: request.msGraphHost,\n                cloud_graph_host_name: request.cloudGraphHostName,\n                cloud_instance_host_name: request.cloudInstanceHostName\n            }, silentRequest, false);\n        } catch (e) {\n            if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.AuthError) {\n                e.setCorrelationId(this.correlationId);\n                serverTelemetryManager.cacheFailedRequest(e);\n            }\n            throw e;\n        }\n    }\n    /**\r\n     * Currently Unsupported\r\n     */ logout() {\n        // Synchronous so we must reject\n        return Promise.reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.silentLogoutUnsupported));\n    }\n}\n //# sourceMappingURL=SilentAuthCodeClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9TaWxlbnRBdXRoQ29kZUNsaWVudC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUN1RjtBQUNYO0FBQ0w7QUFDUDtBQUMwQjtBQUNQO0FBQ1k7QUFFL0Y7OztDQUdDLEdBQ0QsTUFBTVUsNkJBQTZCUCxxRkFBeUJBO0lBQ3hEUSxZQUFZQyxNQUFNLEVBQUVDLFdBQVcsRUFBRUMsYUFBYSxFQUFFQyxNQUFNLEVBQUVDLFlBQVksRUFBRUMsZ0JBQWdCLEVBQUVDLEtBQUssRUFBRUMsaUJBQWlCLEVBQUVDLG9CQUFvQixFQUFFQyxhQUFhLENBQUU7UUFDbkosS0FBSyxDQUFDVCxRQUFRQyxhQUFhQyxlQUFlQyxRQUFRQyxjQUFjQyxrQkFBa0JFLG1CQUFtQkMsc0JBQXNCQztRQUMzSCxJQUFJLENBQUNILEtBQUssR0FBR0E7SUFDakI7SUFDQTs7O0tBR0MsR0FDRCxNQUFNSSxhQUFhQyxPQUFPLEVBQUU7UUFDeEIsZ0NBQWdDO1FBQ2hDLElBQUksQ0FBQ0EsUUFBUUMsSUFBSSxFQUFFO1lBQ2YsTUFBTXBCLG1GQUFzQkEsQ0FBQ0ksOEVBQWdCQTtRQUNqRDtRQUNBLHdCQUF3QjtRQUN4QixNQUFNaUIsZ0JBQWdCLE1BQU16Qix1RUFBV0EsQ0FBQyxJQUFJLENBQUMwQiw4QkFBOEIsQ0FBQ0MsSUFBSSxDQUFDLElBQUksR0FBRzFCLHlFQUFpQkEsQ0FBQzJCLHVEQUF1RCxFQUFFLElBQUksQ0FBQ2IsTUFBTSxFQUFFLElBQUksQ0FBQ0ksaUJBQWlCLEVBQUVJLFFBQVFGLGFBQWEsRUFBRUUsU0FBU2xCLHdFQUFlQSxDQUFDd0IsTUFBTTtRQUM5UCxNQUFNQyx5QkFBeUIsSUFBSSxDQUFDQyxnQ0FBZ0MsQ0FBQyxJQUFJLENBQUNiLEtBQUs7UUFDL0UsSUFBSTtZQUNBLDZDQUE2QztZQUM3QyxNQUFNYyxrQkFBa0I7Z0JBQ3BCLEdBQUdQLGFBQWE7Z0JBQ2hCRCxNQUFNRCxRQUFRQyxJQUFJO1lBQ3RCO1lBQ0Esd0JBQXdCO1lBQ3hCLE1BQU1TLGVBQWUsTUFBTWpDLHVFQUFXQSxDQUFDLElBQUksQ0FBQ2tDLHNCQUFzQixDQUFDUCxJQUFJLENBQUMsSUFBSSxHQUFHMUIseUVBQWlCQSxDQUFDa0MsK0NBQStDLEVBQUUsSUFBSSxDQUFDcEIsTUFBTSxFQUFFLElBQUksQ0FBQ0ksaUJBQWlCLEVBQUVJLFFBQVFGLGFBQWEsRUFBRTtnQkFDMU1TO2dCQUNBTSxrQkFBa0JYLGNBQWNZLFNBQVM7Z0JBQ3pDQywwQkFBMEJiLGNBQWNjLGlCQUFpQjtnQkFDekRDLDZCQUE2QmYsY0FBY2dCLG9CQUFvQjtnQkFDL0RDLFNBQVNqQixjQUFjaUIsT0FBTztZQUNsQztZQUNBLE1BQU1DLGFBQWEsSUFBSXJDLG1HQUFnQ0EsQ0FBQzJCO1lBQ3hELElBQUksQ0FBQ2xCLE1BQU0sQ0FBQzZCLE9BQU8sQ0FBQztZQUNwQix3QkFBd0I7WUFDeEIsTUFBTUMscUJBQXFCLElBQUl0QywyRkFBa0JBLENBQUNvQyxZQUFZLElBQUksQ0FBQ0csY0FBYyxFQUFFZCxpQkFBaUIsSUFBSSxDQUFDakIsTUFBTSxFQUFFLElBQUksQ0FBQ0ksaUJBQWlCO1lBQ3ZJLDJDQUEyQztZQUMzQyxPQUFPLE1BQU1uQix1RUFBV0EsQ0FBQzZDLG1CQUFtQkUsNEJBQTRCLENBQUNwQixJQUFJLENBQUNrQixxQkFBcUI1Qyx5RUFBaUJBLENBQUMrQyw0QkFBNEIsRUFBRSxJQUFJLENBQUNqQyxNQUFNLEVBQUUsSUFBSSxDQUFDSSxpQkFBaUIsRUFBRUksUUFBUUYsYUFBYSxFQUFFO2dCQUMzTUcsTUFBTUQsUUFBUUMsSUFBSTtnQkFDbEJ5QixjQUFjMUIsUUFBUTJCLFdBQVc7Z0JBQ2pDQyx1QkFBdUI1QixRQUFRNkIsa0JBQWtCO2dCQUNqREMsMEJBQTBCOUIsUUFBUStCLHFCQUFxQjtZQUMzRCxHQUFHN0IsZUFBZTtRQUN0QixFQUNBLE9BQU84QixHQUFHO1lBQ04sSUFBSUEsYUFBYXJELGlFQUFTQSxFQUFFO2dCQUN4QnFELEVBQUVDLGdCQUFnQixDQUFDLElBQUksQ0FBQ25DLGFBQWE7Z0JBQ3JDUyx1QkFBdUIyQixrQkFBa0IsQ0FBQ0Y7WUFDOUM7WUFDQSxNQUFNQTtRQUNWO0lBQ0o7SUFDQTs7S0FFQyxHQUNERyxTQUFTO1FBQ0wsZ0NBQWdDO1FBQ2hDLE9BQU9DLFFBQVFDLE1BQU0sQ0FBQ3hELG1GQUFzQkEsQ0FBQ0sscUZBQXVCQTtJQUN4RTtBQUNKO0FBRWdDLENBQ2hDLGlEQUFpRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvaW50ZXJhY3Rpb25fY2xpZW50L1NpbGVudEF1dGhDb2RlQ2xpZW50Lm1qcz8zOGU3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgaW52b2tlQXN5bmMsIFBlcmZvcm1hbmNlRXZlbnRzLCBBdXRoRXJyb3IgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50IH0gZnJvbSAnLi9TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50Lm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgSW50ZXJhY3Rpb25UeXBlIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlckNvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgSHlicmlkU3BhQXV0aG9yaXphdGlvbkNvZGVDbGllbnQgfSBmcm9tICcuL0h5YnJpZFNwYUF1dGhvcml6YXRpb25Db2RlQ2xpZW50Lm1qcyc7XG5pbXBvcnQgeyBJbnRlcmFjdGlvbkhhbmRsZXIgfSBmcm9tICcuLi9pbnRlcmFjdGlvbl9oYW5kbGVyL0ludGVyYWN0aW9uSGFuZGxlci5tanMnO1xuaW1wb3J0IHsgYXV0aENvZGVSZXF1aXJlZCwgc2lsZW50TG9nb3V0VW5zdXBwb3J0ZWQgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNsYXNzIFNpbGVudEF1dGhDb2RlQ2xpZW50IGV4dGVuZHMgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcsIHN0b3JhZ2VJbXBsLCBicm93c2VyQ3J5cHRvLCBsb2dnZXIsIGV2ZW50SGFuZGxlciwgbmF2aWdhdGlvbkNsaWVudCwgYXBpSWQsIHBlcmZvcm1hbmNlQ2xpZW50LCBuYXRpdmVNZXNzYWdlSGFuZGxlciwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHN1cGVyKGNvbmZpZywgc3RvcmFnZUltcGwsIGJyb3dzZXJDcnlwdG8sIGxvZ2dlciwgZXZlbnRIYW5kbGVyLCBuYXZpZ2F0aW9uQ2xpZW50LCBwZXJmb3JtYW5jZUNsaWVudCwgbmF0aXZlTWVzc2FnZUhhbmRsZXIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHRoaXMuYXBpSWQgPSBhcGlJZDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWNxdWlyZXMgYSB0b2tlbiBzaWxlbnRseSBieSByZWRlZW1pbmcgYW4gYXV0aG9yaXphdGlvbiBjb2RlIGFnYWluc3QgdGhlIC90b2tlbiBlbmRwb2ludFxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuKHJlcXVlc3QpIHtcclxuICAgICAgICAvLyBBdXRoIGNvZGUgcGF5bG9hZCBpcyByZXF1aXJlZFxyXG4gICAgICAgIGlmICghcmVxdWVzdC5jb2RlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IoYXV0aENvZGVSZXF1aXJlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENyZWF0ZSBzaWxlbnQgcmVxdWVzdFxyXG4gICAgICAgIGNvbnN0IHNpbGVudFJlcXVlc3QgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdC5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50SW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0LCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKShyZXF1ZXN0LCBJbnRlcmFjdGlvblR5cGUuU2lsZW50KTtcclxuICAgICAgICBjb25zdCBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyID0gdGhpcy5pbml0aWFsaXplU2VydmVyVGVsZW1ldHJ5TWFuYWdlcih0aGlzLmFwaUlkKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgYXV0aCBjb2RlIHJlcXVlc3QgKFBLQ0Ugbm90IG5lZWRlZClcclxuICAgICAgICAgICAgY29uc3QgYXV0aENvZGVSZXF1ZXN0ID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uc2lsZW50UmVxdWVzdCxcclxuICAgICAgICAgICAgICAgIGNvZGU6IHJlcXVlc3QuY29kZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgY2xpZW50XHJcbiAgICAgICAgICAgIGNvbnN0IGNsaWVudENvbmZpZyA9IGF3YWl0IGludm9rZUFzeW5jKHRoaXMuZ2V0Q2xpZW50Q29uZmlndXJhdGlvbi5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50R2V0Q2xpZW50Q29uZmlndXJhdGlvbiwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkoe1xyXG4gICAgICAgICAgICAgICAgc2VydmVyVGVsZW1ldHJ5TWFuYWdlcixcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBdXRob3JpdHk6IHNpbGVudFJlcXVlc3QuYXV0aG9yaXR5LFxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEF6dXJlQ2xvdWRPcHRpb25zOiBzaWxlbnRSZXF1ZXN0LmF6dXJlQ2xvdWRPcHRpb25zLFxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdEV4dHJhUXVlcnlQYXJhbWV0ZXJzOiBzaWxlbnRSZXF1ZXN0LmV4dHJhUXVlcnlQYXJhbWV0ZXJzLFxyXG4gICAgICAgICAgICAgICAgYWNjb3VudDogc2lsZW50UmVxdWVzdC5hY2NvdW50LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgYXV0aENsaWVudCA9IG5ldyBIeWJyaWRTcGFBdXRob3JpemF0aW9uQ29kZUNsaWVudChjbGllbnRDb25maWcpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQXV0aCBjb2RlIGNsaWVudCBjcmVhdGVkXCIpO1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgc2lsZW50IGhhbmRsZXJcclxuICAgICAgICAgICAgY29uc3QgaW50ZXJhY3Rpb25IYW5kbGVyID0gbmV3IEludGVyYWN0aW9uSGFuZGxlcihhdXRoQ2xpZW50LCB0aGlzLmJyb3dzZXJTdG9yYWdlLCBhdXRoQ29kZVJlcXVlc3QsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50KTtcclxuICAgICAgICAgICAgLy8gSGFuZGxlIGF1dGggY29kZSBwYXJhbWV0ZXJzIGZyb20gcmVxdWVzdFxyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgaW52b2tlQXN5bmMoaW50ZXJhY3Rpb25IYW5kbGVyLmhhbmRsZUNvZGVSZXNwb25zZUZyb21TZXJ2ZXIuYmluZChpbnRlcmFjdGlvbkhhbmRsZXIpLCBQZXJmb3JtYW5jZUV2ZW50cy5IYW5kbGVDb2RlUmVzcG9uc2VGcm9tU2VydmVyLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKSh7XHJcbiAgICAgICAgICAgICAgICBjb2RlOiByZXF1ZXN0LmNvZGUsXHJcbiAgICAgICAgICAgICAgICBtc2dyYXBoX2hvc3Q6IHJlcXVlc3QubXNHcmFwaEhvc3QsXHJcbiAgICAgICAgICAgICAgICBjbG91ZF9ncmFwaF9ob3N0X25hbWU6IHJlcXVlc3QuY2xvdWRHcmFwaEhvc3ROYW1lLFxyXG4gICAgICAgICAgICAgICAgY2xvdWRfaW5zdGFuY2VfaG9zdF9uYW1lOiByZXF1ZXN0LmNsb3VkSW5zdGFuY2VIb3N0TmFtZSxcclxuICAgICAgICAgICAgfSwgc2lsZW50UmVxdWVzdCwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEF1dGhFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgZS5zZXRDb3JyZWxhdGlvbklkKHRoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLmNhY2hlRmFpbGVkUmVxdWVzdChlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3VycmVudGx5IFVuc3VwcG9ydGVkXHJcbiAgICAgKi9cclxuICAgIGxvZ291dCgpIHtcclxuICAgICAgICAvLyBTeW5jaHJvbm91cyBzbyB3ZSBtdXN0IHJlamVjdFxyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChjcmVhdGVCcm93c2VyQXV0aEVycm9yKHNpbGVudExvZ291dFVuc3VwcG9ydGVkKSk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgU2lsZW50QXV0aENvZGVDbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbGVudEF1dGhDb2RlQ2xpZW50Lm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJpbnZva2VBc3luYyIsIlBlcmZvcm1hbmNlRXZlbnRzIiwiQXV0aEVycm9yIiwiU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCIsImNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IiLCJJbnRlcmFjdGlvblR5cGUiLCJIeWJyaWRTcGFBdXRob3JpemF0aW9uQ29kZUNsaWVudCIsIkludGVyYWN0aW9uSGFuZGxlciIsImF1dGhDb2RlUmVxdWlyZWQiLCJzaWxlbnRMb2dvdXRVbnN1cHBvcnRlZCIsIlNpbGVudEF1dGhDb2RlQ2xpZW50IiwiY29uc3RydWN0b3IiLCJjb25maWciLCJzdG9yYWdlSW1wbCIsImJyb3dzZXJDcnlwdG8iLCJsb2dnZXIiLCJldmVudEhhbmRsZXIiLCJuYXZpZ2F0aW9uQ2xpZW50IiwiYXBpSWQiLCJwZXJmb3JtYW5jZUNsaWVudCIsIm5hdGl2ZU1lc3NhZ2VIYW5kbGVyIiwiY29ycmVsYXRpb25JZCIsImFjcXVpcmVUb2tlbiIsInJlcXVlc3QiLCJjb2RlIiwic2lsZW50UmVxdWVzdCIsImluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdCIsImJpbmQiLCJTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50SW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0IiwiU2lsZW50Iiwic2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsImluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyIiwiYXV0aENvZGVSZXF1ZXN0IiwiY2xpZW50Q29uZmlnIiwiZ2V0Q2xpZW50Q29uZmlndXJhdGlvbiIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRHZXRDbGllbnRDb25maWd1cmF0aW9uIiwicmVxdWVzdEF1dGhvcml0eSIsImF1dGhvcml0eSIsInJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucyIsImF6dXJlQ2xvdWRPcHRpb25zIiwicmVxdWVzdEV4dHJhUXVlcnlQYXJhbWV0ZXJzIiwiZXh0cmFRdWVyeVBhcmFtZXRlcnMiLCJhY2NvdW50IiwiYXV0aENsaWVudCIsInZlcmJvc2UiLCJpbnRlcmFjdGlvbkhhbmRsZXIiLCJicm93c2VyU3RvcmFnZSIsImhhbmRsZUNvZGVSZXNwb25zZUZyb21TZXJ2ZXIiLCJIYW5kbGVDb2RlUmVzcG9uc2VGcm9tU2VydmVyIiwibXNncmFwaF9ob3N0IiwibXNHcmFwaEhvc3QiLCJjbG91ZF9ncmFwaF9ob3N0X25hbWUiLCJjbG91ZEdyYXBoSG9zdE5hbWUiLCJjbG91ZF9pbnN0YW5jZV9ob3N0X25hbWUiLCJjbG91ZEluc3RhbmNlSG9zdE5hbWUiLCJlIiwic2V0Q29ycmVsYXRpb25JZCIsImNhY2hlRmFpbGVkUmVxdWVzdCIsImxvZ291dCIsIlByb21pc2UiLCJyZWplY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentAuthCodeClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentCacheClient.mjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_client/SilentCacheClient.mjs ***!
  \****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SilentCacheClient: () => (/* binding */ SilentCacheClient)\n/* harmony export */ });\n/* harmony import */ var _StandardInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StandardInteractionClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/StandardInteractionClient.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/client/SilentFlowClient.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class SilentCacheClient extends _StandardInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__.StandardInteractionClient {\n    /**\r\n     * Returns unexpired tokens from the cache, if available\r\n     * @param silentRequest\r\n     */ async acquireToken(silentRequest) {\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.SilentCacheClientAcquireToken, silentRequest.correlationId);\n        // Telemetry manager only used to increment cacheHits here\n        const serverTelemetryManager = this.initializeServerTelemetryManager(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.ApiId.acquireTokenSilent_silentFlow);\n        const clientConfig = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.getClientConfiguration.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.StandardInteractionClientGetClientConfiguration, this.logger, this.performanceClient, this.correlationId)({\n            serverTelemetryManager,\n            requestAuthority: silentRequest.authority,\n            requestAzureCloudOptions: silentRequest.azureCloudOptions,\n            account: silentRequest.account\n        });\n        const silentAuthClient = new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.SilentFlowClient(clientConfig, this.performanceClient);\n        this.logger.verbose(\"Silent auth client created\");\n        try {\n            const response = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(silentAuthClient.acquireCachedToken.bind(silentAuthClient), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.SilentFlowClientAcquireCachedToken, this.logger, this.performanceClient, silentRequest.correlationId)(silentRequest);\n            const authResponse = response[0];\n            this.performanceClient.addFields({\n                fromCache: true\n            }, silentRequest.correlationId);\n            return authResponse;\n        } catch (error) {\n            if (error instanceof _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__.BrowserAuthError && error.errorCode === _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__.cryptoKeyNotFound) {\n                this.logger.verbose(\"Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair.\");\n            }\n            throw error;\n        }\n    }\n    /**\r\n     * API to silenty clear the browser cache.\r\n     * @param logoutRequest\r\n     */ logout(logoutRequest) {\n        this.logger.verbose(\"logoutRedirect called\");\n        const validLogoutRequest = this.initializeLogoutRequest(logoutRequest);\n        return this.clearCacheOnLogout(validLogoutRequest?.account);\n    }\n}\n //# sourceMappingURL=SilentCacheClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9TaWxlbnRDYWNoZUNsaWVudC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDNEU7QUFDa0I7QUFDeEM7QUFDVztBQUNNO0FBRXZFOzs7Q0FHQyxHQUNELE1BQU1PLDBCQUEwQlAscUZBQXlCQTtJQUNyRDs7O0tBR0MsR0FDRCxNQUFNUSxhQUFhQyxhQUFhLEVBQUU7UUFDOUIsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ0MsbUJBQW1CLENBQUNWLHlFQUFpQkEsQ0FBQ1csNkJBQTZCLEVBQUVILGNBQWNJLGFBQWE7UUFDdkgsMERBQTBEO1FBQzFELE1BQU1DLHlCQUF5QixJQUFJLENBQUNDLGdDQUFnQyxDQUFDWCw4REFBS0EsQ0FBQ1ksNkJBQTZCO1FBQ3hHLE1BQU1DLGVBQWUsTUFBTWYsdUVBQVdBLENBQUMsSUFBSSxDQUFDZ0Isc0JBQXNCLENBQUNDLElBQUksQ0FBQyxJQUFJLEdBQUdsQix5RUFBaUJBLENBQUNtQiwrQ0FBK0MsRUFBRSxJQUFJLENBQUNDLE1BQU0sRUFBRSxJQUFJLENBQUNYLGlCQUFpQixFQUFFLElBQUksQ0FBQ0csYUFBYSxFQUFFO1lBQ3ZNQztZQUNBUSxrQkFBa0JiLGNBQWNjLFNBQVM7WUFDekNDLDBCQUEwQmYsY0FBY2dCLGlCQUFpQjtZQUN6REMsU0FBU2pCLGNBQWNpQixPQUFPO1FBQ2xDO1FBQ0EsTUFBTUMsbUJBQW1CLElBQUl4Qix3RUFBZ0JBLENBQUNjLGNBQWMsSUFBSSxDQUFDUCxpQkFBaUI7UUFDbEYsSUFBSSxDQUFDVyxNQUFNLENBQUNPLE9BQU8sQ0FBQztRQUNwQixJQUFJO1lBQ0EsTUFBTUMsV0FBVyxNQUFNM0IsdUVBQVdBLENBQUN5QixpQkFBaUJHLGtCQUFrQixDQUFDWCxJQUFJLENBQUNRLG1CQUFtQjFCLHlFQUFpQkEsQ0FBQzhCLGtDQUFrQyxFQUFFLElBQUksQ0FBQ1YsTUFBTSxFQUFFLElBQUksQ0FBQ1gsaUJBQWlCLEVBQUVELGNBQWNJLGFBQWEsRUFBRUo7WUFDdk4sTUFBTXVCLGVBQWVILFFBQVEsQ0FBQyxFQUFFO1lBQ2hDLElBQUksQ0FBQ25CLGlCQUFpQixDQUFDdUIsU0FBUyxDQUFDO2dCQUM3QkMsV0FBVztZQUNmLEdBQUd6QixjQUFjSSxhQUFhO1lBQzlCLE9BQU9tQjtRQUNYLEVBQ0EsT0FBT0csT0FBTztZQUNWLElBQUlBLGlCQUFpQjlCLHlFQUFnQkEsSUFDakM4QixNQUFNQyxTQUFTLEtBQUs5QiwrRUFBaUJBLEVBQUU7Z0JBQ3ZDLElBQUksQ0FBQ2UsTUFBTSxDQUFDTyxPQUFPLENBQUM7WUFDeEI7WUFDQSxNQUFNTztRQUNWO0lBQ0o7SUFDQTs7O0tBR0MsR0FDREUsT0FBT0MsYUFBYSxFQUFFO1FBQ2xCLElBQUksQ0FBQ2pCLE1BQU0sQ0FBQ08sT0FBTyxDQUFDO1FBQ3BCLE1BQU1XLHFCQUFxQixJQUFJLENBQUNDLHVCQUF1QixDQUFDRjtRQUN4RCxPQUFPLElBQUksQ0FBQ0csa0JBQWtCLENBQUNGLG9CQUFvQmI7SUFDdkQ7QUFDSjtBQUU2QixDQUM3Qiw4Q0FBOEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9TaWxlbnRDYWNoZUNsaWVudC5tanM/NTU2OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQgfSBmcm9tICcuL1N0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQubWpzJztcbmltcG9ydCB7IFBlcmZvcm1hbmNlRXZlbnRzLCBpbnZva2VBc3luYywgU2lsZW50Rmxvd0NsaWVudCB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbi9icm93c2VyJztcbmltcG9ydCB7IEFwaUlkIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlckNvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IGNyeXB0b0tleU5vdEZvdW5kIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBTaWxlbnRDYWNoZUNsaWVudCBleHRlbmRzIFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQge1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHVuZXhwaXJlZCB0b2tlbnMgZnJvbSB0aGUgY2FjaGUsIGlmIGF2YWlsYWJsZVxyXG4gICAgICogQHBhcmFtIHNpbGVudFJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuKHNpbGVudFJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuU2lsZW50Q2FjaGVDbGllbnRBY3F1aXJlVG9rZW4sIHNpbGVudFJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgLy8gVGVsZW1ldHJ5IG1hbmFnZXIgb25seSB1c2VkIHRvIGluY3JlbWVudCBjYWNoZUhpdHMgaGVyZVxyXG4gICAgICAgIGNvbnN0IHNlcnZlclRlbGVtZXRyeU1hbmFnZXIgPSB0aGlzLmluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKEFwaUlkLmFjcXVpcmVUb2tlblNpbGVudF9zaWxlbnRGbG93KTtcclxuICAgICAgICBjb25zdCBjbGllbnRDb25maWcgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmdldENsaWVudENvbmZpZ3VyYXRpb24uYmluZCh0aGlzKSwgUGVyZm9ybWFuY2VFdmVudHMuU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEdldENsaWVudENvbmZpZ3VyYXRpb24sIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmNvcnJlbGF0aW9uSWQpKHtcclxuICAgICAgICAgICAgc2VydmVyVGVsZW1ldHJ5TWFuYWdlcixcclxuICAgICAgICAgICAgcmVxdWVzdEF1dGhvcml0eTogc2lsZW50UmVxdWVzdC5hdXRob3JpdHksXHJcbiAgICAgICAgICAgIHJlcXVlc3RBenVyZUNsb3VkT3B0aW9uczogc2lsZW50UmVxdWVzdC5henVyZUNsb3VkT3B0aW9ucyxcclxuICAgICAgICAgICAgYWNjb3VudDogc2lsZW50UmVxdWVzdC5hY2NvdW50LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHNpbGVudEF1dGhDbGllbnQgPSBuZXcgU2lsZW50Rmxvd0NsaWVudChjbGllbnRDb25maWcsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJTaWxlbnQgYXV0aCBjbGllbnQgY3JlYXRlZFwiKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGludm9rZUFzeW5jKHNpbGVudEF1dGhDbGllbnQuYWNxdWlyZUNhY2hlZFRva2VuLmJpbmQoc2lsZW50QXV0aENsaWVudCksIFBlcmZvcm1hbmNlRXZlbnRzLlNpbGVudEZsb3dDbGllbnRBY3F1aXJlQ2FjaGVkVG9rZW4sIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCBzaWxlbnRSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKHNpbGVudFJlcXVlc3QpO1xyXG4gICAgICAgICAgICBjb25zdCBhdXRoUmVzcG9uc2UgPSByZXNwb25zZVswXTtcclxuICAgICAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudC5hZGRGaWVsZHMoe1xyXG4gICAgICAgICAgICAgICAgZnJvbUNhY2hlOiB0cnVlLFxyXG4gICAgICAgICAgICB9LCBzaWxlbnRSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICByZXR1cm4gYXV0aFJlc3BvbnNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgQnJvd3NlckF1dGhFcnJvciAmJlxyXG4gICAgICAgICAgICAgICAgZXJyb3IuZXJyb3JDb2RlID09PSBjcnlwdG9LZXlOb3RGb3VuZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlNpZ25pbmcga2V5cGFpciBmb3IgYm91bmQgYWNjZXNzIHRva2VuIG5vdCBmb3VuZC4gUmVmcmVzaGluZyBib3VuZCBhY2Nlc3MgdG9rZW4gYW5kIGdlbmVyYXRpbmcgYSBuZXcgY3J5cHRvIGtleXBhaXIuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQVBJIHRvIHNpbGVudHkgY2xlYXIgdGhlIGJyb3dzZXIgY2FjaGUuXHJcbiAgICAgKiBAcGFyYW0gbG9nb3V0UmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBsb2dvdXQobG9nb3V0UmVxdWVzdCkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJsb2dvdXRSZWRpcmVjdCBjYWxsZWRcIik7XHJcbiAgICAgICAgY29uc3QgdmFsaWRMb2dvdXRSZXF1ZXN0ID0gdGhpcy5pbml0aWFsaXplTG9nb3V0UmVxdWVzdChsb2dvdXRSZXF1ZXN0KTtcclxuICAgICAgICByZXR1cm4gdGhpcy5jbGVhckNhY2hlT25Mb2dvdXQodmFsaWRMb2dvdXRSZXF1ZXN0Py5hY2NvdW50KTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBTaWxlbnRDYWNoZUNsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2lsZW50Q2FjaGVDbGllbnQubWpzLm1hcFxuIl0sIm5hbWVzIjpbIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQiLCJQZXJmb3JtYW5jZUV2ZW50cyIsImludm9rZUFzeW5jIiwiU2lsZW50Rmxvd0NsaWVudCIsIkFwaUlkIiwiQnJvd3NlckF1dGhFcnJvciIsImNyeXB0b0tleU5vdEZvdW5kIiwiU2lsZW50Q2FjaGVDbGllbnQiLCJhY3F1aXJlVG9rZW4iLCJzaWxlbnRSZXF1ZXN0IiwicGVyZm9ybWFuY2VDbGllbnQiLCJhZGRRdWV1ZU1lYXN1cmVtZW50IiwiU2lsZW50Q2FjaGVDbGllbnRBY3F1aXJlVG9rZW4iLCJjb3JyZWxhdGlvbklkIiwic2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsImluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyIiwiYWNxdWlyZVRva2VuU2lsZW50X3NpbGVudEZsb3ciLCJjbGllbnRDb25maWciLCJnZXRDbGllbnRDb25maWd1cmF0aW9uIiwiYmluZCIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRHZXRDbGllbnRDb25maWd1cmF0aW9uIiwibG9nZ2VyIiwicmVxdWVzdEF1dGhvcml0eSIsImF1dGhvcml0eSIsInJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucyIsImF6dXJlQ2xvdWRPcHRpb25zIiwiYWNjb3VudCIsInNpbGVudEF1dGhDbGllbnQiLCJ2ZXJib3NlIiwicmVzcG9uc2UiLCJhY3F1aXJlQ2FjaGVkVG9rZW4iLCJTaWxlbnRGbG93Q2xpZW50QWNxdWlyZUNhY2hlZFRva2VuIiwiYXV0aFJlc3BvbnNlIiwiYWRkRmllbGRzIiwiZnJvbUNhY2hlIiwiZXJyb3IiLCJlcnJvckNvZGUiLCJsb2dvdXQiLCJsb2dvdXRSZXF1ZXN0IiwidmFsaWRMb2dvdXRSZXF1ZXN0IiwiaW5pdGlhbGl6ZUxvZ291dFJlcXVlc3QiLCJjbGVhckNhY2hlT25Mb2dvdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentCacheClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentIframeClient.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_client/SilentIframeClient.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SilentIframeClient: () => (/* binding */ SilentIframeClient)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/ProtocolUtils.mjs\");\n/* harmony import */ var _StandardInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StandardInteractionClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/StandardInteractionClient.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _interaction_handler_SilentHandler_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../interaction_handler/SilentHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_handler/SilentHandler.mjs\");\n/* harmony import */ var _broker_nativeBroker_NativeMessageHandler_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../broker/nativeBroker/NativeMessageHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/broker/nativeBroker/NativeMessageHandler.mjs\");\n/* harmony import */ var _NativeInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./NativeInteractionClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/NativeInteractionClient.mjs\");\n/* harmony import */ var _interaction_handler_InteractionHandler_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../interaction_handler/InteractionHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_handler/InteractionHandler.mjs\");\n/* harmony import */ var _utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/BrowserUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserUtils.mjs\");\n/* harmony import */ var _response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../response/ResponseHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/response/ResponseHandler.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class SilentIframeClient extends _StandardInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__.StandardInteractionClient {\n    constructor(config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, apiId, performanceClient, nativeStorageImpl, nativeMessageHandler, correlationId){\n        super(config, storageImpl, browserCrypto, logger, eventHandler, navigationClient, performanceClient, nativeMessageHandler, correlationId);\n        this.apiId = apiId;\n        this.nativeStorage = nativeStorageImpl;\n    }\n    /**\r\n     * Acquires a token silently by opening a hidden iframe to the /authorize endpoint with prompt=none or prompt=no_session\r\n     * @param request\r\n     */ async acquireToken(request) {\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.SilentIframeClientAcquireToken, request.correlationId);\n        // Check that we have some SSO data\n        if (!request.loginHint && !request.sid && (!request.account || !request.account.username)) {\n            this.logger.warning(\"No user hint provided. The authorization server may need more information to complete this request.\");\n        }\n        // Check the prompt value\n        const inputRequest = {\n            ...request\n        };\n        if (inputRequest.prompt) {\n            if (inputRequest.prompt !== _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.PromptValue.NONE && inputRequest.prompt !== _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.PromptValue.NO_SESSION) {\n                this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${inputRequest.prompt} with ${_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.PromptValue.NONE}`);\n                inputRequest.prompt = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.PromptValue.NONE;\n            }\n        } else {\n            inputRequest.prompt = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.PromptValue.NONE;\n        }\n        // Create silent request\n        const silentRequest = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.initializeAuthorizationRequest.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest, this.logger, this.performanceClient, request.correlationId)(inputRequest, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_4__.InteractionType.Silent);\n        (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_5__.preconnect)(silentRequest.authority);\n        const serverTelemetryManager = this.initializeServerTelemetryManager(this.apiId);\n        let authClient;\n        try {\n            // Initialize the client\n            authClient = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.createAuthCodeClient.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.StandardInteractionClientCreateAuthCodeClient, this.logger, this.performanceClient, request.correlationId)({\n                serverTelemetryManager,\n                requestAuthority: silentRequest.authority,\n                requestAzureCloudOptions: silentRequest.azureCloudOptions,\n                requestExtraQueryParameters: silentRequest.extraQueryParameters,\n                account: silentRequest.account\n            });\n            return await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.silentTokenHelper.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.SilentIframeClientTokenHelper, this.logger, this.performanceClient, request.correlationId)(authClient, silentRequest);\n        } catch (e) {\n            if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.AuthError) {\n                e.setCorrelationId(this.correlationId);\n                serverTelemetryManager.cacheFailedRequest(e);\n            }\n            if (!authClient || !(e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.AuthError) || e.errorCode !== _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_4__.BrowserConstants.INVALID_GRANT_ERROR) {\n                throw e;\n            }\n            this.performanceClient.addFields({\n                retryError: e.errorCode\n            }, this.correlationId);\n            const retrySilentRequest = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.initializeAuthorizationRequest.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest, this.logger, this.performanceClient, request.correlationId)(inputRequest, _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_4__.InteractionType.Silent);\n            return await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.silentTokenHelper.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.SilentIframeClientTokenHelper, this.logger, this.performanceClient, this.correlationId)(authClient, retrySilentRequest);\n        }\n    }\n    /**\r\n     * Currently Unsupported\r\n     */ logout() {\n        // Synchronous so we must reject\n        return Promise.reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_7__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_8__.silentLogoutUnsupported));\n    }\n    /**\r\n     * Helper which acquires an authorization code silently using a hidden iframe from given url\r\n     * using the scopes requested as part of the id, and exchanges the code for a set of OAuth tokens.\r\n     * @param navigateUrl\r\n     * @param userRequestScopes\r\n     */ async silentTokenHelper(authClient, silentRequest) {\n        const correlationId = silentRequest.correlationId;\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.SilentIframeClientTokenHelper, correlationId);\n        // Create auth code request and generate PKCE params\n        const authCodeRequest = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.initializeAuthorizationCodeRequest.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest, this.logger, this.performanceClient, correlationId)(silentRequest);\n        // Create authorize request url\n        const navigateUrl = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(authClient.getAuthCodeUrl.bind(authClient), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.GetAuthCodeUrl, this.logger, this.performanceClient, correlationId)({\n            ...silentRequest,\n            nativeBroker: _broker_nativeBroker_NativeMessageHandler_mjs__WEBPACK_IMPORTED_MODULE_9__.NativeMessageHandler.isNativeAvailable(this.config, this.logger, this.nativeMessageHandler, silentRequest.authenticationScheme)\n        });\n        // Create silent handler\n        const interactionHandler = new _interaction_handler_InteractionHandler_mjs__WEBPACK_IMPORTED_MODULE_10__.InteractionHandler(authClient, this.browserStorage, authCodeRequest, this.logger, this.performanceClient);\n        // Get the frame handle for the silent request\n        const msalFrame = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(_interaction_handler_SilentHandler_mjs__WEBPACK_IMPORTED_MODULE_11__.initiateAuthRequest, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.SilentHandlerInitiateAuthRequest, this.logger, this.performanceClient, correlationId)(navigateUrl, this.performanceClient, this.logger, correlationId, this.config.system.navigateFrameWait);\n        const responseType = this.config.auth.OIDCOptions.serverResponseType;\n        // Monitor the window for the hash. Return the string value and close the popup when the hash is received. Default timeout is 60 seconds.\n        const responseString = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(_interaction_handler_SilentHandler_mjs__WEBPACK_IMPORTED_MODULE_11__.monitorIframeForHash, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.SilentHandlerMonitorIframeForHash, this.logger, this.performanceClient, correlationId)(msalFrame, this.config.system.iframeHashTimeout, this.config.system.pollIntervalMilliseconds, this.performanceClient, this.logger, correlationId, responseType);\n        const serverParams = (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invoke)(_response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_12__.deserializeResponse, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.DeserializeResponse, this.logger, this.performanceClient, this.correlationId)(responseString, responseType, this.logger);\n        if (serverParams.accountId) {\n            this.logger.verbose(\"Account id found in hash, calling WAM for token\");\n            if (!this.nativeMessageHandler) {\n                throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_7__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_8__.nativeConnectionNotEstablished);\n            }\n            const nativeInteractionClient = new _NativeInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_13__.NativeInteractionClient(this.config, this.browserStorage, this.browserCrypto, this.logger, this.eventHandler, this.navigationClient, this.apiId, this.performanceClient, this.nativeMessageHandler, serverParams.accountId, this.browserStorage, correlationId);\n            const { userRequestState } = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_14__.ProtocolUtils.parseRequestState(this.browserCrypto, silentRequest.state);\n            return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(nativeInteractionClient.acquireToken.bind(nativeInteractionClient), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.NativeInteractionClientAcquireToken, this.logger, this.performanceClient, correlationId)({\n                ...silentRequest,\n                state: userRequestState,\n                prompt: silentRequest.prompt || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.PromptValue.NONE\n            });\n        }\n        // Handle response from hash string\n        return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(interactionHandler.handleCodeResponse.bind(interactionHandler), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.HandleCodeResponse, this.logger, this.performanceClient, correlationId)(serverParams, silentRequest);\n    }\n}\n //# sourceMappingURL=SilentIframeClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9TaWxlbnRJZnJhbWVDbGllbnQubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDMkg7QUFDL0M7QUFDTDtBQUNXO0FBQ21CO0FBQ2Q7QUFDZjtBQUNXO0FBQzVCO0FBQ2U7QUFDdUM7QUFFN0c7OztDQUdDLEdBQ0QsTUFBTW1CLDJCQUEyQmIscUZBQXlCQTtJQUN0RGMsWUFBWUMsTUFBTSxFQUFFQyxXQUFXLEVBQUVDLGFBQWEsRUFBRUMsTUFBTSxFQUFFQyxZQUFZLEVBQUVDLGdCQUFnQixFQUFFQyxLQUFLLEVBQUVDLGlCQUFpQixFQUFFQyxpQkFBaUIsRUFBRUMsb0JBQW9CLEVBQUVDLGFBQWEsQ0FBRTtRQUN0SyxLQUFLLENBQUNWLFFBQVFDLGFBQWFDLGVBQWVDLFFBQVFDLGNBQWNDLGtCQUFrQkUsbUJBQW1CRSxzQkFBc0JDO1FBQzNILElBQUksQ0FBQ0osS0FBSyxHQUFHQTtRQUNiLElBQUksQ0FBQ0ssYUFBYSxHQUFHSDtJQUN6QjtJQUNBOzs7S0FHQyxHQUNELE1BQU1JLGFBQWFDLE9BQU8sRUFBRTtRQUN4QixJQUFJLENBQUNOLGlCQUFpQixDQUFDTyxtQkFBbUIsQ0FBQ25DLHlFQUFpQkEsQ0FBQ29DLDhCQUE4QixFQUFFRixRQUFRSCxhQUFhO1FBQ2xILG1DQUFtQztRQUNuQyxJQUFJLENBQUNHLFFBQVFHLFNBQVMsSUFDbEIsQ0FBQ0gsUUFBUUksR0FBRyxJQUNYLEVBQUNKLFFBQVFLLE9BQU8sSUFBSSxDQUFDTCxRQUFRSyxPQUFPLENBQUNDLFFBQVEsR0FBRztZQUNqRCxJQUFJLENBQUNoQixNQUFNLENBQUNpQixPQUFPLENBQUM7UUFDeEI7UUFDQSx5QkFBeUI7UUFDekIsTUFBTUMsZUFBZTtZQUFFLEdBQUdSLE9BQU87UUFBQztRQUNsQyxJQUFJUSxhQUFhQyxNQUFNLEVB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IndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9TaWxlbnRJZnJhbWVDbGllbnQubWpzP2FiMTkiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBQZXJmb3JtYW5jZUV2ZW50cywgUHJvbXB0VmFsdWUsIGludm9rZUFzeW5jLCBBdXRoRXJyb3IsIGludm9rZSwgUHJvdG9jb2xVdGlscyB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbi9icm93c2VyJztcbmltcG9ydCB7IFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQgfSBmcm9tICcuL1N0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQubWpzJztcbmltcG9ydCB7IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBJbnRlcmFjdGlvblR5cGUsIEJyb3dzZXJDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBpbml0aWF0ZUF1dGhSZXF1ZXN0LCBtb25pdG9ySWZyYW1lRm9ySGFzaCB9IGZyb20gJy4uL2ludGVyYWN0aW9uX2hhbmRsZXIvU2lsZW50SGFuZGxlci5tanMnO1xuaW1wb3J0IHsgTmF0aXZlTWVzc2FnZUhhbmRsZXIgfSBmcm9tICcuLi9icm9rZXIvbmF0aXZlQnJva2VyL05hdGl2ZU1lc3NhZ2VIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBOYXRpdmVJbnRlcmFjdGlvbkNsaWVudCB9IGZyb20gJy4vTmF0aXZlSW50ZXJhY3Rpb25DbGllbnQubWpzJztcbmltcG9ydCB7IEludGVyYWN0aW9uSGFuZGxlciB9IGZyb20gJy4uL2ludGVyYWN0aW9uX2hhbmRsZXIvSW50ZXJhY3Rpb25IYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBwcmVjb25uZWN0IH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlclV0aWxzLm1qcyc7XG5pbXBvcnQgeyBkZXNlcmlhbGl6ZVJlc3BvbnNlIH0gZnJvbSAnLi4vcmVzcG9uc2UvUmVzcG9uc2VIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBzaWxlbnRMb2dvdXRVbnN1cHBvcnRlZCwgbmF0aXZlQ29ubmVjdGlvbk5vdEVzdGFibGlzaGVkIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBTaWxlbnRJZnJhbWVDbGllbnQgZXh0ZW5kcyBTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgc3RvcmFnZUltcGwsIGJyb3dzZXJDcnlwdG8sIGxvZ2dlciwgZXZlbnRIYW5kbGVyLCBuYXZpZ2F0aW9uQ2xpZW50LCBhcGlJZCwgcGVyZm9ybWFuY2VDbGllbnQsIG5hdGl2ZVN0b3JhZ2VJbXBsLCBuYXRpdmVNZXNzYWdlSGFuZGxlciwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHN1cGVyKGNvbmZpZywgc3RvcmFnZUltcGwsIGJyb3dzZXJDcnlwdG8sIGxvZ2dlciwgZXZlbnRIYW5kbGVyLCBuYXZpZ2F0aW9uQ2xpZW50LCBwZXJmb3JtYW5jZUNsaWVudCwgbmF0aXZlTWVzc2FnZUhhbmRsZXIsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHRoaXMuYXBpSWQgPSBhcGlJZDtcclxuICAgICAgICB0aGlzLm5hdGl2ZVN0b3JhZ2UgPSBuYXRpdmVTdG9yYWdlSW1wbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWNxdWlyZXMgYSB0b2tlbiBzaWxlbnRseSBieSBvcGVuaW5nIGEgaGlkZGVuIGlmcmFtZSB0byB0aGUgL2F1dGhvcml6ZSBlbmRwb2ludCB3aXRoIHByb21wdD1ub25lIG9yIHByb21wdD1ub19zZXNzaW9uXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBhY3F1aXJlVG9rZW4ocmVxdWVzdCkge1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQuYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5TaWxlbnRJZnJhbWVDbGllbnRBY3F1aXJlVG9rZW4sIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgLy8gQ2hlY2sgdGhhdCB3ZSBoYXZlIHNvbWUgU1NPIGRhdGFcclxuICAgICAgICBpZiAoIXJlcXVlc3QubG9naW5IaW50ICYmXHJcbiAgICAgICAgICAgICFyZXF1ZXN0LnNpZCAmJlxyXG4gICAgICAgICAgICAoIXJlcXVlc3QuYWNjb3VudCB8fCAhcmVxdWVzdC5hY2NvdW50LnVzZXJuYW1lKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKFwiTm8gdXNlciBoaW50IHByb3ZpZGVkLiBUaGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWF5IG5lZWQgbW9yZSBpbmZvcm1hdGlvbiB0byBjb21wbGV0ZSB0aGlzIHJlcXVlc3QuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayB0aGUgcHJvbXB0IHZhbHVlXHJcbiAgICAgICAgY29uc3QgaW5wdXRSZXF1ZXN0ID0geyAuLi5yZXF1ZXN0IH07XHJcbiAgICAgICAgaWYgKGlucHV0UmVxdWVzdC5wcm9tcHQpIHtcclxuICAgICAgICAgICAgaWYgKGlucHV0UmVxdWVzdC5wcm9tcHQgIT09IFByb21wdFZhbHVlLk5PTkUgJiZcclxuICAgICAgICAgICAgICAgIGlucHV0UmVxdWVzdC5wcm9tcHQgIT09IFByb21wdFZhbHVlLk5PX1NFU1NJT04pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoYFNpbGVudElmcmFtZUNsaWVudC4gUmVwbGFjaW5nIGludmFsaWQgcHJvbXB0ICR7aW5wdXRSZXF1ZXN0LnByb21wdH0gd2l0aCAke1Byb21wdFZhbHVlLk5PTkV9YCk7XHJcbiAgICAgICAgICAgICAgICBpbnB1dFJlcXVlc3QucHJvbXB0ID0gUHJvbXB0VmFsdWUuTk9ORTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5wdXRSZXF1ZXN0LnByb21wdCA9IFByb21wdFZhbHVlLk5PTkU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIENyZWF0ZSBzaWxlbnQgcmVxdWVzdFxyXG4gICAgICAgIGNvbnN0IHNpbGVudFJlcXVlc3QgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdC5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50SW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0LCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKShpbnB1dFJlcXVlc3QsIEludGVyYWN0aW9uVHlwZS5TaWxlbnQpO1xyXG4gICAgICAgIHByZWNvbm5lY3Qoc2lsZW50UmVxdWVzdC5hdXRob3JpdHkpO1xyXG4gICAgICAgIGNvbnN0IHNlcnZlclRlbGVtZXRyeU1hbmFnZXIgPSB0aGlzLmluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKHRoaXMuYXBpSWQpO1xyXG4gICAgICAgIGxldCBhdXRoQ2xpZW50O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgdGhlIGNsaWVudFxyXG4gICAgICAgICAgICBhdXRoQ2xpZW50ID0gYXdhaXQgaW52b2tlQXN5bmModGhpcy5jcmVhdGVBdXRoQ29kZUNsaWVudC5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50Q3JlYXRlQXV0aENvZGVDbGllbnQsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKHtcclxuICAgICAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsXHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0QXV0aG9yaXR5OiBzaWxlbnRSZXF1ZXN0LmF1dGhvcml0eSxcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RBenVyZUNsb3VkT3B0aW9uczogc2lsZW50UmVxdWVzdC5henVyZUNsb3VkT3B0aW9ucyxcclxuICAgICAgICAgICAgICAgIHJlcXVlc3RFeHRyYVF1ZXJ5UGFyYW1ldGVyczogc2lsZW50UmVxdWVzdC5leHRyYVF1ZXJ5UGFyYW1ldGVycyxcclxuICAgICAgICAgICAgICAgIGFjY291bnQ6IHNpbGVudFJlcXVlc3QuYWNjb3VudCxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBpbnZva2VBc3luYyh0aGlzLnNpbGVudFRva2VuSGVscGVyLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLlNpbGVudElmcmFtZUNsaWVudFRva2VuSGVscGVyLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKShhdXRoQ2xpZW50LCBzaWxlbnRSZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBdXRoRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGUuc2V0Q29ycmVsYXRpb25JZCh0aGlzLmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgc2VydmVyVGVsZW1ldHJ5TWFuYWdlci5jYWNoZUZhaWxlZFJlcXVlc3QoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFhdXRoQ2xpZW50IHx8XHJcbiAgICAgICAgICAgICAgICAhKGUgaW5zdGFuY2VvZiBBdXRoRXJyb3IpIHx8XHJcbiAgICAgICAgICAgICAgICBlLmVycm9yQ29kZSAhPT0gQnJvd3NlckNvbnN0YW50cy5JTlZBTElEX0dSQU5UX0VSUk9SKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQuYWRkRmllbGRzKHtcclxuICAgICAgICAgICAgICAgIHJldHJ5RXJyb3I6IGUuZXJyb3JDb2RlLFxyXG4gICAgICAgICAgICB9LCB0aGlzLmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICBjb25zdCByZXRyeVNpbGVudFJlcXVlc3QgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdC5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50SW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0LCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKShpbnB1dFJlcXVlc3QsIEludGVyYWN0aW9uVHlwZS5TaWxlbnQpO1xyXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgaW52b2tlQXN5bmModGhpcy5zaWxlbnRUb2tlbkhlbHBlci5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5TaWxlbnRJZnJhbWVDbGllbnRUb2tlbkhlbHBlciwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHRoaXMuY29ycmVsYXRpb25JZCkoYXV0aENsaWVudCwgcmV0cnlTaWxlbnRSZXF1ZXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEN1cnJlbnRseSBVbnN1cHBvcnRlZFxyXG4gICAgICovXHJcbiAgICBsb2dvdXQoKSB7XHJcbiAgICAgICAgLy8gU3luY2hyb25vdXMgc28gd2UgbXVzdCByZWplY3RcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoY3JlYXRlQnJvd3NlckF1dGhFcnJvcihzaWxlbnRMb2dvdXRVbnN1cHBvcnRlZCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgd2hpY2ggYWNxdWlyZXMgYW4gYXV0aG9yaXphdGlvbiBjb2RlIHNpbGVudGx5IHVzaW5nIGEgaGlkZGVuIGlmcmFtZSBmcm9tIGdpdmVuIHVybFxyXG4gICAgICogdXNpbmcgdGhlIHNjb3BlcyByZXF1ZXN0ZWQgYXMgcGFydCBvZiB0aGUgaWQsIGFuZCBleGNoYW5nZXMgdGhlIGNvZGUgZm9yIGEgc2V0IG9mIE9BdXRoIHRva2Vucy5cclxuICAgICAqIEBwYXJhbSBuYXZpZ2F0ZVVybFxyXG4gICAgICogQHBhcmFtIHVzZXJSZXF1ZXN0U2NvcGVzXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHNpbGVudFRva2VuSGVscGVyKGF1dGhDbGllbnQsIHNpbGVudFJlcXVlc3QpIHtcclxuICAgICAgICBjb25zdCBjb3JyZWxhdGlvbklkID0gc2lsZW50UmVxdWVzdC5jb3JyZWxhdGlvbklkO1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQuYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5TaWxlbnRJZnJhbWVDbGllbnRUb2tlbkhlbHBlciwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGF1dGggY29kZSByZXF1ZXN0IGFuZCBnZW5lcmF0ZSBQS0NFIHBhcmFtc1xyXG4gICAgICAgIGNvbnN0IGF1dGhDb2RlUmVxdWVzdCA9IGF3YWl0IGludm9rZUFzeW5jKHRoaXMuaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25Db2RlUmVxdWVzdC5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50SW5pdGlhbGl6ZUF1dGhvcml6YXRpb25Db2RlUmVxdWVzdCwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIGNvcnJlbGF0aW9uSWQpKHNpbGVudFJlcXVlc3QpO1xyXG4gICAgICAgIC8vIENyZWF0ZSBhdXRob3JpemUgcmVxdWVzdCB1cmxcclxuICAgICAgICBjb25zdCBuYXZpZ2F0ZVVybCA9IGF3YWl0IGludm9rZUFzeW5jKGF1dGhDbGllbnQuZ2V0QXV0aENvZGVVcmwuYmluZChhdXRoQ2xpZW50KSwgUGVyZm9ybWFuY2VFdmVudHMuR2V0QXV0aENvZGVVcmwsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCBjb3JyZWxhdGlvbklkKSh7XHJcbiAgICAgICAgICAgIC4uLnNpbGVudFJlcXVlc3QsXHJcbiAgICAgICAgICAgIG5hdGl2ZUJyb2tlcjogTmF0aXZlTWVzc2FnZUhhbmRsZXIuaXNOYXRpdmVBdmFpbGFibGUodGhpcy5jb25maWcsIHRoaXMubG9nZ2VyLCB0aGlzLm5hdGl2ZU1lc3NhZ2VIYW5kbGVyLCBzaWxlbnRSZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lKSxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBDcmVhdGUgc2lsZW50IGhhbmRsZXJcclxuICAgICAgICBjb25zdCBpbnRlcmFjdGlvbkhhbmRsZXIgPSBuZXcgSW50ZXJhY3Rpb25IYW5kbGVyKGF1dGhDbGllbnQsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIGF1dGhDb2RlUmVxdWVzdCwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQpO1xyXG4gICAgICAgIC8vIEdldCB0aGUgZnJhbWUgaGFuZGxlIGZvciB0aGUgc2lsZW50IHJlcXVlc3RcclxuICAgICAgICBjb25zdCBtc2FsRnJhbWUgPSBhd2FpdCBpbnZva2VBc3luYyhpbml0aWF0ZUF1dGhSZXF1ZXN0LCBQZXJmb3JtYW5jZUV2ZW50cy5TaWxlbnRIYW5kbGVySW5pdGlhdGVBdXRoUmVxdWVzdCwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIGNvcnJlbGF0aW9uSWQpKG5hdmlnYXRlVXJsLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmxvZ2dlciwgY29ycmVsYXRpb25JZCwgdGhpcy5jb25maWcuc3lzdGVtLm5hdmlnYXRlRnJhbWVXYWl0KTtcclxuICAgICAgICBjb25zdCByZXNwb25zZVR5cGUgPSB0aGlzLmNvbmZpZy5hdXRoLk9JRENPcHRpb25zLnNlcnZlclJlc3BvbnNlVHlwZTtcclxuICAgICAgICAvLyBNb25pdG9yIHRoZSB3aW5kb3cgZm9yIHRoZSBoYXNoLiBSZXR1cm4gdGhlIHN0cmluZyB2YWx1ZSBhbmQgY2xvc2UgdGhlIHBvcHVwIHdoZW4gdGhlIGhhc2ggaXMgcmVjZWl2ZWQuIERlZmF1bHQgdGltZW91dCBpcyA2MCBzZWNvbmRzLlxyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlU3RyaW5nID0gYXdhaXQgaW52b2tlQXN5bmMobW9uaXRvcklmcmFtZUZvckhhc2gsIFBlcmZvcm1hbmNlRXZlbnRzLlNpbGVudEhhbmRsZXJNb25pdG9ySWZyYW1lRm9ySGFzaCwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIGNvcnJlbGF0aW9uSWQpKG1zYWxGcmFtZSwgdGhpcy5jb25maWcuc3lzdGVtLmlmcmFtZUhhc2hUaW1lb3V0LCB0aGlzLmNvbmZpZy5zeXN0ZW0ucG9sbEludGVydmFsTWlsbGlzZWNvbmRzLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmxvZ2dlciwgY29ycmVsYXRpb25JZCwgcmVzcG9uc2VUeXBlKTtcclxuICAgICAgICBjb25zdCBzZXJ2ZXJQYXJhbXMgPSBpbnZva2UoZGVzZXJpYWxpemVSZXNwb25zZSwgUGVyZm9ybWFuY2VFdmVudHMuRGVzZXJpYWxpemVSZXNwb25zZSwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHRoaXMuY29ycmVsYXRpb25JZCkocmVzcG9uc2VTdHJpbmcsIHJlc3BvbnNlVHlwZSwgdGhpcy5sb2dnZXIpO1xyXG4gICAgICAgIGlmIChzZXJ2ZXJQYXJhbXMuYWNjb3VudElkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJBY2NvdW50IGlkIGZvdW5kIGluIGhhc2gsIGNhbGxpbmcgV0FNIGZvciB0b2tlblwiKTtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm5hdGl2ZU1lc3NhZ2VIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVCcm93c2VyQXV0aEVycm9yKG5hdGl2ZUNvbm5lY3Rpb25Ob3RFc3RhYmxpc2hlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgbmF0aXZlSW50ZXJhY3Rpb25DbGllbnQgPSBuZXcgTmF0aXZlSW50ZXJhY3Rpb25DbGllbnQodGhpcy5jb25maWcsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIHRoaXMuYnJvd3NlckNyeXB0bywgdGhpcy5sb2dnZXIsIHRoaXMuZXZlbnRIYW5kbGVyLCB0aGlzLm5hdmlnYXRpb25DbGllbnQsIHRoaXMuYXBpSWQsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHRoaXMubmF0aXZlTWVzc2FnZUhhbmRsZXIsIHNlcnZlclBhcmFtcy5hY2NvdW50SWQsIHRoaXMuYnJvd3NlclN0b3JhZ2UsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICBjb25zdCB7IHVzZXJSZXF1ZXN0U3RhdGUgfSA9IFByb3RvY29sVXRpbHMucGFyc2VSZXF1ZXN0U3RhdGUodGhpcy5icm93c2VyQ3J5cHRvLCBzaWxlbnRSZXF1ZXN0LnN0YXRlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGludm9rZUFzeW5jKG5hdGl2ZUludGVyYWN0aW9uQ2xpZW50LmFjcXVpcmVUb2tlbi5iaW5kKG5hdGl2ZUludGVyYWN0aW9uQ2xpZW50KSwgUGVyZm9ybWFuY2VFdmVudHMuTmF0aXZlSW50ZXJhY3Rpb25DbGllbnRBY3F1aXJlVG9rZW4sIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCBjb3JyZWxhdGlvbklkKSh7XHJcbiAgICAgICAgICAgICAgICAuLi5zaWxlbnRSZXF1ZXN0LFxyXG4gICAgICAgICAgICAgICAgc3RhdGU6IHVzZXJSZXF1ZXN0U3RhdGUsXHJcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IHNpbGVudFJlcXVlc3QucHJvbXB0IHx8IFByb21wdFZhbHVlLk5PTkUsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBIYW5kbGUgcmVzcG9uc2UgZnJvbSBoYXNoIHN0cmluZ1xyXG4gICAgICAgIHJldHVybiBpbnZva2VBc3luYyhpbnRlcmFjdGlvbkhhbmRsZXIuaGFuZGxlQ29kZVJlc3BvbnNlLmJpbmQoaW50ZXJhY3Rpb25IYW5kbGVyKSwgUGVyZm9ybWFuY2VFdmVudHMuSGFuZGxlQ29kZVJlc3BvbnNlLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgY29ycmVsYXRpb25JZCkoc2VydmVyUGFyYW1zLCBzaWxlbnRSZXF1ZXN0KTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBTaWxlbnRJZnJhbWVDbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbGVudElmcmFtZUNsaWVudC5tanMubWFwXG4iXSwibmFtZXMiOlsiUGVyZm9ybWFuY2VFdmVudHMiLCJQcm9tcHRWYWx1ZSIsImludm9rZUFzeW5jIiwiQXV0aEVycm9yIiwiaW52b2tlIiwiUHJvdG9jb2xVdGlscyIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQiLCJjcmVhdGVCcm93c2VyQXV0aEVycm9yIiwiSW50ZXJhY3Rpb25UeXBlIiwiQnJvd3NlckNvbnN0YW50cyIsImluaXRpYXRlQXV0aFJlcXVlc3QiLCJtb25pdG9ySWZyYW1lRm9ySGFzaCIsIk5hdGl2ZU1lc3NhZ2VIYW5kbGVyIiwiTmF0aXZlSW50ZXJhY3Rpb25DbGllbnQiLCJJbnRlcmFjdGlvbkhhbmRsZXIiLCJwcmVjb25uZWN0IiwiZGVzZXJpYWxpemVSZXNwb25zZSIsInNpbGVudExvZ291dFVuc3VwcG9ydGVkIiwibmF0aXZlQ29ubmVjdGlvbk5vdEVzdGFibGlzaGVkIiwiU2lsZW50SWZyYW1lQ2xpZW50IiwiY29uc3RydWN0b3IiLCJjb25maWciLCJzdG9yYWdlSW1wbCIsImJyb3dzZXJDcnlwdG8iLCJsb2dnZXIiLCJldmVudEhhbmRsZXIiLCJuYXZpZ2F0aW9uQ2xpZW50IiwiYXBpSWQiLCJwZXJmb3JtYW5jZUNsaWVudCIsIm5hdGl2ZVN0b3JhZ2VJbXBsIiwibmF0aXZlTWVzc2FnZUhhbmRsZXIiLCJjb3JyZWxhdGlvbklkIiwibmF0aXZlU3RvcmFnZSIsImFjcXVpcmVUb2tlbiIsInJlcXVlc3QiLCJhZGRRdWV1ZU1lYXN1cmVtZW50IiwiU2lsZW50SWZyYW1lQ2xpZW50QWNxdWlyZVRva2VuIiwibG9naW5IaW50Iiwic2lkIiwiYWNjb3VudCIsInVzZXJuYW1lIiwid2FybmluZyIsImlucHV0UmVxdWVzdCIsInByb21wdCIsIk5PTkUiLCJOT19TRVNTSU9OIiwic2lsZW50UmVxdWVzdCIsImluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdCIsImJpbmQiLCJTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50SW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0IiwiU2lsZW50IiwiYXV0aG9yaXR5Iiwic2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsImluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyIiwiYXV0aENsaWVudCIsImNyZWF0ZUF1dGhDb2RlQ2xpZW50IiwiU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudENyZWF0ZUF1dGhDb2RlQ2xpZW50IiwicmVxdWVzdEF1dGhvcml0eSIsInJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucyIsImF6dXJlQ2xvdWRPcHRpb25zIiwicmVxdWVzdEV4dHJhUXVlcnlQYXJhbWV0ZXJzIiwiZXh0cmFRdWVyeVBhcmFtZXRlcnMiLCJzaWxlbnRUb2tlbkhlbHBlciIsIlNpbGVudElmcmFtZUNsaWVudFRva2VuSGVscGVyIiwiZSIsInNldENvcnJlbGF0aW9uSWQiLCJjYWNoZUZhaWxlZFJlcXVlc3QiLCJlcnJvckNvZGUiLCJJTlZBTElEX0dSQU5UX0VSUk9SIiwiYWRkRmllbGRzIiwicmV0cnlFcnJvciIsInJldHJ5U2lsZW50UmVxdWVzdCIsImxvZ291dCIsIlByb21pc2UiLCJyZWplY3QiLCJhdXRoQ29kZVJlcXVlc3QiLCJpbml0aWFsaXplQXV0aG9yaXphdGlvbkNvZGVSZXF1ZXN0IiwiU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEluaXRpYWxpemVBdXRob3JpemF0aW9uQ29kZVJlcXVlc3QiLCJuYXZpZ2F0ZVVybCIsImdldEF1dGhDb2RlVXJsIiwiR2V0QXV0aENvZGVVcmwiLCJuYXRpdmVCcm9rZXIiLCJpc05hdGl2ZUF2YWlsYWJsZSIsImF1dGhlbnRpY2F0aW9uU2NoZW1lIiwiaW50ZXJhY3Rpb25IYW5kbGVyIiwiYnJvd3NlclN0b3JhZ2UiLCJtc2FsRnJhbWUiLCJTaWxlbnRIYW5kbGVySW5pdGlhdGVBdXRoUmVxdWVzdCIsInN5c3RlbSIsIm5hdmlnYXRlRnJhbWVXYWl0IiwicmVzcG9uc2VUeXBlIiwiYXV0aCIsIk9JRENPcHRpb25zIiwic2VydmVyUmVzcG9uc2VUeXBlIiwicmVzcG9uc2VTdHJpbmciLCJTaWxlbnRIYW5kbGVyTW9uaXRvcklmcmFtZUZvckhhc2giLCJpZnJhbWVIYXNoVGltZW91dCIsInBvbGxJbnRlcnZhbE1pbGxpc2Vjb25kcyIsInNlcnZlclBhcmFtcyIsIkRlc2VyaWFsaXplUmVzcG9uc2UiLCJhY2NvdW50SWQiLCJ2ZXJib3NlIiwibmF0aXZlSW50ZXJhY3Rpb25DbGllbnQiLCJ1c2VyUmVxdWVzdFN0YXRlIiwicGFyc2VSZXF1ZXN0U3RhdGUiLCJzdGF0ZSIsIk5hdGl2ZUludGVyYWN0aW9uQ2xpZW50QWNxdWlyZVRva2VuIiwiaGFuZGxlQ29kZVJlc3BvbnNlIiwiSGFuZGxlQ29kZVJlc3BvbnNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentIframeClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentRefreshClient.mjs":
/*!******************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_client/SilentRefreshClient.mjs ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SilentRefreshClient: () => (/* binding */ SilentRefreshClient)\n/* harmony export */ });\n/* harmony import */ var _StandardInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./StandardInteractionClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/StandardInteractionClient.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/client/RefreshTokenClient.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _request_RequestHelpers_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../request/RequestHelpers.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/request/RequestHelpers.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class SilentRefreshClient extends _StandardInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__.StandardInteractionClient {\n    /**\r\n     * Exchanges the refresh token for new tokens\r\n     * @param request\r\n     */ async acquireToken(request) {\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.SilentRefreshClientAcquireToken, request.correlationId);\n        const baseRequest = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(_request_RequestHelpers_mjs__WEBPACK_IMPORTED_MODULE_3__.initializeBaseRequest, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.InitializeBaseRequest, this.logger, this.performanceClient, request.correlationId)(request, this.config, this.performanceClient, this.logger);\n        const silentRequest = {\n            ...request,\n            ...baseRequest\n        };\n        if (request.redirectUri) {\n            // Make sure any passed redirectUri is converted to an absolute URL - redirectUri is not a required parameter for refresh token redemption so only include if explicitly provided\n            silentRequest.redirectUri = this.getRedirectUri(request.redirectUri);\n        }\n        const serverTelemetryManager = this.initializeServerTelemetryManager(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_4__.ApiId.acquireTokenSilent_silentFlow);\n        const refreshTokenClient = await this.createRefreshTokenClient({\n            serverTelemetryManager,\n            authorityUrl: silentRequest.authority,\n            azureCloudOptions: silentRequest.azureCloudOptions,\n            account: silentRequest.account\n        });\n        // Send request to renew token. Auth module will throw errors if token cannot be renewed.\n        return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(refreshTokenClient.acquireTokenByRefreshToken.bind(refreshTokenClient), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientAcquireTokenByRefreshToken, this.logger, this.performanceClient, request.correlationId)(silentRequest).catch((e)=>{\n            e.setCorrelationId(this.correlationId);\n            serverTelemetryManager.cacheFailedRequest(e);\n            throw e;\n        });\n    }\n    /**\r\n     * Currently Unsupported\r\n     */ logout() {\n        // Synchronous so we must reject\n        return Promise.reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__.silentLogoutUnsupported));\n    }\n    /**\r\n     * Creates a Refresh Client with the given authority, or the default authority.\r\n     * @param params {\r\n     *         serverTelemetryManager: ServerTelemetryManager;\r\n     *         authorityUrl?: string;\r\n     *         azureCloudOptions?: AzureCloudOptions;\r\n     *         extraQueryParams?: StringDict;\r\n     *         account?: AccountInfo;\r\n     *        }\r\n     */ async createRefreshTokenClient(params) {\n        // Create auth module.\n        const clientConfig = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(this.getClientConfiguration.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.StandardInteractionClientGetClientConfiguration, this.logger, this.performanceClient, this.correlationId)({\n            serverTelemetryManager: params.serverTelemetryManager,\n            requestAuthority: params.authorityUrl,\n            requestAzureCloudOptions: params.azureCloudOptions,\n            requestExtraQueryParameters: params.extraQueryParameters,\n            account: params.account\n        });\n        return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.RefreshTokenClient(clientConfig, this.performanceClient);\n    }\n}\n //# sourceMappingURL=SilentRefreshClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9TaWxlbnRSZWZyZXNoQ2xpZW50Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDNEU7QUFDb0I7QUFDMUM7QUFDaUI7QUFDRDtBQUNPO0FBRTdFOzs7Q0FHQyxHQUNELE1BQU1RLDRCQUE0QlIscUZBQXlCQTtJQUN2RDs7O0tBR0MsR0FDRCxNQUFNUyxhQUFhQyxPQUFPLEVBQUU7UUFDeEIsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ0MsbUJBQW1CLENBQUNYLHlFQUFpQkEsQ0FBQ1ksK0JBQStCLEVBQUVILFFBQVFJLGFBQWE7UUFDbkgsTUFBTUMsY0FBYyxNQUFNYix1RUFBV0EsQ0FBQ0ksOEVBQXFCQSxFQUFFTCx5RUFBaUJBLENBQUNlLHFCQUFxQixFQUFFLElBQUksQ0FBQ0MsTUFBTSxFQUFFLElBQUksQ0FBQ04saUJBQWlCLEVBQUVELFFBQVFJLGFBQWEsRUFBRUosU0FBUyxJQUFJLENBQUNRLE1BQU0sRUFBRSxJQUFJLENBQUNQLGlCQUFpQixFQUFFLElBQUksQ0FBQ00sTUFBTTtRQUMzTixNQUFNRSxnQkFBZ0I7WUFDbEIsR0FBR1QsT0FBTztZQUNWLEdBQUdLLFdBQVc7UUFDbEI7UUFDQSxJQUFJTCxRQUFRVSxXQUFXLEVBQUU7WUFDckIsaUxBQWlMO1lBQ2pMRCxjQUFjQyxXQUFXLEdBQUcsSUFBSSxDQUFDQyxjQUFjLENBQUNYLFFBQVFVLFdBQVc7UUFDdkU7UUFDQSxNQUFNRSx5QkFBeUIsSUFBSSxDQUFDQyxnQ0FBZ0MsQ0FBQ25CLDhEQUFLQSxDQUFDb0IsNkJBQTZCO1FBQ3hHLE1BQU1DLHFCQUFxQixNQUFNLElBQUksQ0FBQ0Msd0JBQXdCLENBQUM7WUFDM0RKO1lBQ0FLLGNBQWNSLGNBQWNTLFNBQVM7WUFDckNDLG1CQUFtQlYsY0FBY1UsaUJBQWlCO1lBQ2xEQyxTQUFTWCxjQUFjVyxPQUFPO1FBQ2xDO1FBQ0EseUZBQXlGO1FBQ3pGLE9BQU81Qix1RUFBV0EsQ0FBQ3VCLG1CQUFtQk0sMEJBQTBCLENBQUNDLElBQUksQ0FBQ1AscUJBQXFCeEIseUVBQWlCQSxDQUFDZ0MsNENBQTRDLEVBQUUsSUFBSSxDQUFDaEIsTUFBTSxFQUFFLElBQUksQ0FBQ04saUJBQWlCLEVBQUVELFFBQVFJLGFBQWEsRUFBRUssZUFBZWUsS0FBSyxDQUFDLENBQUNDO1lBQ3pPQSxFQUFFQyxnQkFBZ0IsQ0FBQyxJQUFJLENBQUN0QixhQUFhO1lBQ3JDUSx1QkFBdUJlLGtCQUFrQixDQUFDRjtZQUMxQyxNQUFNQTtRQUNWO0lBQ0o7SUFDQTs7S0FFQyxHQUNERyxTQUFTO1FBQ0wsZ0NBQWdDO1FBQ2hDLE9BQU9DLFFBQVFDLE1BQU0sQ0FBQ25DLG1GQUFzQkEsQ0FBQ0UscUZBQXVCQTtJQUN4RTtJQUNBOzs7Ozs7Ozs7S0FTQyxHQUNELE1BQU1tQix5QkFBeUJlLE1BQU0sRUFBRTtRQUNuQyxzQkFBc0I7UUFDdEIsTUFBTUMsZUFBZSxNQUFNeEMsdUVBQVdBLENBQUMsSUFBSSxDQUFDeUMsc0JBQXNCLENBQUNYLElBQUksQ0FBQyxJQUFJLEdBQUcvQix5RUFBaUJBLENBQUMyQywrQ0FBK0MsRUFBRSxJQUFJLENBQUMzQixNQUFNLEVBQUUsSUFBSSxDQUFDTixpQkFBaUIsRUFBRSxJQUFJLENBQUNHLGFBQWEsRUFBRTtZQUN2TVEsd0JBQXdCbUIsT0FBT25CLHNCQUFzQjtZQUNyRHVCLGtCQUFrQkosT0FBT2QsWUFBWTtZQUNyQ21CLDBCQUEwQkwsT0FBT1osaUJBQWlCO1lBQ2xEa0IsNkJBQTZCTixPQUFPTyxvQkFBb0I7WUFDeERsQixTQUFTVyxPQUFPWCxPQUFPO1FBQzNCO1FBQ0EsT0FBTyxJQUFJM0IsMEVBQWtCQSxDQUFDdUMsY0FBYyxJQUFJLENBQUMvQixpQkFBaUI7SUFDdEU7QUFDSjtBQUUrQixDQUMvQixnREFBZ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9TaWxlbnRSZWZyZXNoQ2xpZW50Lm1qcz82Y2M4Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCB9IGZyb20gJy4vU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudC5tanMnO1xuaW1wb3J0IHsgUGVyZm9ybWFuY2VFdmVudHMsIGludm9rZUFzeW5jLCBSZWZyZXNoVG9rZW5DbGllbnQgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBBcGlJZCB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBpbml0aWFsaXplQmFzZVJlcXVlc3QgfSBmcm9tICcuLi9yZXF1ZXN0L1JlcXVlc3RIZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyBzaWxlbnRMb2dvdXRVbnN1cHBvcnRlZCB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY2xhc3MgU2lsZW50UmVmcmVzaENsaWVudCBleHRlbmRzIFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQge1xyXG4gICAgLyoqXHJcbiAgICAgKiBFeGNoYW5nZXMgdGhlIHJlZnJlc2ggdG9rZW4gZm9yIG5ldyB0b2tlbnNcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGFjcXVpcmVUb2tlbihyZXF1ZXN0KSB7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudC5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLlNpbGVudFJlZnJlc2hDbGllbnRBY3F1aXJlVG9rZW4sIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgY29uc3QgYmFzZVJlcXVlc3QgPSBhd2FpdCBpbnZva2VBc3luYyhpbml0aWFsaXplQmFzZVJlcXVlc3QsIFBlcmZvcm1hbmNlRXZlbnRzLkluaXRpYWxpemVCYXNlUmVxdWVzdCwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkocmVxdWVzdCwgdGhpcy5jb25maWcsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHRoaXMubG9nZ2VyKTtcclxuICAgICAgICBjb25zdCBzaWxlbnRSZXF1ZXN0ID0ge1xyXG4gICAgICAgICAgICAuLi5yZXF1ZXN0LFxyXG4gICAgICAgICAgICAuLi5iYXNlUmVxdWVzdCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChyZXF1ZXN0LnJlZGlyZWN0VXJpKSB7XHJcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBhbnkgcGFzc2VkIHJlZGlyZWN0VXJpIGlzIGNvbnZlcnRlZCB0byBhbiBhYnNvbHV0ZSBVUkwgLSByZWRpcmVjdFVyaSBpcyBub3QgYSByZXF1aXJlZCBwYXJhbWV0ZXIgZm9yIHJlZnJlc2ggdG9rZW4gcmVkZW1wdGlvbiBzbyBvbmx5IGluY2x1ZGUgaWYgZXhwbGljaXRseSBwcm92aWRlZFxyXG4gICAgICAgICAgICBzaWxlbnRSZXF1ZXN0LnJlZGlyZWN0VXJpID0gdGhpcy5nZXRSZWRpcmVjdFVyaShyZXF1ZXN0LnJlZGlyZWN0VXJpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc2VydmVyVGVsZW1ldHJ5TWFuYWdlciA9IHRoaXMuaW5pdGlhbGl6ZVNlcnZlclRlbGVtZXRyeU1hbmFnZXIoQXBpSWQuYWNxdWlyZVRva2VuU2lsZW50X3NpbGVudEZsb3cpO1xyXG4gICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbkNsaWVudCA9IGF3YWl0IHRoaXMuY3JlYXRlUmVmcmVzaFRva2VuQ2xpZW50KHtcclxuICAgICAgICAgICAgc2VydmVyVGVsZW1ldHJ5TWFuYWdlcixcclxuICAgICAgICAgICAgYXV0aG9yaXR5VXJsOiBzaWxlbnRSZXF1ZXN0LmF1dGhvcml0eSxcclxuICAgICAgICAgICAgYXp1cmVDbG91ZE9wdGlvbnM6IHNpbGVudFJlcXVlc3QuYXp1cmVDbG91ZE9wdGlvbnMsXHJcbiAgICAgICAgICAgIGFjY291bnQ6IHNpbGVudFJlcXVlc3QuYWNjb3VudCxcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBTZW5kIHJlcXVlc3QgdG8gcmVuZXcgdG9rZW4uIEF1dGggbW9kdWxlIHdpbGwgdGhyb3cgZXJyb3JzIGlmIHRva2VuIGNhbm5vdCBiZSByZW5ld2VkLlxyXG4gICAgICAgIHJldHVybiBpbnZva2VBc3luYyhyZWZyZXNoVG9rZW5DbGllbnQuYWNxdWlyZVRva2VuQnlSZWZyZXNoVG9rZW4uYmluZChyZWZyZXNoVG9rZW5DbGllbnQpLCBQZXJmb3JtYW5jZUV2ZW50cy5SZWZyZXNoVG9rZW5DbGllbnRBY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbiwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkoc2lsZW50UmVxdWVzdCkuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICAgICAgZS5zZXRDb3JyZWxhdGlvbklkKHRoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXIuY2FjaGVGYWlsZWRSZXF1ZXN0KGUpO1xyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDdXJyZW50bHkgVW5zdXBwb3J0ZWRcclxuICAgICAqL1xyXG4gICAgbG9nb3V0KCkge1xyXG4gICAgICAgIC8vIFN5bmNocm9ub3VzIHNvIHdlIG11c3QgcmVqZWN0XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3Ioc2lsZW50TG9nb3V0VW5zdXBwb3J0ZWQpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIFJlZnJlc2ggQ2xpZW50IHdpdGggdGhlIGdpdmVuIGF1dGhvcml0eSwgb3IgdGhlIGRlZmF1bHQgYXV0aG9yaXR5LlxyXG4gICAgICogQHBhcmFtIHBhcmFtcyB7XHJcbiAgICAgKiAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXI6IFNlcnZlclRlbGVtZXRyeU1hbmFnZXI7XHJcbiAgICAgKiAgICAgICAgIGF1dGhvcml0eVVybD86IHN0cmluZztcclxuICAgICAqICAgICAgICAgYXp1cmVDbG91ZE9wdGlvbnM/OiBBenVyZUNsb3VkT3B0aW9ucztcclxuICAgICAqICAgICAgICAgZXh0cmFRdWVyeVBhcmFtcz86IFN0cmluZ0RpY3Q7XHJcbiAgICAgKiAgICAgICAgIGFjY291bnQ/OiBBY2NvdW50SW5mbztcclxuICAgICAqICAgICAgICB9XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGNyZWF0ZVJlZnJlc2hUb2tlbkNsaWVudChwYXJhbXMpIHtcclxuICAgICAgICAvLyBDcmVhdGUgYXV0aCBtb2R1bGUuXHJcbiAgICAgICAgY29uc3QgY2xpZW50Q29uZmlnID0gYXdhaXQgaW52b2tlQXN5bmModGhpcy5nZXRDbGllbnRDb25maWd1cmF0aW9uLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRHZXRDbGllbnRDb25maWd1cmF0aW9uLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5jb3JyZWxhdGlvbklkKSh7XHJcbiAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXI6IHBhcmFtcy5zZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLFxyXG4gICAgICAgICAgICByZXF1ZXN0QXV0aG9yaXR5OiBwYXJhbXMuYXV0aG9yaXR5VXJsLFxyXG4gICAgICAgICAgICByZXF1ZXN0QXp1cmVDbG91ZE9wdGlvbnM6IHBhcmFtcy5henVyZUNsb3VkT3B0aW9ucyxcclxuICAgICAgICAgICAgcmVxdWVzdEV4dHJhUXVlcnlQYXJhbWV0ZXJzOiBwYXJhbXMuZXh0cmFRdWVyeVBhcmFtZXRlcnMsXHJcbiAgICAgICAgICAgIGFjY291bnQ6IHBhcmFtcy5hY2NvdW50LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVmcmVzaFRva2VuQ2xpZW50KGNsaWVudENvbmZpZywgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgU2lsZW50UmVmcmVzaENsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2lsZW50UmVmcmVzaENsaWVudC5tanMubWFwXG4iXSwibmFtZXMiOlsiU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCIsIlBlcmZvcm1hbmNlRXZlbnRzIiwiaW52b2tlQXN5bmMiLCJSZWZyZXNoVG9rZW5DbGllbnQiLCJBcGlJZCIsImNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IiLCJpbml0aWFsaXplQmFzZVJlcXVlc3QiLCJzaWxlbnRMb2dvdXRVbnN1cHBvcnRlZCIsIlNpbGVudFJlZnJlc2hDbGllbnQiLCJhY3F1aXJlVG9rZW4iLCJyZXF1ZXN0IiwicGVyZm9ybWFuY2VDbGllbnQiLCJhZGRRdWV1ZU1lYXN1cmVtZW50IiwiU2lsZW50UmVmcmVzaENsaWVudEFjcXVpcmVUb2tlbiIsImNvcnJlbGF0aW9uSWQiLCJiYXNlUmVxdWVzdCIsIkluaXRpYWxpemVCYXNlUmVxdWVzdCIsImxvZ2dlciIsImNvbmZpZyIsInNpbGVudFJlcXVlc3QiLCJyZWRpcmVjdFVyaSIsImdldFJlZGlyZWN0VXJpIiwic2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsImluaXRpYWxpemVTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyIiwiYWNxdWlyZVRva2VuU2lsZW50X3NpbGVudEZsb3ciLCJyZWZyZXNoVG9rZW5DbGllbnQiLCJjcmVhdGVSZWZyZXNoVG9rZW5DbGllbnQiLCJhdXRob3JpdHlVcmwiLCJhdXRob3JpdHkiLCJhenVyZUNsb3VkT3B0aW9ucyIsImFjY291bnQiLCJhY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbiIsImJpbmQiLCJSZWZyZXNoVG9rZW5DbGllbnRBY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbiIsImNhdGNoIiwiZSIsInNldENvcnJlbGF0aW9uSWQiLCJjYWNoZUZhaWxlZFJlcXVlc3QiLCJsb2dvdXQiLCJQcm9taXNlIiwicmVqZWN0IiwicGFyYW1zIiwiY2xpZW50Q29uZmlnIiwiZ2V0Q2xpZW50Q29uZmlndXJhdGlvbiIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRHZXRDbGllbnRDb25maWd1cmF0aW9uIiwicmVxdWVzdEF1dGhvcml0eSIsInJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucyIsInJlcXVlc3RFeHRyYVF1ZXJ5UGFyYW1ldGVycyIsImV4dHJhUXVlcnlQYXJhbWV0ZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/SilentRefreshClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/StandardInteractionClient.mjs":
/*!************************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_client/StandardInteractionClient.mjs ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StandardInteractionClient: () => (/* binding */ StandardInteractionClient)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/client/AuthorizationCodeClient.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/ProtocolUtils.mjs\");\n/* harmony import */ var _BaseInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseInteractionClient.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/BaseInteractionClient.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../packageMetadata.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/packageMetadata.mjs\");\n/* harmony import */ var _utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/BrowserUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserUtils.mjs\");\n/* harmony import */ var _crypto_PkceGenerator_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../crypto/PkceGenerator.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/crypto/PkceGenerator.mjs\");\n/* harmony import */ var _crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../crypto/BrowserCrypto.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/crypto/BrowserCrypto.mjs\");\n/* harmony import */ var _request_RequestHelpers_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../request/RequestHelpers.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/request/RequestHelpers.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Defines the class structure and helper functions used by the \"standard\", non-brokered auth flows (popup, redirect, silent (RT), silent (iframe))\r\n */ class StandardInteractionClient extends _BaseInteractionClient_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseInteractionClient {\n    /**\r\n     * Generates an auth code request tied to the url request.\r\n     * @param request\r\n     */ async initializeAuthorizationCodeRequest(request) {\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest, this.correlationId);\n        const generatedPkceParams = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(_crypto_PkceGenerator_mjs__WEBPACK_IMPORTED_MODULE_3__.generatePkceCodes, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.GeneratePkceCodes, this.logger, this.performanceClient, this.correlationId)(this.performanceClient, this.logger, this.correlationId);\n        const authCodeRequest = {\n            ...request,\n            redirectUri: request.redirectUri,\n            code: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING,\n            codeVerifier: generatedPkceParams.verifier\n        };\n        request.codeChallenge = generatedPkceParams.challenge;\n        request.codeChallengeMethod = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.Constants.S256_CODE_CHALLENGE_METHOD;\n        return authCodeRequest;\n    }\n    /**\r\n     * Initializer for the logout request.\r\n     * @param logoutRequest\r\n     */ initializeLogoutRequest(logoutRequest) {\n        this.logger.verbose(\"initializeLogoutRequest called\", logoutRequest?.correlationId);\n        const validLogoutRequest = {\n            correlationId: this.correlationId || (0,_crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_5__.createNewGuid)(),\n            ...logoutRequest\n        };\n        /**\r\n         * Set logout_hint to be login_hint from ID Token Claims if present\r\n         * and logoutHint attribute wasn't manually set in logout request\r\n         */ if (logoutRequest) {\n            // If logoutHint isn't set and an account was passed in, try to extract logoutHint from ID Token Claims\n            if (!logoutRequest.logoutHint) {\n                if (logoutRequest.account) {\n                    const logoutHint = this.getLogoutHintFromIdTokenClaims(logoutRequest.account);\n                    if (logoutHint) {\n                        this.logger.verbose(\"Setting logoutHint to login_hint ID Token Claim value for the account provided\");\n                        validLogoutRequest.logoutHint = logoutHint;\n                    }\n                } else {\n                    this.logger.verbose(\"logoutHint was not set and account was not passed into logout request, logoutHint will not be set\");\n                }\n            } else {\n                this.logger.verbose(\"logoutHint has already been set in logoutRequest\");\n            }\n        } else {\n            this.logger.verbose(\"logoutHint will not be set since no logout request was configured\");\n        }\n        /*\r\n         * Only set redirect uri if logout request isn't provided or the set uri isn't null.\r\n         * Otherwise, use passed uri, config, or current page.\r\n         */ if (!logoutRequest || logoutRequest.postLogoutRedirectUri !== null) {\n            if (logoutRequest && logoutRequest.postLogoutRedirectUri) {\n                this.logger.verbose(\"Setting postLogoutRedirectUri to uri set on logout request\", validLogoutRequest.correlationId);\n                validLogoutRequest.postLogoutRedirectUri = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.UrlString.getAbsoluteUrl(logoutRequest.postLogoutRedirectUri, (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_7__.getCurrentUri)());\n            } else if (this.config.auth.postLogoutRedirectUri === null) {\n                this.logger.verbose(\"postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect\", validLogoutRequest.correlationId);\n            } else if (this.config.auth.postLogoutRedirectUri) {\n                this.logger.verbose(\"Setting postLogoutRedirectUri to configured uri\", validLogoutRequest.correlationId);\n                validLogoutRequest.postLogoutRedirectUri = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.UrlString.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri, (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_7__.getCurrentUri)());\n            } else {\n                this.logger.verbose(\"Setting postLogoutRedirectUri to current page\", validLogoutRequest.correlationId);\n                validLogoutRequest.postLogoutRedirectUri = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.UrlString.getAbsoluteUrl((0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_7__.getCurrentUri)(), (0,_utils_BrowserUtils_mjs__WEBPACK_IMPORTED_MODULE_7__.getCurrentUri)());\n            }\n        } else {\n            this.logger.verbose(\"postLogoutRedirectUri passed as null, not setting post logout redirect uri\", validLogoutRequest.correlationId);\n        }\n        return validLogoutRequest;\n    }\n    /**\r\n     * Parses login_hint ID Token Claim out of AccountInfo object to be used as\r\n     * logout_hint in end session request.\r\n     * @param account\r\n     */ getLogoutHintFromIdTokenClaims(account) {\n        const idTokenClaims = account.idTokenClaims;\n        if (idTokenClaims) {\n            if (idTokenClaims.login_hint) {\n                return idTokenClaims.login_hint;\n            } else {\n                this.logger.verbose(\"The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request\");\n            }\n        } else {\n            this.logger.verbose(\"The provided account does not contain ID Token Claims, logoutHint will not be added to logout request\");\n        }\n        return null;\n    }\n    /**\r\n     * Creates an Authorization Code Client with the given authority, or the default authority.\r\n     * @param params {\r\n     *         serverTelemetryManager: ServerTelemetryManager;\r\n     *         authorityUrl?: string;\r\n     *         requestAzureCloudOptions?: AzureCloudOptions;\r\n     *         requestExtraQueryParameters?: StringDict;\r\n     *         account?: AccountInfo;\r\n     *        }\r\n     */ async createAuthCodeClient(params) {\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.StandardInteractionClientCreateAuthCodeClient, this.correlationId);\n        // Create auth module.\n        const clientConfig = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(this.getClientConfiguration.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.StandardInteractionClientGetClientConfiguration, this.logger, this.performanceClient, this.correlationId)(params);\n        return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_8__.AuthorizationCodeClient(clientConfig, this.performanceClient);\n    }\n    /**\r\n     * Creates a Client Configuration object with the given request authority, or the default authority.\r\n     * @param params {\r\n     *         serverTelemetryManager: ServerTelemetryManager;\r\n     *         requestAuthority?: string;\r\n     *         requestAzureCloudOptions?: AzureCloudOptions;\r\n     *         requestExtraQueryParameters?: boolean;\r\n     *         account?: AccountInfo;\r\n     *        }\r\n     */ async getClientConfiguration(params) {\n        const { serverTelemetryManager, requestAuthority, requestAzureCloudOptions, requestExtraQueryParameters, account } = params;\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.StandardInteractionClientGetClientConfiguration, this.correlationId);\n        const discoveredAuthority = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(this.getDiscoveredAuthority.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.StandardInteractionClientGetDiscoveredAuthority, this.logger, this.performanceClient, this.correlationId)({\n            requestAuthority,\n            requestAzureCloudOptions,\n            requestExtraQueryParameters,\n            account\n        });\n        const logger = this.config.system.loggerOptions;\n        return {\n            authOptions: {\n                clientId: this.config.auth.clientId,\n                authority: discoveredAuthority,\n                clientCapabilities: this.config.auth.clientCapabilities,\n                redirectUri: this.config.auth.redirectUri\n            },\n            systemOptions: {\n                tokenRenewalOffsetSeconds: this.config.system.tokenRenewalOffsetSeconds,\n                preventCorsPreflight: true\n            },\n            loggerOptions: {\n                loggerCallback: logger.loggerCallback,\n                piiLoggingEnabled: logger.piiLoggingEnabled,\n                logLevel: logger.logLevel,\n                correlationId: this.correlationId\n            },\n            cacheOptions: {\n                claimsBasedCachingEnabled: this.config.cache.claimsBasedCachingEnabled\n            },\n            cryptoInterface: this.browserCrypto,\n            networkInterface: this.networkClient,\n            storageInterface: this.browserStorage,\n            serverTelemetryManager: serverTelemetryManager,\n            libraryInfo: {\n                sku: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_9__.BrowserConstants.MSAL_SKU,\n                version: _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_10__.version,\n                cpu: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING,\n                os: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING\n            },\n            telemetry: this.config.telemetry\n        };\n    }\n    /**\r\n     * Helper to initialize required request parameters for interactive APIs and ssoSilent()\r\n     * @param request\r\n     * @param interactionType\r\n     */ async initializeAuthorizationRequest(request, interactionType) {\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest, this.correlationId);\n        const redirectUri = this.getRedirectUri(request.redirectUri);\n        const browserState = {\n            interactionType: interactionType\n        };\n        const state = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.ProtocolUtils.setRequestState(this.browserCrypto, request && request.state || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING, browserState);\n        const baseRequest = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(_request_RequestHelpers_mjs__WEBPACK_IMPORTED_MODULE_12__.initializeBaseRequest, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.InitializeBaseRequest, this.logger, this.performanceClient, this.correlationId)({\n            ...request,\n            correlationId: this.correlationId\n        }, this.config, this.performanceClient, this.logger);\n        const validatedRequest = {\n            ...baseRequest,\n            redirectUri: redirectUri,\n            state: state,\n            nonce: request.nonce || (0,_crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_5__.createNewGuid)(),\n            responseMode: this.config.auth.OIDCOptions.serverResponseType\n        };\n        // Skip active account lookup if either login hint or session id is set\n        if (request.loginHint || request.sid) {\n            return validatedRequest;\n        }\n        const account = request.account || this.browserStorage.getActiveAccount();\n        if (account) {\n            this.logger.verbose(\"Setting validated request account\", this.correlationId);\n            this.logger.verbosePii(`Setting validated request account: ${account.homeAccountId}`, this.correlationId);\n            validatedRequest.account = account;\n        }\n        // Check for ADAL/MSAL v1 SSO\n        if (!validatedRequest.loginHint && !account) {\n            const legacyLoginHint = this.browserStorage.getLegacyLoginHint();\n            if (legacyLoginHint) {\n                validatedRequest.loginHint = legacyLoginHint;\n            }\n        }\n        return validatedRequest;\n    }\n}\n //# sourceMappingURL=StandardInteractionClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2NsaWVudC9TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUMwSTtBQUN0RTtBQUNIO0FBQ2hCO0FBQ1M7QUFDTTtBQUNKO0FBQ1U7QUFFdEU7OztDQUdDLEdBQ0Q7O0NBRUMsR0FDRCxNQUFNYSxrQ0FBa0NQLDZFQUFxQkE7SUFDekQ7OztLQUdDLEdBQ0QsTUFBTVEsbUNBQW1DQyxPQUFPLEVBQUU7UUFDOUMsSUFBSSxDQUFDQyxpQkFBaUIsQ0FBQ0MsbUJBQW1CLENBQUNqQix5RUFBaUJBLENBQUNrQiwyREFBMkQsRUFBRSxJQUFJLENBQUNDLGFBQWE7UUFDNUksTUFBTUMsc0JBQXNCLE1BQU1uQix1RUFBV0EsQ0FBQ1Msd0VBQWlCQSxFQUFFVix5RUFBaUJBLENBQUNxQixpQkFBaUIsRUFBRSxJQUFJLENBQUNDLE1BQU0sRUFBRSxJQUFJLENBQUNOLGlCQUFpQixFQUFFLElBQUksQ0FBQ0csYUFBYSxFQUFFLElBQUksQ0FBQ0gsaUJBQWlCLEVBQUUsSUFBSSxDQUFDTSxNQUFNLEVBQUUsSUFBSSxDQUFDSCxhQUFhO1FBQ3ROLE1BQU1JLGtCQUFrQjtZQUNwQixHQUFHUixPQUFPO1lBQ1ZTLGFBQWFULFFBQVFTLFdBQVc7WUFDaENDLE1BQU12QixpRUFBU0EsQ0FBQ3dCLFlBQVk7WUFDNUJDLGNBQWNQLG9CQUFvQlEsUUFBUTtRQUM5QztRQUNBYixRQUFRYyxhQUFhLEdBQUdULG9CQUFvQlUsU0FBUztRQUNyRGYsUUFBUWdCLG1CQUFtQixHQUFHN0IsaUVBQVNBLENBQUM4QiwwQkFBMEI7UUFDbEUsT0FBT1Q7SUFDWDtJQUNBOzs7S0FHQyxHQUNEVSx3QkFBd0JDLGFBQWEsRUFBRTtRQUNuQyxJQUFJLENBQUNaLE1BQU0sQ0FBQ2EsT0FBTyxDQUFDLGtDQUFrQ0Qs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QVM7WUFDekMsTUFBTW9FLGtCQUFrQixJQUFJLENBQUMxQixjQUFjLENBQUMyQixrQkFBa0I7WUFDOUQsSUFBSUQsaUJBQWlCO2dCQUNqQlYsaUJBQWlCSyxTQUFTLEdBQUdLO1lBQ2pDO1FBQ0o7UUFDQSxPQUFPVjtJQUNYO0FBQ0o7QUFFcUMsQ0FDckMsc0RBQXNEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9pbnRlcmFjdGlvbl9jbGllbnQvU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudC5tanM/MmI5YiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFBlcmZvcm1hbmNlRXZlbnRzLCBpbnZva2VBc3luYywgQ29uc3RhbnRzLCBVcmxTdHJpbmcsIEF1dGhvcml6YXRpb25Db2RlQ2xpZW50LCBQcm90b2NvbFV0aWxzIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uL2Jyb3dzZXInO1xuaW1wb3J0IHsgQmFzZUludGVyYWN0aW9uQ2xpZW50IH0gZnJvbSAnLi9CYXNlSW50ZXJhY3Rpb25DbGllbnQubWpzJztcbmltcG9ydCB7IEJyb3dzZXJDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi4vcGFja2FnZU1ldGFkYXRhLm1qcyc7XG5pbXBvcnQgeyBnZXRDdXJyZW50VXJpIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlclV0aWxzLm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZVBrY2VDb2RlcyB9IGZyb20gJy4uL2NyeXB0by9Qa2NlR2VuZXJhdG9yLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVOZXdHdWlkIH0gZnJvbSAnLi4vY3J5cHRvL0Jyb3dzZXJDcnlwdG8ubWpzJztcbmltcG9ydCB7IGluaXRpYWxpemVCYXNlUmVxdWVzdCB9IGZyb20gJy4uL3JlcXVlc3QvUmVxdWVzdEhlbHBlcnMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBEZWZpbmVzIHRoZSBjbGFzcyBzdHJ1Y3R1cmUgYW5kIGhlbHBlciBmdW5jdGlvbnMgdXNlZCBieSB0aGUgXCJzdGFuZGFyZFwiLCBub24tYnJva2VyZWQgYXV0aCBmbG93cyAocG9wdXAsIHJlZGlyZWN0LCBzaWxlbnQgKFJUKSwgc2lsZW50IChpZnJhbWUpKVxyXG4gKi9cclxuY2xhc3MgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCBleHRlbmRzIEJhc2VJbnRlcmFjdGlvbkNsaWVudCB7XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlcyBhbiBhdXRoIGNvZGUgcmVxdWVzdCB0aWVkIHRvIHRoZSB1cmwgcmVxdWVzdC5cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGluaXRpYWxpemVBdXRob3JpemF0aW9uQ29kZVJlcXVlc3QocmVxdWVzdCkge1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQuYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50SW5pdGlhbGl6ZUF1dGhvcml6YXRpb25Db2RlUmVxdWVzdCwgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCBnZW5lcmF0ZWRQa2NlUGFyYW1zID0gYXdhaXQgaW52b2tlQXN5bmMoZ2VuZXJhdGVQa2NlQ29kZXMsIFBlcmZvcm1hbmNlRXZlbnRzLkdlbmVyYXRlUGtjZUNvZGVzLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5jb3JyZWxhdGlvbklkKSh0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmxvZ2dlciwgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCBhdXRoQ29kZVJlcXVlc3QgPSB7XHJcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXHJcbiAgICAgICAgICAgIHJlZGlyZWN0VXJpOiByZXF1ZXN0LnJlZGlyZWN0VXJpLFxyXG4gICAgICAgICAgICBjb2RlOiBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG4gICAgICAgICAgICBjb2RlVmVyaWZpZXI6IGdlbmVyYXRlZFBrY2VQYXJhbXMudmVyaWZpZXIsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXF1ZXN0LmNvZGVDaGFsbGVuZ2UgPSBnZW5lcmF0ZWRQa2NlUGFyYW1zLmNoYWxsZW5nZTtcclxuICAgICAgICByZXF1ZXN0LmNvZGVDaGFsbGVuZ2VNZXRob2QgPSBDb25zdGFudHMuUzI1Nl9DT0RFX0NIQUxMRU5HRV9NRVRIT0Q7XHJcbiAgICAgICAgcmV0dXJuIGF1dGhDb2RlUmVxdWVzdDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXIgZm9yIHRoZSBsb2dvdXQgcmVxdWVzdC5cclxuICAgICAqIEBwYXJhbSBsb2dvdXRSZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGluaXRpYWxpemVMb2dvdXRSZXF1ZXN0KGxvZ291dFJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiaW5pdGlhbGl6ZUxvZ291dFJlcXVlc3QgY2FsbGVkXCIsIGxvZ291dFJlcXVlc3Q/LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGNvbnN0IHZhbGlkTG9nb3V0UmVxdWVzdCA9IHtcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogdGhpcy5jb3JyZWxhdGlvbklkIHx8IGNyZWF0ZU5ld0d1aWQoKSxcclxuICAgICAgICAgICAgLi4ubG9nb3V0UmVxdWVzdCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldCBsb2dvdXRfaGludCB0byBiZSBsb2dpbl9oaW50IGZyb20gSUQgVG9rZW4gQ2xhaW1zIGlmIHByZXNlbnRcclxuICAgICAgICAgKiBhbmQgbG9nb3V0SGludCBhdHRyaWJ1dGUgd2Fzbid0IG1hbnVhbGx5IHNldCBpbiBsb2dvdXQgcmVxdWVzdFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmIChsb2dvdXRSZXF1ZXN0KSB7XHJcbiAgICAgICAgICAgIC8vIElmIGxvZ291dEhpbnQgaXNuJ3Qgc2V0IGFuZCBhbiBhY2NvdW50IHdhcyBwYXNzZWQgaW4sIHRyeSB0byBleHRyYWN0IGxvZ291dEhpbnQgZnJvbSBJRCBUb2tlbiBDbGFpbXNcclxuICAgICAgICAgICAgaWYgKCFsb2dvdXRSZXF1ZXN0LmxvZ291dEhpbnQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChsb2dvdXRSZXF1ZXN0LmFjY291bnQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBsb2dvdXRIaW50ID0gdGhpcy5nZXRMb2dvdXRIaW50RnJvbUlkVG9rZW5DbGFpbXMobG9nb3V0UmVxdWVzdC5hY2NvdW50KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobG9nb3V0SGludCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiU2V0dGluZyBsb2dvdXRIaW50IHRvIGxvZ2luX2hpbnQgSUQgVG9rZW4gQ2xhaW0gdmFsdWUgZm9yIHRoZSBhY2NvdW50IHByb3ZpZGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZExvZ291dFJlcXVlc3QubG9nb3V0SGludCA9IGxvZ291dEhpbnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImxvZ291dEhpbnQgd2FzIG5vdCBzZXQgYW5kIGFjY291bnQgd2FzIG5vdCBwYXNzZWQgaW50byBsb2dvdXQgcmVxdWVzdCwgbG9nb3V0SGludCB3aWxsIG5vdCBiZSBzZXRcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwibG9nb3V0SGludCBoYXMgYWxyZWFkeSBiZWVuIHNldCBpbiBsb2dvdXRSZXF1ZXN0XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwibG9nb3V0SGludCB3aWxsIG5vdCBiZSBzZXQgc2luY2Ugbm8gbG9nb3V0IHJlcXVlc3Qgd2FzIGNvbmZpZ3VyZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogT25seSBzZXQgcmVkaXJlY3QgdXJpIGlmIGxvZ291dCByZXF1ZXN0IGlzbid0IHByb3ZpZGVkIG9yIHRoZSBzZXQgdXJpIGlzbid0IG51bGwuXHJcbiAgICAgICAgICogT3RoZXJ3aXNlLCB1c2UgcGFzc2VkIHVyaSwgY29uZmlnLCBvciBjdXJyZW50IHBhZ2UuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKCFsb2dvdXRSZXF1ZXN0IHx8IGxvZ291dFJlcXVlc3QucG9zdExvZ291dFJlZGlyZWN0VXJpICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChsb2dvdXRSZXF1ZXN0ICYmIGxvZ291dFJlcXVlc3QucG9zdExvZ291dFJlZGlyZWN0VXJpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiU2V0dGluZyBwb3N0TG9nb3V0UmVkaXJlY3RVcmkgdG8gdXJpIHNldCBvbiBsb2dvdXQgcmVxdWVzdFwiLCB2YWxpZExvZ291dFJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICB2YWxpZExvZ291dFJlcXVlc3QucG9zdExvZ291dFJlZGlyZWN0VXJpID1cclxuICAgICAgICAgICAgICAgICAgICBVcmxTdHJpbmcuZ2V0QWJzb2x1dGVVcmwobG9nb3V0UmVxdWVzdC5wb3N0TG9nb3V0UmVkaXJlY3RVcmksIGdldEN1cnJlbnRVcmkoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5jb25maWcuYXV0aC5wb3N0TG9nb3V0UmVkaXJlY3RVcmkgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJwb3N0TG9nb3V0UmVkaXJlY3RVcmkgY29uZmlndXJlZCBhcyBudWxsIGFuZCBubyB1cmkgc2V0IG9uIHJlcXVlc3QsIG5vdCBwYXNzaW5nIHBvc3QgbG9nb3V0IHJlZGlyZWN0XCIsIHZhbGlkTG9nb3V0UmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNvbmZpZy5hdXRoLnBvc3RMb2dvdXRSZWRpcmVjdFVyaSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlNldHRpbmcgcG9zdExvZ291dFJlZGlyZWN0VXJpIHRvIGNvbmZpZ3VyZWQgdXJpXCIsIHZhbGlkTG9nb3V0UmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgIHZhbGlkTG9nb3V0UmVxdWVzdC5wb3N0TG9nb3V0UmVkaXJlY3RVcmkgPVxyXG4gICAgICAgICAgICAgICAgICAgIFVybFN0cmluZy5nZXRBYnNvbHV0ZVVybCh0aGlzLmNvbmZpZy5hdXRoLnBvc3RMb2dvdXRSZWRpcmVjdFVyaSwgZ2V0Q3VycmVudFVyaSgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJTZXR0aW5nIHBvc3RMb2dvdXRSZWRpcmVjdFVyaSB0byBjdXJyZW50IHBhZ2VcIiwgdmFsaWRMb2dvdXRSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICAgICAgdmFsaWRMb2dvdXRSZXF1ZXN0LnBvc3RMb2dvdXRSZWRpcmVjdFVyaSA9XHJcbiAgICAgICAgICAgICAgICAgICAgVXJsU3RyaW5nLmdldEFic29sdXRlVXJsKGdldEN1cnJlbnRVcmkoKSwgZ2V0Q3VycmVudFVyaSgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcInBvc3RMb2dvdXRSZWRpcmVjdFVyaSBwYXNzZWQgYXMgbnVsbCwgbm90IHNldHRpbmcgcG9zdCBsb2dvdXQgcmVkaXJlY3QgdXJpXCIsIHZhbGlkTG9nb3V0UmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbGlkTG9nb3V0UmVxdWVzdDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2VzIGxvZ2luX2hpbnQgSUQgVG9rZW4gQ2xhaW0gb3V0IG9mIEFjY291bnRJbmZvIG9iamVjdCB0byBiZSB1c2VkIGFzXHJcbiAgICAgKiBsb2dvdXRfaGludCBpbiBlbmQgc2Vzc2lvbiByZXF1ZXN0LlxyXG4gICAgICogQHBhcmFtIGFjY291bnRcclxuICAgICAqL1xyXG4gICAgZ2V0TG9nb3V0SGludEZyb21JZFRva2VuQ2xhaW1zKGFjY291bnQpIHtcclxuICAgICAgICBjb25zdCBpZFRva2VuQ2xhaW1zID0gYWNjb3VudC5pZFRva2VuQ2xhaW1zO1xyXG4gICAgICAgIGlmIChpZFRva2VuQ2xhaW1zKSB7XHJcbiAgICAgICAgICAgIGlmIChpZFRva2VuQ2xhaW1zLmxvZ2luX2hpbnQpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBpZFRva2VuQ2xhaW1zLmxvZ2luX2hpbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiVGhlIElEIFRva2VuIENsYWltcyB0aWVkIHRvIHRoZSBwcm92aWRlZCBhY2NvdW50IGRvIG5vdCBjb250YWluIGEgbG9naW5faGludCBjbGFpbSwgbG9nb3V0SGludCB3aWxsIG5vdCBiZSBhZGRlZCB0byBsb2dvdXQgcmVxdWVzdFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRoZSBwcm92aWRlZCBhY2NvdW50IGRvZXMgbm90IGNvbnRhaW4gSUQgVG9rZW4gQ2xhaW1zLCBsb2dvdXRIaW50IHdpbGwgbm90IGJlIGFkZGVkIHRvIGxvZ291dCByZXF1ZXN0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBBdXRob3JpemF0aW9uIENvZGUgQ2xpZW50IHdpdGggdGhlIGdpdmVuIGF1dGhvcml0eSwgb3IgdGhlIGRlZmF1bHQgYXV0aG9yaXR5LlxyXG4gICAgICogQHBhcmFtIHBhcmFtcyB7XHJcbiAgICAgKiAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXI6IFNlcnZlclRlbGVtZXRyeU1hbmFnZXI7XHJcbiAgICAgKiAgICAgICAgIGF1dGhvcml0eVVybD86IHN0cmluZztcclxuICAgICAqICAgICAgICAgcmVxdWVzdEF6dXJlQ2xvdWRPcHRpb25zPzogQXp1cmVDbG91ZE9wdGlvbnM7XHJcbiAgICAgKiAgICAgICAgIHJlcXVlc3RFeHRyYVF1ZXJ5UGFyYW1ldGVycz86IFN0cmluZ0RpY3Q7XHJcbiAgICAgKiAgICAgICAgIGFjY291bnQ/OiBBY2NvdW50SW5mbztcclxuICAgICAqICAgICAgICB9XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGNyZWF0ZUF1dGhDb2RlQ2xpZW50KHBhcmFtcykge1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQuYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50Q3JlYXRlQXV0aENvZGVDbGllbnQsIHRoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGF1dGggbW9kdWxlLlxyXG4gICAgICAgIGNvbnN0IGNsaWVudENvbmZpZyA9IGF3YWl0IGludm9rZUFzeW5jKHRoaXMuZ2V0Q2xpZW50Q29uZmlndXJhdGlvbi5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50R2V0Q2xpZW50Q29uZmlndXJhdGlvbiwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHRoaXMuY29ycmVsYXRpb25JZCkocGFyYW1zKTtcclxuICAgICAgICByZXR1cm4gbmV3IEF1dGhvcml6YXRpb25Db2RlQ2xpZW50KGNsaWVudENvbmZpZywgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgYSBDbGllbnQgQ29uZmlndXJhdGlvbiBvYmplY3Qgd2l0aCB0aGUgZ2l2ZW4gcmVxdWVzdCBhdXRob3JpdHksIG9yIHRoZSBkZWZhdWx0IGF1dGhvcml0eS5cclxuICAgICAqIEBwYXJhbSBwYXJhbXMge1xyXG4gICAgICogICAgICAgICBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyOiBTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyO1xyXG4gICAgICogICAgICAgICByZXF1ZXN0QXV0aG9yaXR5Pzogc3RyaW5nO1xyXG4gICAgICogICAgICAgICByZXF1ZXN0QXp1cmVDbG91ZE9wdGlvbnM/OiBBenVyZUNsb3VkT3B0aW9ucztcclxuICAgICAqICAgICAgICAgcmVxdWVzdEV4dHJhUXVlcnlQYXJhbWV0ZXJzPzogYm9vbGVhbjtcclxuICAgICAqICAgICAgICAgYWNjb3VudD86IEFjY291bnRJbmZvO1xyXG4gICAgICogICAgICAgIH1cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0Q2xpZW50Q29uZmlndXJhdGlvbihwYXJhbXMpIHtcclxuICAgICAgICBjb25zdCB7IHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsIHJlcXVlc3RBdXRob3JpdHksIHJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucywgcmVxdWVzdEV4dHJhUXVlcnlQYXJhbWV0ZXJzLCBhY2NvdW50LCB9ID0gcGFyYW1zO1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQuYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50R2V0Q2xpZW50Q29uZmlndXJhdGlvbiwgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCBkaXNjb3ZlcmVkQXV0aG9yaXR5ID0gYXdhaXQgaW52b2tlQXN5bmModGhpcy5nZXREaXNjb3ZlcmVkQXV0aG9yaXR5LmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRHZXREaXNjb3ZlcmVkQXV0aG9yaXR5LCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5jb3JyZWxhdGlvbklkKSh7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBdXRob3JpdHksXHJcbiAgICAgICAgICAgIHJlcXVlc3RBenVyZUNsb3VkT3B0aW9ucyxcclxuICAgICAgICAgICAgcmVxdWVzdEV4dHJhUXVlcnlQYXJhbWV0ZXJzLFxyXG4gICAgICAgICAgICBhY2NvdW50LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IGxvZ2dlciA9IHRoaXMuY29uZmlnLnN5c3RlbS5sb2dnZXJPcHRpb25zO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGF1dGhPcHRpb25zOiB7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jb25maWcuYXV0aC5jbGllbnRJZCxcclxuICAgICAgICAgICAgICAgIGF1dGhvcml0eTogZGlzY292ZXJlZEF1dGhvcml0eSxcclxuICAgICAgICAgICAgICAgIGNsaWVudENhcGFiaWxpdGllczogdGhpcy5jb25maWcuYXV0aC5jbGllbnRDYXBhYmlsaXRpZXMsXHJcbiAgICAgICAgICAgICAgICByZWRpcmVjdFVyaTogdGhpcy5jb25maWcuYXV0aC5yZWRpcmVjdFVyaSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc3lzdGVtT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgdG9rZW5SZW5ld2FsT2Zmc2V0U2Vjb25kczogdGhpcy5jb25maWcuc3lzdGVtLnRva2VuUmVuZXdhbE9mZnNldFNlY29uZHMsXHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50Q29yc1ByZWZsaWdodDogdHJ1ZSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbG9nZ2VyT3B0aW9uczoge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyQ2FsbGJhY2s6IGxvZ2dlci5sb2dnZXJDYWxsYmFjayxcclxuICAgICAgICAgICAgICAgIHBpaUxvZ2dpbmdFbmFibGVkOiBsb2dnZXIucGlpTG9nZ2luZ0VuYWJsZWQsXHJcbiAgICAgICAgICAgICAgICBsb2dMZXZlbDogbG9nZ2VyLmxvZ0xldmVsLFxyXG4gICAgICAgICAgICAgICAgY29ycmVsYXRpb25JZDogdGhpcy5jb3JyZWxhdGlvbklkLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBjYWNoZU9wdGlvbnM6IHtcclxuICAgICAgICAgICAgICAgIGNsYWltc0Jhc2VkQ2FjaGluZ0VuYWJsZWQ6IHRoaXMuY29uZmlnLmNhY2hlLmNsYWltc0Jhc2VkQ2FjaGluZ0VuYWJsZWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGNyeXB0b0ludGVyZmFjZTogdGhpcy5icm93c2VyQ3J5cHRvLFxyXG4gICAgICAgICAgICBuZXR3b3JrSW50ZXJmYWNlOiB0aGlzLm5ldHdvcmtDbGllbnQsXHJcbiAgICAgICAgICAgIHN0b3JhZ2VJbnRlcmZhY2U6IHRoaXMuYnJvd3NlclN0b3JhZ2UsXHJcbiAgICAgICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXI6IHNlcnZlclRlbGVtZXRyeU1hbmFnZXIsXHJcbiAgICAgICAgICAgIGxpYnJhcnlJbmZvOiB7XHJcbiAgICAgICAgICAgICAgICBza3U6IEJyb3dzZXJDb25zdGFudHMuTVNBTF9TS1UsXHJcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxyXG4gICAgICAgICAgICAgICAgY3B1OiBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG4gICAgICAgICAgICAgICAgb3M6IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRlbGVtZXRyeTogdGhpcy5jb25maWcudGVsZW1ldHJ5LFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB0byBpbml0aWFsaXplIHJlcXVpcmVkIHJlcXVlc3QgcGFyYW1ldGVycyBmb3IgaW50ZXJhY3RpdmUgQVBJcyBhbmQgc3NvU2lsZW50KClcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gaW50ZXJhY3Rpb25UeXBlXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdChyZXF1ZXN0LCBpbnRlcmFjdGlvblR5cGUpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdCwgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCByZWRpcmVjdFVyaSA9IHRoaXMuZ2V0UmVkaXJlY3RVcmkocmVxdWVzdC5yZWRpcmVjdFVyaSk7XHJcbiAgICAgICAgY29uc3QgYnJvd3NlclN0YXRlID0ge1xyXG4gICAgICAgICAgICBpbnRlcmFjdGlvblR5cGU6IGludGVyYWN0aW9uVHlwZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHN0YXRlID0gUHJvdG9jb2xVdGlscy5zZXRSZXF1ZXN0U3RhdGUodGhpcy5icm93c2VyQ3J5cHRvLCAocmVxdWVzdCAmJiByZXF1ZXN0LnN0YXRlKSB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLCBicm93c2VyU3RhdGUpO1xyXG4gICAgICAgIGNvbnN0IGJhc2VSZXF1ZXN0ID0gYXdhaXQgaW52b2tlQXN5bmMoaW5pdGlhbGl6ZUJhc2VSZXF1ZXN0LCBQZXJmb3JtYW5jZUV2ZW50cy5Jbml0aWFsaXplQmFzZVJlcXVlc3QsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmNvcnJlbGF0aW9uSWQpKHsgLi4ucmVxdWVzdCwgY29ycmVsYXRpb25JZDogdGhpcy5jb3JyZWxhdGlvbklkIH0sIHRoaXMuY29uZmlnLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmxvZ2dlcik7XHJcbiAgICAgICAgY29uc3QgdmFsaWRhdGVkUmVxdWVzdCA9IHtcclxuICAgICAgICAgICAgLi4uYmFzZVJlcXVlc3QsXHJcbiAgICAgICAgICAgIHJlZGlyZWN0VXJpOiByZWRpcmVjdFVyaSxcclxuICAgICAgICAgICAgc3RhdGU6IHN0YXRlLFxyXG4gICAgICAgICAgICBub25jZTogcmVxdWVzdC5ub25jZSB8fCBjcmVhdGVOZXdHdWlkKCksXHJcbiAgICAgICAgICAgIHJlc3BvbnNlTW9kZTogdGhpcy5jb25maWcuYXV0aC5PSURDT3B0aW9uc1xyXG4gICAgICAgICAgICAgICAgLnNlcnZlclJlc3BvbnNlVHlwZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIFNraXAgYWN0aXZlIGFjY291bnQgbG9va3VwIGlmIGVpdGhlciBsb2dpbiBoaW50IG9yIHNlc3Npb24gaWQgaXMgc2V0XHJcbiAgICAgICAgaWYgKHJlcXVlc3QubG9naW5IaW50IHx8IHJlcXVlc3Quc2lkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0ZWRSZXF1ZXN0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhY2NvdW50ID0gcmVxdWVzdC5hY2NvdW50IHx8IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0QWN0aXZlQWNjb3VudCgpO1xyXG4gICAgICAgIGlmIChhY2NvdW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJTZXR0aW5nIHZhbGlkYXRlZCByZXF1ZXN0IGFjY291bnRcIiwgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZVBpaShgU2V0dGluZyB2YWxpZGF0ZWQgcmVxdWVzdCBhY2NvdW50OiAke2FjY291bnQuaG9tZUFjY291bnRJZH1gLCB0aGlzLmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICB2YWxpZGF0ZWRSZXF1ZXN0LmFjY291bnQgPSBhY2NvdW50O1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBmb3IgQURBTC9NU0FMIHYxIFNTT1xyXG4gICAgICAgIGlmICghdmFsaWRhdGVkUmVxdWVzdC5sb2dpbkhpbnQgJiYgIWFjY291bnQpIHtcclxuICAgICAgICAgICAgY29uc3QgbGVnYWN5TG9naW5IaW50ID0gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRMZWdhY3lMb2dpbkhpbnQoKTtcclxuICAgICAgICAgICAgaWYgKGxlZ2FjeUxvZ2luSGludCkge1xyXG4gICAgICAgICAgICAgICAgdmFsaWRhdGVkUmVxdWVzdC5sb2dpbkhpbnQgPSBsZWdhY3lMb2dpbkhpbnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZFJlcXVlc3Q7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudC5tanMubWFwXG4iXSwibmFtZXMiOlsiUGVyZm9ybWFuY2VFdmVudHMiLCJpbnZva2VBc3luYyIsIkNvbnN0YW50cyIsIlVybFN0cmluZyIsIkF1dGhvcml6YXRpb25Db2RlQ2xpZW50IiwiUHJvdG9jb2xVdGlscyIsIkJhc2VJbnRlcmFjdGlvbkNsaWVudCIsIkJyb3dzZXJDb25zdGFudHMiLCJ2ZXJzaW9uIiwiZ2V0Q3VycmVudFVyaSIsImdlbmVyYXRlUGtjZUNvZGVzIiwiY3JlYXRlTmV3R3VpZCIsImluaXRpYWxpemVCYXNlUmVxdWVzdCIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQiLCJpbml0aWFsaXplQXV0aG9yaXphdGlvbkNvZGVSZXF1ZXN0IiwicmVxdWVzdCIsInBlcmZvcm1hbmNlQ2xpZW50IiwiYWRkUXVldWVNZWFzdXJlbWVudCIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRJbml0aWFsaXplQXV0aG9yaXphdGlvbkNvZGVSZXF1ZXN0IiwiY29ycmVsYXRpb25JZCIsImdlbmVyYXRlZFBrY2VQYXJhbXMiLCJHZW5lcmF0ZVBrY2VDb2RlcyIsImxvZ2dlciIsImF1dGhDb2RlUmVxdWVzdCIsInJlZGlyZWN0VXJpIiwiY29kZSIsIkVNUFRZX1NUUklORyIsImNvZGVWZXJpZmllciIsInZlcmlmaWVyIiwiY29kZUNoYWxsZW5nZSIsImNoYWxsZW5nZSIsImNvZGVDaGFsbGVuZ2VNZXRob2QiLCJTMjU2X0NPREVfQ0hBTExFTkdFX01FVEhPRCIsImluaXRpYWxpemVMb2dvdXRSZXF1ZXN0IiwibG9nb3V0UmVxdWVzdCIsInZlcmJvc2UiLCJ2YWxpZExvZ291dFJlcXVlc3QiLCJsb2dvdXRIaW50IiwiYWNjb3VudCIsImdldExvZ291dEhpbnRGcm9tSWRUb2tlbkNsYWltcyIsInBvc3RMb2dvdXRSZWRpcmVjdFVyaSIsImdldEFic29sdXRlVXJsIiwiY29uZmlnIiwiYXV0aCIsImlkVG9rZW5DbGFpbXMiLCJsb2dpbl9oaW50IiwiY3JlYXRlQXV0aENvZGVDbGllbnQiLCJwYXJhbXMiLCJTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50Q3JlYXRlQXV0aENvZGVDbGllbnQiLCJjbGllbnRDb25maWciLCJnZXRDbGllbnRDb25maWd1cmF0aW9uIiwiYmluZCIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRHZXRDbGllbnRDb25maWd1cmF0aW9uIiwic2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsInJlcXVlc3RBdXRob3JpdHkiLCJyZXF1ZXN0QXp1cmVDbG91ZE9wdGlvbnMiLCJyZXF1ZXN0RXh0cmFRdWVyeVBhcmFtZXRlcnMiLCJkaXNjb3ZlcmVkQXV0aG9yaXR5IiwiZ2V0RGlzY292ZXJlZEF1dGhvcml0eSIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRHZXREaXNjb3ZlcmVkQXV0aG9yaXR5Iiwic3lzdGVtIiwibG9nZ2VyT3B0aW9ucyIsImF1dGhPcHRpb25zIiwiY2xpZW50SWQiLCJhdXRob3JpdHkiLCJjbGllbnRDYXBhYmlsaXRpZXMiLCJzeXN0ZW1PcHRpb25zIiwidG9rZW5SZW5ld2FsT2Zmc2V0U2Vjb25kcyIsInByZXZlbnRDb3JzUHJlZmxpZ2h0IiwibG9nZ2VyQ2FsbGJhY2siLCJwaWlMb2dnaW5nRW5hYmxlZCIsImxvZ0xldmVsIiwiY2FjaGVPcHRpb25zIiwiY2xhaW1zQmFzZWRDYWNoaW5nRW5hYmxlZCIsImNhY2hlIiwiY3J5cHRvSW50ZXJmYWNlIiwiYnJvd3NlckNyeXB0byIsIm5ldHdvcmtJbnRlcmZhY2UiLCJuZXR3b3JrQ2xpZW50Iiwic3RvcmFnZUludGVyZmFjZSIsImJyb3dzZXJTdG9yYWdlIiwibGlicmFyeUluZm8iLCJza3UiLCJNU0FMX1NLVSIsImNwdSIsIm9zIiwidGVsZW1ldHJ5IiwiaW5pdGlhbGl6ZUF1dGhvcml6YXRpb25SZXF1ZXN0IiwiaW50ZXJhY3Rpb25UeXBlIiwiU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdCIsImdldFJlZGlyZWN0VXJpIiwiYnJvd3NlclN0YXRlIiwic3RhdGUiLCJzZXRSZXF1ZXN0U3RhdGUiLCJiYXNlUmVxdWVzdCIsIkluaXRpYWxpemVCYXNlUmVxdWVzdCIsInZhbGlkYXRlZFJlcXVlc3QiLCJub25jZSIsInJlc3BvbnNlTW9kZSIsIk9JRENPcHRpb25zIiwic2VydmVyUmVzcG9uc2VUeXBlIiwibG9naW5IaW50Iiwic2lkIiwiZ2V0QWN0aXZlQWNjb3VudCIsInZlcmJvc2VQaWkiLCJob21lQWNjb3VudElkIiwibGVnYWN5TG9naW5IaW50IiwiZ2V0TGVnYWN5TG9naW5IaW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_client/StandardInteractionClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_handler/InteractionHandler.mjs":
/*!******************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_handler/InteractionHandler.mjs ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InteractionHandler: () => (/* binding */ InteractionHandler)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ServerError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/CcsCredential.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Abstract class which defines operations for a browser interaction handling class.\r\n */ class InteractionHandler {\n    constructor(authCodeModule, storageImpl, authCodeRequest, logger, performanceClient){\n        this.authModule = authCodeModule;\n        this.browserStorage = storageImpl;\n        this.authCodeRequest = authCodeRequest;\n        this.logger = logger;\n        this.performanceClient = performanceClient;\n    }\n    /**\r\n     * Function to handle response parameters from hash.\r\n     * @param locationHash\r\n     */ async handleCodeResponse(response, request) {\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.HandleCodeResponse, request.correlationId);\n        let authCodeResponse;\n        try {\n            authCodeResponse = this.authModule.handleFragmentResponse(response, request.state);\n        } catch (e) {\n            if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.ServerError && e.subError === _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.userCancelled) {\n                // Translate server error caused by user closing native prompt to corresponding first class MSAL error\n                throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.userCancelled);\n            } else {\n                throw e;\n            }\n        }\n        return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.invokeAsync)(this.handleCodeResponseFromServer.bind(this), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.HandleCodeResponseFromServer, this.logger, this.performanceClient, request.correlationId)(authCodeResponse, request);\n    }\n    /**\r\n     * Process auth code response from AAD\r\n     * @param authCodeResponse\r\n     * @param state\r\n     * @param authority\r\n     * @param networkModule\r\n     * @returns\r\n     */ async handleCodeResponseFromServer(authCodeResponse, request, validateNonce = true) {\n        this.performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.HandleCodeResponseFromServer, request.correlationId);\n        this.logger.trace(\"InteractionHandler.handleCodeResponseFromServer called\");\n        // Assign code to request\n        this.authCodeRequest.code = authCodeResponse.code;\n        // Check for new cloud instance\n        if (authCodeResponse.cloud_instance_host_name) {\n            await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.invokeAsync)(this.authModule.updateAuthority.bind(this.authModule), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.UpdateTokenEndpointAuthority, this.logger, this.performanceClient, request.correlationId)(authCodeResponse.cloud_instance_host_name, request.correlationId);\n        }\n        // Nonce validation not needed when redirect not involved (e.g. hybrid spa, renewing token via rt)\n        if (validateNonce) {\n            // TODO: Assigning \"response nonce\" to \"request nonce\" is confusing. Refactor the function doing validation to accept request nonce directly\n            authCodeResponse.nonce = request.nonce || undefined;\n        }\n        authCodeResponse.state = request.state;\n        // Add CCS parameters if available\n        if (authCodeResponse.client_info) {\n            this.authCodeRequest.clientInfo = authCodeResponse.client_info;\n        } else {\n            const ccsCred = this.createCcsCredentials(request);\n            if (ccsCred) {\n                this.authCodeRequest.ccsCredential = ccsCred;\n            }\n        }\n        // Acquire token with retrieved code.\n        const tokenResponse = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.invokeAsync)(this.authModule.acquireToken.bind(this.authModule), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.AuthClientAcquireToken, this.logger, this.performanceClient, request.correlationId)(this.authCodeRequest, authCodeResponse);\n        return tokenResponse;\n    }\n    /**\r\n     * Build ccs creds if available\r\n     */ createCcsCredentials(request) {\n        if (request.account) {\n            return {\n                credential: request.account.homeAccountId,\n                type: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.CcsCredentialType.HOME_ACCOUNT_ID\n            };\n        } else if (request.loginHint) {\n            return {\n                credential: request.loginHint,\n                type: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.CcsCredentialType.UPN\n            };\n        }\n        return null;\n    }\n}\n //# sourceMappingURL=InteractionHandler.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2hhbmRsZXIvSW50ZXJhY3Rpb25IYW5kbGVyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQzRHO0FBQ3JDO0FBQ0o7QUFFbkU7OztDQUdDLEdBQ0Q7O0NBRUMsR0FDRCxNQUFNTTtJQUNGQyxZQUFZQyxjQUFjLEVBQUVDLFdBQVcsRUFBRUMsZUFBZSxFQUFFQyxNQUFNLEVBQUVDLGlCQUFpQixDQUFFO1FBQ2pGLElBQUksQ0FBQ0MsVUFBVSxHQUFHTDtRQUNsQixJQUFJLENBQUNNLGNBQWMsR0FBR0w7UUFDdEIsSUFBSSxDQUFDQyxlQUFlLEdBQUdBO1FBQ3ZCLElBQUksQ0FBQ0MsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUdBO0lBQzdCO0lBQ0E7OztLQUdDLEdBQ0QsTUFBTUcsbUJBQW1CQyxRQUFRLEVBQUVDLE9BQU8sRUFBRTtRQUN4QyxJQUFJLENBQUNMLGlCQUFpQixDQUFDTSxtQkFBbUIsQ0FBQ2xCLHlFQUFpQkEsQ0FBQ21CLGtCQUFrQixFQUFFRixRQUFRRyxhQUFhO1FBQ3RHLElBQUlDO1FBQ0osSUFBSTtZQUNBQSxtQkFBbUIsSUFBSSxDQUFDUixVQUFVLENBQUNTLHNCQUFzQixDQUFDTixVQUFVQyxRQUFRTSxLQUFLO1FBQ3JGLEVBQ0EsT0FBT0MsR0FBRztZQUNOLElBQUlBLGFBQWF2QixtRUFBV0EsSUFDeEJ1QixFQUFFQyxRQUFRLEtBQUtwQiwyRUFBYUEsRUFBRTtnQkFDOUIsc0dBQXNHO2dCQUN0RyxNQUFNRCxtRkFBc0JBLENBQUNDLDJFQUFhQTtZQUM5QyxPQUNLO2dCQUNELE1BQU1tQjtZQUNWO1FBQ0o7UUFDQSxPQUFPdEIsdUVBQVdBLENBQUMsSUFBSSxDQUFDd0IsNEJBQTRCLENBQUNDLElBQUksQ0FBQyxJQUFJLEdBQUczQix5RUFBaUJBLENBQUM0Qiw0QkFBNEIsRUFBRSxJQUFJLENBQUNqQixNQUFNLEVBQUUsSUFBSSxDQUFDQyxpQkFBaUIsRUFBRUssUUFBUUcsYUFBYSxFQUFFQyxrQkFBa0JKO0lBQ25NO0lBQ0E7Ozs7Ozs7S0FPQyxHQUNELE1BQU1TLDZCQUE2QkwsZ0JBQWdCLEVBQUVKLE9BQU8sRUFBRVksZ0JBQWdCLElBQUksRUFBRTtRQUNoRixJQUFJLENBQUNqQixpQkFBaUIsQ0FBQ00sbUJBQW1CLENBQUNsQix5RUFBaUJBLENBQUM0Qiw0QkFBNEIsRUFBRVgsUUFBUUcsYUFBYTtRQUNoSCxJQUFJLENBQUNULE1BQU0sQ0FBQ21CLEtBQUssQ0FBQztRQUNsQix5QkFBeUI7UUFDekIsSUFBSSxDQUFDcEIsZUFBZSxDQUFDcUIsSUFBSSxHQUFHVixpQkFBaUJVLElBQUk7UUFDakQsK0JBQStCO1FBQy9CLElBQUlWLGlCQUFpQlcsd0JBQXdCLEVBQUU7WUFDM0MsTUFBTTlCLHVFQUFXQSxDQUFDLElBQUksQ0FBQ1csVUFBVSxDQUFDb0IsZUFBZSxDQUFDTixJQUFJLENBQUMsSUFBSSxDQUFDZCxVQUFVLEdBQUdiLHlFQUFpQkEsQ0FBQ2tDLDRCQUE0QixFQUFFLElBQUksQ0FBQ3ZCLE1BQU0sRUFBRSxJQUFJLENBQUNDLGlCQUFpQixFQUFFSyxRQUFRRyxhQUFhLEVBQUVDLGlCQUFpQlcsd0JBQXdCLEVBQUVmLFFBQVFHLGFBQWE7UUFDelA7UUFDQSxrR0FBa0c7UUFDbEcsSUFBSVMsZUFBZTtZQUNmLDRJQUE0STtZQUM1SVIsaUJBQWlCYyxLQUFLLEdBQUdsQixRQUFRa0IsS0FBSyxJQUFJQztRQUM5QztRQUNBZixpQkFBaUJFLEtBQUssR0FBR04sUUFBUU0sS0FBSztRQUN0QyxrQ0FBa0M7UUFDbEMsSUFBSUYsaUJBQWlCZ0IsV0FBVyxFQUFFO1lBQzlCLElBQUksQ0FBQzNCLGVBQWUsQ0FBQzRCLFVBQVUsR0FBR2pCLGlCQUFpQmdCLFdBQVc7UUFDbEUsT0FDSztZQUNELE1BQU1FLFVBQVUsSUFBSSxDQUFDQyxvQkFBb0IsQ0FBQ3ZCO1lBQzFDLElBQUlzQixTQUFTO2dCQUNULElBQUksQ0FBQzdCLGVBQWUsQ0FBQytCLGFBQWEsR0FBR0Y7WUFDekM7UUFDSjtRQUNBLHFDQUFxQztRQUNyQyxNQUFNRyxnQkFBaUIsTUFBTXhDLHVFQUFXQSxDQUFDLElBQUksQ0FBQ1csVUFBVSxDQUFDOEIsWUFBWSxDQUFDaEIsSUFBSSxDQUFDLElBQUksQ0FBQ2QsVUFBVSxHQUFHYix5RUFBaUJBLENBQUM0QyxzQkFBc0IsRUFBRSxJQUFJLENBQUNqQyxNQUFNLEVBQUUsSUFBSSxDQUFDQyxpQkFBaUIsRUFBRUssUUFBUUcsYUFBYSxFQUFFLElBQUksQ0FBQ1YsZUFBZSxFQUFFVztRQUN6TixPQUFPcUI7SUFDWDtJQUNBOztLQUVDLEdBQ0RGLHFCQUFxQnZCLE9BQU8sRUFBRTtRQUMxQixJQUFJQSxRQUFRNEIsT0FBTyxFQUFFO1lBQ2pCLE9BQU87Z0JBQ0hDLFlBQVk3QixRQUFRNEIsT0FBTyxDQUFDRSxhQUFhO2dCQUN6Q0MsTUFBTTdDLHlFQUFpQkEsQ0FBQzhDLGVBQWU7WUFDM0M7UUFDSixPQUNLLElBQUloQyxRQUFRaUMsU0FBUyxFQUFFO1lBQ3hCLE9BQU87Z0JBQ0hKLFlBQVk3QixRQUFRaUMsU0FBUztnQkFDN0JGLE1BQU03Qyx5RUFBaUJBLENBQUNnRCxHQUFHO1lBQy9CO1FBQ0o7UUFDQSxPQUFPO0lBQ1g7QUFDSjtBQUU4QixDQUM5QiwrQ0FBK0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2hhbmRsZXIvSW50ZXJhY3Rpb25IYW5kbGVyLm1qcz8yNzlhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgUGVyZm9ybWFuY2VFdmVudHMsIFNlcnZlckVycm9yLCBpbnZva2VBc3luYywgQ2NzQ3JlZGVudGlhbFR5cGUgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgdXNlckNhbmNlbGxlZCB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEFic3RyYWN0IGNsYXNzIHdoaWNoIGRlZmluZXMgb3BlcmF0aW9ucyBmb3IgYSBicm93c2VyIGludGVyYWN0aW9uIGhhbmRsaW5nIGNsYXNzLlxyXG4gKi9cclxuY2xhc3MgSW50ZXJhY3Rpb25IYW5kbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGF1dGhDb2RlTW9kdWxlLCBzdG9yYWdlSW1wbCwgYXV0aENvZGVSZXF1ZXN0LCBsb2dnZXIsIHBlcmZvcm1hbmNlQ2xpZW50KSB7XHJcbiAgICAgICAgdGhpcy5hdXRoTW9kdWxlID0gYXV0aENvZGVNb2R1bGU7XHJcbiAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZSA9IHN0b3JhZ2VJbXBsO1xyXG4gICAgICAgIHRoaXMuYXV0aENvZGVSZXF1ZXN0ID0gYXV0aENvZGVSZXF1ZXN0O1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQgPSBwZXJmb3JtYW5jZUNsaWVudDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRnVuY3Rpb24gdG8gaGFuZGxlIHJlc3BvbnNlIHBhcmFtZXRlcnMgZnJvbSBoYXNoLlxyXG4gICAgICogQHBhcmFtIGxvY2F0aW9uSGFzaFxyXG4gICAgICovXHJcbiAgICBhc3luYyBoYW5kbGVDb2RlUmVzcG9uc2UocmVzcG9uc2UsIHJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuSGFuZGxlQ29kZVJlc3BvbnNlLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGxldCBhdXRoQ29kZVJlc3BvbnNlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGF1dGhDb2RlUmVzcG9uc2UgPSB0aGlzLmF1dGhNb2R1bGUuaGFuZGxlRnJhZ21lbnRSZXNwb25zZShyZXNwb25zZSwgcmVxdWVzdC5zdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgU2VydmVyRXJyb3IgJiZcclxuICAgICAgICAgICAgICAgIGUuc3ViRXJyb3IgPT09IHVzZXJDYW5jZWxsZWQpIHtcclxuICAgICAgICAgICAgICAgIC8vIFRyYW5zbGF0ZSBzZXJ2ZXIgZXJyb3IgY2F1c2VkIGJ5IHVzZXIgY2xvc2luZyBuYXRpdmUgcHJvbXB0IHRvIGNvcnJlc3BvbmRpbmcgZmlyc3QgY2xhc3MgTVNBTCBlcnJvclxyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcih1c2VyQ2FuY2VsbGVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGludm9rZUFzeW5jKHRoaXMuaGFuZGxlQ29kZVJlc3BvbnNlRnJvbVNlcnZlci5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5IYW5kbGVDb2RlUmVzcG9uc2VGcm9tU2VydmVyLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKShhdXRoQ29kZVJlc3BvbnNlLCByZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUHJvY2VzcyBhdXRoIGNvZGUgcmVzcG9uc2UgZnJvbSBBQURcclxuICAgICAqIEBwYXJhbSBhdXRoQ29kZVJlc3BvbnNlXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqIEBwYXJhbSBhdXRob3JpdHlcclxuICAgICAqIEBwYXJhbSBuZXR3b3JrTW9kdWxlXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBoYW5kbGVDb2RlUmVzcG9uc2VGcm9tU2VydmVyKGF1dGhDb2RlUmVzcG9uc2UsIHJlcXVlc3QsIHZhbGlkYXRlTm9uY2UgPSB0cnVlKSB7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudC5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkhhbmRsZUNvZGVSZXNwb25zZUZyb21TZXJ2ZXIsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudHJhY2UoXCJJbnRlcmFjdGlvbkhhbmRsZXIuaGFuZGxlQ29kZVJlc3BvbnNlRnJvbVNlcnZlciBjYWxsZWRcIik7XHJcbiAgICAgICAgLy8gQXNzaWduIGNvZGUgdG8gcmVxdWVzdFxyXG4gICAgICAgIHRoaXMuYXV0aENvZGVSZXF1ZXN0LmNvZGUgPSBhdXRoQ29kZVJlc3BvbnNlLmNvZGU7XHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIG5ldyBjbG91ZCBpbnN0YW5jZVxyXG4gICAgICAgIGlmIChhdXRoQ29kZVJlc3BvbnNlLmNsb3VkX2luc3RhbmNlX2hvc3RfbmFtZSkge1xyXG4gICAgICAgICAgICBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmF1dGhNb2R1bGUudXBkYXRlQXV0aG9yaXR5LmJpbmQodGhpcy5hdXRoTW9kdWxlKSwgUGVyZm9ybWFuY2VFdmVudHMuVXBkYXRlVG9rZW5FbmRwb2ludEF1dGhvcml0eSwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkoYXV0aENvZGVSZXNwb25zZS5jbG91ZF9pbnN0YW5jZV9ob3N0X25hbWUsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vbmNlIHZhbGlkYXRpb24gbm90IG5lZWRlZCB3aGVuIHJlZGlyZWN0IG5vdCBpbnZvbHZlZCAoZS5nLiBoeWJyaWQgc3BhLCByZW5ld2luZyB0b2tlbiB2aWEgcnQpXHJcbiAgICAgICAgaWYgKHZhbGlkYXRlTm9uY2UpIHtcclxuICAgICAgICAgICAgLy8gVE9ETzogQXNzaWduaW5nIFwicmVzcG9uc2Ugbm9uY2VcIiB0byBcInJlcXVlc3Qgbm9uY2VcIiBpcyBjb25mdXNpbmcuIFJlZmFjdG9yIHRoZSBmdW5jdGlvbiBkb2luZyB2YWxpZGF0aW9uIHRvIGFjY2VwdCByZXF1ZXN0IG5vbmNlIGRpcmVjdGx5XHJcbiAgICAgICAgICAgIGF1dGhDb2RlUmVzcG9uc2Uubm9uY2UgPSByZXF1ZXN0Lm5vbmNlIHx8IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXV0aENvZGVSZXNwb25zZS5zdGF0ZSA9IHJlcXVlc3Quc3RhdGU7XHJcbiAgICAgICAgLy8gQWRkIENDUyBwYXJhbWV0ZXJzIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgIGlmIChhdXRoQ29kZVJlc3BvbnNlLmNsaWVudF9pbmZvKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXV0aENvZGVSZXF1ZXN0LmNsaWVudEluZm8gPSBhdXRoQ29kZVJlc3BvbnNlLmNsaWVudF9pbmZvO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgY2NzQ3JlZCA9IHRoaXMuY3JlYXRlQ2NzQ3JlZGVudGlhbHMocmVxdWVzdCk7XHJcbiAgICAgICAgICAgIGlmIChjY3NDcmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dGhDb2RlUmVxdWVzdC5jY3NDcmVkZW50aWFsID0gY2NzQ3JlZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBY3F1aXJlIHRva2VuIHdpdGggcmV0cmlldmVkIGNvZGUuXHJcbiAgICAgICAgY29uc3QgdG9rZW5SZXNwb25zZSA9IChhd2FpdCBpbnZva2VBc3luYyh0aGlzLmF1dGhNb2R1bGUuYWNxdWlyZVRva2VuLmJpbmQodGhpcy5hdXRoTW9kdWxlKSwgUGVyZm9ybWFuY2VFdmVudHMuQXV0aENsaWVudEFjcXVpcmVUb2tlbiwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkodGhpcy5hdXRoQ29kZVJlcXVlc3QsIGF1dGhDb2RlUmVzcG9uc2UpKTtcclxuICAgICAgICByZXR1cm4gdG9rZW5SZXNwb25zZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQnVpbGQgY2NzIGNyZWRzIGlmIGF2YWlsYWJsZVxyXG4gICAgICovXHJcbiAgICBjcmVhdGVDY3NDcmVkZW50aWFscyhyZXF1ZXN0KSB7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuYWNjb3VudCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgY3JlZGVudGlhbDogcmVxdWVzdC5hY2NvdW50LmhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiBDY3NDcmVkZW50aWFsVHlwZS5IT01FX0FDQ09VTlRfSUQsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHJlcXVlc3QubG9naW5IaW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsOiByZXF1ZXN0LmxvZ2luSGludCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IENjc0NyZWRlbnRpYWxUeXBlLlVQTixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgSW50ZXJhY3Rpb25IYW5kbGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmFjdGlvbkhhbmRsZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbIlBlcmZvcm1hbmNlRXZlbnRzIiwiU2VydmVyRXJyb3IiLCJpbnZva2VBc3luYyIsIkNjc0NyZWRlbnRpYWxUeXBlIiwiY3JlYXRlQnJvd3NlckF1dGhFcnJvciIsInVzZXJDYW5jZWxsZWQiLCJJbnRlcmFjdGlvbkhhbmRsZXIiLCJjb25zdHJ1Y3RvciIsImF1dGhDb2RlTW9kdWxlIiwic3RvcmFnZUltcGwiLCJhdXRoQ29kZVJlcXVlc3QiLCJsb2dnZXIiLCJwZXJmb3JtYW5jZUNsaWVudCIsImF1dGhNb2R1bGUiLCJicm93c2VyU3RvcmFnZSIsImhhbmRsZUNvZGVSZXNwb25zZSIsInJlc3BvbnNlIiwicmVxdWVzdCIsImFkZFF1ZXVlTWVhc3VyZW1lbnQiLCJIYW5kbGVDb2RlUmVzcG9uc2UiLCJjb3JyZWxhdGlvbklkIiwiYXV0aENvZGVSZXNwb25zZSIsImhhbmRsZUZyYWdtZW50UmVzcG9uc2UiLCJzdGF0ZSIsImUiLCJzdWJFcnJvciIsImhhbmRsZUNvZGVSZXNwb25zZUZyb21TZXJ2ZXIiLCJiaW5kIiwiSGFuZGxlQ29kZVJlc3BvbnNlRnJvbVNlcnZlciIsInZhbGlkYXRlTm9uY2UiLCJ0cmFjZSIsImNvZGUiLCJjbG91ZF9pbnN0YW5jZV9ob3N0X25hbWUiLCJ1cGRhdGVBdXRob3JpdHkiLCJVcGRhdGVUb2tlbkVuZHBvaW50QXV0aG9yaXR5Iiwibm9uY2UiLCJ1bmRlZmluZWQiLCJjbGllbnRfaW5mbyIsImNsaWVudEluZm8iLCJjY3NDcmVkIiwiY3JlYXRlQ2NzQ3JlZGVudGlhbHMiLCJjY3NDcmVkZW50aWFsIiwidG9rZW5SZXNwb25zZSIsImFjcXVpcmVUb2tlbiIsIkF1dGhDbGllbnRBY3F1aXJlVG9rZW4iLCJhY2NvdW50IiwiY3JlZGVudGlhbCIsImhvbWVBY2NvdW50SWQiLCJ0eXBlIiwiSE9NRV9BQ0NPVU5UX0lEIiwibG9naW5IaW50IiwiVVBOIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_handler/InteractionHandler.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_handler/RedirectHandler.mjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_handler/RedirectHandler.mjs ***!
  \***************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RedirectHandler: () => (/* binding */ RedirectHandler)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ServerError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class RedirectHandler {\n    constructor(authCodeModule, storageImpl, authCodeRequest, logger, performanceClient){\n        this.authModule = authCodeModule;\n        this.browserStorage = storageImpl;\n        this.authCodeRequest = authCodeRequest;\n        this.logger = logger;\n        this.performanceClient = performanceClient;\n    }\n    /**\r\n     * Redirects window to given URL.\r\n     * @param urlNavigate\r\n     */ async initiateAuthRequest(requestUrl, params) {\n        this.logger.verbose(\"RedirectHandler.initiateAuthRequest called\");\n        // Navigate if valid URL\n        if (requestUrl) {\n            // Cache start page, returns to this page after redirectUri if navigateToLoginRequestUrl is true\n            if (params.redirectStartPage) {\n                this.logger.verbose(\"RedirectHandler.initiateAuthRequest: redirectStartPage set, caching start page\");\n                this.browserStorage.setTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__.TemporaryCacheKeys.ORIGIN_URI, params.redirectStartPage, true);\n            }\n            // Set interaction status in the library.\n            this.browserStorage.setTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__.TemporaryCacheKeys.CORRELATION_ID, this.authCodeRequest.correlationId, true);\n            this.browserStorage.cacheCodeRequest(this.authCodeRequest);\n            this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${requestUrl}`);\n            const navigationOptions = {\n                apiId: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__.ApiId.acquireTokenRedirect,\n                timeout: params.redirectTimeout,\n                noHistory: false\n            };\n            // If onRedirectNavigate is implemented, invoke it and provide requestUrl\n            if (typeof params.onRedirectNavigate === \"function\") {\n                this.logger.verbose(\"RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback\");\n                const navigate = params.onRedirectNavigate(requestUrl);\n                // Returning false from onRedirectNavigate will stop navigation\n                if (navigate !== false) {\n                    this.logger.verbose(\"RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating\");\n                    await params.navigationClient.navigateExternal(requestUrl, navigationOptions);\n                    return;\n                } else {\n                    this.logger.verbose(\"RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation\");\n                    return;\n                }\n            } else {\n                // Navigate window to request URL\n                this.logger.verbose(\"RedirectHandler.initiateAuthRequest: Navigating window to navigate url\");\n                await params.navigationClient.navigateExternal(requestUrl, navigationOptions);\n                return;\n            }\n        } else {\n            // Throw error if request URL is empty.\n            this.logger.info(\"RedirectHandler.initiateAuthRequest: Navigate url is empty\");\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.emptyNavigateUri);\n        }\n    }\n    /**\r\n     * Handle authorization code response in the window.\r\n     * @param hash\r\n     */ async handleCodeResponse(response, state) {\n        this.logger.verbose(\"RedirectHandler.handleCodeResponse called\");\n        // Interaction is completed - remove interaction status.\n        this.browserStorage.setInteractionInProgress(false);\n        // Handle code response.\n        const stateKey = this.browserStorage.generateStateKey(state);\n        const requestState = this.browserStorage.getTemporaryCache(stateKey);\n        if (!requestState) {\n            throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.stateNotFound, \"Cached State\");\n        }\n        let authCodeResponse;\n        try {\n            authCodeResponse = this.authModule.handleFragmentResponse(response, requestState);\n        } catch (e) {\n            if (e instanceof _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.ServerError && e.subError === _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.userCancelled) {\n                // Translate server error caused by user closing native prompt to corresponding first class MSAL error\n                throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.userCancelled);\n            } else {\n                throw e;\n            }\n        }\n        // Get cached items\n        const nonceKey = this.browserStorage.generateNonceKey(requestState);\n        const cachedNonce = this.browserStorage.getTemporaryCache(nonceKey);\n        // Assign code to request\n        this.authCodeRequest.code = authCodeResponse.code;\n        // Check for new cloud instance\n        if (authCodeResponse.cloud_instance_host_name) {\n            await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.invokeAsync)(this.authModule.updateAuthority.bind(this.authModule), _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.UpdateTokenEndpointAuthority, this.logger, this.performanceClient, this.authCodeRequest.correlationId)(authCodeResponse.cloud_instance_host_name, this.authCodeRequest.correlationId);\n        }\n        authCodeResponse.nonce = cachedNonce || undefined;\n        authCodeResponse.state = requestState;\n        // Add CCS parameters if available\n        if (authCodeResponse.client_info) {\n            this.authCodeRequest.clientInfo = authCodeResponse.client_info;\n        } else {\n            const cachedCcsCred = this.checkCcsCredentials();\n            if (cachedCcsCred) {\n                this.authCodeRequest.ccsCredential = cachedCcsCred;\n            }\n        }\n        // Acquire token with retrieved code.\n        const tokenResponse = await this.authModule.acquireToken(this.authCodeRequest, authCodeResponse);\n        this.browserStorage.cleanRequestByState(state);\n        return tokenResponse;\n    }\n    /**\r\n     * Looks up ccs creds in the cache\r\n     */ checkCcsCredentials() {\n        // Look up ccs credential in temp cache\n        const cachedCcsCred = this.browserStorage.getTemporaryCache(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__.TemporaryCacheKeys.CCS_CREDENTIAL, true);\n        if (cachedCcsCred) {\n            try {\n                return JSON.parse(cachedCcsCred);\n            } catch (e) {\n                this.authModule.logger.error(\"Cache credential could not be parsed\");\n                this.authModule.logger.errorPii(`Cache credential could not be parsed: ${cachedCcsCred}`);\n            }\n        }\n        return null;\n    }\n}\n //# sourceMappingURL=RedirectHandler.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2hhbmRsZXIvUmVkaXJlY3RIYW5kbGVyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDc0k7QUFDL0Q7QUFDRztBQUNXO0FBRXJGOzs7Q0FHQyxHQUNELE1BQU1VO0lBQ0ZDLFlBQVlDLGNBQWMsRUFBRUMsV0FBVyxFQUFFQyxlQUFlLEVBQUVDLE1BQU0sRUFBRUMsaUJBQWlCLENBQUU7UUFDakYsSUFBSSxDQUFDQyxVQUFVLEdBQUdMO1FBQ2xCLElBQUksQ0FBQ00sY0FBYyxHQUFHTDtRQUN0QixJQUFJLENBQUNDLGVBQWUsR0FBR0E7UUFDdkIsSUFBSSxDQUFDQyxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxpQkFBaUIsR0FBR0E7SUFDN0I7SUFDQTs7O0tBR0MsR0FDRCxNQUFNRyxvQkFBb0JDLFVBQVUsRUFBRUMsTUFBTSxFQUFFO1FBQzFDLElBQUksQ0FBQ04sTUFBTSxDQUFDTyxPQUFPLENBQUM7UUFDcEIsd0JBQXdCO1FBQ3hCLElBQUlGLFlBQVk7WUFDWixnR0FBZ0c7WUFDaEcsSUFBSUMsT0FBT0UsaUJBQWlCLEVBQUU7Z0JBQzFCLElBQUksQ0FBQ1IsTUFBTSxDQUFDTyxPQUFPLENBQUM7Z0JBQ3BCLElBQUksQ0FBQ0osY0FBYyxDQUFDTSxpQkFBaUIsQ0FBQ2xCLDJFQUFrQkEsQ0FBQ21CLFVBQVUsRUFBRUosT0FBT0UsaUJBQWlCLEVBQUU7WUFDbkc7WUFDQSx5Q0FBeUM7WUFDekMsSUFBSSxDQUFDTCxjQUFjLENBQUNNLGlCQUFpQixDQUFDbEIsMkVBQWtCQSxDQUFDb0IsY0FBYyxFQUFFLElBQUksQ0FBQ1osZUFBZSxDQUFDYSxhQUFhLEVBQUU7WUFDN0csSUFBSSxDQUFDVCxjQUFjLENBQUNVLGdCQUFnQixDQUFDLElBQUksQ0FBQ2QsZUFBZTtZQUN6RCxJQUFJLENBQUNDLE1BQU0sQ0FBQ2Ms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Q2IsaUJBQWlCUCxLQUFLLEdBQUdJO1FBQ3pCLGtDQUFrQztRQUNsQyxJQUFJRyxpQkFBaUJjLFdBQVcsRUFBRTtZQUM5QixJQUFJLENBQUNsRCxlQUFlLENBQUNtRCxVQUFVLEdBQUdmLGlCQUFpQmMsV0FBVztRQUNsRSxPQUNLO1lBQ0QsTUFBTUUsZ0JBQWdCLElBQUksQ0FBQ0MsbUJBQW1CO1lBQzlDLElBQUlELGVBQWU7Z0JBQ2YsSUFBSSxDQUFDcEQsZUFBZSxDQUFDc0QsYUFBYSxHQUFHRjtZQUN6QztRQUNKO1FBQ0EscUNBQXFDO1FBQ3JDLE1BQU1HLGdCQUFpQixNQUFNLElBQUksQ0FBQ3BELFVBQVUsQ0FBQ3FELFlBQVksQ0FBQyxJQUFJLENBQUN4RCxlQUFlLEVBQUVvQztRQUNoRixJQUFJLENBQUNoQyxjQUFjLENBQUNxRCxtQkFBbUIsQ0FBQzVCO1FBQ3hDLE9BQU8wQjtJQUNYO0lBQ0E7O0tBRUMsR0FDREYsc0JBQXNCO1FBQ2xCLHVDQUF1QztRQUN2QyxNQUFNRCxnQkFBZ0IsSUFBSSxDQUFDaEQsY0FBYyxDQUFDOEIsaUJBQWlCLENBQUMxQywyRUFBa0JBLENBQUNrRSxjQUFjLEVBQUU7UUFDL0YsSUFBSU4sZUFBZTtZQUNmLElBQUk7Z0JBQ0EsT0FBT08sS0FBS0MsS0FBSyxDQUFDUjtZQUN0QixFQUNBLE9BQU9kLEdBQUc7Z0JBQ04sSUFBSSxDQUFDbkMsVUFBVSxDQUFDRixNQUFNLENBQUM0RCxLQUFLLENBQUM7Z0JBQzdCLElBQUksQ0FBQzFELFVBQVUsQ0FBQ0YsTUFBTSxDQUFDNkQsUUFBUSxDQUFDLENBQUMsc0NBQXNDLEVBQUVWLGNBQWMsQ0FBQztZQUM1RjtRQUNKO1FBQ0EsT0FBTztJQUNYO0FBQ0o7QUFFMkIsQ0FDM0IsNENBQTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9pbnRlcmFjdGlvbl9oYW5kbGVyL1JlZGlyZWN0SGFuZGxlci5tanM/YjRhNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudEF1dGhFcnJvciwgQ2xpZW50QXV0aEVycm9yQ29kZXMsIFNlcnZlckVycm9yLCBpbnZva2VBc3luYywgUGVyZm9ybWFuY2VFdmVudHMgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgVGVtcG9yYXJ5Q2FjaGVLZXlzLCBBcGlJZCB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJDb25zdGFudHMubWpzJztcbmltcG9ydCB7IGVtcHR5TmF2aWdhdGVVcmksIHVzZXJDYW5jZWxsZWQgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNsYXNzIFJlZGlyZWN0SGFuZGxlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihhdXRoQ29kZU1vZHVsZSwgc3RvcmFnZUltcGwsIGF1dGhDb2RlUmVxdWVzdCwgbG9nZ2VyLCBwZXJmb3JtYW5jZUNsaWVudCkge1xyXG4gICAgICAgIHRoaXMuYXV0aE1vZHVsZSA9IGF1dGhDb2RlTW9kdWxlO1xyXG4gICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2UgPSBzdG9yYWdlSW1wbDtcclxuICAgICAgICB0aGlzLmF1dGhDb2RlUmVxdWVzdCA9IGF1dGhDb2RlUmVxdWVzdDtcclxuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50ID0gcGVyZm9ybWFuY2VDbGllbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlZGlyZWN0cyB3aW5kb3cgdG8gZ2l2ZW4gVVJMLlxyXG4gICAgICogQHBhcmFtIHVybE5hdmlnYXRlXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGluaXRpYXRlQXV0aFJlcXVlc3QocmVxdWVzdFVybCwgcGFyYW1zKSB7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlJlZGlyZWN0SGFuZGxlci5pbml0aWF0ZUF1dGhSZXF1ZXN0IGNhbGxlZFwiKTtcclxuICAgICAgICAvLyBOYXZpZ2F0ZSBpZiB2YWxpZCBVUkxcclxuICAgICAgICBpZiAocmVxdWVzdFVybCkge1xyXG4gICAgICAgICAgICAvLyBDYWNoZSBzdGFydCBwYWdlLCByZXR1cm5zIHRvIHRoaXMgcGFnZSBhZnRlciByZWRpcmVjdFVyaSBpZiBuYXZpZ2F0ZVRvTG9naW5SZXF1ZXN0VXJsIGlzIHRydWVcclxuICAgICAgICAgICAgaWYgKHBhcmFtcy5yZWRpcmVjdFN0YXJ0UGFnZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlJlZGlyZWN0SGFuZGxlci5pbml0aWF0ZUF1dGhSZXF1ZXN0OiByZWRpcmVjdFN0YXJ0UGFnZSBzZXQsIGNhY2hpbmcgc3RhcnQgcGFnZVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnJvd3NlclN0b3JhZ2Uuc2V0VGVtcG9yYXJ5Q2FjaGUoVGVtcG9yYXJ5Q2FjaGVLZXlzLk9SSUdJTl9VUkksIHBhcmFtcy5yZWRpcmVjdFN0YXJ0UGFnZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU2V0IGludGVyYWN0aW9uIHN0YXR1cyBpbiB0aGUgbGlicmFyeS5cclxuICAgICAgICAgICAgdGhpcy5icm93c2VyU3RvcmFnZS5zZXRUZW1wb3JhcnlDYWNoZShUZW1wb3JhcnlDYWNoZUtleXMuQ09SUkVMQVRJT05fSUQsIHRoaXMuYXV0aENvZGVSZXF1ZXN0LmNvcnJlbGF0aW9uSWQsIHRydWUpO1xyXG4gICAgICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLmNhY2hlQ29kZVJlcXVlc3QodGhpcy5hdXRoQ29kZVJlcXVlc3QpO1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvUGlpKGBSZWRpcmVjdEhhbmRsZXIuaW5pdGlhdGVBdXRoUmVxdWVzdDogTmF2aWdhdGUgdG86ICR7cmVxdWVzdFVybH1gKTtcclxuICAgICAgICAgICAgY29uc3QgbmF2aWdhdGlvbk9wdGlvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBhcGlJZDogQXBpSWQuYWNxdWlyZVRva2VuUmVkaXJlY3QsXHJcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiBwYXJhbXMucmVkaXJlY3RUaW1lb3V0LFxyXG4gICAgICAgICAgICAgICAgbm9IaXN0b3J5OiBmYWxzZSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gSWYgb25SZWRpcmVjdE5hdmlnYXRlIGlzIGltcGxlbWVudGVkLCBpbnZva2UgaXQgYW5kIHByb3ZpZGUgcmVxdWVzdFVybFxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcmFtcy5vblJlZGlyZWN0TmF2aWdhdGUgPT09IFwiZnVuY3Rpb25cIikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlJlZGlyZWN0SGFuZGxlci5pbml0aWF0ZUF1dGhSZXF1ZXN0OiBJbnZva2luZyBvblJlZGlyZWN0TmF2aWdhdGUgY2FsbGJhY2tcIik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuYXZpZ2F0ZSA9IHBhcmFtcy5vblJlZGlyZWN0TmF2aWdhdGUocmVxdWVzdFVybCk7XHJcbiAgICAgICAgICAgICAgICAvLyBSZXR1cm5pbmcgZmFsc2UgZnJvbSBvblJlZGlyZWN0TmF2aWdhdGUgd2lsbCBzdG9wIG5hdmlnYXRpb25cclxuICAgICAgICAgICAgICAgIGlmIChuYXZpZ2F0ZSAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiUmVkaXJlY3RIYW5kbGVyLmluaXRpYXRlQXV0aFJlcXVlc3Q6IG9uUmVkaXJlY3ROYXZpZ2F0ZSBkaWQgbm90IHJldHVybiBmYWxzZSwgbmF2aWdhdGluZ1wiKTtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBwYXJhbXMubmF2aWdhdGlvbkNsaWVudC5uYXZpZ2F0ZUV4dGVybmFsKHJlcXVlc3RVcmwsIG5hdmlnYXRpb25PcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiUmVkaXJlY3RIYW5kbGVyLmluaXRpYXRlQXV0aFJlcXVlc3Q6IG9uUmVkaXJlY3ROYXZpZ2F0ZSByZXR1cm5lZCBmYWxzZSwgc3RvcHBpbmcgbmF2aWdhdGlvblwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBOYXZpZ2F0ZSB3aW5kb3cgdG8gcmVxdWVzdCBVUkxcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJSZWRpcmVjdEhhbmRsZXIuaW5pdGlhdGVBdXRoUmVxdWVzdDogTmF2aWdhdGluZyB3aW5kb3cgdG8gbmF2aWdhdGUgdXJsXCIpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgcGFyYW1zLm5hdmlnYXRpb25DbGllbnQubmF2aWdhdGVFeHRlcm5hbChyZXF1ZXN0VXJsLCBuYXZpZ2F0aW9uT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRocm93IGVycm9yIGlmIHJlcXVlc3QgVVJMIGlzIGVtcHR5LlxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci5pbmZvKFwiUmVkaXJlY3RIYW5kbGVyLmluaXRpYXRlQXV0aFJlcXVlc3Q6IE5hdmlnYXRlIHVybCBpcyBlbXB0eVwiKTtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihlbXB0eU5hdmlnYXRlVXJpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhhbmRsZSBhdXRob3JpemF0aW9uIGNvZGUgcmVzcG9uc2UgaW4gdGhlIHdpbmRvdy5cclxuICAgICAqIEBwYXJhbSBoYXNoXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGhhbmRsZUNvZGVSZXNwb25zZShyZXNwb25zZSwgc3RhdGUpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiUmVkaXJlY3RIYW5kbGVyLmhhbmRsZUNvZGVSZXNwb25zZSBjYWxsZWRcIik7XHJcbiAgICAgICAgLy8gSW50ZXJhY3Rpb24gaXMgY29tcGxldGVkIC0gcmVtb3ZlIGludGVyYWN0aW9uIHN0YXR1cy5cclxuICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLnNldEludGVyYWN0aW9uSW5Qcm9ncmVzcyhmYWxzZSk7XHJcbiAgICAgICAgLy8gSGFuZGxlIGNvZGUgcmVzcG9uc2UuXHJcbiAgICAgICAgY29uc3Qgc3RhdGVLZXkgPSB0aGlzLmJyb3dzZXJTdG9yYWdlLmdlbmVyYXRlU3RhdGVLZXkoc3RhdGUpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3RTdGF0ZSA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0VGVtcG9yYXJ5Q2FjaGUoc3RhdGVLZXkpO1xyXG4gICAgICAgIGlmICghcmVxdWVzdFN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JDb2Rlcy5zdGF0ZU5vdEZvdW5kLCBcIkNhY2hlZCBTdGF0ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGF1dGhDb2RlUmVzcG9uc2U7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXV0aENvZGVSZXNwb25zZSA9IHRoaXMuYXV0aE1vZHVsZS5oYW5kbGVGcmFnbWVudFJlc3BvbnNlKHJlc3BvbnNlLCByZXF1ZXN0U3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFNlcnZlckVycm9yICYmXHJcbiAgICAgICAgICAgICAgICBlLnN1YkVycm9yID09PSB1c2VyQ2FuY2VsbGVkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUcmFuc2xhdGUgc2VydmVyIGVycm9yIGNhdXNlZCBieSB1c2VyIGNsb3NpbmcgbmF0aXZlIHByb21wdCB0byBjb3JyZXNwb25kaW5nIGZpcnN0IGNsYXNzIE1TQUwgZXJyb3JcclxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IodXNlckNhbmNlbGxlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEdldCBjYWNoZWQgaXRlbXNcclxuICAgICAgICBjb25zdCBub25jZUtleSA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2VuZXJhdGVOb25jZUtleShyZXF1ZXN0U3RhdGUpO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlZE5vbmNlID0gdGhpcy5icm93c2VyU3RvcmFnZS5nZXRUZW1wb3JhcnlDYWNoZShub25jZUtleSk7XHJcbiAgICAgICAgLy8gQXNzaWduIGNvZGUgdG8gcmVxdWVzdFxyXG4gICAgICAgIHRoaXMuYXV0aENvZGVSZXF1ZXN0LmNvZGUgPSBhdXRoQ29kZVJlc3BvbnNlLmNvZGU7XHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIG5ldyBjbG91ZCBpbnN0YW5jZVxyXG4gICAgICAgIGlmIChhdXRoQ29kZVJlc3BvbnNlLmNsb3VkX2luc3RhbmNlX2hvc3RfbmFtZSkge1xyXG4gICAgICAgICAgICBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmF1dGhNb2R1bGUudXBkYXRlQXV0aG9yaXR5LmJpbmQodGhpcy5hdXRoTW9kdWxlKSwgUGVyZm9ybWFuY2VFdmVudHMuVXBkYXRlVG9rZW5FbmRwb2ludEF1dGhvcml0eSwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHRoaXMuYXV0aENvZGVSZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKGF1dGhDb2RlUmVzcG9uc2UuY2xvdWRfaW5zdGFuY2VfaG9zdF9uYW1lLCB0aGlzLmF1dGhDb2RlUmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXV0aENvZGVSZXNwb25zZS5ub25jZSA9IGNhY2hlZE5vbmNlIHx8IHVuZGVmaW5lZDtcclxuICAgICAgICBhdXRoQ29kZVJlc3BvbnNlLnN0YXRlID0gcmVxdWVzdFN0YXRlO1xyXG4gICAgICAgIC8vIEFkZCBDQ1MgcGFyYW1ldGVycyBpZiBhdmFpbGFibGVcclxuICAgICAgICBpZiAoYXV0aENvZGVSZXNwb25zZS5jbGllbnRfaW5mbykge1xyXG4gICAgICAgICAgICB0aGlzLmF1dGhDb2RlUmVxdWVzdC5jbGllbnRJbmZvID0gYXV0aENvZGVSZXNwb25zZS5jbGllbnRfaW5mbztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlZENjc0NyZWQgPSB0aGlzLmNoZWNrQ2NzQ3JlZGVudGlhbHMoKTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlZENjc0NyZWQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXV0aENvZGVSZXF1ZXN0LmNjc0NyZWRlbnRpYWwgPSBjYWNoZWRDY3NDcmVkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFjcXVpcmUgdG9rZW4gd2l0aCByZXRyaWV2ZWQgY29kZS5cclxuICAgICAgICBjb25zdCB0b2tlblJlc3BvbnNlID0gKGF3YWl0IHRoaXMuYXV0aE1vZHVsZS5hY3F1aXJlVG9rZW4odGhpcy5hdXRoQ29kZVJlcXVlc3QsIGF1dGhDb2RlUmVzcG9uc2UpKTtcclxuICAgICAgICB0aGlzLmJyb3dzZXJTdG9yYWdlLmNsZWFuUmVxdWVzdEJ5U3RhdGUoc3RhdGUpO1xyXG4gICAgICAgIHJldHVybiB0b2tlblJlc3BvbnNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb29rcyB1cCBjY3MgY3JlZHMgaW4gdGhlIGNhY2hlXHJcbiAgICAgKi9cclxuICAgIGNoZWNrQ2NzQ3JlZGVudGlhbHMoKSB7XHJcbiAgICAgICAgLy8gTG9vayB1cCBjY3MgY3JlZGVudGlhbCBpbiB0ZW1wIGNhY2hlXHJcbiAgICAgICAgY29uc3QgY2FjaGVkQ2NzQ3JlZCA9IHRoaXMuYnJvd3NlclN0b3JhZ2UuZ2V0VGVtcG9yYXJ5Q2FjaGUoVGVtcG9yYXJ5Q2FjaGVLZXlzLkNDU19DUkVERU5USUFMLCB0cnVlKTtcclxuICAgICAgICBpZiAoY2FjaGVkQ2NzQ3JlZCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY2FjaGVkQ2NzQ3JlZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXV0aE1vZHVsZS5sb2dnZXIuZXJyb3IoXCJDYWNoZSBjcmVkZW50aWFsIGNvdWxkIG5vdCBiZSBwYXJzZWRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1dGhNb2R1bGUubG9nZ2VyLmVycm9yUGlpKGBDYWNoZSBjcmVkZW50aWFsIGNvdWxkIG5vdCBiZSBwYXJzZWQ6ICR7Y2FjaGVkQ2NzQ3JlZH1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBSZWRpcmVjdEhhbmRsZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlZGlyZWN0SGFuZGxlci5tanMubWFwXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50QXV0aEVycm9yIiwiQ2xpZW50QXV0aEVycm9yQ29kZXMiLCJTZXJ2ZXJFcnJvciIsImludm9rZUFzeW5jIiwiUGVyZm9ybWFuY2VFdmVudHMiLCJjcmVhdGVCcm93c2VyQXV0aEVycm9yIiwiVGVtcG9yYXJ5Q2FjaGVLZXlzIiwiQXBpSWQiLCJlbXB0eU5hdmlnYXRlVXJpIiwidXNlckNhbmNlbGxlZCIsIlJlZGlyZWN0SGFuZGxlciIsImNvbnN0cnVjdG9yIiwiYXV0aENvZGVNb2R1bGUiLCJzdG9yYWdlSW1wbCIsImF1dGhDb2RlUmVxdWVzdCIsImxvZ2dlciIsInBlcmZvcm1hbmNlQ2xpZW50IiwiYXV0aE1vZHVsZSIsImJyb3dzZXJTdG9yYWdlIiwiaW5pdGlhdGVBdXRoUmVxdWVzdCIsInJlcXVlc3RVcmwiLCJwYXJhbXMiLCJ2ZXJib3NlIiwicmVkaXJlY3RTdGFydFBhZ2UiLCJzZXRUZW1wb3JhcnlDYWNoZSIsIk9SSUdJTl9VUkkiLCJDT1JSRUxBVElPTl9JRCIsImNvcnJlbGF0aW9uSWQiLCJjYWNoZUNvZGVSZXF1ZXN0IiwiaW5mb1BpaSIsIm5hdmlnYXRpb25PcHRpb25zIiwiYXBpSWQiLCJhY3F1aXJlVG9rZW5SZWRpcmVjdCIsInRpbWVvdXQiLCJyZWRpcmVjdFRpbWVvdXQiLCJub0hpc3RvcnkiLCJvblJlZGlyZWN0TmF2aWdhdGUiLCJuYXZpZ2F0ZSIsIm5hdmlnYXRpb25DbGllbnQiLCJuYXZpZ2F0ZUV4dGVybmFsIiwiaW5mbyIsImhhbmRsZUNvZGVSZXNwb25zZSIsInJlc3BvbnNlIiwic3RhdGUiLCJzZXRJbnRlcmFjdGlvbkluUHJvZ3Jlc3MiLCJzdGF0ZUtleSIsImdlbmVyYXRlU3RhdGVLZXkiLCJyZXF1ZXN0U3RhdGUiLCJnZXRUZW1wb3JhcnlDYWNoZSIsInN0YXRlTm90Rm91bmQiLCJhdXRoQ29kZVJlc3BvbnNlIiwiaGFuZGxlRnJhZ21lbnRSZXNwb25zZSIsImUiLCJzdWJFcnJvciIsIm5vbmNlS2V5IiwiZ2VuZXJhdGVOb25jZUtleSIsImNhY2hlZE5vbmNlIiwiY29kZSIsImNsb3VkX2luc3RhbmNlX2hvc3RfbmFtZSIsInVwZGF0ZUF1dGhvcml0eSIsImJpbmQiLCJVcGRhdGVUb2tlbkVuZHBvaW50QXV0aG9yaXR5Iiwibm9uY2UiLCJ1bmRlZmluZWQiLCJjbGllbnRfaW5mbyIsImNsaWVudEluZm8iLCJjYWNoZWRDY3NDcmVkIiwiY2hlY2tDY3NDcmVkZW50aWFscyIsImNjc0NyZWRlbnRpYWwiLCJ0b2tlblJlc3BvbnNlIiwiYWNxdWlyZVRva2VuIiwiY2xlYW5SZXF1ZXN0QnlTdGF0ZSIsIkNDU19DUkVERU5USUFMIiwiSlNPTiIsInBhcnNlIiwiZXJyb3IiLCJlcnJvclBpaSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_handler/RedirectHandler.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/interaction_handler/SilentHandler.mjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/interaction_handler/SilentHandler.mjs ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initiateAuthRequest: () => (/* binding */ initiateAuthRequest),\n/* harmony export */   monitorIframeForHash: () => (/* binding */ monitorIframeForHash)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _config_Configuration_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../config/Configuration.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/config/Configuration.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Creates a hidden iframe to given URL using user-requested scopes as an id.\r\n * @param urlNavigate\r\n * @param userRequestScopes\r\n */ async function initiateAuthRequest(requestUrl, performanceClient, logger, correlationId, navigateFrameWait) {\n    performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.SilentHandlerInitiateAuthRequest, correlationId);\n    if (!requestUrl) {\n        // Throw error if request URL is empty.\n        logger.info(\"Navigate url is empty\");\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.emptyNavigateUri);\n    }\n    if (navigateFrameWait) {\n        return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(loadFrame, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.SilentHandlerLoadFrame, logger, performanceClient, correlationId)(requestUrl, navigateFrameWait, performanceClient, correlationId);\n    }\n    return (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invoke)(loadFrameSync, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.SilentHandlerLoadFrameSync, logger, performanceClient, correlationId)(requestUrl);\n}\n/**\r\n * Monitors an iframe content window until it loads a url with a known hash, or hits a specified timeout.\r\n * @param iframe\r\n * @param timeout\r\n */ async function monitorIframeForHash(iframe, timeout, pollIntervalMilliseconds, performanceClient, logger, correlationId, responseType) {\n    performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.SilentHandlerMonitorIframeForHash, correlationId);\n    return new Promise((resolve, reject)=>{\n        if (timeout < _config_Configuration_mjs__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_IFRAME_TIMEOUT_MS) {\n            logger.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${timeout}ms) than the default (${_config_Configuration_mjs__WEBPACK_IMPORTED_MODULE_4__.DEFAULT_IFRAME_TIMEOUT_MS}ms). This may result in timeouts.`);\n        }\n        /*\r\n         * Polling for iframes can be purely timing based,\r\n         * since we don't need to account for interaction.\r\n         */ const timeoutId = window.setTimeout(()=>{\n            window.clearInterval(intervalId);\n            reject((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.monitorWindowTimeout));\n        }, timeout);\n        const intervalId = window.setInterval(()=>{\n            let href = \"\";\n            const contentWindow = iframe.contentWindow;\n            try {\n                /*\r\n                 * Will throw if cross origin,\r\n                 * which should be caught and ignored\r\n                 * since we need the interval to keep running while on STS UI.\r\n                 */ href = contentWindow ? contentWindow.location.href : \"\";\n            } catch (e) {}\n            if (!href || href === \"about:blank\") {\n                return;\n            }\n            let responseString = \"\";\n            if (contentWindow) {\n                if (responseType === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.ServerResponseType.QUERY) {\n                    responseString = contentWindow.location.search;\n                } else {\n                    responseString = contentWindow.location.hash;\n                }\n            }\n            window.clearTimeout(timeoutId);\n            window.clearInterval(intervalId);\n            resolve(responseString);\n        }, pollIntervalMilliseconds);\n    }).finally(()=>{\n        (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.invoke)(removeHiddenIframe, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.RemoveHiddenIframe, logger, performanceClient, correlationId)(iframe);\n    });\n}\n/**\r\n * @hidden\r\n * Loads iframe with authorization endpoint URL\r\n * @ignore\r\n * @deprecated\r\n */ function loadFrame(urlNavigate, navigateFrameWait, performanceClient, correlationId) {\n    performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.SilentHandlerLoadFrame, correlationId);\n    /*\r\n     * This trick overcomes iframe navigation in IE\r\n     * IE does not load the page consistently in iframe\r\n     */ return new Promise((resolve, reject)=>{\n        const frameHandle = createHiddenIframe();\n        window.setTimeout(()=>{\n            if (!frameHandle) {\n                reject(\"Unable to load iframe\");\n                return;\n            }\n            frameHandle.src = urlNavigate;\n            resolve(frameHandle);\n        }, navigateFrameWait);\n    });\n}\n/**\r\n * @hidden\r\n * Loads the iframe synchronously when the navigateTimeFrame is set to `0`\r\n * @param urlNavigate\r\n * @param frameName\r\n * @param logger\r\n */ function loadFrameSync(urlNavigate) {\n    const frameHandle = createHiddenIframe();\n    frameHandle.src = urlNavigate;\n    return frameHandle;\n}\n/**\r\n * @hidden\r\n * Creates a new hidden iframe or gets an existing one for silent token renewal.\r\n * @ignore\r\n */ function createHiddenIframe() {\n    const authFrame = document.createElement(\"iframe\");\n    authFrame.className = \"msalSilentIframe\";\n    authFrame.style.visibility = \"hidden\";\n    authFrame.style.position = \"absolute\";\n    authFrame.style.width = authFrame.style.height = \"0\";\n    authFrame.style.border = \"0\";\n    authFrame.setAttribute(\"sandbox\", \"allow-scripts allow-same-origin allow-forms\");\n    document.body.appendChild(authFrame);\n    return authFrame;\n}\n/**\r\n * @hidden\r\n * Removes a hidden iframe from the page.\r\n * @ignore\r\n */ function removeHiddenIframe(iframe) {\n    if (document.body === iframe.parentNode) {\n        document.body.removeChild(iframe);\n    }\n}\n //# sourceMappingURL=SilentHandler.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2hhbmRsZXIvU2lsZW50SGFuZGxlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDd0c7QUFDakM7QUFDQztBQUNvQjtBQUU1Rjs7O0NBR0MsR0FDRDs7OztDQUlDLEdBQ0QsZUFBZVEsb0JBQW9CQyxVQUFVLEVBQUVDLGlCQUFpQixFQUFFQyxNQUFNLEVBQUVDLGFBQWEsRUFBRUMsaUJBQWlCO0lBQ3RHSCxrQkFBa0JJLG1CQUFtQixDQUFDZCx5RUFBaUJBLENBQUNlLGdDQUFnQyxFQUFFSDtJQUMxRixJQUFJLENBQUNILFlBQVk7UUFDYix1Q0FBdUM7UUFDdkNFLE9BQU9LLElBQUksQ0FBQztRQUNaLE1BQU1aLG1GQUFzQkEsQ0FBQ0UsOEVBQWdCQTtJQUNqRDtJQUNBLElBQUlPLG1CQUFtQjtRQUNuQixPQUFPWix1RUFBV0EsQ0FBQ2dCLFdBQVdqQix5RUFBaUJBLENBQUNrQixzQkFBc0IsRUFBRVAsUUFBUUQsbUJBQW1CRSxlQUFlSCxZQUFZSSxtQkFBbUJILG1CQUFtQkU7SUFDeEs7SUFDQSxPQUFPVixrRUFBTUEsQ0FBQ2lCLGVBQWVuQix5RUFBaUJBLENBQUNvQiwwQkFBMEIsRUFBRVQsUUFBUUQsbUJBQW1CRSxlQUFlSDtBQUN6SDtBQUNBOzs7O0NBSUMsR0FDRCxlQUFlWSxxQkFBcUJDLE1BQU0sRUFBRUMsT0FBTyxFQUFFQyx3QkFBd0IsRUFBRWQsaUJBQWlCLEVBQUVDLE1BQU0sRUFBRUMsYUFBYSxFQUFFYSxZQUFZO0lBQ2pJZixrQkFBa0JJLG1CQUFtQixDQUFDZCx5RUFBaUJBLENBQUMwQixpQ0FBaUMsRUFBRWQ7SUFDM0YsT0FBTyxJQUFJZSxRQUFRLENBQUNDLFNBQVNDO1FBQ3pCLElBQUlOLFVBQVVsQixnRkFBeUJBLEVBQUU7WUFDckNNLE9BQU9tQixPQUFPLENBQUMsQ0FBQyxrRUFBa0UsRUFBRVAsUUFBUSxzQkFBc0IsRUFBRWxCLGdGQUF5QkEsQ0FBQyxpQ0FBaUMsQ0FBQztRQUNwTDtRQUNBOzs7U0FHQyxHQUNELE1BQU0wQixZQUFZQyxPQUFPQyxVQUFVLENBQUM7WUFDaENELE9BQU9FLGFBQWEsQ0FBQ0M7WUFDckJOLE9BQU96QixtRkFBc0JBLENBQUNHLGtGQUFvQkE7UUFDdEQsR0FBR2dCO1FBQ0gsTUFBTVksYUFBYUgsT0FBT0ksV0FBVyxDQUFDO1lBQ2xDLElBQUlDLE9BQU87WUFDWCxNQUFNQyxnQkFBZ0JoQixPQUFPZ0IsYUFBYTtZQUMxQyxJQUFJO2dCQUNBOzs7O2lCQUlDLEdBQ0RELE9BQU9DLGdCQUFnQkEsY0FBY0MsUUFBUSxDQUFDRixJQUFJLEdBQUc7WUFDekQsRUFDQSxPQUFPRyxHQUFHLENBQUU7WUFDWixJQUFJLENBQUNILFFBQVFBLFNBQVMsZUFBZTtnQkFDakM7WUFDSjtZQUNBLElBQUlJLGlCQUFpQjtZQUNyQixJQUFJSCxlQUFlO2dCQUNmLElBQUliLGlCQUFpQnRCLDBFQUFrQkEsQ0FBQ3VDLEtBQUssRUFBRTtvQkFDM0NELGlCQUFpQkgsY0FBY0MsUUFBUSxDQUFDSSxNQUFNO2dCQUNsRCxPQUNLO29CQUNERixpQkFBaUJILGNBQWNDLFFBQVEsQ0FBQ0ssSUFBSTtnQkFDaEQ7WUFDSjtZQUNBWixPQUFPYSxZQUFZLENBQUNkO1lBQ3BCQyxPQUFPRSxhQUFhLENBQUNDO1lBQ3JCUCxRQUFRYTtRQUNaLEdBQUdqQjtJQUNQLEdBQUdzQixPQUFPLENBQUM7UUFDUDVDLGtFQUFNQSxDQUFDNkMsb0JBQW9CL0MseUVBQWlCQSxDQUFDZ0Qsa0JBQWtCLEVBQUVyQyxRQUFRRCxtQkFBbUJFLGVBQWVVO0lBQy9HO0FBQ0o7QUFDQTs7Ozs7Q0FLQyxHQUNELFNBQVNMLFVBQVVnQyxXQUFXLEVBQUVwQyxpQkFBaUIsRUFBRUgsaUJBQWlCLEVBQUVFLGFBQWE7SUFDL0VGLGtCQUFrQkksbUJBQW1CLENBQUNkLHlFQUFpQkEsQ0FBQ2tCLHNCQUFzQixFQUFFTjtJQUNoRjs7O0tBR0MsR0FDRCxPQUFPLElBQUllLFFBQVEsQ0FBQ0MsU0FBU0M7UUFDekIsTUFBTXFCLGNBQWNDO1FBQ3BCbkIsT0FBT0MsVUFBVSxDQUFDO1lBQ2QsSUFBSSxDQUFDaUIsYUFBYTtnQkFDZHJCLE9BQU87Z0JBQ1A7WUFDSjtZQUNBcUIsWUFBWUUsR0FBRyxHQUFHSDtZQUNsQnJCLFFBQVFzQjtRQUNaLEdBQUdyQztJQUNQO0FBQ0o7QUFDQTs7Ozs7O0NBTUMsR0FDRCxTQUFTTSxjQUFjOEIsV0FBVztJQUM5QixNQUFNQyxjQUFjQztJQUNwQkQsWUFBWUUsR0FBRyxHQUFHSDtJQUNsQixPQUFPQztBQUNYO0FBQ0E7Ozs7Q0FJQyxHQUNELFNBQVNDO0lBQ0wsTUFBTUUsWUFBWUMsU0FBU0MsYUFBYSxDQUFDO0lBQ3pDRixVQUFVRyxTQUFTLEdBQUc7SUFDdEJILFVBQVVJLEtBQUssQ0FBQ0MsVUFBVSxHQUFHO0lBQzdCTCxVQUFVSSxLQUFLLENBQUNFLFFBQVEsR0FBRztJQUMzQk4sVUFBVUksS0FBSyxDQUFDRyxLQUFLLEdBQUdQLFVBQVVJLEtBQUssQ0FBQ0ksTUFBTSxHQUFHO0lBQ2pEUixVQUFVSSxLQUFLLENBQUNLLE1BQU0sR0FBRztJQUN6QlQsVUFBVVUsWUFBWSxDQUFDLFdBQVc7SUFDbENULFNBQVNVLElBQUksQ0FBQ0MsV0FBVyxDQUFDWjtJQUMxQixPQUFPQTtBQUNYO0FBQ0E7Ozs7Q0FJQyxHQUNELFNBQVNOLG1CQUFtQnpCLE1BQU07SUFDOUIsSUFBSWdDLFNBQVNVLElBQUksS0FBSzFDLE9BQU80QyxVQUFVLEVBQUU7UUFDckNaLFNBQVNVLElBQUksQ0FBQ0csV0FBVyxDQUFDN0M7SUFDOUI7QUFDSjtBQUVxRCxDQUNyRCwwQ0FBMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L2ludGVyYWN0aW9uX2hhbmRsZXIvU2lsZW50SGFuZGxlci5tanM/OTViYSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFBlcmZvcm1hbmNlRXZlbnRzLCBpbnZva2VBc3luYywgaW52b2tlLCBTZXJ2ZXJSZXNwb25zZVR5cGUgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBjcmVhdGVCcm93c2VyQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgREVGQVVMVF9JRlJBTUVfVElNRU9VVF9NUyB9IGZyb20gJy4uL2NvbmZpZy9Db25maWd1cmF0aW9uLm1qcyc7XG5pbXBvcnQgeyBlbXB0eU5hdmlnYXRlVXJpLCBtb25pdG9yV2luZG93VGltZW91dCB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENyZWF0ZXMgYSBoaWRkZW4gaWZyYW1lIHRvIGdpdmVuIFVSTCB1c2luZyB1c2VyLXJlcXVlc3RlZCBzY29wZXMgYXMgYW4gaWQuXHJcbiAqIEBwYXJhbSB1cmxOYXZpZ2F0ZVxyXG4gKiBAcGFyYW0gdXNlclJlcXVlc3RTY29wZXNcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXRpYXRlQXV0aFJlcXVlc3QocmVxdWVzdFVybCwgcGVyZm9ybWFuY2VDbGllbnQsIGxvZ2dlciwgY29ycmVsYXRpb25JZCwgbmF2aWdhdGVGcmFtZVdhaXQpIHtcclxuICAgIHBlcmZvcm1hbmNlQ2xpZW50LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuU2lsZW50SGFuZGxlckluaXRpYXRlQXV0aFJlcXVlc3QsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgaWYgKCFyZXF1ZXN0VXJsKSB7XHJcbiAgICAgICAgLy8gVGhyb3cgZXJyb3IgaWYgcmVxdWVzdCBVUkwgaXMgZW1wdHkuXHJcbiAgICAgICAgbG9nZ2VyLmluZm8oXCJOYXZpZ2F0ZSB1cmwgaXMgZW1wdHlcIik7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihlbXB0eU5hdmlnYXRlVXJpKTtcclxuICAgIH1cclxuICAgIGlmIChuYXZpZ2F0ZUZyYW1lV2FpdCkge1xyXG4gICAgICAgIHJldHVybiBpbnZva2VBc3luYyhsb2FkRnJhbWUsIFBlcmZvcm1hbmNlRXZlbnRzLlNpbGVudEhhbmRsZXJMb2FkRnJhbWUsIGxvZ2dlciwgcGVyZm9ybWFuY2VDbGllbnQsIGNvcnJlbGF0aW9uSWQpKHJlcXVlc3RVcmwsIG5hdmlnYXRlRnJhbWVXYWl0LCBwZXJmb3JtYW5jZUNsaWVudCwgY29ycmVsYXRpb25JZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW52b2tlKGxvYWRGcmFtZVN5bmMsIFBlcmZvcm1hbmNlRXZlbnRzLlNpbGVudEhhbmRsZXJMb2FkRnJhbWVTeW5jLCBsb2dnZXIsIHBlcmZvcm1hbmNlQ2xpZW50LCBjb3JyZWxhdGlvbklkKShyZXF1ZXN0VXJsKTtcclxufVxyXG4vKipcclxuICogTW9uaXRvcnMgYW4gaWZyYW1lIGNvbnRlbnQgd2luZG93IHVudGlsIGl0IGxvYWRzIGEgdXJsIHdpdGggYSBrbm93biBoYXNoLCBvciBoaXRzIGEgc3BlY2lmaWVkIHRpbWVvdXQuXHJcbiAqIEBwYXJhbSBpZnJhbWVcclxuICogQHBhcmFtIHRpbWVvdXRcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIG1vbml0b3JJZnJhbWVGb3JIYXNoKGlmcmFtZSwgdGltZW91dCwgcG9sbEludGVydmFsTWlsbGlzZWNvbmRzLCBwZXJmb3JtYW5jZUNsaWVudCwgbG9nZ2VyLCBjb3JyZWxhdGlvbklkLCByZXNwb25zZVR5cGUpIHtcclxuICAgIHBlcmZvcm1hbmNlQ2xpZW50LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuU2lsZW50SGFuZGxlck1vbml0b3JJZnJhbWVGb3JIYXNoLCBjb3JyZWxhdGlvbklkKTtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgaWYgKHRpbWVvdXQgPCBERUZBVUxUX0lGUkFNRV9USU1FT1VUX01TKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci53YXJuaW5nKGBzeXN0ZW0ubG9hZEZyYW1lVGltZW91dCBvciBzeXN0ZW0uaWZyYW1lSGFzaFRpbWVvdXQgc2V0IHRvIGxvd2VyICgke3RpbWVvdXR9bXMpIHRoYW4gdGhlIGRlZmF1bHQgKCR7REVGQVVMVF9JRlJBTUVfVElNRU9VVF9NU31tcykuIFRoaXMgbWF5IHJlc3VsdCBpbiB0aW1lb3V0cy5gKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBQb2xsaW5nIGZvciBpZnJhbWVzIGNhbiBiZSBwdXJlbHkgdGltaW5nIGJhc2VkLFxyXG4gICAgICAgICAqIHNpbmNlIHdlIGRvbid0IG5lZWQgdG8gYWNjb3VudCBmb3IgaW50ZXJhY3Rpb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3QgdGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcclxuICAgICAgICAgICAgcmVqZWN0KGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IobW9uaXRvcldpbmRvd1RpbWVvdXQpKTtcclxuICAgICAgICB9LCB0aW1lb3V0KTtcclxuICAgICAgICBjb25zdCBpbnRlcnZhbElkID0gd2luZG93LnNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgbGV0IGhyZWYgPSBcIlwiO1xyXG4gICAgICAgICAgICBjb25zdCBjb250ZW50V2luZG93ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3c7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgICogV2lsbCB0aHJvdyBpZiBjcm9zcyBvcmlnaW4sXHJcbiAgICAgICAgICAgICAgICAgKiB3aGljaCBzaG91bGQgYmUgY2F1Z2h0IGFuZCBpZ25vcmVkXHJcbiAgICAgICAgICAgICAgICAgKiBzaW5jZSB3ZSBuZWVkIHRoZSBpbnRlcnZhbCB0byBrZWVwIHJ1bm5pbmcgd2hpbGUgb24gU1RTIFVJLlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBocmVmID0gY29udGVudFdpbmRvdyA/IGNvbnRlbnRXaW5kb3cubG9jYXRpb24uaHJlZiA6IFwiXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgICAgICBpZiAoIWhyZWYgfHwgaHJlZiA9PT0gXCJhYm91dDpibGFua1wiKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHJlc3BvbnNlU3RyaW5nID0gXCJcIjtcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnRXaW5kb3cpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUgPT09IFNlcnZlclJlc3BvbnNlVHlwZS5RVUVSWSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RyaW5nID0gY29udGVudFdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZVN0cmluZyA9IGNvbnRlbnRXaW5kb3cubG9jYXRpb24uaGFzaDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG4gICAgICAgICAgICByZXNvbHZlKHJlc3BvbnNlU3RyaW5nKTtcclxuICAgICAgICB9LCBwb2xsSW50ZXJ2YWxNaWxsaXNlY29uZHMpO1xyXG4gICAgfSkuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgaW52b2tlKHJlbW92ZUhpZGRlbklmcmFtZSwgUGVyZm9ybWFuY2VFdmVudHMuUmVtb3ZlSGlkZGVuSWZyYW1lLCBsb2dnZXIsIHBlcmZvcm1hbmNlQ2xpZW50LCBjb3JyZWxhdGlvbklkKShpZnJhbWUpO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIEBoaWRkZW5cclxuICogTG9hZHMgaWZyYW1lIHdpdGggYXV0aG9yaXphdGlvbiBlbmRwb2ludCBVUkxcclxuICogQGlnbm9yZVxyXG4gKiBAZGVwcmVjYXRlZFxyXG4gKi9cclxuZnVuY3Rpb24gbG9hZEZyYW1lKHVybE5hdmlnYXRlLCBuYXZpZ2F0ZUZyYW1lV2FpdCwgcGVyZm9ybWFuY2VDbGllbnQsIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgIHBlcmZvcm1hbmNlQ2xpZW50LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuU2lsZW50SGFuZGxlckxvYWRGcmFtZSwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAvKlxyXG4gICAgICogVGhpcyB0cmljayBvdmVyY29tZXMgaWZyYW1lIG5hdmlnYXRpb24gaW4gSUVcclxuICAgICAqIElFIGRvZXMgbm90IGxvYWQgdGhlIHBhZ2UgY29uc2lzdGVudGx5IGluIGlmcmFtZVxyXG4gICAgICovXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGZyYW1lSGFuZGxlID0gY3JlYXRlSGlkZGVuSWZyYW1lKCk7XHJcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWZyYW1lSGFuZGxlKSB7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoXCJVbmFibGUgdG8gbG9hZCBpZnJhbWVcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZnJhbWVIYW5kbGUuc3JjID0gdXJsTmF2aWdhdGU7XHJcbiAgICAgICAgICAgIHJlc29sdmUoZnJhbWVIYW5kbGUpO1xyXG4gICAgICAgIH0sIG5hdmlnYXRlRnJhbWVXYWl0KTtcclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKiBAaGlkZGVuXHJcbiAqIExvYWRzIHRoZSBpZnJhbWUgc3luY2hyb25vdXNseSB3aGVuIHRoZSBuYXZpZ2F0ZVRpbWVGcmFtZSBpcyBzZXQgdG8gYDBgXHJcbiAqIEBwYXJhbSB1cmxOYXZpZ2F0ZVxyXG4gKiBAcGFyYW0gZnJhbWVOYW1lXHJcbiAqIEBwYXJhbSBsb2dnZXJcclxuICovXHJcbmZ1bmN0aW9uIGxvYWRGcmFtZVN5bmModXJsTmF2aWdhdGUpIHtcclxuICAgIGNvbnN0IGZyYW1lSGFuZGxlID0gY3JlYXRlSGlkZGVuSWZyYW1lKCk7XHJcbiAgICBmcmFtZUhhbmRsZS5zcmMgPSB1cmxOYXZpZ2F0ZTtcclxuICAgIHJldHVybiBmcmFtZUhhbmRsZTtcclxufVxyXG4vKipcclxuICogQGhpZGRlblxyXG4gKiBDcmVhdGVzIGEgbmV3IGhpZGRlbiBpZnJhbWUgb3IgZ2V0cyBhbiBleGlzdGluZyBvbmUgZm9yIHNpbGVudCB0b2tlbiByZW5ld2FsLlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVIaWRkZW5JZnJhbWUoKSB7XHJcbiAgICBjb25zdCBhdXRoRnJhbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xyXG4gICAgYXV0aEZyYW1lLmNsYXNzTmFtZSA9IFwibXNhbFNpbGVudElmcmFtZVwiO1xyXG4gICAgYXV0aEZyYW1lLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xyXG4gICAgYXV0aEZyYW1lLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xyXG4gICAgYXV0aEZyYW1lLnN0eWxlLndpZHRoID0gYXV0aEZyYW1lLnN0eWxlLmhlaWdodCA9IFwiMFwiO1xyXG4gICAgYXV0aEZyYW1lLnN0eWxlLmJvcmRlciA9IFwiMFwiO1xyXG4gICAgYXV0aEZyYW1lLnNldEF0dHJpYnV0ZShcInNhbmRib3hcIiwgXCJhbGxvdy1zY3JpcHRzIGFsbG93LXNhbWUtb3JpZ2luIGFsbG93LWZvcm1zXCIpO1xyXG4gICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhdXRoRnJhbWUpO1xyXG4gICAgcmV0dXJuIGF1dGhGcmFtZTtcclxufVxyXG4vKipcclxuICogQGhpZGRlblxyXG4gKiBSZW1vdmVzIGEgaGlkZGVuIGlmcmFtZSBmcm9tIHRoZSBwYWdlLlxyXG4gKiBAaWdub3JlXHJcbiAqL1xyXG5mdW5jdGlvbiByZW1vdmVIaWRkZW5JZnJhbWUoaWZyYW1lKSB7XHJcbiAgICBpZiAoZG9jdW1lbnQuYm9keSA9PT0gaWZyYW1lLnBhcmVudE5vZGUpIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGlmcmFtZSk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgaW5pdGlhdGVBdXRoUmVxdWVzdCwgbW9uaXRvcklmcmFtZUZvckhhc2ggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbGVudEhhbmRsZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbIlBlcmZvcm1hbmNlRXZlbnRzIiwiaW52b2tlQXN5bmMiLCJpbnZva2UiLCJTZXJ2ZXJSZXNwb25zZVR5cGUiLCJjcmVhdGVCcm93c2VyQXV0aEVycm9yIiwiREVGQVVMVF9JRlJBTUVfVElNRU9VVF9NUyIsImVtcHR5TmF2aWdhdGVVcmkiLCJtb25pdG9yV2luZG93VGltZW91dCIsImluaXRpYXRlQXV0aFJlcXVlc3QiLCJyZXF1ZXN0VXJsIiwicGVyZm9ybWFuY2VDbGllbnQiLCJsb2dnZXIiLCJjb3JyZWxhdGlvbklkIiwibmF2aWdhdGVGcmFtZVdhaXQiLCJhZGRRdWV1ZU1lYXN1cmVtZW50IiwiU2lsZW50SGFuZGxlckluaXRpYXRlQXV0aFJlcXVlc3QiLCJpbmZvIiwibG9hZEZyYW1lIiwiU2lsZW50SGFuZGxlckxvYWRGcmFtZSIsImxvYWRGcmFtZVN5bmMiLCJTaWxlbnRIYW5kbGVyTG9hZEZyYW1lU3luYyIsIm1vbml0b3JJZnJhbWVGb3JIYXNoIiwiaWZyYW1lIiwidGltZW91dCIsInBvbGxJbnRlcnZhbE1pbGxpc2Vjb25kcyIsInJlc3BvbnNlVHlwZSIsIlNpbGVudEhhbmRsZXJNb25pdG9ySWZyYW1lRm9ySGFzaCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0Iiwid2FybmluZyIsInRpbWVvdXRJZCIsIndpbmRvdyIsInNldFRpbWVvdXQiLCJjbGVhckludGVydmFsIiwiaW50ZXJ2YWxJZCIsInNldEludGVydmFsIiwiaHJlZiIsImNvbnRlbnRXaW5kb3ciLCJsb2NhdGlvbiIsImUiLCJyZXNwb25zZVN0cmluZyIsIlFVRVJZIiwic2VhcmNoIiwiaGFzaCIsImNsZWFyVGltZW91dCIsImZpbmFsbHkiLCJyZW1vdmVIaWRkZW5JZnJhbWUiLCJSZW1vdmVIaWRkZW5JZnJhbWUiLCJ1cmxOYXZpZ2F0ZSIsImZyYW1lSGFuZGxlIiwiY3JlYXRlSGlkZGVuSWZyYW1lIiwic3JjIiwiYXV0aEZyYW1lIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2xhc3NOYW1lIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwicG9zaXRpb24iLCJ3aWR0aCIsImhlaWdodCIsImJvcmRlciIsInNldEF0dHJpYnV0ZSIsImJvZHkiLCJhcHBlbmRDaGlsZCIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/interaction_handler/SilentHandler.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/naa/BridgeError.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/naa/BridgeError.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isBridgeError: () => (/* binding */ isBridgeError)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ function isBridgeError(error) {\n    return error.status !== undefined;\n}\n //# sourceMappingURL=BridgeError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L25hYS9CcmlkZ2VFcnJvci5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBOzs7Q0FHQyxHQUNELFNBQVNBLGNBQWNDLEtBQUs7SUFDeEIsT0FBT0EsTUFBTUMsTUFBTSxLQUFLQztBQUM1QjtBQUV5QixDQUN6Qix3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L25hYS9CcmlkZ2VFcnJvci5tanM/NWJkZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0JyaWRnZUVycm9yKGVycm9yKSB7XHJcbiAgICByZXR1cm4gZXJyb3Iuc3RhdHVzICE9PSB1bmRlZmluZWQ7XHJcbn1cblxuZXhwb3J0IHsgaXNCcmlkZ2VFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJpZGdlRXJyb3IubWpzLm1hcFxuIl0sIm5hbWVzIjpbImlzQnJpZGdlRXJyb3IiLCJlcnJvciIsInN0YXR1cyIsInVuZGVmaW5lZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/naa/BridgeError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/naa/BridgeStatusCode.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/naa/BridgeStatusCode.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BridgeStatusCode: () => (/* binding */ BridgeStatusCode)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const BridgeStatusCode = {\n    UserInteractionRequired: \"USER_INTERACTION_REQUIRED\",\n    UserCancel: \"USER_CANCEL\",\n    NoNetwork: \"NO_NETWORK\",\n    TransientError: \"TRANSIENT_ERROR\",\n    PersistentError: \"PERSISTENT_ERROR\",\n    Disabled: \"DISABLED\",\n    AccountUnavailable: \"ACCOUNT_UNAVAILABLE\",\n    NestedAppAuthUnavailable: \"NESTED_APP_AUTH_UNAVAILABLE\"\n};\n //# sourceMappingURL=BridgeStatusCode.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L25hYS9CcmlkZ2VTdGF0dXNDb2RlLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0QsTUFBTUEsbUJBQW1CO0lBQ3JCQyx5QkFBeUI7SUFDekJDLFlBQVk7SUFDWkMsV0FBVztJQUNYQyxnQkFBZ0I7SUFDaEJDLGlCQUFpQjtJQUNqQkMsVUFBVTtJQUNWQyxvQkFBb0I7SUFDcEJDLDBCQUEwQjtBQUM5QjtBQUU0QixDQUM1Qiw2Q0FBNkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L25hYS9CcmlkZ2VTdGF0dXNDb2RlLm1qcz8wMGQyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IEJyaWRnZVN0YXR1c0NvZGUgPSB7XHJcbiAgICBVc2VySW50ZXJhY3Rpb25SZXF1aXJlZDogXCJVU0VSX0lOVEVSQUNUSU9OX1JFUVVJUkVEXCIsXHJcbiAgICBVc2VyQ2FuY2VsOiBcIlVTRVJfQ0FOQ0VMXCIsXHJcbiAgICBOb05ldHdvcms6IFwiTk9fTkVUV09SS1wiLFxyXG4gICAgVHJhbnNpZW50RXJyb3I6IFwiVFJBTlNJRU5UX0VSUk9SXCIsXHJcbiAgICBQZXJzaXN0ZW50RXJyb3I6IFwiUEVSU0lTVEVOVF9FUlJPUlwiLFxyXG4gICAgRGlzYWJsZWQ6IFwiRElTQUJMRURcIixcclxuICAgIEFjY291bnRVbmF2YWlsYWJsZTogXCJBQ0NPVU5UX1VOQVZBSUxBQkxFXCIsXHJcbiAgICBOZXN0ZWRBcHBBdXRoVW5hdmFpbGFibGU6IFwiTkVTVEVEX0FQUF9BVVRIX1VOQVZBSUxBQkxFXCIsIC8vIE5BQSBpcyB1bmF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBjb250ZXh0LCBjYW4gcmV0cnkgd2l0aCBzdGFuZGFyZCBicm93c2VyIGJhc2VkIGF1dGhcclxufTtcblxuZXhwb3J0IHsgQnJpZGdlU3RhdHVzQ29kZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJpZGdlU3RhdHVzQ29kZS5tanMubWFwXG4iXSwibmFtZXMiOlsiQnJpZGdlU3RhdHVzQ29kZSIsIlVzZXJJbnRlcmFjdGlvblJlcXVpcmVkIiwiVXNlckNhbmNlbCIsIk5vTmV0d29yayIsIlRyYW5zaWVudEVycm9yIiwiUGVyc2lzdGVudEVycm9yIiwiRGlzYWJsZWQiLCJBY2NvdW50VW5hdmFpbGFibGUiLCJOZXN0ZWRBcHBBdXRoVW5hdmFpbGFibGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/naa/BridgeStatusCode.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/naa/mapping/NestedAppAuthAdapter.mjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/naa/mapping/NestedAppAuthAdapter.mjs ***!
  \************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NestedAppAuthAdapter: () => (/* binding */ NestedAppAuthAdapter)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/request/RequestParameterBuilder.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/StringUtils.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AuthToken.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AccountInfo.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ServerError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _BridgeError_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../BridgeError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/naa/BridgeError.mjs\");\n/* harmony import */ var _BridgeStatusCode_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../BridgeStatusCode.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/naa/BridgeStatusCode.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class NestedAppAuthAdapter {\n    constructor(clientId, clientCapabilities, crypto, logger){\n        this.clientId = clientId;\n        this.clientCapabilities = clientCapabilities;\n        this.crypto = crypto;\n        this.logger = logger;\n    }\n    toNaaTokenRequest(request) {\n        let extraParams;\n        if (request.extraQueryParameters === undefined) {\n            extraParams = new Map();\n        } else {\n            extraParams = new Map(Object.entries(request.extraQueryParameters));\n        }\n        const correlationId = request.correlationId || this.crypto.createNewGuid();\n        const requestBuilder = new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.RequestParameterBuilder(correlationId);\n        const claims = requestBuilder.addClientCapabilitiesToClaims(request.claims, this.clientCapabilities);\n        const scopes = request.scopes || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.OIDC_DEFAULT_SCOPES;\n        const tokenRequest = {\n            platformBrokerId: request.account?.homeAccountId,\n            clientId: this.clientId,\n            authority: request.authority,\n            scope: scopes.join(\" \"),\n            correlationId,\n            claims: !_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.StringUtils.isEmptyObj(claims) ? claims : undefined,\n            state: request.state,\n            authenticationScheme: request.authenticationScheme || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.AuthenticationScheme.BEARER,\n            extraParameters: extraParams\n        };\n        return tokenRequest;\n    }\n    fromNaaTokenResponse(request, response, reqTimestamp) {\n        if (!response.token.id_token || !response.token.access_token) {\n            throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.nullOrEmptyToken);\n        }\n        const expiresOn = new Date((reqTimestamp + (response.token.expires_in || 0)) * 1000);\n        const idTokenClaims = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.extractTokenClaims(response.token.id_token, this.crypto.base64Decode);\n        const account = this.fromNaaAccountInfo(response.account, response.token.id_token, idTokenClaims);\n        const scopes = response.token.scope || request.scope;\n        const authenticationResult = {\n            authority: response.token.authority || account.environment,\n            uniqueId: account.localAccountId,\n            tenantId: account.tenantId,\n            scopes: scopes.split(\" \"),\n            account,\n            idToken: response.token.id_token,\n            idTokenClaims,\n            accessToken: response.token.access_token,\n            fromCache: false,\n            expiresOn: expiresOn,\n            tokenType: request.authenticationScheme || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.AuthenticationScheme.BEARER,\n            correlationId: request.correlationId,\n            extExpiresOn: expiresOn,\n            state: request.state\n        };\n        return authenticationResult;\n    }\n    /*\r\n     *  export type AccountInfo = {\r\n     *     homeAccountId: string;\r\n     *     environment: string;\r\n     *     tenantId: string;\r\n     *     username: string;\r\n     *     localAccountId: string;\r\n     *     name?: string;\r\n     *     idToken?: string;\r\n     *     idTokenClaims?: TokenClaims & {\r\n     *         [key: string]:\r\n     *             | string\r\n     *             | number\r\n     *             | string[]\r\n     *             | object\r\n     *             | undefined\r\n     *             | unknown;\r\n     *     };\r\n     *     nativeAccountId?: string;\r\n     *     authorityType?: string;\r\n     * };\r\n     */ fromNaaAccountInfo(fromAccount, idToken, idTokenClaims) {\n        const effectiveIdTokenClaims = idTokenClaims || fromAccount.idTokenClaims;\n        const localAccountId = fromAccount.localAccountId || effectiveIdTokenClaims?.oid || effectiveIdTokenClaims?.sub || \"\";\n        const tenantId = fromAccount.tenantId || effectiveIdTokenClaims?.tid || \"\";\n        const homeAccountId = fromAccount.homeAccountId || `${localAccountId}.${tenantId}`;\n        const username = fromAccount.username || effectiveIdTokenClaims?.preferred_username || \"\";\n        const name = fromAccount.name || effectiveIdTokenClaims?.name;\n        const tenantProfiles = new Map();\n        const tenantProfile = (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.buildTenantProfile)(homeAccountId, localAccountId, tenantId, effectiveIdTokenClaims);\n        tenantProfiles.set(tenantId, tenantProfile);\n        const account = {\n            homeAccountId,\n            environment: fromAccount.environment,\n            tenantId,\n            username,\n            localAccountId,\n            name,\n            idToken: idToken,\n            idTokenClaims: effectiveIdTokenClaims,\n            tenantProfiles\n        };\n        return account;\n    }\n    /**\r\n     *\r\n     * @param error BridgeError\r\n     * @returns AuthError, ClientAuthError, ClientConfigurationError, ServerError, InteractionRequiredError\r\n     */ fromBridgeError(error) {\n        if ((0,_BridgeError_mjs__WEBPACK_IMPORTED_MODULE_7__.isBridgeError)(error)) {\n            switch(error.status){\n                case _BridgeStatusCode_mjs__WEBPACK_IMPORTED_MODULE_8__.BridgeStatusCode.UserCancel:\n                    return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.ClientAuthError(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.userCanceled);\n                case _BridgeStatusCode_mjs__WEBPACK_IMPORTED_MODULE_8__.BridgeStatusCode.NoNetwork:\n                    return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.ClientAuthError(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.noNetworkConnectivity);\n                case _BridgeStatusCode_mjs__WEBPACK_IMPORTED_MODULE_8__.BridgeStatusCode.AccountUnavailable:\n                    return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.ClientAuthError(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.noAccountFound);\n                case _BridgeStatusCode_mjs__WEBPACK_IMPORTED_MODULE_8__.BridgeStatusCode.Disabled:\n                    return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.ClientAuthError(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.nestedAppAuthBridgeDisabled);\n                case _BridgeStatusCode_mjs__WEBPACK_IMPORTED_MODULE_8__.BridgeStatusCode.NestedAppAuthUnavailable:\n                    return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.ClientAuthError(error.code || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.nestedAppAuthBridgeDisabled, error.description);\n                case _BridgeStatusCode_mjs__WEBPACK_IMPORTED_MODULE_8__.BridgeStatusCode.TransientError:\n                case _BridgeStatusCode_mjs__WEBPACK_IMPORTED_MODULE_8__.BridgeStatusCode.PersistentError:\n                    return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_9__.ServerError(error.code, error.description);\n                case _BridgeStatusCode_mjs__WEBPACK_IMPORTED_MODULE_8__.BridgeStatusCode.UserInteractionRequired:\n                    return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_10__.InteractionRequiredAuthError(error.code, error.description);\n                default:\n                    return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.AuthError(error.code, error.description);\n            }\n        } else {\n            return new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_11__.AuthError(\"unknown_error\", \"An unknown error occurred\");\n        }\n    }\n    /**\r\n     * Returns an AuthenticationResult from the given cache items\r\n     *\r\n     * @param account\r\n     * @param idToken\r\n     * @param accessToken\r\n     * @param reqTimestamp\r\n     * @returns\r\n     */ toAuthenticationResultFromCache(account, idToken, accessToken, request, correlationId) {\n        if (!idToken || !accessToken) {\n            throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.nullOrEmptyToken);\n        }\n        const idTokenClaims = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_5__.extractTokenClaims(idToken.secret, this.crypto.base64Decode);\n        const scopes = accessToken.target || request.scopes.join(\" \");\n        const authenticationResult = {\n            authority: accessToken.environment || account.environment,\n            uniqueId: account.localAccountId,\n            tenantId: account.tenantId,\n            scopes: scopes.split(\" \"),\n            account,\n            idToken: idToken.secret,\n            idTokenClaims: idTokenClaims || {},\n            accessToken: accessToken.secret,\n            fromCache: true,\n            expiresOn: new Date(Number(accessToken.expiresOn) * 1000),\n            tokenType: request.authenticationScheme || _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.AuthenticationScheme.BEARER,\n            correlationId,\n            extExpiresOn: new Date(Number(accessToken.extendedExpiresOn) * 1000),\n            state: request.state\n        };\n        return authenticationResult;\n    }\n}\n //# sourceMappingURL=NestedAppAuthAdapter.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L25hYS9tYXBwaW5nL05lc3RlZEFwcEF1dGhBZGFwdGVyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ2dSO0FBQzdOO0FBQ1E7QUFFM0Q7OztDQUdDLEdBQ0QsTUFBTWM7SUFDRkMsWUFBWUMsUUFBUSxFQUFFQyxrQkFBa0IsRUFBRUMsTUFBTSxFQUFFQyxNQUFNLENBQUU7UUFDdEQsSUFBSSxDQUFDSCxRQUFRLEdBQUdBO1FBQ2hCLElBQUksQ0FBQ0Msa0JBQWtCLEdBQUdBO1FBQzFCLElBQUksQ0FBQ0MsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0MsTUFBTSxHQUFHQTtJQUNsQjtJQUNBQyxrQkFBa0JDLE9BQU8sRUFBRTtRQUN2QixJQUFJQztRQUNKLElBQUlELFFBQVFFLG9CQUFvQixLQUFLQyxXQUFXO1lBQzVDRixjQUFjLElBQUlHO1FBQ3RCLE9BQ0s7WUFDREgsY0FBYyxJQUFJRyxJQUFJQyxPQUFPQyxPQUFPLENBQUNOLFFBQVFFLG9CQUFvQjtRQUNyRTtRQUNBLE1BQU1LLGdCQUFnQlAsUUFBUU8sYUFBYSxJQUFJLElBQUksQ0FBQ1YsTUFBTSxDQUFDVyxhQUFhO1FBQ3hFLE1BQU1DLGlCQUFpQixJQUFJOUIsK0VBQXVCQSxDQUFDNEI7UUFDbkQsTUFBTUcsU0FBU0QsZUFBZUUsNkJBQTZCLENBQUNYLFFBQVFVLE1BQU0sRUFBRSxJQUFJLENBQUNkLGtCQUFrQjtRQUNuRyxNQUFNZ0IsU0FBU1osUUFBUVksTUFBTSxJQUFJdEIsMkVBQW1CQTtRQUNwRCxNQUFNdUIsZUFBZTtZQUNqQkMsa0JBQWtCZCxRQUFRZSxPQUFPLEVBQUVDO1lBQ25DckIsVUFBVSxJQUFJLENBQUNBLFFBQVE7WUFDdkJzQixXQUFXakIsUUFBUWlCLFNBQVM7WUFDNUJDLE9BQU9OLE9BQU9PLElBQUksQ0FBQztZQUNuQlo7WUFDQUcsUUFBUSxD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QXFCQSxDQUFDQyx3RUFBcUM7UUFDckU7UUFDQSxNQUFNb0QsZ0JBQWdCbkQsMEVBQTRCLENBQUM2RCxRQUFRa0MsTUFBTSxFQUFFLElBQUksQ0FBQ2xGLE1BQU0sQ0FBQ3dDLFlBQVk7UUFDM0YsTUFBTXpCLFNBQVNrQyxZQUFZa0MsTUFBTSxJQUFJaEYsUUFBUVksTUFBTSxDQUFDTyxJQUFJLENBQUM7UUFDekQsTUFBTW9CLHVCQUF1QjtZQUN6QnRCLFdBQVc2QixZQUFZTixXQUFXLElBQUl6QixRQUFReUIsV0FBVztZQUN6REMsVUFBVTFCLFFBQVEyQixjQUFjO1lBQ2hDQyxVQUFVNUIsUUFBUTRCLFFBQVE7WUFDMUIvQixRQUFRQSxPQUFPZ0MsS0FBSyxDQUFDO1lBQ3JCN0I7WUFDQThCLFNBQVNBLFFBQVFrQyxNQUFNO1lBQ3ZCNUMsZUFBZUEsaUJBQWlCLENBQUM7WUFDakNXLGFBQWFBLFlBQVlpQyxNQUFNO1lBQy9CaEMsV0FBVztZQUNYZixXQUFXLElBQUlDLEtBQUtnRCxPQUFPbkMsWUFBWWQsU0FBUyxJQUFJO1lBQ3BEZ0IsV0FBV2hELFFBQVFzQixvQkFBb0IsSUFBSXpDLDRFQUFvQkEsQ0FBQzBDLE1BQU07WUFDdEVoQjtZQUNBMEMsY0FBYyxJQUFJaEIsS0FBS2dELE9BQU9uQyxZQUFZb0MsaUJBQWlCLElBQUk7WUFDL0Q3RCxPQUFPckIsUUFBUXFCLEtBQUs7UUFDeEI7UUFDQSxPQUFPa0I7SUFDWDtBQUNKO0FBRWdDLENBQ2hDLGlEQUFpRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3QvbmFhL21hcHBpbmcvTmVzdGVkQXBwQXV0aEFkYXB0ZXIubWpzPzM5NjgiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlciwgU3RyaW5nVXRpbHMsIEF1dGhlbnRpY2F0aW9uU2NoZW1lLCBjcmVhdGVDbGllbnRBdXRoRXJyb3IsIENsaWVudEF1dGhFcnJvckNvZGVzLCBBdXRoVG9rZW4sIGJ1aWxkVGVuYW50UHJvZmlsZSwgQXV0aEVycm9yLCBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yLCBTZXJ2ZXJFcnJvciwgQ2xpZW50QXV0aEVycm9yLCBPSURDX0RFRkFVTFRfU0NPUEVTIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uL2Jyb3dzZXInO1xuaW1wb3J0IHsgaXNCcmlkZ2VFcnJvciB9IGZyb20gJy4uL0JyaWRnZUVycm9yLm1qcyc7XG5pbXBvcnQgeyBCcmlkZ2VTdGF0dXNDb2RlIH0gZnJvbSAnLi4vQnJpZGdlU3RhdHVzQ29kZS5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY2xhc3MgTmVzdGVkQXBwQXV0aEFkYXB0ZXIge1xyXG4gICAgY29uc3RydWN0b3IoY2xpZW50SWQsIGNsaWVudENhcGFiaWxpdGllcywgY3J5cHRvLCBsb2dnZXIpIHtcclxuICAgICAgICB0aGlzLmNsaWVudElkID0gY2xpZW50SWQ7XHJcbiAgICAgICAgdGhpcy5jbGllbnRDYXBhYmlsaXRpZXMgPSBjbGllbnRDYXBhYmlsaXRpZXM7XHJcbiAgICAgICAgdGhpcy5jcnlwdG8gPSBjcnlwdG87XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICB9XHJcbiAgICB0b05hYVRva2VuUmVxdWVzdChyZXF1ZXN0KSB7XHJcbiAgICAgICAgbGV0IGV4dHJhUGFyYW1zO1xyXG4gICAgICAgIGlmIChyZXF1ZXN0LmV4dHJhUXVlcnlQYXJhbWV0ZXJzID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgZXh0cmFQYXJhbXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBleHRyYVBhcmFtcyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMocmVxdWVzdC5leHRyYVF1ZXJ5UGFyYW1ldGVycykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjb3JyZWxhdGlvbklkID0gcmVxdWVzdC5jb3JyZWxhdGlvbklkIHx8IHRoaXMuY3J5cHRvLmNyZWF0ZU5ld0d1aWQoKTtcclxuICAgICAgICBjb25zdCByZXF1ZXN0QnVpbGRlciA9IG5ldyBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlcihjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCBjbGFpbXMgPSByZXF1ZXN0QnVpbGRlci5hZGRDbGllbnRDYXBhYmlsaXRpZXNUb0NsYWltcyhyZXF1ZXN0LmNsYWltcywgdGhpcy5jbGllbnRDYXBhYmlsaXRpZXMpO1xyXG4gICAgICAgIGNvbnN0IHNjb3BlcyA9IHJlcXVlc3Quc2NvcGVzIHx8IE9JRENfREVGQVVMVF9TQ09QRVM7XHJcbiAgICAgICAgY29uc3QgdG9rZW5SZXF1ZXN0ID0ge1xyXG4gICAgICAgICAgICBwbGF0Zm9ybUJyb2tlcklkOiByZXF1ZXN0LmFjY291bnQ/LmhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudElkLFxyXG4gICAgICAgICAgICBhdXRob3JpdHk6IHJlcXVlc3QuYXV0aG9yaXR5LFxyXG4gICAgICAgICAgICBzY29wZTogc2NvcGVzLmpvaW4oXCIgXCIpLFxyXG4gICAgICAgICAgICBjb3JyZWxhdGlvbklkLFxyXG4gICAgICAgICAgICBjbGFpbXM6ICFTdHJpbmdVdGlscy5pc0VtcHR5T2JqKGNsYWltcykgPyBjbGFpbXMgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgIHN0YXRlOiByZXF1ZXN0LnN0YXRlLFxyXG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvblNjaGVtZTogcmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSB8fCBBdXRoZW50aWNhdGlvblNjaGVtZS5CRUFSRVIsXHJcbiAgICAgICAgICAgIGV4dHJhUGFyYW1ldGVyczogZXh0cmFQYXJhbXMsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdG9rZW5SZXF1ZXN0O1xyXG4gICAgfVxyXG4gICAgZnJvbU5hYVRva2VuUmVzcG9uc2UocmVxdWVzdCwgcmVzcG9uc2UsIHJlcVRpbWVzdGFtcCkge1xyXG4gICAgICAgIGlmICghcmVzcG9uc2UudG9rZW4uaWRfdG9rZW4gfHwgIXJlc3BvbnNlLnRva2VuLmFjY2Vzc190b2tlbikge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IoQ2xpZW50QXV0aEVycm9yQ29kZXMubnVsbE9yRW1wdHlUb2tlbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGV4cGlyZXNPbiA9IG5ldyBEYXRlKChyZXFUaW1lc3RhbXAgKyAocmVzcG9uc2UudG9rZW4uZXhwaXJlc19pbiB8fCAwKSkgKiAxMDAwKTtcclxuICAgICAgICBjb25zdCBpZFRva2VuQ2xhaW1zID0gQXV0aFRva2VuLmV4dHJhY3RUb2tlbkNsYWltcyhyZXNwb25zZS50b2tlbi5pZF90b2tlbiwgdGhpcy5jcnlwdG8uYmFzZTY0RGVjb2RlKTtcclxuICAgICAgICBjb25zdCBhY2NvdW50ID0gdGhpcy5mcm9tTmFhQWNjb3VudEluZm8ocmVzcG9uc2UuYWNjb3VudCwgcmVzcG9uc2UudG9rZW4uaWRfdG9rZW4sIGlkVG9rZW5DbGFpbXMpO1xyXG4gICAgICAgIGNvbnN0IHNjb3BlcyA9IHJlc3BvbnNlLnRva2VuLnNjb3BlIHx8IHJlcXVlc3Quc2NvcGU7XHJcbiAgICAgICAgY29uc3QgYXV0aGVudGljYXRpb25SZXN1bHQgPSB7XHJcbiAgICAgICAgICAgIGF1dGhvcml0eTogcmVzcG9uc2UudG9rZW4uYXV0aG9yaXR5IHx8IGFjY291bnQuZW52aXJvbm1lbnQsXHJcbiAgICAgICAgICAgIHVuaXF1ZUlkOiBhY2NvdW50LmxvY2FsQWNjb3VudElkLFxyXG4gICAgICAgICAgICB0ZW5hbnRJZDogYWNjb3VudC50ZW5hbnRJZCxcclxuICAgICAgICAgICAgc2NvcGVzOiBzY29wZXMuc3BsaXQoXCIgXCIpLFxyXG4gICAgICAgICAgICBhY2NvdW50LFxyXG4gICAgICAgICAgICBpZFRva2VuOiByZXNwb25zZS50b2tlbi5pZF90b2tlbixcclxuICAgICAgICAgICAgaWRUb2tlbkNsYWltcyxcclxuICAgICAgICAgICAgYWNjZXNzVG9rZW46IHJlc3BvbnNlLnRva2VuLmFjY2Vzc190b2tlbixcclxuICAgICAgICAgICAgZnJvbUNhY2hlOiBmYWxzZSxcclxuICAgICAgICAgICAgZXhwaXJlc09uOiBleHBpcmVzT24sXHJcbiAgICAgICAgICAgIHRva2VuVHlwZTogcmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSB8fCBBdXRoZW50aWNhdGlvblNjaGVtZS5CRUFSRVIsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IHJlcXVlc3QuY29ycmVsYXRpb25JZCxcclxuICAgICAgICAgICAgZXh0RXhwaXJlc09uOiBleHBpcmVzT24sXHJcbiAgICAgICAgICAgIHN0YXRlOiByZXF1ZXN0LnN0YXRlLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGF1dGhlbnRpY2F0aW9uUmVzdWx0O1xyXG4gICAgfVxyXG4gICAgLypcclxuICAgICAqICBleHBvcnQgdHlwZSBBY2NvdW50SW5mbyA9IHtcclxuICAgICAqICAgICBob21lQWNjb3VudElkOiBzdHJpbmc7XHJcbiAgICAgKiAgICAgZW52aXJvbm1lbnQ6IHN0cmluZztcclxuICAgICAqICAgICB0ZW5hbnRJZDogc3RyaW5nO1xyXG4gICAgICogICAgIHVzZXJuYW1lOiBzdHJpbmc7XHJcbiAgICAgKiAgICAgbG9jYWxBY2NvdW50SWQ6IHN0cmluZztcclxuICAgICAqICAgICBuYW1lPzogc3RyaW5nO1xyXG4gICAgICogICAgIGlkVG9rZW4/OiBzdHJpbmc7XHJcbiAgICAgKiAgICAgaWRUb2tlbkNsYWltcz86IFRva2VuQ2xhaW1zICYge1xyXG4gICAgICogICAgICAgICBba2V5OiBzdHJpbmddOlxyXG4gICAgICogICAgICAgICAgICAgfCBzdHJpbmdcclxuICAgICAqICAgICAgICAgICAgIHwgbnVtYmVyXHJcbiAgICAgKiAgICAgICAgICAgICB8IHN0cmluZ1tdXHJcbiAgICAgKiAgICAgICAgICAgICB8IG9iamVjdFxyXG4gICAgICogICAgICAgICAgICAgfCB1bmRlZmluZWRcclxuICAgICAqICAgICAgICAgICAgIHwgdW5rbm93bjtcclxuICAgICAqICAgICB9O1xyXG4gICAgICogICAgIG5hdGl2ZUFjY291bnRJZD86IHN0cmluZztcclxuICAgICAqICAgICBhdXRob3JpdHlUeXBlPzogc3RyaW5nO1xyXG4gICAgICogfTtcclxuICAgICAqL1xyXG4gICAgZnJvbU5hYUFjY291bnRJbmZvKGZyb21BY2NvdW50LCBpZFRva2VuLCBpZFRva2VuQ2xhaW1zKSB7XHJcbiAgICAgICAgY29uc3QgZWZmZWN0aXZlSWRUb2tlbkNsYWltcyA9IGlkVG9rZW5DbGFpbXMgfHwgZnJvbUFjY291bnQuaWRUb2tlbkNsYWltcztcclxuICAgICAgICBjb25zdCBsb2NhbEFjY291bnRJZCA9IGZyb21BY2NvdW50LmxvY2FsQWNjb3VudElkIHx8XHJcbiAgICAgICAgICAgIGVmZmVjdGl2ZUlkVG9rZW5DbGFpbXM/Lm9pZCB8fFxyXG4gICAgICAgICAgICBlZmZlY3RpdmVJZFRva2VuQ2xhaW1zPy5zdWIgfHxcclxuICAgICAgICAgICAgXCJcIjtcclxuICAgICAgICBjb25zdCB0ZW5hbnRJZCA9IGZyb21BY2NvdW50LnRlbmFudElkIHx8IGVmZmVjdGl2ZUlkVG9rZW5DbGFpbXM/LnRpZCB8fCBcIlwiO1xyXG4gICAgICAgIGNvbnN0IGhvbWVBY2NvdW50SWQgPSBmcm9tQWNjb3VudC5ob21lQWNjb3VudElkIHx8IGAke2xvY2FsQWNjb3VudElkfS4ke3RlbmFudElkfWA7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBmcm9tQWNjb3VudC51c2VybmFtZSB8fFxyXG4gICAgICAgICAgICBlZmZlY3RpdmVJZFRva2VuQ2xhaW1zPy5wcmVmZXJyZWRfdXNlcm5hbWUgfHxcclxuICAgICAgICAgICAgXCJcIjtcclxuICAgICAgICBjb25zdCBuYW1lID0gZnJvbUFjY291bnQubmFtZSB8fCBlZmZlY3RpdmVJZFRva2VuQ2xhaW1zPy5uYW1lO1xyXG4gICAgICAgIGNvbnN0IHRlbmFudFByb2ZpbGVzID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIGNvbnN0IHRlbmFudFByb2ZpbGUgPSBidWlsZFRlbmFudFByb2ZpbGUoaG9tZUFjY291bnRJZCwgbG9jYWxBY2NvdW50SWQsIHRlbmFudElkLCBlZmZlY3RpdmVJZFRva2VuQ2xhaW1zKTtcclxuICAgICAgICB0ZW5hbnRQcm9maWxlcy5zZXQodGVuYW50SWQsIHRlbmFudFByb2ZpbGUpO1xyXG4gICAgICAgIGNvbnN0IGFjY291bnQgPSB7XHJcbiAgICAgICAgICAgIGhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgICAgIGVudmlyb25tZW50OiBmcm9tQWNjb3VudC5lbnZpcm9ubWVudCxcclxuICAgICAgICAgICAgdGVuYW50SWQsXHJcbiAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICBsb2NhbEFjY291bnRJZCxcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgaWRUb2tlbjogaWRUb2tlbixcclxuICAgICAgICAgICAgaWRUb2tlbkNsYWltczogZWZmZWN0aXZlSWRUb2tlbkNsYWltcyxcclxuICAgICAgICAgICAgdGVuYW50UHJvZmlsZXMsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gYWNjb3VudDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBlcnJvciBCcmlkZ2VFcnJvclxyXG4gICAgICogQHJldHVybnMgQXV0aEVycm9yLCBDbGllbnRBdXRoRXJyb3IsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvciwgU2VydmVyRXJyb3IsIEludGVyYWN0aW9uUmVxdWlyZWRFcnJvclxyXG4gICAgICovXHJcbiAgICBmcm9tQnJpZGdlRXJyb3IoZXJyb3IpIHtcclxuICAgICAgICBpZiAoaXNCcmlkZ2VFcnJvcihlcnJvcikpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChlcnJvci5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgQnJpZGdlU3RhdHVzQ29kZS5Vc2VyQ2FuY2VsOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvckNvZGVzLnVzZXJDYW5jZWxlZCk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEJyaWRnZVN0YXR1c0NvZGUuTm9OZXR3b3JrOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvckNvZGVzLm5vTmV0d29ya0Nvbm5lY3Rpdml0eSk7XHJcbiAgICAgICAgICAgICAgICBjYXNlIEJyaWRnZVN0YXR1c0NvZGUuQWNjb3VudFVuYXZhaWxhYmxlOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvckNvZGVzLm5vQWNjb3VudEZvdW5kKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgQnJpZGdlU3RhdHVzQ29kZS5EaXNhYmxlZDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JDb2Rlcy5uZXN0ZWRBcHBBdXRoQnJpZGdlRGlzYWJsZWQpO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBCcmlkZ2VTdGF0dXNDb2RlLk5lc3RlZEFwcEF1dGhVbmF2YWlsYWJsZTpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IENsaWVudEF1dGhFcnJvcihlcnJvci5jb2RlIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIENsaWVudEF1dGhFcnJvckNvZGVzLm5lc3RlZEFwcEF1dGhCcmlkZ2VEaXNhYmxlZCwgZXJyb3IuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBCcmlkZ2VTdGF0dXNDb2RlLlRyYW5zaWVudEVycm9yOlxyXG4gICAgICAgICAgICAgICAgY2FzZSBCcmlkZ2VTdGF0dXNDb2RlLlBlcnNpc3RlbnRFcnJvcjpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFNlcnZlckVycm9yKGVycm9yLmNvZGUsIGVycm9yLmRlc2NyaXB0aW9uKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgQnJpZGdlU3RhdHVzQ29kZS5Vc2VySW50ZXJhY3Rpb25SZXF1aXJlZDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IoZXJyb3IuY29kZSwgZXJyb3IuZGVzY3JpcHRpb24pO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEF1dGhFcnJvcihlcnJvci5jb2RlLCBlcnJvci5kZXNjcmlwdGlvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXV0aEVycm9yKFwidW5rbm93bl9lcnJvclwiLCBcIkFuIHVua25vd24gZXJyb3Igb2NjdXJyZWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFuIEF1dGhlbnRpY2F0aW9uUmVzdWx0IGZyb20gdGhlIGdpdmVuIGNhY2hlIGl0ZW1zXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGFjY291bnRcclxuICAgICAqIEBwYXJhbSBpZFRva2VuXHJcbiAgICAgKiBAcGFyYW0gYWNjZXNzVG9rZW5cclxuICAgICAqIEBwYXJhbSByZXFUaW1lc3RhbXBcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIHRvQXV0aGVudGljYXRpb25SZXN1bHRGcm9tQ2FjaGUoYWNjb3VudCwgaWRUb2tlbiwgYWNjZXNzVG9rZW4sIHJlcXVlc3QsIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICBpZiAoIWlkVG9rZW4gfHwgIWFjY2Vzc1Rva2VuKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihDbGllbnRBdXRoRXJyb3JDb2Rlcy5udWxsT3JFbXB0eVRva2VuKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaWRUb2tlbkNsYWltcyA9IEF1dGhUb2tlbi5leHRyYWN0VG9rZW5DbGFpbXMoaWRUb2tlbi5zZWNyZXQsIHRoaXMuY3J5cHRvLmJhc2U2NERlY29kZSk7XHJcbiAgICAgICAgY29uc3Qgc2NvcGVzID0gYWNjZXNzVG9rZW4udGFyZ2V0IHx8IHJlcXVlc3Quc2NvcGVzLmpvaW4oXCIgXCIpO1xyXG4gICAgICAgIGNvbnN0IGF1dGhlbnRpY2F0aW9uUmVzdWx0ID0ge1xyXG4gICAgICAgICAgICBhdXRob3JpdHk6IGFjY2Vzc1Rva2VuLmVudmlyb25tZW50IHx8IGFjY291bnQuZW52aXJvbm1lbnQsXHJcbiAgICAgICAgICAgIHVuaXF1ZUlkOiBhY2NvdW50LmxvY2FsQWNjb3VudElkLFxyXG4gICAgICAgICAgICB0ZW5hbnRJZDogYWNjb3VudC50ZW5hbnRJZCxcclxuICAgICAgICAgICAgc2NvcGVzOiBzY29wZXMuc3BsaXQoXCIgXCIpLFxyXG4gICAgICAgICAgICBhY2NvdW50LFxyXG4gICAgICAgICAgICBpZFRva2VuOiBpZFRva2VuLnNlY3JldCxcclxuICAgICAgICAgICAgaWRUb2tlbkNsYWltczogaWRUb2tlbkNsYWltcyB8fCB7fSxcclxuICAgICAgICAgICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuLnNlY3JldCxcclxuICAgICAgICAgICAgZnJvbUNhY2hlOiB0cnVlLFxyXG4gICAgICAgICAgICBleHBpcmVzT246IG5ldyBEYXRlKE51bWJlcihhY2Nlc3NUb2tlbi5leHBpcmVzT24pICogMTAwMCksXHJcbiAgICAgICAgICAgIHRva2VuVHlwZTogcmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSB8fCBBdXRoZW50aWNhdGlvblNjaGVtZS5CRUFSRVIsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQsXHJcbiAgICAgICAgICAgIGV4dEV4cGlyZXNPbjogbmV3IERhdGUoTnVtYmVyKGFjY2Vzc1Rva2VuLmV4dGVuZGVkRXhwaXJlc09uKSAqIDEwMDApLFxyXG4gICAgICAgICAgICBzdGF0ZTogcmVxdWVzdC5zdGF0ZSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBhdXRoZW50aWNhdGlvblJlc3VsdDtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBOZXN0ZWRBcHBBdXRoQWRhcHRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9TmVzdGVkQXBwQXV0aEFkYXB0ZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbIlJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyIiwiU3RyaW5nVXRpbHMiLCJBdXRoZW50aWNhdGlvblNjaGVtZSIsImNyZWF0ZUNsaWVudEF1dGhFcnJvciIsIkNsaWVudEF1dGhFcnJvckNvZGVzIiwiQXV0aFRva2VuIiwiYnVpbGRUZW5hbnRQcm9maWxlIiwiQXV0aEVycm9yIiwiSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvciIsIlNlcnZlckVycm9yIiwiQ2xpZW50QXV0aEVycm9yIiwiT0lEQ19ERUZBVUxUX1NDT1BFUyIsImlzQnJpZGdlRXJyb3IiLCJCcmlkZ2VTdGF0dXNDb2RlIiwiTmVzdGVkQXBwQXV0aEFkYXB0ZXIiLCJjb25zdHJ1Y3RvciIsImNsaWVudElkIiwiY2xpZW50Q2FwYWJpbGl0aWVzIiwiY3J5cHRvIiwibG9nZ2VyIiwidG9OYWFUb2tlblJlcXVlc3QiLCJyZXF1ZXN0IiwiZXh0cmFQYXJhbXMiLCJleHRyYVF1ZXJ5UGFyYW1ldGVycyIsInVuZGVmaW5lZCIsIk1hcCIsIk9iamVjdCIsImVudHJpZXMiLCJjb3JyZWxhdGlvbklkIiwiY3JlYXRlTmV3R3VpZCIsInJlcXVlc3RCdWlsZGVyIiwiY2xhaW1zIiwiYWRkQ2xpZW50Q2FwYWJpbGl0aWVzVG9DbGFpbXMiLCJzY29wZXMiLCJ0b2tlblJlcXVlc3QiLCJwbGF0Zm9ybUJyb2tlcklkIiwiYWNjb3VudCIsImhvbWVBY2NvdW50SWQiLCJhdXRob3JpdHkiLCJzY29wZSIsImpvaW4iLCJpc0VtcHR5T2JqIiwic3RhdGUiLCJhdXRoZW50aWNhdGlvblNjaGVtZSIsIkJFQVJFUiIsImV4dHJhUGFyYW1ldGVycyIsImZyb21OYWFUb2tlblJlc3BvbnNlIiwicmVzcG9uc2UiLCJyZXFUaW1lc3RhbXAiLCJ0b2tlbiIsImlkX3Rva2VuIiwiYWNjZXNzX3Rva2VuIiwibnVsbE9yRW1wdHlUb2tlbiIsImV4cGlyZXNPbiIsIkRhdGUiLCJleHBpcmVzX2luIiwiaWRUb2tlbkNsYWltcyIsImV4dHJhY3RUb2tlbkNsYWltcyIsImJhc2U2NERlY29kZSIsImZyb21OYWFBY2NvdW50SW5mbyIsImF1dGhlbnRpY2F0aW9uUmVzdWx0IiwiZW52aXJvbm1lbnQiLCJ1bmlxdWVJZCIsImxvY2FsQWNjb3VudElkIiwidGVuYW50SWQiLCJzcGxpdCIsImlkVG9rZW4iLCJhY2Nlc3NUb2tlbiIsImZyb21DYWNoZSIsInRva2VuVHlwZSIsImV4dEV4cGlyZXNPbiIsImZyb21BY2NvdW50IiwiZWZmZWN0aXZlSWRUb2tlbkNsYWltcyIsIm9pZCIsInN1YiIsInRpZCIsInVzZXJuYW1lIiwicHJlZmVycmVkX3VzZXJuYW1lIiwibmFtZSIsInRlbmFudFByb2ZpbGVzIiwidGVuYW50UHJvZmlsZSIsInNldCIsImZyb21CcmlkZ2VFcnJvciIsImVycm9yIiwic3RhdHVzIiwiVXNlckNhbmNlbCIsInVzZXJDYW5jZWxlZCIsIk5vTmV0d29yayIsIm5vTmV0d29ya0Nvbm5lY3Rpdml0eSIsIkFjY291bnRVbmF2YWlsYWJsZSIsIm5vQWNjb3VudEZvdW5kIiwiRGlzYWJsZWQiLCJuZXN0ZWRBcHBBdXRoQnJpZGdlRGlzYWJsZWQiLCJOZXN0ZWRBcHBBdXRoVW5hdmFpbGFibGUiLCJjb2RlIiwiZGVzY3JpcHRpb24iLCJUcmFuc2llbnRFcnJvciIsIlBlcnNpc3RlbnRFcnJvciIsIlVzZXJJbnRlcmFjdGlvblJlcXVpcmVkIiwidG9BdXRoZW50aWNhdGlvblJlc3VsdEZyb21DYWNoZSIsInNlY3JldCIsInRhcmdldCIsIk51bWJlciIsImV4dGVuZGVkRXhwaXJlc09uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/naa/mapping/NestedAppAuthAdapter.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/navigation/NavigationClient.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/navigation/NavigationClient.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NavigationClient: () => (/* binding */ NavigationClient)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class NavigationClient {\n    /**\r\n     * Navigates to other pages within the same web application\r\n     * @param url\r\n     * @param options\r\n     */ navigateInternal(url, options) {\n        return NavigationClient.defaultNavigateWindow(url, options);\n    }\n    /**\r\n     * Navigates to other pages outside the web application i.e. the Identity Provider\r\n     * @param url\r\n     * @param options\r\n     */ navigateExternal(url, options) {\n        return NavigationClient.defaultNavigateWindow(url, options);\n    }\n    /**\r\n     * Default navigation implementation invoked by the internal and external functions\r\n     * @param url\r\n     * @param options\r\n     */ static defaultNavigateWindow(url, options) {\n        if (options.noHistory) {\n            window.location.replace(url);\n        } else {\n            window.location.assign(url);\n        }\n        return new Promise((resolve)=>{\n            setTimeout(()=>{\n                resolve(true);\n            }, options.timeout);\n        });\n    }\n}\n //# sourceMappingURL=NavigationClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L25hdmlnYXRpb24vTmF2aWdhdGlvbkNsaWVudC5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBOzs7Q0FHQyxHQUNELE1BQU1BO0lBQ0Y7Ozs7S0FJQyxHQUNEQyxpQkFBaUJDLEdBQUcsRUFBRUMsT0FBTyxFQUFFO1FBQzNCLE9BQU9ILGlCQUFpQkkscUJBQXFCLENBQUNGLEtBQUtDO0lBQ3ZEO0lBQ0E7Ozs7S0FJQyxHQUNERSxpQkFBaUJILEdBQUcsRUFBRUMsT0FBTyxFQUFFO1FBQzNCLE9BQU9ILGlCQUFpQkkscUJBQXFCLENBQUNGLEtBQUtDO0lBQ3ZEO0lBQ0E7Ozs7S0FJQyxHQUNELE9BQU9DLHNCQUFzQkYsR0FBRyxFQUFFQyxPQUFPLEVBQUU7UUFDdkMsSUFBSUEsUUFBUUcsU0FBUyxFQUFFO1lBQ25CQyxPQUFPQyxRQUFRLENBQUNDLE9BQU8sQ0FBQ1A7UUFDNUIsT0FDSztZQUNESyxPQUFPQyxRQUFRLENBQUNFLE1BQU0sQ0FBQ1I7UUFDM0I7UUFDQSxPQUFPLElBQUlTLFFBQVEsQ0FBQ0M7WUFDaEJDLFdBQVc7Z0JBQ1BELFFBQVE7WUFDWixHQUFHVCxRQUFRVyxPQUFPO1FBQ3RCO0lBQ0o7QUFDSjtBQUU0QixDQUM1Qiw2Q0FBNkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L25hdmlnYXRpb24vTmF2aWdhdGlvbkNsaWVudC5tanM/NWQ0OSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBOYXZpZ2F0aW9uQ2xpZW50IHtcclxuICAgIC8qKlxyXG4gICAgICogTmF2aWdhdGVzIHRvIG90aGVyIHBhZ2VzIHdpdGhpbiB0aGUgc2FtZSB3ZWIgYXBwbGljYXRpb25cclxuICAgICAqIEBwYXJhbSB1cmxcclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIG5hdmlnYXRlSW50ZXJuYWwodXJsLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIE5hdmlnYXRpb25DbGllbnQuZGVmYXVsdE5hdmlnYXRlV2luZG93KHVybCwgb3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE5hdmlnYXRlcyB0byBvdGhlciBwYWdlcyBvdXRzaWRlIHRoZSB3ZWIgYXBwbGljYXRpb24gaS5lLiB0aGUgSWRlbnRpdHkgUHJvdmlkZXJcclxuICAgICAqIEBwYXJhbSB1cmxcclxuICAgICAqIEBwYXJhbSBvcHRpb25zXHJcbiAgICAgKi9cclxuICAgIG5hdmlnYXRlRXh0ZXJuYWwodXJsLCBvcHRpb25zKSB7XHJcbiAgICAgICAgcmV0dXJuIE5hdmlnYXRpb25DbGllbnQuZGVmYXVsdE5hdmlnYXRlV2luZG93KHVybCwgb3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERlZmF1bHQgbmF2aWdhdGlvbiBpbXBsZW1lbnRhdGlvbiBpbnZva2VkIGJ5IHRoZSBpbnRlcm5hbCBhbmQgZXh0ZXJuYWwgZnVuY3Rpb25zXHJcbiAgICAgKiBAcGFyYW0gdXJsXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9uc1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZGVmYXVsdE5hdmlnYXRlV2luZG93KHVybCwgb3B0aW9ucykge1xyXG4gICAgICAgIGlmIChvcHRpb25zLm5vSGlzdG9yeSkge1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh1cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmFzc2lnbih1cmwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgICAgICB9LCBvcHRpb25zLnRpbWVvdXQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IE5hdmlnYXRpb25DbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5hdmlnYXRpb25DbGllbnQubWpzLm1hcFxuIl0sIm5hbWVzIjpbIk5hdmlnYXRpb25DbGllbnQiLCJuYXZpZ2F0ZUludGVybmFsIiwidXJsIiwib3B0aW9ucyIsImRlZmF1bHROYXZpZ2F0ZVdpbmRvdyIsIm5hdmlnYXRlRXh0ZXJuYWwiLCJub0hpc3RvcnkiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlcGxhY2UiLCJhc3NpZ24iLCJQcm9taXNlIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJ0aW1lb3V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/navigation/NavigationClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/network/FetchClient.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/network/FetchClient.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FetchClient: () => (/* binding */ FetchClient)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/NetworkError.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * This class implements the Fetch API for GET and POST requests. See more here: https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\r\n */ class FetchClient {\n    /**\r\n     * Fetch Client for REST endpoints - Get request\r\n     * @param url\r\n     * @param headers\r\n     * @param body\r\n     */ async sendGetRequestAsync(url, options) {\n        let response;\n        let responseHeaders = {};\n        let responseStatus = 0;\n        const reqHeaders = getFetchHeaders(options);\n        try {\n            response = await fetch(url, {\n                method: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__.HTTP_REQUEST_TYPE.GET,\n                headers: reqHeaders\n            });\n        } catch (e) {\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(window.navigator.onLine ? _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.getRequestFailed : _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.noNetworkConnectivity);\n        }\n        responseHeaders = getHeaderDict(response.headers);\n        try {\n            responseStatus = response.status;\n            return {\n                headers: responseHeaders,\n                body: await response.json(),\n                status: responseStatus\n            };\n        } catch (e) {\n            throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.createNetworkError)((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.failedToParseResponse), responseStatus, responseHeaders);\n        }\n    }\n    /**\r\n     * Fetch Client for REST endpoints - Post request\r\n     * @param url\r\n     * @param headers\r\n     * @param body\r\n     */ async sendPostRequestAsync(url, options) {\n        const reqBody = options && options.body || \"\";\n        const reqHeaders = getFetchHeaders(options);\n        let response;\n        let responseStatus = 0;\n        let responseHeaders = {};\n        try {\n            response = await fetch(url, {\n                method: _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_0__.HTTP_REQUEST_TYPE.POST,\n                headers: reqHeaders,\n                body: reqBody\n            });\n        } catch (e) {\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(window.navigator.onLine ? _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.postRequestFailed : _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.noNetworkConnectivity);\n        }\n        responseHeaders = getHeaderDict(response.headers);\n        try {\n            responseStatus = response.status;\n            return {\n                headers: responseHeaders,\n                body: await response.json(),\n                status: responseStatus\n            };\n        } catch (e) {\n            throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.createNetworkError)((0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.failedToParseResponse), responseStatus, responseHeaders);\n        }\n    }\n}\n/**\r\n * Get Fetch API Headers object from string map\r\n * @param inputHeaders\r\n */ function getFetchHeaders(options) {\n    try {\n        const headers = new Headers();\n        if (!(options && options.headers)) {\n            return headers;\n        }\n        const optionsHeaders = options.headers;\n        Object.entries(optionsHeaders).forEach(([key, value])=>{\n            headers.append(key, value);\n        });\n        return headers;\n    } catch (e) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.failedToBuildHeaders);\n    }\n}\n/**\r\n * Returns object representing response headers\r\n * @param headers\r\n * @returns\r\n */ function getHeaderDict(headers) {\n    try {\n        const headerDict = {};\n        headers.forEach((value, key)=>{\n            headerDict[key] = value;\n        });\n        return headerDict;\n    } catch (e) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.failedToParseHeaders);\n    }\n}\n //# sourceMappingURL=FetchClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L25ldHdvcmsvRmV0Y2hDbGllbnQubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ2dFO0FBQ087QUFDTDtBQUNpSDtBQUVuTDs7O0NBR0MsR0FDRDs7Q0FFQyxHQUNELE1BQU1TO0lBQ0Y7Ozs7O0tBS0MsR0FDRCxNQUFNQyxvQkFBb0JDLEdBQUcsRUFBRUMsT0FBTyxFQUFFO1FBQ3BDLElBQUlDO1FBQ0osSUFBSUMsa0JBQWtCLENBQUM7UUFDdkIsSUFBSUMsaUJBQWlCO1FBQ3JCLE1BQU1DLGFBQWFDLGdCQUFnQkw7UUFDbkMsSUFBSTtZQUNBQyxXQUFXLE1BQU1LLE1BQU1QLEtBQUs7Z0JBQ3hCUSxRQUFRakIsMEVBQWlCQSxDQUFDa0IsR0FBRztnQkFDN0JDLFNBQVNMO1lBQ2I7UUFDSixFQUNBLE9BQU9NLEdBQUc7WUFDTixNQUFNckIsbUZBQXNCQSxDQUFDc0IsT0FBT0MsU0FBUyxDQUFDQyxNQUFNLEdBQzlDdEIsOEVBQWdCQSxHQUNoQkMsbUZBQXFCQTtRQUMvQjtRQUNBVSxrQkFBa0JZLGNBQWNiLFNBQVNRLE9BQU87UUFDaEQsSUFBSTtZQUNBTixpQkFBaUJGLFNBQVNjLE1BQU07WUFDaEMsT0FBTztnQkFDSE4sU0FBU1A7Z0JBQ1RjLE1BQU8sTUFBTWYsU0FBU2dCLElBQUk7Z0JBQzFCRixRQUFRWjtZQUNaO1FBQ0osRUFDQSxPQUFPTyxHQUFHO1lBQ04sTUFBTXRCLDhFQUFrQkEsQ0FBQ0MsbUZBQXNCQSxDQUFDSSxtRkFBcUJBLEdBQUdVLGdCQUFnQkQ7UUFDNUY7SUFDSjtJQUNBOzs7OztLQUtDLEdBQ0QsTUFBTWdCLHFCQUFxQm5CLEdBQUcsRUFBRUMsT0FBTyxFQUFFO1FBQ3JDLE1BQU1tQixVQUFVLFdBQVluQixRQUFRZ0IsSUFBSSxJQUFLO1FBQzdDLE1BQU1aLGFBQWFDLGdCQUFnQkw7UUFDbkMsSUFBSUM7UUFDSixJQUFJRSxpQkFBaUI7UUFDckIsSUFBSUQsa0JBQWtCLENBQUM7UUFDdkIsSUFBSTtZQUNBRCxXQUFXLE1BQU1LLE1BQU1QLEtBQUs7Z0JBQ3hCUSxRQUFRakIsMEVBQWlCQSxDQUFDOEIsSUFBSTtnQkFDOUJYLFNBQVNMO2dCQUNUWSxNQUFNRztZQUNWO1FBQ0osRUFDQSxPQUFPVCxHQUFHO1lBQ04sTUFBTXJCLG1GQUFzQkEsQ0FBQ3NCLE9BQU9DLFNBQVMsQ0FBQ0MsTUFBTSxHQUM5Q25CLCtFQUFpQkEsR0FDakJGLG1GQUFxQkE7UUFDL0I7UUFDQVUsa0JBQWtCWSxjQUFjYixTQUFTUSxPQUFPO1FBQ2hELElBQUk7WUFDQU4saUJBQWlCRixTQUFTYyxNQUFNO1lBQ2hDLE9BQU87Z0JBQ0hOLFNBQVNQO2dCQUNUYyxNQUFPLE1BQU1mLFNBQVNnQixJQUFJO2dCQUMxQkYsUUFBUVo7WUFDWjtRQUNKLEVBQ0EsT0FBT08sR0FBRztZQUNOLE1BQU10Qiw4RUFBa0JBLENBQUNDLG1GQUFzQkEsQ0FBQ0ksbUZBQXFCQSxHQUFHVSxnQkFBZ0JEO1FBQzVGO0lBQ0o7QUFDSjtBQUNBOzs7Q0FHQyxHQUNELFNBQVNHLGdCQUFnQkwsT0FBTztJQUM1QixJQUFJO1FBQ0EsTUFBTVMsVUFBVSxJQUFJWTtRQUNwQixJQUFJLENBQUVyQixDQUFBQSxXQUFXQSxRQUFRUyxPQUFPLEdBQUc7WUFDL0IsT0FBT0E7UUFDWDtRQUNBLE1BQU1hLGlCQUFpQnRCLFFBQVFTLE9BQU87UUFDdENjLE9BQU9DLE9BQU8sQ0FBQ0YsZ0JBQWdCRyxPQUFPLENBQUMsQ0FBQyxDQUFDQyxLQUFLQyxNQUFNO1lBQ2hEbEIsUUFBUW1CLE1BQU0sQ0FBQ0YsS0FBS0M7UUFDeEI7UUFDQSxPQUFPbEI7SUFDWCxFQUNBLE9BQU9DLEdBQUc7UUFDTixNQUFNckIsbUZBQXNCQSxDQUFDTSxrRkFBb0JBO0lBQ3JEO0FBQ0o7QUFDQTs7OztDQUlDLEdBQ0QsU0FBU21CLGNBQWNMLE9BQU87SUFDMUIsSUFBSTtRQUNBLE1BQU1vQixhQUFhLENBQUM7UUFDcEJwQixRQUFRZ0IsT0FBTyxDQUFDLENBQUNFLE9BQU9EO1lBQ3BCRyxVQUFVLENBQUNILElBQUksR0FBR0M7UUFDdEI7UUFDQSxPQUFPRTtJQUNYLEVBQ0EsT0FBT25CLEdBQUc7UUFDTixNQUFNckIsbUZBQXNCQSxDQUFDTyxrRkFBb0JBO0lBQ3JEO0FBQ0o7QUFFdUIsQ0FDdkIsd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9uZXR3b3JrL0ZldGNoQ2xpZW50Lm1qcz9jZmYxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgY3JlYXRlTmV0d29ya0Vycm9yIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uL2Jyb3dzZXInO1xuaW1wb3J0IHsgY3JlYXRlQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IEhUVFBfUkVRVUVTVF9UWVBFIH0gZnJvbSAnLi4vdXRpbHMvQnJvd3NlckNvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgZ2V0UmVxdWVzdEZhaWxlZCwgbm9OZXR3b3JrQ29ubmVjdGl2aXR5LCBmYWlsZWRUb1BhcnNlUmVzcG9uc2UsIHBvc3RSZXF1ZXN0RmFpbGVkLCBmYWlsZWRUb0J1aWxkSGVhZGVycywgZmFpbGVkVG9QYXJzZUhlYWRlcnMgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGltcGxlbWVudHMgdGhlIEZldGNoIEFQSSBmb3IgR0VUIGFuZCBQT1NUIHJlcXVlc3RzLiBTZWUgbW9yZSBoZXJlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvRmV0Y2hfQVBJXHJcbiAqL1xyXG5jbGFzcyBGZXRjaENsaWVudCB7XHJcbiAgICAvKipcclxuICAgICAqIEZldGNoIENsaWVudCBmb3IgUkVTVCBlbmRwb2ludHMgLSBHZXQgcmVxdWVzdFxyXG4gICAgICogQHBhcmFtIHVybFxyXG4gICAgICogQHBhcmFtIGhlYWRlcnNcclxuICAgICAqIEBwYXJhbSBib2R5XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHNlbmRHZXRSZXF1ZXN0QXN5bmModXJsLCBvcHRpb25zKSB7XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlO1xyXG4gICAgICAgIGxldCByZXNwb25zZUhlYWRlcnMgPSB7fTtcclxuICAgICAgICBsZXQgcmVzcG9uc2VTdGF0dXMgPSAwO1xyXG4gICAgICAgIGNvbnN0IHJlcUhlYWRlcnMgPSBnZXRGZXRjaEhlYWRlcnMob3B0aW9ucyk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgICAgICAgIG1ldGhvZDogSFRUUF9SRVFVRVNUX1RZUEUuR0VULFxyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogcmVxSGVhZGVycyxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3Iod2luZG93Lm5hdmlnYXRvci5vbkxpbmVcclxuICAgICAgICAgICAgICAgID8gZ2V0UmVxdWVzdEZhaWxlZFxyXG4gICAgICAgICAgICAgICAgOiBub05ldHdvcmtDb25uZWN0aXZpdHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXNwb25zZUhlYWRlcnMgPSBnZXRIZWFkZXJEaWN0KHJlc3BvbnNlLmhlYWRlcnMpO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlU3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgaGVhZGVyczogcmVzcG9uc2VIZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgYm9keTogKGF3YWl0IHJlc3BvbnNlLmpzb24oKSksXHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlU3RhdHVzLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVOZXR3b3JrRXJyb3IoY3JlYXRlQnJvd3NlckF1dGhFcnJvcihmYWlsZWRUb1BhcnNlUmVzcG9uc2UpLCByZXNwb25zZVN0YXR1cywgcmVzcG9uc2VIZWFkZXJzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZldGNoIENsaWVudCBmb3IgUkVTVCBlbmRwb2ludHMgLSBQb3N0IHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSB1cmxcclxuICAgICAqIEBwYXJhbSBoZWFkZXJzXHJcbiAgICAgKiBAcGFyYW0gYm9keVxyXG4gICAgICovXHJcbiAgICBhc3luYyBzZW5kUG9zdFJlcXVlc3RBc3luYyh1cmwsIG9wdGlvbnMpIHtcclxuICAgICAgICBjb25zdCByZXFCb2R5ID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5ib2R5KSB8fCBcIlwiO1xyXG4gICAgICAgIGNvbnN0IHJlcUhlYWRlcnMgPSBnZXRGZXRjaEhlYWRlcnMob3B0aW9ucyk7XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlO1xyXG4gICAgICAgIGxldCByZXNwb25zZVN0YXR1cyA9IDA7XHJcbiAgICAgICAgbGV0IHJlc3BvbnNlSGVhZGVycyA9IHt9O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IEhUVFBfUkVRVUVTVF9UWVBFLlBPU1QsXHJcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXFIZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgYm9keTogcmVxQm9keSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3Iod2luZG93Lm5hdmlnYXRvci5vbkxpbmVcclxuICAgICAgICAgICAgICAgID8gcG9zdFJlcXVlc3RGYWlsZWRcclxuICAgICAgICAgICAgICAgIDogbm9OZXR3b3JrQ29ubmVjdGl2aXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzID0gZ2V0SGVhZGVyRGljdChyZXNwb25zZS5oZWFkZXJzKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXNwb25zZVN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcclxuICAgICAgICAgICAgICAgIGJvZHk6IChhd2FpdCByZXNwb25zZS5qc29uKCkpLFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZVN0YXR1cyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlTmV0d29ya0Vycm9yKGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IoZmFpbGVkVG9QYXJzZVJlc3BvbnNlKSwgcmVzcG9uc2VTdGF0dXMsIHJlc3BvbnNlSGVhZGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBHZXQgRmV0Y2ggQVBJIEhlYWRlcnMgb2JqZWN0IGZyb20gc3RyaW5nIG1hcFxyXG4gKiBAcGFyYW0gaW5wdXRIZWFkZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRGZXRjaEhlYWRlcnMob3B0aW9ucykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcclxuICAgICAgICBpZiAoIShvcHRpb25zICYmIG9wdGlvbnMuaGVhZGVycykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhlYWRlcnM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG9wdGlvbnNIZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKG9wdGlvbnNIZWFkZXJzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgICAgICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGhlYWRlcnM7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IoZmFpbGVkVG9CdWlsZEhlYWRlcnMpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIG9iamVjdCByZXByZXNlbnRpbmcgcmVzcG9uc2UgaGVhZGVyc1xyXG4gKiBAcGFyYW0gaGVhZGVyc1xyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0SGVhZGVyRGljdChoZWFkZXJzKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGhlYWRlckRpY3QgPSB7fTtcclxuICAgICAgICBoZWFkZXJzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgaGVhZGVyRGljdFtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIGhlYWRlckRpY3Q7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IoZmFpbGVkVG9QYXJzZUhlYWRlcnMpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IEZldGNoQ2xpZW50IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GZXRjaENsaWVudC5tanMubWFwXG4iXSwibmFtZXMiOlsiY3JlYXRlTmV0d29ya0Vycm9yIiwiY3JlYXRlQnJvd3NlckF1dGhFcnJvciIsIkhUVFBfUkVRVUVTVF9UWVBFIiwiZ2V0UmVxdWVzdEZhaWxlZCIsIm5vTmV0d29ya0Nvbm5lY3Rpdml0eSIsImZhaWxlZFRvUGFyc2VSZXNwb25zZSIsInBvc3RSZXF1ZXN0RmFpbGVkIiwiZmFpbGVkVG9CdWlsZEhlYWRlcnMiLCJmYWlsZWRUb1BhcnNlSGVhZGVycyIsIkZldGNoQ2xpZW50Iiwic2VuZEdldFJlcXVlc3RBc3luYyIsInVybCIsIm9wdGlvbnMiLCJyZXNwb25zZSIsInJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlU3RhdHVzIiwicmVxSGVhZGVycyIsImdldEZldGNoSGVhZGVycyIsImZldGNoIiwibWV0aG9kIiwiR0VUIiwiaGVhZGVycyIsImUiLCJ3aW5kb3ciLCJuYXZpZ2F0b3IiLCJvbkxpbmUiLCJnZXRIZWFkZXJEaWN0Iiwic3RhdHVzIiwiYm9keSIsImpzb24iLCJzZW5kUG9zdFJlcXVlc3RBc3luYyIsInJlcUJvZHkiLCJQT1NUIiwiSGVhZGVycyIsIm9wdGlvbnNIZWFkZXJzIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSIsImFwcGVuZCIsImhlYWRlckRpY3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/network/FetchClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/operatingcontext/BaseOperatingContext.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/operatingcontext/BaseOperatingContext.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseOperatingContext: () => (/* binding */ BaseOperatingContext)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/logger/Logger.mjs\");\n/* harmony import */ var _config_Configuration_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../config/Configuration.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/config/Configuration.mjs\");\n/* harmony import */ var _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../packageMetadata.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/packageMetadata.mjs\");\n/* harmony import */ var _utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Base class for operating context\r\n * Operating contexts are contexts in which MSAL.js is being run\r\n * More than one operating context may be available at a time\r\n * It's important from a logging and telemetry point of view for us to be able to identify the operating context.\r\n * For example: Some operating contexts will pre-cache tokens impacting performance telemetry\r\n */ class BaseOperatingContext {\n    static loggerCallback(level, message) {\n        switch(level){\n            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error:\n                // eslint-disable-next-line no-console\n                console.error(message);\n                return;\n            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Info:\n                // eslint-disable-next-line no-console\n                console.info(message);\n                return;\n            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Verbose:\n                // eslint-disable-next-line no-console\n                console.debug(message);\n                return;\n            case _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warning:\n                // eslint-disable-next-line no-console\n                console.warn(message);\n                return;\n            default:\n                // eslint-disable-next-line no-console\n                console.log(message);\n                return;\n        }\n    }\n    constructor(config){\n        /*\r\n         * If loaded in an environment where window is not available,\r\n         * set internal flag to false so that further requests fail.\r\n         * This is to support server-side rendering environments.\r\n         */ this.browserEnvironment = \"undefined\" !== \"undefined\";\n        this.config = (0,_config_Configuration_mjs__WEBPACK_IMPORTED_MODULE_1__.buildConfiguration)(config, this.browserEnvironment);\n        let sessionStorage;\n        try {\n            sessionStorage = window[_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.BrowserCacheLocation.SessionStorage];\n        // Mute errors if it's a non-browser environment or cookies are blocked.\n        } catch (e) {}\n        const logLevelKey = sessionStorage?.getItem(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.LOG_LEVEL_CACHE_KEY);\n        const piiLoggingKey = sessionStorage?.getItem(_utils_BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_2__.LOG_PII_CACHE_KEY)?.toLowerCase();\n        const piiLoggingEnabled = piiLoggingKey === \"true\" ? true : piiLoggingKey === \"false\" ? false : undefined;\n        const loggerOptions = {\n            ...this.config.system.loggerOptions\n        };\n        const logLevel = logLevelKey && Object.keys(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.LogLevel).includes(logLevelKey) ? _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.LogLevel[logLevelKey] : undefined;\n        if (logLevel) {\n            loggerOptions.loggerCallback = BaseOperatingContext.loggerCallback;\n            loggerOptions.logLevel = logLevel;\n        }\n        if (piiLoggingEnabled !== undefined) {\n            loggerOptions.piiLoggingEnabled = piiLoggingEnabled;\n        }\n        this.logger = new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.Logger(loggerOptions, _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_3__.name, _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_3__.version);\n        this.available = false;\n    }\n    /**\r\n     * Return the MSAL config\r\n     * @returns BrowserConfiguration\r\n     */ getConfig() {\n        return this.config;\n    }\n    /**\r\n     * Returns the MSAL Logger\r\n     * @returns Logger\r\n     */ getLogger() {\n        return this.logger;\n    }\n    isAvailable() {\n        return this.available;\n    }\n    isBrowserEnvironment() {\n        return this.browserEnvironment;\n    }\n}\n //# sourceMappingURL=BaseOperatingContext.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L29wZXJhdGluZ2NvbnRleHQvQmFzZU9wZXJhdGluZ0NvbnRleHQubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQzhEO0FBQ0c7QUFDVjtBQUNzRDtBQUU3Rzs7O0NBR0MsR0FDRDs7Ozs7O0NBTUMsR0FDRCxNQUFNUTtJQUNGLE9BQU9DLGVBQWVDLEtBQUssRUFBRUMsT0FBTyxFQUFFO1FBQ2xDLE9BQVFEO1lBQ0osS0FBS1YsZ0VBQVFBLENBQUNZLEtBQUs7Z0JBQ2Ysc0NBQXNDO2dCQUN0Q0MsUUFBUUMsS0FBSyxDQUFDSDtnQkFDZDtZQUNKLEtBQUtYLGdFQUFRQSxDQUFDZSxJQUFJO2dCQUNkLHNDQUFzQztnQkFDdENGLFFBQVFHLElBQUksQ0FBQ0w7Z0JBQ2I7WUFDSixLQUFLWCxnRUFBUUEsQ0FBQ2lCLE9BQU87Z0JBQ2pCLHNDQUFzQztnQkFDdENKLFFBQVFLLEtBQUssQ0FBQ1A7Z0JBQ2Q7WUFDSixLQUFLWCxnRUFBUUEsQ0FBQ21CLE9BQU87Z0JBQ2pCLHNDQUFzQztnQkFDdENOLFFBQVFPLElBQUksQ0FBQ1Q7Z0JBQ2I7WUFDSjtnQkFDSSxzQ0FBc0M7Z0JBQ3RDRSxRQUFRUSxHQUFHLENBQUNWO2dCQUNaO1FBQ1I7SUFDSjtJQUNBVyxZQUFZQyxNQUFNLENBQUU7UUFDaEI7Ozs7U0FJQyxHQUNELElBQUksQ0FBQ0Msa0JBQWtCLEdBQUcsZ0JBQWtCO1FBQzVDLElBQUksQ0FBQ0QsTUFBTSxHQUFHckIsNkVBQWtCQSxDQUFDcUIsUUFBUSxJQUFJLENBQUNDLGtCQUFrQjtRQUNoRSxJQUFJQztRQUNKLElBQUk7WUFDQUEsaUJBQWlCQyxNQUFNLENBQUNyQiw2RUFBb0JBLENBQUNzQixjQUFjLENBQUM7UUFDNUQsd0VBQXdFO1FBQzVFLEVBQ0EsT0FBT0MsR0FBRyxDQUFFO1FBQ1osTUFBTUMsY0FBY0osZ0JBQWdCSyxRQUFReEIsNEVBQW1CQTtRQUMvRCxNQUFNeUIsZ0JBQWdCTixnQkFDaEJLLFFBQVF2QiwwRUFBaUJBLEdBQ3pCeUI7UUFDTixNQUFNQyxvQkFBb0JGLGtCQUFrQixTQUN0QyxPQUNBQSxrQkFBa0IsVUFDZCxRQUNBRztRQUNWLE1BQU1DLGdCQUFnQjtZQUFFLEdBQUcsSUFBSSxDQUFDWixNQUFNLENBQUNhLE1BQU0sQ0FBQ0QsYUFBYTtRQUFDO1FBQzVELE1BQU1FLFdBQVdSLGVBQWVTLE9BQU9DLElBQUksQ0FBQ3ZDLGdFQUFRQSxFQUFFd0MsUUFBUSxDQUFDWCxlQUN6RDdCLGdFQUFRLENBQUM2QixZQUFZLEdBQ3JCSztRQUNOLElBQUlHLFVBQVU7WUFDVkYsY0FBYzFCLGNBQWMsR0FBR0QscUJBQXFCQyxjQUFjO1lBQ2xFMEIsY0FBY0UsUUFBUSxHQUFHQTtRQUM3QjtRQUNBLElBQUlKLHNCQUFzQkMsV0FBVztZQUNqQ0MsY0FBY0YsaUJBQWlCLEdBQUdBO1FBQ3RDO1FBQ0EsSUFBSSxDQUFDUSxNQUFNLEdBQUcsSUFBSXhDLDhEQUFNQSxDQUFDa0MsZUFBZWhDLHNEQUFJQSxFQUFFQyx5REFBT0E7UUFDckQsSUFBSSxDQUFDc0MsU0FBUyxHQUFHO0lBQ3JCO0lBQ0E7OztLQUdDLEdBQ0RDLFlBQVk7UUFDUixPQUFPLElBQUksQ0FBQ3BCLE1BQU07SUFDdEI7SUFDQTs7O0tBR0MsR0FDRHFCLFlBQVk7UUFDUixPQUFPLElBQUksQ0FBQ0gsTUFBTTtJQUN0QjtJQUNBSSxjQUFjO1FBQ1YsT0FBTyxJQUFJLENBQUNILFNBQVM7SUFDekI7SUFDQUksdUJBQXVCO1FBQ25CLE9BQU8sSUFBSSxDQUFDdEIsa0JBQWtCO0lBQ2xDO0FBQ0o7QUFFZ0MsQ0FDaEMsaURBQWlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9vcGVyYXRpbmdjb250ZXh0L0Jhc2VPcGVyYXRpbmdDb250ZXh0Lm1qcz9kMWU1Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgTG9nTGV2ZWwsIExvZ2dlciB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbi9icm93c2VyJztcbmltcG9ydCB7IGJ1aWxkQ29uZmlndXJhdGlvbiB9IGZyb20gJy4uL2NvbmZpZy9Db25maWd1cmF0aW9uLm1qcyc7XG5pbXBvcnQgeyBuYW1lLCB2ZXJzaW9uIH0gZnJvbSAnLi4vcGFja2FnZU1ldGFkYXRhLm1qcyc7XG5pbXBvcnQgeyBCcm93c2VyQ2FjaGVMb2NhdGlvbiwgTE9HX0xFVkVMX0NBQ0hFX0tFWSwgTE9HX1BJSV9DQUNIRV9LRVkgfSBmcm9tICcuLi91dGlscy9Ccm93c2VyQ29uc3RhbnRzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQmFzZSBjbGFzcyBmb3Igb3BlcmF0aW5nIGNvbnRleHRcclxuICogT3BlcmF0aW5nIGNvbnRleHRzIGFyZSBjb250ZXh0cyBpbiB3aGljaCBNU0FMLmpzIGlzIGJlaW5nIHJ1blxyXG4gKiBNb3JlIHRoYW4gb25lIG9wZXJhdGluZyBjb250ZXh0IG1heSBiZSBhdmFpbGFibGUgYXQgYSB0aW1lXHJcbiAqIEl0J3MgaW1wb3J0YW50IGZyb20gYSBsb2dnaW5nIGFuZCB0ZWxlbWV0cnkgcG9pbnQgb2YgdmlldyBmb3IgdXMgdG8gYmUgYWJsZSB0byBpZGVudGlmeSB0aGUgb3BlcmF0aW5nIGNvbnRleHQuXHJcbiAqIEZvciBleGFtcGxlOiBTb21lIG9wZXJhdGluZyBjb250ZXh0cyB3aWxsIHByZS1jYWNoZSB0b2tlbnMgaW1wYWN0aW5nIHBlcmZvcm1hbmNlIHRlbGVtZXRyeVxyXG4gKi9cclxuY2xhc3MgQmFzZU9wZXJhdGluZ0NvbnRleHQge1xyXG4gICAgc3RhdGljIGxvZ2dlckNhbGxiYWNrKGxldmVsLCBtZXNzYWdlKSB7XHJcbiAgICAgICAgc3dpdGNoIChsZXZlbCkge1xyXG4gICAgICAgICAgICBjYXNlIExvZ0xldmVsLkVycm9yOlxyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGNhc2UgTG9nTGV2ZWwuSW5mbzpcclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8obWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIGNhc2UgTG9nTGV2ZWwuVmVyYm9zZTpcclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmRlYnVnKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBjYXNlIExvZ0xldmVsLldhcm5pbmc6XHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uc29sZVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZykge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogSWYgbG9hZGVkIGluIGFuIGVudmlyb25tZW50IHdoZXJlIHdpbmRvdyBpcyBub3QgYXZhaWxhYmxlLFxyXG4gICAgICAgICAqIHNldCBpbnRlcm5hbCBmbGFnIHRvIGZhbHNlIHNvIHRoYXQgZnVydGhlciByZXF1ZXN0cyBmYWlsLlxyXG4gICAgICAgICAqIFRoaXMgaXMgdG8gc3VwcG9ydCBzZXJ2ZXItc2lkZSByZW5kZXJpbmcgZW52aXJvbm1lbnRzLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuYnJvd3NlckVudmlyb25tZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcclxuICAgICAgICB0aGlzLmNvbmZpZyA9IGJ1aWxkQ29uZmlndXJhdGlvbihjb25maWcsIHRoaXMuYnJvd3NlckVudmlyb25tZW50KTtcclxuICAgICAgICBsZXQgc2Vzc2lvblN0b3JhZ2U7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UgPSB3aW5kb3dbQnJvd3NlckNhY2hlTG9jYXRpb24uU2Vzc2lvblN0b3JhZ2VdO1xyXG4gICAgICAgICAgICAvLyBNdXRlIGVycm9ycyBpZiBpdCdzIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnQgb3IgY29va2llcyBhcmUgYmxvY2tlZC5cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgIGNvbnN0IGxvZ0xldmVsS2V5ID0gc2Vzc2lvblN0b3JhZ2U/LmdldEl0ZW0oTE9HX0xFVkVMX0NBQ0hFX0tFWSk7XHJcbiAgICAgICAgY29uc3QgcGlpTG9nZ2luZ0tleSA9IHNlc3Npb25TdG9yYWdlXHJcbiAgICAgICAgICAgID8uZ2V0SXRlbShMT0dfUElJX0NBQ0hFX0tFWSlcclxuICAgICAgICAgICAgPy50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGNvbnN0IHBpaUxvZ2dpbmdFbmFibGVkID0gcGlpTG9nZ2luZ0tleSA9PT0gXCJ0cnVlXCJcclxuICAgICAgICAgICAgPyB0cnVlXHJcbiAgICAgICAgICAgIDogcGlpTG9nZ2luZ0tleSA9PT0gXCJmYWxzZVwiXHJcbiAgICAgICAgICAgICAgICA/IGZhbHNlXHJcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICBjb25zdCBsb2dnZXJPcHRpb25zID0geyAuLi50aGlzLmNvbmZpZy5zeXN0ZW0ubG9nZ2VyT3B0aW9ucyB9O1xyXG4gICAgICAgIGNvbnN0IGxvZ0xldmVsID0gbG9nTGV2ZWxLZXkgJiYgT2JqZWN0LmtleXMoTG9nTGV2ZWwpLmluY2x1ZGVzKGxvZ0xldmVsS2V5KVxyXG4gICAgICAgICAgICA/IExvZ0xldmVsW2xvZ0xldmVsS2V5XVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAobG9nTGV2ZWwpIHtcclxuICAgICAgICAgICAgbG9nZ2VyT3B0aW9ucy5sb2dnZXJDYWxsYmFjayA9IEJhc2VPcGVyYXRpbmdDb250ZXh0LmxvZ2dlckNhbGxiYWNrO1xyXG4gICAgICAgICAgICBsb2dnZXJPcHRpb25zLmxvZ0xldmVsID0gbG9nTGV2ZWw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwaWlMb2dnaW5nRW5hYmxlZCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlck9wdGlvbnMucGlpTG9nZ2luZ0VuYWJsZWQgPSBwaWlMb2dnaW5nRW5hYmxlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKGxvZ2dlck9wdGlvbnMsIG5hbWUsIHZlcnNpb24pO1xyXG4gICAgICAgIHRoaXMuYXZhaWxhYmxlID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0aGUgTVNBTCBjb25maWdcclxuICAgICAqIEByZXR1cm5zIEJyb3dzZXJDb25maWd1cmF0aW9uXHJcbiAgICAgKi9cclxuICAgIGdldENvbmZpZygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb25maWc7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIE1TQUwgTG9nZ2VyXHJcbiAgICAgKiBAcmV0dXJucyBMb2dnZXJcclxuICAgICAqL1xyXG4gICAgZ2V0TG9nZ2VyKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvZ2dlcjtcclxuICAgIH1cclxuICAgIGlzQXZhaWxhYmxlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZTtcclxuICAgIH1cclxuICAgIGlzQnJvd3NlckVudmlyb25tZW50KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJyb3dzZXJFbnZpcm9ubWVudDtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBCYXNlT3BlcmF0aW5nQ29udGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZU9wZXJhdGluZ0NvbnRleHQubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkxvZ0xldmVsIiwiTG9nZ2VyIiwiYnVpbGRDb25maWd1cmF0aW9uIiwibmFtZSIsInZlcnNpb24iLCJCcm93c2VyQ2FjaGVMb2NhdGlvbiIsIkxPR19MRVZFTF9DQUNIRV9LRVkiLCJMT0dfUElJX0NBQ0hFX0tFWSIsIkJhc2VPcGVyYXRpbmdDb250ZXh0IiwibG9nZ2VyQ2FsbGJhY2siLCJsZXZlbCIsIm1lc3NhZ2UiLCJFcnJvciIsImNvbnNvbGUiLCJlcnJvciIsIkluZm8iLCJpbmZvIiwiVmVyYm9zZSIsImRlYnVnIiwiV2FybmluZyIsIndhcm4iLCJsb2ciLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImJyb3dzZXJFbnZpcm9ubWVudCIsInNlc3Npb25TdG9yYWdlIiwid2luZG93IiwiU2Vzc2lvblN0b3JhZ2UiLCJlIiwibG9nTGV2ZWxLZXkiLCJnZXRJdGVtIiwicGlpTG9nZ2luZ0tleSIsInRvTG93ZXJDYXNlIiwicGlpTG9nZ2luZ0VuYWJsZWQiLCJ1bmRlZmluZWQiLCJsb2dnZXJPcHRpb25zIiwic3lzdGVtIiwibG9nTGV2ZWwiLCJPYmplY3QiLCJrZXlzIiwiaW5jbHVkZXMiLCJsb2dnZXIiLCJhdmFpbGFibGUiLCJnZXRDb25maWciLCJnZXRMb2dnZXIiLCJpc0F2YWlsYWJsZSIsImlzQnJvd3NlckVudmlyb25tZW50Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/operatingcontext/BaseOperatingContext.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/operatingcontext/NestedAppOperatingContext.mjs":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/operatingcontext/NestedAppOperatingContext.mjs ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NestedAppOperatingContext: () => (/* binding */ NestedAppOperatingContext)\n/* harmony export */ });\n/* harmony import */ var _BaseOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseOperatingContext.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/operatingcontext/BaseOperatingContext.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class NestedAppOperatingContext extends _BaseOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseOperatingContext {\n    constructor(){\n        super(...arguments);\n        this.bridgeProxy = undefined;\n        this.accountContext = null;\n    }\n    /**\r\n     * Return the module name.  Intended for use with import() to enable dynamic import\r\n     * of the implementation associated with this operating context\r\n     * @returns\r\n     */ getModuleName() {\n        return NestedAppOperatingContext.MODULE_NAME;\n    }\n    /**\r\n     * Returns the unique identifier for this operating context\r\n     * @returns string\r\n     */ getId() {\n        return NestedAppOperatingContext.ID;\n    }\n    /**\r\n     * Returns the current BridgeProxy\r\n     * @returns IBridgeProxy | undefined\r\n     */ getBridgeProxy() {\n        return this.bridgeProxy;\n    }\n    /**\r\n     * Checks whether the operating context is available.\r\n     * Confirms that the code is running a browser rather.  This is required.\r\n     * @returns Promise<boolean> indicating whether this operating context is currently available.\r\n     */ async initialize() {\n        try {\n            if (false) {}\n        } catch (ex) {\n            this.logger.infoPii(`Could not initialize Nested App Auth bridge (${ex})`);\n        }\n        this.logger.info(`Nested App Auth Bridge available: ${this.available}`);\n        return this.available;\n    }\n}\n/*\r\n * TODO: Once we have determine the bundling code return here to specify the name of the bundle\r\n * containing the implementation for this operating context\r\n */ NestedAppOperatingContext.MODULE_NAME = \"\";\n/**\r\n * Unique identifier for the operating context\r\n */ NestedAppOperatingContext.ID = \"NestedAppOperatingContext\";\n //# sourceMappingURL=NestedAppOperatingContext.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L29wZXJhdGluZ2NvbnRleHQvTmVzdGVkQXBwT3BlcmF0aW5nQ29udGV4dC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDa0U7QUFDYjtBQUVyRDs7O0NBR0MsR0FDRCxNQUFNRSxrQ0FBa0NGLDJFQUFvQkE7SUFDeERHLGFBQWM7UUFDVixLQUFLLElBQUlDO1FBQ1QsSUFBSSxDQUFDQyxXQUFXLEdBQUdDO1FBQ25CLElBQUksQ0FBQ0MsY0FBYyxHQUFHO0lBQzFCO0lBQ0E7Ozs7S0FJQyxHQUNEQyxnQkFBZ0I7UUFDWixPQUFPTiwwQkFBMEJPLFdBQVc7SUFDaEQ7SUFDQTs7O0tBR0MsR0FDREMsUUFBUTtRQUNKLE9BQU9SLDBCQUEwQlMsRUFBRTtJQUN2QztJQUNBOzs7S0FHQyxHQUNEQyxpQkFBaUI7UUFDYixPQUFPLElBQUksQ0FBQ1AsV0FBVztJQUMzQjtJQUNBOzs7O0tBSUMsR0FDRCxNQUFNUSxhQUFhO1FBQ2YsSUFBSTtZQUNBLElBQUksS0FBNkIsRUFBRSxFQWFsQztRQUNMLEVBQ0EsT0FBT00sSUFBSTtZQUNQLElBQUksQ0FBQ0MsTUFBTSxDQUFDQyxPQUFPLENBQUMsQ0FBQyw2Q0FBNkMsRUFBRUYsR0FBRyxDQUFDLENBQUM7UUFDN0U7UUFDQSxJQUFJLENBQUNDLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLENBQUMsa0NBQWtDLEVBQUUsSUFBSSxDQUFDSixTQUFTLENBQUMsQ0FBQztRQUN0RSxPQUFPLElBQUksQ0FBQ0EsU0FBUztJQUN6QjtBQUNKO0FBQ0E7OztDQUdDLEdBQ0RoQiwwQkFBMEJPLFdBQVcsR0FBRztBQUN4Qzs7Q0FFQyxHQUNEUCwwQkFBMEJTLEVBQUUsR0FBRztBQUVNLENBQ3JDLHNEQUFzRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1icm93c2VyL2Rpc3Qvb3BlcmF0aW5nY29udGV4dC9OZXN0ZWRBcHBPcGVyYXRpbmdDb250ZXh0Lm1qcz8xYTVjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQmFzZU9wZXJhdGluZ0NvbnRleHQgfSBmcm9tICcuL0Jhc2VPcGVyYXRpbmdDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBCcmlkZ2VQcm94eSB9IGZyb20gJy4uL25hYS9CcmlkZ2VQcm94eS5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY2xhc3MgTmVzdGVkQXBwT3BlcmF0aW5nQ29udGV4dCBleHRlbmRzIEJhc2VPcGVyYXRpbmdDb250ZXh0IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XHJcbiAgICAgICAgdGhpcy5icmlkZ2VQcm94eSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLmFjY291bnRDb250ZXh0ID0gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBtb2R1bGUgbmFtZS4gIEludGVuZGVkIGZvciB1c2Ugd2l0aCBpbXBvcnQoKSB0byBlbmFibGUgZHluYW1pYyBpbXBvcnRcclxuICAgICAqIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiBhc3NvY2lhdGVkIHdpdGggdGhpcyBvcGVyYXRpbmcgY29udGV4dFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgZ2V0TW9kdWxlTmFtZSgpIHtcclxuICAgICAgICByZXR1cm4gTmVzdGVkQXBwT3BlcmF0aW5nQ29udGV4dC5NT0RVTEVfTkFNRTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgb3BlcmF0aW5nIGNvbnRleHRcclxuICAgICAqIEByZXR1cm5zIHN0cmluZ1xyXG4gICAgICovXHJcbiAgICBnZXRJZCgpIHtcclxuICAgICAgICByZXR1cm4gTmVzdGVkQXBwT3BlcmF0aW5nQ29udGV4dC5JRDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBCcmlkZ2VQcm94eVxyXG4gICAgICogQHJldHVybnMgSUJyaWRnZVByb3h5IHwgdW5kZWZpbmVkXHJcbiAgICAgKi9cclxuICAgIGdldEJyaWRnZVByb3h5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJyaWRnZVByb3h5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgb3BlcmF0aW5nIGNvbnRleHQgaXMgYXZhaWxhYmxlLlxyXG4gICAgICogQ29uZmlybXMgdGhhdCB0aGUgY29kZSBpcyBydW5uaW5nIGEgYnJvd3NlciByYXRoZXIuICBUaGlzIGlzIHJlcXVpcmVkLlxyXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxib29sZWFuPiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBvcGVyYXRpbmcgY29udGV4dCBpcyBjdXJyZW50bHkgYXZhaWxhYmxlLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdy5fX2luaXRpYWxpemVOZXN0ZWRBcHBBdXRoID09PSBcImZ1bmN0aW9uXCIpIHtcclxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB3aW5kb3cuX19pbml0aWFsaXplTmVzdGVkQXBwQXV0aCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc3QgYnJpZGdlUHJveHkgPSBhd2FpdCBCcmlkZ2VQcm94eS5jcmVhdGUoKTtcclxuICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgKiBCZWNhdXNlIHdlIHdhbnQgc2luZ2xlIHNpZ24gb24gd2UgZXhwZWN0IHRoZSBob3N0IGFwcCB0byBwcm92aWRlIHRoZSBhY2NvdW50IGNvbnRleHRcclxuICAgICAgICAgICAgICAgICAqIHdpdGggYSBtaW4gc2V0IG9mIHBhcmFtcyB0aGF0IGNhbiBiZSB1c2VkIHRvIGlkZW50aWZ5IHRoZSBhY2NvdW50XHJcbiAgICAgICAgICAgICAgICAgKiB0aGlzLmFjY291bnQgPSBuZXN0ZWRBcHAuZ2V0QWNjb3VudEJ5RmlsdGVyKGJyaWRnZVByb3h5LmdldEFjY291bnRDb250ZXh0KCkpO1xyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICB0aGlzLmFjY291bnRDb250ZXh0ID0gYnJpZGdlUHJveHkuZ2V0QWNjb3VudENvbnRleHQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYnJpZGdlUHJveHkgPSBicmlkZ2VQcm94eTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXZhaWxhYmxlID0gYnJpZGdlUHJveHkgIT09IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXgpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mb1BpaShgQ291bGQgbm90IGluaXRpYWxpemUgTmVzdGVkIEFwcCBBdXRoIGJyaWRnZSAoJHtleH0pYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubG9nZ2VyLmluZm8oYE5lc3RlZCBBcHAgQXV0aCBCcmlkZ2UgYXZhaWxhYmxlOiAke3RoaXMuYXZhaWxhYmxlfWApO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF2YWlsYWJsZTtcclxuICAgIH1cclxufVxyXG4vKlxyXG4gKiBUT0RPOiBPbmNlIHdlIGhhdmUgZGV0ZXJtaW5lIHRoZSBidW5kbGluZyBjb2RlIHJldHVybiBoZXJlIHRvIHNwZWNpZnkgdGhlIG5hbWUgb2YgdGhlIGJ1bmRsZVxyXG4gKiBjb250YWluaW5nIHRoZSBpbXBsZW1lbnRhdGlvbiBmb3IgdGhpcyBvcGVyYXRpbmcgY29udGV4dFxyXG4gKi9cclxuTmVzdGVkQXBwT3BlcmF0aW5nQ29udGV4dC5NT0RVTEVfTkFNRSA9IFwiXCI7XHJcbi8qKlxyXG4gKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIG9wZXJhdGluZyBjb250ZXh0XHJcbiAqL1xyXG5OZXN0ZWRBcHBPcGVyYXRpbmdDb250ZXh0LklEID0gXCJOZXN0ZWRBcHBPcGVyYXRpbmdDb250ZXh0XCI7XG5cbmV4cG9ydCB7IE5lc3RlZEFwcE9wZXJhdGluZ0NvbnRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5lc3RlZEFwcE9wZXJhdGluZ0NvbnRleHQubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkJhc2VPcGVyYXRpbmdDb250ZXh0IiwiQnJpZGdlUHJveHkiLCJOZXN0ZWRBcHBPcGVyYXRpbmdDb250ZXh0IiwiY29uc3RydWN0b3IiLCJhcmd1bWVudHMiLCJicmlkZ2VQcm94eSIsInVuZGVmaW5lZCIsImFjY291bnRDb250ZXh0IiwiZ2V0TW9kdWxlTmFtZSIsIk1PRFVMRV9OQU1FIiwiZ2V0SWQiLCJJRCIsImdldEJyaWRnZVByb3h5IiwiaW5pdGlhbGl6ZSIsIndpbmRvdyIsIl9faW5pdGlhbGl6ZU5lc3RlZEFwcEF1dGgiLCJjcmVhdGUiLCJnZXRBY2NvdW50Q29udGV4dCIsImF2YWlsYWJsZSIsImV4IiwibG9nZ2VyIiwiaW5mb1BpaSIsImluZm8iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/operatingcontext/NestedAppOperatingContext.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/operatingcontext/StandardOperatingContext.mjs":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/operatingcontext/StandardOperatingContext.mjs ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StandardOperatingContext: () => (/* binding */ StandardOperatingContext)\n/* harmony export */ });\n/* harmony import */ var _BaseOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseOperatingContext.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/operatingcontext/BaseOperatingContext.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class StandardOperatingContext extends _BaseOperatingContext_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseOperatingContext {\n    /**\r\n     * Return the module name.  Intended for use with import() to enable dynamic import\r\n     * of the implementation associated with this operating context\r\n     * @returns\r\n     */ getModuleName() {\n        return StandardOperatingContext.MODULE_NAME;\n    }\n    /**\r\n     * Returns the unique identifier for this operating context\r\n     * @returns string\r\n     */ getId() {\n        return StandardOperatingContext.ID;\n    }\n    /**\r\n     * Checks whether the operating context is available.\r\n     * Confirms that the code is running a browser rather.  This is required.\r\n     * @returns Promise<boolean> indicating whether this operating context is currently available.\r\n     */ async initialize() {\n        this.available = \"undefined\" !== \"undefined\";\n        return this.available;\n    /*\r\n         * NOTE: The standard context is available as long as there is a window.  If/when we split out WAM from Browser\r\n         * We can move the current contents of the initialize method to here and verify that the WAM extension is available\r\n         */ }\n}\n/*\r\n * TODO: Once we have determine the bundling code return here to specify the name of the bundle\r\n * containing the implementation for this operating context\r\n */ StandardOperatingContext.MODULE_NAME = \"\";\n/**\r\n * Unique identifier for the operating context\r\n */ StandardOperatingContext.ID = \"StandardOperatingContext\";\n //# sourceMappingURL=StandardOperatingContext.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L29wZXJhdGluZ2NvbnRleHQvU3RhbmRhcmRPcGVyYXRpbmdDb250ZXh0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNrRTtBQUVsRTs7O0NBR0MsR0FDRCxNQUFNQyxpQ0FBaUNELDJFQUFvQkE7SUFDdkQ7Ozs7S0FJQyxHQUNERSxnQkFBZ0I7UUFDWixPQUFPRCx5QkFBeUJFLFdBQVc7SUFDL0M7SUFDQTs7O0tBR0MsR0FDREMsUUFBUTtRQUNKLE9BQU9ILHlCQUF5QkksRUFBRTtJQUN0QztJQUNBOzs7O0tBSUMsR0FDRCxNQUFNQyxhQUFhO1FBQ2YsSUFBSSxDQUFDQyxTQUFTLEdBQUcsZ0JBQWtCO1FBQ25DLE9BQU8sSUFBSSxDQUFDQSxTQUFTO0lBQ3JCOzs7U0FHQyxHQUNMO0FBQ0o7QUFDQTs7O0NBR0MsR0FDRE4seUJBQXlCRSxXQUFXLEdBQUc7QUFDdkM7O0NBRUMsR0FDREYseUJBQXlCSSxFQUFFLEdBQUc7QUFFTSxDQUNwQyxxREFBcUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L29wZXJhdGluZ2NvbnRleHQvU3RhbmRhcmRPcGVyYXRpbmdDb250ZXh0Lm1qcz9jZTNjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQmFzZU9wZXJhdGluZ0NvbnRleHQgfSBmcm9tICcuL0Jhc2VPcGVyYXRpbmdDb250ZXh0Lm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBTdGFuZGFyZE9wZXJhdGluZ0NvbnRleHQgZXh0ZW5kcyBCYXNlT3BlcmF0aW5nQ29udGV4dCB7XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybiB0aGUgbW9kdWxlIG5hbWUuICBJbnRlbmRlZCBmb3IgdXNlIHdpdGggaW1wb3J0KCkgdG8gZW5hYmxlIGR5bmFtaWMgaW1wb3J0XHJcbiAgICAgKiBvZiB0aGUgaW1wbGVtZW50YXRpb24gYXNzb2NpYXRlZCB3aXRoIHRoaXMgb3BlcmF0aW5nIGNvbnRleHRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGdldE1vZHVsZU5hbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuIFN0YW5kYXJkT3BlcmF0aW5nQ29udGV4dC5NT0RVTEVfTkFNRTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgb3BlcmF0aW5nIGNvbnRleHRcclxuICAgICAqIEByZXR1cm5zIHN0cmluZ1xyXG4gICAgICovXHJcbiAgICBnZXRJZCgpIHtcclxuICAgICAgICByZXR1cm4gU3RhbmRhcmRPcGVyYXRpbmdDb250ZXh0LklEO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgb3BlcmF0aW5nIGNvbnRleHQgaXMgYXZhaWxhYmxlLlxyXG4gICAgICogQ29uZmlybXMgdGhhdCB0aGUgY29kZSBpcyBydW5uaW5nIGEgYnJvd3NlciByYXRoZXIuICBUaGlzIGlzIHJlcXVpcmVkLlxyXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxib29sZWFuPiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBvcGVyYXRpbmcgY29udGV4dCBpcyBjdXJyZW50bHkgYXZhaWxhYmxlLlxyXG4gICAgICovXHJcbiAgICBhc3luYyBpbml0aWFsaXplKCkge1xyXG4gICAgICAgIHRoaXMuYXZhaWxhYmxlID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIjtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdmFpbGFibGU7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBOT1RFOiBUaGUgc3RhbmRhcmQgY29udGV4dCBpcyBhdmFpbGFibGUgYXMgbG9uZyBhcyB0aGVyZSBpcyBhIHdpbmRvdy4gIElmL3doZW4gd2Ugc3BsaXQgb3V0IFdBTSBmcm9tIEJyb3dzZXJcclxuICAgICAgICAgKiBXZSBjYW4gbW92ZSB0aGUgY3VycmVudCBjb250ZW50cyBvZiB0aGUgaW5pdGlhbGl6ZSBtZXRob2QgdG8gaGVyZSBhbmQgdmVyaWZ5IHRoYXQgdGhlIFdBTSBleHRlbnNpb24gaXMgYXZhaWxhYmxlXHJcbiAgICAgICAgICovXHJcbiAgICB9XHJcbn1cclxuLypcclxuICogVE9ETzogT25jZSB3ZSBoYXZlIGRldGVybWluZSB0aGUgYnVuZGxpbmcgY29kZSByZXR1cm4gaGVyZSB0byBzcGVjaWZ5IHRoZSBuYW1lIG9mIHRoZSBidW5kbGVcclxuICogY29udGFpbmluZyB0aGUgaW1wbGVtZW50YXRpb24gZm9yIHRoaXMgb3BlcmF0aW5nIGNvbnRleHRcclxuICovXHJcblN0YW5kYXJkT3BlcmF0aW5nQ29udGV4dC5NT0RVTEVfTkFNRSA9IFwiXCI7XHJcbi8qKlxyXG4gKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIG9wZXJhdGluZyBjb250ZXh0XHJcbiAqL1xyXG5TdGFuZGFyZE9wZXJhdGluZ0NvbnRleHQuSUQgPSBcIlN0YW5kYXJkT3BlcmF0aW5nQ29udGV4dFwiO1xuXG5leHBvcnQgeyBTdGFuZGFyZE9wZXJhdGluZ0NvbnRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0YW5kYXJkT3BlcmF0aW5nQ29udGV4dC5tanMubWFwXG4iXSwibmFtZXMiOlsiQmFzZU9wZXJhdGluZ0NvbnRleHQiLCJTdGFuZGFyZE9wZXJhdGluZ0NvbnRleHQiLCJnZXRNb2R1bGVOYW1lIiwiTU9EVUxFX05BTUUiLCJnZXRJZCIsIklEIiwiaW5pdGlhbGl6ZSIsImF2YWlsYWJsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/operatingcontext/StandardOperatingContext.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/packageMetadata.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/packageMetadata.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   name: () => (/* binding */ name),\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n/* eslint-disable header/header */ const name = \"@azure/msal-browser\";\nconst version = \"3.28.0\";\n //# sourceMappingURL=packageMetadata.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L3BhY2thZ2VNZXRhZGF0YS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDQSxnQ0FBZ0MsR0FDaEMsTUFBTUEsT0FBTztBQUNiLE1BQU1DLFVBQVU7QUFFUyxDQUN6Qiw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L3BhY2thZ2VNZXRhZGF0YS5tanM/Nzc5OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0Jztcbi8qIGVzbGludC1kaXNhYmxlIGhlYWRlci9oZWFkZXIgKi9cclxuY29uc3QgbmFtZSA9IFwiQGF6dXJlL21zYWwtYnJvd3NlclwiO1xyXG5jb25zdCB2ZXJzaW9uID0gXCIzLjI4LjBcIjtcblxuZXhwb3J0IHsgbmFtZSwgdmVyc2lvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFja2FnZU1ldGFkYXRhLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJuYW1lIiwidmVyc2lvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/packageMetadata.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/request/RequestHelpers.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/request/RequestHelpers.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   initializeBaseRequest: () => (/* binding */ initializeBaseRequest),\n/* harmony export */   initializeSilentRequest: () => (/* binding */ initializeSilentRequest)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/StringUtils.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../crypto/BrowserCrypto.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/crypto/BrowserCrypto.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Initializer function for all request APIs\r\n * @param request\r\n */ async function initializeBaseRequest(request, config, performanceClient, logger) {\n    performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.InitializeBaseRequest, request.correlationId);\n    const authority = request.authority || config.auth.authority;\n    const scopes = [\n        ...request && request.scopes || []\n    ];\n    const validatedRequest = {\n        ...request,\n        correlationId: request.correlationId,\n        authority,\n        scopes\n    };\n    // Set authenticationScheme to BEARER if not explicitly set in the request\n    if (!validatedRequest.authenticationScheme) {\n        validatedRequest.authenticationScheme = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.AuthenticationScheme.BEARER;\n        logger.verbose('Authentication Scheme wasn\\'t explicitly set in request, defaulting to \"Bearer\" request');\n    } else {\n        if (validatedRequest.authenticationScheme === _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.AuthenticationScheme.SSH) {\n            if (!request.sshJwk) {\n                throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.createClientConfigurationError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.missingSshJwk);\n            }\n            if (!request.sshKid) {\n                throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.createClientConfigurationError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_3__.missingSshKid);\n            }\n        }\n        logger.verbose(`Authentication Scheme set to \"${validatedRequest.authenticationScheme}\" as configured in Auth request`);\n    }\n    // Set requested claims hash if claims-based caching is enabled and claims were requested\n    if (config.cache.claimsBasedCachingEnabled && request.claims && // Checks for empty stringified object \"{}\" which doesn't qualify as requested claims\n    !_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_4__.StringUtils.isEmptyObj(request.claims)) {\n        validatedRequest.requestedClaimsHash = await (0,_crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_5__.hashString)(request.claims);\n    }\n    return validatedRequest;\n}\nasync function initializeSilentRequest(request, account, config, performanceClient, logger) {\n    performanceClient.addQueueMeasurement(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.InitializeSilentRequest, request.correlationId);\n    const baseRequest = await (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_6__.invokeAsync)(initializeBaseRequest, _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.InitializeBaseRequest, logger, performanceClient, request.correlationId)(request, config, performanceClient, logger);\n    return {\n        ...request,\n        ...baseRequest,\n        account: account,\n        forceRefresh: request.forceRefresh || false\n    };\n}\n //# sourceMappingURL=RequestHelpers.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L3JlcXVlc3QvUmVxdWVzdEhlbHBlcnMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUM4SztBQUNySDtBQUV6RDs7O0NBR0MsR0FDRDs7O0NBR0MsR0FDRCxlQUFlTyxzQkFBc0JDLE9BQU8sRUFBRUMsTUFBTSxFQUFFQyxpQkFBaUIsRUFBRUMsTUFBTTtJQUMzRUQsa0JBQWtCRSxtQkFBbUIsQ0FBQ1oseUVBQWlCQSxDQUFDYSxxQkFBcUIsRUFBRUwsUUFBUU0sYUFBYTtJQUNwRyxNQUFNQyxZQUFZUCxRQUFRTyxTQUFTLElBQUlOLE9BQU9PLElBQUksQ0FBQ0QsU0FBUztJQUM1RCxNQUFNRSxTQUFTO1dBQUssV0FBWVQsUUFBUVMsTUFBTSxJQUFLLEVBQUU7S0FBRTtJQUN2RCxNQUFNQyxtQkFBbUI7UUFDckIsR0FBR1YsT0FBTztRQUNWTSxlQUFlTixRQUFRTSxhQUFhO1FBQ3BDQztRQUNBRTtJQUNKO0lBQ0EsMEVBQTBFO0lBQzFFLElBQUksQ0FBQ0MsaUJBQWlCQyxvQkFBb0IsRUFBRTtRQUN4Q0QsaUJBQWlCQyxvQkFBb0IsR0FBR2pCLDRFQUFvQkEsQ0FBQ2tCLE1BQU07UUFDbkVULE9BQU9VLE9BQU8sQ0FBQztJQUNuQixPQUNLO1FBQ0QsSUFBSUgsaUJBQWlCQyxvQkFBb0IsS0FBS2pCLDRFQUFvQkEsQ0FBQ29CLEdBQUcsRUFBRTtZQUNwRSxJQUFJLENBQUNkLFFBQVFlLE1BQU0sRUFBRTtnQkFDakIsTUFBTXBCLDBGQUE4QkEsQ0FBQ0MscUVBQTJDO1lBQ3BGO1lBQ0EsSUFBSSxDQUFDSSxRQUFRaUIsTUFBTSxFQUFFO2dCQUNqQixNQUFNdEIsMEZBQThCQSxDQUFDQyxxRUFBMkM7WUFDcEY7UUFDSjtRQUNBTyxPQUFPVSxPQUFPLENBQUMsQ0FBQyw4QkFBOEIsRUFBRUgsaUJBQWlCQyxvQkFBb0IsQ0FBQywrQkFBK0IsQ0FBQztJQUMxSDtJQUNBLHlGQUF5RjtJQUN6RixJQUFJVixPQUFPa0IsS0FBSyxDQUFDQyx5QkFBeUIsSUFDdENwQixRQUFRcUIsTUFBTSxJQUNkLHFGQUFxRjtJQUNyRixDQUFDeEIsbUVBQVdBLENBQUN5QixVQUFVLENBQUN0QixRQUFRcUIsTUFBTSxHQUFHO1FBQ3pDWCxpQkFBaUJhLG1CQUFtQixHQUFHLE1BQU16QixxRUFBVUEsQ0FBQ0UsUUFBUXFCLE1BQU07SUFDMUU7SUFDQSxPQUFPWDtBQUNYO0FBQ0EsZUFBZWMsd0JBQXdCeEIsT0FBTyxFQUFFeUIsT0FBTyxFQUFFeEIsTUFBTSxFQUFFQyxpQkFBaUIsRUFBRUMsTUFBTTtJQUN0RkQsa0JBQWtCRSxtQkFBbUIsQ0FBQ1oseUVBQWlCQSxDQUFDa0MsdUJBQXVCLEVBQUUxQixRQUFRTSxhQUFhO0lBQ3RHLE1BQU1xQixjQUFjLE1BQU1sQyx1RUFBV0EsQ0FBQ00sdUJBQXVCUCx5RUFBaUJBLENBQUNhLHFCQUFxQixFQUFFRixRQUFRRCxtQkFBbUJGLFFBQVFNLGFBQWEsRUFBRU4sU0FBU0MsUUFBUUMsbUJBQW1CQztJQUM1TCxPQUFPO1FBQ0gsR0FBR0gsT0FBTztRQUNWLEdBQUcyQixXQUFXO1FBQ2RGLFNBQVNBO1FBQ1RHLGNBQWM1QixRQUFRNEIsWUFBWSxJQUFJO0lBQzFDO0FBQ0o7QUFFMEQsQ0FDMUQsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9yZXF1ZXN0L1JlcXVlc3RIZWxwZXJzLm1qcz9jNWJkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgUGVyZm9ybWFuY2VFdmVudHMsIGludm9rZUFzeW5jLCBBdXRoZW50aWNhdGlvblNjaGVtZSwgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLCBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JDb2RlcywgU3RyaW5nVXRpbHMgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5pbXBvcnQgeyBoYXNoU3RyaW5nIH0gZnJvbSAnLi4vY3J5cHRvL0Jyb3dzZXJDcnlwdG8ubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBJbml0aWFsaXplciBmdW5jdGlvbiBmb3IgYWxsIHJlcXVlc3QgQVBJc1xyXG4gKiBAcGFyYW0gcmVxdWVzdFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZUJhc2VSZXF1ZXN0KHJlcXVlc3QsIGNvbmZpZywgcGVyZm9ybWFuY2VDbGllbnQsIGxvZ2dlcikge1xyXG4gICAgcGVyZm9ybWFuY2VDbGllbnQuYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5Jbml0aWFsaXplQmFzZVJlcXVlc3QsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICBjb25zdCBhdXRob3JpdHkgPSByZXF1ZXN0LmF1dGhvcml0eSB8fCBjb25maWcuYXV0aC5hdXRob3JpdHk7XHJcbiAgICBjb25zdCBzY29wZXMgPSBbLi4uKChyZXF1ZXN0ICYmIHJlcXVlc3Quc2NvcGVzKSB8fCBbXSldO1xyXG4gICAgY29uc3QgdmFsaWRhdGVkUmVxdWVzdCA9IHtcclxuICAgICAgICAuLi5yZXF1ZXN0LFxyXG4gICAgICAgIGNvcnJlbGF0aW9uSWQ6IHJlcXVlc3QuY29ycmVsYXRpb25JZCxcclxuICAgICAgICBhdXRob3JpdHksXHJcbiAgICAgICAgc2NvcGVzLFxyXG4gICAgfTtcclxuICAgIC8vIFNldCBhdXRoZW50aWNhdGlvblNjaGVtZSB0byBCRUFSRVIgaWYgbm90IGV4cGxpY2l0bHkgc2V0IGluIHRoZSByZXF1ZXN0XHJcbiAgICBpZiAoIXZhbGlkYXRlZFJlcXVlc3QuYXV0aGVudGljYXRpb25TY2hlbWUpIHtcclxuICAgICAgICB2YWxpZGF0ZWRSZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lID0gQXV0aGVudGljYXRpb25TY2hlbWUuQkVBUkVSO1xyXG4gICAgICAgIGxvZ2dlci52ZXJib3NlKCdBdXRoZW50aWNhdGlvbiBTY2hlbWUgd2FzblxcJ3QgZXhwbGljaXRseSBzZXQgaW4gcmVxdWVzdCwgZGVmYXVsdGluZyB0byBcIkJlYXJlclwiIHJlcXVlc3QnKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGlmICh2YWxpZGF0ZWRSZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lID09PSBBdXRoZW50aWNhdGlvblNjaGVtZS5TU0gpIHtcclxuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0LnNzaEp3aykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKENsaWVudENvbmZpZ3VyYXRpb25FcnJvckNvZGVzLm1pc3NpbmdTc2hKd2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghcmVxdWVzdC5zc2hLaWQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudENvbmZpZ3VyYXRpb25FcnJvcihDbGllbnRDb25maWd1cmF0aW9uRXJyb3JDb2Rlcy5taXNzaW5nU3NoS2lkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBsb2dnZXIudmVyYm9zZShgQXV0aGVudGljYXRpb24gU2NoZW1lIHNldCB0byBcIiR7dmFsaWRhdGVkUmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZX1cIiBhcyBjb25maWd1cmVkIGluIEF1dGggcmVxdWVzdGApO1xyXG4gICAgfVxyXG4gICAgLy8gU2V0IHJlcXVlc3RlZCBjbGFpbXMgaGFzaCBpZiBjbGFpbXMtYmFzZWQgY2FjaGluZyBpcyBlbmFibGVkIGFuZCBjbGFpbXMgd2VyZSByZXF1ZXN0ZWRcclxuICAgIGlmIChjb25maWcuY2FjaGUuY2xhaW1zQmFzZWRDYWNoaW5nRW5hYmxlZCAmJlxyXG4gICAgICAgIHJlcXVlc3QuY2xhaW1zICYmXHJcbiAgICAgICAgLy8gQ2hlY2tzIGZvciBlbXB0eSBzdHJpbmdpZmllZCBvYmplY3QgXCJ7fVwiIHdoaWNoIGRvZXNuJ3QgcXVhbGlmeSBhcyByZXF1ZXN0ZWQgY2xhaW1zXHJcbiAgICAgICAgIVN0cmluZ1V0aWxzLmlzRW1wdHlPYmoocmVxdWVzdC5jbGFpbXMpKSB7XHJcbiAgICAgICAgdmFsaWRhdGVkUmVxdWVzdC5yZXF1ZXN0ZWRDbGFpbXNIYXNoID0gYXdhaXQgaGFzaFN0cmluZyhyZXF1ZXN0LmNsYWltcyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsaWRhdGVkUmVxdWVzdDtcclxufVxyXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplU2lsZW50UmVxdWVzdChyZXF1ZXN0LCBhY2NvdW50LCBjb25maWcsIHBlcmZvcm1hbmNlQ2xpZW50LCBsb2dnZXIpIHtcclxuICAgIHBlcmZvcm1hbmNlQ2xpZW50LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuSW5pdGlhbGl6ZVNpbGVudFJlcXVlc3QsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICBjb25zdCBiYXNlUmVxdWVzdCA9IGF3YWl0IGludm9rZUFzeW5jKGluaXRpYWxpemVCYXNlUmVxdWVzdCwgUGVyZm9ybWFuY2VFdmVudHMuSW5pdGlhbGl6ZUJhc2VSZXF1ZXN0LCBsb2dnZXIsIHBlcmZvcm1hbmNlQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKHJlcXVlc3QsIGNvbmZpZywgcGVyZm9ybWFuY2VDbGllbnQsIGxvZ2dlcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnJlcXVlc3QsXHJcbiAgICAgICAgLi4uYmFzZVJlcXVlc3QsXHJcbiAgICAgICAgYWNjb3VudDogYWNjb3VudCxcclxuICAgICAgICBmb3JjZVJlZnJlc2g6IHJlcXVlc3QuZm9yY2VSZWZyZXNoIHx8IGZhbHNlLFxyXG4gICAgfTtcclxufVxuXG5leHBvcnQgeyBpbml0aWFsaXplQmFzZVJlcXVlc3QsIGluaXRpYWxpemVTaWxlbnRSZXF1ZXN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXF1ZXN0SGVscGVycy5tanMubWFwXG4iXSwibmFtZXMiOlsiUGVyZm9ybWFuY2VFdmVudHMiLCJpbnZva2VBc3luYyIsIkF1dGhlbnRpY2F0aW9uU2NoZW1lIiwiY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIiwiQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yQ29kZXMiLCJTdHJpbmdVdGlscyIsImhhc2hTdHJpbmciLCJpbml0aWFsaXplQmFzZVJlcXVlc3QiLCJyZXF1ZXN0IiwiY29uZmlnIiwicGVyZm9ybWFuY2VDbGllbnQiLCJsb2dnZXIiLCJhZGRRdWV1ZU1lYXN1cmVtZW50IiwiSW5pdGlhbGl6ZUJhc2VSZXF1ZXN0IiwiY29ycmVsYXRpb25JZCIsImF1dGhvcml0eSIsImF1dGgiLCJzY29wZXMiLCJ2YWxpZGF0ZWRSZXF1ZXN0IiwiYXV0aGVudGljYXRpb25TY2hlbWUiLCJCRUFSRVIiLCJ2ZXJib3NlIiwiU1NIIiwic3NoSndrIiwibWlzc2luZ1NzaEp3ayIsInNzaEtpZCIsIm1pc3NpbmdTc2hLaWQiLCJjYWNoZSIsImNsYWltc0Jhc2VkQ2FjaGluZ0VuYWJsZWQiLCJjbGFpbXMiLCJpc0VtcHR5T2JqIiwicmVxdWVzdGVkQ2xhaW1zSGFzaCIsImluaXRpYWxpemVTaWxlbnRSZXF1ZXN0IiwiYWNjb3VudCIsIkluaXRpYWxpemVTaWxlbnRSZXF1ZXN0IiwiYmFzZVJlcXVlc3QiLCJmb3JjZVJlZnJlc2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/request/RequestHelpers.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/response/ResponseHandler.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/response/ResponseHandler.mjs ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deserializeResponse: () => (/* binding */ deserializeResponse),\n/* harmony export */   validateInteractionType: () => (/* binding */ validateInteractionType)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/UrlUtils.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _utils_BrowserProtocolUtils_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/BrowserProtocolUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserProtocolUtils.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ function deserializeResponse(responseString, responseLocation, logger) {\n    // Deserialize hash fragment response parameters.\n    const serverParams = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.getDeserializedResponse(responseString);\n    if (!serverParams) {\n        if (!_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.stripLeadingHashOrQuery(responseString)) {\n            // Hash or Query string is empty\n            logger.error(`The request has returned to the redirectUri but a ${responseLocation} is not present. It's likely that the ${responseLocation} has been removed or the page has been redirected by code running on the redirectUri page.`);\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.hashEmptyError);\n        } else {\n            logger.error(`A ${responseLocation} is present in the iframe but it does not contain known properties. It's likely that the ${responseLocation} has been replaced by code running on the redirectUri page.`);\n            logger.errorPii(`The ${responseLocation} detected is: ${responseString}`);\n            throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.hashDoesNotContainKnownProperties);\n        }\n    }\n    return serverParams;\n}\n/**\r\n * Returns the interaction type that the response object belongs to\r\n */ function validateInteractionType(response, browserCrypto, interactionType) {\n    if (!response.state) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.noStateInHash);\n    }\n    const platformStateObj = (0,_utils_BrowserProtocolUtils_mjs__WEBPACK_IMPORTED_MODULE_3__.extractBrowserRequestState)(browserCrypto, response.state);\n    if (!platformStateObj) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.unableToParseState);\n    }\n    if (platformStateObj.interactionType !== interactionType) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.stateInteractionTypeMismatch);\n    }\n}\n //# sourceMappingURL=ResponseHandler.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L3Jlc3BvbnNlL1Jlc3BvbnNlSGFuZGxlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ3NEO0FBQ2lCO0FBQ1E7QUFDeUY7QUFFeEs7OztDQUdDLEdBQ0QsU0FBU1Esb0JBQW9CQyxjQUFjLEVBQUVDLGdCQUFnQixFQUFFQyxNQUFNO0lBQ2pFLGlEQUFpRDtJQUNqRCxNQUFNQyxlQUFlWiwrRUFBZ0MsQ0FBQ1M7SUFDdEQsSUFBSSxDQUFDRyxjQUFjO1FBQ2YsSUFBSSxDQUFDWiwrRUFBZ0MsQ0FBQ1MsaUJBQWlCO1lBQ25ELGdDQUFnQztZQUNoQ0UsT0FBT0ksS0FBSyxDQUFDLENBQUMsa0RBQWtELEVBQUVMLGlCQUFpQixzQ0FBc0MsRUFBRUEsaUJBQWlCLDBGQUEwRixDQUFDO1lBQ3ZPLE1BQU1ULG1GQUFzQkEsQ0FBQ0UsNEVBQWNBO1FBQy9DLE9BQ0s7WUFDRFEsT0FBT0ksS0FBSyxDQUFDLENBQUMsRUFBRSxFQUFFTCxpQkFBaUIseUZBQXlGLEVBQUVBLGlCQUFpQiwyREFBMkQsQ0FBQztZQUMzTUMsT0FBT0ssUUFBUSxDQUFDLENBQUMsSUFBSSxFQUFFTixpQkFBaUIsY0FBYyxFQUFFRCxlQUFlLENBQUM7WUFDeEUsTUFBTVIsbUZBQXNCQSxDQUFDRywrRkFBaUNBO1FBQ2xFO0lBQ0o7SUFDQSxPQUFPUTtBQUNYO0FBQ0E7O0NBRUMsR0FDRCxTQUFTSyx3QkFBd0JDLFFBQVEsRUFBRUMsYUFBYSxFQUFFQyxlQUFlO0lBQ3JFLElBQUksQ0FBQ0YsU0FBU0csS0FBSyxFQUFFO1FBQ2pCLE1BQU1wQixtRkFBc0JBLENBQUNJLDJFQUFhQTtJQUM5QztJQUNBLE1BQU1pQixtQkFBbUJwQiwyRkFBMEJBLENBQUNpQixlQUFlRCxTQUFTRyxLQUFLO0lBQ2pGLElBQUksQ0FBQ0Msa0JBQWtCO1FBQ25CLE1BQU1yQixtRkFBc0JBLENBQUNLLGdGQUFrQkE7SUFDbkQ7SUFDQSxJQUFJZ0IsaUJBQWlCRixlQUFlLEtBQUtBLGlCQUFpQjtRQUN0RCxNQUFNbkIsbUZBQXNCQSxDQUFDTSwwRkFBNEJBO0lBQzdEO0FBQ0o7QUFFd0QsQ0FDeEQsNENBQTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC9yZXNwb25zZS9SZXNwb25zZUhhbmRsZXIubWpzP2I2MTUiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBVcmxVdGlscyB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbi9icm93c2VyJztcbmltcG9ydCB7IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBleHRyYWN0QnJvd3NlclJlcXVlc3RTdGF0ZSB9IGZyb20gJy4uL3V0aWxzL0Jyb3dzZXJQcm90b2NvbFV0aWxzLm1qcyc7XG5pbXBvcnQgeyBoYXNoRW1wdHlFcnJvciwgaGFzaERvZXNOb3RDb250YWluS25vd25Qcm9wZXJ0aWVzLCBub1N0YXRlSW5IYXNoLCB1bmFibGVUb1BhcnNlU3RhdGUsIHN0YXRlSW50ZXJhY3Rpb25UeXBlTWlzbWF0Y2ggfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGRlc2VyaWFsaXplUmVzcG9uc2UocmVzcG9uc2VTdHJpbmcsIHJlc3BvbnNlTG9jYXRpb24sIGxvZ2dlcikge1xyXG4gICAgLy8gRGVzZXJpYWxpemUgaGFzaCBmcmFnbWVudCByZXNwb25zZSBwYXJhbWV0ZXJzLlxyXG4gICAgY29uc3Qgc2VydmVyUGFyYW1zID0gVXJsVXRpbHMuZ2V0RGVzZXJpYWxpemVkUmVzcG9uc2UocmVzcG9uc2VTdHJpbmcpO1xyXG4gICAgaWYgKCFzZXJ2ZXJQYXJhbXMpIHtcclxuICAgICAgICBpZiAoIVVybFV0aWxzLnN0cmlwTGVhZGluZ0hhc2hPclF1ZXJ5KHJlc3BvbnNlU3RyaW5nKSkge1xyXG4gICAgICAgICAgICAvLyBIYXNoIG9yIFF1ZXJ5IHN0cmluZyBpcyBlbXB0eVxyXG4gICAgICAgICAgICBsb2dnZXIuZXJyb3IoYFRoZSByZXF1ZXN0IGhhcyByZXR1cm5lZCB0byB0aGUgcmVkaXJlY3RVcmkgYnV0IGEgJHtyZXNwb25zZUxvY2F0aW9ufSBpcyBub3QgcHJlc2VudC4gSXQncyBsaWtlbHkgdGhhdCB0aGUgJHtyZXNwb25zZUxvY2F0aW9ufSBoYXMgYmVlbiByZW1vdmVkIG9yIHRoZSBwYWdlIGhhcyBiZWVuIHJlZGlyZWN0ZWQgYnkgY29kZSBydW5uaW5nIG9uIHRoZSByZWRpcmVjdFVyaSBwYWdlLmApO1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVCcm93c2VyQXV0aEVycm9yKGhhc2hFbXB0eUVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci5lcnJvcihgQSAke3Jlc3BvbnNlTG9jYXRpb259IGlzIHByZXNlbnQgaW4gdGhlIGlmcmFtZSBidXQgaXQgZG9lcyBub3QgY29udGFpbiBrbm93biBwcm9wZXJ0aWVzLiBJdCdzIGxpa2VseSB0aGF0IHRoZSAke3Jlc3BvbnNlTG9jYXRpb259IGhhcyBiZWVuIHJlcGxhY2VkIGJ5IGNvZGUgcnVubmluZyBvbiB0aGUgcmVkaXJlY3RVcmkgcGFnZS5gKTtcclxuICAgICAgICAgICAgbG9nZ2VyLmVycm9yUGlpKGBUaGUgJHtyZXNwb25zZUxvY2F0aW9ufSBkZXRlY3RlZCBpczogJHtyZXNwb25zZVN0cmluZ31gKTtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihoYXNoRG9lc05vdENvbnRhaW5Lbm93blByb3BlcnRpZXMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBzZXJ2ZXJQYXJhbXM7XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybnMgdGhlIGludGVyYWN0aW9uIHR5cGUgdGhhdCB0aGUgcmVzcG9uc2Ugb2JqZWN0IGJlbG9uZ3MgdG9cclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlSW50ZXJhY3Rpb25UeXBlKHJlc3BvbnNlLCBicm93c2VyQ3J5cHRvLCBpbnRlcmFjdGlvblR5cGUpIHtcclxuICAgIGlmICghcmVzcG9uc2Uuc3RhdGUpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVCcm93c2VyQXV0aEVycm9yKG5vU3RhdGVJbkhhc2gpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcGxhdGZvcm1TdGF0ZU9iaiA9IGV4dHJhY3RCcm93c2VyUmVxdWVzdFN0YXRlKGJyb3dzZXJDcnlwdG8sIHJlc3BvbnNlLnN0YXRlKTtcclxuICAgIGlmICghcGxhdGZvcm1TdGF0ZU9iaikge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IodW5hYmxlVG9QYXJzZVN0YXRlKTtcclxuICAgIH1cclxuICAgIGlmIChwbGF0Zm9ybVN0YXRlT2JqLmludGVyYWN0aW9uVHlwZSAhPT0gaW50ZXJhY3Rpb25UeXBlKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihzdGF0ZUludGVyYWN0aW9uVHlwZU1pc21hdGNoKTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBkZXNlcmlhbGl6ZVJlc3BvbnNlLCB2YWxpZGF0ZUludGVyYWN0aW9uVHlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UmVzcG9uc2VIYW5kbGVyLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJVcmxVdGlscyIsImNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IiLCJleHRyYWN0QnJvd3NlclJlcXVlc3RTdGF0ZSIsImhhc2hFbXB0eUVycm9yIiwiaGFzaERvZXNOb3RDb250YWluS25vd25Qcm9wZXJ0aWVzIiwibm9TdGF0ZUluSGFzaCIsInVuYWJsZVRvUGFyc2VTdGF0ZSIsInN0YXRlSW50ZXJhY3Rpb25UeXBlTWlzbWF0Y2giLCJkZXNlcmlhbGl6ZVJlc3BvbnNlIiwicmVzcG9uc2VTdHJpbmciLCJyZXNwb25zZUxvY2F0aW9uIiwibG9nZ2VyIiwic2VydmVyUGFyYW1zIiwiZ2V0RGVzZXJpYWxpemVkUmVzcG9uc2UiLCJzdHJpcExlYWRpbmdIYXNoT3JRdWVyeSIsImVycm9yIiwiZXJyb3JQaWkiLCJ2YWxpZGF0ZUludGVyYWN0aW9uVHlwZSIsInJlc3BvbnNlIiwiYnJvd3NlckNyeXB0byIsImludGVyYWN0aW9uVHlwZSIsInN0YXRlIiwicGxhdGZvcm1TdGF0ZU9iaiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/response/ResponseHandler.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ApiId: () => (/* binding */ ApiId),\n/* harmony export */   BROWSER_PERF_ENABLED_KEY: () => (/* binding */ BROWSER_PERF_ENABLED_KEY),\n/* harmony export */   BrowserCacheLocation: () => (/* binding */ BrowserCacheLocation),\n/* harmony export */   BrowserConstants: () => (/* binding */ BrowserConstants),\n/* harmony export */   CacheLookupPolicy: () => (/* binding */ CacheLookupPolicy),\n/* harmony export */   DB_NAME: () => (/* binding */ DB_NAME),\n/* harmony export */   DB_TABLE_NAME: () => (/* binding */ DB_TABLE_NAME),\n/* harmony export */   DB_VERSION: () => (/* binding */ DB_VERSION),\n/* harmony export */   DEFAULT_REQUEST: () => (/* binding */ DEFAULT_REQUEST),\n/* harmony export */   HTTP_REQUEST_TYPE: () => (/* binding */ HTTP_REQUEST_TYPE),\n/* harmony export */   InMemoryCacheKeys: () => (/* binding */ InMemoryCacheKeys),\n/* harmony export */   InteractionStatus: () => (/* binding */ InteractionStatus),\n/* harmony export */   InteractionType: () => (/* binding */ InteractionType),\n/* harmony export */   KEY_FORMAT_JWK: () => (/* binding */ KEY_FORMAT_JWK),\n/* harmony export */   LOG_LEVEL_CACHE_KEY: () => (/* binding */ LOG_LEVEL_CACHE_KEY),\n/* harmony export */   LOG_PII_CACHE_KEY: () => (/* binding */ LOG_PII_CACHE_KEY),\n/* harmony export */   NativeConstants: () => (/* binding */ NativeConstants),\n/* harmony export */   NativeExtensionMethod: () => (/* binding */ NativeExtensionMethod),\n/* harmony export */   StaticCacheKeys: () => (/* binding */ StaticCacheKeys),\n/* harmony export */   TemporaryCacheKeys: () => (/* binding */ TemporaryCacheKeys),\n/* harmony export */   WrapperSKU: () => (/* binding */ WrapperSKU),\n/* harmony export */   iFrameRenewalPolicies: () => (/* binding */ iFrameRenewalPolicies)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Constants\r\n */ const BrowserConstants = {\n    /**\r\n     * Interaction in progress cache value\r\n     */ INTERACTION_IN_PROGRESS_VALUE: \"interaction_in_progress\",\n    /**\r\n     * Invalid grant error code\r\n     */ INVALID_GRANT_ERROR: \"invalid_grant\",\n    /**\r\n     * Default popup window width\r\n     */ POPUP_WIDTH: 483,\n    /**\r\n     * Default popup window height\r\n     */ POPUP_HEIGHT: 600,\n    /**\r\n     * Name of the popup window starts with\r\n     */ POPUP_NAME_PREFIX: \"msal\",\n    /**\r\n     * Default popup monitor poll interval in milliseconds\r\n     */ DEFAULT_POLL_INTERVAL_MS: 30,\n    /**\r\n     * Msal-browser SKU\r\n     */ MSAL_SKU: \"msal.js.browser\"\n};\nconst NativeConstants = {\n    CHANNEL_ID: \"53ee284d-920a-4b59-9d30-a60315b26836\",\n    PREFERRED_EXTENSION_ID: \"ppnbnpeolgkicgegkbkbjmhlideopiji\",\n    MATS_TELEMETRY: \"MATS\"\n};\nconst NativeExtensionMethod = {\n    HandshakeRequest: \"Handshake\",\n    HandshakeResponse: \"HandshakeResponse\",\n    GetToken: \"GetToken\",\n    Response: \"Response\"\n};\nconst BrowserCacheLocation = {\n    LocalStorage: \"localStorage\",\n    SessionStorage: \"sessionStorage\",\n    MemoryStorage: \"memoryStorage\"\n};\n/**\r\n * HTTP Request types supported by MSAL.\r\n */ const HTTP_REQUEST_TYPE = {\n    GET: \"GET\",\n    POST: \"POST\"\n};\n/**\r\n * Temporary cache keys for MSAL, deleted after any request.\r\n */ const TemporaryCacheKeys = {\n    AUTHORITY: \"authority\",\n    ACQUIRE_TOKEN_ACCOUNT: \"acquireToken.account\",\n    SESSION_STATE: \"session.state\",\n    REQUEST_STATE: \"request.state\",\n    NONCE_IDTOKEN: \"nonce.id_token\",\n    ORIGIN_URI: \"request.origin\",\n    RENEW_STATUS: \"token.renew.status\",\n    URL_HASH: \"urlHash\",\n    REQUEST_PARAMS: \"request.params\",\n    SCOPES: \"scopes\",\n    INTERACTION_STATUS_KEY: \"interaction.status\",\n    CCS_CREDENTIAL: \"ccs.credential\",\n    CORRELATION_ID: \"request.correlationId\",\n    NATIVE_REQUEST: \"request.native\",\n    REDIRECT_CONTEXT: \"request.redirect.context\"\n};\nconst StaticCacheKeys = {\n    ACCOUNT_KEYS: \"msal.account.keys\",\n    TOKEN_KEYS: \"msal.token.keys\"\n};\n/**\r\n * Cache keys stored in-memory\r\n */ const InMemoryCacheKeys = {\n    WRAPPER_SKU: \"wrapper.sku\",\n    WRAPPER_VER: \"wrapper.version\"\n};\n/**\r\n * API Codes for Telemetry purposes.\r\n * Before adding a new code you must claim it in the MSAL Telemetry tracker as these number spaces are shared across all MSALs\r\n * 0-99 Silent Flow\r\n * 800-899 Auth Code Flow\r\n */ const ApiId = {\n    acquireTokenRedirect: 861,\n    acquireTokenPopup: 862,\n    ssoSilent: 863,\n    acquireTokenSilent_authCode: 864,\n    handleRedirectPromise: 865,\n    acquireTokenByCode: 866,\n    acquireTokenSilent_silentFlow: 61,\n    logout: 961,\n    logoutPopup: 962\n};\n/*\r\n * Interaction type of the API - used for state and telemetry\r\n */ var InteractionType;\n(function(InteractionType) {\n    InteractionType[\"Redirect\"] = \"redirect\";\n    InteractionType[\"Popup\"] = \"popup\";\n    InteractionType[\"Silent\"] = \"silent\";\n    InteractionType[\"None\"] = \"none\";\n})(InteractionType || (InteractionType = {}));\n/**\r\n * Types of interaction currently in progress.\r\n * Used in events in wrapper libraries to invoke functions when certain interaction is in progress or all interactions are complete.\r\n */ const InteractionStatus = {\n    /**\r\n     * Initial status before interaction occurs\r\n     */ Startup: \"startup\",\n    /**\r\n     * Status set when all login calls occuring\r\n     */ Login: \"login\",\n    /**\r\n     * Status set when logout call occuring\r\n     */ Logout: \"logout\",\n    /**\r\n     * Status set for acquireToken calls\r\n     */ AcquireToken: \"acquireToken\",\n    /**\r\n     * Status set for ssoSilent calls\r\n     */ SsoSilent: \"ssoSilent\",\n    /**\r\n     * Status set when handleRedirect in progress\r\n     */ HandleRedirect: \"handleRedirect\",\n    /**\r\n     * Status set when interaction is complete\r\n     */ None: \"none\"\n};\nconst DEFAULT_REQUEST = {\n    scopes: _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.OIDC_DEFAULT_SCOPES\n};\n/**\r\n * JWK Key Format string (Type MUST be defined for window crypto APIs)\r\n */ const KEY_FORMAT_JWK = \"jwk\";\n// Supported wrapper SKUs\nconst WrapperSKU = {\n    React: \"@azure/msal-react\",\n    Angular: \"@azure/msal-angular\"\n};\n// DatabaseStorage Constants\nconst DB_NAME = \"msal.db\";\nconst DB_VERSION = 1;\nconst DB_TABLE_NAME = `${DB_NAME}.keys`;\nconst CacheLookupPolicy = {\n    /*\r\n     * acquireTokenSilent will attempt to retrieve an access token from the cache. If the access token is expired\r\n     * or cannot be found the refresh token will be used to acquire a new one. Finally, if the refresh token\r\n     * is expired acquireTokenSilent will attempt to acquire new access and refresh tokens.\r\n     */ Default: 0,\n    /*\r\n     * acquireTokenSilent will only look for access tokens in the cache. It will not attempt to renew access or\r\n     * refresh tokens.\r\n     */ AccessToken: 1,\n    /*\r\n     * acquireTokenSilent will attempt to retrieve an access token from the cache. If the access token is expired or\r\n     * cannot be found, the refresh token will be used to acquire a new one. If the refresh token is expired, it\r\n     * will not be renewed and acquireTokenSilent will fail.\r\n     */ AccessTokenAndRefreshToken: 2,\n    /*\r\n     * acquireTokenSilent will not attempt to retrieve access tokens from the cache and will instead attempt to\r\n     * exchange the cached refresh token for a new access token. If the refresh token is expired, it will not be\r\n     * renewed and acquireTokenSilent will fail.\r\n     */ RefreshToken: 3,\n    /*\r\n     * acquireTokenSilent will not look in the cache for the access token. It will go directly to network with the\r\n     * cached refresh token. If the refresh token is expired an attempt will be made to renew it. This is equivalent to\r\n     * setting \"forceRefresh: true\".\r\n     */ RefreshTokenAndNetwork: 4,\n    /*\r\n     * acquireTokenSilent will attempt to renew both access and refresh tokens. It will not look in the cache. This will\r\n     * always fail if 3rd party cookies are blocked by the browser.\r\n     */ Skip: 5\n};\nconst iFrameRenewalPolicies = [\n    CacheLookupPolicy.Default,\n    CacheLookupPolicy.Skip,\n    CacheLookupPolicy.RefreshTokenAndNetwork\n];\nconst LOG_LEVEL_CACHE_KEY = \"msal.browser.log.level\";\nconst LOG_PII_CACHE_KEY = \"msal.browser.log.pii\";\nconst BROWSER_PERF_ENABLED_KEY = \"msal.browser.performance.enabled\";\n //# sourceMappingURL=BrowserConstants.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L3V0aWxzL0Jyb3dzZXJDb25zdGFudHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ2lFO0FBRWpFOzs7Q0FHQyxHQUNEOztDQUVDLEdBQ0QsTUFBTUMsbUJBQW1CO0lBQ3JCOztLQUVDLEdBQ0RDLCtCQUErQjtJQUMvQjs7S0FFQyxHQUNEQyxxQkFBcUI7SUFDckI7O0tBRUMsR0FDREMsYUFBYTtJQUNiOztLQUVDLEdBQ0RDLGNBQWM7SUFDZDs7S0FFQyxHQUNEQyxtQkFBbUI7SUFDbkI7O0tBRUMsR0FDREMsMEJBQTBCO0lBQzFCOztLQUVDLEdBQ0RDLFVBQVU7QUFDZDtBQUNBLE1BQU1DLGtCQUFrQjtJQUNwQkMsWUFBWTtJQUNaQyx3QkFBd0I7SUFDeEJDLGdCQUFnQjtBQUNwQjtBQUNBLE1BQU1DLHdCQUF3QjtJQUMxQkMsa0JBQWtCO0lBQ2xCQyxtQkFBbUI7SUFDbkJDLFVBQVU7SUFDVkMsVUFBVTtBQUNkO0FBQ0EsTUFBTUMsdUJBQXVCO0lBQ3pCQyxjQUFjO0lBQ2RDLGdCQUFnQjtJQUNoQkMsZUFBZTtBQUNuQjtBQUNBOztDQUVDLEdBQ0QsTUFBTUMsb0JBQW9CO0lBQ3RCQyxLQUFLO0lBQ0xDLE1BQU07QUFDVjtBQUNBOztDQUVDLEdBQ0QsTUFBTUMscUJBQXFCO0lBQ3ZCQyxXQUFXO0lBQ1hDLHVCQUF1QjtJQUN2QkMsZUFBZTtJQUNmQyxlQUFlO0lBQ2ZDLGVBQWU7SUFDZkMsWUFBWTtJQUNaQyxjQUFjO0lBQ2RDLFVBQVU7SUFDVkMsZ0JBQWdCO0lBQ2hCQyxRQUFRO0lBQ1JDLHdCQUF3QjtJQUN4QkMsZ0JBQWdCO0lBQ2hCQyxnQkFBZ0I7SUFDaEJDLGdCQUFnQjtJQUNoQkMsa0JBQWtCO0FBQ3RCO0FBQ0EsTUFBTUMsa0JBQWtCO0lBQ3BCQyxjQUFjO0lBQ2RDLFlBQVk7QUFDaEI7QUFDQTs7Q0FFQyxHQUNELE1BQU1DLG9CQUFvQjtJQUN0QkMsYUFBYTtJQUNiQyxhQUFhO0FBQ2pCO0FBQ0E7Ozs7O0NBS0MsR0FDRCxNQUFNQyxRQUFRO0lBQ1ZDLHNCQUFzQjtJQUN0QkMsbUJBQW1CO0lBQ25CQyxXQUFXO0lBQ1hDLDZCQUE2QjtJQUM3QkMsdUJBQXVCO0lBQ3ZCQyxvQkFBb0I7SUFDcEJDLCtCQUErQjtJQUMvQkMsUUFBUTtJQUNSQyxhQUFhO0FBQ2pCO0FBQ0E7O0NBRUMsR0FDRCxJQUFJQztBQUNILFVBQVVBLGVBQWU7SUFDdEJBLGVBQWUsQ0FBQyxXQUFXLEdBQUc7SUFDOUJBLGVBQWUsQ0FBQyxRQUFRLEdBQUc7SUFDM0JBLGVBQWUsQ0FBQyxTQUFTLEdBQUc7SUFDNUJBLGVBQWUsQ0FBQyxPQUFPLEdBQUc7QUFDOUIsR0FBR0EsbUJBQW9CQSxDQUFBQSxrQkFBa0IsQ0FBQztBQUMxQzs7O0NBR0MsR0FDRCxNQUFNQyxvQkFBb0I7SUFDdEI7O0tBRUMsR0FDREMsU0FBUztJQUNUOztLQUVDLEdBQ0RDLE9BQU87SUFDUDs7S0FFQyxHQUNEQyxRQUFRO0lBQ1I7O0tBRUMsR0FDREMsY0FBYztJQUNkOztLQUVDLEdBQ0RDLFdBQVc7SUFDWDs7S0FFQyxHQUNEQyxnQkFBZ0I7SUFDaEI7O0tBRUMsR0FDREMsTUFBTTtBQUNWO0FBQ0EsTUFBTUMsa0JBQWtCO0lBQ3BCQyxRQUFRbkUsMkVBQW1CQTtBQUMvQjtBQUNBOztDQUVDLEdBQ0QsTUFBTW9FLGlCQUFpQjtBQUN2Qix5QkFBeUI7QUFDekIsTUFBTUMsYUFBYTtJQUNmQyxPQUFPO0lBQ1BDLFNBQVM7QUFDYjtBQUNBLDRCQUE0QjtBQUM1QixNQUFNQyxVQUFVO0FBQ2hCLE1BQU1DLGFBQWE7QUFDbkIsTUFBTUMsZ0JBQWdCLENBQUMsRUFBRUYsUUFBUSxLQUFLLENBQUM7QUFDdkMsTUFBTUcsb0JBQW9CO0lBQ3RCOzs7O0tBSUMsR0FDREMsU0FBUztJQUNUOzs7S0FHQyxHQUNEQyxhQUFhO0lBQ2I7Ozs7S0FJQyxHQUNEQyw0QkFBNEI7SUFDNUI7Ozs7S0FJQyxHQUNEQyxjQUFjO0lBQ2Q7Ozs7S0FJQyxHQUNEQyx3QkFBd0I7SUFDeEI7OztLQUdDLEdBQ0RDLE1BQU07QUFDVjtBQUNBLE1BQU1DLHdCQUF3QjtJQUMxQlAsa0JBQWtCQyxPQUFPO0lBQ3pCRCxrQkFBa0JNLElBQUk7SUFDdEJOLGtCQUFrQkssc0JBQXNCO0NBQzNDO0FBQ0QsTUFBTUcsc0JBQXNCO0FBQzVCLE1BQU1DLG9CQUFvQjtBQUMxQixNQUFNQywyQkFBMkI7QUFFNFcsQ0FDN1ksNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC91dGlscy9Ccm93c2VyQ29uc3RhbnRzLm1qcz9jNjk0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1icm93c2VyIHYzLjI4LjAgMjAyNC0xMi0xMiAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgT0lEQ19ERUZBVUxUX1NDT1BFUyB9IGZyb20gJ0BhenVyZS9tc2FsLWNvbW1vbi9icm93c2VyJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDb25zdGFudHNcclxuICovXHJcbmNvbnN0IEJyb3dzZXJDb25zdGFudHMgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEludGVyYWN0aW9uIGluIHByb2dyZXNzIGNhY2hlIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIElOVEVSQUNUSU9OX0lOX1BST0dSRVNTX1ZBTFVFOiBcImludGVyYWN0aW9uX2luX3Byb2dyZXNzXCIsXHJcbiAgICAvKipcclxuICAgICAqIEludmFsaWQgZ3JhbnQgZXJyb3IgY29kZVxyXG4gICAgICovXHJcbiAgICBJTlZBTElEX0dSQU5UX0VSUk9SOiBcImludmFsaWRfZ3JhbnRcIixcclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBwb3B1cCB3aW5kb3cgd2lkdGhcclxuICAgICAqL1xyXG4gICAgUE9QVVBfV0lEVEg6IDQ4MyxcclxuICAgIC8qKlxyXG4gICAgICogRGVmYXVsdCBwb3B1cCB3aW5kb3cgaGVpZ2h0XHJcbiAgICAgKi9cclxuICAgIFBPUFVQX0hFSUdIVDogNjAwLFxyXG4gICAgLyoqXHJcbiAgICAgKiBOYW1lIG9mIHRoZSBwb3B1cCB3aW5kb3cgc3RhcnRzIHdpdGhcclxuICAgICAqL1xyXG4gICAgUE9QVVBfTkFNRV9QUkVGSVg6IFwibXNhbFwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBEZWZhdWx0IHBvcHVwIG1vbml0b3IgcG9sbCBpbnRlcnZhbCBpbiBtaWxsaXNlY29uZHNcclxuICAgICAqL1xyXG4gICAgREVGQVVMVF9QT0xMX0lOVEVSVkFMX01TOiAzMCxcclxuICAgIC8qKlxyXG4gICAgICogTXNhbC1icm93c2VyIFNLVVxyXG4gICAgICovXHJcbiAgICBNU0FMX1NLVTogXCJtc2FsLmpzLmJyb3dzZXJcIixcclxufTtcclxuY29uc3QgTmF0aXZlQ29uc3RhbnRzID0ge1xyXG4gICAgQ0hBTk5FTF9JRDogXCI1M2VlMjg0ZC05MjBhLTRiNTktOWQzMC1hNjAzMTViMjY4MzZcIixcclxuICAgIFBSRUZFUlJFRF9FWFRFTlNJT05fSUQ6IFwicHBuYm5wZW9sZ2tpY2dlZ2tia2JqbWhsaWRlb3BpamlcIixcclxuICAgIE1BVFNfVEVMRU1FVFJZOiBcIk1BVFNcIixcclxufTtcclxuY29uc3QgTmF0aXZlRXh0ZW5zaW9uTWV0aG9kID0ge1xyXG4gICAgSGFuZHNoYWtlUmVxdWVzdDogXCJIYW5kc2hha2VcIixcclxuICAgIEhhbmRzaGFrZVJlc3BvbnNlOiBcIkhhbmRzaGFrZVJlc3BvbnNlXCIsXHJcbiAgICBHZXRUb2tlbjogXCJHZXRUb2tlblwiLFxyXG4gICAgUmVzcG9uc2U6IFwiUmVzcG9uc2VcIixcclxufTtcclxuY29uc3QgQnJvd3NlckNhY2hlTG9jYXRpb24gPSB7XHJcbiAgICBMb2NhbFN0b3JhZ2U6IFwibG9jYWxTdG9yYWdlXCIsXHJcbiAgICBTZXNzaW9uU3RvcmFnZTogXCJzZXNzaW9uU3RvcmFnZVwiLFxyXG4gICAgTWVtb3J5U3RvcmFnZTogXCJtZW1vcnlTdG9yYWdlXCIsXHJcbn07XHJcbi8qKlxyXG4gKiBIVFRQIFJlcXVlc3QgdHlwZXMgc3VwcG9ydGVkIGJ5IE1TQUwuXHJcbiAqL1xyXG5jb25zdCBIVFRQX1JFUVVFU1RfVFlQRSA9IHtcclxuICAgIEdFVDogXCJHRVRcIixcclxuICAgIFBPU1Q6IFwiUE9TVFwiLFxyXG59O1xyXG4vKipcclxuICogVGVtcG9yYXJ5IGNhY2hlIGtleXMgZm9yIE1TQUwsIGRlbGV0ZWQgYWZ0ZXIgYW55IHJlcXVlc3QuXHJcbiAqL1xyXG5jb25zdCBUZW1wb3JhcnlDYWNoZUtleXMgPSB7XHJcbiAgICBBVVRIT1JJVFk6IFwiYXV0aG9yaXR5XCIsXHJcbiAgICBBQ1FVSVJFX1RPS0VOX0FDQ09VTlQ6IFwiYWNxdWlyZVRva2VuLmFjY291bnRcIixcclxuICAgIFNFU1NJT05fU1RBVEU6IFwic2Vzc2lvbi5zdGF0ZVwiLFxyXG4gICAgUkVRVUVTVF9TVEFURTogXCJyZXF1ZXN0LnN0YXRlXCIsXHJcbiAgICBOT05DRV9JRFRPS0VOOiBcIm5vbmNlLmlkX3Rva2VuXCIsXHJcbiAgICBPUklHSU5fVVJJOiBcInJlcXVlc3Qub3JpZ2luXCIsXHJcbiAgICBSRU5FV19TVEFUVVM6IFwidG9rZW4ucmVuZXcuc3RhdHVzXCIsXHJcbiAgICBVUkxfSEFTSDogXCJ1cmxIYXNoXCIsXHJcbiAgICBSRVFVRVNUX1BBUkFNUzogXCJyZXF1ZXN0LnBhcmFtc1wiLFxyXG4gICAgU0NPUEVTOiBcInNjb3Blc1wiLFxyXG4gICAgSU5URVJBQ1RJT05fU1RBVFVTX0tFWTogXCJpbnRlcmFjdGlvbi5zdGF0dXNcIixcclxuICAgIENDU19DUkVERU5USUFMOiBcImNjcy5jcmVkZW50aWFsXCIsXHJcbiAgICBDT1JSRUxBVElPTl9JRDogXCJyZXF1ZXN0LmNvcnJlbGF0aW9uSWRcIixcclxuICAgIE5BVElWRV9SRVFVRVNUOiBcInJlcXVlc3QubmF0aXZlXCIsXHJcbiAgICBSRURJUkVDVF9DT05URVhUOiBcInJlcXVlc3QucmVkaXJlY3QuY29udGV4dFwiLFxyXG59O1xyXG5jb25zdCBTdGF0aWNDYWNoZUtleXMgPSB7XHJcbiAgICBBQ0NPVU5UX0tFWVM6IFwibXNhbC5hY2NvdW50LmtleXNcIixcclxuICAgIFRPS0VOX0tFWVM6IFwibXNhbC50b2tlbi5rZXlzXCIsXHJcbn07XHJcbi8qKlxyXG4gKiBDYWNoZSBrZXlzIHN0b3JlZCBpbi1tZW1vcnlcclxuICovXHJcbmNvbnN0IEluTWVtb3J5Q2FjaGVLZXlzID0ge1xyXG4gICAgV1JBUFBFUl9TS1U6IFwid3JhcHBlci5za3VcIixcclxuICAgIFdSQVBQRVJfVkVSOiBcIndyYXBwZXIudmVyc2lvblwiLFxyXG59O1xyXG4vKipcclxuICogQVBJIENvZGVzIGZvciBUZWxlbWV0cnkgcHVycG9zZXMuXHJcbiAqIEJlZm9yZSBhZGRpbmcgYSBuZXcgY29kZSB5b3UgbXVzdCBjbGFpbSBpdCBpbiB0aGUgTVNBTCBUZWxlbWV0cnkgdHJhY2tlciBhcyB0aGVzZSBudW1iZXIgc3BhY2VzIGFyZSBzaGFyZWQgYWNyb3NzIGFsbCBNU0FMc1xyXG4gKiAwLTk5IFNpbGVudCBGbG93XHJcbiAqIDgwMC04OTkgQXV0aCBDb2RlIEZsb3dcclxuICovXHJcbmNvbnN0IEFwaUlkID0ge1xyXG4gICAgYWNxdWlyZVRva2VuUmVkaXJlY3Q6IDg2MSxcclxuICAgIGFjcXVpcmVUb2tlblBvcHVwOiA4NjIsXHJcbiAgICBzc29TaWxlbnQ6IDg2MyxcclxuICAgIGFjcXVpcmVUb2tlblNpbGVudF9hdXRoQ29kZTogODY0LFxyXG4gICAgaGFuZGxlUmVkaXJlY3RQcm9taXNlOiA4NjUsXHJcbiAgICBhY3F1aXJlVG9rZW5CeUNvZGU6IDg2NixcclxuICAgIGFjcXVpcmVUb2tlblNpbGVudF9zaWxlbnRGbG93OiA2MSxcclxuICAgIGxvZ291dDogOTYxLFxyXG4gICAgbG9nb3V0UG9wdXA6IDk2MixcclxufTtcclxuLypcclxuICogSW50ZXJhY3Rpb24gdHlwZSBvZiB0aGUgQVBJIC0gdXNlZCBmb3Igc3RhdGUgYW5kIHRlbGVtZXRyeVxyXG4gKi9cclxudmFyIEludGVyYWN0aW9uVHlwZTtcclxuKGZ1bmN0aW9uIChJbnRlcmFjdGlvblR5cGUpIHtcclxuICAgIEludGVyYWN0aW9uVHlwZVtcIlJlZGlyZWN0XCJdID0gXCJyZWRpcmVjdFwiO1xyXG4gICAgSW50ZXJhY3Rpb25UeXBlW1wiUG9wdXBcIl0gPSBcInBvcHVwXCI7XHJcbiAgICBJbnRlcmFjdGlvblR5cGVbXCJTaWxlbnRcIl0gPSBcInNpbGVudFwiO1xyXG4gICAgSW50ZXJhY3Rpb25UeXBlW1wiTm9uZVwiXSA9IFwibm9uZVwiO1xyXG59KShJbnRlcmFjdGlvblR5cGUgfHwgKEludGVyYWN0aW9uVHlwZSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBUeXBlcyBvZiBpbnRlcmFjdGlvbiBjdXJyZW50bHkgaW4gcHJvZ3Jlc3MuXHJcbiAqIFVzZWQgaW4gZXZlbnRzIGluIHdyYXBwZXIgbGlicmFyaWVzIHRvIGludm9rZSBmdW5jdGlvbnMgd2hlbiBjZXJ0YWluIGludGVyYWN0aW9uIGlzIGluIHByb2dyZXNzIG9yIGFsbCBpbnRlcmFjdGlvbnMgYXJlIGNvbXBsZXRlLlxyXG4gKi9cclxuY29uc3QgSW50ZXJhY3Rpb25TdGF0dXMgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWwgc3RhdHVzIGJlZm9yZSBpbnRlcmFjdGlvbiBvY2N1cnNcclxuICAgICAqL1xyXG4gICAgU3RhcnR1cDogXCJzdGFydHVwXCIsXHJcbiAgICAvKipcclxuICAgICAqIFN0YXR1cyBzZXQgd2hlbiBhbGwgbG9naW4gY2FsbHMgb2NjdXJpbmdcclxuICAgICAqL1xyXG4gICAgTG9naW46IFwibG9naW5cIixcclxuICAgIC8qKlxyXG4gICAgICogU3RhdHVzIHNldCB3aGVuIGxvZ291dCBjYWxsIG9jY3VyaW5nXHJcbiAgICAgKi9cclxuICAgIExvZ291dDogXCJsb2dvdXRcIixcclxuICAgIC8qKlxyXG4gICAgICogU3RhdHVzIHNldCBmb3IgYWNxdWlyZVRva2VuIGNhbGxzXHJcbiAgICAgKi9cclxuICAgIEFjcXVpcmVUb2tlbjogXCJhY3F1aXJlVG9rZW5cIixcclxuICAgIC8qKlxyXG4gICAgICogU3RhdHVzIHNldCBmb3Igc3NvU2lsZW50IGNhbGxzXHJcbiAgICAgKi9cclxuICAgIFNzb1NpbGVudDogXCJzc29TaWxlbnRcIixcclxuICAgIC8qKlxyXG4gICAgICogU3RhdHVzIHNldCB3aGVuIGhhbmRsZVJlZGlyZWN0IGluIHByb2dyZXNzXHJcbiAgICAgKi9cclxuICAgIEhhbmRsZVJlZGlyZWN0OiBcImhhbmRsZVJlZGlyZWN0XCIsXHJcbiAgICAvKipcclxuICAgICAqIFN0YXR1cyBzZXQgd2hlbiBpbnRlcmFjdGlvbiBpcyBjb21wbGV0ZVxyXG4gICAgICovXHJcbiAgICBOb25lOiBcIm5vbmVcIixcclxufTtcclxuY29uc3QgREVGQVVMVF9SRVFVRVNUID0ge1xyXG4gICAgc2NvcGVzOiBPSURDX0RFRkFVTFRfU0NPUEVTLFxyXG59O1xyXG4vKipcclxuICogSldLIEtleSBGb3JtYXQgc3RyaW5nIChUeXBlIE1VU1QgYmUgZGVmaW5lZCBmb3Igd2luZG93IGNyeXB0byBBUElzKVxyXG4gKi9cclxuY29uc3QgS0VZX0ZPUk1BVF9KV0sgPSBcImp3a1wiO1xyXG4vLyBTdXBwb3J0ZWQgd3JhcHBlciBTS1VzXHJcbmNvbnN0IFdyYXBwZXJTS1UgPSB7XHJcbiAgICBSZWFjdDogXCJAYXp1cmUvbXNhbC1yZWFjdFwiLFxyXG4gICAgQW5ndWxhcjogXCJAYXp1cmUvbXNhbC1hbmd1bGFyXCIsXHJcbn07XHJcbi8vIERhdGFiYXNlU3RvcmFnZSBDb25zdGFudHNcclxuY29uc3QgREJfTkFNRSA9IFwibXNhbC5kYlwiO1xyXG5jb25zdCBEQl9WRVJTSU9OID0gMTtcclxuY29uc3QgREJfVEFCTEVfTkFNRSA9IGAke0RCX05BTUV9LmtleXNgO1xyXG5jb25zdCBDYWNoZUxvb2t1cFBvbGljeSA9IHtcclxuICAgIC8qXHJcbiAgICAgKiBhY3F1aXJlVG9rZW5TaWxlbnQgd2lsbCBhdHRlbXB0IHRvIHJldHJpZXZlIGFuIGFjY2VzcyB0b2tlbiBmcm9tIHRoZSBjYWNoZS4gSWYgdGhlIGFjY2VzcyB0b2tlbiBpcyBleHBpcmVkXHJcbiAgICAgKiBvciBjYW5ub3QgYmUgZm91bmQgdGhlIHJlZnJlc2ggdG9rZW4gd2lsbCBiZSB1c2VkIHRvIGFjcXVpcmUgYSBuZXcgb25lLiBGaW5hbGx5LCBpZiB0aGUgcmVmcmVzaCB0b2tlblxyXG4gICAgICogaXMgZXhwaXJlZCBhY3F1aXJlVG9rZW5TaWxlbnQgd2lsbCBhdHRlbXB0IHRvIGFjcXVpcmUgbmV3IGFjY2VzcyBhbmQgcmVmcmVzaCB0b2tlbnMuXHJcbiAgICAgKi9cclxuICAgIERlZmF1bHQ6IDAsXHJcbiAgICAvKlxyXG4gICAgICogYWNxdWlyZVRva2VuU2lsZW50IHdpbGwgb25seSBsb29rIGZvciBhY2Nlc3MgdG9rZW5zIGluIHRoZSBjYWNoZS4gSXQgd2lsbCBub3QgYXR0ZW1wdCB0byByZW5ldyBhY2Nlc3Mgb3JcclxuICAgICAqIHJlZnJlc2ggdG9rZW5zLlxyXG4gICAgICovXHJcbiAgICBBY2Nlc3NUb2tlbjogMSxcclxuICAgIC8qXHJcbiAgICAgKiBhY3F1aXJlVG9rZW5TaWxlbnQgd2lsbCBhdHRlbXB0IHRvIHJldHJpZXZlIGFuIGFjY2VzcyB0b2tlbiBmcm9tIHRoZSBjYWNoZS4gSWYgdGhlIGFjY2VzcyB0b2tlbiBpcyBleHBpcmVkIG9yXHJcbiAgICAgKiBjYW5ub3QgYmUgZm91bmQsIHRoZSByZWZyZXNoIHRva2VuIHdpbGwgYmUgdXNlZCB0byBhY3F1aXJlIGEgbmV3IG9uZS4gSWYgdGhlIHJlZnJlc2ggdG9rZW4gaXMgZXhwaXJlZCwgaXRcclxuICAgICAqIHdpbGwgbm90IGJlIHJlbmV3ZWQgYW5kIGFjcXVpcmVUb2tlblNpbGVudCB3aWxsIGZhaWwuXHJcbiAgICAgKi9cclxuICAgIEFjY2Vzc1Rva2VuQW5kUmVmcmVzaFRva2VuOiAyLFxyXG4gICAgLypcclxuICAgICAqIGFjcXVpcmVUb2tlblNpbGVudCB3aWxsIG5vdCBhdHRlbXB0IHRvIHJldHJpZXZlIGFjY2VzcyB0b2tlbnMgZnJvbSB0aGUgY2FjaGUgYW5kIHdpbGwgaW5zdGVhZCBhdHRlbXB0IHRvXHJcbiAgICAgKiBleGNoYW5nZSB0aGUgY2FjaGVkIHJlZnJlc2ggdG9rZW4gZm9yIGEgbmV3IGFjY2VzcyB0b2tlbi4gSWYgdGhlIHJlZnJlc2ggdG9rZW4gaXMgZXhwaXJlZCwgaXQgd2lsbCBub3QgYmVcclxuICAgICAqIHJlbmV3ZWQgYW5kIGFjcXVpcmVUb2tlblNpbGVudCB3aWxsIGZhaWwuXHJcbiAgICAgKi9cclxuICAgIFJlZnJlc2hUb2tlbjogMyxcclxuICAgIC8qXHJcbiAgICAgKiBhY3F1aXJlVG9rZW5TaWxlbnQgd2lsbCBub3QgbG9vayBpbiB0aGUgY2FjaGUgZm9yIHRoZSBhY2Nlc3MgdG9rZW4uIEl0IHdpbGwgZ28gZGlyZWN0bHkgdG8gbmV0d29yayB3aXRoIHRoZVxyXG4gICAgICogY2FjaGVkIHJlZnJlc2ggdG9rZW4uIElmIHRoZSByZWZyZXNoIHRva2VuIGlzIGV4cGlyZWQgYW4gYXR0ZW1wdCB3aWxsIGJlIG1hZGUgdG8gcmVuZXcgaXQuIFRoaXMgaXMgZXF1aXZhbGVudCB0b1xyXG4gICAgICogc2V0dGluZyBcImZvcmNlUmVmcmVzaDogdHJ1ZVwiLlxyXG4gICAgICovXHJcbiAgICBSZWZyZXNoVG9rZW5BbmROZXR3b3JrOiA0LFxyXG4gICAgLypcclxuICAgICAqIGFjcXVpcmVUb2tlblNpbGVudCB3aWxsIGF0dGVtcHQgdG8gcmVuZXcgYm90aCBhY2Nlc3MgYW5kIHJlZnJlc2ggdG9rZW5zLiBJdCB3aWxsIG5vdCBsb29rIGluIHRoZSBjYWNoZS4gVGhpcyB3aWxsXHJcbiAgICAgKiBhbHdheXMgZmFpbCBpZiAzcmQgcGFydHkgY29va2llcyBhcmUgYmxvY2tlZCBieSB0aGUgYnJvd3Nlci5cclxuICAgICAqL1xyXG4gICAgU2tpcDogNSxcclxufTtcclxuY29uc3QgaUZyYW1lUmVuZXdhbFBvbGljaWVzID0gW1xyXG4gICAgQ2FjaGVMb29rdXBQb2xpY3kuRGVmYXVsdCxcclxuICAgIENhY2hlTG9va3VwUG9saWN5LlNraXAsXHJcbiAgICBDYWNoZUxvb2t1cFBvbGljeS5SZWZyZXNoVG9rZW5BbmROZXR3b3JrLFxyXG5dO1xyXG5jb25zdCBMT0dfTEVWRUxfQ0FDSEVfS0VZID0gXCJtc2FsLmJyb3dzZXIubG9nLmxldmVsXCI7XHJcbmNvbnN0IExPR19QSUlfQ0FDSEVfS0VZID0gXCJtc2FsLmJyb3dzZXIubG9nLnBpaVwiO1xyXG5jb25zdCBCUk9XU0VSX1BFUkZfRU5BQkxFRF9LRVkgPSBcIm1zYWwuYnJvd3Nlci5wZXJmb3JtYW5jZS5lbmFibGVkXCI7XG5cbmV4cG9ydCB7IEFwaUlkLCBCUk9XU0VSX1BFUkZfRU5BQkxFRF9LRVksIEJyb3dzZXJDYWNoZUxvY2F0aW9uLCBCcm93c2VyQ29uc3RhbnRzLCBDYWNoZUxvb2t1cFBvbGljeSwgREJfTkFNRSwgREJfVEFCTEVfTkFNRSwgREJfVkVSU0lPTiwgREVGQVVMVF9SRVFVRVNULCBIVFRQX1JFUVVFU1RfVFlQRSwgSW5NZW1vcnlDYWNoZUtleXMsIEludGVyYWN0aW9uU3RhdHVzLCBJbnRlcmFjdGlvblR5cGUsIEtFWV9GT1JNQVRfSldLLCBMT0dfTEVWRUxfQ0FDSEVfS0VZLCBMT0dfUElJX0NBQ0hFX0tFWSwgTmF0aXZlQ29uc3RhbnRzLCBOYXRpdmVFeHRlbnNpb25NZXRob2QsIFN0YXRpY0NhY2hlS2V5cywgVGVtcG9yYXJ5Q2FjaGVLZXlzLCBXcmFwcGVyU0tVLCBpRnJhbWVSZW5ld2FsUG9saWNpZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJyb3dzZXJDb25zdGFudHMubWpzLm1hcFxuIl0sIm5hbWVzIjpbIk9JRENfREVGQVVMVF9TQ09QRVMiLCJCcm93c2VyQ29uc3RhbnRzIiwiSU5URVJBQ1RJT05fSU5fUFJPR1JFU1NfVkFMVUUiLCJJTlZBTElEX0dSQU5UX0VSUk9SIiwiUE9QVVBfV0lEVEgiLCJQT1BVUF9IRUlHSFQiLCJQT1BVUF9OQU1FX1BSRUZJWCIsIkRFRkFVTFRfUE9MTF9JTlRFUlZBTF9NUyIsIk1TQUxfU0tVIiwiTmF0aXZlQ29uc3RhbnRzIiwiQ0hBTk5FTF9JRCIsIlBSRUZFUlJFRF9FWFRFTlNJT05fSUQiLCJNQVRTX1RFTEVNRVRSWSIsIk5hdGl2ZUV4dGVuc2lvbk1ldGhvZCIsIkhhbmRzaGFrZVJlcXVlc3QiLCJIYW5kc2hha2VSZXNwb25zZSIsIkdldFRva2VuIiwiUmVzcG9uc2UiLCJCcm93c2VyQ2FjaGVMb2NhdGlvbiIsIkxvY2FsU3RvcmFnZSIsIlNlc3Npb25TdG9yYWdlIiwiTWVtb3J5U3RvcmFnZSIsIkhUVFBfUkVRVUVTVF9UWVBFIiwiR0VUIiwiUE9TVCIsIlRlbXBvcmFyeUNhY2hlS2V5cyIsIkFVVEhPUklUWSIsIkFDUVVJUkVfVE9LRU5fQUNDT1VOVCIsIlNFU1NJT05fU1RBVEUiLCJSRVFVRVNUX1NUQVRFIiwiTk9OQ0VfSURUT0tFTiIsIk9SSUdJTl9VUkkiLCJSRU5FV19TVEFUVVMiLCJVUkxfSEFTSCIsIlJFUVVFU1RfUEFSQU1TIiwiU0NPUEVTIiwiSU5URVJBQ1RJT05fU1RBVFVTX0tFWSIsIkNDU19DUkVERU5USUFMIiwiQ09SUkVMQVRJT05fSUQiLCJOQVRJVkVfUkVRVUVTVCIsIlJFRElSRUNUX0NPTlRFWFQiLCJTdGF0aWNDYWNoZUtleXMiLCJBQ0NPVU5UX0tFWVMiLCJUT0tFTl9LRVlTIiwiSW5NZW1vcnlDYWNoZUtleXMiLCJXUkFQUEVSX1NLVSIsIldSQVBQRVJfVkVSIiwiQXBpSWQiLCJhY3F1aXJlVG9rZW5SZWRpcmVjdCIsImFjcXVpcmVUb2tlblBvcHVwIiwic3NvU2lsZW50IiwiYWNxdWlyZVRva2VuU2lsZW50X2F1dGhDb2RlIiwiaGFuZGxlUmVkaXJlY3RQcm9taXNlIiwiYWNxdWlyZVRva2VuQnlDb2RlIiwiYWNxdWlyZVRva2VuU2lsZW50X3NpbGVudEZsb3ciLCJsb2dvdXQiLCJsb2dvdXRQb3B1cCIsIkludGVyYWN0aW9uVHlwZSIsIkludGVyYWN0aW9uU3RhdHVzIiwiU3RhcnR1cCIsIkxvZ2luIiwiTG9nb3V0IiwiQWNxdWlyZVRva2VuIiwiU3NvU2lsZW50IiwiSGFuZGxlUmVkaXJlY3QiLCJOb25lIiwiREVGQVVMVF9SRVFVRVNUIiwic2NvcGVzIiwiS0VZX0ZPUk1BVF9KV0siLCJXcmFwcGVyU0tVIiwiUmVhY3QiLCJBbmd1bGFyIiwiREJfTkFNRSIsIkRCX1ZFUlNJT04iLCJEQl9UQUJMRV9OQU1FIiwiQ2FjaGVMb29rdXBQb2xpY3kiLCJEZWZhdWx0IiwiQWNjZXNzVG9rZW4iLCJBY2Nlc3NUb2tlbkFuZFJlZnJlc2hUb2tlbiIsIlJlZnJlc2hUb2tlbiIsIlJlZnJlc2hUb2tlbkFuZE5ldHdvcmsiLCJTa2lwIiwiaUZyYW1lUmVuZXdhbFBvbGljaWVzIiwiTE9HX0xFVkVMX0NBQ0hFX0tFWSIsIkxPR19QSUlfQ0FDSEVfS0VZIiwiQlJPV1NFUl9QRVJGX0VOQUJMRURfS0VZIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserProtocolUtils.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/utils/BrowserProtocolUtils.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   extractBrowserRequestState: () => (/* binding */ extractBrowserRequestState)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/ProtocolUtils.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Extracts the BrowserStateObject from the state string.\r\n * @param browserCrypto\r\n * @param state\r\n */ function extractBrowserRequestState(browserCrypto, state) {\n    if (!state) {\n        return null;\n    }\n    try {\n        const requestStateObj = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.ProtocolUtils.parseRequestState(browserCrypto, state);\n        return requestStateObj.libraryState.meta;\n    } catch (e) {\n        throw (0,_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.createClientAuthError)(_azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_2__.invalidState);\n    }\n}\n //# sourceMappingURL=BrowserProtocolUtils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L3V0aWxzL0Jyb3dzZXJQcm90b2NvbFV0aWxzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ3dHO0FBRXhHOzs7Q0FHQyxHQUNEOzs7O0NBSUMsR0FDRCxTQUFTRywyQkFBMkJDLGFBQWEsRUFBRUMsS0FBSztJQUNwRCxJQUFJLENBQUNBLE9BQU87UUFDUixPQUFPO0lBQ1g7SUFDQSxJQUFJO1FBQ0EsTUFBTUMsa0JBQWtCTixxRUFBYUEsQ0FBQ08saUJBQWlCLENBQUNILGVBQWVDO1FBQ3ZFLE9BQU9DLGdCQUFnQkUsWUFBWSxDQUFDQyxJQUFJO0lBQzVDLEVBQ0EsT0FBT0MsR0FBRztRQUNOLE1BQU1ULGlGQUFxQkEsQ0FBQ0Msb0VBQWlDO0lBQ2pFO0FBQ0o7QUFFc0MsQ0FDdEMsaURBQWlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC91dGlscy9Ccm93c2VyUHJvdG9jb2xVdGlscy5tanM/MjFmYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtYnJvd3NlciB2My4yOC4wIDIwMjQtMTItMTIgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFByb3RvY29sVXRpbHMsIGNyZWF0ZUNsaWVudEF1dGhFcnJvciwgQ2xpZW50QXV0aEVycm9yQ29kZXMgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRXh0cmFjdHMgdGhlIEJyb3dzZXJTdGF0ZU9iamVjdCBmcm9tIHRoZSBzdGF0ZSBzdHJpbmcuXHJcbiAqIEBwYXJhbSBicm93c2VyQ3J5cHRvXHJcbiAqIEBwYXJhbSBzdGF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gZXh0cmFjdEJyb3dzZXJSZXF1ZXN0U3RhdGUoYnJvd3NlckNyeXB0bywgc3RhdGUpIHtcclxuICAgIGlmICghc3RhdGUpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdFN0YXRlT2JqID0gUHJvdG9jb2xVdGlscy5wYXJzZVJlcXVlc3RTdGF0ZShicm93c2VyQ3J5cHRvLCBzdGF0ZSk7XHJcbiAgICAgICAgcmV0dXJuIHJlcXVlc3RTdGF0ZU9iai5saWJyYXJ5U3RhdGUubWV0YTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKENsaWVudEF1dGhFcnJvckNvZGVzLmludmFsaWRTdGF0ZSk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgZXh0cmFjdEJyb3dzZXJSZXF1ZXN0U3RhdGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJyb3dzZXJQcm90b2NvbFV0aWxzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJQcm90b2NvbFV0aWxzIiwiY3JlYXRlQ2xpZW50QXV0aEVycm9yIiwiQ2xpZW50QXV0aEVycm9yQ29kZXMiLCJleHRyYWN0QnJvd3NlclJlcXVlc3RTdGF0ZSIsImJyb3dzZXJDcnlwdG8iLCJzdGF0ZSIsInJlcXVlc3RTdGF0ZU9iaiIsInBhcnNlUmVxdWVzdFN0YXRlIiwibGlicmFyeVN0YXRlIiwibWV0YSIsImUiLCJpbnZhbGlkU3RhdGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserProtocolUtils.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserUtils.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@azure/msal-browser/dist/utils/BrowserUtils.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   blockAPICallsBeforeInitialize: () => (/* binding */ blockAPICallsBeforeInitialize),\n/* harmony export */   blockAcquireTokenInPopups: () => (/* binding */ blockAcquireTokenInPopups),\n/* harmony export */   blockNonBrowserEnvironment: () => (/* binding */ blockNonBrowserEnvironment),\n/* harmony export */   blockRedirectInIframe: () => (/* binding */ blockRedirectInIframe),\n/* harmony export */   blockReloadInHiddenIframes: () => (/* binding */ blockReloadInHiddenIframes),\n/* harmony export */   clearHash: () => (/* binding */ clearHash),\n/* harmony export */   createGuid: () => (/* binding */ createGuid),\n/* harmony export */   getCurrentUri: () => (/* binding */ getCurrentUri),\n/* harmony export */   getHomepage: () => (/* binding */ getHomepage),\n/* harmony export */   invoke: () => (/* reexport safe */ _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.invoke),\n/* harmony export */   invokeAsync: () => (/* reexport safe */ _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__.invokeAsync),\n/* harmony export */   isInIframe: () => (/* binding */ isInIframe),\n/* harmony export */   isInPopup: () => (/* binding */ isInPopup),\n/* harmony export */   preconnect: () => (/* binding */ preconnect),\n/* harmony export */   preflightCheck: () => (/* binding */ preflightCheck),\n/* harmony export */   redirectPreflightCheck: () => (/* binding */ redirectPreflightCheck),\n/* harmony export */   replaceHash: () => (/* binding */ replaceHash)\n/* harmony export */ });\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs\");\n/* harmony import */ var _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @azure/msal-common/browser */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/BrowserAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthError.mjs\");\n/* harmony import */ var _BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BrowserConstants.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserConstants.mjs\");\n/* harmony import */ var _crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../crypto/BrowserCrypto.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/crypto/BrowserCrypto.mjs\");\n/* harmony import */ var _error_BrowserConfigurationAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../error/BrowserConfigurationAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthError.mjs\");\n/* harmony import */ var _error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../error/BrowserAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserAuthErrorCodes.mjs\");\n/* harmony import */ var _error_BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../error/BrowserConfigurationAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-browser/dist/error/BrowserConfigurationAuthErrorCodes.mjs\");\n/*! @azure/msal-browser v3.28.0 2024-12-12 */ \n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Clears hash from window url.\r\n */ function clearHash(contentWindow) {\n    // Office.js sets history.replaceState to null\n    contentWindow.location.hash = \"\";\n    if (typeof contentWindow.history.replaceState === \"function\") {\n        // Full removes \"#\" from url\n        contentWindow.history.replaceState(null, \"\", `${contentWindow.location.origin}${contentWindow.location.pathname}${contentWindow.location.search}`);\n    }\n}\n/**\r\n * Replaces current hash with hash from provided url\r\n */ function replaceHash(url) {\n    const urlParts = url.split(\"#\");\n    urlParts.shift(); // Remove part before the hash\n    window.location.hash = urlParts.length > 0 ? urlParts.join(\"#\") : \"\";\n}\n/**\r\n * Returns boolean of whether the current window is in an iframe or not.\r\n */ function isInIframe() {\n    return window.parent !== window;\n}\n/**\r\n * Returns boolean of whether or not the current window is a popup opened by msal\r\n */ function isInPopup() {\n    return  false && 0;\n}\n// #endregion\n/**\r\n * Returns current window URL as redirect uri\r\n */ function getCurrentUri() {\n    return window.location.href.split(\"?\")[0].split(\"#\")[0];\n}\n/**\r\n * Gets the homepage url for the current window location.\r\n */ function getHomepage() {\n    const currentUrl = new _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.UrlString(window.location.href);\n    const urlComponents = currentUrl.getUrlComponents();\n    return `${urlComponents.Protocol}//${urlComponents.HostNameAndPort}/`;\n}\n/**\r\n * Throws error if we have completed an auth and are\r\n * attempting another auth request inside an iframe.\r\n */ function blockReloadInHiddenIframes() {\n    const isResponseHash = _azure_msal_common_browser__WEBPACK_IMPORTED_MODULE_1__.UrlString.hashContainsKnownProperties(window.location.hash);\n    // return an error if called from the hidden iframe created by the msal js silent calls\n    if (isResponseHash && isInIframe()) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__.blockIframeReload);\n    }\n}\n/**\r\n * Block redirect operations in iframes unless explicitly allowed\r\n * @param interactionType Interaction type for the request\r\n * @param allowRedirectInIframe Config value to allow redirects when app is inside an iframe\r\n */ function blockRedirectInIframe(allowRedirectInIframe) {\n    if (isInIframe() && !allowRedirectInIframe) {\n        // If we are not in top frame, we shouldn't redirect. This is also handled by the service.\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__.redirectInIframe);\n    }\n}\n/**\r\n * Block redirectUri loaded in popup from calling AcquireToken APIs\r\n */ function blockAcquireTokenInPopups() {\n    // Popups opened by msal popup APIs are given a name that starts with \"msal.\"\n    if (isInPopup()) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__.blockNestedPopups);\n    }\n}\n/**\r\n * Throws error if token requests are made in non-browser environment\r\n * @param isBrowserEnvironment Flag indicating if environment is a browser.\r\n */ function blockNonBrowserEnvironment() {\n    if (true) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__.nonBrowserEnvironment);\n    }\n}\n/**\r\n * Throws error if initialize hasn't been called\r\n * @param initialized\r\n */ function blockAPICallsBeforeInitialize(initialized) {\n    if (!initialized) {\n        throw (0,_error_BrowserAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__.createBrowserAuthError)(_error_BrowserAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__.uninitializedPublicClientApplication);\n    }\n}\n/**\r\n * Helper to validate app environment before making an auth request\r\n * @param initialized\r\n */ function preflightCheck(initialized) {\n    // Block request if not in browser environment\n    blockNonBrowserEnvironment();\n    // Block auth requests inside a hidden iframe\n    blockReloadInHiddenIframes();\n    // Block redirectUri opened in a popup from calling MSAL APIs\n    blockAcquireTokenInPopups();\n    // Block token acquisition before initialize has been called\n    blockAPICallsBeforeInitialize(initialized);\n}\n/**\r\n * Helper to validate app enviornment before making redirect request\r\n * @param initialized\r\n * @param config\r\n */ function redirectPreflightCheck(initialized, config) {\n    preflightCheck(initialized);\n    blockRedirectInIframe(config.system.allowRedirectInIframe);\n    // Block redirects if memory storage is enabled but storeAuthStateInCookie is not\n    if (config.cache.cacheLocation === _BrowserConstants_mjs__WEBPACK_IMPORTED_MODULE_4__.BrowserCacheLocation.MemoryStorage && !config.cache.storeAuthStateInCookie) {\n        throw (0,_error_BrowserConfigurationAuthError_mjs__WEBPACK_IMPORTED_MODULE_5__.createBrowserConfigurationAuthError)(_error_BrowserConfigurationAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__.inMemRedirectUnavailable);\n    }\n}\n/**\r\n * Adds a preconnect link element to the header which begins DNS resolution and SSL connection in anticipation of the /token request\r\n * @param loginDomain Authority domain, including https protocol e.g. https://login.microsoftonline.com\r\n * @returns\r\n */ function preconnect(authority) {\n    const link = document.createElement(\"link\");\n    link.rel = \"preconnect\";\n    link.href = new URL(authority).origin;\n    link.crossOrigin = \"anonymous\";\n    document.head.appendChild(link);\n    // The browser will close connection if not used within a few seconds, remove element from the header after 10s\n    window.setTimeout(()=>{\n        try {\n            document.head.removeChild(link);\n        } catch  {}\n    }, 10000); // 10s Timeout\n}\n/**\r\n * Wrapper function that creates a UUID v7 from the current timestamp.\r\n * @returns {string}\r\n */ function createGuid() {\n    return (0,_crypto_BrowserCrypto_mjs__WEBPACK_IMPORTED_MODULE_7__.createNewGuid)();\n}\n //# sourceMappingURL=BrowserUtils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtYnJvd3Nlci9kaXN0L3V0aWxzL0Jyb3dzZXJVdGlscy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUN1RDtBQUNVO0FBQ007QUFDUztBQUNwQjtBQUNxQztBQUN3RTtBQUM5RTtBQUUzRjs7O0NBR0MsR0FDRDs7Q0FFQyxHQUNELFNBQVNjLFVBQVVDLGFBQWE7SUFDNUIsOENBQThDO0lBQzlDQSxjQUFjQyxRQUFRLENBQUNDLElBQUksR0FBRztJQUM5QixJQUFJLE9BQU9GLGNBQWNHLE9BQU8sQ0FBQ0MsWUFBWSxLQUFLLFlBQVk7UUFDMUQsNEJBQTRCO1FBQzVCSixjQUFjRyxPQUFPLENBQUNDLFlBQVksQ0FBQyxNQUFNLElBQUksQ0FBQyxFQUFFSixjQUFjQyxRQUFRLENBQUNJLE1BQU0sQ0FBQyxFQUFFTCxjQUFjQyxRQUFRLENBQUNLLFFBQVEsQ0FBQyxFQUFFTixjQUFjQyxRQUFRLENBQUNNLE1BQU0sQ0FBQyxDQUFDO0lBQ3JKO0FBQ0o7QUFDQTs7Q0FFQyxHQUNELFNBQVNDLFlBQVlDLEdBQUc7SUFDcEIsTUFBTUMsV0FBV0QsSUFBSUUsS0FBSyxDQUFDO0lBQzNCRCxTQUFTRSxLQUFLLElBQUksOEJBQThCO0lBQ2hEQyxPQUFPWixRQUFRLENBQUNDLElBQUksR0FBR1EsU0FBU0ksTUFBTSxHQUFHLElBQUlKLFNBQVNLLElBQUksQ0FBQyxPQUFPO0FBQ3RFO0FBQ0E7O0NBRUMsR0FDRCxTQUFTQztJQUNMLE9BQU9ILE9BQU9JLE1BQU0sS0FBS0o7QUFDN0I7QUFDQTs7Q0FFQyxHQUNELFNBQVNLO0lBQ0wsT0FBUSxNQUcyQixJQUMvQkwsQ0FBbUU7QUFDM0U7QUFDQSxhQUFhO0FBQ2I7O0NBRUMsR0FDRCxTQUFTVTtJQUNMLE9BQU9WLE9BQU9aLFFBQVEsQ0FBQ3VCLElBQUksQ0FBQ2IsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUNBLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtBQUMzRDtBQUNBOztDQUVDLEdBQ0QsU0FBU2M7SUFDTCxNQUFNQyxhQUFhLElBQUl6QyxpRUFBU0EsQ0FBQzRCLE9BQU9aLFFBQVEsQ0FBQ3VCLElBQUk7SUFDckQsTUFBTUcsZ0JBQWdCRCxXQUFXRSxnQkFBZ0I7SUFDakQsT0FBTyxDQUFDLEVBQUVELGNBQWNFLFFBQVEsQ0FBQyxFQUFFLEVBQUVGLGNBQWNHLGVBQWUsQ0FBQyxDQUFDLENBQUM7QUFDekU7QUFDQTs7O0NBR0MsR0FDRCxTQUFTQztJQUNMLE1BQU1DLGlCQUFpQi9DLGlFQUFTQSxDQUFDZ0QsMkJBQTJCLENBQUNwQixPQUFPWixRQUFRLENBQUNDLElBQUk7SUFDakYsdUZBQXVGO0lBQ3ZGLElBQUk4QixrQkFBa0JoQixjQUFjO1FBQ2hDLE1BQU01QixtRkFBc0JBLENBQUNLLCtFQUFpQkE7SUFDbEQ7QUFDSjtBQUNBOzs7O0NBSUMsR0FDRCxTQUFTeUMsc0JBQXNCQyxxQkFBcUI7SUFDaEQsSUFBSW5CLGdCQUFnQixDQUFDbUIsdUJBQXVCO1FBQ3hDLDBGQUEwRjtRQUMxRixNQUFNL0MsbUZBQXNCQSxDQUFDTSw4RUFBZ0JBO0lBQ2pEO0FBQ0o7QUFDQTs7Q0FFQyxHQUNELFNBQVMwQztJQUNMLDZFQUE2RTtJQUM3RSxJQUFJbEIsYUFBYTtRQUNiLE1BQU05QixtRkFBc0JBLENBQUNPLCtFQUFpQkE7SUFDbEQ7QUFDSjtBQUNBOzs7Q0FHQyxHQUNELFNBQVMwQztJQUNMLElBQUksSUFBNkIsRUFBRTtRQUMvQixNQUFNakQsbUZBQXNCQSxDQUFDUSxtRkFBcUJBO0lBQ3REO0FBQ0o7QUFDQTs7O0NBR0MsR0FDRCxTQUFTMEMsOEJBQThCQyxXQUFXO0lBQzlDLElBQUksQ0FBQ0EsYUFBYTtRQUNkLE1BQU1uRCxtRkFBc0JBLENBQUNTLGtHQUFvQ0E7SUFDckU7QUFDSjtBQUNBOzs7Q0FHQyxHQUNELFNBQVMyQyxlQUFlRCxXQUFXO0lBQy9CLDhDQUE4QztJQUM5Q0Y7SUFDQSw2Q0FBNkM7SUFDN0NOO0lBQ0EsNkRBQTZEO0lBQzdESztJQUNBLDREQUE0RDtJQUM1REUsOEJBQThCQztBQUNsQztBQUNBOzs7O0NBSUMsR0FDRCxTQUFTRSx1QkFBdUJGLFdBQVcsRUFBRUcsTUFBTTtJQUMvQ0YsZUFBZUQ7SUFDZkwsc0JBQXNCUSxPQUFPQyxNQUFNLENBQUNSLHFCQUFxQjtJQUN6RCxpRkFBaUY7SUFDakYsSUFBSU8sT0FBT0UsS0FBSyxDQUFDQyxhQUFhLEtBQUt2RCx1RUFBb0JBLENBQUN3RCxhQUFhLElBQ2pFLENBQUNKLE9BQU9FLEtBQUssQ0FBQ0csc0JBQXNCLEVBQUU7UUFDdEMsTUFBTXZELDZHQUFtQ0EsQ0FBQ00sbUdBQXdCQTtJQUN0RTtBQUNKO0FBQ0E7Ozs7Q0FJQyxHQUNELFNBQVNrRCxXQUFXQyxTQUFTO0lBQ3pCLE1BQU1DLE9BQU9DLFNBQVNDLGFBQWEsQ0FBQztJQUNwQ0YsS0FBS0csR0FBRyxHQUFHO0lBQ1hILEtBQUsxQixJQUFJLEdBQUcsSUFBSThCLElBQUlMLFdBQVc1QyxNQUFNO0lBQ3JDNkMsS0FBS0ssV0FBVyxHQUFHO0lBQ25CSixTQUFTSyxJQUFJLENBQUNDLFdBQVcsQ0FBQ1A7SUFDMUIsK0dBQStHO0lBQy9HckMsT0FBTzZDLFVBQVUsQ0FBQztRQUNkLElBQUk7WUFDQVAsU0FBU0ssSUFBSSxDQUFDRyxXQUFXLENBQUNUO1FBQzlCLEVBQ0EsT0FBTSxDQUFFO0lBQ1osR0FBRyxRQUFRLGNBQWM7QUFDN0I7QUFDQTs7O0NBR0MsR0FDRCxTQUFTVTtJQUNMLE9BQU9yRSx3RUFBYUE7QUFDeEI7QUFFOFIsQ0FDOVIseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWJyb3dzZXIvZGlzdC91dGlscy9Ccm93c2VyVXRpbHMubWpzP2NkMjYiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWJyb3dzZXIgdjMuMjguMCAyMDI0LTEyLTEyICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBVcmxTdHJpbmcgfSBmcm9tICdAYXp1cmUvbXNhbC1jb21tb24vYnJvd3Nlcic7XG5leHBvcnQgeyBpbnZva2UsIGludm9rZUFzeW5jIH0gZnJvbSAnQGF6dXJlL21zYWwtY29tbW9uL2Jyb3dzZXInO1xuaW1wb3J0IHsgY3JlYXRlQnJvd3NlckF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IEJyb3dzZXJDb25zdGFudHMsIEJyb3dzZXJDYWNoZUxvY2F0aW9uIH0gZnJvbSAnLi9Ccm93c2VyQ29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVOZXdHdWlkIH0gZnJvbSAnLi4vY3J5cHRvL0Jyb3dzZXJDcnlwdG8ubWpzJztcbmltcG9ydCB7IGNyZWF0ZUJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IGJsb2NrSWZyYW1lUmVsb2FkLCByZWRpcmVjdEluSWZyYW1lLCBibG9ja05lc3RlZFBvcHVwcywgbm9uQnJvd3NlckVudmlyb25tZW50LCB1bmluaXRpYWxpemVkUHVibGljQ2xpZW50QXBwbGljYXRpb24gfSBmcm9tICcuLi9lcnJvci9Ccm93c2VyQXV0aEVycm9yQ29kZXMubWpzJztcbmltcG9ydCB7IGluTWVtUmVkaXJlY3RVbmF2YWlsYWJsZSB9IGZyb20gJy4uL2Vycm9yL0Jyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDbGVhcnMgaGFzaCBmcm9tIHdpbmRvdyB1cmwuXHJcbiAqL1xyXG5mdW5jdGlvbiBjbGVhckhhc2goY29udGVudFdpbmRvdykge1xyXG4gICAgLy8gT2ZmaWNlLmpzIHNldHMgaGlzdG9yeS5yZXBsYWNlU3RhdGUgdG8gbnVsbFxyXG4gICAgY29udGVudFdpbmRvdy5sb2NhdGlvbi5oYXNoID0gXCJcIjtcclxuICAgIGlmICh0eXBlb2YgY29udGVudFdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZSA9PT0gXCJmdW5jdGlvblwiKSB7XHJcbiAgICAgICAgLy8gRnVsbCByZW1vdmVzIFwiI1wiIGZyb20gdXJsXHJcbiAgICAgICAgY29udGVudFdpbmRvdy5oaXN0b3J5LnJlcGxhY2VTdGF0ZShudWxsLCBcIlwiLCBgJHtjb250ZW50V2luZG93LmxvY2F0aW9uLm9yaWdpbn0ke2NvbnRlbnRXaW5kb3cubG9jYXRpb24ucGF0aG5hbWV9JHtjb250ZW50V2luZG93LmxvY2F0aW9uLnNlYXJjaH1gKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUmVwbGFjZXMgY3VycmVudCBoYXNoIHdpdGggaGFzaCBmcm9tIHByb3ZpZGVkIHVybFxyXG4gKi9cclxuZnVuY3Rpb24gcmVwbGFjZUhhc2godXJsKSB7XHJcbiAgICBjb25zdCB1cmxQYXJ0cyA9IHVybC5zcGxpdChcIiNcIik7XHJcbiAgICB1cmxQYXJ0cy5zaGlmdCgpOyAvLyBSZW1vdmUgcGFydCBiZWZvcmUgdGhlIGhhc2hcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5oYXNoID0gdXJsUGFydHMubGVuZ3RoID4gMCA/IHVybFBhcnRzLmpvaW4oXCIjXCIpIDogXCJcIjtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBib29sZWFuIG9mIHdoZXRoZXIgdGhlIGN1cnJlbnQgd2luZG93IGlzIGluIGFuIGlmcmFtZSBvciBub3QuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0luSWZyYW1lKCkge1xyXG4gICAgcmV0dXJuIHdpbmRvdy5wYXJlbnQgIT09IHdpbmRvdztcclxufVxyXG4vKipcclxuICogUmV0dXJucyBib29sZWFuIG9mIHdoZXRoZXIgb3Igbm90IHRoZSBjdXJyZW50IHdpbmRvdyBpcyBhIHBvcHVwIG9wZW5lZCBieSBtc2FsXHJcbiAqL1xyXG5mdW5jdGlvbiBpc0luUG9wdXAoKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiZcclxuICAgICAgICAhIXdpbmRvdy5vcGVuZXIgJiZcclxuICAgICAgICB3aW5kb3cub3BlbmVyICE9PSB3aW5kb3cgJiZcclxuICAgICAgICB0eXBlb2Ygd2luZG93Lm5hbWUgPT09IFwic3RyaW5nXCIgJiZcclxuICAgICAgICB3aW5kb3cubmFtZS5pbmRleE9mKGAke0Jyb3dzZXJDb25zdGFudHMuUE9QVVBfTkFNRV9QUkVGSVh9LmApID09PSAwKTtcclxufVxyXG4vLyAjZW5kcmVnaW9uXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGN1cnJlbnQgd2luZG93IFVSTCBhcyByZWRpcmVjdCB1cmlcclxuICovXHJcbmZ1bmN0aW9uIGdldEN1cnJlbnRVcmkoKSB7XHJcbiAgICByZXR1cm4gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoXCI/XCIpWzBdLnNwbGl0KFwiI1wiKVswXTtcclxufVxyXG4vKipcclxuICogR2V0cyB0aGUgaG9tZXBhZ2UgdXJsIGZvciB0aGUgY3VycmVudCB3aW5kb3cgbG9jYXRpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRIb21lcGFnZSgpIHtcclxuICAgIGNvbnN0IGN1cnJlbnRVcmwgPSBuZXcgVXJsU3RyaW5nKHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcclxuICAgIGNvbnN0IHVybENvbXBvbmVudHMgPSBjdXJyZW50VXJsLmdldFVybENvbXBvbmVudHMoKTtcclxuICAgIHJldHVybiBgJHt1cmxDb21wb25lbnRzLlByb3RvY29sfS8vJHt1cmxDb21wb25lbnRzLkhvc3ROYW1lQW5kUG9ydH0vYDtcclxufVxyXG4vKipcclxuICogVGhyb3dzIGVycm9yIGlmIHdlIGhhdmUgY29tcGxldGVkIGFuIGF1dGggYW5kIGFyZVxyXG4gKiBhdHRlbXB0aW5nIGFub3RoZXIgYXV0aCByZXF1ZXN0IGluc2lkZSBhbiBpZnJhbWUuXHJcbiAqL1xyXG5mdW5jdGlvbiBibG9ja1JlbG9hZEluSGlkZGVuSWZyYW1lcygpIHtcclxuICAgIGNvbnN0IGlzUmVzcG9uc2VIYXNoID0gVXJsU3RyaW5nLmhhc2hDb250YWluc0tub3duUHJvcGVydGllcyh3aW5kb3cubG9jYXRpb24uaGFzaCk7XHJcbiAgICAvLyByZXR1cm4gYW4gZXJyb3IgaWYgY2FsbGVkIGZyb20gdGhlIGhpZGRlbiBpZnJhbWUgY3JlYXRlZCBieSB0aGUgbXNhbCBqcyBzaWxlbnQgY2FsbHNcclxuICAgIGlmIChpc1Jlc3BvbnNlSGFzaCAmJiBpc0luSWZyYW1lKCkpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVCcm93c2VyQXV0aEVycm9yKGJsb2NrSWZyYW1lUmVsb2FkKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQmxvY2sgcmVkaXJlY3Qgb3BlcmF0aW9ucyBpbiBpZnJhbWVzIHVubGVzcyBleHBsaWNpdGx5IGFsbG93ZWRcclxuICogQHBhcmFtIGludGVyYWN0aW9uVHlwZSBJbnRlcmFjdGlvbiB0eXBlIGZvciB0aGUgcmVxdWVzdFxyXG4gKiBAcGFyYW0gYWxsb3dSZWRpcmVjdEluSWZyYW1lIENvbmZpZyB2YWx1ZSB0byBhbGxvdyByZWRpcmVjdHMgd2hlbiBhcHAgaXMgaW5zaWRlIGFuIGlmcmFtZVxyXG4gKi9cclxuZnVuY3Rpb24gYmxvY2tSZWRpcmVjdEluSWZyYW1lKGFsbG93UmVkaXJlY3RJbklmcmFtZSkge1xyXG4gICAgaWYgKGlzSW5JZnJhbWUoKSAmJiAhYWxsb3dSZWRpcmVjdEluSWZyYW1lKSB7XHJcbiAgICAgICAgLy8gSWYgd2UgYXJlIG5vdCBpbiB0b3AgZnJhbWUsIHdlIHNob3VsZG4ndCByZWRpcmVjdC4gVGhpcyBpcyBhbHNvIGhhbmRsZWQgYnkgdGhlIHNlcnZpY2UuXHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihyZWRpcmVjdEluSWZyYW1lKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQmxvY2sgcmVkaXJlY3RVcmkgbG9hZGVkIGluIHBvcHVwIGZyb20gY2FsbGluZyBBY3F1aXJlVG9rZW4gQVBJc1xyXG4gKi9cclxuZnVuY3Rpb24gYmxvY2tBY3F1aXJlVG9rZW5JblBvcHVwcygpIHtcclxuICAgIC8vIFBvcHVwcyBvcGVuZWQgYnkgbXNhbCBwb3B1cCBBUElzIGFyZSBnaXZlbiBhIG5hbWUgdGhhdCBzdGFydHMgd2l0aCBcIm1zYWwuXCJcclxuICAgIGlmIChpc0luUG9wdXAoKSkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IoYmxvY2tOZXN0ZWRQb3B1cHMpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBUaHJvd3MgZXJyb3IgaWYgdG9rZW4gcmVxdWVzdHMgYXJlIG1hZGUgaW4gbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcclxuICogQHBhcmFtIGlzQnJvd3NlckVudmlyb25tZW50IEZsYWcgaW5kaWNhdGluZyBpZiBlbnZpcm9ubWVudCBpcyBhIGJyb3dzZXIuXHJcbiAqL1xyXG5mdW5jdGlvbiBibG9ja05vbkJyb3dzZXJFbnZpcm9ubWVudCgpIHtcclxuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQnJvd3NlckF1dGhFcnJvcihub25Ccm93c2VyRW52aXJvbm1lbnQpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBUaHJvd3MgZXJyb3IgaWYgaW5pdGlhbGl6ZSBoYXNuJ3QgYmVlbiBjYWxsZWRcclxuICogQHBhcmFtIGluaXRpYWxpemVkXHJcbiAqL1xyXG5mdW5jdGlvbiBibG9ja0FQSUNhbGxzQmVmb3JlSW5pdGlhbGl6ZShpbml0aWFsaXplZCkge1xyXG4gICAgaWYgKCFpbml0aWFsaXplZCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IodW5pbml0aWFsaXplZFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogSGVscGVyIHRvIHZhbGlkYXRlIGFwcCBlbnZpcm9ubWVudCBiZWZvcmUgbWFraW5nIGFuIGF1dGggcmVxdWVzdFxyXG4gKiBAcGFyYW0gaW5pdGlhbGl6ZWRcclxuICovXHJcbmZ1bmN0aW9uIHByZWZsaWdodENoZWNrKGluaXRpYWxpemVkKSB7XHJcbiAgICAvLyBCbG9jayByZXF1ZXN0IGlmIG5vdCBpbiBicm93c2VyIGVudmlyb25tZW50XHJcbiAgICBibG9ja05vbkJyb3dzZXJFbnZpcm9ubWVudCgpO1xyXG4gICAgLy8gQmxvY2sgYXV0aCByZXF1ZXN0cyBpbnNpZGUgYSBoaWRkZW4gaWZyYW1lXHJcbiAgICBibG9ja1JlbG9hZEluSGlkZGVuSWZyYW1lcygpO1xyXG4gICAgLy8gQmxvY2sgcmVkaXJlY3RVcmkgb3BlbmVkIGluIGEgcG9wdXAgZnJvbSBjYWxsaW5nIE1TQUwgQVBJc1xyXG4gICAgYmxvY2tBY3F1aXJlVG9rZW5JblBvcHVwcygpO1xyXG4gICAgLy8gQmxvY2sgdG9rZW4gYWNxdWlzaXRpb24gYmVmb3JlIGluaXRpYWxpemUgaGFzIGJlZW4gY2FsbGVkXHJcbiAgICBibG9ja0FQSUNhbGxzQmVmb3JlSW5pdGlhbGl6ZShpbml0aWFsaXplZCk7XHJcbn1cclxuLyoqXHJcbiAqIEhlbHBlciB0byB2YWxpZGF0ZSBhcHAgZW52aW9ybm1lbnQgYmVmb3JlIG1ha2luZyByZWRpcmVjdCByZXF1ZXN0XHJcbiAqIEBwYXJhbSBpbml0aWFsaXplZFxyXG4gKiBAcGFyYW0gY29uZmlnXHJcbiAqL1xyXG5mdW5jdGlvbiByZWRpcmVjdFByZWZsaWdodENoZWNrKGluaXRpYWxpemVkLCBjb25maWcpIHtcclxuICAgIHByZWZsaWdodENoZWNrKGluaXRpYWxpemVkKTtcclxuICAgIGJsb2NrUmVkaXJlY3RJbklmcmFtZShjb25maWcuc3lzdGVtLmFsbG93UmVkaXJlY3RJbklmcmFtZSk7XHJcbiAgICAvLyBCbG9jayByZWRpcmVjdHMgaWYgbWVtb3J5IHN0b3JhZ2UgaXMgZW5hYmxlZCBidXQgc3RvcmVBdXRoU3RhdGVJbkNvb2tpZSBpcyBub3RcclxuICAgIGlmIChjb25maWcuY2FjaGUuY2FjaGVMb2NhdGlvbiA9PT0gQnJvd3NlckNhY2hlTG9jYXRpb24uTWVtb3J5U3RvcmFnZSAmJlxyXG4gICAgICAgICFjb25maWcuY2FjaGUuc3RvcmVBdXRoU3RhdGVJbkNvb2tpZSkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUJyb3dzZXJDb25maWd1cmF0aW9uQXV0aEVycm9yKGluTWVtUmVkaXJlY3RVbmF2YWlsYWJsZSk7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEFkZHMgYSBwcmVjb25uZWN0IGxpbmsgZWxlbWVudCB0byB0aGUgaGVhZGVyIHdoaWNoIGJlZ2lucyBETlMgcmVzb2x1dGlvbiBhbmQgU1NMIGNvbm5lY3Rpb24gaW4gYW50aWNpcGF0aW9uIG9mIHRoZSAvdG9rZW4gcmVxdWVzdFxyXG4gKiBAcGFyYW0gbG9naW5Eb21haW4gQXV0aG9yaXR5IGRvbWFpbiwgaW5jbHVkaW5nIGh0dHBzIHByb3RvY29sIGUuZy4gaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBwcmVjb25uZWN0KGF1dGhvcml0eSkge1xyXG4gICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIpO1xyXG4gICAgbGluay5yZWwgPSBcInByZWNvbm5lY3RcIjtcclxuICAgIGxpbmsuaHJlZiA9IG5ldyBVUkwoYXV0aG9yaXR5KS5vcmlnaW47XHJcbiAgICBsaW5rLmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcclxuICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQobGluayk7XHJcbiAgICAvLyBUaGUgYnJvd3NlciB3aWxsIGNsb3NlIGNvbm5lY3Rpb24gaWYgbm90IHVzZWQgd2l0aGluIGEgZmV3IHNlY29uZHMsIHJlbW92ZSBlbGVtZW50IGZyb20gdGhlIGhlYWRlciBhZnRlciAxMHNcclxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5oZWFkLnJlbW92ZUNoaWxkKGxpbmspO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCB7IH1cclxuICAgIH0sIDEwMDAwKTsgLy8gMTBzIFRpbWVvdXRcclxufVxyXG4vKipcclxuICogV3JhcHBlciBmdW5jdGlvbiB0aGF0IGNyZWF0ZXMgYSBVVUlEIHY3IGZyb20gdGhlIGN1cnJlbnQgdGltZXN0YW1wLlxyXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlR3VpZCgpIHtcclxuICAgIHJldHVybiBjcmVhdGVOZXdHdWlkKCk7XHJcbn1cblxuZXhwb3J0IHsgYmxvY2tBUElDYWxsc0JlZm9yZUluaXRpYWxpemUsIGJsb2NrQWNxdWlyZVRva2VuSW5Qb3B1cHMsIGJsb2NrTm9uQnJvd3NlckVudmlyb25tZW50LCBibG9ja1JlZGlyZWN0SW5JZnJhbWUsIGJsb2NrUmVsb2FkSW5IaWRkZW5JZnJhbWVzLCBjbGVhckhhc2gsIGNyZWF0ZUd1aWQsIGdldEN1cnJlbnRVcmksIGdldEhvbWVwYWdlLCBpc0luSWZyYW1lLCBpc0luUG9wdXAsIHByZWNvbm5lY3QsIHByZWZsaWdodENoZWNrLCByZWRpcmVjdFByZWZsaWdodENoZWNrLCByZXBsYWNlSGFzaCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnJvd3NlclV0aWxzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJVcmxTdHJpbmciLCJpbnZva2UiLCJpbnZva2VBc3luYyIsImNyZWF0ZUJyb3dzZXJBdXRoRXJyb3IiLCJCcm93c2VyQ29uc3RhbnRzIiwiQnJvd3NlckNhY2hlTG9jYXRpb24iLCJjcmVhdGVOZXdHdWlkIiwiY3JlYXRlQnJvd3NlckNvbmZpZ3VyYXRpb25BdXRoRXJyb3IiLCJibG9ja0lmcmFtZVJlbG9hZCIsInJlZGlyZWN0SW5JZnJhbWUiLCJibG9ja05lc3RlZFBvcHVwcyIsIm5vbkJyb3dzZXJFbnZpcm9ubWVudCIsInVuaW5pdGlhbGl6ZWRQdWJsaWNDbGllbnRBcHBsaWNhdGlvbiIsImluTWVtUmVkaXJlY3RVbmF2YWlsYWJsZSIsImNsZWFySGFzaCIsImNvbnRlbnRXaW5kb3ciLCJsb2NhdGlvbiIsImhhc2giLCJoaXN0b3J5IiwicmVwbGFjZVN0YXRlIiwib3JpZ2luIiwicGF0aG5hbWUiLCJzZWFyY2giLCJyZXBsYWNlSGFzaCIsInVybCIsInVybFBhcnRzIiwic3BsaXQiLCJzaGlmdCIsIndpbmRvdyIsImxlbmd0aCIsImpvaW4iLCJpc0luSWZyYW1lIiwicGFyZW50IiwiaXNJblBvcHVwIiwib3BlbmVyIiwibmFtZSIsImluZGV4T2YiLCJQT1BVUF9OQU1FX1BSRUZJWCIsImdldEN1cnJlbnRVcmkiLCJocmVmIiwiZ2V0SG9tZXBhZ2UiLCJjdXJyZW50VXJsIiwidXJsQ29tcG9uZW50cyIsImdldFVybENvbXBvbmVudHMiLCJQcm90b2NvbCIsIkhvc3ROYW1lQW5kUG9ydCIsImJsb2NrUmVsb2FkSW5IaWRkZW5JZnJhbWVzIiwiaXNSZXNwb25zZUhhc2giLCJoYXNoQ29udGFpbnNLbm93blByb3BlcnRpZXMiLCJibG9ja1JlZGlyZWN0SW5JZnJhbWUiLCJhbGxvd1JlZGlyZWN0SW5JZnJhbWUiLCJibG9ja0FjcXVpcmVUb2tlbkluUG9wdXBzIiwiYmxvY2tOb25Ccm93c2VyRW52aXJvbm1lbnQiLCJibG9ja0FQSUNhbGxzQmVmb3JlSW5pdGlhbGl6ZSIsImluaXRpYWxpemVkIiwicHJlZmxpZ2h0Q2hlY2siLCJyZWRpcmVjdFByZWZsaWdodENoZWNrIiwiY29uZmlnIiwic3lzdGVtIiwiY2FjaGUiLCJjYWNoZUxvY2F0aW9uIiwiTWVtb3J5U3RvcmFnZSIsInN0b3JlQXV0aFN0YXRlSW5Db29raWUiLCJwcmVjb25uZWN0IiwiYXV0aG9yaXR5IiwibGluayIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInJlbCIsIlVSTCIsImNyb3NzT3JpZ2luIiwiaGVhZCIsImFwcGVuZENoaWxkIiwic2V0VGltZW91dCIsInJlbW92ZUNoaWxkIiwiY3JlYXRlR3VpZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-browser/dist/utils/BrowserUtils.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/account/AccountInfo.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/account/AccountInfo.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildTenantProfile: () => (/* binding */ buildTenantProfile),\n/* harmony export */   tenantIdMatchesHomeTenant: () => (/* binding */ tenantIdMatchesHomeTenant),\n/* harmony export */   updateAccountTenantProfileData: () => (/* binding */ updateAccountTenantProfileData)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Returns true if tenantId matches the utid portion of homeAccountId\r\n * @param tenantId\r\n * @param homeAccountId\r\n * @returns\r\n */ function tenantIdMatchesHomeTenant(tenantId, homeAccountId) {\n    return !!tenantId && !!homeAccountId && tenantId === homeAccountId.split(\".\")[1];\n}\n/**\r\n * Build tenant profile\r\n * @param homeAccountId - Home account identifier for this account object\r\n * @param localAccountId - Local account identifer for this account object\r\n * @param tenantId - Full tenant or organizational id that this account belongs to\r\n * @param idTokenClaims - Claims from the ID token\r\n * @returns\r\n */ function buildTenantProfile(homeAccountId, localAccountId, tenantId, idTokenClaims) {\n    if (idTokenClaims) {\n        const { oid, sub, tid, name, tfp, acr } = idTokenClaims;\n        /**\r\n         * Since there is no way to determine if the authority is AAD or B2C, we exhaust all the possible claims that can serve as tenant ID with the following precedence:\r\n         * tid - TenantID claim that identifies the tenant that issued the token in AAD. Expected in all AAD ID tokens, not present in B2C ID Tokens.\r\n         * tfp - Trust Framework Policy claim that identifies the policy that was used to authenticate the user. Functions as tenant for B2C scenarios.\r\n         * acr - Authentication Context Class Reference claim used only with older B2C policies. Fallback in case tfp is not present, but likely won't be present anyway.\r\n         */ const tenantId = tid || tfp || acr || \"\";\n        return {\n            tenantId: tenantId,\n            localAccountId: oid || sub || \"\",\n            name: name,\n            isHomeTenant: tenantIdMatchesHomeTenant(tenantId, homeAccountId)\n        };\n    } else {\n        return {\n            tenantId,\n            localAccountId,\n            isHomeTenant: tenantIdMatchesHomeTenant(tenantId, homeAccountId)\n        };\n    }\n}\n/**\r\n * Replaces account info that varies by tenant profile sourced from the ID token claims passed in with the tenant-specific account info\r\n * @param baseAccountInfo\r\n * @param idTokenClaims\r\n * @returns\r\n */ function updateAccountTenantProfileData(baseAccountInfo, tenantProfile, idTokenClaims, idTokenSecret) {\n    let updatedAccountInfo = baseAccountInfo;\n    // Tenant Profile overrides passed in account info\n    if (tenantProfile) {\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { isHomeTenant, ...tenantProfileOverride } = tenantProfile;\n        updatedAccountInfo = {\n            ...baseAccountInfo,\n            ...tenantProfileOverride\n        };\n    }\n    // ID token claims override passed in account info and tenant profile\n    if (idTokenClaims) {\n        // Ignore isHomeTenant, loginHint, and sid which are part of tenant profile but not base account info\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        const { isHomeTenant, ...claimsSourcedTenantProfile } = buildTenantProfile(baseAccountInfo.homeAccountId, baseAccountInfo.localAccountId, baseAccountInfo.tenantId, idTokenClaims);\n        updatedAccountInfo = {\n            ...updatedAccountInfo,\n            ...claimsSourcedTenantProfile,\n            idTokenClaims: idTokenClaims,\n            idToken: idTokenSecret\n        };\n        return updatedAccountInfo;\n    }\n    return updatedAccountInfo;\n}\n //# sourceMappingURL=AccountInfo.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYWNjb3VudC9BY2NvdW50SW5mby5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0Q7Ozs7O0NBS0MsR0FDRCxTQUFTQSwwQkFBMEJDLFFBQVEsRUFBRUMsYUFBYTtJQUN0RCxPQUFRLENBQUMsQ0FBQ0QsWUFDTixDQUFDLENBQUNDLGlCQUNGRCxhQUFhQyxjQUFjQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7QUFDaEQ7QUFDQTs7Ozs7OztDQU9DLEdBQ0QsU0FBU0MsbUJBQW1CRixhQUFhLEVBQUVHLGNBQWMsRUFBRUosUUFBUSxFQUFFSyxhQUFhO0lBQzlFLElBQUlBLGVBQWU7UUFDZixNQUFNLEVBQUVDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksRUFBRUMsR0FBRyxFQUFFQyxHQUFHLEVBQUUsR0FBR047UUFDMUM7Ozs7O1NBS0MsR0FDRCxNQUFNTCxXQUFXUSxPQUFPRSxPQUFPQyxPQUFPO1FBQ3RDLE9BQU87WUFDSFgsVUFBVUE7WUFDVkksZ0JBQWdCRSxPQUFPQyxPQUFPO1lBQzlCRSxNQUFNQTtZQUNORyxjQUFjYiwwQkFBMEJDLFVBQVVDO1FBQ3REO0lBQ0osT0FDSztRQUNELE9BQU87WUFDSEQ7WUFDQUk7WUFDQVEsY0FBY2IsMEJBQTBCQyxVQUFVQztRQUN0RDtJQUNKO0FBQ0o7QUFDQTs7Ozs7Q0FLQyxHQUNELFNBQVNZLCtCQUErQkMsZUFBZSxFQUFFQyxhQUFhLEVBQUVWLGFBQWEsRUFBRVcsYUFBYTtJQUNoRyxJQUFJQyxxQkFBcUJIO0lBQ3pCLGtEQUFrRDtJQUNsRCxJQUFJQyxlQUFlO1FBQ2YsNkRBQTZEO1FBQzdELE1BQU0sRUFBRUgsWUFBWSxFQUFFLEdBQUdNLHVCQUF1QixHQUFHSDtRQUNuREUscUJBQXFCO1lBQUUsR0FBR0gsZUFBZTtZQUFFLEdBQUdJLHFCQUFxQjtRQUFDO0lBQ3hFO0lBQ0EscUVBQXFFO0lBQ3JFLElBQUliLGVBQWU7UUFDZixxR0FBcUc7UUFDckcsNkRBQTZEO1FBQzdELE1BQU0sRUFBRU8sWUFBWSxFQUFFLEdBQUdPLDRCQUE0QixHQUFHaEIsbUJBQW1CVyxnQkFBZ0JiLGFBQWEsRUFBRWEsZ0JBQWdCVixjQUFjLEVBQUVVLGdCQUFnQmQsUUFBUSxFQUFFSztRQUNwS1kscUJBQXFCO1lBQ2pCLEdBQUdBLGtCQUFrQjtZQUNyQixHQUFHRSwwQkFBMEI7WUFDN0JkLGVBQWVBO1lBQ2ZlLFNBQVNKO1FBQ2I7UUFDQSxPQUFPQztJQUNYO0lBQ0EsT0FBT0E7QUFDWDtBQUV5RixDQUN6Rix3Q0FBd0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYWNjb3VudC9BY2NvdW50SW5mby5tanM/YWRmNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyB0cnVlIGlmIHRlbmFudElkIG1hdGNoZXMgdGhlIHV0aWQgcG9ydGlvbiBvZiBob21lQWNjb3VudElkXHJcbiAqIEBwYXJhbSB0ZW5hbnRJZFxyXG4gKiBAcGFyYW0gaG9tZUFjY291bnRJZFxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZnVuY3Rpb24gdGVuYW50SWRNYXRjaGVzSG9tZVRlbmFudCh0ZW5hbnRJZCwgaG9tZUFjY291bnRJZCkge1xyXG4gICAgcmV0dXJuICghIXRlbmFudElkICYmXHJcbiAgICAgICAgISFob21lQWNjb3VudElkICYmXHJcbiAgICAgICAgdGVuYW50SWQgPT09IGhvbWVBY2NvdW50SWQuc3BsaXQoXCIuXCIpWzFdKTtcclxufVxyXG4vKipcclxuICogQnVpbGQgdGVuYW50IHByb2ZpbGVcclxuICogQHBhcmFtIGhvbWVBY2NvdW50SWQgLSBIb21lIGFjY291bnQgaWRlbnRpZmllciBmb3IgdGhpcyBhY2NvdW50IG9iamVjdFxyXG4gKiBAcGFyYW0gbG9jYWxBY2NvdW50SWQgLSBMb2NhbCBhY2NvdW50IGlkZW50aWZlciBmb3IgdGhpcyBhY2NvdW50IG9iamVjdFxyXG4gKiBAcGFyYW0gdGVuYW50SWQgLSBGdWxsIHRlbmFudCBvciBvcmdhbml6YXRpb25hbCBpZCB0aGF0IHRoaXMgYWNjb3VudCBiZWxvbmdzIHRvXHJcbiAqIEBwYXJhbSBpZFRva2VuQ2xhaW1zIC0gQ2xhaW1zIGZyb20gdGhlIElEIHRva2VuXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBidWlsZFRlbmFudFByb2ZpbGUoaG9tZUFjY291bnRJZCwgbG9jYWxBY2NvdW50SWQsIHRlbmFudElkLCBpZFRva2VuQ2xhaW1zKSB7XHJcbiAgICBpZiAoaWRUb2tlbkNsYWltcykge1xyXG4gICAgICAgIGNvbnN0IHsgb2lkLCBzdWIsIHRpZCwgbmFtZSwgdGZwLCBhY3IgfSA9IGlkVG9rZW5DbGFpbXM7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2luY2UgdGhlcmUgaXMgbm8gd2F5IHRvIGRldGVybWluZSBpZiB0aGUgYXV0aG9yaXR5IGlzIEFBRCBvciBCMkMsIHdlIGV4aGF1c3QgYWxsIHRoZSBwb3NzaWJsZSBjbGFpbXMgdGhhdCBjYW4gc2VydmUgYXMgdGVuYW50IElEIHdpdGggdGhlIGZvbGxvd2luZyBwcmVjZWRlbmNlOlxyXG4gICAgICAgICAqIHRpZCAtIFRlbmFudElEIGNsYWltIHRoYXQgaWRlbnRpZmllcyB0aGUgdGVuYW50IHRoYXQgaXNzdWVkIHRoZSB0b2tlbiBpbiBBQUQuIEV4cGVjdGVkIGluIGFsbCBBQUQgSUQgdG9rZW5zLCBub3QgcHJlc2VudCBpbiBCMkMgSUQgVG9rZW5zLlxyXG4gICAgICAgICAqIHRmcCAtIFRydXN0IEZyYW1ld29yayBQb2xpY3kgY2xhaW0gdGhhdCBpZGVudGlmaWVzIHRoZSBwb2xpY3kgdGhhdCB3YXMgdXNlZCB0byBhdXRoZW50aWNhdGUgdGhlIHVzZXIuIEZ1bmN0aW9ucyBhcyB0ZW5hbnQgZm9yIEIyQyBzY2VuYXJpb3MuXHJcbiAgICAgICAgICogYWNyIC0gQXV0aGVudGljYXRpb24gQ29udGV4dCBDbGFzcyBSZWZlcmVuY2UgY2xhaW0gdXNlZCBvbmx5IHdpdGggb2xkZXIgQjJDIHBvbGljaWVzLiBGYWxsYmFjayBpbiBjYXNlIHRmcCBpcyBub3QgcHJlc2VudCwgYnV0IGxpa2VseSB3b24ndCBiZSBwcmVzZW50IGFueXdheS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdCB0ZW5hbnRJZCA9IHRpZCB8fCB0ZnAgfHwgYWNyIHx8IFwiXCI7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgdGVuYW50SWQ6IHRlbmFudElkLFxyXG4gICAgICAgICAgICBsb2NhbEFjY291bnRJZDogb2lkIHx8IHN1YiB8fCBcIlwiLFxyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICBpc0hvbWVUZW5hbnQ6IHRlbmFudElkTWF0Y2hlc0hvbWVUZW5hbnQodGVuYW50SWQsIGhvbWVBY2NvdW50SWQpLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0ZW5hbnRJZCxcclxuICAgICAgICAgICAgbG9jYWxBY2NvdW50SWQsXHJcbiAgICAgICAgICAgIGlzSG9tZVRlbmFudDogdGVuYW50SWRNYXRjaGVzSG9tZVRlbmFudCh0ZW5hbnRJZCwgaG9tZUFjY291bnRJZCksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogUmVwbGFjZXMgYWNjb3VudCBpbmZvIHRoYXQgdmFyaWVzIGJ5IHRlbmFudCBwcm9maWxlIHNvdXJjZWQgZnJvbSB0aGUgSUQgdG9rZW4gY2xhaW1zIHBhc3NlZCBpbiB3aXRoIHRoZSB0ZW5hbnQtc3BlY2lmaWMgYWNjb3VudCBpbmZvXHJcbiAqIEBwYXJhbSBiYXNlQWNjb3VudEluZm9cclxuICogQHBhcmFtIGlkVG9rZW5DbGFpbXNcclxuICogQHJldHVybnNcclxuICovXHJcbmZ1bmN0aW9uIHVwZGF0ZUFjY291bnRUZW5hbnRQcm9maWxlRGF0YShiYXNlQWNjb3VudEluZm8sIHRlbmFudFByb2ZpbGUsIGlkVG9rZW5DbGFpbXMsIGlkVG9rZW5TZWNyZXQpIHtcclxuICAgIGxldCB1cGRhdGVkQWNjb3VudEluZm8gPSBiYXNlQWNjb3VudEluZm87XHJcbiAgICAvLyBUZW5hbnQgUHJvZmlsZSBvdmVycmlkZXMgcGFzc2VkIGluIGFjY291bnQgaW5mb1xyXG4gICAgaWYgKHRlbmFudFByb2ZpbGUpIHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgICAgICAgY29uc3QgeyBpc0hvbWVUZW5hbnQsIC4uLnRlbmFudFByb2ZpbGVPdmVycmlkZSB9ID0gdGVuYW50UHJvZmlsZTtcclxuICAgICAgICB1cGRhdGVkQWNjb3VudEluZm8gPSB7IC4uLmJhc2VBY2NvdW50SW5mbywgLi4udGVuYW50UHJvZmlsZU92ZXJyaWRlIH07XHJcbiAgICB9XHJcbiAgICAvLyBJRCB0b2tlbiBjbGFpbXMgb3ZlcnJpZGUgcGFzc2VkIGluIGFjY291bnQgaW5mbyBhbmQgdGVuYW50IHByb2ZpbGVcclxuICAgIGlmIChpZFRva2VuQ2xhaW1zKSB7XHJcbiAgICAgICAgLy8gSWdub3JlIGlzSG9tZVRlbmFudCwgbG9naW5IaW50LCBhbmQgc2lkIHdoaWNoIGFyZSBwYXJ0IG9mIHRlbmFudCBwcm9maWxlIGJ1dCBub3QgYmFzZSBhY2NvdW50IGluZm9cclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXHJcbiAgICAgICAgY29uc3QgeyBpc0hvbWVUZW5hbnQsIC4uLmNsYWltc1NvdXJjZWRUZW5hbnRQcm9maWxlIH0gPSBidWlsZFRlbmFudFByb2ZpbGUoYmFzZUFjY291bnRJbmZvLmhvbWVBY2NvdW50SWQsIGJhc2VBY2NvdW50SW5mby5sb2NhbEFjY291bnRJZCwgYmFzZUFjY291bnRJbmZvLnRlbmFudElkLCBpZFRva2VuQ2xhaW1zKTtcclxuICAgICAgICB1cGRhdGVkQWNjb3VudEluZm8gPSB7XHJcbiAgICAgICAgICAgIC4uLnVwZGF0ZWRBY2NvdW50SW5mbyxcclxuICAgICAgICAgICAgLi4uY2xhaW1zU291cmNlZFRlbmFudFByb2ZpbGUsXHJcbiAgICAgICAgICAgIGlkVG9rZW5DbGFpbXM6IGlkVG9rZW5DbGFpbXMsXHJcbiAgICAgICAgICAgIGlkVG9rZW46IGlkVG9rZW5TZWNyZXQsXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdXBkYXRlZEFjY291bnRJbmZvO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHVwZGF0ZWRBY2NvdW50SW5mbztcclxufVxuXG5leHBvcnQgeyBidWlsZFRlbmFudFByb2ZpbGUsIHRlbmFudElkTWF0Y2hlc0hvbWVUZW5hbnQsIHVwZGF0ZUFjY291bnRUZW5hbnRQcm9maWxlRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWNjb3VudEluZm8ubWpzLm1hcFxuIl0sIm5hbWVzIjpbInRlbmFudElkTWF0Y2hlc0hvbWVUZW5hbnQiLCJ0ZW5hbnRJZCIsImhvbWVBY2NvdW50SWQiLCJzcGxpdCIsImJ1aWxkVGVuYW50UHJvZmlsZSIsImxvY2FsQWNjb3VudElkIiwiaWRUb2tlbkNsYWltcyIsIm9pZCIsInN1YiIsInRpZCIsIm5hbWUiLCJ0ZnAiLCJhY3IiLCJpc0hvbWVUZW5hbnQiLCJ1cGRhdGVBY2NvdW50VGVuYW50UHJvZmlsZURhdGEiLCJiYXNlQWNjb3VudEluZm8iLCJ0ZW5hbnRQcm9maWxlIiwiaWRUb2tlblNlY3JldCIsInVwZGF0ZWRBY2NvdW50SW5mbyIsInRlbmFudFByb2ZpbGVPdmVycmlkZSIsImNsYWltc1NvdXJjZWRUZW5hbnRQcm9maWxlIiwiaWRUb2tlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/account/AccountInfo.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/account/AuthToken.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/account/AuthToken.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   checkMaxAge: () => (/* binding */ checkMaxAge),\n/* harmony export */   extractTokenClaims: () => (/* binding */ extractTokenClaims),\n/* harmony export */   getJWSPayload: () => (/* binding */ getJWSPayload)\n/* harmony export */ });\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Extract token by decoding the rawToken\r\n *\r\n * @param encodedToken\r\n */ function extractTokenClaims(encodedToken, base64Decode) {\n    const jswPayload = getJWSPayload(encodedToken);\n    // token will be decoded to get the username\n    try {\n        // base64Decode() should throw an error if there is an issue\n        const base64Decoded = base64Decode(jswPayload);\n        return JSON.parse(base64Decoded);\n    } catch (err) {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.tokenParsingError);\n    }\n}\n/**\r\n * decode a JWT\r\n *\r\n * @param authToken\r\n */ function getJWSPayload(authToken) {\n    if (!authToken) {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.nullOrEmptyToken);\n    }\n    const tokenPartsRegex = /^([^\\.\\s]*)\\.([^\\.\\s]+)\\.([^\\.\\s]*)$/;\n    const matches = tokenPartsRegex.exec(authToken);\n    if (!matches || matches.length < 4) {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.tokenParsingError);\n    }\n    /**\r\n     * const crackedToken = {\r\n     *  header: matches[1],\r\n     *  JWSPayload: matches[2],\r\n     *  JWSSig: matches[3],\r\n     * };\r\n     */ return matches[2];\n}\n/**\r\n * Determine if the token's max_age has transpired\r\n */ function checkMaxAge(authTime, maxAge) {\n    /*\r\n     * per https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest\r\n     * To force an immediate re-authentication: If an app requires that a user re-authenticate prior to access,\r\n     * provide a value of 0 for the max_age parameter and the AS will force a fresh login.\r\n     */ const fiveMinuteSkew = 300000; // five minutes in milliseconds\n    if (maxAge === 0 || Date.now() - fiveMinuteSkew > authTime + maxAge) {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.maxAgeTranspired);\n    }\n}\n //# sourceMappingURL=AuthToken.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYWNjb3VudC9BdXRoVG9rZW4ubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ3FFO0FBQ3FDO0FBRTFHOzs7Q0FHQyxHQUNEOzs7O0NBSUMsR0FDRCxTQUFTSSxtQkFBbUJDLFlBQVksRUFBRUMsWUFBWTtJQUNsRCxNQUFNQyxhQUFhQyxjQUFjSDtJQUNqQyw0Q0FBNEM7SUFDNUMsSUFBSTtRQUNBLDREQUE0RDtRQUM1RCxNQUFNSSxnQkFBZ0JILGFBQWFDO1FBQ25DLE9BQU9HLEtBQUtDLEtBQUssQ0FBQ0Y7SUFDdEIsRUFDQSxPQUFPRyxLQUFLO1FBQ1IsTUFBTVosaUZBQXFCQSxDQUFDQyw4RUFBaUJBO0lBQ2pEO0FBQ0o7QUFDQTs7OztDQUlDLEdBQ0QsU0FBU08sY0FBY0ssU0FBUztJQUM1QixJQUFJLENBQUNBLFdBQVc7UUFDWixNQUFNYixpRkFBcUJBLENBQUNFLDZFQUFnQkE7SUFDaEQ7SUFDQSxNQUFNWSxrQkFBa0I7SUFDeEIsTUFBTUMsVUFBVUQsZ0JBQWdCRSxJQUFJLENBQUNIO0lBQ3JDLElBQUksQ0FBQ0UsV0FBV0EsUUFBUUUsTUFBTSxHQUFHLEdBQUc7UUFDaEMsTUFBTWpCLGlGQUFxQkEsQ0FBQ0MsOEVBQWlCQTtJQUNqRDtJQUNBOzs7Ozs7S0FNQyxHQUNELE9BQU9jLE9BQU8sQ0FBQyxFQUFFO0FBQ3JCO0FBQ0E7O0NBRUMsR0FDRCxTQUFTRyxZQUFZQyxRQUFRLEVBQUVDLE1BQU07SUFDakM7Ozs7S0FJQyxHQUNELE1BQU1DLGlCQUFpQixRQUFRLCtCQUErQjtJQUM5RCxJQUFJRCxXQUFXLEtBQUtFLEtBQUtDLEdBQUcsS0FBS0YsaUJBQWlCRixXQUFXQyxRQUFRO1FBQ2pFLE1BQU1wQixpRkFBcUJBLENBQUNHLDZFQUFnQkE7SUFDaEQ7QUFDSjtBQUUwRCxDQUMxRCxzQ0FBc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYWNjb3VudC9BdXRoVG9rZW4ubWpzPzdhZDAiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IHRva2VuUGFyc2luZ0Vycm9yLCBudWxsT3JFbXB0eVRva2VuLCBtYXhBZ2VUcmFuc3BpcmVkIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBFeHRyYWN0IHRva2VuIGJ5IGRlY29kaW5nIHRoZSByYXdUb2tlblxyXG4gKlxyXG4gKiBAcGFyYW0gZW5jb2RlZFRva2VuXHJcbiAqL1xyXG5mdW5jdGlvbiBleHRyYWN0VG9rZW5DbGFpbXMoZW5jb2RlZFRva2VuLCBiYXNlNjREZWNvZGUpIHtcclxuICAgIGNvbnN0IGpzd1BheWxvYWQgPSBnZXRKV1NQYXlsb2FkKGVuY29kZWRUb2tlbik7XHJcbiAgICAvLyB0b2tlbiB3aWxsIGJlIGRlY29kZWQgdG8gZ2V0IHRoZSB1c2VybmFtZVxyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBiYXNlNjREZWNvZGUoKSBzaG91bGQgdGhyb3cgYW4gZXJyb3IgaWYgdGhlcmUgaXMgYW4gaXNzdWVcclxuICAgICAgICBjb25zdCBiYXNlNjREZWNvZGVkID0gYmFzZTY0RGVjb2RlKGpzd1BheWxvYWQpO1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGJhc2U2NERlY29kZWQpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcih0b2tlblBhcnNpbmdFcnJvcik7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIGRlY29kZSBhIEpXVFxyXG4gKlxyXG4gKiBAcGFyYW0gYXV0aFRva2VuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRKV1NQYXlsb2FkKGF1dGhUb2tlbikge1xyXG4gICAgaWYgKCFhdXRoVG9rZW4pIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobnVsbE9yRW1wdHlUb2tlbik7XHJcbiAgICB9XHJcbiAgICBjb25zdCB0b2tlblBhcnRzUmVnZXggPSAvXihbXlxcLlxcc10qKVxcLihbXlxcLlxcc10rKVxcLihbXlxcLlxcc10qKSQvO1xyXG4gICAgY29uc3QgbWF0Y2hlcyA9IHRva2VuUGFydHNSZWdleC5leGVjKGF1dGhUb2tlbik7XHJcbiAgICBpZiAoIW1hdGNoZXMgfHwgbWF0Y2hlcy5sZW5ndGggPCA0KSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKHRva2VuUGFyc2luZ0Vycm9yKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogY29uc3QgY3JhY2tlZFRva2VuID0ge1xyXG4gICAgICogIGhlYWRlcjogbWF0Y2hlc1sxXSxcclxuICAgICAqICBKV1NQYXlsb2FkOiBtYXRjaGVzWzJdLFxyXG4gICAgICogIEpXU1NpZzogbWF0Y2hlc1szXSxcclxuICAgICAqIH07XHJcbiAgICAgKi9cclxuICAgIHJldHVybiBtYXRjaGVzWzJdO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlcm1pbmUgaWYgdGhlIHRva2VuJ3MgbWF4X2FnZSBoYXMgdHJhbnNwaXJlZFxyXG4gKi9cclxuZnVuY3Rpb24gY2hlY2tNYXhBZ2UoYXV0aFRpbWUsIG1heEFnZSkge1xyXG4gICAgLypcclxuICAgICAqIHBlciBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNBdXRoUmVxdWVzdFxyXG4gICAgICogVG8gZm9yY2UgYW4gaW1tZWRpYXRlIHJlLWF1dGhlbnRpY2F0aW9uOiBJZiBhbiBhcHAgcmVxdWlyZXMgdGhhdCBhIHVzZXIgcmUtYXV0aGVudGljYXRlIHByaW9yIHRvIGFjY2VzcyxcclxuICAgICAqIHByb3ZpZGUgYSB2YWx1ZSBvZiAwIGZvciB0aGUgbWF4X2FnZSBwYXJhbWV0ZXIgYW5kIHRoZSBBUyB3aWxsIGZvcmNlIGEgZnJlc2ggbG9naW4uXHJcbiAgICAgKi9cclxuICAgIGNvbnN0IGZpdmVNaW51dGVTa2V3ID0gMzAwMDAwOyAvLyBmaXZlIG1pbnV0ZXMgaW4gbWlsbGlzZWNvbmRzXHJcbiAgICBpZiAobWF4QWdlID09PSAwIHx8IERhdGUubm93KCkgLSBmaXZlTWludXRlU2tldyA+IGF1dGhUaW1lICsgbWF4QWdlKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKG1heEFnZVRyYW5zcGlyZWQpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IGNoZWNrTWF4QWdlLCBleHRyYWN0VG9rZW5DbGFpbXMsIGdldEpXU1BheWxvYWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF1dGhUb2tlbi5tanMubWFwXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50QXV0aEVycm9yIiwidG9rZW5QYXJzaW5nRXJyb3IiLCJudWxsT3JFbXB0eVRva2VuIiwibWF4QWdlVHJhbnNwaXJlZCIsImV4dHJhY3RUb2tlbkNsYWltcyIsImVuY29kZWRUb2tlbiIsImJhc2U2NERlY29kZSIsImpzd1BheWxvYWQiLCJnZXRKV1NQYXlsb2FkIiwiYmFzZTY0RGVjb2RlZCIsIkpTT04iLCJwYXJzZSIsImVyciIsImF1dGhUb2tlbiIsInRva2VuUGFydHNSZWdleCIsIm1hdGNoZXMiLCJleGVjIiwibGVuZ3RoIiwiY2hlY2tNYXhBZ2UiLCJhdXRoVGltZSIsIm1heEFnZSIsImZpdmVNaW51dGVTa2V3IiwiRGF0ZSIsIm5vdyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/account/AuthToken.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/account/CcsCredential.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/account/CcsCredential.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CcsCredentialType: () => (/* binding */ CcsCredentialType)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const CcsCredentialType = {\n    HOME_ACCOUNT_ID: \"home_account_id\",\n    UPN: \"UPN\"\n};\n //# sourceMappingURL=CcsCredential.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYWNjb3VudC9DY3NDcmVkZW50aWFsLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0QsTUFBTUEsb0JBQW9CO0lBQ3RCQyxpQkFBaUI7SUFDakJDLEtBQUs7QUFDVDtBQUU2QixDQUM3QiwwQ0FBMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYWNjb3VudC9DY3NDcmVkZW50aWFsLm1qcz80NzU0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IENjc0NyZWRlbnRpYWxUeXBlID0ge1xyXG4gICAgSE9NRV9BQ0NPVU5UX0lEOiBcImhvbWVfYWNjb3VudF9pZFwiLFxyXG4gICAgVVBOOiBcIlVQTlwiLFxyXG59O1xuXG5leHBvcnQgeyBDY3NDcmVkZW50aWFsVHlwZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2NzQ3JlZGVudGlhbC5tanMubWFwXG4iXSwibmFtZXMiOlsiQ2NzQ3JlZGVudGlhbFR5cGUiLCJIT01FX0FDQ09VTlRfSUQiLCJVUE4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/account/CcsCredential.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/account/ClientInfo.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/account/ClientInfo.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildClientInfo: () => (/* binding */ buildClientInfo),\n/* harmony export */   buildClientInfoFromHomeAccountId: () => (/* binding */ buildClientInfoFromHomeAccountId)\n/* harmony export */ });\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Function to build a client info object from server clientInfo string\r\n * @param rawClientInfo\r\n * @param crypto\r\n */ function buildClientInfo(rawClientInfo, base64Decode) {\n    if (!rawClientInfo) {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.clientInfoEmptyError);\n    }\n    try {\n        const decodedClientInfo = base64Decode(rawClientInfo);\n        return JSON.parse(decodedClientInfo);\n    } catch (e) {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.clientInfoDecodingError);\n    }\n}\n/**\r\n * Function to build a client info object from cached homeAccountId string\r\n * @param homeAccountId\r\n */ function buildClientInfoFromHomeAccountId(homeAccountId) {\n    if (!homeAccountId) {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.clientInfoDecodingError);\n    }\n    const clientInfoParts = homeAccountId.split(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.Separators.CLIENT_INFO_SEPARATOR, 2);\n    return {\n        uid: clientInfoParts[0],\n        utid: clientInfoParts.length < 2 ? _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.Constants.EMPTY_STRING : clientInfoParts[1]\n    };\n}\n //# sourceMappingURL=ClientInfo.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYWNjb3VudC9DbGllbnRJbmZvLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNxRTtBQUNOO0FBQ21DO0FBRWxHOzs7Q0FHQyxHQUNEOzs7O0NBSUMsR0FDRCxTQUFTSyxnQkFBZ0JDLGFBQWEsRUFBRUMsWUFBWTtJQUNoRCxJQUFJLENBQUNELGVBQWU7UUFDaEIsTUFBTU4saUZBQXFCQSxDQUFDRyxpRkFBb0JBO0lBQ3BEO0lBQ0EsSUFBSTtRQUNBLE1BQU1LLG9CQUFvQkQsYUFBYUQ7UUFDdkMsT0FBT0csS0FBS0MsS0FBSyxDQUFDRjtJQUN0QixFQUNBLE9BQU9HLEdBQUc7UUFDTixNQUFNWCxpRkFBcUJBLENBQUNJLG9GQUF1QkE7SUFDdkQ7QUFDSjtBQUNBOzs7Q0FHQyxHQUNELFNBQVNRLGlDQUFpQ0MsYUFBYTtJQUNuRCxJQUFJLENBQUNBLGVBQWU7UUFDaEIsTUFBTWIsaUZBQXFCQSxDQUFDSSxvRkFBdUJBO0lBQ3ZEO0lBQ0EsTUFBTVUsa0JBQWtCRCxjQUFjRSxLQUFLLENBQUNkLDREQUFVQSxDQUFDZSxxQkFBcUIsRUFBRTtJQUM5RSxPQUFPO1FBQ0hDLEtBQUtILGVBQWUsQ0FBQyxFQUFFO1FBQ3ZCSSxNQUFNSixnQkFBZ0JLLE1BQU0sR0FBRyxJQUN6QmpCLDJEQUFTQSxDQUFDa0IsWUFBWSxHQUN0Qk4sZUFBZSxDQUFDLEVBQUU7SUFDNUI7QUFDSjtBQUU2RCxDQUM3RCx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYWNjb3VudC9DbGllbnRJbmZvLm1qcz8zZjUzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBTZXBhcmF0b3JzLCBDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMubWpzJztcbmltcG9ydCB7IGNsaWVudEluZm9FbXB0eUVycm9yLCBjbGllbnRJbmZvRGVjb2RpbmdFcnJvciB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRnVuY3Rpb24gdG8gYnVpbGQgYSBjbGllbnQgaW5mbyBvYmplY3QgZnJvbSBzZXJ2ZXIgY2xpZW50SW5mbyBzdHJpbmdcclxuICogQHBhcmFtIHJhd0NsaWVudEluZm9cclxuICogQHBhcmFtIGNyeXB0b1xyXG4gKi9cclxuZnVuY3Rpb24gYnVpbGRDbGllbnRJbmZvKHJhd0NsaWVudEluZm8sIGJhc2U2NERlY29kZSkge1xyXG4gICAgaWYgKCFyYXdDbGllbnRJbmZvKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKGNsaWVudEluZm9FbXB0eUVycm9yKTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZGVjb2RlZENsaWVudEluZm8gPSBiYXNlNjREZWNvZGUocmF3Q2xpZW50SW5mbyk7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGVjb2RlZENsaWVudEluZm8pO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IoY2xpZW50SW5mb0RlY29kaW5nRXJyb3IpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBGdW5jdGlvbiB0byBidWlsZCBhIGNsaWVudCBpbmZvIG9iamVjdCBmcm9tIGNhY2hlZCBob21lQWNjb3VudElkIHN0cmluZ1xyXG4gKiBAcGFyYW0gaG9tZUFjY291bnRJZFxyXG4gKi9cclxuZnVuY3Rpb24gYnVpbGRDbGllbnRJbmZvRnJvbUhvbWVBY2NvdW50SWQoaG9tZUFjY291bnRJZCkge1xyXG4gICAgaWYgKCFob21lQWNjb3VudElkKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKGNsaWVudEluZm9EZWNvZGluZ0Vycm9yKTtcclxuICAgIH1cclxuICAgIGNvbnN0IGNsaWVudEluZm9QYXJ0cyA9IGhvbWVBY2NvdW50SWQuc3BsaXQoU2VwYXJhdG9ycy5DTElFTlRfSU5GT19TRVBBUkFUT1IsIDIpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICB1aWQ6IGNsaWVudEluZm9QYXJ0c1swXSxcclxuICAgICAgICB1dGlkOiBjbGllbnRJbmZvUGFydHMubGVuZ3RoIDwgMlxyXG4gICAgICAgICAgICA/IENvbnN0YW50cy5FTVBUWV9TVFJJTkdcclxuICAgICAgICAgICAgOiBjbGllbnRJbmZvUGFydHNbMV0sXHJcbiAgICB9O1xyXG59XG5cbmV4cG9ydCB7IGJ1aWxkQ2xpZW50SW5mbywgYnVpbGRDbGllbnRJbmZvRnJvbUhvbWVBY2NvdW50SWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNsaWVudEluZm8ubWpzLm1hcFxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudEF1dGhFcnJvciIsIlNlcGFyYXRvcnMiLCJDb25zdGFudHMiLCJjbGllbnRJbmZvRW1wdHlFcnJvciIsImNsaWVudEluZm9EZWNvZGluZ0Vycm9yIiwiYnVpbGRDbGllbnRJbmZvIiwicmF3Q2xpZW50SW5mbyIsImJhc2U2NERlY29kZSIsImRlY29kZWRDbGllbnRJbmZvIiwiSlNPTiIsInBhcnNlIiwiZSIsImJ1aWxkQ2xpZW50SW5mb0Zyb21Ib21lQWNjb3VudElkIiwiaG9tZUFjY291bnRJZCIsImNsaWVudEluZm9QYXJ0cyIsInNwbGl0IiwiQ0xJRU5UX0lORk9fU0VQQVJBVE9SIiwidWlkIiwidXRpZCIsImxlbmd0aCIsIkVNUFRZX1NUUklORyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/account/ClientInfo.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/account/TokenClaims.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/account/TokenClaims.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getTenantIdFromIdTokenClaims: () => (/* binding */ getTenantIdFromIdTokenClaims)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Gets tenantId from available ID token claims to set as credential realm with the following precedence:\r\n * 1. tid - if the token is acquired from an Azure AD tenant tid will be present\r\n * 2. tfp - if the token is acquired from a modern B2C tenant tfp should be present\r\n * 3. acr - if the token is acquired from a legacy B2C tenant acr should be present\r\n * Downcased to match the realm case-insensitive comparison requirements\r\n * @param idTokenClaims\r\n * @returns\r\n */ function getTenantIdFromIdTokenClaims(idTokenClaims) {\n    if (idTokenClaims) {\n        const tenantId = idTokenClaims.tid || idTokenClaims.tfp || idTokenClaims.acr;\n        return tenantId || null;\n    }\n    return null;\n}\n //# sourceMappingURL=TokenClaims.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYWNjb3VudC9Ub2tlbkNsYWltcy5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBOzs7Q0FHQyxHQUNEOzs7Ozs7OztDQVFDLEdBQ0QsU0FBU0EsNkJBQTZCQyxhQUFhO0lBQy9DLElBQUlBLGVBQWU7UUFDZixNQUFNQyxXQUFXRCxjQUFjRSxHQUFHLElBQUlGLGNBQWNHLEdBQUcsSUFBSUgsY0FBY0ksR0FBRztRQUM1RSxPQUFPSCxZQUFZO0lBQ3ZCO0lBQ0EsT0FBTztBQUNYO0FBRXdDLENBQ3hDLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9hY2NvdW50L1Rva2VuQ2xhaW1zLm1qcz9hZjMxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBHZXRzIHRlbmFudElkIGZyb20gYXZhaWxhYmxlIElEIHRva2VuIGNsYWltcyB0byBzZXQgYXMgY3JlZGVudGlhbCByZWFsbSB3aXRoIHRoZSBmb2xsb3dpbmcgcHJlY2VkZW5jZTpcclxuICogMS4gdGlkIC0gaWYgdGhlIHRva2VuIGlzIGFjcXVpcmVkIGZyb20gYW4gQXp1cmUgQUQgdGVuYW50IHRpZCB3aWxsIGJlIHByZXNlbnRcclxuICogMi4gdGZwIC0gaWYgdGhlIHRva2VuIGlzIGFjcXVpcmVkIGZyb20gYSBtb2Rlcm4gQjJDIHRlbmFudCB0ZnAgc2hvdWxkIGJlIHByZXNlbnRcclxuICogMy4gYWNyIC0gaWYgdGhlIHRva2VuIGlzIGFjcXVpcmVkIGZyb20gYSBsZWdhY3kgQjJDIHRlbmFudCBhY3Igc2hvdWxkIGJlIHByZXNlbnRcclxuICogRG93bmNhc2VkIHRvIG1hdGNoIHRoZSByZWFsbSBjYXNlLWluc2Vuc2l0aXZlIGNvbXBhcmlzb24gcmVxdWlyZW1lbnRzXHJcbiAqIEBwYXJhbSBpZFRva2VuQ2xhaW1zXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRUZW5hbnRJZEZyb21JZFRva2VuQ2xhaW1zKGlkVG9rZW5DbGFpbXMpIHtcclxuICAgIGlmIChpZFRva2VuQ2xhaW1zKSB7XHJcbiAgICAgICAgY29uc3QgdGVuYW50SWQgPSBpZFRva2VuQ2xhaW1zLnRpZCB8fCBpZFRva2VuQ2xhaW1zLnRmcCB8fCBpZFRva2VuQ2xhaW1zLmFjcjtcclxuICAgICAgICByZXR1cm4gdGVuYW50SWQgfHwgbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XG5cbmV4cG9ydCB7IGdldFRlbmFudElkRnJvbUlkVG9rZW5DbGFpbXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRva2VuQ2xhaW1zLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJnZXRUZW5hbnRJZEZyb21JZFRva2VuQ2xhaW1zIiwiaWRUb2tlbkNsYWltcyIsInRlbmFudElkIiwidGlkIiwidGZwIiwiYWNyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/account/TokenClaims.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/authority/Authority.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/authority/Authority.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Authority: () => (/* binding */ Authority),\n/* harmony export */   buildStaticAuthorityOptions: () => (/* binding */ buildStaticAuthorityOptions),\n/* harmony export */   formatAuthorityUri: () => (/* binding */ formatAuthorityUri),\n/* harmony export */   getTenantFromAuthorityString: () => (/* binding */ getTenantFromAuthorityString)\n/* harmony export */ });\n/* harmony import */ var _AuthorityType_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AuthorityType.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityType.mjs\");\n/* harmony import */ var _OpenIdConfigResponse_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./OpenIdConfigResponse.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs\");\n/* harmony import */ var _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../url/UrlString.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs\");\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _AuthorityMetadata_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./AuthorityMetadata.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityMetadata.mjs\");\n/* harmony import */ var _error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../error/ClientConfigurationError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs\");\n/* harmony import */ var _ProtocolMode_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ProtocolMode.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/ProtocolMode.mjs\");\n/* harmony import */ var _AuthorityOptions_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./AuthorityOptions.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityOptions.mjs\");\n/* harmony import */ var _CloudInstanceDiscoveryResponse_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./CloudInstanceDiscoveryResponse.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs\");\n/* harmony import */ var _CloudInstanceDiscoveryErrorResponse_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./CloudInstanceDiscoveryErrorResponse.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs\");\n/* harmony import */ var _RegionDiscovery_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./RegionDiscovery.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/RegionDiscovery.mjs\");\n/* harmony import */ var _error_AuthError_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../error/AuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../telemetry/performance/PerformanceEvent.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/FunctionWrappers.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../cache/utils/CacheHelpers.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/utils/CacheHelpers.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/* harmony import */ var _error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../error/ClientConfigurationErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * The authority class validates the authority URIs used by the user, and retrieves the OpenID Configuration Data from the\r\n * endpoint. It will store the pertinent config data in this object for use during token calls.\r\n * @internal\r\n */ class Authority {\n    constructor(authority, networkInterface, cacheManager, authorityOptions, logger, correlationId, performanceClient, managedIdentity){\n        this.canonicalAuthority = authority;\n        this._canonicalAuthority.validateAsUri();\n        this.networkInterface = networkInterface;\n        this.cacheManager = cacheManager;\n        this.authorityOptions = authorityOptions;\n        this.regionDiscoveryMetadata = {\n            region_used: undefined,\n            region_source: undefined,\n            region_outcome: undefined\n        };\n        this.logger = logger;\n        this.performanceClient = performanceClient;\n        this.correlationId = correlationId;\n        this.managedIdentity = managedIdentity || false;\n        this.regionDiscovery = new _RegionDiscovery_mjs__WEBPACK_IMPORTED_MODULE_0__.RegionDiscovery(networkInterface, this.logger, this.performanceClient, this.correlationId);\n    }\n    /**\r\n     * Get {@link AuthorityType}\r\n     * @param authorityUri {@link IUri}\r\n     * @private\r\n     */ getAuthorityType(authorityUri) {\n        // CIAM auth url pattern is being standardized as: <tenant>.ciamlogin.com\n        if (authorityUri.HostNameAndPort.endsWith(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.CIAM_AUTH_URL)) {\n            return _AuthorityType_mjs__WEBPACK_IMPORTED_MODULE_2__.AuthorityType.Ciam;\n        }\n        const pathSegments = authorityUri.PathSegments;\n        if (pathSegments.length) {\n            switch(pathSegments[0].toLowerCase()){\n                case _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.ADFS:\n                    return _AuthorityType_mjs__WEBPACK_IMPORTED_MODULE_2__.AuthorityType.Adfs;\n                case _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.DSTS:\n                    return _AuthorityType_mjs__WEBPACK_IMPORTED_MODULE_2__.AuthorityType.Dsts;\n            }\n        }\n        return _AuthorityType_mjs__WEBPACK_IMPORTED_MODULE_2__.AuthorityType.Default;\n    }\n    // See above for AuthorityType\n    get authorityType() {\n        return this.getAuthorityType(this.canonicalAuthorityUrlComponents);\n    }\n    /**\r\n     * ProtocolMode enum representing the way endpoints are constructed.\r\n     */ get protocolMode() {\n        return this.authorityOptions.protocolMode;\n    }\n    /**\r\n     * Returns authorityOptions which can be used to reinstantiate a new authority instance\r\n     */ get options() {\n        return this.authorityOptions;\n    }\n    /**\r\n     * A URL that is the authority set by the developer\r\n     */ get canonicalAuthority() {\n        return this._canonicalAuthority.urlString;\n    }\n    /**\r\n     * Sets canonical authority.\r\n     */ set canonicalAuthority(url) {\n        this._canonicalAuthority = new _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__.UrlString(url);\n        this._canonicalAuthority.validateAsUri();\n        this._canonicalAuthorityUrlComponents = null;\n    }\n    /**\r\n     * Get authority components.\r\n     */ get canonicalAuthorityUrlComponents() {\n        if (!this._canonicalAuthorityUrlComponents) {\n            this._canonicalAuthorityUrlComponents = this._canonicalAuthority.getUrlComponents();\n        }\n        return this._canonicalAuthorityUrlComponents;\n    }\n    /**\r\n     * Get hostname and port i.e. login.microsoftonline.com\r\n     */ get hostnameAndPort() {\n        return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase();\n    }\n    /**\r\n     * Get tenant for authority.\r\n     */ get tenant() {\n        return this.canonicalAuthorityUrlComponents.PathSegments[0];\n    }\n    /**\r\n     * OAuth /authorize endpoint for requests\r\n     */ get authorizationEndpoint() {\n        if (this.discoveryComplete()) {\n            return this.replacePath(this.metadata.authorization_endpoint);\n        } else {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.endpointResolutionError);\n        }\n    }\n    /**\r\n     * OAuth /token endpoint for requests\r\n     */ get tokenEndpoint() {\n        if (this.discoveryComplete()) {\n            return this.replacePath(this.metadata.token_endpoint);\n        } else {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.endpointResolutionError);\n        }\n    }\n    get deviceCodeEndpoint() {\n        if (this.discoveryComplete()) {\n            return this.replacePath(this.metadata.token_endpoint.replace(\"/token\", \"/devicecode\"));\n        } else {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.endpointResolutionError);\n        }\n    }\n    /**\r\n     * OAuth logout endpoint for requests\r\n     */ get endSessionEndpoint() {\n        if (this.discoveryComplete()) {\n            // ROPC policies may not have end_session_endpoint set\n            if (!this.metadata.end_session_endpoint) {\n                throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.endSessionEndpointNotSupported);\n            }\n            return this.replacePath(this.metadata.end_session_endpoint);\n        } else {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.endpointResolutionError);\n        }\n    }\n    /**\r\n     * OAuth issuer for requests\r\n     */ get selfSignedJwtAudience() {\n        if (this.discoveryComplete()) {\n            return this.replacePath(this.metadata.issuer);\n        } else {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.endpointResolutionError);\n        }\n    }\n    /**\r\n     * Jwks_uri for token signing keys\r\n     */ get jwksUri() {\n        if (this.discoveryComplete()) {\n            return this.replacePath(this.metadata.jwks_uri);\n        } else {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.endpointResolutionError);\n        }\n    }\n    /**\r\n     * Returns a flag indicating that tenant name can be replaced in authority {@link IUri}\r\n     * @param authorityUri {@link IUri}\r\n     * @private\r\n     */ canReplaceTenant(authorityUri) {\n        return authorityUri.PathSegments.length === 1 && !Authority.reservedTenantDomains.has(authorityUri.PathSegments[0]) && this.getAuthorityType(authorityUri) === _AuthorityType_mjs__WEBPACK_IMPORTED_MODULE_2__.AuthorityType.Default && this.protocolMode === _ProtocolMode_mjs__WEBPACK_IMPORTED_MODULE_6__.ProtocolMode.AAD;\n    }\n    /**\r\n     * Replaces tenant in url path with current tenant. Defaults to common.\r\n     * @param urlString\r\n     */ replaceTenant(urlString) {\n        return urlString.replace(/{tenant}|{tenantid}/g, this.tenant);\n    }\n    /**\r\n     * Replaces path such as tenant or policy with the current tenant or policy.\r\n     * @param urlString\r\n     */ replacePath(urlString) {\n        let endpoint = urlString;\n        const cachedAuthorityUrl = new _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__.UrlString(this.metadata.canonical_authority);\n        const cachedAuthorityUrlComponents = cachedAuthorityUrl.getUrlComponents();\n        const cachedAuthorityParts = cachedAuthorityUrlComponents.PathSegments;\n        const currentAuthorityParts = this.canonicalAuthorityUrlComponents.PathSegments;\n        currentAuthorityParts.forEach((currentPart, index)=>{\n            let cachedPart = cachedAuthorityParts[index];\n            if (index === 0 && this.canReplaceTenant(cachedAuthorityUrlComponents)) {\n                const tenantId = new _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__.UrlString(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];\n                /**\r\n                 * Check if AAD canonical authority contains tenant domain name, for example \"testdomain.onmicrosoft.com\",\r\n                 * by comparing its first path segment to the corresponding authorization endpoint path segment, which is\r\n                 * always resolved with tenant id by OIDC.\r\n                 */ if (cachedPart !== tenantId) {\n                    this.logger.verbose(`Replacing tenant domain name ${cachedPart} with id ${tenantId}`);\n                    cachedPart = tenantId;\n                }\n            }\n            if (currentPart !== cachedPart) {\n                endpoint = endpoint.replace(`/${cachedPart}/`, `/${currentPart}/`);\n            }\n        });\n        return this.replaceTenant(endpoint);\n    }\n    /**\r\n     * The default open id configuration endpoint for any canonical authority.\r\n     */ get defaultOpenIdConfigurationEndpoint() {\n        const canonicalAuthorityHost = this.hostnameAndPort;\n        if (this.canonicalAuthority.endsWith(\"v2.0/\") || this.authorityType === _AuthorityType_mjs__WEBPACK_IMPORTED_MODULE_2__.AuthorityType.Adfs || this.protocolMode !== _ProtocolMode_mjs__WEBPACK_IMPORTED_MODULE_6__.ProtocolMode.AAD && !this.isAliasOfKnownMicrosoftAuthority(canonicalAuthorityHost)) {\n            return `${this.canonicalAuthority}.well-known/openid-configuration`;\n        }\n        return `${this.canonicalAuthority}v2.0/.well-known/openid-configuration`;\n    }\n    /**\r\n     * Boolean that returns whether or not tenant discovery has been completed.\r\n     */ discoveryComplete() {\n        return !!this.metadata;\n    }\n    /**\r\n     * Perform endpoint discovery to discover aliases, preferred_cache, preferred_network\r\n     * and the /authorize, /token and logout endpoints.\r\n     */ async resolveEndpointsAsync() {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityResolveEndpointsAsync, this.correlationId);\n        const metadataEntity = this.getCurrentMetadataEntity();\n        const cloudDiscoverySource = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_8__.invokeAsync)(this.updateCloudDiscoveryMetadata.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityUpdateCloudDiscoveryMetadata, this.logger, this.performanceClient, this.correlationId)(metadataEntity);\n        this.canonicalAuthority = this.canonicalAuthority.replace(this.hostnameAndPort, metadataEntity.preferred_network);\n        const endpointSource = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_8__.invokeAsync)(this.updateEndpointMetadata.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityUpdateEndpointMetadata, this.logger, this.performanceClient, this.correlationId)(metadataEntity);\n        this.updateCachedMetadata(metadataEntity, cloudDiscoverySource, {\n            source: endpointSource\n        });\n        this.performanceClient?.addFields({\n            cloudDiscoverySource: cloudDiscoverySource,\n            authorityEndpointSource: endpointSource\n        }, this.correlationId);\n    }\n    /**\r\n     * Returns metadata entity from cache if it exists, otherwiser returns a new metadata entity built\r\n     * from the configured canonical authority\r\n     * @returns\r\n     */ getCurrentMetadataEntity() {\n        let metadataEntity = this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);\n        if (!metadataEntity) {\n            metadataEntity = {\n                aliases: [],\n                preferred_cache: this.hostnameAndPort,\n                preferred_network: this.hostnameAndPort,\n                canonical_authority: this.canonicalAuthority,\n                authorization_endpoint: \"\",\n                token_endpoint: \"\",\n                end_session_endpoint: \"\",\n                issuer: \"\",\n                aliasesFromNetwork: false,\n                endpointsFromNetwork: false,\n                expiresAt: (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_9__.generateAuthorityMetadataExpiresAt)(),\n                jwks_uri: \"\"\n            };\n        }\n        return metadataEntity;\n    }\n    /**\r\n     * Updates cached metadata based on metadata source and sets the instance's metadata\r\n     * property to the same value\r\n     * @param metadataEntity\r\n     * @param cloudDiscoverySource\r\n     * @param endpointMetadataResult\r\n     */ updateCachedMetadata(metadataEntity, cloudDiscoverySource, endpointMetadataResult) {\n        if (cloudDiscoverySource !== _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.CACHE && endpointMetadataResult?.source !== _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.CACHE) {\n            // Reset the expiration time unless both values came from a successful cache lookup\n            metadataEntity.expiresAt = (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_9__.generateAuthorityMetadataExpiresAt)();\n            metadataEntity.canonical_authority = this.canonicalAuthority;\n        }\n        const cacheKey = this.cacheManager.generateAuthorityMetadataCacheKey(metadataEntity.preferred_cache);\n        this.cacheManager.setAuthorityMetadata(cacheKey, metadataEntity);\n        this.metadata = metadataEntity;\n    }\n    /**\r\n     * Update AuthorityMetadataEntity with new endpoints and return where the information came from\r\n     * @param metadataEntity\r\n     */ async updateEndpointMetadata(metadataEntity) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityUpdateEndpointMetadata, this.correlationId);\n        const localMetadata = this.updateEndpointMetadataFromLocalSources(metadataEntity);\n        // Further update may be required for hardcoded metadata if regional metadata is preferred\n        if (localMetadata) {\n            if (localMetadata.source === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.HARDCODED_VALUES) {\n                // If the user prefers to use an azure region replace the global endpoints with regional information.\n                if (this.authorityOptions.azureRegionConfiguration?.azureRegion) {\n                    if (localMetadata.metadata) {\n                        const hardcodedMetadata = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_8__.invokeAsync)(this.updateMetadataWithRegionalInformation.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation, this.logger, this.performanceClient, this.correlationId)(localMetadata.metadata);\n                        (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_9__.updateAuthorityEndpointMetadata)(metadataEntity, hardcodedMetadata, false);\n                        metadataEntity.canonical_authority = this.canonicalAuthority;\n                    }\n                }\n            }\n            return localMetadata.source;\n        }\n        // Get metadata from network if local sources aren't available\n        let metadata = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_8__.invokeAsync)(this.getEndpointMetadataFromNetwork.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityGetEndpointMetadataFromNetwork, this.logger, this.performanceClient, this.correlationId)();\n        if (metadata) {\n            // If the user prefers to use an azure region replace the global endpoints with regional information.\n            if (this.authorityOptions.azureRegionConfiguration?.azureRegion) {\n                metadata = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_8__.invokeAsync)(this.updateMetadataWithRegionalInformation.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation, this.logger, this.performanceClient, this.correlationId)(metadata);\n            }\n            (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_9__.updateAuthorityEndpointMetadata)(metadataEntity, metadata, true);\n            return _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.NETWORK;\n        } else {\n            // Metadata could not be obtained from the config, cache, network or hardcoded values\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.openIdConfigError, this.defaultOpenIdConfigurationEndpoint);\n        }\n    }\n    /**\r\n     * Updates endpoint metadata from local sources and returns where the information was retrieved from and the metadata config\r\n     * response if the source is hardcoded metadata\r\n     * @param metadataEntity\r\n     * @returns\r\n     */ updateEndpointMetadataFromLocalSources(metadataEntity) {\n        this.logger.verbose(\"Attempting to get endpoint metadata from authority configuration\");\n        const configMetadata = this.getEndpointMetadataFromConfig();\n        if (configMetadata) {\n            this.logger.verbose(\"Found endpoint metadata in authority configuration\");\n            (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_9__.updateAuthorityEndpointMetadata)(metadataEntity, configMetadata, false);\n            return {\n                source: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.CONFIG\n            };\n        }\n        this.logger.verbose(\"Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values.\");\n        // skipAuthorityMetadataCache is used to bypass hardcoded authority metadata and force a network metadata cache lookup and network metadata request if no cached response is available.\n        if (this.authorityOptions.skipAuthorityMetadataCache) {\n            this.logger.verbose(\"Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.\");\n        } else {\n            const hardcodedMetadata = this.getEndpointMetadataFromHardcodedValues();\n            if (hardcodedMetadata) {\n                (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_9__.updateAuthorityEndpointMetadata)(metadataEntity, hardcodedMetadata, false);\n                return {\n                    source: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.HARDCODED_VALUES,\n                    metadata: hardcodedMetadata\n                };\n            } else {\n                this.logger.verbose(\"Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.\");\n            }\n        }\n        // Check cached metadata entity expiration status\n        const metadataEntityExpired = (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_9__.isAuthorityMetadataExpired)(metadataEntity);\n        if (this.isAuthoritySameType(metadataEntity) && metadataEntity.endpointsFromNetwork && !metadataEntityExpired) {\n            // No need to update\n            this.logger.verbose(\"Found endpoint metadata in the cache.\");\n            return {\n                source: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.CACHE\n            };\n        } else if (metadataEntityExpired) {\n            this.logger.verbose(\"The metadata entity is expired.\");\n        }\n        return null;\n    }\n    /**\r\n     * Compares the number of url components after the domain to determine if the cached\r\n     * authority metadata can be used for the requested authority. Protects against same domain different\r\n     * authority such as login.microsoftonline.com/tenant and login.microsoftonline.com/tfp/tenant/policy\r\n     * @param metadataEntity\r\n     */ isAuthoritySameType(metadataEntity) {\n        const cachedAuthorityUrl = new _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__.UrlString(metadataEntity.canonical_authority);\n        const cachedParts = cachedAuthorityUrl.getUrlComponents().PathSegments;\n        return cachedParts.length === this.canonicalAuthorityUrlComponents.PathSegments.length;\n    }\n    /**\r\n     * Parse authorityMetadata config option\r\n     */ getEndpointMetadataFromConfig() {\n        if (this.authorityOptions.authorityMetadata) {\n            try {\n                return JSON.parse(this.authorityOptions.authorityMetadata);\n            } catch (e) {\n                throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_10__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_11__.invalidAuthorityMetadata);\n            }\n        }\n        return null;\n    }\n    /**\r\n     * Gets OAuth endpoints from the given OpenID configuration endpoint.\r\n     *\r\n     * @param hasHardcodedMetadata boolean\r\n     */ async getEndpointMetadataFromNetwork() {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityGetEndpointMetadataFromNetwork, this.correlationId);\n        const options = {};\n        /*\r\n         * TODO: Add a timeout if the authority exists in our library's\r\n         * hardcoded list of metadata\r\n         */ const openIdConfigurationEndpoint = this.defaultOpenIdConfigurationEndpoint;\n        this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${openIdConfigurationEndpoint}`);\n        try {\n            const response = await this.networkInterface.sendGetRequestAsync(openIdConfigurationEndpoint, options);\n            const isValidResponse = (0,_OpenIdConfigResponse_mjs__WEBPACK_IMPORTED_MODULE_12__.isOpenIdConfigResponse)(response.body);\n            if (isValidResponse) {\n                return response.body;\n            } else {\n                this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration`);\n                return null;\n            }\n        } catch (e) {\n            this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${e}`);\n            return null;\n        }\n    }\n    /**\r\n     * Get OAuth endpoints for common authorities.\r\n     */ getEndpointMetadataFromHardcodedValues() {\n        if (this.hostnameAndPort in _AuthorityMetadata_mjs__WEBPACK_IMPORTED_MODULE_13__.EndpointMetadata) {\n            return _AuthorityMetadata_mjs__WEBPACK_IMPORTED_MODULE_13__.EndpointMetadata[this.hostnameAndPort];\n        }\n        return null;\n    }\n    /**\r\n     * Update the retrieved metadata with regional information.\r\n     * User selected Azure region will be used if configured.\r\n     */ async updateMetadataWithRegionalInformation(metadata) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation, this.correlationId);\n        const userConfiguredAzureRegion = this.authorityOptions.azureRegionConfiguration?.azureRegion;\n        if (userConfiguredAzureRegion) {\n            if (userConfiguredAzureRegion !== _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.AZURE_REGION_AUTO_DISCOVER_FLAG) {\n                this.regionDiscoveryMetadata.region_outcome = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.RegionDiscoveryOutcomes.CONFIGURED_NO_AUTO_DETECTION;\n                this.regionDiscoveryMetadata.region_used = userConfiguredAzureRegion;\n                return Authority.replaceWithRegionalInformation(metadata, userConfiguredAzureRegion);\n            }\n            const autodetectedRegionName = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_8__.invokeAsync)(this.regionDiscovery.detectRegion.bind(this.regionDiscovery), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.RegionDiscoveryDetectRegion, this.logger, this.performanceClient, this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion, this.regionDiscoveryMetadata);\n            if (autodetectedRegionName) {\n                this.regionDiscoveryMetadata.region_outcome = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.RegionDiscoveryOutcomes.AUTO_DETECTION_REQUESTED_SUCCESSFUL;\n                this.regionDiscoveryMetadata.region_used = autodetectedRegionName;\n                return Authority.replaceWithRegionalInformation(metadata, autodetectedRegionName);\n            }\n            this.regionDiscoveryMetadata.region_outcome = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.RegionDiscoveryOutcomes.AUTO_DETECTION_REQUESTED_FAILED;\n        }\n        return metadata;\n    }\n    /**\r\n     * Updates the AuthorityMetadataEntity with new aliases, preferred_network and preferred_cache\r\n     * and returns where the information was retrieved from\r\n     * @param metadataEntity\r\n     * @returns AuthorityMetadataSource\r\n     */ async updateCloudDiscoveryMetadata(metadataEntity) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityUpdateCloudDiscoveryMetadata, this.correlationId);\n        const localMetadataSource = this.updateCloudDiscoveryMetadataFromLocalSources(metadataEntity);\n        if (localMetadataSource) {\n            return localMetadataSource;\n        }\n        // Fallback to network as metadata source\n        const metadata = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_8__.invokeAsync)(this.getCloudDiscoveryMetadataFromNetwork.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityGetCloudDiscoveryMetadataFromNetwork, this.logger, this.performanceClient, this.correlationId)();\n        if (metadata) {\n            (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_9__.updateCloudDiscoveryMetadata)(metadataEntity, metadata, true);\n            return _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.NETWORK;\n        }\n        // Metadata could not be obtained from the config, cache, network or hardcoded values\n        throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_10__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_11__.untrustedAuthority);\n    }\n    updateCloudDiscoveryMetadataFromLocalSources(metadataEntity) {\n        this.logger.verbose(\"Attempting to get cloud discovery metadata  from authority configuration\");\n        this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.NOT_APPLICABLE}`);\n        this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.NOT_APPLICABLE}`);\n        this.logger.verbosePii(`Canonical Authority: ${metadataEntity.canonical_authority || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.NOT_APPLICABLE}`);\n        const metadata = this.getCloudDiscoveryMetadataFromConfig();\n        if (metadata) {\n            this.logger.verbose(\"Found cloud discovery metadata in authority configuration\");\n            (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_9__.updateCloudDiscoveryMetadata)(metadataEntity, metadata, false);\n            return _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.CONFIG;\n        }\n        // If the cached metadata came from config but that config was not passed to this instance, we must go to hardcoded values\n        this.logger.verbose(\"Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values.\");\n        if (this.options.skipAuthorityMetadataCache) {\n            this.logger.verbose(\"Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.\");\n        } else {\n            const hardcodedMetadata = (0,_AuthorityMetadata_mjs__WEBPACK_IMPORTED_MODULE_13__.getCloudDiscoveryMetadataFromHardcodedValues)(this.hostnameAndPort);\n            if (hardcodedMetadata) {\n                this.logger.verbose(\"Found cloud discovery metadata from hardcoded values.\");\n                (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_9__.updateCloudDiscoveryMetadata)(metadataEntity, hardcodedMetadata, false);\n                return _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.HARDCODED_VALUES;\n            }\n            this.logger.verbose(\"Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.\");\n        }\n        const metadataEntityExpired = (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_9__.isAuthorityMetadataExpired)(metadataEntity);\n        if (this.isAuthoritySameType(metadataEntity) && metadataEntity.aliasesFromNetwork && !metadataEntityExpired) {\n            this.logger.verbose(\"Found cloud discovery metadata in the cache.\");\n            // No need to update\n            return _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.CACHE;\n        } else if (metadataEntityExpired) {\n            this.logger.verbose(\"The metadata entity is expired.\");\n        }\n        return null;\n    }\n    /**\r\n     * Parse cloudDiscoveryMetadata config or check knownAuthorities\r\n     */ getCloudDiscoveryMetadataFromConfig() {\n        // CIAM does not support cloud discovery metadata\n        if (this.authorityType === _AuthorityType_mjs__WEBPACK_IMPORTED_MODULE_2__.AuthorityType.Ciam) {\n            this.logger.verbose(\"CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host.\");\n            return Authority.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);\n        }\n        // Check if network response was provided in config\n        if (this.authorityOptions.cloudDiscoveryMetadata) {\n            this.logger.verbose(\"The cloud discovery metadata has been provided as a network response, in the config.\");\n            try {\n                this.logger.verbose(\"Attempting to parse the cloud discovery metadata.\");\n                const parsedResponse = JSON.parse(this.authorityOptions.cloudDiscoveryMetadata);\n                const metadata = (0,_AuthorityMetadata_mjs__WEBPACK_IMPORTED_MODULE_13__.getCloudDiscoveryMetadataFromNetworkResponse)(parsedResponse.metadata, this.hostnameAndPort);\n                this.logger.verbose(\"Parsed the cloud discovery metadata.\");\n                if (metadata) {\n                    this.logger.verbose(\"There is returnable metadata attached to the parsed cloud discovery metadata.\");\n                    return metadata;\n                } else {\n                    this.logger.verbose(\"There is no metadata attached to the parsed cloud discovery metadata.\");\n                }\n            } catch (e) {\n                this.logger.verbose(\"Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error.\");\n                throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_10__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_11__.invalidCloudDiscoveryMetadata);\n            }\n        }\n        // If cloudDiscoveryMetadata is empty or does not contain the host, check knownAuthorities\n        if (this.isInKnownAuthorities()) {\n            this.logger.verbose(\"The host is included in knownAuthorities. Creating new cloud discovery metadata from the host.\");\n            return Authority.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);\n        }\n        return null;\n    }\n    /**\r\n     * Called to get metadata from network if CloudDiscoveryMetadata was not populated by config\r\n     *\r\n     * @param hasHardcodedMetadata boolean\r\n     */ async getCloudDiscoveryMetadataFromNetwork() {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_7__.PerformanceEvents.AuthorityGetCloudDiscoveryMetadataFromNetwork, this.correlationId);\n        const instanceDiscoveryEndpoint = `${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`;\n        const options = {};\n        /*\r\n         * TODO: Add a timeout if the authority exists in our library's\r\n         * hardcoded list of metadata\r\n         */ let match = null;\n        try {\n            const response = await this.networkInterface.sendGetRequestAsync(instanceDiscoveryEndpoint, options);\n            let typedResponseBody;\n            let metadata;\n            if ((0,_CloudInstanceDiscoveryResponse_mjs__WEBPACK_IMPORTED_MODULE_14__.isCloudInstanceDiscoveryResponse)(response.body)) {\n                typedResponseBody = response.body;\n                metadata = typedResponseBody.metadata;\n                this.logger.verbosePii(`tenant_discovery_endpoint is: ${typedResponseBody.tenant_discovery_endpoint}`);\n            } else if ((0,_CloudInstanceDiscoveryErrorResponse_mjs__WEBPACK_IMPORTED_MODULE_15__.isCloudInstanceDiscoveryErrorResponse)(response.body)) {\n                this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${response.status}`);\n                typedResponseBody = response.body;\n                if (typedResponseBody.error === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.INVALID_INSTANCE) {\n                    this.logger.error(\"The CloudInstanceDiscoveryErrorResponse error is invalid_instance.\");\n                    return null;\n                }\n                this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${typedResponseBody.error}`);\n                this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${typedResponseBody.error_description}`);\n                this.logger.warning(\"Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []\");\n                metadata = [];\n            } else {\n                this.logger.error(\"AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse\");\n                return null;\n            }\n            this.logger.verbose(\"Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request.\");\n            match = (0,_AuthorityMetadata_mjs__WEBPACK_IMPORTED_MODULE_13__.getCloudDiscoveryMetadataFromNetworkResponse)(metadata, this.hostnameAndPort);\n        } catch (error) {\n            if (error instanceof _error_AuthError_mjs__WEBPACK_IMPORTED_MODULE_16__.AuthError) {\n                this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\\nError: ${error.errorCode}\\nError Description: ${error.errorMessage}`);\n            } else {\n                const typedError = error;\n                this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\\nError: ${typedError.name}\\nError Description: ${typedError.message}`);\n            }\n            return null;\n        }\n        // Custom Domain scenario, host is trusted because Instance Discovery call succeeded\n        if (!match) {\n            this.logger.warning(\"The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request.\");\n            this.logger.verbose(\"Creating custom Authority for custom domain scenario.\");\n            match = Authority.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);\n        }\n        return match;\n    }\n    /**\r\n     * Helper function to determine if this host is included in the knownAuthorities config option\r\n     */ isInKnownAuthorities() {\n        const matches = this.authorityOptions.knownAuthorities.filter((authority)=>{\n            return authority && _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__.UrlString.getDomainFromUrl(authority).toLowerCase() === this.hostnameAndPort;\n        });\n        return matches.length > 0;\n    }\n    /**\r\n     * helper function to populate the authority based on azureCloudOptions\r\n     * @param authorityString\r\n     * @param azureCloudOptions\r\n     */ static generateAuthority(authorityString, azureCloudOptions) {\n        let authorityAzureCloudInstance;\n        if (azureCloudOptions && azureCloudOptions.azureCloudInstance !== _AuthorityOptions_mjs__WEBPACK_IMPORTED_MODULE_17__.AzureCloudInstance.None) {\n            const tenant = azureCloudOptions.tenant ? azureCloudOptions.tenant : _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.DEFAULT_COMMON_TENANT;\n            authorityAzureCloudInstance = `${azureCloudOptions.azureCloudInstance}/${tenant}/`;\n        }\n        return authorityAzureCloudInstance ? authorityAzureCloudInstance : authorityString;\n    }\n    /**\r\n     * Creates cloud discovery metadata object from a given host\r\n     * @param host\r\n     */ static createCloudDiscoveryMetadataFromHost(host) {\n        return {\n            preferred_network: host,\n            preferred_cache: host,\n            aliases: [\n                host\n            ]\n        };\n    }\n    /**\r\n     * helper function to generate environment from authority object\r\n     */ getPreferredCache() {\n        if (this.managedIdentity) {\n            return _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.DEFAULT_AUTHORITY_HOST;\n        } else if (this.discoveryComplete()) {\n            return this.metadata.preferred_cache;\n        } else {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.endpointResolutionError);\n        }\n    }\n    /**\r\n     * Returns whether or not the provided host is an alias of this authority instance\r\n     * @param host\r\n     */ isAlias(host) {\n        return this.metadata.aliases.indexOf(host) > -1;\n    }\n    /**\r\n     * Returns whether or not the provided host is an alias of a known Microsoft authority for purposes of endpoint discovery\r\n     * @param host\r\n     */ isAliasOfKnownMicrosoftAuthority(host) {\n        return _AuthorityMetadata_mjs__WEBPACK_IMPORTED_MODULE_13__.InstanceDiscoveryMetadataAliases.has(host);\n    }\n    /**\r\n     * Checks whether the provided host is that of a public cloud authority\r\n     *\r\n     * @param authority string\r\n     * @returns bool\r\n     */ static isPublicCloudAuthority(host) {\n        return _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.KNOWN_PUBLIC_CLOUDS.indexOf(host) >= 0;\n    }\n    /**\r\n     * Rebuild the authority string with the region\r\n     *\r\n     * @param host string\r\n     * @param region string\r\n     */ static buildRegionalAuthorityString(host, region, queryString) {\n        // Create and validate a Url string object with the initial authority string\n        const authorityUrlInstance = new _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__.UrlString(host);\n        authorityUrlInstance.validateAsUri();\n        const authorityUrlParts = authorityUrlInstance.getUrlComponents();\n        let hostNameAndPort = `${region}.${authorityUrlParts.HostNameAndPort}`;\n        if (this.isPublicCloudAuthority(authorityUrlParts.HostNameAndPort)) {\n            hostNameAndPort = `${region}.${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`;\n        }\n        // Include the query string portion of the url\n        const url = _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__.UrlString.constructAuthorityUriFromObject({\n            ...authorityUrlInstance.getUrlComponents(),\n            HostNameAndPort: hostNameAndPort\n        }).urlString;\n        // Add the query string if a query string was provided\n        if (queryString) return `${url}?${queryString}`;\n        return url;\n    }\n    /**\r\n     * Replace the endpoints in the metadata object with their regional equivalents.\r\n     *\r\n     * @param metadata OpenIdConfigResponse\r\n     * @param azureRegion string\r\n     */ static replaceWithRegionalInformation(metadata, azureRegion) {\n        const regionalMetadata = {\n            ...metadata\n        };\n        regionalMetadata.authorization_endpoint = Authority.buildRegionalAuthorityString(regionalMetadata.authorization_endpoint, azureRegion);\n        regionalMetadata.token_endpoint = Authority.buildRegionalAuthorityString(regionalMetadata.token_endpoint, azureRegion);\n        if (regionalMetadata.end_session_endpoint) {\n            regionalMetadata.end_session_endpoint = Authority.buildRegionalAuthorityString(regionalMetadata.end_session_endpoint, azureRegion);\n        }\n        return regionalMetadata;\n    }\n    /**\r\n     * Transform CIAM_AUTHORIY as per the below rules:\r\n     * If no path segments found and it is a CIAM authority (hostname ends with .ciamlogin.com), then transform it\r\n     *\r\n     * NOTE: The transformation path should go away once STS supports CIAM with the format: `tenantIdorDomain.ciamlogin.com`\r\n     * `ciamlogin.com` can also change in the future and we should accommodate the same\r\n     *\r\n     * @param authority\r\n     */ static transformCIAMAuthority(authority) {\n        let ciamAuthority = authority;\n        const authorityUrl = new _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__.UrlString(authority);\n        const authorityUrlComponents = authorityUrl.getUrlComponents();\n        // check if transformation is needed\n        if (authorityUrlComponents.PathSegments.length === 0 && authorityUrlComponents.HostNameAndPort.endsWith(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.CIAM_AUTH_URL)) {\n            const tenantIdOrDomain = authorityUrlComponents.HostNameAndPort.split(\".\")[0];\n            ciamAuthority = `${ciamAuthority}${tenantIdOrDomain}${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.AAD_TENANT_DOMAIN_SUFFIX}`;\n        }\n        return ciamAuthority;\n    }\n}\n// Reserved tenant domain names that will not be replaced with tenant id\nAuthority.reservedTenantDomains = new Set([\n    \"{tenant}\",\n    \"{tenantid}\",\n    _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AADAuthorityConstants.COMMON,\n    _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AADAuthorityConstants.CONSUMERS,\n    _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AADAuthorityConstants.ORGANIZATIONS\n]);\n/**\r\n * Extract tenantId from authority\r\n */ function getTenantFromAuthorityString(authority) {\n    const authorityUrl = new _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__.UrlString(authority);\n    const authorityUrlComponents = authorityUrl.getUrlComponents();\n    /**\r\n     * For credential matching purposes, tenantId is the last path segment of the authority URL:\r\n     *  AAD Authority - domain/tenantId -> Credentials are cached with realm = tenantId\r\n     *  B2C Authority - domain/{tenantId}?/.../policy -> Credentials are cached with realm = policy\r\n     *  tenantId is downcased because B2C policies can have mixed case but tfp claim is downcased\r\n     *\r\n     * Note that we may not have any path segments in certain OIDC scenarios.\r\n     */ const tenantId = authorityUrlComponents.PathSegments.slice(-1)[0]?.toLowerCase();\n    switch(tenantId){\n        case _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AADAuthorityConstants.COMMON:\n        case _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AADAuthorityConstants.ORGANIZATIONS:\n        case _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AADAuthorityConstants.CONSUMERS:\n            return undefined;\n        default:\n            return tenantId;\n    }\n}\nfunction formatAuthorityUri(authorityUri) {\n    return authorityUri.endsWith(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.FORWARD_SLASH) ? authorityUri : `${authorityUri}${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.FORWARD_SLASH}`;\n}\nfunction buildStaticAuthorityOptions(authOptions) {\n    const rawCloudDiscoveryMetadata = authOptions.cloudDiscoveryMetadata;\n    let cloudDiscoveryMetadata = undefined;\n    if (rawCloudDiscoveryMetadata) {\n        try {\n            cloudDiscoveryMetadata = JSON.parse(rawCloudDiscoveryMetadata);\n        } catch (e) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_10__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_11__.invalidCloudDiscoveryMetadata);\n        }\n    }\n    return {\n        canonicalAuthority: authOptions.authority ? formatAuthorityUri(authOptions.authority) : undefined,\n        knownAuthorities: authOptions.knownAuthorities,\n        cloudDiscoveryMetadata: cloudDiscoveryMetadata\n    };\n}\n //# sourceMappingURL=Authority.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L0F1dGhvcml0eS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNvRDtBQUNnQjtBQUNuQjtBQUNvQjtBQUN1RDtBQUM2RDtBQUNsRztBQUNyQztBQUNVO0FBQzRCO0FBQ1U7QUFDMUM7QUFDTDtBQUMrQjtBQUN0QjtBQUNvSDtBQUNqRDtBQUNVO0FBRXpJOzs7Q0FHQyxHQUNEOzs7O0NBSUMsR0FDRCxNQUFNK0I7SUFDRkMsWUFBWUMsU0FBUyxFQUFFQyxnQkFBZ0IsRUFBRUMsWUFBWSxFQUFFQyxnQkFBZ0IsRUFBRUMsTUFBTSxFQUFFQyxhQUFhLEVBQUVDLGlCQUFpQixFQUFFQyxlQUFlLENBQUU7UUFDaEksSUFBSSxDQUFDQyxrQkFBa0IsR0FBR1I7UUFDMUIsSUFBSSxDQUFDUyxtQkFBbUIsQ0FBQ0MsYUFBYTtRQUN0QyxJQUFJLENBQUNULGdCQUFnQixHQUFHQTtRQUN4QixJQUFJLENBQUNDLFlBQVksR0FBR0E7UUFDcEIsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBR0E7UUFDeEIsSUFBSSxDQUFDUSx1QkFBdUIsR0FBRztZQUMzQkMsYUFBYUM7WUFDYkMsZUFBZUQ7WUFDZkUsZ0JBQWdCRjtRQUNwQjtRQUNBLElBQUksQ0FBQ1QsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0UsaUJBQWlCLEdBQUdBO1FBQ3pCLElBQUksQ0FBQ0QsYUFBYSxHQUFHQTtRQUNyQixJQUFJLENBQUNFLGVBQWUsR0FBR0EsbUJBQW1CO1FBQzFDLElBQUksQ0FBQ1MsZUFBZSxHQUFHLElBQUloQyxpRUFBZUEsQ0FBQ2lCLGtCQUFrQixJQUFJLENBQUNHLE1BQU0sRUFBRSxJQUFJLENBQUNFLGlCQUFpQixFQUFFLElBQUksQ0FBQ0QsYUFBYTtJQUN4SDtJQUNBOzs7O0tBSUMsR0FDRFksaUJBQWlCQyxZQUFZLEVBQUU7UUFDM0IseUVBQXlFO1FBQ3pFLElBQUlBLGFBQWFDLGVBQWUsQ0FBQ0MsUUFBUSxDQUFDakQsMkRBQVNBLENBQUNrRCxhQUFhLEdBQUc7WUFDaEUsT0FBT3RELDZEQUFhQSxDQUFDdUQsSUFBSTtRQUM3QjtRQUNBLE1BQU1DLGVBQWVMLGFBQWFNLFlBQVk7UUFDOUMsSUFBSUQsYUFBYUUsTUFBTSxFQUFFO1lBQ3JCLE9BQVFGLFlBQVksQ0FBQyxFQUFFLENBQUNHLFdBQVc7Z0JBQy9CLEtBQUt2RCwyREFBU0EsQ0FBQ3dELElBQUk7b0JBQ2YsT0FBTzVELDZEQUFhQSxDQUFDNkQsSUFBSTtnQkFDN0IsS0FBS3pELDJEQUFTQSxDQUFDMEQsSUFBSTtvQkFDZixPQUFPOUQsNkRBQWFBLENBQUMrRCxJQUFJO1lBQ2pDO1FBQ0o7UUFDQSxPQUFPL0QsNkRBQWFBLENBQUNnRSxPQUFPO0lBQ2hDO0lBQ0EsOEJBQThCO0lBQzlCLElBQUlDLGdCQUFnQjtRQUNoQixPQUFPLElBQUksQ0FBQ2YsZ0JBQWdCLENBQUMsSUFBSSxDQUFDZ0IsK0JBQStCO0lBQ3JFO0lBQ0E7O0tBRUMsR0FDRCxJQUFJQyxlQUFlO1FBQ2YsT0FBTyxJQUFJLENBQUMvQixnQkFBZ0IsQ0FBQytCLFlBQVk7SUFDN0M7SUFDQTs7S0FFQyxHQUNELElBQUlDLFVBQVU7UUFDVixPQUFPLElBQUksQ0FBQ2hDLGdCQUFnQjtJQUNoQztJQUNBOztLQUVDLEdBQ0QsSUFBSUsscUJBQXFCO1FBQ3JCLE9BQU8sSUFBSSxDQUFDQyxtQkFBbUIsQ0FBQzJCLFNBQVM7SUFDN0M7SUFDQTs7S0FFQyxHQUNELElBQUk1QixtQkFBbUI2QixHQUFHLEVBQUU7UUFDeEIsSUFBSSxDQUFDNUIsbUJBQW1CLEdBQUcsSUFBSXhDLHlEQUFTQSxDQUFDb0U7UUFDekMsSUFBSSxDQUFDNUIsbUJBQW1CLENBQUNDLGFBQWE7UUFDdEMsSUFBSSxDQUFDNEIsZ0NBQWdDLEdBQUc7SUFDNUM7SUFDQTs7S0FFQyxHQUNELElBQUlMLGtDQUFrQztRQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDSyxnQ0FBZ0MsRUFBRTtZQUN4QyxJQUFJLENBQUNBLGdDQUFnQyxHQUNqQyxJQUFJLENBQUM3QixtQkFBbUIsQ0FBQzhCLGdCQUFnQjtRQUNqRDtRQUNBLE9BQU8sSUFBSSxDQUFDRCxnQ0FBZ0M7SUFDaEQ7SUFDQTs7S0FFQyxHQUNELElBQUlFLGtCQUFrQjtRQUNsQixPQUFPLElBQUksQ0FBQ1AsK0JBQStCLENBQUNkLGVBQWUsQ0FBQ08sV0FBVztJQUMzRTtJQUNBOztLQUVDLEdBQ0QsSUFBSWUsU0FBUztRQUNULE9BQU8sSUFBSSxDQUFDUiwrQkFBK0IsQ0FBQ1QsWUFBWSxDQUFDLEVBQUU7SUFDL0Q7SUFDQTs7S0FFQyxHQUNELElBQUlrQix3QkFBd0I7UUFDeEIsSUFBSSxJQUFJLENBQUNDLGlCQUFpQixJQUFJO1lBQzFCLE9BQU8sSUFBSSxDQUFDQyxXQUFXLENBQUMsSUFBSSxDQUFDQyxRQUFRLENBQUNDLHNCQUFzQjtRQUNoRSxPQUNLO1lBQ0QsTUFBTTVFLGlGQUFxQkEsQ0FBQ3NCLG9GQUF1QkE7UUFDdkQ7SUFDSjtJQUNBOztLQUVDLEdBQ0QsSUFBSXVELGdCQUFnQjtRQUNoQixJQUFJLElBQUksQ0FBQ0osaUJBQWlCLElBQUk7WUFDMUIsT0FBTyxJQUFJLENBQUNDLFdBQVcsQ0FBQyxJQUFJLENBQUNDLFFBQVEsQ0FBQ0csY0FBYztRQUN4RCxPQUNLO1lBQ0QsTUFBTTlFLGlGQUFxQkEsQ0FBQ3NCLG9GQUF1QkE7UUFDdkQ7SUFDSjtJQUNBLElBQUl5RCxxQkFBcUI7UUFDckIsSUFBSSxJQUFJLENBQUNOLGlCQUFpQixJQUFJO1lBQzFCLE9BQU8sSUFBSSxDQUFDQyxXQUFXLENBQUMsSUFBSSxDQUFDQyxRQUFRLENBQUNHLGNBQWMsQ0FBQ0UsT0FBTyxDQUFDLFVBQVU7UUFDM0UsT0FDSztZQUNELE1BQU1oRixpRkFBcUJBLENBQUNzQixvRkFBdUJBO1FBQ3ZEO0lBQ0o7SUFDQTs7S0FFQyxHQUNELElBQUkyRCxxQkFBcUI7UUFDckIsSUFBSSxJQUFJLENBQUNSLGlCQUFpQixJQUFJO1lBQzFCLHNEQUFzRDtZQUN0RCxJQUFJLENBQUMsSUFBSSxDQUFDRSxRQUFRLENBQUNPLG9CQUFvQixFQUFFO2dCQUNyQyxNQUFNbEYsaUZBQXFCQSxDQUFDdUIsMkZBQThCQTtZQUM5RDtZQUNBLE9BQU8sSUFBSSxDQUFDbUQsV0FBVyxDQUFDLElBQUksQ0FBQ0MsUUFBUSxDQUFDTyxvQkFBb0I7UUFDOUQsT0FDSztZQUNELE1BQU1sRixpRkFBcUJBLENBQUNzQixvRkFBdUJBO1FBQ3ZEO0lBQ0o7SUFDQTs7S0FFQyxHQUNELElBQUk2RCx3QkFBd0I7UUFDeEIsSUFBSSxJQUFJLENBQUNWLGlCQUFpQixJQUFJO1lBQzFCLE9BQU8sSUFBSSxDQUFDQyxXQUFXLENBQUMsSUFBSSxDQUFDQyxRQUFRLENBQUNTLE1BQU07UUFDaEQsT0FDSztZQUNELE1BQU1wRixpRkFBcUJBLENBQUNzQixvRkFBdUJBO1FBQ3ZEO0lBQ0o7SUFDQTs7S0FFQyxHQUNELElBQUkrRCxVQUFVO1FBQ1YsSUFBSSxJQUFJLENBQUNaLGlCQUFpQixJQUFJO1lBQzFCLE9BQU8sSUFBSSxDQUFDQyxXQUFXLENBQUMsSUFBSSxDQUFDQyxRQUFRLENBQUNXLFFBQVE7UUFDbEQsT0FDSztZQUNELE1BQU10RixpRkFBcUJBLENBQUNzQixvRkFBdUJBO1FBQ3ZEO0lBQ0o7SUFDQTs7OztLQUlDLEdBQ0RpRSxpQkFBaUJ2QyxZQUFZLEVBQUU7UUFDM0IsT0FBUUEsYUFBYU0sWUFBWSxDQUFDQyxNQUFNLEtBQUssS0FDekMsQ0FBQzNCLFVBQVU0RCxxQkFBcUIsQ0FBQ0MsR0FBRyxDQUFDekMsYUFBYU0sWUFBWSxDQUFDLEVBQUUsS0FDakUsSUFBSSxDQUFDUCxnQkFBZ0IsQ0FBQ0Msa0JBQWtCbkQsNkRBQWFBLENBQUNnRSxPQUFPLElBQzdELElBQUksQ0FBQ0csWUFBWSxLQUFLdEQsMkRBQVlBLENBQUNnRixHQUFHO0lBQzlDO0lBQ0E7OztLQUdDLEdBQ0RDLGNBQWN6QixTQUFTLEVBQUU7UUFDckIsT0FBT0EsVUFBVWMsT0FBTyxDQUFDLHdCQUF3QixJQUFJLENBQUNULE1BQU07SUFDaEU7SUFDQTs7O0tBR0MsR0FDREcsWUFBWVIsU0FBUyxFQUFFO1FBQ25CLElBQUkwQixXQUFXMUI7UUFDZixNQUFNMkIscUJBQXFCLElBQUk5Rix5REFBU0EsQ0FBQyxJQUFJLENBQUM0RSxRQUFRLENBQUNtQixtQkFBbUI7UUFDMUUsTUFBTUMsK0JBQStCRixtQkFBbUJ4QixnQkFBZ0I7UUFDeEUsTUFBTTJCLHVCQUF1QkQsNkJBQTZCekMsWUFBWTtRQUN0RSxNQUFNMkMsd0JBQXdCLElBQUksQ0FBQ2xDLCtCQUErQixDQUFDVCxZQUFZO1FBQy9FMkMsc0JBQXNCQyxPQUFPLENBQUMsQ0FBQ0MsYUFBYUM7WUFDeEMsSUFBSUMsYUFBYUwsb0JBQW9CLENBQUNJLE1BQU07WUFDNUMsSUFBSUEsVUFBVSxLQUNWLElBQUksQ0FBQ2IsZ0JBQWdCLENBQUNRLCtCQUErQjtnQkFDckQsTUFBTU8sV0FBVyxJQUFJdkcseURBQVNBLENBQUMsSUFBSSxDQUFDNEUsUUFBUSxDQUFDQyxzQkFBc0IsRUFBRVAsZ0JBQWdCLEdBQUdmLFlBQVksQ0FBQyxFQUFFO2dCQUN2Rzs7OztpQkFJQyxHQUNELElBQUkrQyxlQUFlQyxVQUFVO29CQUN6QixJQUFJLENBQUNwRSxNQUFNLENBQUNxRSxPQUFPLENBQUMsQ0FBQyw2QkFBNkIsRUFBRUYsV0FBVyxTQUFTLEVBQUVDLFNBQVMsQ0FBQztvQkFDcEZELGFBQWFDO2dCQUNqQjtZQUNKO1lBQ0EsSUFBSUgsZ0JBQWdCRSxZQUFZO2dCQUM1QlQsV0FBV0EsU0FBU1osT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFcUIsV0FBVyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRUYsWUFBWSxDQUFDLENBQUM7WUFDckU7UUFDSjtRQUNBLE9BQU8sSUFBSSxDQUFDUixhQUFhLENBQUNDO0lBQzlCO0lBQ0E7O0tBRUMsR0FDRCxJQUFJWSxxQ0FBcUM7UUFDckMsTUFBTUMseUJBQXlCLElBQUksQ0FBQ25DLGVBQWU7UUFDbkQsSUFBSSxJQUFJLENBQUNoQyxrQkFBa0IsQ0FBQ1ksUUFBUSxDQUFDLFlBQ2pDLElBQUksQ0FBQ1ksYUFBYSxLQUFLakUsNkRBQWFBLENBQUM2RCxJQUFJLElBQ3hDLElBQUksQ0FBQ00sWUFBWSxLQUFLdEQsMkRBQVlBLENBQUNnRixHQUFHLElBQ25DLENBQUMsSUFBSSxDQUFDZ0IsZ0NBQWdDLENBQUNELHlCQUEwQjtZQUNyRSxPQUFPLENBQUMsRUFBRSxJQUFJLENBQUNuRSxrQkFBa0IsQ0FBQyxnQ0FBZ0MsQ0FBQztRQUN2RTtRQUNBLE9BQU8sQ0FBQyxFQUFFLElBQUksQ0FBQ0Esa0JBQWtCLENBQUMscUNBQXFDLENBQUM7SUFDNUU7SUFDQTs7S0FFQyxHQUNEbUMsb0JBQW9CO1FBQ2hCLE9BQU8sQ0FBQyxDQUFDLElBQUksQ0FBQ0UsUUFBUTtJQUMxQjtJQUNBOzs7S0FHQyxHQUNELE1BQU1nQyx3QkFBd0I7UUFDMUIsSUFBSSxDQUFDdkUsaUJBQWlCLEVBQUV3RSxvQkFBb0I1RiwwRkFBaUJBLENBQUM2Riw4QkFBOEIsRUFBRSxJQUFJLENBQUMxRSxhQUFhO1FBQ2hILE1BQU0yRSxpQkFBaUIsSUFBSSxDQUFDQyx3QkFBd0I7UUFDcEQsTUFBTUMsdUJBQXVCLE1BQU0vRix3RUFBV0EsQ0FBQyxJQUFJLENBQUNJLDRCQUE0QixDQUFDNEYsSUFBSSxDQUFDLElBQUksR0FBR2pHLDBGQUFpQkEsQ0FBQ2tHLHFDQUFxQyxFQUFFLElBQUksQ0FBQ2hGLE1BQU0sRUFBRSxJQUFJLENBQUNFLGlCQUFpQixFQUFFLElBQUksQ0FBQ0QsYUFBYSxFQUFFMkU7UUFDL00sSUFBSSxDQUFDeEUsa0JBQWtCLEdBQUcsSUFBSSxDQUFDQSxrQkFBa0IsQ0FBQzBDLE9BQU8sQ0FBQyxJQUFJLENBQUNWLGVBQWUsRUFBRXdDLGVBQWVLLGlCQUFpQjtRQUNoSCxNQUFNQyxpQkFBaUIsTUFBTW5HLHdFQUFXQSxDQUFDLElBQUksQ0FBQ29HLHNCQUFzQixDQUFDSixJQUFJLENBQUMsSUFBSSxHQUFHakcsMEZBQWlCQSxDQUFDc0csK0JBQStCLEVBQUUsSUFBSSxDQUFDcEYsTUFBTSxFQUFFLElBQUksQ0FBQ0UsaUJBQWlCLEVBQUUsSUFBSSxDQUFDRCxhQUFhLEVBQUUyRTtRQUM3TCxJQUFJLENBQUNTLG9CQUFvQixDQUFDVCxnQkFBZ0JFLHNCQUFzQjtZQUM1RFEsUUFBUUo7UUFDWjtRQUNBLElBQUksQ0FBQ2hGLGlCQUFpQixFQUFFcUYsVUFBVTtZQUM5QlQsc0JBQXNCQTtZQUN0QlUseUJBQXlCTjtRQUM3QixHQUFHLElBQUksQ0FBQ2pGLGFBQWE7SUFDekI7SUFDQTs7OztLQUlDLEdBQ0Q0RSwyQkFBMkI7UUFDdkIsSUFBSUQsaUJBQWlCLElBQUksQ0FBQzlFLFlBQVksQ0FBQzJGLDJCQUEyQixDQUFDLElBQUksQ0FBQ3JELGVBQWU7UUFDdkYsSUFBSSxDQUFDd0MsZ0JBQWdCO1lBQ2pCQSxpQkFBaUI7Z0JBQ2JjLFNBQVMsRUFBRTtnQkFDWEMsaUJBQWlCLElBQUksQ0FBQ3ZELGVBQWU7Z0JBQ3JDNkMsbUJBQW1CLElBQUksQ0FBQzdDLGVBQWU7Z0JBQ3ZDd0IscUJBQXFCLElBQUksQ0FBQ3hELGtCQUFrQjtnQkFDNUNzQyx3QkFBd0I7Z0JBQ3hCRSxnQkFBZ0I7Z0JBQ2hCSSxzQkFBc0I7Z0JBQ3RCRSxRQUFRO2dCQUNSMEMsb0JBQW9CO2dCQUNwQkMsc0JBQXNCO2dCQUN0QkMsV0FBVzlHLGlHQUFrQ0E7Z0JBQzdDb0UsVUFBVTtZQUNkO1FBQ0o7UUFDQSxPQUFPd0I7SUFDWDtJQUNBOzs7Ozs7S0FNQyxHQUNEUyxxQkFBcUJULGNBQWMsRUFBRUUsb0JBQW9CLEVBQUVpQixzQkFBc0IsRUFBRTtRQUMvRSxJQUFJakIseUJBQXlCOUcseUVBQXVCQSxDQUFDZ0ksS0FBSyxJQUN0REQsd0JBQXdCVCxXQUFXdEgseUVBQXVCQSxDQUFDZ0ksS0FBSyxFQUFFO1lBQ2xFLG1GQUFtRjtZQUNuRnBCLGVBQWVrQixTQUFTLEdBQ3BCOUcsaUdBQWtDQTtZQUN0QzRGLGVBQWVoQixtQkFBbUIsR0FBRyxJQUFJLENBQUN4RCxrQkFBa0I7UUFDaEU7UUFDQSxNQUFNNkYsV0FBVyxJQUFJLENBQUNuRyxZQUFZLENBQUNvRyxpQ0FBaUMsQ0FBQ3RCLGVBQWVlLGVBQWU7UUFDbkcsSUFBSSxDQUFDN0YsWUFBWSxDQUFDcUcsb0JBQW9CLENBQUNGLFVBQVVyQjtRQUNqRCxJQUFJLENBQUNuQyxRQUFRLEdBQUdtQztJQUNwQjtJQUNBOzs7S0FHQyxHQUNELE1BQU1PLHVCQUF1QlAsY0FBYyxFQUFFO1FBQ3pDLElBQUksQ0FBQzFFLGlCQUFpQixFQUFFd0Usb0JBQW9CNUYsMEZBQWlCQSxDQUFDc0csK0JBQStCLEVBQUUsSUFBSSxDQUFDbkYsYUFBYTtRQUNqSCxNQUFNbUcsZ0JBQWdCLElBQUksQ0FBQ0Msc0NBQXNDLENBQUN6QjtRQUNsRSwwRkFBMEY7UUFDMUYsSUFBSXdCLGVBQWU7WUFDZixJQUFJQSxjQUFjZCxNQUFNLEtBQ3BCdEgseUVBQXVCQSxDQUFDc0ksZ0JBQWdCLEVBQUU7Z0JBQzFDLHFHQUFxRztnQkFDckcsSUFBSSxJQUFJLENBQUN2RyxnQkFBZ0IsQ0FBQ3dHLHdCQUF3QixFQUFFQyxhQUFhO29CQUM3RCxJQUFJSixjQUFjM0QsUUFBUSxFQUFFO3dCQUN4QixNQUFNZ0Usb0JBQW9CLE1BQU0xSCx3RUFBV0EsQ0FBQyxJQUFJLENBQUMySCxxQ0FBcUMsQ0FBQzNCLElBQUksQ0FBQyxJQUFJLEdBQUdqRywwRkFBaUJBLENBQUM2SCw4Q0FBOEMsRUFBRSxJQUFJLENBQUMzRyxNQUFNLEVBQUUsSUFBSSxDQUFDRSxpQkFBaUIsRUFBRSxJQUFJLENBQUNELGFBQWEsRUFBRW1HLGNBQWMzRCxRQUFRO3dCQUNwUHhELDhGQUErQkEsQ0FBQzJGLGdCQUFnQjZCLG1CQUFtQjt3QkFDbkU3QixlQUFlaEIsbUJBQW1CLEdBQzlCLElBQUksQ0FBQ3hELGtCQUFrQjtvQkFDL0I7Z0JBQ0o7WUFDSjtZQUNBLE9BQU9nRyxjQUFjZCxNQUFNO1FBQy9CO1FBQ0EsOERBQThEO1FBQzlELElBQUk3QyxXQUFXLE1BQU0xRCx3RUFBV0EsQ0FBQyxJQUFJLENBQUM2SCw4QkFBOEIsQ0FBQzdCLElBQUksQ0FBQyxJQUFJLEdBQUdqRywwRkFBaUJBLENBQUMrSCx1Q0FBdUMsRUFBRSxJQUFJLENBQUM3RyxNQUFNLEVBQUUsSUFBSSxDQUFDRSxpQkFBaUIsRUFBRSxJQUFJLENBQUNELGFBQWE7UUFDbk0sSUFBSXdDLFVBQVU7WUFDVixxR0FBcUc7WUFDckcsSUFBSSxJQUFJLENBQUMxQyxnQkFBZ0IsQ0FBQ3dHLHdCQUF3QixFQUFFQyxhQUFhO2dCQUM3RC9ELFdBQVcsTUFBTTFELHdFQUFXQSxDQUFDLElBQUksQ0FBQzJILHFDQUFxQyxDQUFDM0IsSUFBSSxDQUFDLElBQUksR0FBR2pHLDBGQUFpQkEsQ0FBQzZILDhDQUE4QyxFQUFFLElBQUksQ0FBQzNHLE1BQU0sRUFBRSxJQUFJLENBQUNFLGlCQUFpQixFQUFFLElBQUksQ0FBQ0QsYUFBYSxFQUFFd0M7WUFDbk47WUFDQXhELDhGQUErQkEsQ0FBQzJGLGdCQUFnQm5DLFVBQVU7WUFDMUQsT0FBT3pFLHlFQUF1QkEsQ0FBQzhJLE9BQU87UUFDMUMsT0FDSztZQUNELHFGQUFxRjtZQUNyRixNQUFNaEosaUZBQXFCQSxDQUFDd0IsOEVBQWlCQSxFQUFFLElBQUksQ0FBQ2dGLGtDQUFrQztRQUMxRjtJQUNKO0lBQ0E7Ozs7O0tBS0MsR0FDRCtCLHVDQUF1Q3pCLGNBQWMsRUFBRTtRQUNuRCxJQUFJLENBQUM1RSxNQUFNLENBQUNxRSxPQUFPLENBQUM7UUFDcEIsTUFBTTBDLGlCQUFpQixJQUFJLENBQUNDLDZCQUE2QjtRQUN6RCxJQUFJRCxnQkFBZ0I7WUFDaEIsSUFBSSxDQUFDL0csTUFBTSxDQUFDcUUsT0FBTyxDQUFDO1lBQ3BCcEYsOEZBQStCQSxDQUFDMkYsZ0JBQWdCbUMsZ0JBQWdCO1lBQ2hFLE9BQU87Z0JBQ0h6QixRQUFRdEgseUVBQXVCQSxDQUFDaUosTUFBTTtZQUMxQztRQUNKO1FBQ0EsSUFBSSxDQUFDakgsTUFBTSxDQUFDcUUsT0FBTyxDQUFDO1FBQ3BCLHVMQUF1TDtRQUN2TCxJQUFJLElBQUksQ0FBQ3RFLGdCQUFnQixDQUFDbUgsMEJBQTBCLEVBQUU7WUFDbEQsSUFBSSxDQUFDbEgsTUFBTSxDQUFDcUUsT0FBTyxDQUFDO1FBQ3hCLE9BQ0s7WUFDRCxNQUFNb0Msb0JBQW9CLElBQUksQ0FBQ1Usc0NBQXNDO1lBQ3JFLElBQUlWLG1CQUFtQjtnQkFDbkJ4SCw4RkFBK0JBLENBQUMyRixnQkFBZ0I2QixtQkFBbUI7Z0JBQ25FLE9BQU87b0JBQ0huQixRQUFRdEgseUVBQXVCQSxDQUFDc0ksZ0JBQWdCO29CQUNoRDdELFVBQVVnRTtnQkFDZDtZQUNKLE9BQ0s7Z0JBQ0QsSUFBSSxDQUFDekcsTUFBTSxDQUFDcUUsT0FBTyxDQUFDO1lBQ3hCO1FBQ0o7UUFDQSxpREFBaUQ7UUFDakQsTUFBTStDLHdCQUF3QmxJLHlGQUEwQkEsQ0FBQzBGO1FBQ3pELElBQUksSUFBSSxDQUFDeUMsbUJBQW1CLENBQUN6QyxtQkFDekJBLGVBQWVpQixvQkFBb0IsSUFDbkMsQ0FBQ3VCLHVCQUF1QjtZQUN4QixvQkFBb0I7WUFDcEIsSUFBSSxDQUFDcEgsTUFBTSxDQUFDcUUsT0FBTyxDQUFDO1lBQ3BCLE9BQU87Z0JBQUVpQixRQUFRdEgseUVBQXVCQSxDQUFDZ0ksS0FBSztZQUFDO1FBQ25ELE9BQ0ssSUFBSW9CLHVCQUF1QjtZQUM1QixJQUFJLENBQUNwSCxNQUFNLENBQUNxRSxPQUFPLENBQUM7UUFDeEI7UUFDQSxPQUFPO0lBQ1g7SUFDQTs7Ozs7S0FLQyxHQUNEZ0Qsb0JBQW9CekMsY0FBYyxFQUFFO1FBQ2hDLE1BQU1qQixxQkFBcUIsSUFBSTlGLHlEQUFTQSxDQUFDK0csZUFBZWhCLG1CQUFtQjtRQUMzRSxNQUFNMEQsY0FBYzNELG1CQUFtQnhCLGdCQUFnQixHQUFHZixZQUFZO1FBQ3RFLE9BQVFrRyxZQUFZakcsTUFBTSxLQUN0QixJQUFJLENBQUNRLCtCQUErQixDQUFDVCxZQUFZLENBQUNDLE1BQU07SUFDaEU7SUFDQTs7S0FFQyxHQUNEMkYsZ0NBQWdDO1FBQzVCLElBQUksSUFBSSxDQUFDakgsZ0JBQWdCLENBQUN3SCxpQkFBaUIsRUFBRTtZQUN6QyxJQUFJO2dCQUNBLE9BQU9DLEtBQUtDLEtBQUssQ0FBQyxJQUFJLENBQUMxSCxnQkFBZ0IsQ0FBQ3dILGlCQUFpQjtZQUM3RCxFQUNBLE9BQU9HLEdBQUc7Z0JBQ04sTUFBTW5KLG9HQUE4QkEsQ0FBQ2dCLCtGQUF3QkE7WUFDakU7UUFDSjtRQUNBLE9BQU87SUFDWDtJQUNBOzs7O0tBSUMsR0FDRCxNQUFNcUgsaUNBQWlDO1FBQ25DLElBQUksQ0FBQzFHLGlCQUFpQixFQUFFd0Usb0JBQW9CNUYsMEZBQWlCQSxDQUFDK0gsdUNBQXVDLEVBQUUsSUFBSSxDQUFDNUcsYUFBYTtRQUN6SCxNQUFNOEIsVUFBVSxDQUFDO1FBQ2pCOzs7U0FHQyxHQUNELE1BQU00Riw4QkFBOEIsSUFBSSxDQUFDckQsa0NBQWtDO1FBQzNFLElBQUksQ0FBQ3RFLE1BQU0sQ0FBQ3FFLE9BQU8sQ0FBQyxDQUFDLHNGQUFzRixFQUFFc0QsNEJBQTRCLENBQUM7UUFDMUksSUFBSTtZQUNBLE1BQU1DLFdBQVcsTUFBTSxJQUFJLENBQUMvSCxnQkFBZ0IsQ0FBQ2dJLG1CQUFtQixDQUFDRiw2QkFBNkI1RjtZQUM5RixNQUFNK0Ysa0JBQWtCbEssa0ZBQXNCQSxDQUFDZ0ssU0FBU0csSUFBSTtZQUM1RCxJQUFJRCxpQkFBaUI7Z0JBQ2pCLE9BQU9GLFNBQVNHLElBQUk7WUFDeEIsT0FDSztnQkFDRCxJQUFJLENBQUMvSCxNQUFNLENBQUNxRSxPQUFPLENBQUMsQ0FBQywwRkFBMEYsQ0FBQztnQkFDaEgsT0FBTztZQUNYO1FBQ0osRUFDQSxPQUFPcUQsR0FBRztZQUNOLElBQUksQ0FBQzFILE1BQU0sQ0FBQ3FFLE9BQU8sQ0FBQyxDQUFDLDBDQUEwQyxFQUFFcUQsRUFBRSxDQUFDO1lBQ3BFLE9BQU87UUFDWDtJQUNKO0lBQ0E7O0tBRUMsR0FDRFAseUNBQXlDO1FBQ3JDLElBQUksSUFBSSxDQUFDL0UsZUFBZSxJQUFJakUscUVBQWdCQSxFQUFFO1lBQzFDLE9BQU9BLHFFQUFnQixDQUFDLElBQUksQ0FBQ2lFLGVBQWUsQ0FBQztRQUNqRDtRQUNBLE9BQU87SUFDWDtJQUNBOzs7S0FHQyxHQUNELE1BQU1zRSxzQ0FBc0NqRSxRQUFRLEVBQUU7UUFDbEQsSUFBSSxDQUFDdkMsaUJBQWlCLEVBQUV3RSxvQkFBb0I1RiwwRkFBaUJBLENBQUM2SCw4Q0FBOEMsRUFBRSxJQUFJLENBQUMxRyxhQUFhO1FBQ2hJLE1BQU0rSCw0QkFBNEIsSUFBSSxDQUFDakksZ0JBQWdCLENBQUN3Ryx3QkFBd0IsRUFBRUM7UUFDbEYsSUFBSXdCLDJCQUEyQjtZQUMzQixJQUFJQSw4QkFDQWpLLDJEQUFTQSxDQUFDa0ssK0JBQStCLEVBQUU7Z0JBQzNDLElBQUksQ0FBQzFILHVCQUF1QixDQUFDSSxjQUFjLEdBQ3ZDMUMseUVBQXVCQSxDQUFDaUssNEJBQTRCO2dCQUN4RCxJQUFJLENBQUMzSCx1QkFBdUIsQ0FBQ0MsV0FBVyxHQUNwQ3dIO2dCQUNKLE9BQU90SSxVQUFVeUksOEJBQThCLENBQUMxRixVQUFVdUY7WUFDOUQ7WUFDQSxNQUFNSSx5QkFBeUIsTUFBTXJKLHdFQUFXQSxDQUFDLElBQUksQ0FBQzZCLGVBQWUsQ0FBQ3lILFlBQVksQ0FBQ3RELElBQUksQ0FBQyxJQUFJLENBQUNuRSxlQUFlLEdBQUc5QiwwRkFBaUJBLENBQUN3SiwyQkFBMkIsRUFBRSxJQUFJLENBQUN0SSxNQUFNLEVBQUUsSUFBSSxDQUFDRSxpQkFBaUIsRUFBRSxJQUFJLENBQUNELGFBQWEsRUFBRSxJQUFJLENBQUNGLGdCQUFnQixDQUFDd0csd0JBQXdCLEVBQy9QZ0MsbUJBQW1CLElBQUksQ0FBQ2hJLHVCQUF1QjtZQUNyRCxJQUFJNkgsd0JBQXdCO2dCQUN4QixJQUFJLENBQUM3SCx1QkFBdUIsQ0FBQ0ksY0FBYyxHQUN2QzFDLHlFQUF1QkEsQ0FBQ3VLLG1DQUFtQztnQkFDL0QsSUFBSSxDQUFDakksdUJBQXVCLENBQUNDLFdBQVcsR0FDcEM0SDtnQkFDSixPQUFPMUksVUFBVXlJLDhCQUE4QixDQUFDMUYsVUFBVTJGO1lBQzlEO1lBQ0EsSUFBSSxDQUFDN0gsdUJBQXVCLENBQUNJLGNBQWMsR0FDdkMxQyx5RUFBdUJBLENBQUN3SywrQkFBK0I7UUFDL0Q7UUFDQSxPQUFPaEc7SUFDWDtJQUNBOzs7OztLQUtDLEdBQ0QsTUFBTXRELDZCQUE2QnlGLGNBQWMsRUFBRTtRQUMvQyxJQUFJLENBQUMxRSxpQkFBaUIsRUFBRXdFLG9CQUFvQjVGLDBGQUFpQkEsQ0FBQ2tHLHFDQUFxQyxFQUFFLElBQUksQ0FBQy9FLGFBQWE7UUFDdkgsTUFBTXlJLHNCQUFzQixJQUFJLENBQUNDLDRDQUE0QyxDQUFDL0Q7UUFDOUUsSUFBSThELHFCQUFxQjtZQUNyQixPQUFPQTtRQUNYO1FBQ0EseUNBQXlDO1FBQ3pDLE1BQU1qRyxXQUFXLE1BQU0xRCx3RUFBV0EsQ0FBQyxJQUFJLENBQUM2SixvQ0FBb0MsQ0FBQzdELElBQUksQ0FBQyxJQUFJLEdBQUdqRywwRkFBaUJBLENBQUMrSiw2Q0FBNkMsRUFBRSxJQUFJLENBQUM3SSxNQUFNLEVBQUUsSUFBSSxDQUFDRSxpQkFBaUIsRUFBRSxJQUFJLENBQUNELGFBQWE7UUFDak4sSUFBSXdDLFVBQVU7WUFDVnRELDJGQUE0QkEsQ0FBQ3lGLGdCQUFnQm5DLFVBQVU7WUFDdkQsT0FBT3pFLHlFQUF1QkEsQ0FBQzhJLE9BQU87UUFDMUM7UUFDQSxxRkFBcUY7UUFDckYsTUFBTXZJLG9HQUE4QkEsQ0FBQ2lCLHlGQUFrQkE7SUFDM0Q7SUFDQW1KLDZDQUE2Qy9ELGNBQWMsRUFBRTtRQUN6RCxJQUFJLENBQUM1RSxNQUFNLENBQUNxRSxPQUFPLENBQUM7UUFDcEIsSUFBSSxDQUFDckUsTUFBTSxDQUFDOEksVUFBVSxDQUFDLENBQUMsbUJBQW1CLEVBQUUsSUFBSSxDQUFDL0ksZ0JBQWdCLENBQUNnSixnQkFBZ0IsSUFDL0VoTCwyREFBU0EsQ0FBQ2lMLGNBQWMsQ0FBQyxDQUFDO1FBQzlCLElBQUksQ0FBQ2hKLE1BQU0sQ0FBQzhJLFVBQVUsQ0FBQyxDQUFDLG9CQUFvQixFQUFFLElBQUksQ0FBQy9JLGdCQUFnQixDQUFDd0gsaUJBQWlCLElBQ2pGeEosMkRBQVNBLENBQUNpTCxjQUFjLENBQUMsQ0FBQztRQUM5QixJQUFJLENBQUNoSixNQUFNLENBQUM4SSxVQUFVLENBQUMsQ0FBQyxxQkFBcUIsRUFBRWxFLGVBQWVoQixtQkFBbUIsSUFBSTdGLDJEQUFTQSxDQUFDaUwsY0FBYyxDQUFDLENBQUM7UUFDL0csTUFBTXZHLFdBQVcsSUFBSSxDQUFDd0csbUNBQW1DO1FBQ3pELElBQUl4RyxVQUFVO1lBQ1YsSUFBSSxDQUFDekMsTUFBTSxDQUFDcUUsT0FBTyxDQUFDO1lBQ3BCbEYsMkZBQTRCQSxDQUFDeUYsZ0JBQWdCbkMsVUFBVTtZQUN2RCxPQUFPekUseUVBQXVCQSxDQUFDaUosTUFBTTtRQUN6QztRQUNBLDBIQUEwSDtRQUMxSCxJQUFJLENBQUNqSCxNQUFNLENBQUNxRSxPQUFPLENBQUM7UUFDcEIsSUFBSSxJQUFJLENBQUN0QyxPQUFPLENBQUNtRiwwQkFBMEIsRUFBRTtZQUN6QyxJQUFJLENBQUNsSCxNQUFNLENBQUNxRSxPQUFPLENBQUM7UUFDeEIsT0FDSztZQUNELE1BQU1vQyxvQkFBb0JySSxxR0FBNENBLENBQUMsSUFBSSxDQUFDZ0UsZUFBZTtZQUMzRixJQUFJcUUsbUJBQW1CO2dCQUNuQixJQUFJLENBQUN6RyxNQUFNLENBQUNxRSxPQUFPLENBQUM7Z0JBQ3BCbEYsMkZBQTRCQSxDQUFDeUYsZ0JBQWdCNkIsbUJBQW1CO2dCQUNoRSxPQUFPekkseUVBQXVCQSxDQUFDc0ksZ0JBQWdCO1lBQ25EO1lBQ0EsSUFBSSxDQUFDdEcsTUFBTSxDQUFDcUUsT0FBTyxDQUFDO1FBQ3hCO1FBQ0EsTUFBTStDLHdCQUF3QmxJLHlGQUEwQkEsQ0FBQzBGO1FBQ3pELElBQUksSUFBSSxDQUFDeUMsbUJBQW1CLENBQUN6QyxtQkFDekJBLGVBQWVnQixrQkFBa0IsSUFDakMsQ0FBQ3dCLHVCQUF1QjtZQUN4QixJQUFJLENBQUNwSCxNQUFNLENBQUNxRSxPQUFPLENBQUM7WUFDcEIsb0JBQW9CO1lBQ3BCLE9BQU9yRyx5RUFBdUJBLENBQUNnSSxLQUFLO1FBQ3hDLE9BQ0ssSUFBSW9CLHVCQUF1QjtZQUM1QixJQUFJLENBQUNwSCxNQUFNLENBQUNxRSxPQUFPLENBQUM7UUFDeEI7UUFDQSxPQUFPO0lBQ1g7SUFDQTs7S0FFQyxHQUNENEUsc0NBQXNDO1FBQ2xDLGlEQUFpRDtRQUNqRCxJQUFJLElBQUksQ0FBQ3JILGFBQWEsS0FBS2pFLDZEQUFhQSxDQUFDdUQsSUFBSSxFQUFFO1lBQzNDLElBQUksQ0FBQ2xCLE1BQU0sQ0FBQ3FFLE9BQU8sQ0FBQztZQUNwQixPQUFPM0UsVUFBVXdKLG9DQUFvQyxDQUFDLElBQUksQ0FBQzlHLGVBQWU7UUFDOUU7UUFDQSxtREFBbUQ7UUFDbkQsSUFBSSxJQUFJLENBQUNyQyxnQkFBZ0IsQ0FBQ29KLHNCQUFzQixFQUFFO1lBQzlDLElBQUksQ0FBQ25KLE1BQU0sQ0FBQ3FFLE9BQU8sQ0FBQztZQUNwQixJQUFJO2dCQUNBLElBQUksQ0FBQ3JFLE1BQU0sQ0FBQ3FFLE9BQU8sQ0FBQztnQkFDcEIsTUFBTStFLGlCQUFpQjVCLEtBQUtDLEtBQUssQ0FBQyxJQUFJLENBQUMxSCxnQkFBZ0IsQ0FBQ29KLHNCQUFzQjtnQkFDOUUsTUFBTTFHLFdBQVdwRSxxR0FBNENBLENBQUMrSyxlQUFlM0csUUFBUSxFQUFFLElBQUksQ0FBQ0wsZUFBZTtnQkFDM0csSUFBSSxDQUFDcEMsTUFBTSxDQUFDcUUsT0FBTyxDQUFDO2dCQUNwQixJQUFJNUIsVUFBVTtvQkFDVixJQUFJLENBQUN6QyxNQUFNLENBQUNxRSxPQUFPLENBQUM7b0JBQ3BCLE9BQU81QjtnQkFDWCxPQUNLO29CQUNELElBQUksQ0FBQ3pDLE1BQU0sQ0FBQ3FFLE9BQU8sQ0FBQztnQkFDeEI7WUFDSixFQUNBLE9BQU9xRCxHQUFHO2dCQUNOLElBQUksQ0FBQzFILE1BQU0sQ0FBQ3FFLE9BQU8sQ0FBQztnQkFDcEIsTUFBTTlGLG9HQUE4QkEsQ0FBQ2tCLG9HQUE2QkE7WUFDdEU7UUFDSjtRQUNBLDBGQUEwRjtRQUMxRixJQUFJLElBQUksQ0FBQzRKLG9CQUFvQixJQUFJO1lBQzdCLElBQUksQ0FBQ3JKLE1BQU0sQ0FBQ3FFLE9BQU8sQ0FBQztZQUNwQixPQUFPM0UsVUFBVXdKLG9DQUFvQyxDQUFDLElBQUksQ0FBQzlHLGVBQWU7UUFDOUU7UUFDQSxPQUFPO0lBQ1g7SUFDQTs7OztLQUlDLEdBQ0QsTUFBTXdHLHVDQUF1QztRQUN6QyxJQUFJLENBQUMxSSxpQkFBaUIsRUFBRXdFLG9CQUFvQjVGLDBGQUFpQkEsQ0FBQytKLDZDQUE2QyxFQUFFLElBQUksQ0FBQzVJLGFBQWE7UUFDL0gsTUFBTXFKLDRCQUE0QixDQUFDLEVBQUV2TCwyREFBU0EsQ0FBQ3dMLDRCQUE0QixDQUFDLEVBQUUsSUFBSSxDQUFDbkosa0JBQWtCLENBQUMscUJBQXFCLENBQUM7UUFDNUgsTUFBTTJCLFVBQVUsQ0FBQztRQUNqQjs7O1NBR0MsR0FDRCxJQUFJeUgsUUFBUTtRQUNaLElBQUk7WUFDQSxNQUFNNUIsV0FBVyxNQUFNLElBQUksQ0FBQy9ILGdCQUFnQixDQUFDZ0ksbUJBQW1CLENBQUN5QiwyQkFBMkJ2SDtZQUM1RixJQUFJMEg7WUFDSixJQUFJaEg7WUFDSixJQUFJL0Qsc0dBQWdDQSxDQUFDa0osU0FBU0csSUFBSSxHQUFHO2dCQUNqRDBCLG9CQUNJN0IsU0FBU0csSUFBSTtnQkFDakJ0RixXQUFXZ0gsa0JBQWtCaEgsUUFBUTtnQkFDckMsSUFBSSxDQUFDekMsTUFBTSxDQUFDOEksVUFBVSxDQUFDLENBQUMsOEJBQThCLEVBQUVXLGtCQUFrQkMseUJBQXlCLENBQUMsQ0FBQztZQUN6RyxPQUNLLElBQUkvSyxnSEFBcUNBLENBQUNpSixTQUFTRyxJQUFJLEdBQUc7Z0JBQzNELElBQUksQ0FBQy9ILE1BQU0sQ0FBQzJKLE9BQU8sQ0FBQyxDQUFDLG1IQUFtSCxFQUFFL0IsU0FBU2dDLE1BQU0sQ0FBQyxDQUFDO2dCQUMzSkgsb0JBQ0k3QixTQUFTRyxJQUFJO2dCQUNqQixJQUFJMEIsa0JBQWtCSSxLQUFLLEtBQUs5TCwyREFBU0EsQ0FBQytMLGdCQUFnQixFQUFFO29CQUN4RCxJQUFJLENBQUM5SixNQUFNLENBQUM2SixLQUFLLENBQUM7b0JBQ2xCLE9BQU87Z0JBQ1g7Z0JBQ0EsSUFBSSxDQUFDN0osTUFBTSxDQUFDMkosT0FBTyxDQUFDLENBQUMsaURBQWlELEVBQUVGLGtCQUFrQkksS0FBSyxDQUFDLENBQUM7Z0JBQ2pHLElBQUksQ0FBQzdKLE1BQU0sQ0FBQzJKLE9BQU8sQ0FBQyxDQUFDLDZEQUE2RCxFQUFFRixrQkFBa0JNLGlCQUFpQixDQUFDLENBQUM7Z0JBQ3pILElBQUksQ0FBQy9KLE1BQU0sQ0FBQzJKLE9BQU8sQ0FBQztnQkFDcEJsSCxXQUFXLEVBQUU7WUFDakIsT0FDSztnQkFDRCxJQUFJLENBQUN6QyxNQUFNLENBQUM2SixLQUFLLENBQUM7Z0JBQ2xCLE9BQU87WUFDWDtZQUNBLElBQUksQ0FBQzdKLE1BQU0sQ0FBQ3FFLE9BQU8sQ0FBQztZQUNwQm1GLFFBQVFuTCxxR0FBNENBLENBQUNvRSxVQUFVLElBQUksQ0FBQ0wsZUFBZTtRQUN2RixFQUNBLE9BQU95SCxPQUFPO1lBQ1YsSUFBSUEsaUJBQWlCaEwsNERBQVNBLEVBQUU7Z0JBQzVCLElBQUksQ0FBQ21CLE1BQU0sQ0FBQzZKLEtBQUssQ0FBQyxDQUFDLGlHQUFpRyxFQUFFQSxNQUFNRyxTQUFTLENBQUMscUJBQXFCLEVBQUVILE1BQU1JLFlBQVksQ0FBQyxDQUFDO1lBQ3JMLE9BQ0s7Z0JBQ0QsTUFBTUMsYUFBYUw7Z0JBQ25CLElBQUksQ0FBQzdKLE1BQU0sQ0FBQzZKLEtBQUssQ0FBQyxDQUFDLHFHQUFxRyxFQUFFSyxXQUFXQyxJQUFJLENBQUMscUJBQXFCLEVBQUVELFdBQVdFLE9BQU8sQ0FBQyxDQUFDO1lBQ3pMO1lBQ0EsT0FBTztRQUNYO1FBQ0Esb0ZBQW9GO1FBQ3BGLElBQUksQ0FBQ1osT0FBTztZQUNSLElBQUksQ0FBQ3hKLE1BQU0sQ0FBQzJKLE9BQU8sQ0FBQztZQUNwQixJQUFJLENBQUMzSixNQUFNLENBQUNxRSxPQUFPLENBQUM7WUFDcEJtRixRQUFROUosVUFBVXdKLG9DQUFvQyxDQUFDLElBQUksQ0FBQzlHLGVBQWU7UUFDL0U7UUFDQSxPQUFPb0g7SUFDWDtJQUNBOztLQUVDLEdBQ0RILHVCQUF1QjtRQUNuQixNQUFNZ0IsVUFBVSxJQUFJLENBQUN0SyxnQkFBZ0IsQ0FBQ2dKLGdCQUFnQixDQUFDdUIsTUFBTSxDQUFDLENBQUMxSztZQUMzRCxPQUFRQSxhQUNKL0IseURBQVNBLENBQUMwTSxnQkFBZ0IsQ0FBQzNLLFdBQVcwQixXQUFXLE9BQzdDLElBQUksQ0FBQ2MsZUFBZTtRQUNoQztRQUNBLE9BQU9pSSxRQUFRaEosTUFBTSxHQUFHO0lBQzVCO0lBQ0E7Ozs7S0FJQyxHQUNELE9BQU9tSixrQkFBa0JDLGVBQWUsRUFBRUMsaUJBQWlCLEVBQUU7UUFDekQsSUFBSUM7UUFDSixJQUFJRCxxQkFDQUEsa0JBQWtCRSxrQkFBa0IsS0FBS25NLHNFQUFrQkEsQ0FBQ29NLElBQUksRUFBRTtZQUNsRSxNQUFNeEksU0FBU3FJLGtCQUFrQnJJLE1BQU0sR0FDakNxSSxrQkFBa0JySSxNQUFNLEdBQ3hCdEUsMkRBQVNBLENBQUMrTSxxQkFBcUI7WUFDckNILDhCQUE4QixDQUFDLEVBQUVELGtCQUFrQkUsa0JBQWtCLENBQUMsQ0FBQyxFQUFFdkksT0FBTyxDQUFDLENBQUM7UUFDdEY7UUFDQSxPQUFPc0ksOEJBQ0RBLDhCQUNBRjtJQUNWO0lBQ0E7OztLQUdDLEdBQ0QsT0FBT3ZCLHFDQUFxQzZCLElBQUksRUFBRTtRQUM5QyxPQUFPO1lBQ0g5RixtQkFBbUI4RjtZQUNuQnBGLGlCQUFpQm9GO1lBQ2pCckYsU0FBUztnQkFBQ3FGO2FBQUs7UUFDbkI7SUFDSjtJQUNBOztLQUVDLEdBQ0RDLG9CQUFvQjtRQUNoQixJQUFJLElBQUksQ0FBQzdLLGVBQWUsRUFBRTtZQUN0QixPQUFPcEMsMkRBQVNBLENBQUNrTixzQkFBc0I7UUFDM0MsT0FDSyxJQUFJLElBQUksQ0FBQzFJLGlCQUFpQixJQUFJO1lBQy9CLE9BQU8sSUFBSSxDQUFDRSxRQUFRLENBQUNrRCxlQUFlO1FBQ3hDLE9BQ0s7WUFDRCxNQUFNN0gsaUZBQXFCQSxDQUFDc0Isb0ZBQXVCQTtRQUN2RDtJQUNKO0lBQ0E7OztLQUdDLEdBQ0Q4TCxRQUFRSCxJQUFJLEVBQUU7UUFDVixPQUFPLElBQUksQ0FBQ3RJLFFBQVEsQ0FBQ2lELE9BQU8sQ0FBQ3lGLE9BQU8sQ0FBQ0osUUFBUSxDQUFDO0lBQ2xEO0lBQ0E7OztLQUdDLEdBQ0R2RyxpQ0FBaUN1RyxJQUFJLEVBQUU7UUFDbkMsT0FBT3pNLHFGQUFnQ0EsQ0FBQ2lGLEdBQUcsQ0FBQ3dIO0lBQ2hEO0lBQ0E7Ozs7O0tBS0MsR0FDRCxPQUFPSyx1QkFBdUJMLElBQUksRUFBRTtRQUNoQyxPQUFPaE4sMkRBQVNBLENBQUNzTixtQkFBbUIsQ0FBQ0YsT0FBTyxDQUFDSixTQUFTO0lBQzFEO0lBQ0E7Ozs7O0tBS0MsR0FDRCxPQUFPTyw2QkFBNkJQLElBQUksRUFBRVEsTUFBTSxFQUFFQyxXQUFXLEVBQUU7UUFDM0QsNEVBQTRFO1FBQzVFLE1BQU1DLHVCQUF1QixJQUFJNU4seURBQVNBLENBQUNrTjtRQUMzQ1UscUJBQXFCbkwsYUFBYTtRQUNsQyxNQUFNb0wsb0JBQW9CRCxxQkFBcUJ0SixnQkFBZ0I7UUFDL0QsSUFBSXdKLGtCQUFrQixDQUFDLEVBQUVKLE9BQU8sQ0FBQyxFQUFFRyxrQkFBa0IzSyxlQUFlLENBQUMsQ0FBQztRQUN0RSxJQUFJLElBQUksQ0FBQ3FLLHNCQUFzQixDQUFDTSxrQkFBa0IzSyxlQUFlLEdBQUc7WUFDaEU0SyxrQkFBa0IsQ0FBQyxFQUFFSixPQUFPLENBQUMsRUFBRXhOLDJEQUFTQSxDQUFDNk4saUNBQWlDLENBQUMsQ0FBQztRQUNoRjtRQUNBLDhDQUE4QztRQUM5QyxNQUFNM0osTUFBTXBFLHlEQUFTQSxDQUFDZ08sK0JBQStCLENBQUM7WUFDbEQsR0FBR0oscUJBQXFCdEosZ0JBQWdCLEVBQUU7WUFDMUNwQixpQkFBaUI0SztRQUNyQixHQUFHM0osU0FBUztRQUNaLHNEQUFzRDtRQUN0RCxJQUFJd0osYUFDQSxPQUFPLENBQUMsRUFBRXZKLElBQUksQ0FBQyxFQUFFdUosWUFBWSxDQUFDO1FBQ2xDLE9BQU92SjtJQUNYO0lBQ0E7Ozs7O0tBS0MsR0FDRCxPQUFPa0csK0JBQStCMUYsUUFBUSxFQUFFK0QsV0FBVyxFQUFFO1FBQ3pELE1BQU1zRixtQkFBbUI7WUFBRSxHQUFHckosUUFBUTtRQUFDO1FBQ3ZDcUosaUJBQWlCcEosc0JBQXNCLEdBQ25DaEQsVUFBVTRMLDRCQUE0QixDQUFDUSxpQkFBaUJwSixzQkFBc0IsRUFBRThEO1FBQ3BGc0YsaUJBQWlCbEosY0FBYyxHQUMzQmxELFVBQVU0TCw0QkFBNEIsQ0FBQ1EsaUJBQWlCbEosY0FBYyxFQUFFNEQ7UUFDNUUsSUFBSXNGLGlCQUFpQjlJLG9CQUFvQixFQUFFO1lBQ3ZDOEksaUJBQWlCOUksb0JBQW9CLEdBQ2pDdEQsVUFBVTRMLDRCQUE0QixDQUFDUSxpQkFBaUI5SSxvQkFBb0IsRUFBRXdEO1FBQ3RGO1FBQ0EsT0FBT3NGO0lBQ1g7SUFDQTs7Ozs7Ozs7S0FRQyxHQUNELE9BQU9DLHVCQUF1Qm5NLFNBQVMsRUFBRTtRQUNyQyxJQUFJb00sZ0JBQWdCcE07UUFDcEIsTUFBTXFNLGVBQWUsSUFBSXBPLHlEQUFTQSxDQUFDK0I7UUFDbkMsTUFBTXNNLHlCQUF5QkQsYUFBYTlKLGdCQUFnQjtRQUM1RCxvQ0FBb0M7UUFDcEMsSUFBSStKLHVCQUF1QjlLLFlBQVksQ0FBQ0MsTUFBTSxLQUFLLEtBQy9DNkssdUJBQXVCbkwsZUFBZSxDQUFDQyxRQUFRLENBQUNqRCwyREFBU0EsQ0FBQ2tELGFBQWEsR0FBRztZQUMxRSxNQUFNa0wsbUJBQW1CRCx1QkFBdUJuTCxlQUFlLENBQUNxTCxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUU7WUFDN0VKLGdCQUFnQixDQUFDLEVBQUVBLGNBQWMsRUFBRUcsaUJBQWlCLEVBQUVwTywyREFBU0EsQ0FBQ3NPLHdCQUF3QixDQUFDLENBQUM7UUFDOUY7UUFDQSxPQUFPTDtJQUNYO0FBQ0o7QUFDQSx3RUFBd0U7QUFDeEV0TSxVQUFVNEQscUJBQXFCLEdBQUcsSUFBSWdKLElBQUk7SUFDdEM7SUFDQTtJQUNBcE8sdUVBQXFCQSxDQUFDcU8sTUFBTTtJQUM1QnJPLHVFQUFxQkEsQ0FBQ3NPLFNBQVM7SUFDL0J0Tyx1RUFBcUJBLENBQUN1TyxhQUFhO0NBQ3RDO0FBQ0Q7O0NBRUMsR0FDRCxTQUFTQyw2QkFBNkI5TSxTQUFTO0lBQzNDLE1BQU1xTSxlQUFlLElBQUlwTyx5REFBU0EsQ0FBQytCO0lBQ25DLE1BQU1zTSx5QkFBeUJELGFBQWE5SixnQkFBZ0I7SUFDNUQ7Ozs7Ozs7S0FPQyxHQUNELE1BQU1pQyxXQUFXOEgsdUJBQXVCOUssWUFBWSxDQUFDdUwsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRXJMO0lBQ25FLE9BQVE4QztRQUNKLEtBQUtsRyx1RUFBcUJBLENBQUNxTyxNQUFNO1FBQ2pDLEtBQUtyTyx1RUFBcUJBLENBQUN1TyxhQUFhO1FBQ3hDLEtBQUt2Tyx1RUFBcUJBLENBQUNzTyxTQUFTO1lBQ2hDLE9BQU8vTDtRQUNYO1lBQ0ksT0FBTzJEO0lBQ2Y7QUFDSjtBQUNBLFNBQVN3SSxtQkFBbUI5TCxZQUFZO0lBQ3BDLE9BQU9BLGFBQWFFLFFBQVEsQ0FBQ2pELDJEQUFTQSxDQUFDOE8sYUFBYSxJQUM5Qy9MLGVBQ0EsQ0FBQyxFQUFFQSxhQUFhLEVBQUUvQywyREFBU0EsQ0FBQzhPLGFBQWEsQ0FBQyxDQUFDO0FBQ3JEO0FBQ0EsU0FBU0MsNEJBQTRCQyxXQUFXO0lBQzVDLE1BQU1DLDRCQUE0QkQsWUFBWTVELHNCQUFzQjtJQUNwRSxJQUFJQSx5QkFBeUIxSTtJQUM3QixJQUFJdU0sMkJBQTJCO1FBQzNCLElBQUk7WUFDQTdELHlCQUF5QjNCLEtBQUtDLEtBQUssQ0FBQ3VGO1FBQ3hDLEVBQ0EsT0FBT3RGLEdBQUc7WUFDTixNQUFNbkosb0dBQThCQSxDQUFDa0Isb0dBQTZCQTtRQUN0RTtJQUNKO0lBQ0EsT0FBTztRQUNIVyxvQkFBb0IyTSxZQUFZbk4sU0FBUyxHQUNuQ2dOLG1CQUFtQkcsWUFBWW5OLFNBQVMsSUFDeENhO1FBQ05zSSxrQkFBa0JnRSxZQUFZaEUsZ0JBQWdCO1FBQzlDSSx3QkFBd0JBO0lBQzVCO0FBQ0o7QUFFb0csQ0FDcEcsc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2F1dGhvcml0eS9BdXRob3JpdHkubWpzP2QwNjMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBBdXRob3JpdHlUeXBlIH0gZnJvbSAnLi9BdXRob3JpdHlUeXBlLm1qcyc7XG5pbXBvcnQgeyBpc09wZW5JZENvbmZpZ1Jlc3BvbnNlIH0gZnJvbSAnLi9PcGVuSWRDb25maWdSZXNwb25zZS5tanMnO1xuaW1wb3J0IHsgVXJsU3RyaW5nIH0gZnJvbSAnLi4vdXJsL1VybFN0cmluZy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBDb25zdGFudHMsIEF1dGhvcml0eU1ldGFkYXRhU291cmNlLCBSZWdpb25EaXNjb3ZlcnlPdXRjb21lcywgQUFEQXV0aG9yaXR5Q29uc3RhbnRzIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBFbmRwb2ludE1ldGFkYXRhLCBnZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbUhhcmRjb2RlZFZhbHVlcywgZ2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrUmVzcG9uc2UsIEluc3RhbmNlRGlzY292ZXJ5TWV0YWRhdGFBbGlhc2VzIH0gZnJvbSAnLi9BdXRob3JpdHlNZXRhZGF0YS5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLm1qcyc7XG5pbXBvcnQgeyBQcm90b2NvbE1vZGUgfSBmcm9tICcuL1Byb3RvY29sTW9kZS5tanMnO1xuaW1wb3J0IHsgQXp1cmVDbG91ZEluc3RhbmNlIH0gZnJvbSAnLi9BdXRob3JpdHlPcHRpb25zLm1qcyc7XG5pbXBvcnQgeyBpc0Nsb3VkSW5zdGFuY2VEaXNjb3ZlcnlSZXNwb25zZSB9IGZyb20gJy4vQ2xvdWRJbnN0YW5jZURpc2NvdmVyeVJlc3BvbnNlLm1qcyc7XG5pbXBvcnQgeyBpc0Nsb3VkSW5zdGFuY2VEaXNjb3ZlcnlFcnJvclJlc3BvbnNlIH0gZnJvbSAnLi9DbG91ZEluc3RhbmNlRGlzY292ZXJ5RXJyb3JSZXNwb25zZS5tanMnO1xuaW1wb3J0IHsgUmVnaW9uRGlzY292ZXJ5IH0gZnJvbSAnLi9SZWdpb25EaXNjb3ZlcnkubWpzJztcbmltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0F1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgUGVyZm9ybWFuY2VFdmVudHMgfSBmcm9tICcuLi90ZWxlbWV0cnkvcGVyZm9ybWFuY2UvUGVyZm9ybWFuY2VFdmVudC5tanMnO1xuaW1wb3J0IHsgaW52b2tlQXN5bmMgfSBmcm9tICcuLi91dGlscy9GdW5jdGlvbldyYXBwZXJzLm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZUF1dGhvcml0eU1ldGFkYXRhRXhwaXJlc0F0LCB1cGRhdGVBdXRob3JpdHlFbmRwb2ludE1ldGFkYXRhLCBpc0F1dGhvcml0eU1ldGFkYXRhRXhwaXJlZCwgdXBkYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YSB9IGZyb20gJy4uL2NhY2hlL3V0aWxzL0NhY2hlSGVscGVycy5tanMnO1xuaW1wb3J0IHsgZW5kcG9pbnRSZXNvbHV0aW9uRXJyb3IsIGVuZFNlc3Npb25FbmRwb2ludE5vdFN1cHBvcnRlZCwgb3BlbklkQ29uZmlnRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3JDb2Rlcy5tanMnO1xuaW1wb3J0IHsgaW52YWxpZEF1dGhvcml0eU1ldGFkYXRhLCB1bnRydXN0ZWRBdXRob3JpdHksIGludmFsaWRDbG91ZERpc2NvdmVyeU1ldGFkYXRhIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGUgYXV0aG9yaXR5IGNsYXNzIHZhbGlkYXRlcyB0aGUgYXV0aG9yaXR5IFVSSXMgdXNlZCBieSB0aGUgdXNlciwgYW5kIHJldHJpZXZlcyB0aGUgT3BlbklEIENvbmZpZ3VyYXRpb24gRGF0YSBmcm9tIHRoZVxyXG4gKiBlbmRwb2ludC4gSXQgd2lsbCBzdG9yZSB0aGUgcGVydGluZW50IGNvbmZpZyBkYXRhIGluIHRoaXMgb2JqZWN0IGZvciB1c2UgZHVyaW5nIHRva2VuIGNhbGxzLlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmNsYXNzIEF1dGhvcml0eSB7XHJcbiAgICBjb25zdHJ1Y3RvcihhdXRob3JpdHksIG5ldHdvcmtJbnRlcmZhY2UsIGNhY2hlTWFuYWdlciwgYXV0aG9yaXR5T3B0aW9ucywgbG9nZ2VyLCBjb3JyZWxhdGlvbklkLCBwZXJmb3JtYW5jZUNsaWVudCwgbWFuYWdlZElkZW50aXR5KSB7XHJcbiAgICAgICAgdGhpcy5jYW5vbmljYWxBdXRob3JpdHkgPSBhdXRob3JpdHk7XHJcbiAgICAgICAgdGhpcy5fY2Fub25pY2FsQXV0aG9yaXR5LnZhbGlkYXRlQXNVcmkoKTtcclxuICAgICAgICB0aGlzLm5ldHdvcmtJbnRlcmZhY2UgPSBuZXR3b3JrSW50ZXJmYWNlO1xyXG4gICAgICAgIHRoaXMuY2FjaGVNYW5hZ2VyID0gY2FjaGVNYW5hZ2VyO1xyXG4gICAgICAgIHRoaXMuYXV0aG9yaXR5T3B0aW9ucyA9IGF1dGhvcml0eU9wdGlvbnM7XHJcbiAgICAgICAgdGhpcy5yZWdpb25EaXNjb3ZlcnlNZXRhZGF0YSA9IHtcclxuICAgICAgICAgICAgcmVnaW9uX3VzZWQ6IHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgcmVnaW9uX3NvdXJjZTogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICByZWdpb25fb3V0Y29tZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCA9IHBlcmZvcm1hbmNlQ2xpZW50O1xyXG4gICAgICAgIHRoaXMuY29ycmVsYXRpb25JZCA9IGNvcnJlbGF0aW9uSWQ7XHJcbiAgICAgICAgdGhpcy5tYW5hZ2VkSWRlbnRpdHkgPSBtYW5hZ2VkSWRlbnRpdHkgfHwgZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZWdpb25EaXNjb3ZlcnkgPSBuZXcgUmVnaW9uRGlzY292ZXJ5KG5ldHdvcmtJbnRlcmZhY2UsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQge0BsaW5rIEF1dGhvcml0eVR5cGV9XHJcbiAgICAgKiBAcGFyYW0gYXV0aG9yaXR5VXJpIHtAbGluayBJVXJpfVxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgZ2V0QXV0aG9yaXR5VHlwZShhdXRob3JpdHlVcmkpIHtcclxuICAgICAgICAvLyBDSUFNIGF1dGggdXJsIHBhdHRlcm4gaXMgYmVpbmcgc3RhbmRhcmRpemVkIGFzOiA8dGVuYW50Pi5jaWFtbG9naW4uY29tXHJcbiAgICAgICAgaWYgKGF1dGhvcml0eVVyaS5Ib3N0TmFtZUFuZFBvcnQuZW5kc1dpdGgoQ29uc3RhbnRzLkNJQU1fQVVUSF9VUkwpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBBdXRob3JpdHlUeXBlLkNpYW07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBhdGhTZWdtZW50cyA9IGF1dGhvcml0eVVyaS5QYXRoU2VnbWVudHM7XHJcbiAgICAgICAgaWYgKHBhdGhTZWdtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChwYXRoU2VnbWVudHNbMF0udG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMuQURGUzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXV0aG9yaXR5VHlwZS5BZGZzO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDb25zdGFudHMuRFNUUzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gQXV0aG9yaXR5VHlwZS5Ec3RzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBBdXRob3JpdHlUeXBlLkRlZmF1bHQ7XHJcbiAgICB9XHJcbiAgICAvLyBTZWUgYWJvdmUgZm9yIEF1dGhvcml0eVR5cGVcclxuICAgIGdldCBhdXRob3JpdHlUeXBlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEF1dGhvcml0eVR5cGUodGhpcy5jYW5vbmljYWxBdXRob3JpdHlVcmxDb21wb25lbnRzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUHJvdG9jb2xNb2RlIGVudW0gcmVwcmVzZW50aW5nIHRoZSB3YXkgZW5kcG9pbnRzIGFyZSBjb25zdHJ1Y3RlZC5cclxuICAgICAqL1xyXG4gICAgZ2V0IHByb3RvY29sTW9kZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdXRob3JpdHlPcHRpb25zLnByb3RvY29sTW9kZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhdXRob3JpdHlPcHRpb25zIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHJlaW5zdGFudGlhdGUgYSBuZXcgYXV0aG9yaXR5IGluc3RhbmNlXHJcbiAgICAgKi9cclxuICAgIGdldCBvcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF1dGhvcml0eU9wdGlvbnM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEEgVVJMIHRoYXQgaXMgdGhlIGF1dGhvcml0eSBzZXQgYnkgdGhlIGRldmVsb3BlclxyXG4gICAgICovXHJcbiAgICBnZXQgY2Fub25pY2FsQXV0aG9yaXR5KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9jYW5vbmljYWxBdXRob3JpdHkudXJsU3RyaW5nO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTZXRzIGNhbm9uaWNhbCBhdXRob3JpdHkuXHJcbiAgICAgKi9cclxuICAgIHNldCBjYW5vbmljYWxBdXRob3JpdHkodXJsKSB7XHJcbiAgICAgICAgdGhpcy5fY2Fub25pY2FsQXV0aG9yaXR5ID0gbmV3IFVybFN0cmluZyh1cmwpO1xyXG4gICAgICAgIHRoaXMuX2Nhbm9uaWNhbEF1dGhvcml0eS52YWxpZGF0ZUFzVXJpKCk7XHJcbiAgICAgICAgdGhpcy5fY2Fub25pY2FsQXV0aG9yaXR5VXJsQ29tcG9uZW50cyA9IG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBhdXRob3JpdHkgY29tcG9uZW50cy5cclxuICAgICAqL1xyXG4gICAgZ2V0IGNhbm9uaWNhbEF1dGhvcml0eVVybENvbXBvbmVudHMoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9jYW5vbmljYWxBdXRob3JpdHlVcmxDb21wb25lbnRzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2Nhbm9uaWNhbEF1dGhvcml0eVVybENvbXBvbmVudHMgPVxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2Fub25pY2FsQXV0aG9yaXR5LmdldFVybENvbXBvbmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Nhbm9uaWNhbEF1dGhvcml0eVVybENvbXBvbmVudHM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCBob3N0bmFtZSBhbmQgcG9ydCBpLmUuIGxvZ2luLm1pY3Jvc29mdG9ubGluZS5jb21cclxuICAgICAqL1xyXG4gICAgZ2V0IGhvc3RuYW1lQW5kUG9ydCgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW5vbmljYWxBdXRob3JpdHlVcmxDb21wb25lbnRzLkhvc3ROYW1lQW5kUG9ydC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGVuYW50IGZvciBhdXRob3JpdHkuXHJcbiAgICAgKi9cclxuICAgIGdldCB0ZW5hbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2Fub25pY2FsQXV0aG9yaXR5VXJsQ29tcG9uZW50cy5QYXRoU2VnbWVudHNbMF07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE9BdXRoIC9hdXRob3JpemUgZW5kcG9pbnQgZm9yIHJlcXVlc3RzXHJcbiAgICAgKi9cclxuICAgIGdldCBhdXRob3JpemF0aW9uRW5kcG9pbnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlzY292ZXJ5Q29tcGxldGUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlUGF0aCh0aGlzLm1ldGFkYXRhLmF1dGhvcml6YXRpb25fZW5kcG9pbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKGVuZHBvaW50UmVzb2x1dGlvbkVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE9BdXRoIC90b2tlbiBlbmRwb2ludCBmb3IgcmVxdWVzdHNcclxuICAgICAqL1xyXG4gICAgZ2V0IHRva2VuRW5kcG9pbnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlzY292ZXJ5Q29tcGxldGUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlUGF0aCh0aGlzLm1ldGFkYXRhLnRva2VuX2VuZHBvaW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihlbmRwb2ludFJlc29sdXRpb25FcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZ2V0IGRldmljZUNvZGVFbmRwb2ludCgpIHtcclxuICAgICAgICBpZiAodGhpcy5kaXNjb3ZlcnlDb21wbGV0ZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcGxhY2VQYXRoKHRoaXMubWV0YWRhdGEudG9rZW5fZW5kcG9pbnQucmVwbGFjZShcIi90b2tlblwiLCBcIi9kZXZpY2Vjb2RlXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihlbmRwb2ludFJlc29sdXRpb25FcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBPQXV0aCBsb2dvdXQgZW5kcG9pbnQgZm9yIHJlcXVlc3RzXHJcbiAgICAgKi9cclxuICAgIGdldCBlbmRTZXNzaW9uRW5kcG9pbnQoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlzY292ZXJ5Q29tcGxldGUoKSkge1xyXG4gICAgICAgICAgICAvLyBST1BDIHBvbGljaWVzIG1heSBub3QgaGF2ZSBlbmRfc2Vzc2lvbl9lbmRwb2ludCBzZXRcclxuICAgICAgICAgICAgaWYgKCF0aGlzLm1ldGFkYXRhLmVuZF9zZXNzaW9uX2VuZHBvaW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IoZW5kU2Vzc2lvbkVuZHBvaW50Tm90U3VwcG9ydGVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlUGF0aCh0aGlzLm1ldGFkYXRhLmVuZF9zZXNzaW9uX2VuZHBvaW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihlbmRwb2ludFJlc29sdXRpb25FcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBPQXV0aCBpc3N1ZXIgZm9yIHJlcXVlc3RzXHJcbiAgICAgKi9cclxuICAgIGdldCBzZWxmU2lnbmVkSnd0QXVkaWVuY2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlzY292ZXJ5Q29tcGxldGUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZXBsYWNlUGF0aCh0aGlzLm1ldGFkYXRhLmlzc3Vlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IoZW5kcG9pbnRSZXNvbHV0aW9uRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSndrc191cmkgZm9yIHRva2VuIHNpZ25pbmcga2V5c1xyXG4gICAgICovXHJcbiAgICBnZXQgandrc1VyaSgpIHtcclxuICAgICAgICBpZiAodGhpcy5kaXNjb3ZlcnlDb21wbGV0ZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlcGxhY2VQYXRoKHRoaXMubWV0YWRhdGEuandrc191cmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKGVuZHBvaW50UmVzb2x1dGlvbkVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBmbGFnIGluZGljYXRpbmcgdGhhdCB0ZW5hbnQgbmFtZSBjYW4gYmUgcmVwbGFjZWQgaW4gYXV0aG9yaXR5IHtAbGluayBJVXJpfVxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVVyaSB7QGxpbmsgSVVyaX1cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGNhblJlcGxhY2VUZW5hbnQoYXV0aG9yaXR5VXJpKSB7XHJcbiAgICAgICAgcmV0dXJuIChhdXRob3JpdHlVcmkuUGF0aFNlZ21lbnRzLmxlbmd0aCA9PT0gMSAmJlxyXG4gICAgICAgICAgICAhQXV0aG9yaXR5LnJlc2VydmVkVGVuYW50RG9tYWlucy5oYXMoYXV0aG9yaXR5VXJpLlBhdGhTZWdtZW50c1swXSkgJiZcclxuICAgICAgICAgICAgdGhpcy5nZXRBdXRob3JpdHlUeXBlKGF1dGhvcml0eVVyaSkgPT09IEF1dGhvcml0eVR5cGUuRGVmYXVsdCAmJlxyXG4gICAgICAgICAgICB0aGlzLnByb3RvY29sTW9kZSA9PT0gUHJvdG9jb2xNb2RlLkFBRCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlcGxhY2VzIHRlbmFudCBpbiB1cmwgcGF0aCB3aXRoIGN1cnJlbnQgdGVuYW50LiBEZWZhdWx0cyB0byBjb21tb24uXHJcbiAgICAgKiBAcGFyYW0gdXJsU3RyaW5nXHJcbiAgICAgKi9cclxuICAgIHJlcGxhY2VUZW5hbnQodXJsU3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIHVybFN0cmluZy5yZXBsYWNlKC97dGVuYW50fXx7dGVuYW50aWR9L2csIHRoaXMudGVuYW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZXMgcGF0aCBzdWNoIGFzIHRlbmFudCBvciBwb2xpY3kgd2l0aCB0aGUgY3VycmVudCB0ZW5hbnQgb3IgcG9saWN5LlxyXG4gICAgICogQHBhcmFtIHVybFN0cmluZ1xyXG4gICAgICovXHJcbiAgICByZXBsYWNlUGF0aCh1cmxTdHJpbmcpIHtcclxuICAgICAgICBsZXQgZW5kcG9pbnQgPSB1cmxTdHJpbmc7XHJcbiAgICAgICAgY29uc3QgY2FjaGVkQXV0aG9yaXR5VXJsID0gbmV3IFVybFN0cmluZyh0aGlzLm1ldGFkYXRhLmNhbm9uaWNhbF9hdXRob3JpdHkpO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlZEF1dGhvcml0eVVybENvbXBvbmVudHMgPSBjYWNoZWRBdXRob3JpdHlVcmwuZ2V0VXJsQ29tcG9uZW50cygpO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlZEF1dGhvcml0eVBhcnRzID0gY2FjaGVkQXV0aG9yaXR5VXJsQ29tcG9uZW50cy5QYXRoU2VnbWVudHM7XHJcbiAgICAgICAgY29uc3QgY3VycmVudEF1dGhvcml0eVBhcnRzID0gdGhpcy5jYW5vbmljYWxBdXRob3JpdHlVcmxDb21wb25lbnRzLlBhdGhTZWdtZW50cztcclxuICAgICAgICBjdXJyZW50QXV0aG9yaXR5UGFydHMuZm9yRWFjaCgoY3VycmVudFBhcnQsIGluZGV4KSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBjYWNoZWRQYXJ0ID0gY2FjaGVkQXV0aG9yaXR5UGFydHNbaW5kZXhdO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IDAgJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuY2FuUmVwbGFjZVRlbmFudChjYWNoZWRBdXRob3JpdHlVcmxDb21wb25lbnRzKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGVuYW50SWQgPSBuZXcgVXJsU3RyaW5nKHRoaXMubWV0YWRhdGEuYXV0aG9yaXphdGlvbl9lbmRwb2ludCkuZ2V0VXJsQ29tcG9uZW50cygpLlBhdGhTZWdtZW50c1swXTtcclxuICAgICAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgICAgICogQ2hlY2sgaWYgQUFEIGNhbm9uaWNhbCBhdXRob3JpdHkgY29udGFpbnMgdGVuYW50IGRvbWFpbiBuYW1lLCBmb3IgZXhhbXBsZSBcInRlc3Rkb21haW4ub25taWNyb3NvZnQuY29tXCIsXHJcbiAgICAgICAgICAgICAgICAgKiBieSBjb21wYXJpbmcgaXRzIGZpcnN0IHBhdGggc2VnbWVudCB0byB0aGUgY29ycmVzcG9uZGluZyBhdXRob3JpemF0aW9uIGVuZHBvaW50IHBhdGggc2VnbWVudCwgd2hpY2ggaXNcclxuICAgICAgICAgICAgICAgICAqIGFsd2F5cyByZXNvbHZlZCB3aXRoIHRlbmFudCBpZCBieSBPSURDLlxyXG4gICAgICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkUGFydCAhPT0gdGVuYW50SWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKGBSZXBsYWNpbmcgdGVuYW50IGRvbWFpbiBuYW1lICR7Y2FjaGVkUGFydH0gd2l0aCBpZCAke3RlbmFudElkfWApO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhY2hlZFBhcnQgPSB0ZW5hbnRJZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY3VycmVudFBhcnQgIT09IGNhY2hlZFBhcnQpIHtcclxuICAgICAgICAgICAgICAgIGVuZHBvaW50ID0gZW5kcG9pbnQucmVwbGFjZShgLyR7Y2FjaGVkUGFydH0vYCwgYC8ke2N1cnJlbnRQYXJ0fS9gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJlcGxhY2VUZW5hbnQoZW5kcG9pbnQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGUgZGVmYXVsdCBvcGVuIGlkIGNvbmZpZ3VyYXRpb24gZW5kcG9pbnQgZm9yIGFueSBjYW5vbmljYWwgYXV0aG9yaXR5LlxyXG4gICAgICovXHJcbiAgICBnZXQgZGVmYXVsdE9wZW5JZENvbmZpZ3VyYXRpb25FbmRwb2ludCgpIHtcclxuICAgICAgICBjb25zdCBjYW5vbmljYWxBdXRob3JpdHlIb3N0ID0gdGhpcy5ob3N0bmFtZUFuZFBvcnQ7XHJcbiAgICAgICAgaWYgKHRoaXMuY2Fub25pY2FsQXV0aG9yaXR5LmVuZHNXaXRoKFwidjIuMC9cIikgfHxcclxuICAgICAgICAgICAgdGhpcy5hdXRob3JpdHlUeXBlID09PSBBdXRob3JpdHlUeXBlLkFkZnMgfHxcclxuICAgICAgICAgICAgKHRoaXMucHJvdG9jb2xNb2RlICE9PSBQcm90b2NvbE1vZGUuQUFEICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5pc0FsaWFzT2ZLbm93bk1pY3Jvc29mdEF1dGhvcml0eShjYW5vbmljYWxBdXRob3JpdHlIb3N0KSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke3RoaXMuY2Fub25pY2FsQXV0aG9yaXR5fS53ZWxsLWtub3duL29wZW5pZC1jb25maWd1cmF0aW9uYDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuY2Fub25pY2FsQXV0aG9yaXR5fXYyLjAvLndlbGwta25vd24vb3BlbmlkLWNvbmZpZ3VyYXRpb25gO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBCb29sZWFuIHRoYXQgcmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0ZW5hbnQgZGlzY292ZXJ5IGhhcyBiZWVuIGNvbXBsZXRlZC5cclxuICAgICAqL1xyXG4gICAgZGlzY292ZXJ5Q29tcGxldGUoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5tZXRhZGF0YTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybSBlbmRwb2ludCBkaXNjb3ZlcnkgdG8gZGlzY292ZXIgYWxpYXNlcywgcHJlZmVycmVkX2NhY2hlLCBwcmVmZXJyZWRfbmV0d29ya1xyXG4gICAgICogYW5kIHRoZSAvYXV0aG9yaXplLCAvdG9rZW4gYW5kIGxvZ291dCBlbmRwb2ludHMuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlc29sdmVFbmRwb2ludHNBc3luYygpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhvcml0eVJlc29sdmVFbmRwb2ludHNBc3luYywgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCBtZXRhZGF0YUVudGl0eSA9IHRoaXMuZ2V0Q3VycmVudE1ldGFkYXRhRW50aXR5KCk7XHJcbiAgICAgICAgY29uc3QgY2xvdWREaXNjb3ZlcnlTb3VyY2UgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLnVwZGF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGEuYmluZCh0aGlzKSwgUGVyZm9ybWFuY2VFdmVudHMuQXV0aG9yaXR5VXBkYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YSwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHRoaXMuY29ycmVsYXRpb25JZCkobWV0YWRhdGFFbnRpdHkpO1xyXG4gICAgICAgIHRoaXMuY2Fub25pY2FsQXV0aG9yaXR5ID0gdGhpcy5jYW5vbmljYWxBdXRob3JpdHkucmVwbGFjZSh0aGlzLmhvc3RuYW1lQW5kUG9ydCwgbWV0YWRhdGFFbnRpdHkucHJlZmVycmVkX25ldHdvcmspO1xyXG4gICAgICAgIGNvbnN0IGVuZHBvaW50U291cmNlID0gYXdhaXQgaW52b2tlQXN5bmModGhpcy51cGRhdGVFbmRwb2ludE1ldGFkYXRhLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhvcml0eVVwZGF0ZUVuZHBvaW50TWV0YWRhdGEsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmNvcnJlbGF0aW9uSWQpKG1ldGFkYXRhRW50aXR5KTtcclxuICAgICAgICB0aGlzLnVwZGF0ZUNhY2hlZE1ldGFkYXRhKG1ldGFkYXRhRW50aXR5LCBjbG91ZERpc2NvdmVyeVNvdXJjZSwge1xyXG4gICAgICAgICAgICBzb3VyY2U6IGVuZHBvaW50U291cmNlLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQ/LmFkZEZpZWxkcyh7XHJcbiAgICAgICAgICAgIGNsb3VkRGlzY292ZXJ5U291cmNlOiBjbG91ZERpc2NvdmVyeVNvdXJjZSxcclxuICAgICAgICAgICAgYXV0aG9yaXR5RW5kcG9pbnRTb3VyY2U6IGVuZHBvaW50U291cmNlLFxyXG4gICAgICAgIH0sIHRoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgbWV0YWRhdGEgZW50aXR5IGZyb20gY2FjaGUgaWYgaXQgZXhpc3RzLCBvdGhlcndpc2VyIHJldHVybnMgYSBuZXcgbWV0YWRhdGEgZW50aXR5IGJ1aWx0XHJcbiAgICAgKiBmcm9tIHRoZSBjb25maWd1cmVkIGNhbm9uaWNhbCBhdXRob3JpdHlcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGdldEN1cnJlbnRNZXRhZGF0YUVudGl0eSgpIHtcclxuICAgICAgICBsZXQgbWV0YWRhdGFFbnRpdHkgPSB0aGlzLmNhY2hlTWFuYWdlci5nZXRBdXRob3JpdHlNZXRhZGF0YUJ5QWxpYXModGhpcy5ob3N0bmFtZUFuZFBvcnQpO1xyXG4gICAgICAgIGlmICghbWV0YWRhdGFFbnRpdHkpIHtcclxuICAgICAgICAgICAgbWV0YWRhdGFFbnRpdHkgPSB7XHJcbiAgICAgICAgICAgICAgICBhbGlhc2VzOiBbXSxcclxuICAgICAgICAgICAgICAgIHByZWZlcnJlZF9jYWNoZTogdGhpcy5ob3N0bmFtZUFuZFBvcnQsXHJcbiAgICAgICAgICAgICAgICBwcmVmZXJyZWRfbmV0d29yazogdGhpcy5ob3N0bmFtZUFuZFBvcnQsXHJcbiAgICAgICAgICAgICAgICBjYW5vbmljYWxfYXV0aG9yaXR5OiB0aGlzLmNhbm9uaWNhbEF1dGhvcml0eSxcclxuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25fZW5kcG9pbnQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICB0b2tlbl9lbmRwb2ludDogXCJcIixcclxuICAgICAgICAgICAgICAgIGVuZF9zZXNzaW9uX2VuZHBvaW50OiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgaXNzdWVyOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgYWxpYXNlc0Zyb21OZXR3b3JrOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGVuZHBvaW50c0Zyb21OZXR3b3JrOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGV4cGlyZXNBdDogZ2VuZXJhdGVBdXRob3JpdHlNZXRhZGF0YUV4cGlyZXNBdCgpLFxyXG4gICAgICAgICAgICAgICAgandrc191cmk6IFwiXCIsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZXRhZGF0YUVudGl0eTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyBjYWNoZWQgbWV0YWRhdGEgYmFzZWQgb24gbWV0YWRhdGEgc291cmNlIGFuZCBzZXRzIHRoZSBpbnN0YW5jZSdzIG1ldGFkYXRhXHJcbiAgICAgKiBwcm9wZXJ0eSB0byB0aGUgc2FtZSB2YWx1ZVxyXG4gICAgICogQHBhcmFtIG1ldGFkYXRhRW50aXR5XHJcbiAgICAgKiBAcGFyYW0gY2xvdWREaXNjb3ZlcnlTb3VyY2VcclxuICAgICAqIEBwYXJhbSBlbmRwb2ludE1ldGFkYXRhUmVzdWx0XHJcbiAgICAgKi9cclxuICAgIHVwZGF0ZUNhY2hlZE1ldGFkYXRhKG1ldGFkYXRhRW50aXR5LCBjbG91ZERpc2NvdmVyeVNvdXJjZSwgZW5kcG9pbnRNZXRhZGF0YVJlc3VsdCkge1xyXG4gICAgICAgIGlmIChjbG91ZERpc2NvdmVyeVNvdXJjZSAhPT0gQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UuQ0FDSEUgJiZcclxuICAgICAgICAgICAgZW5kcG9pbnRNZXRhZGF0YVJlc3VsdD8uc291cmNlICE9PSBBdXRob3JpdHlNZXRhZGF0YVNvdXJjZS5DQUNIRSkge1xyXG4gICAgICAgICAgICAvLyBSZXNldCB0aGUgZXhwaXJhdGlvbiB0aW1lIHVubGVzcyBib3RoIHZhbHVlcyBjYW1lIGZyb20gYSBzdWNjZXNzZnVsIGNhY2hlIGxvb2t1cFxyXG4gICAgICAgICAgICBtZXRhZGF0YUVudGl0eS5leHBpcmVzQXQgPVxyXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVBdXRob3JpdHlNZXRhZGF0YUV4cGlyZXNBdCgpO1xyXG4gICAgICAgICAgICBtZXRhZGF0YUVudGl0eS5jYW5vbmljYWxfYXV0aG9yaXR5ID0gdGhpcy5jYW5vbmljYWxBdXRob3JpdHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGNhY2hlS2V5ID0gdGhpcy5jYWNoZU1hbmFnZXIuZ2VuZXJhdGVBdXRob3JpdHlNZXRhZGF0YUNhY2hlS2V5KG1ldGFkYXRhRW50aXR5LnByZWZlcnJlZF9jYWNoZSk7XHJcbiAgICAgICAgdGhpcy5jYWNoZU1hbmFnZXIuc2V0QXV0aG9yaXR5TWV0YWRhdGEoY2FjaGVLZXksIG1ldGFkYXRhRW50aXR5KTtcclxuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGFFbnRpdHk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBBdXRob3JpdHlNZXRhZGF0YUVudGl0eSB3aXRoIG5ldyBlbmRwb2ludHMgYW5kIHJldHVybiB3aGVyZSB0aGUgaW5mb3JtYXRpb24gY2FtZSBmcm9tXHJcbiAgICAgKiBAcGFyYW0gbWV0YWRhdGFFbnRpdHlcclxuICAgICAqL1xyXG4gICAgYXN5bmMgdXBkYXRlRW5kcG9pbnRNZXRhZGF0YShtZXRhZGF0YUVudGl0eSkge1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQ/LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuQXV0aG9yaXR5VXBkYXRlRW5kcG9pbnRNZXRhZGF0YSwgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCBsb2NhbE1ldGFkYXRhID0gdGhpcy51cGRhdGVFbmRwb2ludE1ldGFkYXRhRnJvbUxvY2FsU291cmNlcyhtZXRhZGF0YUVudGl0eSk7XHJcbiAgICAgICAgLy8gRnVydGhlciB1cGRhdGUgbWF5IGJlIHJlcXVpcmVkIGZvciBoYXJkY29kZWQgbWV0YWRhdGEgaWYgcmVnaW9uYWwgbWV0YWRhdGEgaXMgcHJlZmVycmVkXHJcbiAgICAgICAgaWYgKGxvY2FsTWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGxvY2FsTWV0YWRhdGEuc291cmNlID09PVxyXG4gICAgICAgICAgICAgICAgQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UuSEFSRENPREVEX1ZBTFVFUykge1xyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgcHJlZmVycyB0byB1c2UgYW4gYXp1cmUgcmVnaW9uIHJlcGxhY2UgdGhlIGdsb2JhbCBlbmRwb2ludHMgd2l0aCByZWdpb25hbCBpbmZvcm1hdGlvbi5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF1dGhvcml0eU9wdGlvbnMuYXp1cmVSZWdpb25Db25maWd1cmF0aW9uPy5henVyZVJlZ2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChsb2NhbE1ldGFkYXRhLm1ldGFkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhhcmRjb2RlZE1ldGFkYXRhID0gYXdhaXQgaW52b2tlQXN5bmModGhpcy51cGRhdGVNZXRhZGF0YVdpdGhSZWdpb25hbEluZm9ybWF0aW9uLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhvcml0eVVwZGF0ZU1ldGFkYXRhV2l0aFJlZ2lvbmFsSW5mb3JtYXRpb24sIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmNvcnJlbGF0aW9uSWQpKGxvY2FsTWV0YWRhdGEubWV0YWRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVBdXRob3JpdHlFbmRwb2ludE1ldGFkYXRhKG1ldGFkYXRhRW50aXR5LCBoYXJkY29kZWRNZXRhZGF0YSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YUVudGl0eS5jYW5vbmljYWxfYXV0aG9yaXR5ID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2Fub25pY2FsQXV0aG9yaXR5O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxNZXRhZGF0YS5zb3VyY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEdldCBtZXRhZGF0YSBmcm9tIG5ldHdvcmsgaWYgbG9jYWwgc291cmNlcyBhcmVuJ3QgYXZhaWxhYmxlXHJcbiAgICAgICAgbGV0IG1ldGFkYXRhID0gYXdhaXQgaW52b2tlQXN5bmModGhpcy5nZXRFbmRwb2ludE1ldGFkYXRhRnJvbU5ldHdvcmsuYmluZCh0aGlzKSwgUGVyZm9ybWFuY2VFdmVudHMuQXV0aG9yaXR5R2V0RW5kcG9pbnRNZXRhZGF0YUZyb21OZXR3b3JrLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5jb3JyZWxhdGlvbklkKSgpO1xyXG4gICAgICAgIGlmIChtZXRhZGF0YSkge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgdXNlciBwcmVmZXJzIHRvIHVzZSBhbiBhenVyZSByZWdpb24gcmVwbGFjZSB0aGUgZ2xvYmFsIGVuZHBvaW50cyB3aXRoIHJlZ2lvbmFsIGluZm9ybWF0aW9uLlxyXG4gICAgICAgICAgICBpZiAodGhpcy5hdXRob3JpdHlPcHRpb25zLmF6dXJlUmVnaW9uQ29uZmlndXJhdGlvbj8uYXp1cmVSZWdpb24pIHtcclxuICAgICAgICAgICAgICAgIG1ldGFkYXRhID0gYXdhaXQgaW52b2tlQXN5bmModGhpcy51cGRhdGVNZXRhZGF0YVdpdGhSZWdpb25hbEluZm9ybWF0aW9uLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhvcml0eVVwZGF0ZU1ldGFkYXRhV2l0aFJlZ2lvbmFsSW5mb3JtYXRpb24sIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmNvcnJlbGF0aW9uSWQpKG1ldGFkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB1cGRhdGVBdXRob3JpdHlFbmRwb2ludE1ldGFkYXRhKG1ldGFkYXRhRW50aXR5LCBtZXRhZGF0YSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIHJldHVybiBBdXRob3JpdHlNZXRhZGF0YVNvdXJjZS5ORVRXT1JLO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTWV0YWRhdGEgY291bGQgbm90IGJlIG9idGFpbmVkIGZyb20gdGhlIGNvbmZpZywgY2FjaGUsIG5ldHdvcmsgb3IgaGFyZGNvZGVkIHZhbHVlc1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3Iob3BlbklkQ29uZmlnRXJyb3IsIHRoaXMuZGVmYXVsdE9wZW5JZENvbmZpZ3VyYXRpb25FbmRwb2ludCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIGVuZHBvaW50IG1ldGFkYXRhIGZyb20gbG9jYWwgc291cmNlcyBhbmQgcmV0dXJucyB3aGVyZSB0aGUgaW5mb3JtYXRpb24gd2FzIHJldHJpZXZlZCBmcm9tIGFuZCB0aGUgbWV0YWRhdGEgY29uZmlnXHJcbiAgICAgKiByZXNwb25zZSBpZiB0aGUgc291cmNlIGlzIGhhcmRjb2RlZCBtZXRhZGF0YVxyXG4gICAgICogQHBhcmFtIG1ldGFkYXRhRW50aXR5XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICB1cGRhdGVFbmRwb2ludE1ldGFkYXRhRnJvbUxvY2FsU291cmNlcyhtZXRhZGF0YUVudGl0eSkge1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJBdHRlbXB0aW5nIHRvIGdldCBlbmRwb2ludCBtZXRhZGF0YSBmcm9tIGF1dGhvcml0eSBjb25maWd1cmF0aW9uXCIpO1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZ01ldGFkYXRhID0gdGhpcy5nZXRFbmRwb2ludE1ldGFkYXRhRnJvbUNvbmZpZygpO1xyXG4gICAgICAgIGlmIChjb25maWdNZXRhZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiRm91bmQgZW5kcG9pbnQgbWV0YWRhdGEgaW4gYXV0aG9yaXR5IGNvbmZpZ3VyYXRpb25cIik7XHJcbiAgICAgICAgICAgIHVwZGF0ZUF1dGhvcml0eUVuZHBvaW50TWV0YWRhdGEobWV0YWRhdGFFbnRpdHksIGNvbmZpZ01ldGFkYXRhLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBzb3VyY2U6IEF1dGhvcml0eU1ldGFkYXRhU291cmNlLkNPTkZJRyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkRpZCBub3QgZmluZCBlbmRwb2ludCBtZXRhZGF0YSBpbiB0aGUgY29uZmlnLi4uIEF0dGVtcHRpbmcgdG8gZ2V0IGVuZHBvaW50IG1ldGFkYXRhIGZyb20gdGhlIGhhcmRjb2RlZCB2YWx1ZXMuXCIpO1xyXG4gICAgICAgIC8vIHNraXBBdXRob3JpdHlNZXRhZGF0YUNhY2hlIGlzIHVzZWQgdG8gYnlwYXNzIGhhcmRjb2RlZCBhdXRob3JpdHkgbWV0YWRhdGEgYW5kIGZvcmNlIGEgbmV0d29yayBtZXRhZGF0YSBjYWNoZSBsb29rdXAgYW5kIG5ldHdvcmsgbWV0YWRhdGEgcmVxdWVzdCBpZiBubyBjYWNoZWQgcmVzcG9uc2UgaXMgYXZhaWxhYmxlLlxyXG4gICAgICAgIGlmICh0aGlzLmF1dGhvcml0eU9wdGlvbnMuc2tpcEF1dGhvcml0eU1ldGFkYXRhQ2FjaGUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlNraXBwaW5nIGhhcmRjb2RlZCBtZXRhZGF0YSBjYWNoZSBzaW5jZSBza2lwQXV0aG9yaXR5TWV0YWRhdGFDYWNoZSBpcyBzZXQgdG8gdHJ1ZS4gQXR0ZW1wdGluZyB0byBnZXQgZW5kcG9pbnQgbWV0YWRhdGEgZnJvbSB0aGUgbmV0d29yayBtZXRhZGF0YSBjYWNoZS5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBoYXJkY29kZWRNZXRhZGF0YSA9IHRoaXMuZ2V0RW5kcG9pbnRNZXRhZGF0YUZyb21IYXJkY29kZWRWYWx1ZXMoKTtcclxuICAgICAgICAgICAgaWYgKGhhcmRjb2RlZE1ldGFkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVBdXRob3JpdHlFbmRwb2ludE1ldGFkYXRhKG1ldGFkYXRhRW50aXR5LCBoYXJkY29kZWRNZXRhZGF0YSwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICBzb3VyY2U6IEF1dGhvcml0eU1ldGFkYXRhU291cmNlLkhBUkRDT0RFRF9WQUxVRVMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGE6IGhhcmRjb2RlZE1ldGFkYXRhLFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJEaWQgbm90IGZpbmQgZW5kcG9pbnQgbWV0YWRhdGEgaW4gaGFyZGNvZGVkIHZhbHVlcy4uLiBBdHRlbXB0aW5nIHRvIGdldCBlbmRwb2ludCBtZXRhZGF0YSBmcm9tIHRoZSBuZXR3b3JrIG1ldGFkYXRhIGNhY2hlLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBjYWNoZWQgbWV0YWRhdGEgZW50aXR5IGV4cGlyYXRpb24gc3RhdHVzXHJcbiAgICAgICAgY29uc3QgbWV0YWRhdGFFbnRpdHlFeHBpcmVkID0gaXNBdXRob3JpdHlNZXRhZGF0YUV4cGlyZWQobWV0YWRhdGFFbnRpdHkpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXV0aG9yaXR5U2FtZVR5cGUobWV0YWRhdGFFbnRpdHkpICYmXHJcbiAgICAgICAgICAgIG1ldGFkYXRhRW50aXR5LmVuZHBvaW50c0Zyb21OZXR3b3JrICYmXHJcbiAgICAgICAgICAgICFtZXRhZGF0YUVudGl0eUV4cGlyZWQpIHtcclxuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byB1cGRhdGVcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkZvdW5kIGVuZHBvaW50IG1ldGFkYXRhIGluIHRoZSBjYWNoZS5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHNvdXJjZTogQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UuQ0FDSEUgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAobWV0YWRhdGFFbnRpdHlFeHBpcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJUaGUgbWV0YWRhdGEgZW50aXR5IGlzIGV4cGlyZWQuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29tcGFyZXMgdGhlIG51bWJlciBvZiB1cmwgY29tcG9uZW50cyBhZnRlciB0aGUgZG9tYWluIHRvIGRldGVybWluZSBpZiB0aGUgY2FjaGVkXHJcbiAgICAgKiBhdXRob3JpdHkgbWV0YWRhdGEgY2FuIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0ZWQgYXV0aG9yaXR5LiBQcm90ZWN0cyBhZ2FpbnN0IHNhbWUgZG9tYWluIGRpZmZlcmVudFxyXG4gICAgICogYXV0aG9yaXR5IHN1Y2ggYXMgbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbS90ZW5hbnQgYW5kIGxvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vdGZwL3RlbmFudC9wb2xpY3lcclxuICAgICAqIEBwYXJhbSBtZXRhZGF0YUVudGl0eVxyXG4gICAgICovXHJcbiAgICBpc0F1dGhvcml0eVNhbWVUeXBlKG1ldGFkYXRhRW50aXR5KSB7XHJcbiAgICAgICAgY29uc3QgY2FjaGVkQXV0aG9yaXR5VXJsID0gbmV3IFVybFN0cmluZyhtZXRhZGF0YUVudGl0eS5jYW5vbmljYWxfYXV0aG9yaXR5KTtcclxuICAgICAgICBjb25zdCBjYWNoZWRQYXJ0cyA9IGNhY2hlZEF1dGhvcml0eVVybC5nZXRVcmxDb21wb25lbnRzKCkuUGF0aFNlZ21lbnRzO1xyXG4gICAgICAgIHJldHVybiAoY2FjaGVkUGFydHMubGVuZ3RoID09PVxyXG4gICAgICAgICAgICB0aGlzLmNhbm9uaWNhbEF1dGhvcml0eVVybENvbXBvbmVudHMuUGF0aFNlZ21lbnRzLmxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlIGF1dGhvcml0eU1ldGFkYXRhIGNvbmZpZyBvcHRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0RW5kcG9pbnRNZXRhZGF0YUZyb21Db25maWcoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXV0aG9yaXR5T3B0aW9ucy5hdXRob3JpdHlNZXRhZGF0YSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGhpcy5hdXRob3JpdHlPcHRpb25zLmF1dGhvcml0eU1ldGFkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKGludmFsaWRBdXRob3JpdHlNZXRhZGF0YSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgT0F1dGggZW5kcG9pbnRzIGZyb20gdGhlIGdpdmVuIE9wZW5JRCBjb25maWd1cmF0aW9uIGVuZHBvaW50LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBoYXNIYXJkY29kZWRNZXRhZGF0YSBib29sZWFuXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldEVuZHBvaW50TWV0YWRhdGFGcm9tTmV0d29yaygpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhvcml0eUdldEVuZHBvaW50TWV0YWRhdGFGcm9tTmV0d29yaywgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCBvcHRpb25zID0ge307XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBUT0RPOiBBZGQgYSB0aW1lb3V0IGlmIHRoZSBhdXRob3JpdHkgZXhpc3RzIGluIG91ciBsaWJyYXJ5J3NcclxuICAgICAgICAgKiBoYXJkY29kZWQgbGlzdCBvZiBtZXRhZGF0YVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0IG9wZW5JZENvbmZpZ3VyYXRpb25FbmRwb2ludCA9IHRoaXMuZGVmYXVsdE9wZW5JZENvbmZpZ3VyYXRpb25FbmRwb2ludDtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKGBBdXRob3JpdHkuZ2V0RW5kcG9pbnRNZXRhZGF0YUZyb21OZXR3b3JrOiBhdHRlbXB0aW5nIHRvIHJldHJpZXZlIE9BdXRoIGVuZHBvaW50cyBmcm9tICR7b3BlbklkQ29uZmlndXJhdGlvbkVuZHBvaW50fWApO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5uZXR3b3JrSW50ZXJmYWNlLnNlbmRHZXRSZXF1ZXN0QXN5bmMob3BlbklkQ29uZmlndXJhdGlvbkVuZHBvaW50LCBvcHRpb25zKTtcclxuICAgICAgICAgICAgY29uc3QgaXNWYWxpZFJlc3BvbnNlID0gaXNPcGVuSWRDb25maWdSZXNwb25zZShyZXNwb25zZS5ib2R5KTtcclxuICAgICAgICAgICAgaWYgKGlzVmFsaWRSZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJvZHk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKGBBdXRob3JpdHkuZ2V0RW5kcG9pbnRNZXRhZGF0YUZyb21OZXR3b3JrOiBjb3VsZCBub3QgcGFyc2UgcmVzcG9uc2UgYXMgT3BlbklEIGNvbmZpZ3VyYXRpb25gKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoYEF1dGhvcml0eS5nZXRFbmRwb2ludE1ldGFkYXRhRnJvbU5ldHdvcms6ICR7ZX1gKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgT0F1dGggZW5kcG9pbnRzIGZvciBjb21tb24gYXV0aG9yaXRpZXMuXHJcbiAgICAgKi9cclxuICAgIGdldEVuZHBvaW50TWV0YWRhdGFGcm9tSGFyZGNvZGVkVmFsdWVzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmhvc3RuYW1lQW5kUG9ydCBpbiBFbmRwb2ludE1ldGFkYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBFbmRwb2ludE1ldGFkYXRhW3RoaXMuaG9zdG5hbWVBbmRQb3J0XTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgcmV0cmlldmVkIG1ldGFkYXRhIHdpdGggcmVnaW9uYWwgaW5mb3JtYXRpb24uXHJcbiAgICAgKiBVc2VyIHNlbGVjdGVkIEF6dXJlIHJlZ2lvbiB3aWxsIGJlIHVzZWQgaWYgY29uZmlndXJlZC5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgdXBkYXRlTWV0YWRhdGFXaXRoUmVnaW9uYWxJbmZvcm1hdGlvbihtZXRhZGF0YSkge1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQ/LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuQXV0aG9yaXR5VXBkYXRlTWV0YWRhdGFXaXRoUmVnaW9uYWxJbmZvcm1hdGlvbiwgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCB1c2VyQ29uZmlndXJlZEF6dXJlUmVnaW9uID0gdGhpcy5hdXRob3JpdHlPcHRpb25zLmF6dXJlUmVnaW9uQ29uZmlndXJhdGlvbj8uYXp1cmVSZWdpb247XHJcbiAgICAgICAgaWYgKHVzZXJDb25maWd1cmVkQXp1cmVSZWdpb24pIHtcclxuICAgICAgICAgICAgaWYgKHVzZXJDb25maWd1cmVkQXp1cmVSZWdpb24gIT09XHJcbiAgICAgICAgICAgICAgICBDb25zdGFudHMuQVpVUkVfUkVHSU9OX0FVVE9fRElTQ09WRVJfRkxBRykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fb3V0Y29tZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgUmVnaW9uRGlzY292ZXJ5T3V0Y29tZXMuQ09ORklHVVJFRF9OT19BVVRPX0RFVEVDVElPTjtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEucmVnaW9uX3VzZWQgPVxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXJDb25maWd1cmVkQXp1cmVSZWdpb247XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQXV0aG9yaXR5LnJlcGxhY2VXaXRoUmVnaW9uYWxJbmZvcm1hdGlvbihtZXRhZGF0YSwgdXNlckNvbmZpZ3VyZWRBenVyZVJlZ2lvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYXV0b2RldGVjdGVkUmVnaW9uTmFtZSA9IGF3YWl0IGludm9rZUFzeW5jKHRoaXMucmVnaW9uRGlzY292ZXJ5LmRldGVjdFJlZ2lvbi5iaW5kKHRoaXMucmVnaW9uRGlzY292ZXJ5KSwgUGVyZm9ybWFuY2VFdmVudHMuUmVnaW9uRGlzY292ZXJ5RGV0ZWN0UmVnaW9uLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5jb3JyZWxhdGlvbklkKSh0aGlzLmF1dGhvcml0eU9wdGlvbnMuYXp1cmVSZWdpb25Db25maWd1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICA/LmVudmlyb25tZW50UmVnaW9uLCB0aGlzLnJlZ2lvbkRpc2NvdmVyeU1ldGFkYXRhKTtcclxuICAgICAgICAgICAgaWYgKGF1dG9kZXRlY3RlZFJlZ2lvbk5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEucmVnaW9uX291dGNvbWUgPVxyXG4gICAgICAgICAgICAgICAgICAgIFJlZ2lvbkRpc2NvdmVyeU91dGNvbWVzLkFVVE9fREVURUNUSU9OX1JFUVVFU1RFRF9TVUNDRVNTRlVMO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fdXNlZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgYXV0b2RldGVjdGVkUmVnaW9uTmFtZTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBBdXRob3JpdHkucmVwbGFjZVdpdGhSZWdpb25hbEluZm9ybWF0aW9uKG1ldGFkYXRhLCBhdXRvZGV0ZWN0ZWRSZWdpb25OYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnJlZ2lvbkRpc2NvdmVyeU1ldGFkYXRhLnJlZ2lvbl9vdXRjb21lID1cclxuICAgICAgICAgICAgICAgIFJlZ2lvbkRpc2NvdmVyeU91dGNvbWVzLkFVVE9fREVURUNUSU9OX1JFUVVFU1RFRF9GQUlMRUQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBtZXRhZGF0YTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXBkYXRlcyB0aGUgQXV0aG9yaXR5TWV0YWRhdGFFbnRpdHkgd2l0aCBuZXcgYWxpYXNlcywgcHJlZmVycmVkX25ldHdvcmsgYW5kIHByZWZlcnJlZF9jYWNoZVxyXG4gICAgICogYW5kIHJldHVybnMgd2hlcmUgdGhlIGluZm9ybWF0aW9uIHdhcyByZXRyaWV2ZWQgZnJvbVxyXG4gICAgICogQHBhcmFtIG1ldGFkYXRhRW50aXR5XHJcbiAgICAgKiBAcmV0dXJucyBBdXRob3JpdHlNZXRhZGF0YVNvdXJjZVxyXG4gICAgICovXHJcbiAgICBhc3luYyB1cGRhdGVDbG91ZERpc2NvdmVyeU1ldGFkYXRhKG1ldGFkYXRhRW50aXR5KSB7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudD8uYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5BdXRob3JpdHlVcGRhdGVDbG91ZERpc2NvdmVyeU1ldGFkYXRhLCB0aGlzLmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGNvbnN0IGxvY2FsTWV0YWRhdGFTb3VyY2UgPSB0aGlzLnVwZGF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tTG9jYWxTb3VyY2VzKG1ldGFkYXRhRW50aXR5KTtcclxuICAgICAgICBpZiAobG9jYWxNZXRhZGF0YVNvdXJjZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbG9jYWxNZXRhZGF0YVNvdXJjZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gbmV0d29yayBhcyBtZXRhZGF0YSBzb3VyY2VcclxuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IGludm9rZUFzeW5jKHRoaXMuZ2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhvcml0eUdldENsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tTmV0d29yaywgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHRoaXMuY29ycmVsYXRpb25JZCkoKTtcclxuICAgICAgICBpZiAobWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgdXBkYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YShtZXRhZGF0YUVudGl0eSwgbWV0YWRhdGEsIHRydWUpO1xyXG4gICAgICAgICAgICByZXR1cm4gQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UuTkVUV09SSztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTWV0YWRhdGEgY291bGQgbm90IGJlIG9idGFpbmVkIGZyb20gdGhlIGNvbmZpZywgY2FjaGUsIG5ldHdvcmsgb3IgaGFyZGNvZGVkIHZhbHVlc1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudENvbmZpZ3VyYXRpb25FcnJvcih1bnRydXN0ZWRBdXRob3JpdHkpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21Mb2NhbFNvdXJjZXMobWV0YWRhdGFFbnRpdHkpIHtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQXR0ZW1wdGluZyB0byBnZXQgY2xvdWQgZGlzY292ZXJ5IG1ldGFkYXRhICBmcm9tIGF1dGhvcml0eSBjb25maWd1cmF0aW9uXCIpO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2VQaWkoYEtub3duIEF1dGhvcml0aWVzOiAke3RoaXMuYXV0aG9yaXR5T3B0aW9ucy5rbm93bkF1dGhvcml0aWVzIHx8XHJcbiAgICAgICAgICAgIENvbnN0YW50cy5OT1RfQVBQTElDQUJMRX1gKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlUGlpKGBBdXRob3JpdHkgTWV0YWRhdGE6ICR7dGhpcy5hdXRob3JpdHlPcHRpb25zLmF1dGhvcml0eU1ldGFkYXRhIHx8XHJcbiAgICAgICAgICAgIENvbnN0YW50cy5OT1RfQVBQTElDQUJMRX1gKTtcclxuICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlUGlpKGBDYW5vbmljYWwgQXV0aG9yaXR5OiAke21ldGFkYXRhRW50aXR5LmNhbm9uaWNhbF9hdXRob3JpdHkgfHwgQ29uc3RhbnRzLk5PVF9BUFBMSUNBQkxFfWApO1xyXG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gdGhpcy5nZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbUNvbmZpZygpO1xyXG4gICAgICAgIGlmIChtZXRhZGF0YSkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiRm91bmQgY2xvdWQgZGlzY292ZXJ5IG1ldGFkYXRhIGluIGF1dGhvcml0eSBjb25maWd1cmF0aW9uXCIpO1xyXG4gICAgICAgICAgICB1cGRhdGVDbG91ZERpc2NvdmVyeU1ldGFkYXRhKG1ldGFkYXRhRW50aXR5LCBtZXRhZGF0YSwgZmFsc2UpO1xyXG4gICAgICAgICAgICByZXR1cm4gQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UuQ09ORklHO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBJZiB0aGUgY2FjaGVkIG1ldGFkYXRhIGNhbWUgZnJvbSBjb25maWcgYnV0IHRoYXQgY29uZmlnIHdhcyBub3QgcGFzc2VkIHRvIHRoaXMgaW5zdGFuY2UsIHdlIG11c3QgZ28gdG8gaGFyZGNvZGVkIHZhbHVlc1xyXG4gICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJEaWQgbm90IGZpbmQgY2xvdWQgZGlzY292ZXJ5IG1ldGFkYXRhIGluIHRoZSBjb25maWcuLi4gQXR0ZW1wdGluZyB0byBnZXQgY2xvdWQgZGlzY292ZXJ5IG1ldGFkYXRhIGZyb20gdGhlIGhhcmRjb2RlZCB2YWx1ZXMuXCIpO1xyXG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2tpcEF1dGhvcml0eU1ldGFkYXRhQ2FjaGUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlNraXBwaW5nIGhhcmRjb2RlZCBjbG91ZCBkaXNjb3ZlcnkgbWV0YWRhdGEgY2FjaGUgc2luY2Ugc2tpcEF1dGhvcml0eU1ldGFkYXRhQ2FjaGUgaXMgc2V0IHRvIHRydWUuIEF0dGVtcHRpbmcgdG8gZ2V0IGNsb3VkIGRpc2NvdmVyeSBtZXRhZGF0YSBmcm9tIHRoZSBuZXR3b3JrIG1ldGFkYXRhIGNhY2hlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhcmRjb2RlZE1ldGFkYXRhID0gZ2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21IYXJkY29kZWRWYWx1ZXModGhpcy5ob3N0bmFtZUFuZFBvcnQpO1xyXG4gICAgICAgICAgICBpZiAoaGFyZGNvZGVkTWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJGb3VuZCBjbG91ZCBkaXNjb3ZlcnkgbWV0YWRhdGEgZnJvbSBoYXJkY29kZWQgdmFsdWVzLlwiKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGEobWV0YWRhdGFFbnRpdHksIGhhcmRjb2RlZE1ldGFkYXRhLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UuSEFSRENPREVEX1ZBTFVFUztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiRGlkIG5vdCBmaW5kIGNsb3VkIGRpc2NvdmVyeSBtZXRhZGF0YSBpbiBoYXJkY29kZWQgdmFsdWVzLi4uIEF0dGVtcHRpbmcgdG8gZ2V0IGNsb3VkIGRpc2NvdmVyeSBtZXRhZGF0YSBmcm9tIHRoZSBuZXR3b3JrIG1ldGFkYXRhIGNhY2hlLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbWV0YWRhdGFFbnRpdHlFeHBpcmVkID0gaXNBdXRob3JpdHlNZXRhZGF0YUV4cGlyZWQobWV0YWRhdGFFbnRpdHkpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzQXV0aG9yaXR5U2FtZVR5cGUobWV0YWRhdGFFbnRpdHkpICYmXHJcbiAgICAgICAgICAgIG1ldGFkYXRhRW50aXR5LmFsaWFzZXNGcm9tTmV0d29yayAmJlxyXG4gICAgICAgICAgICAhbWV0YWRhdGFFbnRpdHlFeHBpcmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJGb3VuZCBjbG91ZCBkaXNjb3ZlcnkgbWV0YWRhdGEgaW4gdGhlIGNhY2hlLlwiKTtcclxuICAgICAgICAgICAgLy8gTm8gbmVlZCB0byB1cGRhdGVcclxuICAgICAgICAgICAgcmV0dXJuIEF1dGhvcml0eU1ldGFkYXRhU291cmNlLkNBQ0hFO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChtZXRhZGF0YUVudGl0eUV4cGlyZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRoZSBtZXRhZGF0YSBlbnRpdHkgaXMgZXhwaXJlZC5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZSBjbG91ZERpc2NvdmVyeU1ldGFkYXRhIGNvbmZpZyBvciBjaGVjayBrbm93bkF1dGhvcml0aWVzXHJcbiAgICAgKi9cclxuICAgIGdldENsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tQ29uZmlnKCkge1xyXG4gICAgICAgIC8vIENJQU0gZG9lcyBub3Qgc3VwcG9ydCBjbG91ZCBkaXNjb3ZlcnkgbWV0YWRhdGFcclxuICAgICAgICBpZiAodGhpcy5hdXRob3JpdHlUeXBlID09PSBBdXRob3JpdHlUeXBlLkNpYW0pIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkNJQU0gYXV0aG9yaXRpZXMgZG8gbm90IHN1cHBvcnQgY2xvdWQgZGlzY292ZXJ5IG1ldGFkYXRhLCBnZW5lcmF0ZSB0aGUgYWxpYXNlcyBmcm9tIGF1dGhvcml0eSBob3N0LlwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIEF1dGhvcml0eS5jcmVhdGVDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbUhvc3QodGhpcy5ob3N0bmFtZUFuZFBvcnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDaGVjayBpZiBuZXR3b3JrIHJlc3BvbnNlIHdhcyBwcm92aWRlZCBpbiBjb25maWdcclxuICAgICAgICBpZiAodGhpcy5hdXRob3JpdHlPcHRpb25zLmNsb3VkRGlzY292ZXJ5TWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRoZSBjbG91ZCBkaXNjb3ZlcnkgbWV0YWRhdGEgaGFzIGJlZW4gcHJvdmlkZWQgYXMgYSBuZXR3b3JrIHJlc3BvbnNlLCBpbiB0aGUgY29uZmlnLlwiKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJBdHRlbXB0aW5nIHRvIHBhcnNlIHRoZSBjbG91ZCBkaXNjb3ZlcnkgbWV0YWRhdGEuXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmVzcG9uc2UgPSBKU09OLnBhcnNlKHRoaXMuYXV0aG9yaXR5T3B0aW9ucy5jbG91ZERpc2NvdmVyeU1ldGFkYXRhKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gZ2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrUmVzcG9uc2UocGFyc2VkUmVzcG9uc2UubWV0YWRhdGEsIHRoaXMuaG9zdG5hbWVBbmRQb3J0KTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJQYXJzZWQgdGhlIGNsb3VkIGRpc2NvdmVyeSBtZXRhZGF0YS5cIik7XHJcbiAgICAgICAgICAgICAgICBpZiAobWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiVGhlcmUgaXMgcmV0dXJuYWJsZSBtZXRhZGF0YSBhdHRhY2hlZCB0byB0aGUgcGFyc2VkIGNsb3VkIGRpc2NvdmVyeSBtZXRhZGF0YS5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRoZXJlIGlzIG5vIG1ldGFkYXRhIGF0dGFjaGVkIHRvIHRoZSBwYXJzZWQgY2xvdWQgZGlzY292ZXJ5IG1ldGFkYXRhLlwiKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlVuYWJsZSB0byBwYXJzZSB0aGUgY2xvdWQgZGlzY292ZXJ5IG1ldGFkYXRhLiBUaHJvd2luZyBJbnZhbGlkIENsb3VkIERpc2NvdmVyeSBNZXRhZGF0YSBFcnJvci5cIik7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoaW52YWxpZENsb3VkRGlzY292ZXJ5TWV0YWRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIGNsb3VkRGlzY292ZXJ5TWV0YWRhdGEgaXMgZW1wdHkgb3IgZG9lcyBub3QgY29udGFpbiB0aGUgaG9zdCwgY2hlY2sga25vd25BdXRob3JpdGllc1xyXG4gICAgICAgIGlmICh0aGlzLmlzSW5Lbm93bkF1dGhvcml0aWVzKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIlRoZSBob3N0IGlzIGluY2x1ZGVkIGluIGtub3duQXV0aG9yaXRpZXMuIENyZWF0aW5nIG5ldyBjbG91ZCBkaXNjb3ZlcnkgbWV0YWRhdGEgZnJvbSB0aGUgaG9zdC5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBBdXRob3JpdHkuY3JlYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21Ib3N0KHRoaXMuaG9zdG5hbWVBbmRQb3J0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCB0byBnZXQgbWV0YWRhdGEgZnJvbSBuZXR3b3JrIGlmIENsb3VkRGlzY292ZXJ5TWV0YWRhdGEgd2FzIG5vdCBwb3B1bGF0ZWQgYnkgY29uZmlnXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGhhc0hhcmRjb2RlZE1ldGFkYXRhIGJvb2xlYW5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrKCkge1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQ/LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuQXV0aG9yaXR5R2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrLCB0aGlzLmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGNvbnN0IGluc3RhbmNlRGlzY292ZXJ5RW5kcG9pbnQgPSBgJHtDb25zdGFudHMuQUFEX0lOU1RBTkNFX0RJU0NPVkVSWV9FTkRQVH0ke3RoaXMuY2Fub25pY2FsQXV0aG9yaXR5fW9hdXRoMi92Mi4wL2F1dGhvcml6ZWA7XHJcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHt9O1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogVE9ETzogQWRkIGEgdGltZW91dCBpZiB0aGUgYXV0aG9yaXR5IGV4aXN0cyBpbiBvdXIgbGlicmFyeSdzXHJcbiAgICAgICAgICogaGFyZGNvZGVkIGxpc3Qgb2YgbWV0YWRhdGFcclxuICAgICAgICAgKi9cclxuICAgICAgICBsZXQgbWF0Y2ggPSBudWxsO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5uZXR3b3JrSW50ZXJmYWNlLnNlbmRHZXRSZXF1ZXN0QXN5bmMoaW5zdGFuY2VEaXNjb3ZlcnlFbmRwb2ludCwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIGxldCB0eXBlZFJlc3BvbnNlQm9keTtcclxuICAgICAgICAgICAgbGV0IG1ldGFkYXRhO1xyXG4gICAgICAgICAgICBpZiAoaXNDbG91ZEluc3RhbmNlRGlzY292ZXJ5UmVzcG9uc2UocmVzcG9uc2UuYm9keSkpIHtcclxuICAgICAgICAgICAgICAgIHR5cGVkUmVzcG9uc2VCb2R5ID1cclxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZS5ib2R5O1xyXG4gICAgICAgICAgICAgICAgbWV0YWRhdGEgPSB0eXBlZFJlc3BvbnNlQm9keS5tZXRhZGF0YTtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2VQaWkoYHRlbmFudF9kaXNjb3ZlcnlfZW5kcG9pbnQgaXM6ICR7dHlwZWRSZXNwb25zZUJvZHkudGVuYW50X2Rpc2NvdmVyeV9lbmRwb2ludH1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChpc0Nsb3VkSW5zdGFuY2VEaXNjb3ZlcnlFcnJvclJlc3BvbnNlKHJlc3BvbnNlLmJvZHkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKGBBIENsb3VkSW5zdGFuY2VEaXNjb3ZlcnlFcnJvclJlc3BvbnNlIHdhcyByZXR1cm5lZC4gVGhlIGNsb3VkIGluc3RhbmNlIGRpc2NvdmVyeSBuZXR3b3JrIHJlcXVlc3QncyBzdGF0dXMgY29kZSBpczogJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgICAgICAgICAgICAgICB0eXBlZFJlc3BvbnNlQm9keSA9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UuYm9keTtcclxuICAgICAgICAgICAgICAgIGlmICh0eXBlZFJlc3BvbnNlQm9keS5lcnJvciA9PT0gQ29uc3RhbnRzLklOVkFMSURfSU5TVEFOQ0UpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci5lcnJvcihcIlRoZSBDbG91ZEluc3RhbmNlRGlzY292ZXJ5RXJyb3JSZXNwb25zZSBlcnJvciBpcyBpbnZhbGlkX2luc3RhbmNlLlwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoYFRoZSBDbG91ZEluc3RhbmNlRGlzY292ZXJ5RXJyb3JSZXNwb25zZSBlcnJvciBpcyAke3R5cGVkUmVzcG9uc2VCb2R5LmVycm9yfWApO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIud2FybmluZyhgVGhlIENsb3VkSW5zdGFuY2VEaXNjb3ZlcnlFcnJvclJlc3BvbnNlIGVycm9yIGRlc2NyaXB0aW9uIGlzICR7dHlwZWRSZXNwb25zZUJvZHkuZXJyb3JfZGVzY3JpcHRpb259YCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKFwiU2V0dGluZyB0aGUgdmFsdWUgb2YgdGhlIENsb3VkSW5zdGFuY2VEaXNjb3ZlcnlNZXRhZGF0YSAocmV0dXJuZWQgZnJvbSB0aGUgbmV0d29yaykgdG8gW11cIik7XHJcbiAgICAgICAgICAgICAgICBtZXRhZGF0YSA9IFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJBQUQgZGlkIG5vdCByZXR1cm4gYSBDbG91ZEluc3RhbmNlRGlzY292ZXJ5UmVzcG9uc2Ugb3IgQ2xvdWRJbnN0YW5jZURpc2NvdmVyeUVycm9yUmVzcG9uc2VcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQXR0ZW1wdGluZyB0byBmaW5kIGEgbWF0Y2ggYmV0d2VlbiB0aGUgZGV2ZWxvcGVyJ3MgYXV0aG9yaXR5IGFuZCB0aGUgQ2xvdWRJbnN0YW5jZURpc2NvdmVyeU1ldGFkYXRhIHJldHVybmVkIGZyb20gdGhlIG5ldHdvcmsgcmVxdWVzdC5cIik7XHJcbiAgICAgICAgICAgIG1hdGNoID0gZ2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrUmVzcG9uc2UobWV0YWRhdGEsIHRoaXMuaG9zdG5hbWVBbmRQb3J0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEF1dGhFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYFRoZXJlIHdhcyBhIG5ldHdvcmsgZXJyb3Igd2hpbGUgYXR0ZW1wdGluZyB0byBnZXQgdGhlIGNsb3VkIGRpc2NvdmVyeSBpbnN0YW5jZSBtZXRhZGF0YS5cXG5FcnJvcjogJHtlcnJvci5lcnJvckNvZGV9XFxuRXJyb3IgRGVzY3JpcHRpb246ICR7ZXJyb3IuZXJyb3JNZXNzYWdlfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdHlwZWRFcnJvciA9IGVycm9yO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoYEEgbm9uLU1TQUxKUyBlcnJvciB3YXMgdGhyb3duIHdoaWxlIGF0dGVtcHRpbmcgdG8gZ2V0IHRoZSBjbG91ZCBpbnN0YW5jZSBkaXNjb3ZlcnkgbWV0YWRhdGEuXFxuRXJyb3I6ICR7dHlwZWRFcnJvci5uYW1lfVxcbkVycm9yIERlc2NyaXB0aW9uOiAke3R5cGVkRXJyb3IubWVzc2FnZX1gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ3VzdG9tIERvbWFpbiBzY2VuYXJpbywgaG9zdCBpcyB0cnVzdGVkIGJlY2F1c2UgSW5zdGFuY2UgRGlzY292ZXJ5IGNhbGwgc3VjY2VlZGVkXHJcbiAgICAgICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKFwiVGhlIGRldmVsb3BlcidzIGF1dGhvcml0eSB3YXMgbm90IGZvdW5kIHdpdGhpbiB0aGUgQ2xvdWRJbnN0YW5jZURpc2NvdmVyeU1ldGFkYXRhIHJldHVybmVkIGZyb20gdGhlIG5ldHdvcmsgcmVxdWVzdC5cIik7XHJcbiAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJDcmVhdGluZyBjdXN0b20gQXV0aG9yaXR5IGZvciBjdXN0b20gZG9tYWluIHNjZW5hcmlvLlwiKTtcclxuICAgICAgICAgICAgbWF0Y2ggPSBBdXRob3JpdHkuY3JlYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21Ib3N0KHRoaXMuaG9zdG5hbWVBbmRQb3J0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGlmIHRoaXMgaG9zdCBpcyBpbmNsdWRlZCBpbiB0aGUga25vd25BdXRob3JpdGllcyBjb25maWcgb3B0aW9uXHJcbiAgICAgKi9cclxuICAgIGlzSW5Lbm93bkF1dGhvcml0aWVzKCkge1xyXG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSB0aGlzLmF1dGhvcml0eU9wdGlvbnMua25vd25BdXRob3JpdGllcy5maWx0ZXIoKGF1dGhvcml0eSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKGF1dGhvcml0eSAmJlxyXG4gICAgICAgICAgICAgICAgVXJsU3RyaW5nLmdldERvbWFpbkZyb21VcmwoYXV0aG9yaXR5KS50b0xvd2VyQ2FzZSgpID09PVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaG9zdG5hbWVBbmRQb3J0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWF0Y2hlcy5sZW5ndGggPiAwO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBoZWxwZXIgZnVuY3Rpb24gdG8gcG9wdWxhdGUgdGhlIGF1dGhvcml0eSBiYXNlZCBvbiBhenVyZUNsb3VkT3B0aW9uc1xyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVN0cmluZ1xyXG4gICAgICogQHBhcmFtIGF6dXJlQ2xvdWRPcHRpb25zXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZW5lcmF0ZUF1dGhvcml0eShhdXRob3JpdHlTdHJpbmcsIGF6dXJlQ2xvdWRPcHRpb25zKSB7XHJcbiAgICAgICAgbGV0IGF1dGhvcml0eUF6dXJlQ2xvdWRJbnN0YW5jZTtcclxuICAgICAgICBpZiAoYXp1cmVDbG91ZE9wdGlvbnMgJiZcclxuICAgICAgICAgICAgYXp1cmVDbG91ZE9wdGlvbnMuYXp1cmVDbG91ZEluc3RhbmNlICE9PSBBenVyZUNsb3VkSW5zdGFuY2UuTm9uZSkge1xyXG4gICAgICAgICAgICBjb25zdCB0ZW5hbnQgPSBhenVyZUNsb3VkT3B0aW9ucy50ZW5hbnRcclxuICAgICAgICAgICAgICAgID8gYXp1cmVDbG91ZE9wdGlvbnMudGVuYW50XHJcbiAgICAgICAgICAgICAgICA6IENvbnN0YW50cy5ERUZBVUxUX0NPTU1PTl9URU5BTlQ7XHJcbiAgICAgICAgICAgIGF1dGhvcml0eUF6dXJlQ2xvdWRJbnN0YW5jZSA9IGAke2F6dXJlQ2xvdWRPcHRpb25zLmF6dXJlQ2xvdWRJbnN0YW5jZX0vJHt0ZW5hbnR9L2A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhdXRob3JpdHlBenVyZUNsb3VkSW5zdGFuY2VcclxuICAgICAgICAgICAgPyBhdXRob3JpdHlBenVyZUNsb3VkSW5zdGFuY2VcclxuICAgICAgICAgICAgOiBhdXRob3JpdHlTdHJpbmc7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgY2xvdWQgZGlzY292ZXJ5IG1ldGFkYXRhIG9iamVjdCBmcm9tIGEgZ2l2ZW4gaG9zdFxyXG4gICAgICogQHBhcmFtIGhvc3RcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNyZWF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tSG9zdChob3N0KSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcHJlZmVycmVkX25ldHdvcms6IGhvc3QsXHJcbiAgICAgICAgICAgIHByZWZlcnJlZF9jYWNoZTogaG9zdCxcclxuICAgICAgICAgICAgYWxpYXNlczogW2hvc3RdLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGhlbHBlciBmdW5jdGlvbiB0byBnZW5lcmF0ZSBlbnZpcm9ubWVudCBmcm9tIGF1dGhvcml0eSBvYmplY3RcclxuICAgICAqL1xyXG4gICAgZ2V0UHJlZmVycmVkQ2FjaGUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubWFuYWdlZElkZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBDb25zdGFudHMuREVGQVVMVF9BVVRIT1JJVFlfSE9TVDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5kaXNjb3ZlcnlDb21wbGV0ZSgpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1ldGFkYXRhLnByZWZlcnJlZF9jYWNoZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihlbmRwb2ludFJlc29sdXRpb25FcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBwcm92aWRlZCBob3N0IGlzIGFuIGFsaWFzIG9mIHRoaXMgYXV0aG9yaXR5IGluc3RhbmNlXHJcbiAgICAgKiBAcGFyYW0gaG9zdFxyXG4gICAgICovXHJcbiAgICBpc0FsaWFzKGhvc3QpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YS5hbGlhc2VzLmluZGV4T2YoaG9zdCkgPiAtMTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgcHJvdmlkZWQgaG9zdCBpcyBhbiBhbGlhcyBvZiBhIGtub3duIE1pY3Jvc29mdCBhdXRob3JpdHkgZm9yIHB1cnBvc2VzIG9mIGVuZHBvaW50IGRpc2NvdmVyeVxyXG4gICAgICogQHBhcmFtIGhvc3RcclxuICAgICAqL1xyXG4gICAgaXNBbGlhc09mS25vd25NaWNyb3NvZnRBdXRob3JpdHkoaG9zdCkge1xyXG4gICAgICAgIHJldHVybiBJbnN0YW5jZURpc2NvdmVyeU1ldGFkYXRhQWxpYXNlcy5oYXMoaG9zdCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrcyB3aGV0aGVyIHRoZSBwcm92aWRlZCBob3N0IGlzIHRoYXQgb2YgYSBwdWJsaWMgY2xvdWQgYXV0aG9yaXR5XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eSBzdHJpbmdcclxuICAgICAqIEByZXR1cm5zIGJvb2xcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGlzUHVibGljQ2xvdWRBdXRob3JpdHkoaG9zdCkge1xyXG4gICAgICAgIHJldHVybiBDb25zdGFudHMuS05PV05fUFVCTElDX0NMT1VEUy5pbmRleE9mKGhvc3QpID49IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlYnVpbGQgdGhlIGF1dGhvcml0eSBzdHJpbmcgd2l0aCB0aGUgcmVnaW9uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGhvc3Qgc3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gcmVnaW9uIHN0cmluZ1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYnVpbGRSZWdpb25hbEF1dGhvcml0eVN0cmluZyhob3N0LCByZWdpb24sIHF1ZXJ5U3RyaW5nKSB7XHJcbiAgICAgICAgLy8gQ3JlYXRlIGFuZCB2YWxpZGF0ZSBhIFVybCBzdHJpbmcgb2JqZWN0IHdpdGggdGhlIGluaXRpYWwgYXV0aG9yaXR5IHN0cmluZ1xyXG4gICAgICAgIGNvbnN0IGF1dGhvcml0eVVybEluc3RhbmNlID0gbmV3IFVybFN0cmluZyhob3N0KTtcclxuICAgICAgICBhdXRob3JpdHlVcmxJbnN0YW5jZS52YWxpZGF0ZUFzVXJpKCk7XHJcbiAgICAgICAgY29uc3QgYXV0aG9yaXR5VXJsUGFydHMgPSBhdXRob3JpdHlVcmxJbnN0YW5jZS5nZXRVcmxDb21wb25lbnRzKCk7XHJcbiAgICAgICAgbGV0IGhvc3ROYW1lQW5kUG9ydCA9IGAke3JlZ2lvbn0uJHthdXRob3JpdHlVcmxQYXJ0cy5Ib3N0TmFtZUFuZFBvcnR9YDtcclxuICAgICAgICBpZiAodGhpcy5pc1B1YmxpY0Nsb3VkQXV0aG9yaXR5KGF1dGhvcml0eVVybFBhcnRzLkhvc3ROYW1lQW5kUG9ydCkpIHtcclxuICAgICAgICAgICAgaG9zdE5hbWVBbmRQb3J0ID0gYCR7cmVnaW9ufS4ke0NvbnN0YW50cy5SRUdJT05BTF9BVVRIX1BVQkxJQ19DTE9VRF9TVUZGSVh9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSW5jbHVkZSB0aGUgcXVlcnkgc3RyaW5nIHBvcnRpb24gb2YgdGhlIHVybFxyXG4gICAgICAgIGNvbnN0IHVybCA9IFVybFN0cmluZy5jb25zdHJ1Y3RBdXRob3JpdHlVcmlGcm9tT2JqZWN0KHtcclxuICAgICAgICAgICAgLi4uYXV0aG9yaXR5VXJsSW5zdGFuY2UuZ2V0VXJsQ29tcG9uZW50cygpLFxyXG4gICAgICAgICAgICBIb3N0TmFtZUFuZFBvcnQ6IGhvc3ROYW1lQW5kUG9ydCxcclxuICAgICAgICB9KS51cmxTdHJpbmc7XHJcbiAgICAgICAgLy8gQWRkIHRoZSBxdWVyeSBzdHJpbmcgaWYgYSBxdWVyeSBzdHJpbmcgd2FzIHByb3ZpZGVkXHJcbiAgICAgICAgaWYgKHF1ZXJ5U3RyaW5nKVxyXG4gICAgICAgICAgICByZXR1cm4gYCR7dXJsfT8ke3F1ZXJ5U3RyaW5nfWA7XHJcbiAgICAgICAgcmV0dXJuIHVybDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVwbGFjZSB0aGUgZW5kcG9pbnRzIGluIHRoZSBtZXRhZGF0YSBvYmplY3Qgd2l0aCB0aGVpciByZWdpb25hbCBlcXVpdmFsZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbWV0YWRhdGEgT3BlbklkQ29uZmlnUmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBhenVyZVJlZ2lvbiBzdHJpbmdcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlcGxhY2VXaXRoUmVnaW9uYWxJbmZvcm1hdGlvbihtZXRhZGF0YSwgYXp1cmVSZWdpb24pIHtcclxuICAgICAgICBjb25zdCByZWdpb25hbE1ldGFkYXRhID0geyAuLi5tZXRhZGF0YSB9O1xyXG4gICAgICAgIHJlZ2lvbmFsTWV0YWRhdGEuYXV0aG9yaXphdGlvbl9lbmRwb2ludCA9XHJcbiAgICAgICAgICAgIEF1dGhvcml0eS5idWlsZFJlZ2lvbmFsQXV0aG9yaXR5U3RyaW5nKHJlZ2lvbmFsTWV0YWRhdGEuYXV0aG9yaXphdGlvbl9lbmRwb2ludCwgYXp1cmVSZWdpb24pO1xyXG4gICAgICAgIHJlZ2lvbmFsTWV0YWRhdGEudG9rZW5fZW5kcG9pbnQgPVxyXG4gICAgICAgICAgICBBdXRob3JpdHkuYnVpbGRSZWdpb25hbEF1dGhvcml0eVN0cmluZyhyZWdpb25hbE1ldGFkYXRhLnRva2VuX2VuZHBvaW50LCBhenVyZVJlZ2lvbik7XHJcbiAgICAgICAgaWYgKHJlZ2lvbmFsTWV0YWRhdGEuZW5kX3Nlc3Npb25fZW5kcG9pbnQpIHtcclxuICAgICAgICAgICAgcmVnaW9uYWxNZXRhZGF0YS5lbmRfc2Vzc2lvbl9lbmRwb2ludCA9XHJcbiAgICAgICAgICAgICAgICBBdXRob3JpdHkuYnVpbGRSZWdpb25hbEF1dGhvcml0eVN0cmluZyhyZWdpb25hbE1ldGFkYXRhLmVuZF9zZXNzaW9uX2VuZHBvaW50LCBhenVyZVJlZ2lvbik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZWdpb25hbE1ldGFkYXRhO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUcmFuc2Zvcm0gQ0lBTV9BVVRIT1JJWSBhcyBwZXIgdGhlIGJlbG93IHJ1bGVzOlxyXG4gICAgICogSWYgbm8gcGF0aCBzZWdtZW50cyBmb3VuZCBhbmQgaXQgaXMgYSBDSUFNIGF1dGhvcml0eSAoaG9zdG5hbWUgZW5kcyB3aXRoIC5jaWFtbG9naW4uY29tKSwgdGhlbiB0cmFuc2Zvcm0gaXRcclxuICAgICAqXHJcbiAgICAgKiBOT1RFOiBUaGUgdHJhbnNmb3JtYXRpb24gcGF0aCBzaG91bGQgZ28gYXdheSBvbmNlIFNUUyBzdXBwb3J0cyBDSUFNIHdpdGggdGhlIGZvcm1hdDogYHRlbmFudElkb3JEb21haW4uY2lhbWxvZ2luLmNvbWBcclxuICAgICAqIGBjaWFtbG9naW4uY29tYCBjYW4gYWxzbyBjaGFuZ2UgaW4gdGhlIGZ1dHVyZSBhbmQgd2Ugc2hvdWxkIGFjY29tbW9kYXRlIHRoZSBzYW1lXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdHJhbnNmb3JtQ0lBTUF1dGhvcml0eShhdXRob3JpdHkpIHtcclxuICAgICAgICBsZXQgY2lhbUF1dGhvcml0eSA9IGF1dGhvcml0eTtcclxuICAgICAgICBjb25zdCBhdXRob3JpdHlVcmwgPSBuZXcgVXJsU3RyaW5nKGF1dGhvcml0eSk7XHJcbiAgICAgICAgY29uc3QgYXV0aG9yaXR5VXJsQ29tcG9uZW50cyA9IGF1dGhvcml0eVVybC5nZXRVcmxDb21wb25lbnRzKCk7XHJcbiAgICAgICAgLy8gY2hlY2sgaWYgdHJhbnNmb3JtYXRpb24gaXMgbmVlZGVkXHJcbiAgICAgICAgaWYgKGF1dGhvcml0eVVybENvbXBvbmVudHMuUGF0aFNlZ21lbnRzLmxlbmd0aCA9PT0gMCAmJlxyXG4gICAgICAgICAgICBhdXRob3JpdHlVcmxDb21wb25lbnRzLkhvc3ROYW1lQW5kUG9ydC5lbmRzV2l0aChDb25zdGFudHMuQ0lBTV9BVVRIX1VSTCkpIHtcclxuICAgICAgICAgICAgY29uc3QgdGVuYW50SWRPckRvbWFpbiA9IGF1dGhvcml0eVVybENvbXBvbmVudHMuSG9zdE5hbWVBbmRQb3J0LnNwbGl0KFwiLlwiKVswXTtcclxuICAgICAgICAgICAgY2lhbUF1dGhvcml0eSA9IGAke2NpYW1BdXRob3JpdHl9JHt0ZW5hbnRJZE9yRG9tYWlufSR7Q29uc3RhbnRzLkFBRF9URU5BTlRfRE9NQUlOX1NVRkZJWH1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gY2lhbUF1dGhvcml0eTtcclxuICAgIH1cclxufVxyXG4vLyBSZXNlcnZlZCB0ZW5hbnQgZG9tYWluIG5hbWVzIHRoYXQgd2lsbCBub3QgYmUgcmVwbGFjZWQgd2l0aCB0ZW5hbnQgaWRcclxuQXV0aG9yaXR5LnJlc2VydmVkVGVuYW50RG9tYWlucyA9IG5ldyBTZXQoW1xyXG4gICAgXCJ7dGVuYW50fVwiLFxyXG4gICAgXCJ7dGVuYW50aWR9XCIsXHJcbiAgICBBQURBdXRob3JpdHlDb25zdGFudHMuQ09NTU9OLFxyXG4gICAgQUFEQXV0aG9yaXR5Q29uc3RhbnRzLkNPTlNVTUVSUyxcclxuICAgIEFBREF1dGhvcml0eUNvbnN0YW50cy5PUkdBTklaQVRJT05TLFxyXG5dKTtcclxuLyoqXHJcbiAqIEV4dHJhY3QgdGVuYW50SWQgZnJvbSBhdXRob3JpdHlcclxuICovXHJcbmZ1bmN0aW9uIGdldFRlbmFudEZyb21BdXRob3JpdHlTdHJpbmcoYXV0aG9yaXR5KSB7XHJcbiAgICBjb25zdCBhdXRob3JpdHlVcmwgPSBuZXcgVXJsU3RyaW5nKGF1dGhvcml0eSk7XHJcbiAgICBjb25zdCBhdXRob3JpdHlVcmxDb21wb25lbnRzID0gYXV0aG9yaXR5VXJsLmdldFVybENvbXBvbmVudHMoKTtcclxuICAgIC8qKlxyXG4gICAgICogRm9yIGNyZWRlbnRpYWwgbWF0Y2hpbmcgcHVycG9zZXMsIHRlbmFudElkIGlzIHRoZSBsYXN0IHBhdGggc2VnbWVudCBvZiB0aGUgYXV0aG9yaXR5IFVSTDpcclxuICAgICAqICBBQUQgQXV0aG9yaXR5IC0gZG9tYWluL3RlbmFudElkIC0+IENyZWRlbnRpYWxzIGFyZSBjYWNoZWQgd2l0aCByZWFsbSA9IHRlbmFudElkXHJcbiAgICAgKiAgQjJDIEF1dGhvcml0eSAtIGRvbWFpbi97dGVuYW50SWR9Py8uLi4vcG9saWN5IC0+IENyZWRlbnRpYWxzIGFyZSBjYWNoZWQgd2l0aCByZWFsbSA9IHBvbGljeVxyXG4gICAgICogIHRlbmFudElkIGlzIGRvd25jYXNlZCBiZWNhdXNlIEIyQyBwb2xpY2llcyBjYW4gaGF2ZSBtaXhlZCBjYXNlIGJ1dCB0ZnAgY2xhaW0gaXMgZG93bmNhc2VkXHJcbiAgICAgKlxyXG4gICAgICogTm90ZSB0aGF0IHdlIG1heSBub3QgaGF2ZSBhbnkgcGF0aCBzZWdtZW50cyBpbiBjZXJ0YWluIE9JREMgc2NlbmFyaW9zLlxyXG4gICAgICovXHJcbiAgICBjb25zdCB0ZW5hbnRJZCA9IGF1dGhvcml0eVVybENvbXBvbmVudHMuUGF0aFNlZ21lbnRzLnNsaWNlKC0xKVswXT8udG9Mb3dlckNhc2UoKTtcclxuICAgIHN3aXRjaCAodGVuYW50SWQpIHtcclxuICAgICAgICBjYXNlIEFBREF1dGhvcml0eUNvbnN0YW50cy5DT01NT046XHJcbiAgICAgICAgY2FzZSBBQURBdXRob3JpdHlDb25zdGFudHMuT1JHQU5JWkFUSU9OUzpcclxuICAgICAgICBjYXNlIEFBREF1dGhvcml0eUNvbnN0YW50cy5DT05TVU1FUlM6XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgcmV0dXJuIHRlbmFudElkO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGZvcm1hdEF1dGhvcml0eVVyaShhdXRob3JpdHlVcmkpIHtcclxuICAgIHJldHVybiBhdXRob3JpdHlVcmkuZW5kc1dpdGgoQ29uc3RhbnRzLkZPUldBUkRfU0xBU0gpXHJcbiAgICAgICAgPyBhdXRob3JpdHlVcmlcclxuICAgICAgICA6IGAke2F1dGhvcml0eVVyaX0ke0NvbnN0YW50cy5GT1JXQVJEX1NMQVNIfWA7XHJcbn1cclxuZnVuY3Rpb24gYnVpbGRTdGF0aWNBdXRob3JpdHlPcHRpb25zKGF1dGhPcHRpb25zKSB7XHJcbiAgICBjb25zdCByYXdDbG91ZERpc2NvdmVyeU1ldGFkYXRhID0gYXV0aE9wdGlvbnMuY2xvdWREaXNjb3ZlcnlNZXRhZGF0YTtcclxuICAgIGxldCBjbG91ZERpc2NvdmVyeU1ldGFkYXRhID0gdW5kZWZpbmVkO1xyXG4gICAgaWYgKHJhd0Nsb3VkRGlzY292ZXJ5TWV0YWRhdGEpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjbG91ZERpc2NvdmVyeU1ldGFkYXRhID0gSlNPTi5wYXJzZShyYXdDbG91ZERpc2NvdmVyeU1ldGFkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKGludmFsaWRDbG91ZERpc2NvdmVyeU1ldGFkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNhbm9uaWNhbEF1dGhvcml0eTogYXV0aE9wdGlvbnMuYXV0aG9yaXR5XHJcbiAgICAgICAgICAgID8gZm9ybWF0QXV0aG9yaXR5VXJpKGF1dGhPcHRpb25zLmF1dGhvcml0eSlcclxuICAgICAgICAgICAgOiB1bmRlZmluZWQsXHJcbiAgICAgICAga25vd25BdXRob3JpdGllczogYXV0aE9wdGlvbnMua25vd25BdXRob3JpdGllcyxcclxuICAgICAgICBjbG91ZERpc2NvdmVyeU1ldGFkYXRhOiBjbG91ZERpc2NvdmVyeU1ldGFkYXRhLFxyXG4gICAgfTtcclxufVxuXG5leHBvcnQgeyBBdXRob3JpdHksIGJ1aWxkU3RhdGljQXV0aG9yaXR5T3B0aW9ucywgZm9ybWF0QXV0aG9yaXR5VXJpLCBnZXRUZW5hbnRGcm9tQXV0aG9yaXR5U3RyaW5nIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdXRob3JpdHkubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkF1dGhvcml0eVR5cGUiLCJpc09wZW5JZENvbmZpZ1Jlc3BvbnNlIiwiVXJsU3RyaW5nIiwiY3JlYXRlQ2xpZW50QXV0aEVycm9yIiwiQ29uc3RhbnRzIiwiQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UiLCJSZWdpb25EaXNjb3ZlcnlPdXRjb21lcyIsIkFBREF1dGhvcml0eUNvbnN0YW50cyIsIkVuZHBvaW50TWV0YWRhdGEiLCJnZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbUhhcmRjb2RlZFZhbHVlcyIsImdldENsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tTmV0d29ya1Jlc3BvbnNlIiwiSW5zdGFuY2VEaXNjb3ZlcnlNZXRhZGF0YUFsaWFzZXMiLCJjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IiLCJQcm90b2NvbE1vZGUiLCJBenVyZUNsb3VkSW5zdGFuY2UiLCJpc0Nsb3VkSW5zdGFuY2VEaXNjb3ZlcnlSZXNwb25zZSIsImlzQ2xvdWRJbnN0YW5jZURpc2NvdmVyeUVycm9yUmVzcG9uc2UiLCJSZWdpb25EaXNjb3ZlcnkiLCJBdXRoRXJyb3IiLCJQZXJmb3JtYW5jZUV2ZW50cyIsImludm9rZUFzeW5jIiwiZ2VuZXJhdGVBdXRob3JpdHlNZXRhZGF0YUV4cGlyZXNBdCIsInVwZGF0ZUF1dGhvcml0eUVuZHBvaW50TWV0YWRhdGEiLCJpc0F1dGhvcml0eU1ldGFkYXRhRXhwaXJlZCIsInVwZGF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGEiLCJlbmRwb2ludFJlc29sdXRpb25FcnJvciIsImVuZFNlc3Npb25FbmRwb2ludE5vdFN1cHBvcnRlZCIsIm9wZW5JZENvbmZpZ0Vycm9yIiwiaW52YWxpZEF1dGhvcml0eU1ldGFkYXRhIiwidW50cnVzdGVkQXV0aG9yaXR5IiwiaW52YWxpZENsb3VkRGlzY292ZXJ5TWV0YWRhdGEiLCJBdXRob3JpdHkiLCJjb25zdHJ1Y3RvciIsImF1dGhvcml0eSIsIm5ldHdvcmtJbnRlcmZhY2UiLCJjYWNoZU1hbmFnZXIiLCJhdXRob3JpdHlPcHRpb25zIiwibG9nZ2VyIiwiY29ycmVsYXRpb25JZCIsInBlcmZvcm1hbmNlQ2xpZW50IiwibWFuYWdlZElkZW50aXR5IiwiY2Fub25pY2FsQXV0aG9yaXR5IiwiX2Nhbm9uaWNhbEF1dGhvcml0eSIsInZhbGlkYXRlQXNVcmkiLCJyZWdpb25EaXNjb3ZlcnlNZXRhZGF0YSIsInJlZ2lvbl91c2VkIiwidW5kZWZpbmVkIiwicmVnaW9uX3NvdXJjZSIsInJlZ2lvbl9vdXRjb21lIiwicmVnaW9uRGlzY292ZXJ5IiwiZ2V0QXV0aG9yaXR5VHlwZSIsImF1dGhvcml0eVVyaSIsIkhvc3ROYW1lQW5kUG9ydCIsImVuZHNXaXRoIiwiQ0lBTV9BVVRIX1VSTCIsIkNpYW0iLCJwYXRoU2VnbWVudHMiLCJQYXRoU2VnbWVudHMiLCJsZW5ndGgiLCJ0b0xvd2VyQ2FzZSIsIkFERlMiLCJBZGZzIiwiRFNUUyIsIkRzdHMiLCJEZWZhdWx0IiwiYXV0aG9yaXR5VHlwZSIsImNhbm9uaWNhbEF1dGhvcml0eVVybENvbXBvbmVudHMiLCJwcm90b2NvbE1vZGUiLCJvcHRpb25zIiwidXJsU3RyaW5nIiwidXJsIiwiX2Nhbm9uaWNhbEF1dGhvcml0eVVybENvbXBvbmVudHMiLCJnZXRVcmxDb21wb25lbnRzIiwiaG9zdG5hbWVBbmRQb3J0IiwidGVuYW50IiwiYXV0aG9yaXphdGlvbkVuZHBvaW50IiwiZGlzY292ZXJ5Q29tcGxldGUiLCJyZXBsYWNlUGF0aCIsIm1ldGFkYXRhIiwiYXV0aG9yaXphdGlvbl9lbmRwb2ludCIsInRva2VuRW5kcG9pbnQiLCJ0b2tlbl9lbmRwb2ludCIsImRldmljZUNvZGVFbmRwb2ludCIsInJlcGxhY2UiLCJlbmRTZXNzaW9uRW5kcG9pbnQiLCJlbmRfc2Vzc2lvbl9lbmRwb2ludCIsInNlbGZTaWduZWRKd3RBdWRpZW5jZSIsImlzc3VlciIsImp3a3NVcmkiLCJqd2tzX3VyaSIsImNhblJlcGxhY2VUZW5hbnQiLCJyZXNlcnZlZFRlbmFudERvbWFpbnMiLCJoYXMiLCJBQUQiLCJyZXBsYWNlVGVuYW50IiwiZW5kcG9pbnQiLCJjYWNoZWRBdXRob3JpdHlVcmwiLCJjYW5vbmljYWxfYXV0aG9yaXR5IiwiY2FjaGVkQXV0aG9yaXR5VXJsQ29tcG9uZW50cyIsImNhY2hlZEF1dGhvcml0eVBhcnRzIiwiY3VycmVudEF1dGhvcml0eVBhcnRzIiwiZm9yRWFjaCIsImN1cnJlbnRQYXJ0IiwiaW5kZXgiLCJjYWNoZWRQYXJ0IiwidGVuYW50SWQiLCJ2ZXJib3NlIiwiZGVmYXVsdE9wZW5JZENvbmZpZ3VyYXRpb25FbmRwb2ludCIsImNhbm9uaWNhbEF1dGhvcml0eUhvc3QiLCJpc0FsaWFzT2ZLbm93bk1pY3Jvc29mdEF1dGhvcml0eSIsInJlc29sdmVFbmRwb2ludHNBc3luYyIsImFkZFF1ZXVlTWVhc3VyZW1lbnQiLCJBdXRob3JpdHlSZXNvbHZlRW5kcG9pbnRzQXN5bmMiLCJtZXRhZGF0YUVudGl0eSIsImdldEN1cnJlbnRNZXRhZGF0YUVudGl0eSIsImNsb3VkRGlzY292ZXJ5U291cmNlIiwiYmluZCIsIkF1dGhvcml0eVVwZGF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGEiLCJwcmVmZXJyZWRfbmV0d29yayIsImVuZHBvaW50U291cmNlIiwidXBkYXRlRW5kcG9pbnRNZXRhZGF0YSIsIkF1dGhvcml0eVVwZGF0ZUVuZHBvaW50TWV0YWRhdGEiLCJ1cGRhdGVDYWNoZWRNZXRhZGF0YSIsInNvdXJjZSIsImFkZEZpZWxkcyIsImF1dGhvcml0eUVuZHBvaW50U291cmNlIiwiZ2V0QXV0aG9yaXR5TWV0YWRhdGFCeUFsaWFzIiwiYWxpYXNlcyIsInByZWZlcnJlZF9jYWNoZSIsImFsaWFzZXNGcm9tTmV0d29yayIsImVuZHBvaW50c0Zyb21OZXR3b3JrIiwiZXhwaXJlc0F0IiwiZW5kcG9pbnRNZXRhZGF0YVJlc3VsdCIsIkNBQ0hFIiwiY2FjaGVLZXkiLCJnZW5lcmF0ZUF1dGhvcml0eU1ldGFkYXRhQ2FjaGVLZXkiLCJzZXRBdXRob3JpdHlNZXRhZGF0YSIsImxvY2FsTWV0YWRhdGEiLCJ1cGRhdGVFbmRwb2ludE1ldGFkYXRhRnJvbUxvY2FsU291cmNlcyIsIkhBUkRDT0RFRF9WQUxVRVMiLCJhenVyZVJlZ2lvbkNvbmZpZ3VyYXRpb24iLCJhenVyZVJlZ2lvbiIsImhhcmRjb2RlZE1ldGFkYXRhIiwidXBkYXRlTWV0YWRhdGFXaXRoUmVnaW9uYWxJbmZvcm1hdGlvbiIsIkF1dGhvcml0eVVwZGF0ZU1ldGFkYXRhV2l0aFJlZ2lvbmFsSW5mb3JtYXRpb24iLCJnZXRFbmRwb2ludE1ldGFkYXRhRnJvbU5ldHdvcmsiLCJBdXRob3JpdHlHZXRFbmRwb2ludE1ldGFkYXRhRnJvbU5ldHdvcmsiLCJORVRXT1JLIiwiY29uZmlnTWV0YWRhdGEiLCJnZXRFbmRwb2ludE1ldGFkYXRhRnJvbUNvbmZpZyIsIkNPTkZJRyIsInNraXBBdXRob3JpdHlNZXRhZGF0YUNhY2hlIiwiZ2V0RW5kcG9pbnRNZXRhZGF0YUZyb21IYXJkY29kZWRWYWx1ZXMiLCJtZXRhZGF0YUVudGl0eUV4cGlyZWQiLCJpc0F1dGhvcml0eVNhbWVUeXBlIiwiY2FjaGVkUGFydHMiLCJhdXRob3JpdHlNZXRhZGF0YSIsIkpTT04iLCJwYXJzZSIsImUiLCJvcGVuSWRDb25maWd1cmF0aW9uRW5kcG9pbnQiLCJyZXNwb25zZSIsInNlbmRHZXRSZXF1ZXN0QXN5bmMiLCJpc1ZhbGlkUmVzcG9uc2UiLCJib2R5IiwidXNlckNvbmZpZ3VyZWRBenVyZVJlZ2lvbiIsIkFaVVJFX1JFR0lPTl9BVVRPX0RJU0NPVkVSX0ZMQUciLCJDT05GSUdVUkVEX05PX0FVVE9fREVURUNUSU9OIiwicmVwbGFjZVdpdGhSZWdpb25hbEluZm9ybWF0aW9uIiwiYXV0b2RldGVjdGVkUmVnaW9uTmFtZSIsImRldGVjdFJlZ2lvbiIsIlJlZ2lvbkRpc2NvdmVyeURldGVjdFJlZ2lvbiIsImVudmlyb25tZW50UmVnaW9uIiwiQVVUT19ERVRFQ1RJT05fUkVRVUVTVEVEX1NVQ0NFU1NGVUwiLCJBVVRPX0RFVEVDVElPTl9SRVFVRVNURURfRkFJTEVEIiwibG9jYWxNZXRhZGF0YVNvdXJjZSIsInVwZGF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tTG9jYWxTb3VyY2VzIiwiZ2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrIiwiQXV0aG9yaXR5R2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrIiwidmVyYm9zZVBpaSIsImtub3duQXV0aG9yaXRpZXMiLCJOT1RfQVBQTElDQUJMRSIsImdldENsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tQ29uZmlnIiwiY3JlYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21Ib3N0IiwiY2xvdWREaXNjb3ZlcnlNZXRhZGF0YSIsInBhcnNlZFJlc3BvbnNlIiwiaXNJbktub3duQXV0aG9yaXRpZXMiLCJpbnN0YW5jZURpc2NvdmVyeUVuZHBvaW50IiwiQUFEX0lOU1RBTkNFX0RJU0NPVkVSWV9FTkRQVCIsIm1hdGNoIiwidHlwZWRSZXNwb25zZUJvZHkiLCJ0ZW5hbnRfZGlzY292ZXJ5X2VuZHBvaW50Iiwid2FybmluZyIsInN0YXR1cyIsImVycm9yIiwiSU5WQUxJRF9JTlNUQU5DRSIsImVycm9yX2Rlc2NyaXB0aW9uIiwiZXJyb3JDb2RlIiwiZXJyb3JNZXNzYWdlIiwidHlwZWRFcnJvciIsIm5hbWUiLCJtZXNzYWdlIiwibWF0Y2hlcyIsImZpbHRlciIsImdldERvbWFpbkZyb21VcmwiLCJnZW5lcmF0ZUF1dGhvcml0eSIsImF1dGhvcml0eVN0cmluZyIsImF6dXJlQ2xvdWRPcHRpb25zIiwiYXV0aG9yaXR5QXp1cmVDbG91ZEluc3RhbmNlIiwiYXp1cmVDbG91ZEluc3RhbmNlIiwiTm9uZSIsIkRFRkFVTFRfQ09NTU9OX1RFTkFOVCIsImhvc3QiLCJnZXRQcmVmZXJyZWRDYWNoZSIsIkRFRkFVTFRfQVVUSE9SSVRZX0hPU1QiLCJpc0FsaWFzIiwiaW5kZXhPZiIsImlzUHVibGljQ2xvdWRBdXRob3JpdHkiLCJLTk9XTl9QVUJMSUNfQ0xPVURTIiwiYnVpbGRSZWdpb25hbEF1dGhvcml0eVN0cmluZyIsInJlZ2lvbiIsInF1ZXJ5U3RyaW5nIiwiYXV0aG9yaXR5VXJsSW5zdGFuY2UiLCJhdXRob3JpdHlVcmxQYXJ0cyIsImhvc3ROYW1lQW5kUG9ydCIsIlJFR0lPTkFMX0FVVEhfUFVCTElDX0NMT1VEX1NVRkZJWCIsImNvbnN0cnVjdEF1dGhvcml0eVVyaUZyb21PYmplY3QiLCJyZWdpb25hbE1ldGFkYXRhIiwidHJhbnNmb3JtQ0lBTUF1dGhvcml0eSIsImNpYW1BdXRob3JpdHkiLCJhdXRob3JpdHlVcmwiLCJhdXRob3JpdHlVcmxDb21wb25lbnRzIiwidGVuYW50SWRPckRvbWFpbiIsInNwbGl0IiwiQUFEX1RFTkFOVF9ET01BSU5fU1VGRklYIiwiU2V0IiwiQ09NTU9OIiwiQ09OU1VNRVJTIiwiT1JHQU5JWkFUSU9OUyIsImdldFRlbmFudEZyb21BdXRob3JpdHlTdHJpbmciLCJzbGljZSIsImZvcm1hdEF1dGhvcml0eVVyaSIsIkZPUldBUkRfU0xBU0giLCJidWlsZFN0YXRpY0F1dGhvcml0eU9wdGlvbnMiLCJhdXRoT3B0aW9ucyIsInJhd0Nsb3VkRGlzY292ZXJ5TWV0YWRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/authority/Authority.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityFactory.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/authority/AuthorityFactory.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createDiscoveredInstance: () => (/* binding */ createDiscoveredInstance)\n/* harmony export */ });\n/* harmony import */ var _Authority_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Authority.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/Authority.mjs\");\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../telemetry/performance/PerformanceEvent.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/FunctionWrappers.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Create an authority object of the correct type based on the url\r\n * Performs basic authority validation - checks to see if the authority is of a valid type (i.e. aad, b2c, adfs)\r\n *\r\n * Also performs endpoint discovery.\r\n *\r\n * @param authorityUri\r\n * @param networkClient\r\n * @param protocolMode\r\n * @internal\r\n */ async function createDiscoveredInstance(authorityUri, networkClient, cacheManager, authorityOptions, logger, correlationId, performanceClient) {\n    performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.AuthorityFactoryCreateDiscoveredInstance, correlationId);\n    const authorityUriFinal = _Authority_mjs__WEBPACK_IMPORTED_MODULE_1__.Authority.transformCIAMAuthority((0,_Authority_mjs__WEBPACK_IMPORTED_MODULE_1__.formatAuthorityUri)(authorityUri));\n    // Initialize authority and perform discovery endpoint check.\n    const acquireTokenAuthority = new _Authority_mjs__WEBPACK_IMPORTED_MODULE_1__.Authority(authorityUriFinal, networkClient, cacheManager, authorityOptions, logger, correlationId, performanceClient);\n    try {\n        await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(acquireTokenAuthority.resolveEndpointsAsync.bind(acquireTokenAuthority), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.AuthorityResolveEndpointsAsync, logger, performanceClient, correlationId)();\n        return acquireTokenAuthority;\n    } catch (e) {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.endpointResolutionError);\n    }\n}\n //# sourceMappingURL=AuthorityFactory.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L0F1dGhvcml0eUZhY3RvcnkubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNnRTtBQUNLO0FBQ2E7QUFDdEI7QUFDZ0I7QUFFNUU7OztDQUdDLEdBQ0Q7Ozs7Ozs7Ozs7Q0FVQyxHQUNELGVBQWVNLHlCQUF5QkMsWUFBWSxFQUFFQyxhQUFhLEVBQUVDLFlBQVksRUFBRUMsZ0JBQWdCLEVBQUVDLE1BQU0sRUFBRUMsYUFBYSxFQUFFQyxpQkFBaUI7SUFDeklBLG1CQUFtQkMsb0JBQW9CWCwwRkFBaUJBLENBQUNZLHdDQUF3QyxFQUFFSDtJQUNuRyxNQUFNSSxvQkFBb0JoQixxREFBU0EsQ0FBQ2lCLHNCQUFzQixDQUFDaEIsa0VBQWtCQSxDQUFDTTtJQUM5RSw2REFBNkQ7SUFDN0QsTUFBTVcsd0JBQXdCLElBQUlsQixxREFBU0EsQ0FBQ2dCLG1CQUFtQlIsZUFBZUMsY0FBY0Msa0JBQWtCQyxRQUFRQyxlQUFlQztJQUNySSxJQUFJO1FBQ0EsTUFBTVQsd0VBQVdBLENBQUNjLHNCQUFzQkMscUJBQXFCLENBQUNDLElBQUksQ0FBQ0Ysd0JBQXdCZiwwRkFBaUJBLENBQUNrQiw4QkFBOEIsRUFBRVYsUUFBUUUsbUJBQW1CRDtRQUN4SyxPQUFPTTtJQUNYLEVBQ0EsT0FBT0ksR0FBRztRQUNOLE1BQU1wQixpRkFBcUJBLENBQUNHLG9GQUF1QkE7SUFDdkQ7QUFDSjtBQUVvQyxDQUNwQyw2Q0FBNkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L0F1dGhvcml0eUZhY3RvcnkubWpzPzBkMTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBBdXRob3JpdHksIGZvcm1hdEF1dGhvcml0eVVyaSB9IGZyb20gJy4vQXV0aG9yaXR5Lm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IFBlcmZvcm1hbmNlRXZlbnRzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3BlcmZvcm1hbmNlL1BlcmZvcm1hbmNlRXZlbnQubWpzJztcbmltcG9ydCB7IGludm9rZUFzeW5jIH0gZnJvbSAnLi4vdXRpbHMvRnVuY3Rpb25XcmFwcGVycy5tanMnO1xuaW1wb3J0IHsgZW5kcG9pbnRSZXNvbHV0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENyZWF0ZSBhbiBhdXRob3JpdHkgb2JqZWN0IG9mIHRoZSBjb3JyZWN0IHR5cGUgYmFzZWQgb24gdGhlIHVybFxyXG4gKiBQZXJmb3JtcyBiYXNpYyBhdXRob3JpdHkgdmFsaWRhdGlvbiAtIGNoZWNrcyB0byBzZWUgaWYgdGhlIGF1dGhvcml0eSBpcyBvZiBhIHZhbGlkIHR5cGUgKGkuZS4gYWFkLCBiMmMsIGFkZnMpXHJcbiAqXHJcbiAqIEFsc28gcGVyZm9ybXMgZW5kcG9pbnQgZGlzY292ZXJ5LlxyXG4gKlxyXG4gKiBAcGFyYW0gYXV0aG9yaXR5VXJpXHJcbiAqIEBwYXJhbSBuZXR3b3JrQ2xpZW50XHJcbiAqIEBwYXJhbSBwcm90b2NvbE1vZGVcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5hc3luYyBmdW5jdGlvbiBjcmVhdGVEaXNjb3ZlcmVkSW5zdGFuY2UoYXV0aG9yaXR5VXJpLCBuZXR3b3JrQ2xpZW50LCBjYWNoZU1hbmFnZXIsIGF1dGhvcml0eU9wdGlvbnMsIGxvZ2dlciwgY29ycmVsYXRpb25JZCwgcGVyZm9ybWFuY2VDbGllbnQpIHtcclxuICAgIHBlcmZvcm1hbmNlQ2xpZW50Py5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhvcml0eUZhY3RvcnlDcmVhdGVEaXNjb3ZlcmVkSW5zdGFuY2UsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgY29uc3QgYXV0aG9yaXR5VXJpRmluYWwgPSBBdXRob3JpdHkudHJhbnNmb3JtQ0lBTUF1dGhvcml0eShmb3JtYXRBdXRob3JpdHlVcmkoYXV0aG9yaXR5VXJpKSk7XHJcbiAgICAvLyBJbml0aWFsaXplIGF1dGhvcml0eSBhbmQgcGVyZm9ybSBkaXNjb3ZlcnkgZW5kcG9pbnQgY2hlY2suXHJcbiAgICBjb25zdCBhY3F1aXJlVG9rZW5BdXRob3JpdHkgPSBuZXcgQXV0aG9yaXR5KGF1dGhvcml0eVVyaUZpbmFsLCBuZXR3b3JrQ2xpZW50LCBjYWNoZU1hbmFnZXIsIGF1dGhvcml0eU9wdGlvbnMsIGxvZ2dlciwgY29ycmVsYXRpb25JZCwgcGVyZm9ybWFuY2VDbGllbnQpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBpbnZva2VBc3luYyhhY3F1aXJlVG9rZW5BdXRob3JpdHkucmVzb2x2ZUVuZHBvaW50c0FzeW5jLmJpbmQoYWNxdWlyZVRva2VuQXV0aG9yaXR5KSwgUGVyZm9ybWFuY2VFdmVudHMuQXV0aG9yaXR5UmVzb2x2ZUVuZHBvaW50c0FzeW5jLCBsb2dnZXIsIHBlcmZvcm1hbmNlQ2xpZW50LCBjb3JyZWxhdGlvbklkKSgpO1xyXG4gICAgICAgIHJldHVybiBhY3F1aXJlVG9rZW5BdXRob3JpdHk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihlbmRwb2ludFJlc29sdXRpb25FcnJvcik7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgY3JlYXRlRGlzY292ZXJlZEluc3RhbmNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdXRob3JpdHlGYWN0b3J5Lm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJBdXRob3JpdHkiLCJmb3JtYXRBdXRob3JpdHlVcmkiLCJjcmVhdGVDbGllbnRBdXRoRXJyb3IiLCJQZXJmb3JtYW5jZUV2ZW50cyIsImludm9rZUFzeW5jIiwiZW5kcG9pbnRSZXNvbHV0aW9uRXJyb3IiLCJjcmVhdGVEaXNjb3ZlcmVkSW5zdGFuY2UiLCJhdXRob3JpdHlVcmkiLCJuZXR3b3JrQ2xpZW50IiwiY2FjaGVNYW5hZ2VyIiwiYXV0aG9yaXR5T3B0aW9ucyIsImxvZ2dlciIsImNvcnJlbGF0aW9uSWQiLCJwZXJmb3JtYW5jZUNsaWVudCIsImFkZFF1ZXVlTWVhc3VyZW1lbnQiLCJBdXRob3JpdHlGYWN0b3J5Q3JlYXRlRGlzY292ZXJlZEluc3RhbmNlIiwiYXV0aG9yaXR5VXJpRmluYWwiLCJ0cmFuc2Zvcm1DSUFNQXV0aG9yaXR5IiwiYWNxdWlyZVRva2VuQXV0aG9yaXR5IiwicmVzb2x2ZUVuZHBvaW50c0FzeW5jIiwiYmluZCIsIkF1dGhvcml0eVJlc29sdmVFbmRwb2ludHNBc3luYyIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityFactory.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityMetadata.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/authority/AuthorityMetadata.mjs ***!
  \******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EndpointMetadata: () => (/* binding */ EndpointMetadata),\n/* harmony export */   InstanceDiscoveryMetadata: () => (/* binding */ InstanceDiscoveryMetadata),\n/* harmony export */   InstanceDiscoveryMetadataAliases: () => (/* binding */ InstanceDiscoveryMetadataAliases),\n/* harmony export */   getAliasesFromMetadata: () => (/* binding */ getAliasesFromMetadata),\n/* harmony export */   getAliasesFromStaticSources: () => (/* binding */ getAliasesFromStaticSources),\n/* harmony export */   getCloudDiscoveryMetadataFromHardcodedValues: () => (/* binding */ getCloudDiscoveryMetadataFromHardcodedValues),\n/* harmony export */   getCloudDiscoveryMetadataFromNetworkResponse: () => (/* binding */ getCloudDiscoveryMetadataFromNetworkResponse),\n/* harmony export */   rawMetdataJSON: () => (/* binding */ rawMetdataJSON)\n/* harmony export */ });\n/* harmony import */ var _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../url/UrlString.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const rawMetdataJSON = {\n    endpointMetadata: {\n        \"login.microsoftonline.com\": {\n            token_endpoint: \"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token\",\n            jwks_uri: \"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys\",\n            issuer: \"https://login.microsoftonline.com/{tenantid}/v2.0\",\n            authorization_endpoint: \"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize\",\n            end_session_endpoint: \"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout\"\n        },\n        \"login.chinacloudapi.cn\": {\n            token_endpoint: \"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token\",\n            jwks_uri: \"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys\",\n            issuer: \"https://login.partner.microsoftonline.cn/{tenantid}/v2.0\",\n            authorization_endpoint: \"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize\",\n            end_session_endpoint: \"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout\"\n        },\n        \"login.microsoftonline.us\": {\n            token_endpoint: \"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token\",\n            jwks_uri: \"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys\",\n            issuer: \"https://login.microsoftonline.us/{tenantid}/v2.0\",\n            authorization_endpoint: \"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize\",\n            end_session_endpoint: \"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout\"\n        }\n    },\n    instanceDiscoveryMetadata: {\n        tenant_discovery_endpoint: \"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration\",\n        metadata: [\n            {\n                preferred_network: \"login.microsoftonline.com\",\n                preferred_cache: \"login.windows.net\",\n                aliases: [\n                    \"login.microsoftonline.com\",\n                    \"login.windows.net\",\n                    \"login.microsoft.com\",\n                    \"sts.windows.net\"\n                ]\n            },\n            {\n                preferred_network: \"login.partner.microsoftonline.cn\",\n                preferred_cache: \"login.partner.microsoftonline.cn\",\n                aliases: [\n                    \"login.partner.microsoftonline.cn\",\n                    \"login.chinacloudapi.cn\"\n                ]\n            },\n            {\n                preferred_network: \"login.microsoftonline.de\",\n                preferred_cache: \"login.microsoftonline.de\",\n                aliases: [\n                    \"login.microsoftonline.de\"\n                ]\n            },\n            {\n                preferred_network: \"login.microsoftonline.us\",\n                preferred_cache: \"login.microsoftonline.us\",\n                aliases: [\n                    \"login.microsoftonline.us\",\n                    \"login.usgovcloudapi.net\"\n                ]\n            },\n            {\n                preferred_network: \"login-us.microsoftonline.com\",\n                preferred_cache: \"login-us.microsoftonline.com\",\n                aliases: [\n                    \"login-us.microsoftonline.com\"\n                ]\n            }\n        ]\n    }\n};\nconst EndpointMetadata = rawMetdataJSON.endpointMetadata;\nconst InstanceDiscoveryMetadata = rawMetdataJSON.instanceDiscoveryMetadata;\nconst InstanceDiscoveryMetadataAliases = new Set();\nInstanceDiscoveryMetadata.metadata.forEach((metadataEntry)=>{\n    metadataEntry.aliases.forEach((alias)=>{\n        InstanceDiscoveryMetadataAliases.add(alias);\n    });\n});\n/**\r\n * Attempts to get an aliases array from the static authority metadata sources based on the canonical authority host\r\n * @param staticAuthorityOptions\r\n * @param logger\r\n * @returns\r\n */ function getAliasesFromStaticSources(staticAuthorityOptions, logger) {\n    let staticAliases;\n    const canonicalAuthority = staticAuthorityOptions.canonicalAuthority;\n    if (canonicalAuthority) {\n        const authorityHost = new _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_0__.UrlString(canonicalAuthority).getUrlComponents().HostNameAndPort;\n        staticAliases = getAliasesFromMetadata(authorityHost, staticAuthorityOptions.cloudDiscoveryMetadata?.metadata, _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.CONFIG, logger) || getAliasesFromMetadata(authorityHost, InstanceDiscoveryMetadata.metadata, _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityMetadataSource.HARDCODED_VALUES, logger) || staticAuthorityOptions.knownAuthorities;\n    }\n    return staticAliases || [];\n}\n/**\r\n * Returns aliases for from the raw cloud discovery metadata passed in\r\n * @param authorityHost\r\n * @param rawCloudDiscoveryMetadata\r\n * @returns\r\n */ function getAliasesFromMetadata(authorityHost, cloudDiscoveryMetadata, source, logger) {\n    logger?.trace(`getAliasesFromMetadata called with source: ${source}`);\n    if (authorityHost && cloudDiscoveryMetadata) {\n        const metadata = getCloudDiscoveryMetadataFromNetworkResponse(cloudDiscoveryMetadata, authorityHost);\n        if (metadata) {\n            logger?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${source}, returning aliases`);\n            return metadata.aliases;\n        } else {\n            logger?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${source}`);\n        }\n    }\n    return null;\n}\n/**\r\n * Get cloud discovery metadata for common authorities\r\n */ function getCloudDiscoveryMetadataFromHardcodedValues(authorityHost) {\n    const metadata = getCloudDiscoveryMetadataFromNetworkResponse(InstanceDiscoveryMetadata.metadata, authorityHost);\n    return metadata;\n}\n/**\r\n * Searches instance discovery network response for the entry that contains the host in the aliases list\r\n * @param response\r\n * @param authority\r\n */ function getCloudDiscoveryMetadataFromNetworkResponse(response, authorityHost) {\n    for(let i = 0; i < response.length; i++){\n        const metadata = response[i];\n        if (metadata.aliases.includes(authorityHost)) {\n            return metadata;\n        }\n    }\n    return null;\n}\n //# sourceMappingURL=AuthorityMetadata.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L0F1dGhvcml0eU1ldGFkYXRhLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ2lEO0FBQ2dCO0FBRWpFOzs7Q0FHQyxHQUNELE1BQU1FLGlCQUFpQjtJQUNuQkMsa0JBQWtCO1FBQ2QsNkJBQTZCO1lBQ3pCQyxnQkFBZ0I7WUFDaEJDLFVBQVU7WUFDVkMsUUFBUTtZQUNSQyx3QkFBd0I7WUFDeEJDLHNCQUFzQjtRQUMxQjtRQUNBLDBCQUEwQjtZQUN0QkosZ0JBQWdCO1lBQ2hCQyxVQUFVO1lBQ1ZDLFFBQVE7WUFDUkMsd0JBQXdCO1lBQ3hCQyxzQkFBc0I7UUFDMUI7UUFDQSw0QkFBNEI7WUFDeEJKLGdCQUFnQjtZQUNoQkMsVUFBVTtZQUNWQyxRQUFRO1lBQ1JDLHdCQUF3QjtZQUN4QkMsc0JBQXNCO1FBQzFCO0lBQ0o7SUFDQUMsMkJBQTJCO1FBQ3ZCQywyQkFBMkI7UUFDM0JDLFVBQVU7WUFDTjtnQkFDSUMsbUJBQW1CO2dCQUNuQkMsaUJBQWlCO2dCQUNqQkMsU0FBUztvQkFDTDtvQkFDQTtvQkFDQTtvQkFDQTtpQkFDSDtZQUNMO1lBQ0E7Z0JBQ0lGLG1CQUFtQjtnQkFDbkJDLGlCQUFpQjtnQkFDakJDLFNBQVM7b0JBQ0w7b0JBQ0E7aUJBQ0g7WUFDTDtZQUNBO2dCQUNJRixtQkFBbUI7Z0JBQ25CQyxpQkFBaUI7Z0JBQ2pCQyxTQUFTO29CQUFDO2lCQUEyQjtZQUN6QztZQUNBO2dCQUNJRixtQkFBbUI7Z0JBQ25CQyxpQkFBaUI7Z0JBQ2pCQyxTQUFTO29CQUNMO29CQUNBO2lCQUNIO1lBQ0w7WUFDQTtnQkFDSUYsbUJBQW1CO2dCQUNuQkMsaUJBQWlCO2dCQUNqQkMsU0FBUztvQkFBQztpQkFBK0I7WUFDN0M7U0FDSDtJQUNMO0FBQ0o7QUFDQSxNQUFNQyxtQkFBbUJiLGVBQWVDLGdCQUFnQjtBQUN4RCxNQUFNYSw0QkFBNEJkLGVBQWVPLHlCQUF5QjtBQUMxRSxNQUFNUSxtQ0FBbUMsSUFBSUM7QUFDN0NGLDBCQUEwQkwsUUFBUSxDQUFDUSxPQUFPLENBQUMsQ0FBQ0M7SUFDeENBLGNBQWNOLE9BQU8sQ0FBQ0ssT0FBTyxDQUFDLENBQUNFO1FBQzNCSixpQ0FBaUNLLEdBQUcsQ0FBQ0Q7SUFDekM7QUFDSjtBQUNBOzs7OztDQUtDLEdBQ0QsU0FBU0UsNEJBQTRCQyxzQkFBc0IsRUFBRUMsTUFBTTtJQUMvRCxJQUFJQztJQUNKLE1BQU1DLHFCQUFxQkgsdUJBQXVCRyxrQkFBa0I7SUFDcEUsSUFBSUEsb0JBQW9CO1FBQ3BCLE1BQU1DLGdCQUFnQixJQUFJNUIseURBQVNBLENBQUMyQixvQkFBb0JFLGdCQUFnQixHQUFHQyxlQUFlO1FBQzFGSixnQkFDSUssdUJBQXVCSCxlQUFlSix1QkFBdUJRLHNCQUFzQixFQUFFckIsVUFBVVYseUVBQXVCQSxDQUFDZ0MsTUFBTSxFQUFFUixXQUMzSE0sdUJBQXVCSCxlQUFlWiwwQkFBMEJMLFFBQVEsRUFBRVYseUVBQXVCQSxDQUFDaUMsZ0JBQWdCLEVBQUVULFdBQ3BIRCx1QkFBdUJXLGdCQUFnQjtJQUNuRDtJQUNBLE9BQU9ULGlCQUFpQixFQUFFO0FBQzlCO0FBQ0E7Ozs7O0NBS0MsR0FDRCxTQUFTSyx1QkFBdUJILGFBQWEsRUFBRUksc0JBQXNCLEVBQUVJLE1BQU0sRUFBRVgsTUFBTTtJQUNqRkEsUUFBUVksTUFBTSxDQUFDLDJDQUEyQyxFQUFFRCxPQUFPLENBQUM7SUFDcEUsSUFBSVIsaUJBQWlCSSx3QkFBd0I7UUFDekMsTUFBTXJCLFdBQVcyQiw2Q0FBNkNOLHdCQUF3Qko7UUFDdEYsSUFBSWpCLFVBQVU7WUFDVmMsUUFBUVksTUFBTSxDQUFDLDBEQUEwRCxFQUFFRCxPQUFPLG1CQUFtQixDQUFDO1lBQ3RHLE9BQU96QixTQUFTRyxPQUFPO1FBQzNCLE9BQ0s7WUFDRFcsUUFBUVksTUFBTSxDQUFDLGlFQUFpRSxFQUFFRCxPQUFPLENBQUM7UUFDOUY7SUFDSjtJQUNBLE9BQU87QUFDWDtBQUNBOztDQUVDLEdBQ0QsU0FBU0csNkNBQTZDWCxhQUFhO0lBQy9ELE1BQU1qQixXQUFXMkIsNkNBQTZDdEIsMEJBQTBCTCxRQUFRLEVBQUVpQjtJQUNsRyxPQUFPakI7QUFDWDtBQUNBOzs7O0NBSUMsR0FDRCxTQUFTMkIsNkNBQTZDRSxRQUFRLEVBQUVaLGFBQWE7SUFDekUsSUFBSyxJQUFJYSxJQUFJLEdBQUdBLElBQUlELFNBQVNFLE1BQU0sRUFBRUQsSUFBSztRQUN0QyxNQUFNOUIsV0FBVzZCLFFBQVEsQ0FBQ0MsRUFBRTtRQUM1QixJQUFJOUIsU0FBU0csT0FBTyxDQUFDNkIsUUFBUSxDQUFDZixnQkFBZ0I7WUFDMUMsT0FBT2pCO1FBQ1g7SUFDSjtJQUNBLE9BQU87QUFDWDtBQUUwUCxDQUMxUCw4Q0FBOEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L0F1dGhvcml0eU1ldGFkYXRhLm1qcz9lYTMyIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgVXJsU3RyaW5nIH0gZnJvbSAnLi4vdXJsL1VybFN0cmluZy5tanMnO1xuaW1wb3J0IHsgQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IHJhd01ldGRhdGFKU09OID0ge1xyXG4gICAgZW5kcG9pbnRNZXRhZGF0YToge1xyXG4gICAgICAgIFwibG9naW4ubWljcm9zb2Z0b25saW5lLmNvbVwiOiB7XHJcbiAgICAgICAgICAgIHRva2VuX2VuZHBvaW50OiBcImh0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbS97dGVuYW50aWR9L29hdXRoMi92Mi4wL3Rva2VuXCIsXHJcbiAgICAgICAgICAgIGp3a3NfdXJpOiBcImh0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbS97dGVuYW50aWR9L2Rpc2NvdmVyeS92Mi4wL2tleXNcIixcclxuICAgICAgICAgICAgaXNzdWVyOiBcImh0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLmNvbS97dGVuYW50aWR9L3YyLjBcIixcclxuICAgICAgICAgICAgYXV0aG9yaXphdGlvbl9lbmRwb2ludDogXCJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20ve3RlbmFudGlkfS9vYXV0aDIvdjIuMC9hdXRob3JpemVcIixcclxuICAgICAgICAgICAgZW5kX3Nlc3Npb25fZW5kcG9pbnQ6IFwiaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tL3t0ZW5hbnRpZH0vb2F1dGgyL3YyLjAvbG9nb3V0XCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBcImxvZ2luLmNoaW5hY2xvdWRhcGkuY25cIjoge1xyXG4gICAgICAgICAgICB0b2tlbl9lbmRwb2ludDogXCJodHRwczovL2xvZ2luLmNoaW5hY2xvdWRhcGkuY24ve3RlbmFudGlkfS9vYXV0aDIvdjIuMC90b2tlblwiLFxyXG4gICAgICAgICAgICBqd2tzX3VyaTogXCJodHRwczovL2xvZ2luLmNoaW5hY2xvdWRhcGkuY24ve3RlbmFudGlkfS9kaXNjb3ZlcnkvdjIuMC9rZXlzXCIsXHJcbiAgICAgICAgICAgIGlzc3VlcjogXCJodHRwczovL2xvZ2luLnBhcnRuZXIubWljcm9zb2Z0b25saW5lLmNuL3t0ZW5hbnRpZH0vdjIuMFwiLFxyXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uX2VuZHBvaW50OiBcImh0dHBzOi8vbG9naW4uY2hpbmFjbG91ZGFwaS5jbi97dGVuYW50aWR9L29hdXRoMi92Mi4wL2F1dGhvcml6ZVwiLFxyXG4gICAgICAgICAgICBlbmRfc2Vzc2lvbl9lbmRwb2ludDogXCJodHRwczovL2xvZ2luLmNoaW5hY2xvdWRhcGkuY24ve3RlbmFudGlkfS9vYXV0aDIvdjIuMC9sb2dvdXRcIixcclxuICAgICAgICB9LFxyXG4gICAgICAgIFwibG9naW4ubWljcm9zb2Z0b25saW5lLnVzXCI6IHtcclxuICAgICAgICAgICAgdG9rZW5fZW5kcG9pbnQ6IFwiaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUudXMve3RlbmFudGlkfS9vYXV0aDIvdjIuMC90b2tlblwiLFxyXG4gICAgICAgICAgICBqd2tzX3VyaTogXCJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS51cy97dGVuYW50aWR9L2Rpc2NvdmVyeS92Mi4wL2tleXNcIixcclxuICAgICAgICAgICAgaXNzdWVyOiBcImh0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLnVzL3t0ZW5hbnRpZH0vdjIuMFwiLFxyXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uX2VuZHBvaW50OiBcImh0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLnVzL3t0ZW5hbnRpZH0vb2F1dGgyL3YyLjAvYXV0aG9yaXplXCIsXHJcbiAgICAgICAgICAgIGVuZF9zZXNzaW9uX2VuZHBvaW50OiBcImh0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLnVzL3t0ZW5hbnRpZH0vb2F1dGgyL3YyLjAvbG9nb3V0XCIsXHJcbiAgICAgICAgfSxcclxuICAgIH0sXHJcbiAgICBpbnN0YW5jZURpc2NvdmVyeU1ldGFkYXRhOiB7XHJcbiAgICAgICAgdGVuYW50X2Rpc2NvdmVyeV9lbmRwb2ludDogXCJodHRwczovL3tjYW5vbmljYWxBdXRob3JpdHl9L3YyLjAvLndlbGwta25vd24vb3BlbmlkLWNvbmZpZ3VyYXRpb25cIixcclxuICAgICAgICBtZXRhZGF0YTogW1xyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwcmVmZXJyZWRfbmV0d29yazogXCJsb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tXCIsXHJcbiAgICAgICAgICAgICAgICBwcmVmZXJyZWRfY2FjaGU6IFwibG9naW4ud2luZG93cy5uZXRcIixcclxuICAgICAgICAgICAgICAgIGFsaWFzZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICBcImxvZ2luLm1pY3Jvc29mdG9ubGluZS5jb21cIixcclxuICAgICAgICAgICAgICAgICAgICBcImxvZ2luLndpbmRvd3MubmV0XCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJsb2dpbi5taWNyb3NvZnQuY29tXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJzdHMud2luZG93cy5uZXRcIixcclxuICAgICAgICAgICAgICAgIF0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHByZWZlcnJlZF9uZXR3b3JrOiBcImxvZ2luLnBhcnRuZXIubWljcm9zb2Z0b25saW5lLmNuXCIsXHJcbiAgICAgICAgICAgICAgICBwcmVmZXJyZWRfY2FjaGU6IFwibG9naW4ucGFydG5lci5taWNyb3NvZnRvbmxpbmUuY25cIixcclxuICAgICAgICAgICAgICAgIGFsaWFzZXM6IFtcclxuICAgICAgICAgICAgICAgICAgICBcImxvZ2luLnBhcnRuZXIubWljcm9zb2Z0b25saW5lLmNuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJsb2dpbi5jaGluYWNsb3VkYXBpLmNuXCIsXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwcmVmZXJyZWRfbmV0d29yazogXCJsb2dpbi5taWNyb3NvZnRvbmxpbmUuZGVcIixcclxuICAgICAgICAgICAgICAgIHByZWZlcnJlZF9jYWNoZTogXCJsb2dpbi5taWNyb3NvZnRvbmxpbmUuZGVcIixcclxuICAgICAgICAgICAgICAgIGFsaWFzZXM6IFtcImxvZ2luLm1pY3Jvc29mdG9ubGluZS5kZVwiXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcHJlZmVycmVkX25ldHdvcms6IFwibG9naW4ubWljcm9zb2Z0b25saW5lLnVzXCIsXHJcbiAgICAgICAgICAgICAgICBwcmVmZXJyZWRfY2FjaGU6IFwibG9naW4ubWljcm9zb2Z0b25saW5lLnVzXCIsXHJcbiAgICAgICAgICAgICAgICBhbGlhc2VzOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgXCJsb2dpbi5taWNyb3NvZnRvbmxpbmUudXNcIixcclxuICAgICAgICAgICAgICAgICAgICBcImxvZ2luLnVzZ292Y2xvdWRhcGkubmV0XCIsXHJcbiAgICAgICAgICAgICAgICBdLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwcmVmZXJyZWRfbmV0d29yazogXCJsb2dpbi11cy5taWNyb3NvZnRvbmxpbmUuY29tXCIsXHJcbiAgICAgICAgICAgICAgICBwcmVmZXJyZWRfY2FjaGU6IFwibG9naW4tdXMubWljcm9zb2Z0b25saW5lLmNvbVwiLFxyXG4gICAgICAgICAgICAgICAgYWxpYXNlczogW1wibG9naW4tdXMubWljcm9zb2Z0b25saW5lLmNvbVwiXSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgfSxcclxufTtcclxuY29uc3QgRW5kcG9pbnRNZXRhZGF0YSA9IHJhd01ldGRhdGFKU09OLmVuZHBvaW50TWV0YWRhdGE7XHJcbmNvbnN0IEluc3RhbmNlRGlzY292ZXJ5TWV0YWRhdGEgPSByYXdNZXRkYXRhSlNPTi5pbnN0YW5jZURpc2NvdmVyeU1ldGFkYXRhO1xyXG5jb25zdCBJbnN0YW5jZURpc2NvdmVyeU1ldGFkYXRhQWxpYXNlcyA9IG5ldyBTZXQoKTtcclxuSW5zdGFuY2VEaXNjb3ZlcnlNZXRhZGF0YS5tZXRhZGF0YS5mb3JFYWNoKChtZXRhZGF0YUVudHJ5KSA9PiB7XHJcbiAgICBtZXRhZGF0YUVudHJ5LmFsaWFzZXMuZm9yRWFjaCgoYWxpYXMpID0+IHtcclxuICAgICAgICBJbnN0YW5jZURpc2NvdmVyeU1ldGFkYXRhQWxpYXNlcy5hZGQoYWxpYXMpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG4vKipcclxuICogQXR0ZW1wdHMgdG8gZ2V0IGFuIGFsaWFzZXMgYXJyYXkgZnJvbSB0aGUgc3RhdGljIGF1dGhvcml0eSBtZXRhZGF0YSBzb3VyY2VzIGJhc2VkIG9uIHRoZSBjYW5vbmljYWwgYXV0aG9yaXR5IGhvc3RcclxuICogQHBhcmFtIHN0YXRpY0F1dGhvcml0eU9wdGlvbnNcclxuICogQHBhcmFtIGxvZ2dlclxyXG4gKiBAcmV0dXJuc1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0QWxpYXNlc0Zyb21TdGF0aWNTb3VyY2VzKHN0YXRpY0F1dGhvcml0eU9wdGlvbnMsIGxvZ2dlcikge1xyXG4gICAgbGV0IHN0YXRpY0FsaWFzZXM7XHJcbiAgICBjb25zdCBjYW5vbmljYWxBdXRob3JpdHkgPSBzdGF0aWNBdXRob3JpdHlPcHRpb25zLmNhbm9uaWNhbEF1dGhvcml0eTtcclxuICAgIGlmIChjYW5vbmljYWxBdXRob3JpdHkpIHtcclxuICAgICAgICBjb25zdCBhdXRob3JpdHlIb3N0ID0gbmV3IFVybFN0cmluZyhjYW5vbmljYWxBdXRob3JpdHkpLmdldFVybENvbXBvbmVudHMoKS5Ib3N0TmFtZUFuZFBvcnQ7XHJcbiAgICAgICAgc3RhdGljQWxpYXNlcyA9XHJcbiAgICAgICAgICAgIGdldEFsaWFzZXNGcm9tTWV0YWRhdGEoYXV0aG9yaXR5SG9zdCwgc3RhdGljQXV0aG9yaXR5T3B0aW9ucy5jbG91ZERpc2NvdmVyeU1ldGFkYXRhPy5tZXRhZGF0YSwgQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UuQ09ORklHLCBsb2dnZXIpIHx8XHJcbiAgICAgICAgICAgICAgICBnZXRBbGlhc2VzRnJvbU1ldGFkYXRhKGF1dGhvcml0eUhvc3QsIEluc3RhbmNlRGlzY292ZXJ5TWV0YWRhdGEubWV0YWRhdGEsIEF1dGhvcml0eU1ldGFkYXRhU291cmNlLkhBUkRDT0RFRF9WQUxVRVMsIGxvZ2dlcikgfHxcclxuICAgICAgICAgICAgICAgIHN0YXRpY0F1dGhvcml0eU9wdGlvbnMua25vd25BdXRob3JpdGllcztcclxuICAgIH1cclxuICAgIHJldHVybiBzdGF0aWNBbGlhc2VzIHx8IFtdO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGFsaWFzZXMgZm9yIGZyb20gdGhlIHJhdyBjbG91ZCBkaXNjb3ZlcnkgbWV0YWRhdGEgcGFzc2VkIGluXHJcbiAqIEBwYXJhbSBhdXRob3JpdHlIb3N0XHJcbiAqIEBwYXJhbSByYXdDbG91ZERpc2NvdmVyeU1ldGFkYXRhXHJcbiAqIEByZXR1cm5zXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBbGlhc2VzRnJvbU1ldGFkYXRhKGF1dGhvcml0eUhvc3QsIGNsb3VkRGlzY292ZXJ5TWV0YWRhdGEsIHNvdXJjZSwgbG9nZ2VyKSB7XHJcbiAgICBsb2dnZXI/LnRyYWNlKGBnZXRBbGlhc2VzRnJvbU1ldGFkYXRhIGNhbGxlZCB3aXRoIHNvdXJjZTogJHtzb3VyY2V9YCk7XHJcbiAgICBpZiAoYXV0aG9yaXR5SG9zdCAmJiBjbG91ZERpc2NvdmVyeU1ldGFkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgbWV0YWRhdGEgPSBnZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbU5ldHdvcmtSZXNwb25zZShjbG91ZERpc2NvdmVyeU1ldGFkYXRhLCBhdXRob3JpdHlIb3N0KTtcclxuICAgICAgICBpZiAobWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgbG9nZ2VyPy50cmFjZShgZ2V0QWxpYXNlc0Zyb21NZXRhZGF0YTogZm91bmQgY2xvdWQgZGlzY292ZXJ5IG1ldGFkYXRhIGluICR7c291cmNlfSwgcmV0dXJuaW5nIGFsaWFzZXNgKTtcclxuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhLmFsaWFzZXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBsb2dnZXI/LnRyYWNlKGBnZXRBbGlhc2VzRnJvbU1ldGFkYXRhOiBkaWQgbm90IGZpbmQgY2xvdWQgZGlzY292ZXJ5IG1ldGFkYXRhIGluICR7c291cmNlfWApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcbi8qKlxyXG4gKiBHZXQgY2xvdWQgZGlzY292ZXJ5IG1ldGFkYXRhIGZvciBjb21tb24gYXV0aG9yaXRpZXNcclxuICovXHJcbmZ1bmN0aW9uIGdldENsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tSGFyZGNvZGVkVmFsdWVzKGF1dGhvcml0eUhvc3QpIHtcclxuICAgIGNvbnN0IG1ldGFkYXRhID0gZ2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrUmVzcG9uc2UoSW5zdGFuY2VEaXNjb3ZlcnlNZXRhZGF0YS5tZXRhZGF0YSwgYXV0aG9yaXR5SG9zdCk7XHJcbiAgICByZXR1cm4gbWV0YWRhdGE7XHJcbn1cclxuLyoqXHJcbiAqIFNlYXJjaGVzIGluc3RhbmNlIGRpc2NvdmVyeSBuZXR3b3JrIHJlc3BvbnNlIGZvciB0aGUgZW50cnkgdGhhdCBjb250YWlucyB0aGUgaG9zdCBpbiB0aGUgYWxpYXNlcyBsaXN0XHJcbiAqIEBwYXJhbSByZXNwb25zZVxyXG4gKiBAcGFyYW0gYXV0aG9yaXR5XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbU5ldHdvcmtSZXNwb25zZShyZXNwb25zZSwgYXV0aG9yaXR5SG9zdCkge1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwb25zZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gcmVzcG9uc2VbaV07XHJcbiAgICAgICAgaWYgKG1ldGFkYXRhLmFsaWFzZXMuaW5jbHVkZXMoYXV0aG9yaXR5SG9zdCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XG5cbmV4cG9ydCB7IEVuZHBvaW50TWV0YWRhdGEsIEluc3RhbmNlRGlzY292ZXJ5TWV0YWRhdGEsIEluc3RhbmNlRGlzY292ZXJ5TWV0YWRhdGFBbGlhc2VzLCBnZXRBbGlhc2VzRnJvbU1ldGFkYXRhLCBnZXRBbGlhc2VzRnJvbVN0YXRpY1NvdXJjZXMsIGdldENsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tSGFyZGNvZGVkVmFsdWVzLCBnZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbU5ldHdvcmtSZXNwb25zZSwgcmF3TWV0ZGF0YUpTT04gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF1dGhvcml0eU1ldGFkYXRhLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJVcmxTdHJpbmciLCJBdXRob3JpdHlNZXRhZGF0YVNvdXJjZSIsInJhd01ldGRhdGFKU09OIiwiZW5kcG9pbnRNZXRhZGF0YSIsInRva2VuX2VuZHBvaW50Iiwiandrc191cmkiLCJpc3N1ZXIiLCJhdXRob3JpemF0aW9uX2VuZHBvaW50IiwiZW5kX3Nlc3Npb25fZW5kcG9pbnQiLCJpbnN0YW5jZURpc2NvdmVyeU1ldGFkYXRhIiwidGVuYW50X2Rpc2NvdmVyeV9lbmRwb2ludCIsIm1ldGFkYXRhIiwicHJlZmVycmVkX25ldHdvcmsiLCJwcmVmZXJyZWRfY2FjaGUiLCJhbGlhc2VzIiwiRW5kcG9pbnRNZXRhZGF0YSIsIkluc3RhbmNlRGlzY292ZXJ5TWV0YWRhdGEiLCJJbnN0YW5jZURpc2NvdmVyeU1ldGFkYXRhQWxpYXNlcyIsIlNldCIsImZvckVhY2giLCJtZXRhZGF0YUVudHJ5IiwiYWxpYXMiLCJhZGQiLCJnZXRBbGlhc2VzRnJvbVN0YXRpY1NvdXJjZXMiLCJzdGF0aWNBdXRob3JpdHlPcHRpb25zIiwibG9nZ2VyIiwic3RhdGljQWxpYXNlcyIsImNhbm9uaWNhbEF1dGhvcml0eSIsImF1dGhvcml0eUhvc3QiLCJnZXRVcmxDb21wb25lbnRzIiwiSG9zdE5hbWVBbmRQb3J0IiwiZ2V0QWxpYXNlc0Zyb21NZXRhZGF0YSIsImNsb3VkRGlzY292ZXJ5TWV0YWRhdGEiLCJDT05GSUciLCJIQVJEQ09ERURfVkFMVUVTIiwia25vd25BdXRob3JpdGllcyIsInNvdXJjZSIsInRyYWNlIiwiZ2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrUmVzcG9uc2UiLCJnZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbUhhcmRjb2RlZFZhbHVlcyIsInJlc3BvbnNlIiwiaSIsImxlbmd0aCIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityMetadata.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityOptions.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/authority/AuthorityOptions.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AzureCloudInstance: () => (/* binding */ AzureCloudInstance)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const AzureCloudInstance = {\n    // AzureCloudInstance is not specified.\n    None: \"none\",\n    // Microsoft Azure public cloud\n    AzurePublic: \"https://login.microsoftonline.com\",\n    // Microsoft PPE\n    AzurePpe: \"https://login.windows-ppe.net\",\n    // Microsoft Chinese national/regional cloud\n    AzureChina: \"https://login.chinacloudapi.cn\",\n    // Microsoft German national/regional cloud (\"Black Forest\")\n    AzureGermany: \"https://login.microsoftonline.de\",\n    // US Government cloud\n    AzureUsGovernment: \"https://login.microsoftonline.us\"\n};\n //# sourceMappingURL=AuthorityOptions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L0F1dGhvcml0eU9wdGlvbnMubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDQTs7O0NBR0MsR0FDRCxNQUFNQSxxQkFBcUI7SUFDdkIsdUNBQXVDO0lBQ3ZDQyxNQUFNO0lBQ04sK0JBQStCO0lBQy9CQyxhQUFhO0lBQ2IsZ0JBQWdCO0lBQ2hCQyxVQUFVO0lBQ1YsNENBQTRDO0lBQzVDQyxZQUFZO0lBQ1osNERBQTREO0lBQzVEQyxjQUFjO0lBQ2Qsc0JBQXNCO0lBQ3RCQyxtQkFBbUI7QUFDdkI7QUFFOEIsQ0FDOUIsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2F1dGhvcml0eS9BdXRob3JpdHlPcHRpb25zLm1qcz80N2I5Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IEF6dXJlQ2xvdWRJbnN0YW5jZSA9IHtcclxuICAgIC8vIEF6dXJlQ2xvdWRJbnN0YW5jZSBpcyBub3Qgc3BlY2lmaWVkLlxyXG4gICAgTm9uZTogXCJub25lXCIsXHJcbiAgICAvLyBNaWNyb3NvZnQgQXp1cmUgcHVibGljIGNsb3VkXHJcbiAgICBBenVyZVB1YmxpYzogXCJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb21cIixcclxuICAgIC8vIE1pY3Jvc29mdCBQUEVcclxuICAgIEF6dXJlUHBlOiBcImh0dHBzOi8vbG9naW4ud2luZG93cy1wcGUubmV0XCIsXHJcbiAgICAvLyBNaWNyb3NvZnQgQ2hpbmVzZSBuYXRpb25hbC9yZWdpb25hbCBjbG91ZFxyXG4gICAgQXp1cmVDaGluYTogXCJodHRwczovL2xvZ2luLmNoaW5hY2xvdWRhcGkuY25cIixcclxuICAgIC8vIE1pY3Jvc29mdCBHZXJtYW4gbmF0aW9uYWwvcmVnaW9uYWwgY2xvdWQgKFwiQmxhY2sgRm9yZXN0XCIpXHJcbiAgICBBenVyZUdlcm1hbnk6IFwiaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuZGVcIixcclxuICAgIC8vIFVTIEdvdmVybm1lbnQgY2xvdWRcclxuICAgIEF6dXJlVXNHb3Zlcm5tZW50OiBcImh0dHBzOi8vbG9naW4ubWljcm9zb2Z0b25saW5lLnVzXCIsXHJcbn07XG5cbmV4cG9ydCB7IEF6dXJlQ2xvdWRJbnN0YW5jZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXV0aG9yaXR5T3B0aW9ucy5tanMubWFwXG4iXSwibmFtZXMiOlsiQXp1cmVDbG91ZEluc3RhbmNlIiwiTm9uZSIsIkF6dXJlUHVibGljIiwiQXp1cmVQcGUiLCJBenVyZUNoaW5hIiwiQXp1cmVHZXJtYW55IiwiQXp1cmVVc0dvdmVybm1lbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityOptions.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityType.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/authority/AuthorityType.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthorityType: () => (/* binding */ AuthorityType)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Authority types supported by MSAL.\r\n */ const AuthorityType = {\n    Default: 0,\n    Adfs: 1,\n    Dsts: 2,\n    Ciam: 3\n};\n //# sourceMappingURL=AuthorityType.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L0F1dGhvcml0eVR5cGUubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDQTs7O0NBR0MsR0FDRDs7Q0FFQyxHQUNELE1BQU1BLGdCQUFnQjtJQUNsQkMsU0FBUztJQUNUQyxNQUFNO0lBQ05DLE1BQU07SUFDTkMsTUFBTTtBQUNWO0FBRXlCLENBQ3pCLDBDQUEwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9hdXRob3JpdHkvQXV0aG9yaXR5VHlwZS5tanM/ZmZhMSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQXV0aG9yaXR5IHR5cGVzIHN1cHBvcnRlZCBieSBNU0FMLlxyXG4gKi9cclxuY29uc3QgQXV0aG9yaXR5VHlwZSA9IHtcclxuICAgIERlZmF1bHQ6IDAsXHJcbiAgICBBZGZzOiAxLFxyXG4gICAgRHN0czogMixcclxuICAgIENpYW06IDMsXHJcbn07XG5cbmV4cG9ydCB7IEF1dGhvcml0eVR5cGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF1dGhvcml0eVR5cGUubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkF1dGhvcml0eVR5cGUiLCJEZWZhdWx0IiwiQWRmcyIsIkRzdHMiLCJDaWFtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityType.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs":
/*!************************************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs ***!
  \************************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isCloudInstanceDiscoveryErrorResponse: () => (/* binding */ isCloudInstanceDiscoveryErrorResponse)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ function isCloudInstanceDiscoveryErrorResponse(response) {\n    return response.hasOwnProperty(\"error\") && response.hasOwnProperty(\"error_description\");\n}\n //# sourceMappingURL=CloudInstanceDiscoveryErrorResponse.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L0Nsb3VkSW5zdGFuY2VEaXNjb3ZlcnlFcnJvclJlc3BvbnNlLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0QsU0FBU0Esc0NBQXNDQyxRQUFRO0lBQ25ELE9BQVFBLFNBQVNDLGNBQWMsQ0FBQyxZQUM1QkQsU0FBU0MsY0FBYyxDQUFDO0FBQ2hDO0FBRWlELENBQ2pELGdFQUFnRSIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9hdXRob3JpdHkvQ2xvdWRJbnN0YW5jZURpc2NvdmVyeUVycm9yUmVzcG9uc2UubWpzPzg0YWIiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNDbG91ZEluc3RhbmNlRGlzY292ZXJ5RXJyb3JSZXNwb25zZShyZXNwb25zZSkge1xyXG4gICAgcmV0dXJuIChyZXNwb25zZS5oYXNPd25Qcm9wZXJ0eShcImVycm9yXCIpICYmXHJcbiAgICAgICAgcmVzcG9uc2UuaGFzT3duUHJvcGVydHkoXCJlcnJvcl9kZXNjcmlwdGlvblwiKSk7XHJcbn1cblxuZXhwb3J0IHsgaXNDbG91ZEluc3RhbmNlRGlzY292ZXJ5RXJyb3JSZXNwb25zZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2xvdWRJbnN0YW5jZURpc2NvdmVyeUVycm9yUmVzcG9uc2UubWpzLm1hcFxuIl0sIm5hbWVzIjpbImlzQ2xvdWRJbnN0YW5jZURpc2NvdmVyeUVycm9yUmVzcG9uc2UiLCJyZXNwb25zZSIsImhhc093blByb3BlcnR5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/authority/CloudInstanceDiscoveryErrorResponse.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs":
/*!*******************************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isCloudInstanceDiscoveryResponse: () => (/* binding */ isCloudInstanceDiscoveryResponse)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ function isCloudInstanceDiscoveryResponse(response) {\n    return response.hasOwnProperty(\"tenant_discovery_endpoint\") && response.hasOwnProperty(\"metadata\");\n}\n //# sourceMappingURL=CloudInstanceDiscoveryResponse.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L0Nsb3VkSW5zdGFuY2VEaXNjb3ZlcnlSZXNwb25zZS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBOzs7Q0FHQyxHQUNELFNBQVNBLGlDQUFpQ0MsUUFBUTtJQUM5QyxPQUFRQSxTQUFTQyxjQUFjLENBQUMsZ0NBQzVCRCxTQUFTQyxjQUFjLENBQUM7QUFDaEM7QUFFNEMsQ0FDNUMsMkRBQTJEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2F1dGhvcml0eS9DbG91ZEluc3RhbmNlRGlzY292ZXJ5UmVzcG9uc2UubWpzP2VmOTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNDbG91ZEluc3RhbmNlRGlzY292ZXJ5UmVzcG9uc2UocmVzcG9uc2UpIHtcclxuICAgIHJldHVybiAocmVzcG9uc2UuaGFzT3duUHJvcGVydHkoXCJ0ZW5hbnRfZGlzY292ZXJ5X2VuZHBvaW50XCIpICYmXHJcbiAgICAgICAgcmVzcG9uc2UuaGFzT3duUHJvcGVydHkoXCJtZXRhZGF0YVwiKSk7XHJcbn1cblxuZXhwb3J0IHsgaXNDbG91ZEluc3RhbmNlRGlzY292ZXJ5UmVzcG9uc2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNsb3VkSW5zdGFuY2VEaXNjb3ZlcnlSZXNwb25zZS5tanMubWFwXG4iXSwibmFtZXMiOlsiaXNDbG91ZEluc3RhbmNlRGlzY292ZXJ5UmVzcG9uc2UiLCJyZXNwb25zZSIsImhhc093blByb3BlcnR5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/authority/CloudInstanceDiscoveryResponse.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs":
/*!*********************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isOpenIdConfigResponse: () => (/* binding */ isOpenIdConfigResponse)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ function isOpenIdConfigResponse(response) {\n    return response.hasOwnProperty(\"authorization_endpoint\") && response.hasOwnProperty(\"token_endpoint\") && response.hasOwnProperty(\"issuer\") && response.hasOwnProperty(\"jwks_uri\");\n}\n //# sourceMappingURL=OpenIdConfigResponse.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L09wZW5JZENvbmZpZ1Jlc3BvbnNlLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0QsU0FBU0EsdUJBQXVCQyxRQUFRO0lBQ3BDLE9BQVFBLFNBQVNDLGNBQWMsQ0FBQyw2QkFDNUJELFNBQVNDLGNBQWMsQ0FBQyxxQkFDeEJELFNBQVNDLGNBQWMsQ0FBQyxhQUN4QkQsU0FBU0MsY0FBYyxDQUFDO0FBQ2hDO0FBRWtDLENBQ2xDLGlEQUFpRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9hdXRob3JpdHkvT3BlbklkQ29uZmlnUmVzcG9uc2UubWpzP2NmZDMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNPcGVuSWRDb25maWdSZXNwb25zZShyZXNwb25zZSkge1xyXG4gICAgcmV0dXJuIChyZXNwb25zZS5oYXNPd25Qcm9wZXJ0eShcImF1dGhvcml6YXRpb25fZW5kcG9pbnRcIikgJiZcclxuICAgICAgICByZXNwb25zZS5oYXNPd25Qcm9wZXJ0eShcInRva2VuX2VuZHBvaW50XCIpICYmXHJcbiAgICAgICAgcmVzcG9uc2UuaGFzT3duUHJvcGVydHkoXCJpc3N1ZXJcIikgJiZcclxuICAgICAgICByZXNwb25zZS5oYXNPd25Qcm9wZXJ0eShcImp3a3NfdXJpXCIpKTtcclxufVxuXG5leHBvcnQgeyBpc09wZW5JZENvbmZpZ1Jlc3BvbnNlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1PcGVuSWRDb25maWdSZXNwb25zZS5tanMubWFwXG4iXSwibmFtZXMiOlsiaXNPcGVuSWRDb25maWdSZXNwb25zZSIsInJlc3BvbnNlIiwiaGFzT3duUHJvcGVydHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/authority/OpenIdConfigResponse.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/authority/ProtocolMode.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/authority/ProtocolMode.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProtocolMode: () => (/* binding */ ProtocolMode)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Protocol modes supported by MSAL.\r\n */ const ProtocolMode = {\n    AAD: \"AAD\",\n    OIDC: \"OIDC\"\n};\n //# sourceMappingURL=ProtocolMode.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L1Byb3RvY29sTW9kZS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBOzs7Q0FHQyxHQUNEOztDQUVDLEdBQ0QsTUFBTUEsZUFBZTtJQUNqQkMsS0FBSztJQUNMQyxNQUFNO0FBQ1Y7QUFFd0IsQ0FDeEIseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2F1dGhvcml0eS9Qcm90b2NvbE1vZGUubWpzPzVkMWMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFByb3RvY29sIG1vZGVzIHN1cHBvcnRlZCBieSBNU0FMLlxyXG4gKi9cclxuY29uc3QgUHJvdG9jb2xNb2RlID0ge1xyXG4gICAgQUFEOiBcIkFBRFwiLFxyXG4gICAgT0lEQzogXCJPSURDXCIsXHJcbn07XG5cbmV4cG9ydCB7IFByb3RvY29sTW9kZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UHJvdG9jb2xNb2RlLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJQcm90b2NvbE1vZGUiLCJBQUQiLCJPSURDIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/authority/ProtocolMode.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/authority/RegionDiscovery.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/authority/RegionDiscovery.mjs ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RegionDiscovery: () => (/* binding */ RegionDiscovery)\n/* harmony export */ });\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../telemetry/performance/PerformanceEvent.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/FunctionWrappers.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class RegionDiscovery {\n    constructor(networkInterface, logger, performanceClient, correlationId){\n        this.networkInterface = networkInterface;\n        this.logger = logger;\n        this.performanceClient = performanceClient;\n        this.correlationId = correlationId;\n    }\n    /**\r\n     * Detect the region from the application's environment.\r\n     *\r\n     * @returns Promise<string | null>\r\n     */ async detectRegion(environmentRegion, regionDiscoveryMetadata) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.RegionDiscoveryDetectRegion, this.correlationId);\n        // Initialize auto detected region with the region from the envrionment\n        let autodetectedRegionName = environmentRegion;\n        // Check if a region was detected from the environment, if not, attempt to get the region from IMDS\n        if (!autodetectedRegionName) {\n            const options = RegionDiscovery.IMDS_OPTIONS;\n            try {\n                const localIMDSVersionResponse = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_1__.invokeAsync)(this.getRegionFromIMDS.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.RegionDiscoveryGetRegionFromIMDS, this.logger, this.performanceClient, this.correlationId)(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.Constants.IMDS_VERSION, options);\n                if (localIMDSVersionResponse.status === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.ResponseCodes.httpSuccess) {\n                    autodetectedRegionName = localIMDSVersionResponse.body;\n                    regionDiscoveryMetadata.region_source = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.RegionDiscoverySources.IMDS;\n                }\n                // If the response using the local IMDS version failed, try to fetch the current version of IMDS and retry.\n                if (localIMDSVersionResponse.status === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.ResponseCodes.httpBadRequest) {\n                    const currentIMDSVersion = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_1__.invokeAsync)(this.getCurrentVersion.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.RegionDiscoveryGetCurrentVersion, this.logger, this.performanceClient, this.correlationId)(options);\n                    if (!currentIMDSVersion) {\n                        regionDiscoveryMetadata.region_source = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.RegionDiscoverySources.FAILED_AUTO_DETECTION;\n                        return null;\n                    }\n                    const currentIMDSVersionResponse = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_1__.invokeAsync)(this.getRegionFromIMDS.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.RegionDiscoveryGetRegionFromIMDS, this.logger, this.performanceClient, this.correlationId)(currentIMDSVersion, options);\n                    if (currentIMDSVersionResponse.status === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.ResponseCodes.httpSuccess) {\n                        autodetectedRegionName = currentIMDSVersionResponse.body;\n                        regionDiscoveryMetadata.region_source = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.RegionDiscoverySources.IMDS;\n                    }\n                }\n            } catch (e) {\n                regionDiscoveryMetadata.region_source = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.RegionDiscoverySources.FAILED_AUTO_DETECTION;\n                return null;\n            }\n        } else {\n            regionDiscoveryMetadata.region_source = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.RegionDiscoverySources.ENVIRONMENT_VARIABLE;\n        }\n        // If no region was auto detected from the environment or from the IMDS endpoint, mark the attempt as a FAILED_AUTO_DETECTION\n        if (!autodetectedRegionName) {\n            regionDiscoveryMetadata.region_source = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.RegionDiscoverySources.FAILED_AUTO_DETECTION;\n        }\n        return autodetectedRegionName || null;\n    }\n    /**\r\n     * Make the call to the IMDS endpoint\r\n     *\r\n     * @param imdsEndpointUrl\r\n     * @returns Promise<NetworkResponse<string>>\r\n     */ async getRegionFromIMDS(version, options) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.RegionDiscoveryGetRegionFromIMDS, this.correlationId);\n        return this.networkInterface.sendGetRequestAsync(`${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.Constants.IMDS_ENDPOINT}?api-version=${version}&format=text`, options, _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.Constants.IMDS_TIMEOUT);\n    }\n    /**\r\n     * Get the most recent version of the IMDS endpoint available\r\n     *\r\n     * @returns Promise<string | null>\r\n     */ async getCurrentVersion(options) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.RegionDiscoveryGetCurrentVersion, this.correlationId);\n        try {\n            const response = await this.networkInterface.sendGetRequestAsync(`${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.Constants.IMDS_ENDPOINT}?format=json`, options);\n            // When IMDS endpoint is called without the api version query param, bad request response comes back with latest version.\n            if (response.status === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.ResponseCodes.httpBadRequest && response.body && response.body[\"newest-versions\"] && response.body[\"newest-versions\"].length > 0) {\n                return response.body[\"newest-versions\"][0];\n            }\n            return null;\n        } catch (e) {\n            return null;\n        }\n    }\n}\n// Options for the IMDS endpoint request\nRegionDiscovery.IMDS_OPTIONS = {\n    headers: {\n        Metadata: \"true\"\n    }\n};\n //# sourceMappingURL=RegionDiscovery.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L1JlZ2lvbkRpc2NvdmVyeS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUMwRjtBQUNSO0FBQ3RCO0FBRTVEOzs7Q0FHQyxHQUNELE1BQU1LO0lBQ0ZDLFlBQVlDLGdCQUFnQixFQUFFQyxNQUFNLEVBQUVDLGlCQUFpQixFQUFFQyxhQUFhLENBQUU7UUFDcEUsSUFBSSxDQUFDSCxnQkFBZ0IsR0FBR0E7UUFDeEIsSUFBSSxDQUFDQyxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxpQkFBaUIsR0FBR0E7UUFDekIsSUFBSSxDQUFDQyxhQUFhLEdBQUdBO0lBQ3pCO0lBQ0E7Ozs7S0FJQyxHQUNELE1BQU1DLGFBQWFDLGlCQUFpQixFQUFFQyx1QkFBdUIsRUFBRTtRQUMzRCxJQUFJLENBQUNKLGlCQUFpQixFQUFFSyxvQkFBb0JYLDBGQUFpQkEsQ0FBQ1ksMkJBQTJCLEVBQUUsSUFBSSxDQUFDTCxhQUFhO1FBQzdHLHVFQUF1RTtRQUN2RSxJQUFJTSx5QkFBeUJKO1FBQzdCLG1HQUFtRztRQUNuRyxJQUFJLENBQUNJLHdCQUF3QjtZQUN6QixNQUFNQyxVQUFVWixnQkFBZ0JhLFlBQVk7WUFDNUMsSUFBSTtnQkFDQSxNQUFNQywyQkFBMkIsTUFBTWYsd0VBQVdBLENBQUMsSUFBSSxDQUFDZ0IsaUJBQWlCLENBQUNDLElBQUksQ0FBQyxJQUFJLEdBQUdsQiwwRkFBaUJBLENBQUNtQixnQ0FBZ0MsRUFBRSxJQUFJLENBQUNkLE1BQU0sRUFBRSxJQUFJLENBQUNDLGlCQUFpQixFQUFFLElBQUksQ0FBQ0MsYUFBYSxFQUFFViwyREFBU0EsQ0FBQ3VCLFlBQVksRUFBRU47Z0JBQzNOLElBQUlFLHlCQUF5QkssTUFBTSxLQUMvQnZCLCtEQUFhQSxDQUFDd0IsV0FBVyxFQUFFO29CQUMzQlQseUJBQXlCRyx5QkFBeUJPLElBQUk7b0JBQ3REYix3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Q0o7QUFDSjtBQUNBLHdDQUF3QztBQUN4QzlCLGdCQUFnQmEsWUFBWSxHQUFHO0lBQzNCeUIsU0FBUztRQUNMQyxVQUFVO0lBQ2Q7QUFDSjtBQUUyQixDQUMzQiw0Q0FBNEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvYXV0aG9yaXR5L1JlZ2lvbkRpc2NvdmVyeS5tanM/ZjYyNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IENvbnN0YW50cywgUmVzcG9uc2VDb2RlcywgUmVnaW9uRGlzY292ZXJ5U291cmNlcyB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgUGVyZm9ybWFuY2VFdmVudHMgfSBmcm9tICcuLi90ZWxlbWV0cnkvcGVyZm9ybWFuY2UvUGVyZm9ybWFuY2VFdmVudC5tanMnO1xuaW1wb3J0IHsgaW52b2tlQXN5bmMgfSBmcm9tICcuLi91dGlscy9GdW5jdGlvbldyYXBwZXJzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBSZWdpb25EaXNjb3Zlcnkge1xyXG4gICAgY29uc3RydWN0b3IobmV0d29ya0ludGVyZmFjZSwgbG9nZ2VyLCBwZXJmb3JtYW5jZUNsaWVudCwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHRoaXMubmV0d29ya0ludGVyZmFjZSA9IG5ldHdvcmtJbnRlcmZhY2U7XHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCA9IHBlcmZvcm1hbmNlQ2xpZW50O1xyXG4gICAgICAgIHRoaXMuY29ycmVsYXRpb25JZCA9IGNvcnJlbGF0aW9uSWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIERldGVjdCB0aGUgcmVnaW9uIGZyb20gdGhlIGFwcGxpY2F0aW9uJ3MgZW52aXJvbm1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxzdHJpbmcgfCBudWxsPlxyXG4gICAgICovXHJcbiAgICBhc3luYyBkZXRlY3RSZWdpb24oZW52aXJvbm1lbnRSZWdpb24sIHJlZ2lvbkRpc2NvdmVyeU1ldGFkYXRhKSB7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudD8uYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5SZWdpb25EaXNjb3ZlcnlEZXRlY3RSZWdpb24sIHRoaXMuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSBhdXRvIGRldGVjdGVkIHJlZ2lvbiB3aXRoIHRoZSByZWdpb24gZnJvbSB0aGUgZW52cmlvbm1lbnRcclxuICAgICAgICBsZXQgYXV0b2RldGVjdGVkUmVnaW9uTmFtZSA9IGVudmlyb25tZW50UmVnaW9uO1xyXG4gICAgICAgIC8vIENoZWNrIGlmIGEgcmVnaW9uIHdhcyBkZXRlY3RlZCBmcm9tIHRoZSBlbnZpcm9ubWVudCwgaWYgbm90LCBhdHRlbXB0IHRvIGdldCB0aGUgcmVnaW9uIGZyb20gSU1EU1xyXG4gICAgICAgIGlmICghYXV0b2RldGVjdGVkUmVnaW9uTmFtZSkge1xyXG4gICAgICAgICAgICBjb25zdCBvcHRpb25zID0gUmVnaW9uRGlzY292ZXJ5LklNRFNfT1BUSU9OUztcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvY2FsSU1EU1ZlcnNpb25SZXNwb25zZSA9IGF3YWl0IGludm9rZUFzeW5jKHRoaXMuZ2V0UmVnaW9uRnJvbUlNRFMuYmluZCh0aGlzKSwgUGVyZm9ybWFuY2VFdmVudHMuUmVnaW9uRGlzY292ZXJ5R2V0UmVnaW9uRnJvbUlNRFMsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCB0aGlzLmNvcnJlbGF0aW9uSWQpKENvbnN0YW50cy5JTURTX1ZFUlNJT04sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxvY2FsSU1EU1ZlcnNpb25SZXNwb25zZS5zdGF0dXMgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgUmVzcG9uc2VDb2Rlcy5odHRwU3VjY2Vzcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGF1dG9kZXRlY3RlZFJlZ2lvbk5hbWUgPSBsb2NhbElNRFNWZXJzaW9uUmVzcG9uc2UuYm9keTtcclxuICAgICAgICAgICAgICAgICAgICByZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fc291cmNlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgUmVnaW9uRGlzY292ZXJ5U291cmNlcy5JTURTO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlc3BvbnNlIHVzaW5nIHRoZSBsb2NhbCBJTURTIHZlcnNpb24gZmFpbGVkLCB0cnkgdG8gZmV0Y2ggdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBJTURTIGFuZCByZXRyeS5cclxuICAgICAgICAgICAgICAgIGlmIChsb2NhbElNRFNWZXJzaW9uUmVzcG9uc2Uuc3RhdHVzID09PVxyXG4gICAgICAgICAgICAgICAgICAgIFJlc3BvbnNlQ29kZXMuaHR0cEJhZFJlcXVlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjdXJyZW50SU1EU1ZlcnNpb24gPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmdldEN1cnJlbnRWZXJzaW9uLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLlJlZ2lvbkRpc2NvdmVyeUdldEN1cnJlbnRWZXJzaW9uLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5jb3JyZWxhdGlvbklkKShvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWN1cnJlbnRJTURTVmVyc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fc291cmNlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZ2lvbkRpc2NvdmVyeVNvdXJjZXMuRkFJTEVEX0FVVE9fREVURUNUSU9OO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY3VycmVudElNRFNWZXJzaW9uUmVzcG9uc2UgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmdldFJlZ2lvbkZyb21JTURTLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLlJlZ2lvbkRpc2NvdmVyeUdldFJlZ2lvbkZyb21JTURTLCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgdGhpcy5jb3JyZWxhdGlvbklkKShjdXJyZW50SU1EU1ZlcnNpb24sIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50SU1EU1ZlcnNpb25SZXNwb25zZS5zdGF0dXMgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlc3BvbnNlQ29kZXMuaHR0cFN1Y2Nlc3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXV0b2RldGVjdGVkUmVnaW9uTmFtZSA9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50SU1EU1ZlcnNpb25SZXNwb25zZS5ib2R5O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fc291cmNlID1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFJlZ2lvbkRpc2NvdmVyeVNvdXJjZXMuSU1EUztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIHJlZ2lvbkRpc2NvdmVyeU1ldGFkYXRhLnJlZ2lvbl9zb3VyY2UgPVxyXG4gICAgICAgICAgICAgICAgICAgIFJlZ2lvbkRpc2NvdmVyeVNvdXJjZXMuRkFJTEVEX0FVVE9fREVURUNUSU9OO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlZ2lvbkRpc2NvdmVyeU1ldGFkYXRhLnJlZ2lvbl9zb3VyY2UgPVxyXG4gICAgICAgICAgICAgICAgUmVnaW9uRGlzY292ZXJ5U291cmNlcy5FTlZJUk9OTUVOVF9WQVJJQUJMRTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gSWYgbm8gcmVnaW9uIHdhcyBhdXRvIGRldGVjdGVkIGZyb20gdGhlIGVudmlyb25tZW50IG9yIGZyb20gdGhlIElNRFMgZW5kcG9pbnQsIG1hcmsgdGhlIGF0dGVtcHQgYXMgYSBGQUlMRURfQVVUT19ERVRFQ1RJT05cclxuICAgICAgICBpZiAoIWF1dG9kZXRlY3RlZFJlZ2lvbk5hbWUpIHtcclxuICAgICAgICAgICAgcmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEucmVnaW9uX3NvdXJjZSA9XHJcbiAgICAgICAgICAgICAgICBSZWdpb25EaXNjb3ZlcnlTb3VyY2VzLkZBSUxFRF9BVVRPX0RFVEVDVElPTjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGF1dG9kZXRlY3RlZFJlZ2lvbk5hbWUgfHwgbnVsbDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTWFrZSB0aGUgY2FsbCB0byB0aGUgSU1EUyBlbmRwb2ludFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbWRzRW5kcG9pbnRVcmxcclxuICAgICAqIEByZXR1cm5zIFByb21pc2U8TmV0d29ya1Jlc3BvbnNlPHN0cmluZz4+XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldFJlZ2lvbkZyb21JTURTKHZlcnNpb24sIG9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLlJlZ2lvbkRpc2NvdmVyeUdldFJlZ2lvbkZyb21JTURTLCB0aGlzLmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmtJbnRlcmZhY2Uuc2VuZEdldFJlcXVlc3RBc3luYyhgJHtDb25zdGFudHMuSU1EU19FTkRQT0lOVH0/YXBpLXZlcnNpb249JHt2ZXJzaW9ufSZmb3JtYXQ9dGV4dGAsIG9wdGlvbnMsIENvbnN0YW50cy5JTURTX1RJTUVPVVQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIG1vc3QgcmVjZW50IHZlcnNpb24gb2YgdGhlIElNRFMgZW5kcG9pbnQgYXZhaWxhYmxlXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgUHJvbWlzZTxzdHJpbmcgfCBudWxsPlxyXG4gICAgICovXHJcbiAgICBhc3luYyBnZXRDdXJyZW50VmVyc2lvbihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudD8uYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5SZWdpb25EaXNjb3ZlcnlHZXRDdXJyZW50VmVyc2lvbiwgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMubmV0d29ya0ludGVyZmFjZS5zZW5kR2V0UmVxdWVzdEFzeW5jKGAke0NvbnN0YW50cy5JTURTX0VORFBPSU5UfT9mb3JtYXQ9anNvbmAsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICAvLyBXaGVuIElNRFMgZW5kcG9pbnQgaXMgY2FsbGVkIHdpdGhvdXQgdGhlIGFwaSB2ZXJzaW9uIHF1ZXJ5IHBhcmFtLCBiYWQgcmVxdWVzdCByZXNwb25zZSBjb21lcyBiYWNrIHdpdGggbGF0ZXN0IHZlcnNpb24uXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IFJlc3BvbnNlQ29kZXMuaHR0cEJhZFJlcXVlc3QgJiZcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHkgJiZcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHlbXCJuZXdlc3QtdmVyc2lvbnNcIl0gJiZcclxuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmJvZHlbXCJuZXdlc3QtdmVyc2lvbnNcIl0ubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJvZHlbXCJuZXdlc3QtdmVyc2lvbnNcIl1bMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vLyBPcHRpb25zIGZvciB0aGUgSU1EUyBlbmRwb2ludCByZXF1ZXN0XHJcblJlZ2lvbkRpc2NvdmVyeS5JTURTX09QVElPTlMgPSB7XHJcbiAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgTWV0YWRhdGE6IFwidHJ1ZVwiLFxyXG4gICAgfSxcclxufTtcblxuZXhwb3J0IHsgUmVnaW9uRGlzY292ZXJ5IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZWdpb25EaXNjb3ZlcnkubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkNvbnN0YW50cyIsIlJlc3BvbnNlQ29kZXMiLCJSZWdpb25EaXNjb3ZlcnlTb3VyY2VzIiwiUGVyZm9ybWFuY2VFdmVudHMiLCJpbnZva2VBc3luYyIsIlJlZ2lvbkRpc2NvdmVyeSIsImNvbnN0cnVjdG9yIiwibmV0d29ya0ludGVyZmFjZSIsImxvZ2dlciIsInBlcmZvcm1hbmNlQ2xpZW50IiwiY29ycmVsYXRpb25JZCIsImRldGVjdFJlZ2lvbiIsImVudmlyb25tZW50UmVnaW9uIiwicmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEiLCJhZGRRdWV1ZU1lYXN1cmVtZW50IiwiUmVnaW9uRGlzY292ZXJ5RGV0ZWN0UmVnaW9uIiwiYXV0b2RldGVjdGVkUmVnaW9uTmFtZSIsIm9wdGlvbnMiLCJJTURTX09QVElPTlMiLCJsb2NhbElNRFNWZXJzaW9uUmVzcG9uc2UiLCJnZXRSZWdpb25Gcm9tSU1EUyIsImJpbmQiLCJSZWdpb25EaXNjb3ZlcnlHZXRSZWdpb25Gcm9tSU1EUyIsIklNRFNfVkVSU0lPTiIsInN0YXR1cyIsImh0dHBTdWNjZXNzIiwiYm9keSIsInJlZ2lvbl9zb3VyY2UiLCJJTURTIiwiaHR0cEJhZFJlcXVlc3QiLCJjdXJyZW50SU1EU1ZlcnNpb24iLCJnZXRDdXJyZW50VmVyc2lvbiIsIlJlZ2lvbkRpc2NvdmVyeUdldEN1cnJlbnRWZXJzaW9uIiwiRkFJTEVEX0FVVE9fREVURUNUSU9OIiwiY3VycmVudElNRFNWZXJzaW9uUmVzcG9uc2UiLCJlIiwiRU5WSVJPTk1FTlRfVkFSSUFCTEUiLCJ2ZXJzaW9uIiwic2VuZEdldFJlcXVlc3RBc3luYyIsIklNRFNfRU5EUE9JTlQiLCJJTURTX1RJTUVPVVQiLCJyZXNwb25zZSIsImxlbmd0aCIsImhlYWRlcnMiLCJNZXRhZGF0YSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/authority/RegionDiscovery.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/cache/CacheManager.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/cache/CacheManager.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CacheManager: () => (/* binding */ CacheManager),\n/* harmony export */   DefaultStorageClass: () => (/* binding */ DefaultStorageClass)\n/* harmony export */ });\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./utils/CacheHelpers.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/utils/CacheHelpers.mjs\");\n/* harmony import */ var _request_ScopeSet_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../request/ScopeSet.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/request/ScopeSet.mjs\");\n/* harmony import */ var _entities_AccountEntity_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./entities/AccountEntity.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/entities/AccountEntity.mjs\");\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _account_AccountInfo_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../account/AccountInfo.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AccountInfo.mjs\");\n/* harmony import */ var _account_AuthToken_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../account/AuthToken.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AuthToken.mjs\");\n/* harmony import */ var _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../packageMetadata.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/packageMetadata.mjs\");\n/* harmony import */ var _authority_AuthorityMetadata_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../authority/AuthorityMetadata.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityMetadata.mjs\");\n/* harmony import */ var _error_CacheError_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../error/CacheError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/CacheError.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/* harmony import */ var _error_CacheErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../error/CacheErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/CacheErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Interface class which implement cache storage functions used by MSAL to perform validity checks, and store tokens.\r\n * @internal\r\n */ class CacheManager {\n    constructor(clientId, cryptoImpl, logger, staticAuthorityOptions){\n        this.clientId = clientId;\n        this.cryptoImpl = cryptoImpl;\n        this.commonLogger = logger.clone(_packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_0__.name, _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_0__.version);\n        this.staticAuthorityOptions = staticAuthorityOptions;\n    }\n    /**\r\n     * Returns all the accounts in the cache that match the optional filter. If no filter is provided, all accounts are returned.\r\n     * @param accountFilter - (Optional) filter to narrow down the accounts returned\r\n     * @returns Array of AccountInfo objects in cache\r\n     */ getAllAccounts(accountFilter) {\n        return this.buildTenantProfiles(this.getAccountsFilteredBy(accountFilter || {}), accountFilter);\n    }\n    /**\r\n     * Gets first tenanted AccountInfo object found based on provided filters\r\n     */ getAccountInfoFilteredBy(accountFilter) {\n        const allAccounts = this.getAllAccounts(accountFilter);\n        if (allAccounts.length > 1) {\n            // If one or more accounts are found, prioritize accounts that have an ID token\n            const sortedAccounts = allAccounts.sort((account)=>{\n                return account.idTokenClaims ? -1 : 1;\n            });\n            return sortedAccounts[0];\n        } else if (allAccounts.length === 1) {\n            // If only one account is found, return it regardless of whether a matching ID token was found\n            return allAccounts[0];\n        } else {\n            return null;\n        }\n    }\n    /**\r\n     * Returns a single matching\r\n     * @param accountFilter\r\n     * @returns\r\n     */ getBaseAccountInfo(accountFilter) {\n        const accountEntities = this.getAccountsFilteredBy(accountFilter);\n        if (accountEntities.length > 0) {\n            return accountEntities[0].getAccountInfo();\n        } else {\n            return null;\n        }\n    }\n    /**\r\n     * Matches filtered account entities with cached ID tokens that match the tenant profile-specific account filters\r\n     * and builds the account info objects from the matching ID token's claims\r\n     * @param cachedAccounts\r\n     * @param accountFilter\r\n     * @returns Array of AccountInfo objects that match account and tenant profile filters\r\n     */ buildTenantProfiles(cachedAccounts, accountFilter) {\n        return cachedAccounts.flatMap((accountEntity)=>{\n            return this.getTenantProfilesFromAccountEntity(accountEntity, accountFilter?.tenantId, accountFilter);\n        });\n    }\n    getTenantedAccountInfoByFilter(accountInfo, tokenKeys, tenantProfile, tenantProfileFilter) {\n        let tenantedAccountInfo = null;\n        let idTokenClaims;\n        if (tenantProfileFilter) {\n            if (!this.tenantProfileMatchesFilter(tenantProfile, tenantProfileFilter)) {\n                return null;\n            }\n        }\n        const idToken = this.getIdToken(accountInfo, tokenKeys, tenantProfile.tenantId);\n        if (idToken) {\n            idTokenClaims = (0,_account_AuthToken_mjs__WEBPACK_IMPORTED_MODULE_1__.extractTokenClaims)(idToken.secret, this.cryptoImpl.base64Decode);\n            if (!this.idTokenClaimsMatchTenantProfileFilter(idTokenClaims, tenantProfileFilter)) {\n                // ID token sourced claims don't match so this tenant profile is not a match\n                return null;\n            }\n        }\n        // Expand tenant profile into account info based on matching tenant profile and if available matching ID token claims\n        tenantedAccountInfo = (0,_account_AccountInfo_mjs__WEBPACK_IMPORTED_MODULE_2__.updateAccountTenantProfileData)(accountInfo, tenantProfile, idTokenClaims, idToken?.secret);\n        return tenantedAccountInfo;\n    }\n    getTenantProfilesFromAccountEntity(accountEntity, targetTenantId, tenantProfileFilter) {\n        const accountInfo = accountEntity.getAccountInfo();\n        let searchTenantProfiles = accountInfo.tenantProfiles || new Map();\n        const tokenKeys = this.getTokenKeys();\n        // If a tenant ID was provided, only return the tenant profile for that tenant ID if it exists\n        if (targetTenantId) {\n            const tenantProfile = searchTenantProfiles.get(targetTenantId);\n            if (tenantProfile) {\n                // Reduce search field to just this tenant profile\n                searchTenantProfiles = new Map([\n                    [\n                        targetTenantId,\n                        tenantProfile\n                    ]\n                ]);\n            } else {\n                // No tenant profile for search tenant ID, return empty array\n                return [];\n            }\n        }\n        const matchingTenantProfiles = [];\n        searchTenantProfiles.forEach((tenantProfile)=>{\n            const tenantedAccountInfo = this.getTenantedAccountInfoByFilter(accountInfo, tokenKeys, tenantProfile, tenantProfileFilter);\n            if (tenantedAccountInfo) {\n                matchingTenantProfiles.push(tenantedAccountInfo);\n            }\n        });\n        return matchingTenantProfiles;\n    }\n    tenantProfileMatchesFilter(tenantProfile, tenantProfileFilter) {\n        if (!!tenantProfileFilter.localAccountId && !this.matchLocalAccountIdFromTenantProfile(tenantProfile, tenantProfileFilter.localAccountId)) {\n            return false;\n        }\n        if (!!tenantProfileFilter.name && !(tenantProfile.name === tenantProfileFilter.name)) {\n            return false;\n        }\n        if (tenantProfileFilter.isHomeTenant !== undefined && !(tenantProfile.isHomeTenant === tenantProfileFilter.isHomeTenant)) {\n            return false;\n        }\n        return true;\n    }\n    idTokenClaimsMatchTenantProfileFilter(idTokenClaims, tenantProfileFilter) {\n        // Tenant Profile filtering\n        if (tenantProfileFilter) {\n            if (!!tenantProfileFilter.localAccountId && !this.matchLocalAccountIdFromTokenClaims(idTokenClaims, tenantProfileFilter.localAccountId)) {\n                return false;\n            }\n            if (!!tenantProfileFilter.loginHint && !this.matchLoginHintFromTokenClaims(idTokenClaims, tenantProfileFilter.loginHint)) {\n                return false;\n            }\n            if (!!tenantProfileFilter.username && !this.matchUsername(idTokenClaims.preferred_username, tenantProfileFilter.username)) {\n                return false;\n            }\n            if (!!tenantProfileFilter.name && !this.matchName(idTokenClaims, tenantProfileFilter.name)) {\n                return false;\n            }\n            if (!!tenantProfileFilter.sid && !this.matchSid(idTokenClaims, tenantProfileFilter.sid)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    /**\r\n     * saves a cache record\r\n     * @param cacheRecord {CacheRecord}\r\n     * @param storeInCache {?StoreInCache}\r\n     * @param correlationId {?string} correlation id\r\n     */ async saveCacheRecord(cacheRecord, storeInCache, correlationId) {\n        if (!cacheRecord) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.invalidCacheRecord);\n        }\n        try {\n            if (!!cacheRecord.account) {\n                this.setAccount(cacheRecord.account);\n            }\n            if (!!cacheRecord.idToken && storeInCache?.idToken !== false) {\n                this.setIdTokenCredential(cacheRecord.idToken);\n            }\n            if (!!cacheRecord.accessToken && storeInCache?.accessToken !== false) {\n                await this.saveAccessToken(cacheRecord.accessToken);\n            }\n            if (!!cacheRecord.refreshToken && storeInCache?.refreshToken !== false) {\n                this.setRefreshTokenCredential(cacheRecord.refreshToken);\n            }\n            if (!!cacheRecord.appMetadata) {\n                this.setAppMetadata(cacheRecord.appMetadata);\n            }\n        } catch (e) {\n            this.commonLogger?.error(`CacheManager.saveCacheRecord: failed`);\n            if (e instanceof Error) {\n                this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${e.message}`, correlationId);\n                if (e.name === \"QuotaExceededError\" || e.name === \"NS_ERROR_DOM_QUOTA_REACHED\" || e.message.includes(\"exceeded the quota\")) {\n                    this.commonLogger?.error(`CacheManager.saveCacheRecord: exceeded storage quota`, correlationId);\n                    throw new _error_CacheError_mjs__WEBPACK_IMPORTED_MODULE_5__.CacheError(_error_CacheErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__.cacheQuotaExceededErrorCode);\n                } else {\n                    throw new _error_CacheError_mjs__WEBPACK_IMPORTED_MODULE_5__.CacheError(e.name, e.message);\n                }\n            } else {\n                this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${e}`, correlationId);\n                throw new _error_CacheError_mjs__WEBPACK_IMPORTED_MODULE_5__.CacheError(_error_CacheErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_6__.cacheUnknownErrorCode);\n            }\n        }\n    }\n    /**\r\n     * saves access token credential\r\n     * @param credential\r\n     */ async saveAccessToken(credential) {\n        const accessTokenFilter = {\n            clientId: credential.clientId,\n            credentialType: credential.credentialType,\n            environment: credential.environment,\n            homeAccountId: credential.homeAccountId,\n            realm: credential.realm,\n            tokenType: credential.tokenType,\n            requestedClaimsHash: credential.requestedClaimsHash\n        };\n        const tokenKeys = this.getTokenKeys();\n        const currentScopes = _request_ScopeSet_mjs__WEBPACK_IMPORTED_MODULE_7__.ScopeSet.fromString(credential.target);\n        const removedAccessTokens = [];\n        tokenKeys.accessToken.forEach((key)=>{\n            if (!this.accessTokenKeyMatchesFilter(key, accessTokenFilter, false)) {\n                return;\n            }\n            const tokenEntity = this.getAccessTokenCredential(key);\n            if (tokenEntity && this.credentialMatchesFilter(tokenEntity, accessTokenFilter)) {\n                const tokenScopeSet = _request_ScopeSet_mjs__WEBPACK_IMPORTED_MODULE_7__.ScopeSet.fromString(tokenEntity.target);\n                if (tokenScopeSet.intersectingScopeSets(currentScopes)) {\n                    removedAccessTokens.push(this.removeAccessToken(key));\n                }\n            }\n        });\n        await Promise.all(removedAccessTokens);\n        this.setAccessTokenCredential(credential);\n    }\n    /**\r\n     * Retrieve account entities matching all provided tenant-agnostic filters; if no filter is set, get all account entities in the cache\r\n     * Not checking for casing as keys are all generated in lower case, remember to convert to lower case if object properties are compared\r\n     * @param accountFilter - An object containing Account properties to filter by\r\n     */ getAccountsFilteredBy(accountFilter) {\n        const allAccountKeys = this.getAccountKeys();\n        const matchingAccounts = [];\n        allAccountKeys.forEach((cacheKey)=>{\n            if (!this.isAccountKey(cacheKey, accountFilter.homeAccountId)) {\n                // Don't parse value if the key doesn't match the account filters\n                return;\n            }\n            const entity = this.getAccount(cacheKey, this.commonLogger);\n            // Match base account fields\n            if (!entity) {\n                return;\n            }\n            if (!!accountFilter.homeAccountId && !this.matchHomeAccountId(entity, accountFilter.homeAccountId)) {\n                return;\n            }\n            if (!!accountFilter.username && !this.matchUsername(entity.username, accountFilter.username)) {\n                return;\n            }\n            if (!!accountFilter.environment && !this.matchEnvironment(entity, accountFilter.environment)) {\n                return;\n            }\n            if (!!accountFilter.realm && !this.matchRealm(entity, accountFilter.realm)) {\n                return;\n            }\n            if (!!accountFilter.nativeAccountId && !this.matchNativeAccountId(entity, accountFilter.nativeAccountId)) {\n                return;\n            }\n            if (!!accountFilter.authorityType && !this.matchAuthorityType(entity, accountFilter.authorityType)) {\n                return;\n            }\n            // If at least one tenant profile matches the tenant profile filter, add the account to the list of matching accounts\n            const tenantProfileFilter = {\n                localAccountId: accountFilter?.localAccountId,\n                name: accountFilter?.name\n            };\n            const matchingTenantProfiles = entity.tenantProfiles?.filter((tenantProfile)=>{\n                return this.tenantProfileMatchesFilter(tenantProfile, tenantProfileFilter);\n            });\n            if (matchingTenantProfiles && matchingTenantProfiles.length === 0) {\n                // No tenant profile for this account matches filter, don't add to list of matching accounts\n                return;\n            }\n            matchingAccounts.push(entity);\n        });\n        return matchingAccounts;\n    }\n    /**\r\n     * Returns true if the given key matches our account key schema. Also matches homeAccountId and/or tenantId if provided\r\n     * @param key\r\n     * @param homeAccountId\r\n     * @param tenantId\r\n     * @returns\r\n     */ isAccountKey(key, homeAccountId, tenantId) {\n        if (key.split(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.Separators.CACHE_KEY_SEPARATOR).length < 3) {\n            // Account cache keys contain 3 items separated by '-' (each item may also contain '-')\n            return false;\n        }\n        if (homeAccountId && !key.toLowerCase().includes(homeAccountId.toLowerCase())) {\n            return false;\n        }\n        if (tenantId && !key.toLowerCase().includes(tenantId.toLowerCase())) {\n            return false;\n        }\n        // Do not check environment as aliasing can cause false negatives\n        return true;\n    }\n    /**\r\n     * Returns true if the given key matches our credential key schema.\r\n     * @param key\r\n     */ isCredentialKey(key) {\n        if (key.split(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.Separators.CACHE_KEY_SEPARATOR).length < 6) {\n            // Credential cache keys contain 6 items separated by '-' (each item may also contain '-')\n            return false;\n        }\n        const lowerCaseKey = key.toLowerCase();\n        // Credential keys must indicate what credential type they represent\n        if (lowerCaseKey.indexOf(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.ID_TOKEN.toLowerCase()) === -1 && lowerCaseKey.indexOf(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.ACCESS_TOKEN.toLowerCase()) === -1 && lowerCaseKey.indexOf(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()) === -1 && lowerCaseKey.indexOf(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.REFRESH_TOKEN.toLowerCase()) === -1) {\n            return false;\n        }\n        if (lowerCaseKey.indexOf(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.REFRESH_TOKEN.toLowerCase()) > -1) {\n            // Refresh tokens must contain the client id or family id\n            const clientIdValidation = `${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.REFRESH_TOKEN}${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.Separators.CACHE_KEY_SEPARATOR}${this.clientId}${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.Separators.CACHE_KEY_SEPARATOR}`;\n            const familyIdValidation = `${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.REFRESH_TOKEN}${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.Separators.CACHE_KEY_SEPARATOR}${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.THE_FAMILY_ID}${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.Separators.CACHE_KEY_SEPARATOR}`;\n            if (lowerCaseKey.indexOf(clientIdValidation.toLowerCase()) === -1 && lowerCaseKey.indexOf(familyIdValidation.toLowerCase()) === -1) {\n                return false;\n            }\n        } else if (lowerCaseKey.indexOf(this.clientId.toLowerCase()) === -1) {\n            // Tokens must contain the clientId\n            return false;\n        }\n        return true;\n    }\n    /**\r\n     * Returns whether or not the given credential entity matches the filter\r\n     * @param entity\r\n     * @param filter\r\n     * @returns\r\n     */ credentialMatchesFilter(entity, filter) {\n        if (!!filter.clientId && !this.matchClientId(entity, filter.clientId)) {\n            return false;\n        }\n        if (!!filter.userAssertionHash && !this.matchUserAssertionHash(entity, filter.userAssertionHash)) {\n            return false;\n        }\n        /*\r\n         * homeAccountId can be undefined, and we want to filter out cached items that have a homeAccountId of \"\"\r\n         * because we don't want a client_credential request to return a cached token that has a homeAccountId\r\n         */ if (typeof filter.homeAccountId === \"string\" && !this.matchHomeAccountId(entity, filter.homeAccountId)) {\n            return false;\n        }\n        if (!!filter.environment && !this.matchEnvironment(entity, filter.environment)) {\n            return false;\n        }\n        if (!!filter.realm && !this.matchRealm(entity, filter.realm)) {\n            return false;\n        }\n        if (!!filter.credentialType && !this.matchCredentialType(entity, filter.credentialType)) {\n            return false;\n        }\n        if (!!filter.familyId && !this.matchFamilyId(entity, filter.familyId)) {\n            return false;\n        }\n        /*\r\n         * idTokens do not have \"target\", target specific refreshTokens do exist for some types of authentication\r\n         * Resource specific refresh tokens case will be added when the support is deemed necessary\r\n         */ if (!!filter.target && !this.matchTarget(entity, filter.target)) {\n            return false;\n        }\n        // If request OR cached entity has requested Claims Hash, check if they match\n        if (filter.requestedClaimsHash || entity.requestedClaimsHash) {\n            // Don't match if either is undefined or they are different\n            if (entity.requestedClaimsHash !== filter.requestedClaimsHash) {\n                return false;\n            }\n        }\n        // Access Token with Auth Scheme specific matching\n        if (entity.credentialType === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME) {\n            if (!!filter.tokenType && !this.matchTokenType(entity, filter.tokenType)) {\n                return false;\n            }\n            // KeyId (sshKid) in request must match cached SSH certificate keyId because SSH cert is bound to a specific key\n            if (filter.tokenType === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.AuthenticationScheme.SSH) {\n                if (filter.keyId && !this.matchKeyId(entity, filter.keyId)) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    /**\r\n     * retrieve appMetadata matching all provided filters; if no filter is set, get all appMetadata\r\n     * @param filter\r\n     */ getAppMetadataFilteredBy(filter) {\n        const allCacheKeys = this.getKeys();\n        const matchingAppMetadata = {};\n        allCacheKeys.forEach((cacheKey)=>{\n            // don't parse any non-appMetadata type cache entities\n            if (!this.isAppMetadata(cacheKey)) {\n                return;\n            }\n            // Attempt retrieval\n            const entity = this.getAppMetadata(cacheKey);\n            if (!entity) {\n                return;\n            }\n            if (!!filter.environment && !this.matchEnvironment(entity, filter.environment)) {\n                return;\n            }\n            if (!!filter.clientId && !this.matchClientId(entity, filter.clientId)) {\n                return;\n            }\n            matchingAppMetadata[cacheKey] = entity;\n        });\n        return matchingAppMetadata;\n    }\n    /**\r\n     * retrieve authorityMetadata that contains a matching alias\r\n     * @param filter\r\n     */ getAuthorityMetadataByAlias(host) {\n        const allCacheKeys = this.getAuthorityMetadataKeys();\n        let matchedEntity = null;\n        allCacheKeys.forEach((cacheKey)=>{\n            // don't parse any non-authorityMetadata type cache entities\n            if (!this.isAuthorityMetadata(cacheKey) || cacheKey.indexOf(this.clientId) === -1) {\n                return;\n            }\n            // Attempt retrieval\n            const entity = this.getAuthorityMetadata(cacheKey);\n            if (!entity) {\n                return;\n            }\n            if (entity.aliases.indexOf(host) === -1) {\n                return;\n            }\n            matchedEntity = entity;\n        });\n        return matchedEntity;\n    }\n    /**\r\n     * Removes all accounts and related tokens from cache.\r\n     */ async removeAllAccounts() {\n        const allAccountKeys = this.getAccountKeys();\n        const removedAccounts = [];\n        allAccountKeys.forEach((cacheKey)=>{\n            removedAccounts.push(this.removeAccount(cacheKey));\n        });\n        await Promise.all(removedAccounts);\n    }\n    /**\r\n     * Removes the account and related tokens for a given account key\r\n     * @param account\r\n     */ async removeAccount(accountKey) {\n        const account = this.getAccount(accountKey, this.commonLogger);\n        if (!account) {\n            return;\n        }\n        await this.removeAccountContext(account);\n        this.removeItem(accountKey);\n    }\n    /**\r\n     * Removes credentials associated with the provided account\r\n     * @param account\r\n     */ async removeAccountContext(account) {\n        const allTokenKeys = this.getTokenKeys();\n        const accountId = account.generateAccountId();\n        const removedCredentials = [];\n        allTokenKeys.idToken.forEach((key)=>{\n            if (key.indexOf(accountId) === 0) {\n                this.removeIdToken(key);\n            }\n        });\n        allTokenKeys.accessToken.forEach((key)=>{\n            if (key.indexOf(accountId) === 0) {\n                removedCredentials.push(this.removeAccessToken(key));\n            }\n        });\n        allTokenKeys.refreshToken.forEach((key)=>{\n            if (key.indexOf(accountId) === 0) {\n                this.removeRefreshToken(key);\n            }\n        });\n        await Promise.all(removedCredentials);\n    }\n    /**\r\n     * Migrates a single-tenant account and all it's associated alternate cross-tenant account objects in the\r\n     * cache into a condensed multi-tenant account object with tenant profiles.\r\n     * @param accountKey\r\n     * @param accountEntity\r\n     * @param logger\r\n     * @returns\r\n     */ updateOutdatedCachedAccount(accountKey, accountEntity, logger) {\n        // Only update if account entity is defined and has no tenantProfiles object (is outdated)\n        if (accountEntity && accountEntity.isSingleTenant()) {\n            this.commonLogger?.verbose(\"updateOutdatedCachedAccount: Found a single-tenant (outdated) account entity in the cache, migrating to multi-tenant account entity\");\n            // Get keys of all accounts belonging to user\n            const matchingAccountKeys = this.getAccountKeys().filter((key)=>{\n                return key.startsWith(accountEntity.homeAccountId);\n            });\n            // Get all account entities belonging to user\n            const accountsToMerge = [];\n            matchingAccountKeys.forEach((key)=>{\n                const account = this.getCachedAccountEntity(key);\n                if (account) {\n                    accountsToMerge.push(account);\n                }\n            });\n            // Set base account to home account if available, any account if not\n            const baseAccount = accountsToMerge.find((account)=>{\n                return (0,_account_AccountInfo_mjs__WEBPACK_IMPORTED_MODULE_2__.tenantIdMatchesHomeTenant)(account.realm, account.homeAccountId);\n            }) || accountsToMerge[0];\n            // Populate tenant profiles built from each account entity belonging to the user\n            baseAccount.tenantProfiles = accountsToMerge.map((account)=>{\n                return {\n                    tenantId: account.realm,\n                    localAccountId: account.localAccountId,\n                    name: account.name,\n                    isHomeTenant: (0,_account_AccountInfo_mjs__WEBPACK_IMPORTED_MODULE_2__.tenantIdMatchesHomeTenant)(account.realm, account.homeAccountId)\n                };\n            });\n            const updatedAccount = CacheManager.toObject(new _entities_AccountEntity_mjs__WEBPACK_IMPORTED_MODULE_9__.AccountEntity(), {\n                ...baseAccount\n            });\n            const newAccountKey = updatedAccount.generateAccountKey();\n            // Clear cache of legacy account objects that have been collpsed into tenant profiles\n            matchingAccountKeys.forEach((key)=>{\n                if (key !== newAccountKey) {\n                    this.removeOutdatedAccount(accountKey);\n                }\n            });\n            // Cache updated account object\n            this.setAccount(updatedAccount);\n            logger?.verbose(\"Updated an outdated account entity in the cache\");\n            return updatedAccount;\n        }\n        // No update is necessary\n        return accountEntity;\n    }\n    /**\r\n     * returns a boolean if the given credential is removed\r\n     * @param credential\r\n     */ async removeAccessToken(key) {\n        const credential = this.getAccessTokenCredential(key);\n        if (!credential) {\n            return;\n        }\n        // Remove Token Binding Key from key store for PoP Tokens Credentials\n        if (credential.credentialType.toLowerCase() === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()) {\n            if (credential.tokenType === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.AuthenticationScheme.POP) {\n                const accessTokenWithAuthSchemeEntity = credential;\n                const kid = accessTokenWithAuthSchemeEntity.keyId;\n                if (kid) {\n                    try {\n                        await this.cryptoImpl.removeTokenBindingKey(kid);\n                    } catch (error) {\n                        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.bindingKeyNotRemoved);\n                    }\n                }\n            }\n        }\n        return this.removeItem(key);\n    }\n    /**\r\n     * Removes all app metadata objects from cache.\r\n     */ removeAppMetadata() {\n        const allCacheKeys = this.getKeys();\n        allCacheKeys.forEach((cacheKey)=>{\n            if (this.isAppMetadata(cacheKey)) {\n                this.removeItem(cacheKey);\n            }\n        });\n        return true;\n    }\n    /**\r\n     * Retrieve AccountEntity from cache\r\n     * @param account\r\n     */ readAccountFromCache(account) {\n        const accountKey = _entities_AccountEntity_mjs__WEBPACK_IMPORTED_MODULE_9__.AccountEntity.generateAccountCacheKey(account);\n        return this.getAccount(accountKey, this.commonLogger);\n    }\n    /**\r\n     * Retrieve IdTokenEntity from cache\r\n     * @param account {AccountInfo}\r\n     * @param tokenKeys {?TokenKeys}\r\n     * @param targetRealm {?string}\r\n     * @param performanceClient {?IPerformanceClient}\r\n     * @param correlationId {?string}\r\n     */ getIdToken(account, tokenKeys, targetRealm, performanceClient, correlationId) {\n        this.commonLogger.trace(\"CacheManager - getIdToken called\");\n        const idTokenFilter = {\n            homeAccountId: account.homeAccountId,\n            environment: account.environment,\n            credentialType: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.ID_TOKEN,\n            clientId: this.clientId,\n            realm: targetRealm\n        };\n        const idTokenMap = this.getIdTokensByFilter(idTokenFilter, tokenKeys);\n        const numIdTokens = idTokenMap.size;\n        if (numIdTokens < 1) {\n            this.commonLogger.info(\"CacheManager:getIdToken - No token found\");\n            return null;\n        } else if (numIdTokens > 1) {\n            let tokensToBeRemoved = idTokenMap;\n            // Multiple tenant profiles and no tenant specified, pick home account\n            if (!targetRealm) {\n                const homeIdTokenMap = new Map();\n                idTokenMap.forEach((idToken, key)=>{\n                    if (idToken.realm === account.tenantId) {\n                        homeIdTokenMap.set(key, idToken);\n                    }\n                });\n                const numHomeIdTokens = homeIdTokenMap.size;\n                if (numHomeIdTokens < 1) {\n                    this.commonLogger.info(\"CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result\");\n                    return idTokenMap.values().next().value;\n                } else if (numHomeIdTokens === 1) {\n                    this.commonLogger.info(\"CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile\");\n                    return homeIdTokenMap.values().next().value;\n                } else {\n                    // Multiple ID tokens for home tenant profile, remove all and return null\n                    tokensToBeRemoved = homeIdTokenMap;\n                }\n            }\n            // Multiple tokens for a single tenant profile, remove all and return null\n            this.commonLogger.info(\"CacheManager:getIdToken - Multiple matching ID tokens found, clearing them\");\n            tokensToBeRemoved.forEach((idToken, key)=>{\n                this.removeIdToken(key);\n            });\n            if (performanceClient && correlationId) {\n                performanceClient.addFields({\n                    multiMatchedID: idTokenMap.size\n                }, correlationId);\n            }\n            return null;\n        }\n        this.commonLogger.info(\"CacheManager:getIdToken - Returning ID token\");\n        return idTokenMap.values().next().value;\n    }\n    /**\r\n     * Gets all idTokens matching the given filter\r\n     * @param filter\r\n     * @returns\r\n     */ getIdTokensByFilter(filter, tokenKeys) {\n        const idTokenKeys = tokenKeys && tokenKeys.idToken || this.getTokenKeys().idToken;\n        const idTokens = new Map();\n        idTokenKeys.forEach((key)=>{\n            if (!this.idTokenKeyMatchesFilter(key, {\n                clientId: this.clientId,\n                ...filter\n            })) {\n                return;\n            }\n            const idToken = this.getIdTokenCredential(key);\n            if (idToken && this.credentialMatchesFilter(idToken, filter)) {\n                idTokens.set(key, idToken);\n            }\n        });\n        return idTokens;\n    }\n    /**\r\n     * Validate the cache key against filter before retrieving and parsing cache value\r\n     * @param key\r\n     * @param filter\r\n     * @returns\r\n     */ idTokenKeyMatchesFilter(inputKey, filter) {\n        const key = inputKey.toLowerCase();\n        if (filter.clientId && key.indexOf(filter.clientId.toLowerCase()) === -1) {\n            return false;\n        }\n        if (filter.homeAccountId && key.indexOf(filter.homeAccountId.toLowerCase()) === -1) {\n            return false;\n        }\n        return true;\n    }\n    /**\r\n     * Removes idToken from the cache\r\n     * @param key\r\n     */ removeIdToken(key) {\n        this.removeItem(key);\n    }\n    /**\r\n     * Removes refresh token from the cache\r\n     * @param key\r\n     */ removeRefreshToken(key) {\n        this.removeItem(key);\n    }\n    /**\r\n     * Retrieve AccessTokenEntity from cache\r\n     * @param account {AccountInfo}\r\n     * @param request {BaseAuthRequest}\r\n     * @param tokenKeys {?TokenKeys}\r\n     * @param performanceClient {?IPerformanceClient}\r\n     * @param correlationId {?string}\r\n     */ getAccessToken(account, request, tokenKeys, targetRealm, performanceClient, correlationId) {\n        this.commonLogger.trace(\"CacheManager - getAccessToken called\");\n        const scopes = _request_ScopeSet_mjs__WEBPACK_IMPORTED_MODULE_7__.ScopeSet.createSearchScopes(request.scopes);\n        const authScheme = request.authenticationScheme || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.AuthenticationScheme.BEARER;\n        /*\r\n         * Distinguish between Bearer and PoP/SSH token cache types\r\n         * Cast to lowercase to handle \"bearer\" from ADFS\r\n         */ const credentialType = authScheme && authScheme.toLowerCase() !== _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.AuthenticationScheme.BEARER.toLowerCase() ? _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME : _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.ACCESS_TOKEN;\n        const accessTokenFilter = {\n            homeAccountId: account.homeAccountId,\n            environment: account.environment,\n            credentialType: credentialType,\n            clientId: this.clientId,\n            realm: targetRealm || account.tenantId,\n            target: scopes,\n            tokenType: authScheme,\n            keyId: request.sshKid,\n            requestedClaimsHash: request.requestedClaimsHash\n        };\n        const accessTokenKeys = tokenKeys && tokenKeys.accessToken || this.getTokenKeys().accessToken;\n        const accessTokens = [];\n        accessTokenKeys.forEach((key)=>{\n            // Validate key\n            if (this.accessTokenKeyMatchesFilter(key, accessTokenFilter, true)) {\n                const accessToken = this.getAccessTokenCredential(key);\n                // Validate value\n                if (accessToken && this.credentialMatchesFilter(accessToken, accessTokenFilter)) {\n                    accessTokens.push(accessToken);\n                }\n            }\n        });\n        const numAccessTokens = accessTokens.length;\n        if (numAccessTokens < 1) {\n            this.commonLogger.info(\"CacheManager:getAccessToken - No token found\");\n            return null;\n        } else if (numAccessTokens > 1) {\n            this.commonLogger.info(\"CacheManager:getAccessToken - Multiple access tokens found, clearing them\");\n            accessTokens.forEach((accessToken)=>{\n                void this.removeAccessToken((0,_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_10__.generateCredentialKey)(accessToken));\n            });\n            if (performanceClient && correlationId) {\n                performanceClient.addFields({\n                    multiMatchedAT: accessTokens.length\n                }, correlationId);\n            }\n            return null;\n        }\n        this.commonLogger.info(\"CacheManager:getAccessToken - Returning access token\");\n        return accessTokens[0];\n    }\n    /**\r\n     * Validate the cache key against filter before retrieving and parsing cache value\r\n     * @param key\r\n     * @param filter\r\n     * @param keyMustContainAllScopes\r\n     * @returns\r\n     */ accessTokenKeyMatchesFilter(inputKey, filter, keyMustContainAllScopes) {\n        const key = inputKey.toLowerCase();\n        if (filter.clientId && key.indexOf(filter.clientId.toLowerCase()) === -1) {\n            return false;\n        }\n        if (filter.homeAccountId && key.indexOf(filter.homeAccountId.toLowerCase()) === -1) {\n            return false;\n        }\n        if (filter.realm && key.indexOf(filter.realm.toLowerCase()) === -1) {\n            return false;\n        }\n        if (filter.requestedClaimsHash && key.indexOf(filter.requestedClaimsHash.toLowerCase()) === -1) {\n            return false;\n        }\n        if (filter.target) {\n            const scopes = filter.target.asArray();\n            for(let i = 0; i < scopes.length; i++){\n                if (keyMustContainAllScopes && !key.includes(scopes[i].toLowerCase())) {\n                    // When performing a cache lookup a missing scope would be a cache miss\n                    return false;\n                } else if (!keyMustContainAllScopes && key.includes(scopes[i].toLowerCase())) {\n                    // When performing a cache write, any token with a subset of requested scopes should be replaced\n                    return true;\n                }\n            }\n        }\n        return true;\n    }\n    /**\r\n     * Gets all access tokens matching the filter\r\n     * @param filter\r\n     * @returns\r\n     */ getAccessTokensByFilter(filter) {\n        const tokenKeys = this.getTokenKeys();\n        const accessTokens = [];\n        tokenKeys.accessToken.forEach((key)=>{\n            if (!this.accessTokenKeyMatchesFilter(key, filter, true)) {\n                return;\n            }\n            const accessToken = this.getAccessTokenCredential(key);\n            if (accessToken && this.credentialMatchesFilter(accessToken, filter)) {\n                accessTokens.push(accessToken);\n            }\n        });\n        return accessTokens;\n    }\n    /**\r\n     * Helper to retrieve the appropriate refresh token from cache\r\n     * @param account {AccountInfo}\r\n     * @param familyRT {boolean}\r\n     * @param tokenKeys {?TokenKeys}\r\n     * @param performanceClient {?IPerformanceClient}\r\n     * @param correlationId {?string}\r\n     */ getRefreshToken(account, familyRT, tokenKeys, performanceClient, correlationId) {\n        this.commonLogger.trace(\"CacheManager - getRefreshToken called\");\n        const id = familyRT ? _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.THE_FAMILY_ID : undefined;\n        const refreshTokenFilter = {\n            homeAccountId: account.homeAccountId,\n            environment: account.environment,\n            credentialType: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.REFRESH_TOKEN,\n            clientId: this.clientId,\n            familyId: id\n        };\n        const refreshTokenKeys = tokenKeys && tokenKeys.refreshToken || this.getTokenKeys().refreshToken;\n        const refreshTokens = [];\n        refreshTokenKeys.forEach((key)=>{\n            // Validate key\n            if (this.refreshTokenKeyMatchesFilter(key, refreshTokenFilter)) {\n                const refreshToken = this.getRefreshTokenCredential(key);\n                // Validate value\n                if (refreshToken && this.credentialMatchesFilter(refreshToken, refreshTokenFilter)) {\n                    refreshTokens.push(refreshToken);\n                }\n            }\n        });\n        const numRefreshTokens = refreshTokens.length;\n        if (numRefreshTokens < 1) {\n            this.commonLogger.info(\"CacheManager:getRefreshToken - No refresh token found.\");\n            return null;\n        }\n        // address the else case after remove functions address environment aliases\n        if (numRefreshTokens > 1 && performanceClient && correlationId) {\n            performanceClient.addFields({\n                multiMatchedRT: numRefreshTokens\n            }, correlationId);\n        }\n        this.commonLogger.info(\"CacheManager:getRefreshToken - returning refresh token\");\n        return refreshTokens[0];\n    }\n    /**\r\n     * Validate the cache key against filter before retrieving and parsing cache value\r\n     * @param key\r\n     * @param filter\r\n     */ refreshTokenKeyMatchesFilter(inputKey, filter) {\n        const key = inputKey.toLowerCase();\n        if (filter.familyId && key.indexOf(filter.familyId.toLowerCase()) === -1) {\n            return false;\n        }\n        // If familyId is used, clientId is not in the key\n        if (!filter.familyId && filter.clientId && key.indexOf(filter.clientId.toLowerCase()) === -1) {\n            return false;\n        }\n        if (filter.homeAccountId && key.indexOf(filter.homeAccountId.toLowerCase()) === -1) {\n            return false;\n        }\n        return true;\n    }\n    /**\r\n     * Retrieve AppMetadataEntity from cache\r\n     */ readAppMetadataFromCache(environment) {\n        const appMetadataFilter = {\n            environment,\n            clientId: this.clientId\n        };\n        const appMetadata = this.getAppMetadataFilteredBy(appMetadataFilter);\n        const appMetadataEntries = Object.keys(appMetadata).map((key)=>appMetadata[key]);\n        const numAppMetadata = appMetadataEntries.length;\n        if (numAppMetadata < 1) {\n            return null;\n        } else if (numAppMetadata > 1) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.multipleMatchingAppMetadata);\n        }\n        return appMetadataEntries[0];\n    }\n    /**\r\n     * Return the family_id value associated  with FOCI\r\n     * @param environment\r\n     * @param clientId\r\n     */ isAppMetadataFOCI(environment) {\n        const appMetadata = this.readAppMetadataFromCache(environment);\n        return !!(appMetadata && appMetadata.familyId === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.THE_FAMILY_ID);\n    }\n    /**\r\n     * helper to match account ids\r\n     * @param value\r\n     * @param homeAccountId\r\n     */ matchHomeAccountId(entity, homeAccountId) {\n        return !!(typeof entity.homeAccountId === \"string\" && homeAccountId === entity.homeAccountId);\n    }\n    /**\r\n     * helper to match account ids\r\n     * @param entity\r\n     * @param localAccountId\r\n     * @returns\r\n     */ matchLocalAccountIdFromTokenClaims(tokenClaims, localAccountId) {\n        const idTokenLocalAccountId = tokenClaims.oid || tokenClaims.sub;\n        return localAccountId === idTokenLocalAccountId;\n    }\n    matchLocalAccountIdFromTenantProfile(tenantProfile, localAccountId) {\n        return tenantProfile.localAccountId === localAccountId;\n    }\n    /**\r\n     * helper to match names\r\n     * @param entity\r\n     * @param name\r\n     * @returns true if the downcased name properties are present and match in the filter and the entity\r\n     */ matchName(claims, name) {\n        return !!(name.toLowerCase() === claims.name?.toLowerCase());\n    }\n    /**\r\n     * helper to match usernames\r\n     * @param entity\r\n     * @param username\r\n     * @returns\r\n     */ matchUsername(cachedUsername, filterUsername) {\n        return !!(cachedUsername && typeof cachedUsername === \"string\" && filterUsername?.toLowerCase() === cachedUsername.toLowerCase());\n    }\n    /**\r\n     * helper to match assertion\r\n     * @param value\r\n     * @param oboAssertion\r\n     */ matchUserAssertionHash(entity, userAssertionHash) {\n        return !!(entity.userAssertionHash && userAssertionHash === entity.userAssertionHash);\n    }\n    /**\r\n     * helper to match environment\r\n     * @param value\r\n     * @param environment\r\n     */ matchEnvironment(entity, environment) {\n        // Check static authority options first for cases where authority metadata has not been resolved and cached yet\n        if (this.staticAuthorityOptions) {\n            const staticAliases = (0,_authority_AuthorityMetadata_mjs__WEBPACK_IMPORTED_MODULE_11__.getAliasesFromStaticSources)(this.staticAuthorityOptions, this.commonLogger);\n            if (staticAliases.includes(environment) && staticAliases.includes(entity.environment)) {\n                return true;\n            }\n        }\n        // Query metadata cache if no static authority configuration has aliases that match enviroment\n        const cloudMetadata = this.getAuthorityMetadataByAlias(environment);\n        if (cloudMetadata && cloudMetadata.aliases.indexOf(entity.environment) > -1) {\n            return true;\n        }\n        return false;\n    }\n    /**\r\n     * helper to match credential type\r\n     * @param entity\r\n     * @param credentialType\r\n     */ matchCredentialType(entity, credentialType) {\n        return entity.credentialType && credentialType.toLowerCase() === entity.credentialType.toLowerCase();\n    }\n    /**\r\n     * helper to match client ids\r\n     * @param entity\r\n     * @param clientId\r\n     */ matchClientId(entity, clientId) {\n        return !!(entity.clientId && clientId === entity.clientId);\n    }\n    /**\r\n     * helper to match family ids\r\n     * @param entity\r\n     * @param familyId\r\n     */ matchFamilyId(entity, familyId) {\n        return !!(entity.familyId && familyId === entity.familyId);\n    }\n    /**\r\n     * helper to match realm\r\n     * @param entity\r\n     * @param realm\r\n     */ matchRealm(entity, realm) {\n        return !!(entity.realm?.toLowerCase() === realm.toLowerCase());\n    }\n    /**\r\n     * helper to match nativeAccountId\r\n     * @param entity\r\n     * @param nativeAccountId\r\n     * @returns boolean indicating the match result\r\n     */ matchNativeAccountId(entity, nativeAccountId) {\n        return !!(entity.nativeAccountId && nativeAccountId === entity.nativeAccountId);\n    }\n    /**\r\n     * helper to match loginHint which can be either:\r\n     * 1. login_hint ID token claim\r\n     * 2. username in cached account object\r\n     * 3. upn in ID token claims\r\n     * @param entity\r\n     * @param loginHint\r\n     * @returns\r\n     */ matchLoginHintFromTokenClaims(tokenClaims, loginHint) {\n        if (tokenClaims.login_hint === loginHint) {\n            return true;\n        }\n        if (tokenClaims.preferred_username === loginHint) {\n            return true;\n        }\n        if (tokenClaims.upn === loginHint) {\n            return true;\n        }\n        return false;\n    }\n    /**\r\n     * Helper to match sid\r\n     * @param entity\r\n     * @param sid\r\n     * @returns true if the sid claim is present and matches the filter\r\n     */ matchSid(idTokenClaims, sid) {\n        return idTokenClaims.sid === sid;\n    }\n    matchAuthorityType(entity, authorityType) {\n        return !!(entity.authorityType && authorityType.toLowerCase() === entity.authorityType.toLowerCase());\n    }\n    /**\r\n     * Returns true if the target scopes are a subset of the current entity's scopes, false otherwise.\r\n     * @param entity\r\n     * @param target\r\n     */ matchTarget(entity, target) {\n        const isNotAccessTokenCredential = entity.credentialType !== _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.ACCESS_TOKEN && entity.credentialType !== _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME;\n        if (isNotAccessTokenCredential || !entity.target) {\n            return false;\n        }\n        const entityScopeSet = _request_ScopeSet_mjs__WEBPACK_IMPORTED_MODULE_7__.ScopeSet.fromString(entity.target);\n        return entityScopeSet.containsScopeSet(target);\n    }\n    /**\r\n     * Returns true if the credential's tokenType or Authentication Scheme matches the one in the request, false otherwise\r\n     * @param entity\r\n     * @param tokenType\r\n     */ matchTokenType(entity, tokenType) {\n        return !!(entity.tokenType && entity.tokenType === tokenType);\n    }\n    /**\r\n     * Returns true if the credential's keyId matches the one in the request, false otherwise\r\n     * @param entity\r\n     * @param keyId\r\n     */ matchKeyId(entity, keyId) {\n        return !!(entity.keyId && entity.keyId === keyId);\n    }\n    /**\r\n     * returns if a given cache entity is of the type appmetadata\r\n     * @param key\r\n     */ isAppMetadata(key) {\n        return key.indexOf(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.APP_METADATA) !== -1;\n    }\n    /**\r\n     * returns if a given cache entity is of the type authoritymetadata\r\n     * @param key\r\n     */ isAuthorityMetadata(key) {\n        return key.indexOf(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.AUTHORITY_METADATA_CONSTANTS.CACHE_KEY) !== -1;\n    }\n    /**\r\n     * returns cache key used for cloud instance metadata\r\n     */ generateAuthorityMetadataCacheKey(authority) {\n        return `${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_8__.AUTHORITY_METADATA_CONSTANTS.CACHE_KEY}-${this.clientId}-${authority}`;\n    }\n    /**\r\n     * Helper to convert serialized data to object\r\n     * @param obj\r\n     * @param json\r\n     */ static toObject(obj, json) {\n        for(const propertyName in json){\n            obj[propertyName] = json[propertyName];\n        }\n        return obj;\n    }\n}\n/** @internal */ class DefaultStorageClass extends CacheManager {\n    setAccount() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getAccount() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getCachedAccountEntity() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    setIdTokenCredential() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getIdTokenCredential() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    setAccessTokenCredential() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getAccessTokenCredential() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    setRefreshTokenCredential() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getRefreshTokenCredential() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    setAppMetadata() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getAppMetadata() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    setServerTelemetry() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getServerTelemetry() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    setAuthorityMetadata() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getAuthorityMetadata() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getAuthorityMetadataKeys() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    setThrottlingCache() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getThrottlingCache() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    removeItem() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getKeys() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getAccountKeys() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    getTokenKeys() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    updateCredentialCacheKey() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n    removeOutdatedAccount() {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.methodNotImplemented);\n    }\n}\n //# sourceMappingURL=CacheManager.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2FjaGUvQ2FjaGVNYW5hZ2VyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNxSjtBQUNwRjtBQUNkO0FBQ1U7QUFDUTtBQUNrQztBQUN6QztBQUNQO0FBQzBCO0FBQzVCO0FBQzJGO0FBQzlDO0FBRWxHOzs7Q0FHQyxHQUNEOzs7Q0FHQyxHQUNELE1BQU11QjtJQUNGQyxZQUFZQyxRQUFRLEVBQUVDLFVBQVUsRUFBRUMsTUFBTSxFQUFFQyxzQkFBc0IsQ0FBRTtRQUM5RCxJQUFJLENBQUNILFFBQVEsR0FBR0E7UUFDaEIsSUFBSSxDQUFDQyxVQUFVLEdBQUdBO1FBQ2xCLElBQUksQ0FBQ0csWUFBWSxHQUFHRixPQUFPRyxLQUFLLENBQUNqQixzREFBSUEsRUFBRUMseURBQU9BO1FBQzlDLElBQUksQ0FBQ2Msc0JBQXNCLEdBQUdBO0lBQ2xDO0lBQ0E7Ozs7S0FJQyxHQUNERyxlQUFlQyxhQUFhLEVBQUU7UUFDMUIsT0FBTyxJQUFJLENBQUNDLG1CQUFtQixDQUFDLElBQUksQ0FBQ0MscUJBQXFCLENBQUNGLGlCQUFpQixDQUFDLElBQUlBO0lBQ3JGO0lBQ0E7O0tBRUMsR0FDREcseUJBQXlCSCxhQUFhLEVBQUU7UUFDcEMsTUFBTUksY0FBYyxJQUFJLENBQUNMLGNBQWMsQ0FBQ0M7UUFDeEMsSUFBSUksWUFBWUMsTUFBTSxHQUFHLEdBQUc7WUFDeEIsK0VBQStFO1lBQy9FLE1BQU1DLGlCQUFpQkYsWUFBWUcsSUFBSSxDQUFDLENBQUNDO2dCQUNyQyxPQUFPQSxRQUFRQyxhQUFhLEdBQUcsQ0FBQyxJQUFJO1lBQ3hDO1lBQ0EsT0FBT0gsY0FBYyxDQUFDLEVBQUU7UUFDNUIsT0FDSyxJQUFJRixZQUFZQyxNQUFNLEtBQUssR0FBRztZQUMvQiw4RkFBOEY7WUFDOUYsT0FBT0QsV0FBVyxDQUFDLEVBQUU7UUFDekIsT0FDSztZQUNE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UUFDYixNQUFNdEYsaUZBQXFCQSxDQUFDVyxpRkFBb0JBO0lBQ3BEO0lBQ0FvSixpQkFBaUI7UUFDYixNQUFNL0osaUZBQXFCQSxDQUFDVyxpRkFBb0JBO0lBQ3BEO0lBQ0EyUSxxQkFBcUI7UUFDakIsTUFBTXRSLGlGQUFxQkEsQ0FBQ1csaUZBQW9CQTtJQUNwRDtJQUNBNFEscUJBQXFCO1FBQ2pCLE1BQU12UixpRkFBcUJBLENBQUNXLGlGQUFvQkE7SUFDcEQ7SUFDQTZRLHVCQUF1QjtRQUNuQixNQUFNeFIsaUZBQXFCQSxDQUFDVyxpRkFBb0JBO0lBQ3BEO0lBQ0EwSix1QkFBdUI7UUFDbkIsTUFBTXJLLGlGQUFxQkEsQ0FBQ1csaUZBQW9CQTtJQUNwRDtJQUNBdUosMkJBQTJCO1FBQ3ZCLE1BQU1sSyxpRkFBcUJBLENBQUNXLGlGQUFvQkE7SUFDcEQ7SUFDQThRLHFCQUFxQjtRQUNqQixNQUFNelIsaUZBQXFCQSxDQUFDVyxpRkFBb0JBO0lBQ3BEO0lBQ0ErUSxxQkFBcUI7UUFDakIsTUFBTTFSLGlGQUFxQkEsQ0FBQ1csaUZBQW9CQTtJQUNwRDtJQUNBaUssYUFBYTtRQUNULE1BQU01SyxpRkFBcUJBLENBQUNXLGlGQUFvQkE7SUFDcEQ7SUFDQWlKLFVBQVU7UUFDTixNQUFNNUosaUZBQXFCQSxDQUFDVyxpRkFBb0JBO0lBQ3BEO0lBQ0EwRyxpQkFBaUI7UUFDYixNQUFNckgsaUZBQXFCQSxDQUFDVyxpRkFBb0JBO0lBQ3BEO0lBQ0E4QyxlQUFlO1FBQ1gsTUFBTXpELGlGQUFxQkEsQ0FBQ1csaUZBQW9CQTtJQUNwRDtJQUNBZ1IsMkJBQTJCO1FBQ3ZCLE1BQU0zUixpRkFBcUJBLENBQUNXLGlGQUFvQkE7SUFDcEQ7SUFDQXNMLHdCQUF3QjtRQUNwQixNQUFNak0saUZBQXFCQSxDQUFDVyxpRkFBb0JBO0lBQ3BEO0FBQ0o7QUFFNkMsQ0FDN0MseUNBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2NhY2hlL0NhY2hlTWFuYWdlci5tanM/N2I3NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFNlcGFyYXRvcnMsIENyZWRlbnRpYWxUeXBlLCBBdXRoZW50aWNhdGlvblNjaGVtZSwgVEhFX0ZBTUlMWV9JRCwgQVBQX01FVEFEQVRBLCBBVVRIT1JJVFlfTUVUQURBVEFfQ09OU1RBTlRTIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBnZW5lcmF0ZUNyZWRlbnRpYWxLZXkgfSBmcm9tICcuL3V0aWxzL0NhY2hlSGVscGVycy5tanMnO1xuaW1wb3J0IHsgU2NvcGVTZXQgfSBmcm9tICcuLi9yZXF1ZXN0L1Njb3BlU2V0Lm1qcyc7XG5pbXBvcnQgeyBBY2NvdW50RW50aXR5IH0gZnJvbSAnLi9lbnRpdGllcy9BY2NvdW50RW50aXR5Lm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IHVwZGF0ZUFjY291bnRUZW5hbnRQcm9maWxlRGF0YSwgdGVuYW50SWRNYXRjaGVzSG9tZVRlbmFudCB9IGZyb20gJy4uL2FjY291bnQvQWNjb3VudEluZm8ubWpzJztcbmltcG9ydCB7IGV4dHJhY3RUb2tlbkNsYWltcyB9IGZyb20gJy4uL2FjY291bnQvQXV0aFRva2VuLm1qcyc7XG5pbXBvcnQgeyBuYW1lLCB2ZXJzaW9uIH0gZnJvbSAnLi4vcGFja2FnZU1ldGFkYXRhLm1qcyc7XG5pbXBvcnQgeyBnZXRBbGlhc2VzRnJvbVN0YXRpY1NvdXJjZXMgfSBmcm9tICcuLi9hdXRob3JpdHkvQXV0aG9yaXR5TWV0YWRhdGEubWpzJztcbmltcG9ydCB7IENhY2hlRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DYWNoZUVycm9yLm1qcyc7XG5pbXBvcnQgeyBpbnZhbGlkQ2FjaGVSZWNvcmQsIGJpbmRpbmdLZXlOb3RSZW1vdmVkLCBtdWx0aXBsZU1hdGNoaW5nQXBwTWV0YWRhdGEsIG1ldGhvZE5vdEltcGxlbWVudGVkIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yQ29kZXMubWpzJztcbmltcG9ydCB7IGNhY2hlUXVvdGFFeGNlZWRlZEVycm9yQ29kZSwgY2FjaGVVbmtub3duRXJyb3JDb2RlIH0gZnJvbSAnLi4vZXJyb3IvQ2FjaGVFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogSW50ZXJmYWNlIGNsYXNzIHdoaWNoIGltcGxlbWVudCBjYWNoZSBzdG9yYWdlIGZ1bmN0aW9ucyB1c2VkIGJ5IE1TQUwgdG8gcGVyZm9ybSB2YWxpZGl0eSBjaGVja3MsIGFuZCBzdG9yZSB0b2tlbnMuXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuY2xhc3MgQ2FjaGVNYW5hZ2VyIHtcclxuICAgIGNvbnN0cnVjdG9yKGNsaWVudElkLCBjcnlwdG9JbXBsLCBsb2dnZXIsIHN0YXRpY0F1dGhvcml0eU9wdGlvbnMpIHtcclxuICAgICAgICB0aGlzLmNsaWVudElkID0gY2xpZW50SWQ7XHJcbiAgICAgICAgdGhpcy5jcnlwdG9JbXBsID0gY3J5cHRvSW1wbDtcclxuICAgICAgICB0aGlzLmNvbW1vbkxvZ2dlciA9IGxvZ2dlci5jbG9uZShuYW1lLCB2ZXJzaW9uKTtcclxuICAgICAgICB0aGlzLnN0YXRpY0F1dGhvcml0eU9wdGlvbnMgPSBzdGF0aWNBdXRob3JpdHlPcHRpb25zO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGFsbCB0aGUgYWNjb3VudHMgaW4gdGhlIGNhY2hlIHRoYXQgbWF0Y2ggdGhlIG9wdGlvbmFsIGZpbHRlci4gSWYgbm8gZmlsdGVyIGlzIHByb3ZpZGVkLCBhbGwgYWNjb3VudHMgYXJlIHJldHVybmVkLlxyXG4gICAgICogQHBhcmFtIGFjY291bnRGaWx0ZXIgLSAoT3B0aW9uYWwpIGZpbHRlciB0byBuYXJyb3cgZG93biB0aGUgYWNjb3VudHMgcmV0dXJuZWRcclxuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIEFjY291bnRJbmZvIG9iamVjdHMgaW4gY2FjaGVcclxuICAgICAqL1xyXG4gICAgZ2V0QWxsQWNjb3VudHMoYWNjb3VudEZpbHRlcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVGVuYW50UHJvZmlsZXModGhpcy5nZXRBY2NvdW50c0ZpbHRlcmVkQnkoYWNjb3VudEZpbHRlciB8fCB7fSksIGFjY291bnRGaWx0ZXIpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGZpcnN0IHRlbmFudGVkIEFjY291bnRJbmZvIG9iamVjdCBmb3VuZCBiYXNlZCBvbiBwcm92aWRlZCBmaWx0ZXJzXHJcbiAgICAgKi9cclxuICAgIGdldEFjY291bnRJbmZvRmlsdGVyZWRCeShhY2NvdW50RmlsdGVyKSB7XHJcbiAgICAgICAgY29uc3QgYWxsQWNjb3VudHMgPSB0aGlzLmdldEFsbEFjY291bnRzKGFjY291bnRGaWx0ZXIpO1xyXG4gICAgICAgIGlmIChhbGxBY2NvdW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIC8vIElmIG9uZSBvciBtb3JlIGFjY291bnRzIGFyZSBmb3VuZCwgcHJpb3JpdGl6ZSBhY2NvdW50cyB0aGF0IGhhdmUgYW4gSUQgdG9rZW5cclxuICAgICAgICAgICAgY29uc3Qgc29ydGVkQWNjb3VudHMgPSBhbGxBY2NvdW50cy5zb3J0KChhY2NvdW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjb3VudC5pZFRva2VuQ2xhaW1zID8gLTEgOiAxO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHNvcnRlZEFjY291bnRzWzBdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhbGxBY2NvdW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgLy8gSWYgb25seSBvbmUgYWNjb3VudCBpcyBmb3VuZCwgcmV0dXJuIGl0IHJlZ2FyZGxlc3Mgb2Ygd2hldGhlciBhIG1hdGNoaW5nIElEIHRva2VuIHdhcyBmb3VuZFxyXG4gICAgICAgICAgICByZXR1cm4gYWxsQWNjb3VudHNbMF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBzaW5nbGUgbWF0Y2hpbmdcclxuICAgICAqIEBwYXJhbSBhY2NvdW50RmlsdGVyXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBnZXRCYXNlQWNjb3VudEluZm8oYWNjb3VudEZpbHRlcikge1xyXG4gICAgICAgIGNvbnN0IGFjY291bnRFbnRpdGllcyA9IHRoaXMuZ2V0QWNjb3VudHNGaWx0ZXJlZEJ5KGFjY291bnRGaWx0ZXIpO1xyXG4gICAgICAgIGlmIChhY2NvdW50RW50aXRpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gYWNjb3VudEVudGl0aWVzWzBdLmdldEFjY291bnRJbmZvKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIE1hdGNoZXMgZmlsdGVyZWQgYWNjb3VudCBlbnRpdGllcyB3aXRoIGNhY2hlZCBJRCB0b2tlbnMgdGhhdCBtYXRjaCB0aGUgdGVuYW50IHByb2ZpbGUtc3BlY2lmaWMgYWNjb3VudCBmaWx0ZXJzXHJcbiAgICAgKiBhbmQgYnVpbGRzIHRoZSBhY2NvdW50IGluZm8gb2JqZWN0cyBmcm9tIHRoZSBtYXRjaGluZyBJRCB0b2tlbidzIGNsYWltc1xyXG4gICAgICogQHBhcmFtIGNhY2hlZEFjY291bnRzXHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudEZpbHRlclxyXG4gICAgICogQHJldHVybnMgQXJyYXkgb2YgQWNjb3VudEluZm8gb2JqZWN0cyB0aGF0IG1hdGNoIGFjY291bnQgYW5kIHRlbmFudCBwcm9maWxlIGZpbHRlcnNcclxuICAgICAqL1xyXG4gICAgYnVpbGRUZW5hbnRQcm9maWxlcyhjYWNoZWRBY2NvdW50cywgYWNjb3VudEZpbHRlcikge1xyXG4gICAgICAgIHJldHVybiBjYWNoZWRBY2NvdW50cy5mbGF0TWFwKChhY2NvdW50RW50aXR5KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFRlbmFudFByb2ZpbGVzRnJvbUFjY291bnRFbnRpdHkoYWNjb3VudEVudGl0eSwgYWNjb3VudEZpbHRlcj8udGVuYW50SWQsIGFjY291bnRGaWx0ZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZ2V0VGVuYW50ZWRBY2NvdW50SW5mb0J5RmlsdGVyKGFjY291bnRJbmZvLCB0b2tlbktleXMsIHRlbmFudFByb2ZpbGUsIHRlbmFudFByb2ZpbGVGaWx0ZXIpIHtcclxuICAgICAgICBsZXQgdGVuYW50ZWRBY2NvdW50SW5mbyA9IG51bGw7XHJcbiAgICAgICAgbGV0IGlkVG9rZW5DbGFpbXM7XHJcbiAgICAgICAgaWYgKHRlbmFudFByb2ZpbGVGaWx0ZXIpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnRlbmFudFByb2ZpbGVNYXRjaGVzRmlsdGVyKHRlbmFudFByb2ZpbGUsIHRlbmFudFByb2ZpbGVGaWx0ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpZFRva2VuID0gdGhpcy5nZXRJZFRva2VuKGFjY291bnRJbmZvLCB0b2tlbktleXMsIHRlbmFudFByb2ZpbGUudGVuYW50SWQpO1xyXG4gICAgICAgIGlmIChpZFRva2VuKSB7XHJcbiAgICAgICAgICAgIGlkVG9rZW5DbGFpbXMgPSBleHRyYWN0VG9rZW5DbGFpbXMoaWRUb2tlbi5zZWNyZXQsIHRoaXMuY3J5cHRvSW1wbC5iYXNlNjREZWNvZGUpO1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaWRUb2tlbkNsYWltc01hdGNoVGVuYW50UHJvZmlsZUZpbHRlcihpZFRva2VuQ2xhaW1zLCB0ZW5hbnRQcm9maWxlRmlsdGVyKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gSUQgdG9rZW4gc291cmNlZCBjbGFpbXMgZG9uJ3QgbWF0Y2ggc28gdGhpcyB0ZW5hbnQgcHJvZmlsZSBpcyBub3QgYSBtYXRjaFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRXhwYW5kIHRlbmFudCBwcm9maWxlIGludG8gYWNjb3VudCBpbmZvIGJhc2VkIG9uIG1hdGNoaW5nIHRlbmFudCBwcm9maWxlIGFuZCBpZiBhdmFpbGFibGUgbWF0Y2hpbmcgSUQgdG9rZW4gY2xhaW1zXHJcbiAgICAgICAgdGVuYW50ZWRBY2NvdW50SW5mbyA9IHVwZGF0ZUFjY291bnRUZW5hbnRQcm9maWxlRGF0YShhY2NvdW50SW5mbywgdGVuYW50UHJvZmlsZSwgaWRUb2tlbkNsYWltcywgaWRUb2tlbj8uc2VjcmV0KTtcclxuICAgICAgICByZXR1cm4gdGVuYW50ZWRBY2NvdW50SW5mbztcclxuICAgIH1cclxuICAgIGdldFRlbmFudFByb2ZpbGVzRnJvbUFjY291bnRFbnRpdHkoYWNjb3VudEVudGl0eSwgdGFyZ2V0VGVuYW50SWQsIHRlbmFudFByb2ZpbGVGaWx0ZXIpIHtcclxuICAgICAgICBjb25zdCBhY2NvdW50SW5mbyA9IGFjY291bnRFbnRpdHkuZ2V0QWNjb3VudEluZm8oKTtcclxuICAgICAgICBsZXQgc2VhcmNoVGVuYW50UHJvZmlsZXMgPSBhY2NvdW50SW5mby50ZW5hbnRQcm9maWxlcyB8fCBuZXcgTWFwKCk7XHJcbiAgICAgICAgY29uc3QgdG9rZW5LZXlzID0gdGhpcy5nZXRUb2tlbktleXMoKTtcclxuICAgICAgICAvLyBJZiBhIHRlbmFudCBJRCB3YXMgcHJvdmlkZWQsIG9ubHkgcmV0dXJuIHRoZSB0ZW5hbnQgcHJvZmlsZSBmb3IgdGhhdCB0ZW5hbnQgSUQgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgaWYgKHRhcmdldFRlbmFudElkKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlbmFudFByb2ZpbGUgPSBzZWFyY2hUZW5hbnRQcm9maWxlcy5nZXQodGFyZ2V0VGVuYW50SWQpO1xyXG4gICAgICAgICAgICBpZiAodGVuYW50UHJvZmlsZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gUmVkdWNlIHNlYXJjaCBmaWVsZCB0byBqdXN0IHRoaXMgdGVuYW50IHByb2ZpbGVcclxuICAgICAgICAgICAgICAgIHNlYXJjaFRlbmFudFByb2ZpbGVzID0gbmV3IE1hcChbXHJcbiAgICAgICAgICAgICAgICAgICAgW3RhcmdldFRlbmFudElkLCB0ZW5hbnRQcm9maWxlXSxcclxuICAgICAgICAgICAgICAgIF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gTm8gdGVuYW50IHByb2ZpbGUgZm9yIHNlYXJjaCB0ZW5hbnQgSUQsIHJldHVybiBlbXB0eSBhcnJheVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IG1hdGNoaW5nVGVuYW50UHJvZmlsZXMgPSBbXTtcclxuICAgICAgICBzZWFyY2hUZW5hbnRQcm9maWxlcy5mb3JFYWNoKCh0ZW5hbnRQcm9maWxlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlbmFudGVkQWNjb3VudEluZm8gPSB0aGlzLmdldFRlbmFudGVkQWNjb3VudEluZm9CeUZpbHRlcihhY2NvdW50SW5mbywgdG9rZW5LZXlzLCB0ZW5hbnRQcm9maWxlLCB0ZW5hbnRQcm9maWxlRmlsdGVyKTtcclxuICAgICAgICAgICAgaWYgKHRlbmFudGVkQWNjb3VudEluZm8pIHtcclxuICAgICAgICAgICAgICAgIG1hdGNoaW5nVGVuYW50UHJvZmlsZXMucHVzaCh0ZW5hbnRlZEFjY291bnRJbmZvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBtYXRjaGluZ1RlbmFudFByb2ZpbGVzO1xyXG4gICAgfVxyXG4gICAgdGVuYW50UHJvZmlsZU1hdGNoZXNGaWx0ZXIodGVuYW50UHJvZmlsZSwgdGVuYW50UHJvZmlsZUZpbHRlcikge1xyXG4gICAgICAgIGlmICghIXRlbmFudFByb2ZpbGVGaWx0ZXIubG9jYWxBY2NvdW50SWQgJiZcclxuICAgICAgICAgICAgIXRoaXMubWF0Y2hMb2NhbEFjY291bnRJZEZyb21UZW5hbnRQcm9maWxlKHRlbmFudFByb2ZpbGUsIHRlbmFudFByb2ZpbGVGaWx0ZXIubG9jYWxBY2NvdW50SWQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCEhdGVuYW50UHJvZmlsZUZpbHRlci5uYW1lICYmXHJcbiAgICAgICAgICAgICEodGVuYW50UHJvZmlsZS5uYW1lID09PSB0ZW5hbnRQcm9maWxlRmlsdGVyLm5hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRlbmFudFByb2ZpbGVGaWx0ZXIuaXNIb21lVGVuYW50ICE9PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgISh0ZW5hbnRQcm9maWxlLmlzSG9tZVRlbmFudCA9PT0gdGVuYW50UHJvZmlsZUZpbHRlci5pc0hvbWVUZW5hbnQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBpZFRva2VuQ2xhaW1zTWF0Y2hUZW5hbnRQcm9maWxlRmlsdGVyKGlkVG9rZW5DbGFpbXMsIHRlbmFudFByb2ZpbGVGaWx0ZXIpIHtcclxuICAgICAgICAvLyBUZW5hbnQgUHJvZmlsZSBmaWx0ZXJpbmdcclxuICAgICAgICBpZiAodGVuYW50UHJvZmlsZUZpbHRlcikge1xyXG4gICAgICAgICAgICBpZiAoISF0ZW5hbnRQcm9maWxlRmlsdGVyLmxvY2FsQWNjb3VudElkICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5tYXRjaExvY2FsQWNjb3VudElkRnJvbVRva2VuQ2xhaW1zKGlkVG9rZW5DbGFpbXMsIHRlbmFudFByb2ZpbGVGaWx0ZXIubG9jYWxBY2NvdW50SWQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEhdGVuYW50UHJvZmlsZUZpbHRlci5sb2dpbkhpbnQgJiZcclxuICAgICAgICAgICAgICAgICF0aGlzLm1hdGNoTG9naW5IaW50RnJvbVRva2VuQ2xhaW1zKGlkVG9rZW5DbGFpbXMsIHRlbmFudFByb2ZpbGVGaWx0ZXIubG9naW5IaW50KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghIXRlbmFudFByb2ZpbGVGaWx0ZXIudXNlcm5hbWUgJiZcclxuICAgICAgICAgICAgICAgICF0aGlzLm1hdGNoVXNlcm5hbWUoaWRUb2tlbkNsYWltcy5wcmVmZXJyZWRfdXNlcm5hbWUsIHRlbmFudFByb2ZpbGVGaWx0ZXIudXNlcm5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEhdGVuYW50UHJvZmlsZUZpbHRlci5uYW1lICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5tYXRjaE5hbWUoaWRUb2tlbkNsYWltcywgdGVuYW50UHJvZmlsZUZpbHRlci5uYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghIXRlbmFudFByb2ZpbGVGaWx0ZXIuc2lkICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5tYXRjaFNpZChpZFRva2VuQ2xhaW1zLCB0ZW5hbnRQcm9maWxlRmlsdGVyLnNpZCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogc2F2ZXMgYSBjYWNoZSByZWNvcmRcclxuICAgICAqIEBwYXJhbSBjYWNoZVJlY29yZCB7Q2FjaGVSZWNvcmR9XHJcbiAgICAgKiBAcGFyYW0gc3RvcmVJbkNhY2hlIHs/U3RvcmVJbkNhY2hlfVxyXG4gICAgICogQHBhcmFtIGNvcnJlbGF0aW9uSWQgez9zdHJpbmd9IGNvcnJlbGF0aW9uIGlkXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHNhdmVDYWNoZVJlY29yZChjYWNoZVJlY29yZCwgc3RvcmVJbkNhY2hlLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgaWYgKCFjYWNoZVJlY29yZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IoaW52YWxpZENhY2hlUmVjb3JkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKCEhY2FjaGVSZWNvcmQuYWNjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRBY2NvdW50KGNhY2hlUmVjb3JkLmFjY291bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICghIWNhY2hlUmVjb3JkLmlkVG9rZW4gJiYgc3RvcmVJbkNhY2hlPy5pZFRva2VuICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRJZFRva2VuQ3JlZGVudGlhbChjYWNoZVJlY29yZC5pZFRva2VuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFjYWNoZVJlY29yZC5hY2Nlc3NUb2tlbiAmJlxyXG4gICAgICAgICAgICAgICAgc3RvcmVJbkNhY2hlPy5hY2Nlc3NUb2tlbiAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc2F2ZUFjY2Vzc1Rva2VuKGNhY2hlUmVjb3JkLmFjY2Vzc1Rva2VuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFjYWNoZVJlY29yZC5yZWZyZXNoVG9rZW4gJiZcclxuICAgICAgICAgICAgICAgIHN0b3JlSW5DYWNoZT8ucmVmcmVzaFRva2VuICE9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsKGNhY2hlUmVjb3JkLnJlZnJlc2hUb2tlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEhY2FjaGVSZWNvcmQuYXBwTWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0QXBwTWV0YWRhdGEoY2FjaGVSZWNvcmQuYXBwTWV0YWRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbW9uTG9nZ2VyPy5lcnJvcihgQ2FjaGVNYW5hZ2VyLnNhdmVDYWNoZVJlY29yZDogZmFpbGVkYCk7XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uTG9nZ2VyPy5lcnJvclBpaShgQ2FjaGVNYW5hZ2VyLnNhdmVDYWNoZVJlY29yZDogJHtlLm1lc3NhZ2V9YCwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS5uYW1lID09PSBcIlF1b3RhRXhjZWVkZWRFcnJvclwiIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgZS5uYW1lID09PSBcIk5TX0VSUk9SX0RPTV9RVU9UQV9SRUFDSEVEXCIgfHxcclxuICAgICAgICAgICAgICAgICAgICBlLm1lc3NhZ2UuaW5jbHVkZXMoXCJleGNlZWRlZCB0aGUgcXVvdGFcIikpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1vbkxvZ2dlcj8uZXJyb3IoYENhY2hlTWFuYWdlci5zYXZlQ2FjaGVSZWNvcmQ6IGV4Y2VlZGVkIHN0b3JhZ2UgcXVvdGFgLCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2FjaGVFcnJvcihjYWNoZVF1b3RhRXhjZWVkZWRFcnJvckNvZGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IENhY2hlRXJyb3IoZS5uYW1lLCBlLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb21tb25Mb2dnZXI/LmVycm9yUGlpKGBDYWNoZU1hbmFnZXIuc2F2ZUNhY2hlUmVjb3JkOiAke2V9YCwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2FjaGVFcnJvcihjYWNoZVVua25vd25FcnJvckNvZGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBzYXZlcyBhY2Nlc3MgdG9rZW4gY3JlZGVudGlhbFxyXG4gICAgICogQHBhcmFtIGNyZWRlbnRpYWxcclxuICAgICAqL1xyXG4gICAgYXN5bmMgc2F2ZUFjY2Vzc1Rva2VuKGNyZWRlbnRpYWwpIHtcclxuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbkZpbHRlciA9IHtcclxuICAgICAgICAgICAgY2xpZW50SWQ6IGNyZWRlbnRpYWwuY2xpZW50SWQsXHJcbiAgICAgICAgICAgIGNyZWRlbnRpYWxUeXBlOiBjcmVkZW50aWFsLmNyZWRlbnRpYWxUeXBlLFxyXG4gICAgICAgICAgICBlbnZpcm9ubWVudDogY3JlZGVudGlhbC5lbnZpcm9ubWVudCxcclxuICAgICAgICAgICAgaG9tZUFjY291bnRJZDogY3JlZGVudGlhbC5ob21lQWNjb3VudElkLFxyXG4gICAgICAgICAgICByZWFsbTogY3JlZGVudGlhbC5yZWFsbSxcclxuICAgICAgICAgICAgdG9rZW5UeXBlOiBjcmVkZW50aWFsLnRva2VuVHlwZSxcclxuICAgICAgICAgICAgcmVxdWVzdGVkQ2xhaW1zSGFzaDogY3JlZGVudGlhbC5yZXF1ZXN0ZWRDbGFpbXNIYXNoLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgdG9rZW5LZXlzID0gdGhpcy5nZXRUb2tlbktleXMoKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50U2NvcGVzID0gU2NvcGVTZXQuZnJvbVN0cmluZyhjcmVkZW50aWFsLnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgcmVtb3ZlZEFjY2Vzc1Rva2VucyA9IFtdO1xyXG4gICAgICAgIHRva2VuS2V5cy5hY2Nlc3NUb2tlbi5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmFjY2Vzc1Rva2VuS2V5TWF0Y2hlc0ZpbHRlcihrZXksIGFjY2Vzc1Rva2VuRmlsdGVyLCBmYWxzZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbkVudGl0eSA9IHRoaXMuZ2V0QWNjZXNzVG9rZW5DcmVkZW50aWFsKGtleSk7XHJcbiAgICAgICAgICAgIGlmICh0b2tlbkVudGl0eSAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jcmVkZW50aWFsTWF0Y2hlc0ZpbHRlcih0b2tlbkVudGl0eSwgYWNjZXNzVG9rZW5GaWx0ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlblNjb3BlU2V0ID0gU2NvcGVTZXQuZnJvbVN0cmluZyh0b2tlbkVudGl0eS50YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRva2VuU2NvcGVTZXQuaW50ZXJzZWN0aW5nU2NvcGVTZXRzKGN1cnJlbnRTY29wZXMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlZEFjY2Vzc1Rva2Vucy5wdXNoKHRoaXMucmVtb3ZlQWNjZXNzVG9rZW4oa2V5KSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChyZW1vdmVkQWNjZXNzVG9rZW5zKTtcclxuICAgICAgICB0aGlzLnNldEFjY2Vzc1Rva2VuQ3JlZGVudGlhbChjcmVkZW50aWFsKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0cmlldmUgYWNjb3VudCBlbnRpdGllcyBtYXRjaGluZyBhbGwgcHJvdmlkZWQgdGVuYW50LWFnbm9zdGljIGZpbHRlcnM7IGlmIG5vIGZpbHRlciBpcyBzZXQsIGdldCBhbGwgYWNjb3VudCBlbnRpdGllcyBpbiB0aGUgY2FjaGVcclxuICAgICAqIE5vdCBjaGVja2luZyBmb3IgY2FzaW5nIGFzIGtleXMgYXJlIGFsbCBnZW5lcmF0ZWQgaW4gbG93ZXIgY2FzZSwgcmVtZW1iZXIgdG8gY29udmVydCB0byBsb3dlciBjYXNlIGlmIG9iamVjdCBwcm9wZXJ0aWVzIGFyZSBjb21wYXJlZFxyXG4gICAgICogQHBhcmFtIGFjY291bnRGaWx0ZXIgLSBBbiBvYmplY3QgY29udGFpbmluZyBBY2NvdW50IHByb3BlcnRpZXMgdG8gZmlsdGVyIGJ5XHJcbiAgICAgKi9cclxuICAgIGdldEFjY291bnRzRmlsdGVyZWRCeShhY2NvdW50RmlsdGVyKSB7XHJcbiAgICAgICAgY29uc3QgYWxsQWNjb3VudEtleXMgPSB0aGlzLmdldEFjY291bnRLZXlzKCk7XHJcbiAgICAgICAgY29uc3QgbWF0Y2hpbmdBY2NvdW50cyA9IFtdO1xyXG4gICAgICAgIGFsbEFjY291bnRLZXlzLmZvckVhY2goKGNhY2hlS2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0FjY291bnRLZXkoY2FjaGVLZXksIGFjY291bnRGaWx0ZXIuaG9tZUFjY291bnRJZCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIERvbid0IHBhcnNlIHZhbHVlIGlmIHRoZSBrZXkgZG9lc24ndCBtYXRjaCB0aGUgYWNjb3VudCBmaWx0ZXJzXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5nZXRBY2NvdW50KGNhY2hlS2V5LCB0aGlzLmNvbW1vbkxvZ2dlcik7XHJcbiAgICAgICAgICAgIC8vIE1hdGNoIGJhc2UgYWNjb3VudCBmaWVsZHNcclxuICAgICAgICAgICAgaWYgKCFlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFhY2NvdW50RmlsdGVyLmhvbWVBY2NvdW50SWQgJiZcclxuICAgICAgICAgICAgICAgICF0aGlzLm1hdGNoSG9tZUFjY291bnRJZChlbnRpdHksIGFjY291bnRGaWx0ZXIuaG9tZUFjY291bnRJZCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFhY2NvdW50RmlsdGVyLnVzZXJuYW1lICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5tYXRjaFVzZXJuYW1lKGVudGl0eS51c2VybmFtZSwgYWNjb3VudEZpbHRlci51c2VybmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFhY2NvdW50RmlsdGVyLmVudmlyb25tZW50ICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5tYXRjaEVudmlyb25tZW50KGVudGl0eSwgYWNjb3VudEZpbHRlci5lbnZpcm9ubWVudCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFhY2NvdW50RmlsdGVyLnJlYWxtICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5tYXRjaFJlYWxtKGVudGl0eSwgYWNjb3VudEZpbHRlci5yZWFsbSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFhY2NvdW50RmlsdGVyLm5hdGl2ZUFjY291bnRJZCAmJlxyXG4gICAgICAgICAgICAgICAgIXRoaXMubWF0Y2hOYXRpdmVBY2NvdW50SWQoZW50aXR5LCBhY2NvdW50RmlsdGVyLm5hdGl2ZUFjY291bnRJZCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFhY2NvdW50RmlsdGVyLmF1dGhvcml0eVR5cGUgJiZcclxuICAgICAgICAgICAgICAgICF0aGlzLm1hdGNoQXV0aG9yaXR5VHlwZShlbnRpdHksIGFjY291bnRGaWx0ZXIuYXV0aG9yaXR5VHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJZiBhdCBsZWFzdCBvbmUgdGVuYW50IHByb2ZpbGUgbWF0Y2hlcyB0aGUgdGVuYW50IHByb2ZpbGUgZmlsdGVyLCBhZGQgdGhlIGFjY291bnQgdG8gdGhlIGxpc3Qgb2YgbWF0Y2hpbmcgYWNjb3VudHNcclxuICAgICAgICAgICAgY29uc3QgdGVuYW50UHJvZmlsZUZpbHRlciA9IHtcclxuICAgICAgICAgICAgICAgIGxvY2FsQWNjb3VudElkOiBhY2NvdW50RmlsdGVyPy5sb2NhbEFjY291bnRJZCxcclxuICAgICAgICAgICAgICAgIG5hbWU6IGFjY291bnRGaWx0ZXI/Lm5hbWUsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNvbnN0IG1hdGNoaW5nVGVuYW50UHJvZmlsZXMgPSBlbnRpdHkudGVuYW50UHJvZmlsZXM/LmZpbHRlcigodGVuYW50UHJvZmlsZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudGVuYW50UHJvZmlsZU1hdGNoZXNGaWx0ZXIodGVuYW50UHJvZmlsZSwgdGVuYW50UHJvZmlsZUZpbHRlcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2hpbmdUZW5hbnRQcm9maWxlcyAmJiBtYXRjaGluZ1RlbmFudFByb2ZpbGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgLy8gTm8gdGVuYW50IHByb2ZpbGUgZm9yIHRoaXMgYWNjb3VudCBtYXRjaGVzIGZpbHRlciwgZG9uJ3QgYWRkIHRvIGxpc3Qgb2YgbWF0Y2hpbmcgYWNjb3VudHNcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXRjaGluZ0FjY291bnRzLnB1c2goZW50aXR5KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWF0Y2hpbmdBY2NvdW50cztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBrZXkgbWF0Y2hlcyBvdXIgYWNjb3VudCBrZXkgc2NoZW1hLiBBbHNvIG1hdGNoZXMgaG9tZUFjY291bnRJZCBhbmQvb3IgdGVuYW50SWQgaWYgcHJvdmlkZWRcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqIEBwYXJhbSBob21lQWNjb3VudElkXHJcbiAgICAgKiBAcGFyYW0gdGVuYW50SWRcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGlzQWNjb3VudEtleShrZXksIGhvbWVBY2NvdW50SWQsIHRlbmFudElkKSB7XHJcbiAgICAgICAgaWYgKGtleS5zcGxpdChTZXBhcmF0b3JzLkNBQ0hFX0tFWV9TRVBBUkFUT1IpLmxlbmd0aCA8IDMpIHtcclxuICAgICAgICAgICAgLy8gQWNjb3VudCBjYWNoZSBrZXlzIGNvbnRhaW4gMyBpdGVtcyBzZXBhcmF0ZWQgYnkgJy0nIChlYWNoIGl0ZW0gbWF5IGFsc28gY29udGFpbiAnLScpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGhvbWVBY2NvdW50SWQgJiZcclxuICAgICAgICAgICAgIWtleS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKGhvbWVBY2NvdW50SWQudG9Mb3dlckNhc2UoKSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGVuYW50SWQgJiYgIWtleS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHRlbmFudElkLnRvTG93ZXJDYXNlKCkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRG8gbm90IGNoZWNrIGVudmlyb25tZW50IGFzIGFsaWFzaW5nIGNhbiBjYXVzZSBmYWxzZSBuZWdhdGl2ZXNcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBrZXkgbWF0Y2hlcyBvdXIgY3JlZGVudGlhbCBrZXkgc2NoZW1hLlxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICBpc0NyZWRlbnRpYWxLZXkoa2V5KSB7XHJcbiAgICAgICAgaWYgKGtleS5zcGxpdChTZXBhcmF0b3JzLkNBQ0hFX0tFWV9TRVBBUkFUT1IpLmxlbmd0aCA8IDYpIHtcclxuICAgICAgICAgICAgLy8gQ3JlZGVudGlhbCBjYWNoZSBrZXlzIGNvbnRhaW4gNiBpdGVtcyBzZXBhcmF0ZWQgYnkgJy0nIChlYWNoIGl0ZW0gbWF5IGFsc28gY29udGFpbiAnLScpXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbG93ZXJDYXNlS2V5ID0ga2V5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgLy8gQ3JlZGVudGlhbCBrZXlzIG11c3QgaW5kaWNhdGUgd2hhdCBjcmVkZW50aWFsIHR5cGUgdGhleSByZXByZXNlbnRcclxuICAgICAgICBpZiAobG93ZXJDYXNlS2V5LmluZGV4T2YoQ3JlZGVudGlhbFR5cGUuSURfVE9LRU4udG9Mb3dlckNhc2UoKSkgPT09XHJcbiAgICAgICAgICAgIC0xICYmXHJcbiAgICAgICAgICAgIGxvd2VyQ2FzZUtleS5pbmRleE9mKENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTi50b0xvd2VyQ2FzZSgpKSA9PT1cclxuICAgICAgICAgICAgICAgIC0xICYmXHJcbiAgICAgICAgICAgIGxvd2VyQ2FzZUtleS5pbmRleE9mKENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FLnRvTG93ZXJDYXNlKCkpID09PSAtMSAmJlxyXG4gICAgICAgICAgICBsb3dlckNhc2VLZXkuaW5kZXhPZihDcmVkZW50aWFsVHlwZS5SRUZSRVNIX1RPS0VOLnRvTG93ZXJDYXNlKCkpID09PVxyXG4gICAgICAgICAgICAgICAgLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobG93ZXJDYXNlS2V5LmluZGV4T2YoQ3JlZGVudGlhbFR5cGUuUkVGUkVTSF9UT0tFTi50b0xvd2VyQ2FzZSgpKSA+XHJcbiAgICAgICAgICAgIC0xKSB7XHJcbiAgICAgICAgICAgIC8vIFJlZnJlc2ggdG9rZW5zIG11c3QgY29udGFpbiB0aGUgY2xpZW50IGlkIG9yIGZhbWlseSBpZFxyXG4gICAgICAgICAgICBjb25zdCBjbGllbnRJZFZhbGlkYXRpb24gPSBgJHtDcmVkZW50aWFsVHlwZS5SRUZSRVNIX1RPS0VOfSR7U2VwYXJhdG9ycy5DQUNIRV9LRVlfU0VQQVJBVE9SfSR7dGhpcy5jbGllbnRJZH0ke1NlcGFyYXRvcnMuQ0FDSEVfS0VZX1NFUEFSQVRPUn1gO1xyXG4gICAgICAgICAgICBjb25zdCBmYW1pbHlJZFZhbGlkYXRpb24gPSBgJHtDcmVkZW50aWFsVHlwZS5SRUZSRVNIX1RPS0VOfSR7U2VwYXJhdG9ycy5DQUNIRV9LRVlfU0VQQVJBVE9SfSR7VEhFX0ZBTUlMWV9JRH0ke1NlcGFyYXRvcnMuQ0FDSEVfS0VZX1NFUEFSQVRPUn1gO1xyXG4gICAgICAgICAgICBpZiAobG93ZXJDYXNlS2V5LmluZGV4T2YoY2xpZW50SWRWYWxpZGF0aW9uLnRvTG93ZXJDYXNlKCkpID09PSAtMSAmJlxyXG4gICAgICAgICAgICAgICAgbG93ZXJDYXNlS2V5LmluZGV4T2YoZmFtaWx5SWRWYWxpZGF0aW9uLnRvTG93ZXJDYXNlKCkpID09PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGxvd2VyQ2FzZUtleS5pbmRleE9mKHRoaXMuY2xpZW50SWQudG9Mb3dlckNhc2UoKSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIC8vIFRva2VucyBtdXN0IGNvbnRhaW4gdGhlIGNsaWVudElkXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGdpdmVuIGNyZWRlbnRpYWwgZW50aXR5IG1hdGNoZXMgdGhlIGZpbHRlclxyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIGZpbHRlclxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgY3JlZGVudGlhbE1hdGNoZXNGaWx0ZXIoZW50aXR5LCBmaWx0ZXIpIHtcclxuICAgICAgICBpZiAoISFmaWx0ZXIuY2xpZW50SWQgJiYgIXRoaXMubWF0Y2hDbGllbnRJZChlbnRpdHksIGZpbHRlci5jbGllbnRJZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISFmaWx0ZXIudXNlckFzc2VydGlvbkhhc2ggJiZcclxuICAgICAgICAgICAgIXRoaXMubWF0Y2hVc2VyQXNzZXJ0aW9uSGFzaChlbnRpdHksIGZpbHRlci51c2VyQXNzZXJ0aW9uSGFzaCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIGhvbWVBY2NvdW50SWQgY2FuIGJlIHVuZGVmaW5lZCwgYW5kIHdlIHdhbnQgdG8gZmlsdGVyIG91dCBjYWNoZWQgaXRlbXMgdGhhdCBoYXZlIGEgaG9tZUFjY291bnRJZCBvZiBcIlwiXHJcbiAgICAgICAgICogYmVjYXVzZSB3ZSBkb24ndCB3YW50IGEgY2xpZW50X2NyZWRlbnRpYWwgcmVxdWVzdCB0byByZXR1cm4gYSBjYWNoZWQgdG9rZW4gdGhhdCBoYXMgYSBob21lQWNjb3VudElkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaWYgKHR5cGVvZiBmaWx0ZXIuaG9tZUFjY291bnRJZCA9PT0gXCJzdHJpbmdcIiAmJlxyXG4gICAgICAgICAgICAhdGhpcy5tYXRjaEhvbWVBY2NvdW50SWQoZW50aXR5LCBmaWx0ZXIuaG9tZUFjY291bnRJZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISFmaWx0ZXIuZW52aXJvbm1lbnQgJiZcclxuICAgICAgICAgICAgIXRoaXMubWF0Y2hFbnZpcm9ubWVudChlbnRpdHksIGZpbHRlci5lbnZpcm9ubWVudCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISFmaWx0ZXIucmVhbG0gJiYgIXRoaXMubWF0Y2hSZWFsbShlbnRpdHksIGZpbHRlci5yZWFsbSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISFmaWx0ZXIuY3JlZGVudGlhbFR5cGUgJiZcclxuICAgICAgICAgICAgIXRoaXMubWF0Y2hDcmVkZW50aWFsVHlwZShlbnRpdHksIGZpbHRlci5jcmVkZW50aWFsVHlwZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoISFmaWx0ZXIuZmFtaWx5SWQgJiYgIXRoaXMubWF0Y2hGYW1pbHlJZChlbnRpdHksIGZpbHRlci5mYW1pbHlJZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIGlkVG9rZW5zIGRvIG5vdCBoYXZlIFwidGFyZ2V0XCIsIHRhcmdldCBzcGVjaWZpYyByZWZyZXNoVG9rZW5zIGRvIGV4aXN0IGZvciBzb21lIHR5cGVzIG9mIGF1dGhlbnRpY2F0aW9uXHJcbiAgICAgICAgICogUmVzb3VyY2Ugc3BlY2lmaWMgcmVmcmVzaCB0b2tlbnMgY2FzZSB3aWxsIGJlIGFkZGVkIHdoZW4gdGhlIHN1cHBvcnQgaXMgZGVlbWVkIG5lY2Vzc2FyeVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmICghIWZpbHRlci50YXJnZXQgJiYgIXRoaXMubWF0Y2hUYXJnZXQoZW50aXR5LCBmaWx0ZXIudGFyZ2V0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIHJlcXVlc3QgT1IgY2FjaGVkIGVudGl0eSBoYXMgcmVxdWVzdGVkIENsYWltcyBIYXNoLCBjaGVjayBpZiB0aGV5IG1hdGNoXHJcbiAgICAgICAgaWYgKGZpbHRlci5yZXF1ZXN0ZWRDbGFpbXNIYXNoIHx8IGVudGl0eS5yZXF1ZXN0ZWRDbGFpbXNIYXNoKSB7XHJcbiAgICAgICAgICAgIC8vIERvbid0IG1hdGNoIGlmIGVpdGhlciBpcyB1bmRlZmluZWQgb3IgdGhleSBhcmUgZGlmZmVyZW50XHJcbiAgICAgICAgICAgIGlmIChlbnRpdHkucmVxdWVzdGVkQ2xhaW1zSGFzaCAhPT0gZmlsdGVyLnJlcXVlc3RlZENsYWltc0hhc2gpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBY2Nlc3MgVG9rZW4gd2l0aCBBdXRoIFNjaGVtZSBzcGVjaWZpYyBtYXRjaGluZ1xyXG4gICAgICAgIGlmIChlbnRpdHkuY3JlZGVudGlhbFR5cGUgPT09XHJcbiAgICAgICAgICAgIENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FKSB7XHJcbiAgICAgICAgICAgIGlmICghIWZpbHRlci50b2tlblR5cGUgJiZcclxuICAgICAgICAgICAgICAgICF0aGlzLm1hdGNoVG9rZW5UeXBlKGVudGl0eSwgZmlsdGVyLnRva2VuVHlwZSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBLZXlJZCAoc3NoS2lkKSBpbiByZXF1ZXN0IG11c3QgbWF0Y2ggY2FjaGVkIFNTSCBjZXJ0aWZpY2F0ZSBrZXlJZCBiZWNhdXNlIFNTSCBjZXJ0IGlzIGJvdW5kIHRvIGEgc3BlY2lmaWMga2V5XHJcbiAgICAgICAgICAgIGlmIChmaWx0ZXIudG9rZW5UeXBlID09PSBBdXRoZW50aWNhdGlvblNjaGVtZS5TU0gpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXIua2V5SWQgJiYgIXRoaXMubWF0Y2hLZXlJZChlbnRpdHksIGZpbHRlci5rZXlJZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIHJldHJpZXZlIGFwcE1ldGFkYXRhIG1hdGNoaW5nIGFsbCBwcm92aWRlZCBmaWx0ZXJzOyBpZiBubyBmaWx0ZXIgaXMgc2V0LCBnZXQgYWxsIGFwcE1ldGFkYXRhXHJcbiAgICAgKiBAcGFyYW0gZmlsdGVyXHJcbiAgICAgKi9cclxuICAgIGdldEFwcE1ldGFkYXRhRmlsdGVyZWRCeShmaWx0ZXIpIHtcclxuICAgICAgICBjb25zdCBhbGxDYWNoZUtleXMgPSB0aGlzLmdldEtleXMoKTtcclxuICAgICAgICBjb25zdCBtYXRjaGluZ0FwcE1ldGFkYXRhID0ge307XHJcbiAgICAgICAgYWxsQ2FjaGVLZXlzLmZvckVhY2goKGNhY2hlS2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGRvbid0IHBhcnNlIGFueSBub24tYXBwTWV0YWRhdGEgdHlwZSBjYWNoZSBlbnRpdGllc1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNBcHBNZXRhZGF0YShjYWNoZUtleSkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBdHRlbXB0IHJldHJpZXZhbFxyXG4gICAgICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmdldEFwcE1ldGFkYXRhKGNhY2hlS2V5KTtcclxuICAgICAgICAgICAgaWYgKCFlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoISFmaWx0ZXIuZW52aXJvbm1lbnQgJiZcclxuICAgICAgICAgICAgICAgICF0aGlzLm1hdGNoRW52aXJvbm1lbnQoZW50aXR5LCBmaWx0ZXIuZW52aXJvbm1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCEhZmlsdGVyLmNsaWVudElkICYmXHJcbiAgICAgICAgICAgICAgICAhdGhpcy5tYXRjaENsaWVudElkKGVudGl0eSwgZmlsdGVyLmNsaWVudElkKSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG1hdGNoaW5nQXBwTWV0YWRhdGFbY2FjaGVLZXldID0gZW50aXR5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBtYXRjaGluZ0FwcE1ldGFkYXRhO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiByZXRyaWV2ZSBhdXRob3JpdHlNZXRhZGF0YSB0aGF0IGNvbnRhaW5zIGEgbWF0Y2hpbmcgYWxpYXNcclxuICAgICAqIEBwYXJhbSBmaWx0ZXJcclxuICAgICAqL1xyXG4gICAgZ2V0QXV0aG9yaXR5TWV0YWRhdGFCeUFsaWFzKGhvc3QpIHtcclxuICAgICAgICBjb25zdCBhbGxDYWNoZUtleXMgPSB0aGlzLmdldEF1dGhvcml0eU1ldGFkYXRhS2V5cygpO1xyXG4gICAgICAgIGxldCBtYXRjaGVkRW50aXR5ID0gbnVsbDtcclxuICAgICAgICBhbGxDYWNoZUtleXMuZm9yRWFjaCgoY2FjaGVLZXkpID0+IHtcclxuICAgICAgICAgICAgLy8gZG9uJ3QgcGFyc2UgYW55IG5vbi1hdXRob3JpdHlNZXRhZGF0YSB0eXBlIGNhY2hlIGVudGl0aWVzXHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0F1dGhvcml0eU1ldGFkYXRhKGNhY2hlS2V5KSB8fFxyXG4gICAgICAgICAgICAgICAgY2FjaGVLZXkuaW5kZXhPZih0aGlzLmNsaWVudElkKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBdHRlbXB0IHJldHJpZXZhbFxyXG4gICAgICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmdldEF1dGhvcml0eU1ldGFkYXRhKGNhY2hlS2V5KTtcclxuICAgICAgICAgICAgaWYgKCFlbnRpdHkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZW50aXR5LmFsaWFzZXMuaW5kZXhPZihob3N0KSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXRjaGVkRW50aXR5ID0gZW50aXR5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBtYXRjaGVkRW50aXR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFsbCBhY2NvdW50cyBhbmQgcmVsYXRlZCB0b2tlbnMgZnJvbSBjYWNoZS5cclxuICAgICAqL1xyXG4gICAgYXN5bmMgcmVtb3ZlQWxsQWNjb3VudHMoKSB7XHJcbiAgICAgICAgY29uc3QgYWxsQWNjb3VudEtleXMgPSB0aGlzLmdldEFjY291bnRLZXlzKCk7XHJcbiAgICAgICAgY29uc3QgcmVtb3ZlZEFjY291bnRzID0gW107XHJcbiAgICAgICAgYWxsQWNjb3VudEtleXMuZm9yRWFjaCgoY2FjaGVLZXkpID0+IHtcclxuICAgICAgICAgICAgcmVtb3ZlZEFjY291bnRzLnB1c2godGhpcy5yZW1vdmVBY2NvdW50KGNhY2hlS2V5KSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwocmVtb3ZlZEFjY291bnRzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyB0aGUgYWNjb3VudCBhbmQgcmVsYXRlZCB0b2tlbnMgZm9yIGEgZ2l2ZW4gYWNjb3VudCBrZXlcclxuICAgICAqIEBwYXJhbSBhY2NvdW50XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHJlbW92ZUFjY291bnQoYWNjb3VudEtleSkge1xyXG4gICAgICAgIGNvbnN0IGFjY291bnQgPSB0aGlzLmdldEFjY291bnQoYWNjb3VudEtleSwgdGhpcy5jb21tb25Mb2dnZXIpO1xyXG4gICAgICAgIGlmICghYWNjb3VudCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGF3YWl0IHRoaXMucmVtb3ZlQWNjb3VudENvbnRleHQoYWNjb3VudCk7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVJdGVtKGFjY291bnRLZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGNyZWRlbnRpYWxzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJvdmlkZWQgYWNjb3VudFxyXG4gICAgICogQHBhcmFtIGFjY291bnRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgcmVtb3ZlQWNjb3VudENvbnRleHQoYWNjb3VudCkge1xyXG4gICAgICAgIGNvbnN0IGFsbFRva2VuS2V5cyA9IHRoaXMuZ2V0VG9rZW5LZXlzKCk7XHJcbiAgICAgICAgY29uc3QgYWNjb3VudElkID0gYWNjb3VudC5nZW5lcmF0ZUFjY291bnRJZCgpO1xyXG4gICAgICAgIGNvbnN0IHJlbW92ZWRDcmVkZW50aWFscyA9IFtdO1xyXG4gICAgICAgIGFsbFRva2VuS2V5cy5pZFRva2VuLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoYWNjb3VudElkKSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVJZFRva2VuKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhbGxUb2tlbktleXMuYWNjZXNzVG9rZW4uZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChrZXkuaW5kZXhPZihhY2NvdW50SWQpID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVkQ3JlZGVudGlhbHMucHVzaCh0aGlzLnJlbW92ZUFjY2Vzc1Rva2VuKGtleSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYWxsVG9rZW5LZXlzLnJlZnJlc2hUb2tlbi5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKGFjY291bnRJZCkgPT09IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlUmVmcmVzaFRva2VuKGtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChyZW1vdmVkQ3JlZGVudGlhbHMpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBNaWdyYXRlcyBhIHNpbmdsZS10ZW5hbnQgYWNjb3VudCBhbmQgYWxsIGl0J3MgYXNzb2NpYXRlZCBhbHRlcm5hdGUgY3Jvc3MtdGVuYW50IGFjY291bnQgb2JqZWN0cyBpbiB0aGVcclxuICAgICAqIGNhY2hlIGludG8gYSBjb25kZW5zZWQgbXVsdGktdGVuYW50IGFjY291bnQgb2JqZWN0IHdpdGggdGVuYW50IHByb2ZpbGVzLlxyXG4gICAgICogQHBhcmFtIGFjY291bnRLZXlcclxuICAgICAqIEBwYXJhbSBhY2NvdW50RW50aXR5XHJcbiAgICAgKiBAcGFyYW0gbG9nZ2VyXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICB1cGRhdGVPdXRkYXRlZENhY2hlZEFjY291bnQoYWNjb3VudEtleSwgYWNjb3VudEVudGl0eSwgbG9nZ2VyKSB7XHJcbiAgICAgICAgLy8gT25seSB1cGRhdGUgaWYgYWNjb3VudCBlbnRpdHkgaXMgZGVmaW5lZCBhbmQgaGFzIG5vIHRlbmFudFByb2ZpbGVzIG9iamVjdCAoaXMgb3V0ZGF0ZWQpXHJcbiAgICAgICAgaWYgKGFjY291bnRFbnRpdHkgJiYgYWNjb3VudEVudGl0eS5pc1NpbmdsZVRlbmFudCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbW9uTG9nZ2VyPy52ZXJib3NlKFwidXBkYXRlT3V0ZGF0ZWRDYWNoZWRBY2NvdW50OiBGb3VuZCBhIHNpbmdsZS10ZW5hbnQgKG91dGRhdGVkKSBhY2NvdW50IGVudGl0eSBpbiB0aGUgY2FjaGUsIG1pZ3JhdGluZyB0byBtdWx0aS10ZW5hbnQgYWNjb3VudCBlbnRpdHlcIik7XHJcbiAgICAgICAgICAgIC8vIEdldCBrZXlzIG9mIGFsbCBhY2NvdW50cyBiZWxvbmdpbmcgdG8gdXNlclxyXG4gICAgICAgICAgICBjb25zdCBtYXRjaGluZ0FjY291bnRLZXlzID0gdGhpcy5nZXRBY2NvdW50S2V5cygpLmZpbHRlcigoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5LnN0YXJ0c1dpdGgoYWNjb3VudEVudGl0eS5ob21lQWNjb3VudElkKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIEdldCBhbGwgYWNjb3VudCBlbnRpdGllcyBiZWxvbmdpbmcgdG8gdXNlclxyXG4gICAgICAgICAgICBjb25zdCBhY2NvdW50c1RvTWVyZ2UgPSBbXTtcclxuICAgICAgICAgICAgbWF0Y2hpbmdBY2NvdW50S2V5cy5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjY291bnQgPSB0aGlzLmdldENhY2hlZEFjY291bnRFbnRpdHkoa2V5KTtcclxuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWNjb3VudHNUb01lcmdlLnB1c2goYWNjb3VudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyBTZXQgYmFzZSBhY2NvdW50IHRvIGhvbWUgYWNjb3VudCBpZiBhdmFpbGFibGUsIGFueSBhY2NvdW50IGlmIG5vdFxyXG4gICAgICAgICAgICBjb25zdCBiYXNlQWNjb3VudCA9IGFjY291bnRzVG9NZXJnZS5maW5kKChhY2NvdW50KSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGVuYW50SWRNYXRjaGVzSG9tZVRlbmFudChhY2NvdW50LnJlYWxtLCBhY2NvdW50LmhvbWVBY2NvdW50SWQpO1xyXG4gICAgICAgICAgICB9KSB8fCBhY2NvdW50c1RvTWVyZ2VbMF07XHJcbiAgICAgICAgICAgIC8vIFBvcHVsYXRlIHRlbmFudCBwcm9maWxlcyBidWlsdCBmcm9tIGVhY2ggYWNjb3VudCBlbnRpdHkgYmVsb25naW5nIHRvIHRoZSB1c2VyXHJcbiAgICAgICAgICAgIGJhc2VBY2NvdW50LnRlbmFudFByb2ZpbGVzID0gYWNjb3VudHNUb01lcmdlLm1hcCgoYWNjb3VudCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZW5hbnRJZDogYWNjb3VudC5yZWFsbSxcclxuICAgICAgICAgICAgICAgICAgICBsb2NhbEFjY291bnRJZDogYWNjb3VudC5sb2NhbEFjY291bnRJZCxcclxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBhY2NvdW50Lm5hbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgaXNIb21lVGVuYW50OiB0ZW5hbnRJZE1hdGNoZXNIb21lVGVuYW50KGFjY291bnQucmVhbG0sIGFjY291bnQuaG9tZUFjY291bnRJZCksXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlZEFjY291bnQgPSBDYWNoZU1hbmFnZXIudG9PYmplY3QobmV3IEFjY291bnRFbnRpdHkoKSwge1xyXG4gICAgICAgICAgICAgICAgLi4uYmFzZUFjY291bnQsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdBY2NvdW50S2V5ID0gdXBkYXRlZEFjY291bnQuZ2VuZXJhdGVBY2NvdW50S2V5KCk7XHJcbiAgICAgICAgICAgIC8vIENsZWFyIGNhY2hlIG9mIGxlZ2FjeSBhY2NvdW50IG9iamVjdHMgdGhhdCBoYXZlIGJlZW4gY29sbHBzZWQgaW50byB0ZW5hbnQgcHJvZmlsZXNcclxuICAgICAgICAgICAgbWF0Y2hpbmdBY2NvdW50S2V5cy5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXkgIT09IG5ld0FjY291bnRLZXkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU91dGRhdGVkQWNjb3VudChhY2NvdW50S2V5KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIENhY2hlIHVwZGF0ZWQgYWNjb3VudCBvYmplY3RcclxuICAgICAgICAgICAgdGhpcy5zZXRBY2NvdW50KHVwZGF0ZWRBY2NvdW50KTtcclxuICAgICAgICAgICAgbG9nZ2VyPy52ZXJib3NlKFwiVXBkYXRlZCBhbiBvdXRkYXRlZCBhY2NvdW50IGVudGl0eSBpbiB0aGUgY2FjaGVcIik7XHJcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVkQWNjb3VudDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTm8gdXBkYXRlIGlzIG5lY2Vzc2FyeVxyXG4gICAgICAgIHJldHVybiBhY2NvdW50RW50aXR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIGEgYm9vbGVhbiBpZiB0aGUgZ2l2ZW4gY3JlZGVudGlhbCBpcyByZW1vdmVkXHJcbiAgICAgKiBAcGFyYW0gY3JlZGVudGlhbFxyXG4gICAgICovXHJcbiAgICBhc3luYyByZW1vdmVBY2Nlc3NUb2tlbihrZXkpIHtcclxuICAgICAgICBjb25zdCBjcmVkZW50aWFsID0gdGhpcy5nZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWwoa2V5KTtcclxuICAgICAgICBpZiAoIWNyZWRlbnRpYWwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBSZW1vdmUgVG9rZW4gQmluZGluZyBLZXkgZnJvbSBrZXkgc3RvcmUgZm9yIFBvUCBUb2tlbnMgQ3JlZGVudGlhbHNcclxuICAgICAgICBpZiAoY3JlZGVudGlhbC5jcmVkZW50aWFsVHlwZS50b0xvd2VyQ2FzZSgpID09PVxyXG4gICAgICAgICAgICBDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU5fV0lUSF9BVVRIX1NDSEVNRS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgIGlmIChjcmVkZW50aWFsLnRva2VuVHlwZSA9PT0gQXV0aGVudGljYXRpb25TY2hlbWUuUE9QKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbldpdGhBdXRoU2NoZW1lRW50aXR5ID0gY3JlZGVudGlhbDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtpZCA9IGFjY2Vzc1Rva2VuV2l0aEF1dGhTY2hlbWVFbnRpdHkua2V5SWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoa2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5jcnlwdG9JbXBsLnJlbW92ZVRva2VuQmluZGluZ0tleShraWQpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKGJpbmRpbmdLZXlOb3RSZW1vdmVkKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGFsbCBhcHAgbWV0YWRhdGEgb2JqZWN0cyBmcm9tIGNhY2hlLlxyXG4gICAgICovXHJcbiAgICByZW1vdmVBcHBNZXRhZGF0YSgpIHtcclxuICAgICAgICBjb25zdCBhbGxDYWNoZUtleXMgPSB0aGlzLmdldEtleXMoKTtcclxuICAgICAgICBhbGxDYWNoZUtleXMuZm9yRWFjaCgoY2FjaGVLZXkpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNBcHBNZXRhZGF0YShjYWNoZUtleSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlSXRlbShjYWNoZUtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0cmlldmUgQWNjb3VudEVudGl0eSBmcm9tIGNhY2hlXHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudFxyXG4gICAgICovXHJcbiAgICByZWFkQWNjb3VudEZyb21DYWNoZShhY2NvdW50KSB7XHJcbiAgICAgICAgY29uc3QgYWNjb3VudEtleSA9IEFjY291bnRFbnRpdHkuZ2VuZXJhdGVBY2NvdW50Q2FjaGVLZXkoYWNjb3VudCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWNjb3VudChhY2NvdW50S2V5LCB0aGlzLmNvbW1vbkxvZ2dlcik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlIElkVG9rZW5FbnRpdHkgZnJvbSBjYWNoZVxyXG4gICAgICogQHBhcmFtIGFjY291bnQge0FjY291bnRJbmZvfVxyXG4gICAgICogQHBhcmFtIHRva2VuS2V5cyB7P1Rva2VuS2V5c31cclxuICAgICAqIEBwYXJhbSB0YXJnZXRSZWFsbSB7P3N0cmluZ31cclxuICAgICAqIEBwYXJhbSBwZXJmb3JtYW5jZUNsaWVudCB7P0lQZXJmb3JtYW5jZUNsaWVudH1cclxuICAgICAqIEBwYXJhbSBjb3JyZWxhdGlvbklkIHs/c3RyaW5nfVxyXG4gICAgICovXHJcbiAgICBnZXRJZFRva2VuKGFjY291bnQsIHRva2VuS2V5cywgdGFyZ2V0UmVhbG0sIHBlcmZvcm1hbmNlQ2xpZW50LCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5jb21tb25Mb2dnZXIudHJhY2UoXCJDYWNoZU1hbmFnZXIgLSBnZXRJZFRva2VuIGNhbGxlZFwiKTtcclxuICAgICAgICBjb25zdCBpZFRva2VuRmlsdGVyID0ge1xyXG4gICAgICAgICAgICBob21lQWNjb3VudElkOiBhY2NvdW50LmhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgICAgIGVudmlyb25tZW50OiBhY2NvdW50LmVudmlyb25tZW50LFxyXG4gICAgICAgICAgICBjcmVkZW50aWFsVHlwZTogQ3JlZGVudGlhbFR5cGUuSURfVE9LRU4sXHJcbiAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudElkLFxyXG4gICAgICAgICAgICByZWFsbTogdGFyZ2V0UmVhbG0sXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBpZFRva2VuTWFwID0gdGhpcy5nZXRJZFRva2Vuc0J5RmlsdGVyKGlkVG9rZW5GaWx0ZXIsIHRva2VuS2V5cyk7XHJcbiAgICAgICAgY29uc3QgbnVtSWRUb2tlbnMgPSBpZFRva2VuTWFwLnNpemU7XHJcbiAgICAgICAgaWYgKG51bUlkVG9rZW5zIDwgMSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbW1vbkxvZ2dlci5pbmZvKFwiQ2FjaGVNYW5hZ2VyOmdldElkVG9rZW4gLSBObyB0b2tlbiBmb3VuZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG51bUlkVG9rZW5zID4gMSkge1xyXG4gICAgICAgICAgICBsZXQgdG9rZW5zVG9CZVJlbW92ZWQgPSBpZFRva2VuTWFwO1xyXG4gICAgICAgICAgICAvLyBNdWx0aXBsZSB0ZW5hbnQgcHJvZmlsZXMgYW5kIG5vIHRlbmFudCBzcGVjaWZpZWQsIHBpY2sgaG9tZSBhY2NvdW50XHJcbiAgICAgICAgICAgIGlmICghdGFyZ2V0UmVhbG0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGhvbWVJZFRva2VuTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICAgICAgICAgICAgaWRUb2tlbk1hcC5mb3JFYWNoKChpZFRva2VuLCBrZXkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaWRUb2tlbi5yZWFsbSA9PT0gYWNjb3VudC50ZW5hbnRJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob21lSWRUb2tlbk1hcC5zZXQoa2V5LCBpZFRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG51bUhvbWVJZFRva2VucyA9IGhvbWVJZFRva2VuTWFwLnNpemU7XHJcbiAgICAgICAgICAgICAgICBpZiAobnVtSG9tZUlkVG9rZW5zIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uTG9nZ2VyLmluZm8oXCJDYWNoZU1hbmFnZXI6Z2V0SWRUb2tlbiAtIE11bHRpcGxlIElEIHRva2VucyBmb3VuZCBmb3IgYWNjb3VudCBidXQgbm9uZSBtYXRjaCBhY2NvdW50IGVudGl0eSB0ZW5hbnQgaWQsIHJldHVybmluZyBmaXJzdCByZXN1bHRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlkVG9rZW5NYXAudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAobnVtSG9tZUlkVG9rZW5zID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21tb25Mb2dnZXIuaW5mbyhcIkNhY2hlTWFuYWdlcjpnZXRJZFRva2VuIC0gTXVsdGlwbGUgSUQgdG9rZW5zIGZvdW5kIGZvciBhY2NvdW50LCBkZWZhdWx0aW5nIHRvIGhvbWUgdGVuYW50IHByb2ZpbGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGhvbWVJZFRva2VuTWFwLnZhbHVlcygpLm5leHQoKS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE11bHRpcGxlIElEIHRva2VucyBmb3IgaG9tZSB0ZW5hbnQgcHJvZmlsZSwgcmVtb3ZlIGFsbCBhbmQgcmV0dXJuIG51bGxcclxuICAgICAgICAgICAgICAgICAgICB0b2tlbnNUb0JlUmVtb3ZlZCA9IGhvbWVJZFRva2VuTWFwO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIE11bHRpcGxlIHRva2VucyBmb3IgYSBzaW5nbGUgdGVuYW50IHByb2ZpbGUsIHJlbW92ZSBhbGwgYW5kIHJldHVybiBudWxsXHJcbiAgICAgICAgICAgIHRoaXMuY29tbW9uTG9nZ2VyLmluZm8oXCJDYWNoZU1hbmFnZXI6Z2V0SWRUb2tlbiAtIE11bHRpcGxlIG1hdGNoaW5nIElEIHRva2VucyBmb3VuZCwgY2xlYXJpbmcgdGhlbVwiKTtcclxuICAgICAgICAgICAgdG9rZW5zVG9CZVJlbW92ZWQuZm9yRWFjaCgoaWRUb2tlbiwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUlkVG9rZW4oa2V5KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGlmIChwZXJmb3JtYW5jZUNsaWVudCAmJiBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgICAgICAgICBwZXJmb3JtYW5jZUNsaWVudC5hZGRGaWVsZHMoeyBtdWx0aU1hdGNoZWRJRDogaWRUb2tlbk1hcC5zaXplIH0sIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbW1vbkxvZ2dlci5pbmZvKFwiQ2FjaGVNYW5hZ2VyOmdldElkVG9rZW4gLSBSZXR1cm5pbmcgSUQgdG9rZW5cIik7XHJcbiAgICAgICAgcmV0dXJuIGlkVG9rZW5NYXAudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXRzIGFsbCBpZFRva2VucyBtYXRjaGluZyB0aGUgZ2l2ZW4gZmlsdGVyXHJcbiAgICAgKiBAcGFyYW0gZmlsdGVyXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBnZXRJZFRva2Vuc0J5RmlsdGVyKGZpbHRlciwgdG9rZW5LZXlzKSB7XHJcbiAgICAgICAgY29uc3QgaWRUb2tlbktleXMgPSAodG9rZW5LZXlzICYmIHRva2VuS2V5cy5pZFRva2VuKSB8fCB0aGlzLmdldFRva2VuS2V5cygpLmlkVG9rZW47XHJcbiAgICAgICAgY29uc3QgaWRUb2tlbnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgaWRUb2tlbktleXMuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5pZFRva2VuS2V5TWF0Y2hlc0ZpbHRlcihrZXksIHtcclxuICAgICAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudElkLFxyXG4gICAgICAgICAgICAgICAgLi4uZmlsdGVyLFxyXG4gICAgICAgICAgICB9KSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IGlkVG9rZW4gPSB0aGlzLmdldElkVG9rZW5DcmVkZW50aWFsKGtleSk7XHJcbiAgICAgICAgICAgIGlmIChpZFRva2VuICYmIHRoaXMuY3JlZGVudGlhbE1hdGNoZXNGaWx0ZXIoaWRUb2tlbiwgZmlsdGVyKSkge1xyXG4gICAgICAgICAgICAgICAgaWRUb2tlbnMuc2V0KGtleSwgaWRUb2tlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gaWRUb2tlbnM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFZhbGlkYXRlIHRoZSBjYWNoZSBrZXkgYWdhaW5zdCBmaWx0ZXIgYmVmb3JlIHJldHJpZXZpbmcgYW5kIHBhcnNpbmcgY2FjaGUgdmFsdWVcclxuICAgICAqIEBwYXJhbSBrZXlcclxuICAgICAqIEBwYXJhbSBmaWx0ZXJcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGlkVG9rZW5LZXlNYXRjaGVzRmlsdGVyKGlucHV0S2V5LCBmaWx0ZXIpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBpbnB1dEtleS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChmaWx0ZXIuY2xpZW50SWQgJiZcclxuICAgICAgICAgICAga2V5LmluZGV4T2YoZmlsdGVyLmNsaWVudElkLnRvTG93ZXJDYXNlKCkpID09PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmaWx0ZXIuaG9tZUFjY291bnRJZCAmJlxyXG4gICAgICAgICAgICBrZXkuaW5kZXhPZihmaWx0ZXIuaG9tZUFjY291bnRJZC50b0xvd2VyQ2FzZSgpKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBpZFRva2VuIGZyb20gdGhlIGNhY2hlXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKi9cclxuICAgIHJlbW92ZUlkVG9rZW4oa2V5KSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVJdGVtKGtleSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgcmVmcmVzaCB0b2tlbiBmcm9tIHRoZSBjYWNoZVxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICByZW1vdmVSZWZyZXNoVG9rZW4oa2V5KSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmVJdGVtKGtleSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlIEFjY2Vzc1Rva2VuRW50aXR5IGZyb20gY2FjaGVcclxuICAgICAqIEBwYXJhbSBhY2NvdW50IHtBY2NvdW50SW5mb31cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0IHtCYXNlQXV0aFJlcXVlc3R9XHJcbiAgICAgKiBAcGFyYW0gdG9rZW5LZXlzIHs/VG9rZW5LZXlzfVxyXG4gICAgICogQHBhcmFtIHBlcmZvcm1hbmNlQ2xpZW50IHs/SVBlcmZvcm1hbmNlQ2xpZW50fVxyXG4gICAgICogQHBhcmFtIGNvcnJlbGF0aW9uSWQgez9zdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldEFjY2Vzc1Rva2VuKGFjY291bnQsIHJlcXVlc3QsIHRva2VuS2V5cywgdGFyZ2V0UmVhbG0sIHBlcmZvcm1hbmNlQ2xpZW50LCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5jb21tb25Mb2dnZXIudHJhY2UoXCJDYWNoZU1hbmFnZXIgLSBnZXRBY2Nlc3NUb2tlbiBjYWxsZWRcIik7XHJcbiAgICAgICAgY29uc3Qgc2NvcGVzID0gU2NvcGVTZXQuY3JlYXRlU2VhcmNoU2NvcGVzKHJlcXVlc3Quc2NvcGVzKTtcclxuICAgICAgICBjb25zdCBhdXRoU2NoZW1lID0gcmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSB8fCBBdXRoZW50aWNhdGlvblNjaGVtZS5CRUFSRVI7XHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBEaXN0aW5ndWlzaCBiZXR3ZWVuIEJlYXJlciBhbmQgUG9QL1NTSCB0b2tlbiBjYWNoZSB0eXBlc1xyXG4gICAgICAgICAqIENhc3QgdG8gbG93ZXJjYXNlIHRvIGhhbmRsZSBcImJlYXJlclwiIGZyb20gQURGU1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0IGNyZWRlbnRpYWxUeXBlID0gYXV0aFNjaGVtZSAmJlxyXG4gICAgICAgICAgICBhdXRoU2NoZW1lLnRvTG93ZXJDYXNlKCkgIT09XHJcbiAgICAgICAgICAgICAgICBBdXRoZW50aWNhdGlvblNjaGVtZS5CRUFSRVIudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgICAgICA/IENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FXHJcbiAgICAgICAgICAgIDogQ3JlZGVudGlhbFR5cGUuQUNDRVNTX1RPS0VOO1xyXG4gICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuRmlsdGVyID0ge1xyXG4gICAgICAgICAgICBob21lQWNjb3VudElkOiBhY2NvdW50LmhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgICAgIGVudmlyb25tZW50OiBhY2NvdW50LmVudmlyb25tZW50LFxyXG4gICAgICAgICAgICBjcmVkZW50aWFsVHlwZTogY3JlZGVudGlhbFR5cGUsXHJcbiAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudElkLFxyXG4gICAgICAgICAgICByZWFsbTogdGFyZ2V0UmVhbG0gfHwgYWNjb3VudC50ZW5hbnRJZCxcclxuICAgICAgICAgICAgdGFyZ2V0OiBzY29wZXMsXHJcbiAgICAgICAgICAgIHRva2VuVHlwZTogYXV0aFNjaGVtZSxcclxuICAgICAgICAgICAga2V5SWQ6IHJlcXVlc3Quc3NoS2lkLFxyXG4gICAgICAgICAgICByZXF1ZXN0ZWRDbGFpbXNIYXNoOiByZXF1ZXN0LnJlcXVlc3RlZENsYWltc0hhc2gsXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbktleXMgPSAodG9rZW5LZXlzICYmIHRva2VuS2V5cy5hY2Nlc3NUb2tlbikgfHxcclxuICAgICAgICAgICAgdGhpcy5nZXRUb2tlbktleXMoKS5hY2Nlc3NUb2tlbjtcclxuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbnMgPSBbXTtcclxuICAgICAgICBhY2Nlc3NUb2tlbktleXMuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIGtleVxyXG4gICAgICAgICAgICBpZiAodGhpcy5hY2Nlc3NUb2tlbktleU1hdGNoZXNGaWx0ZXIoa2V5LCBhY2Nlc3NUb2tlbkZpbHRlciwgdHJ1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGFjY2Vzc1Rva2VuID0gdGhpcy5nZXRBY2Nlc3NUb2tlbkNyZWRlbnRpYWwoa2V5KTtcclxuICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHZhbHVlXHJcbiAgICAgICAgICAgICAgICBpZiAoYWNjZXNzVG9rZW4gJiZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWRlbnRpYWxNYXRjaGVzRmlsdGVyKGFjY2Vzc1Rva2VuLCBhY2Nlc3NUb2tlbkZpbHRlcikpIHtcclxuICAgICAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbnMucHVzaChhY2Nlc3NUb2tlbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBudW1BY2Nlc3NUb2tlbnMgPSBhY2Nlc3NUb2tlbnMubGVuZ3RoO1xyXG4gICAgICAgIGlmIChudW1BY2Nlc3NUb2tlbnMgPCAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbW9uTG9nZ2VyLmluZm8oXCJDYWNoZU1hbmFnZXI6Z2V0QWNjZXNzVG9rZW4gLSBObyB0b2tlbiBmb3VuZFwiKTtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG51bUFjY2Vzc1Rva2VucyA+IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5jb21tb25Mb2dnZXIuaW5mbyhcIkNhY2hlTWFuYWdlcjpnZXRBY2Nlc3NUb2tlbiAtIE11bHRpcGxlIGFjY2VzcyB0b2tlbnMgZm91bmQsIGNsZWFyaW5nIHRoZW1cIik7XHJcbiAgICAgICAgICAgIGFjY2Vzc1Rva2Vucy5mb3JFYWNoKChhY2Nlc3NUb2tlbikgPT4ge1xyXG4gICAgICAgICAgICAgICAgdm9pZCB0aGlzLnJlbW92ZUFjY2Vzc1Rva2VuKGdlbmVyYXRlQ3JlZGVudGlhbEtleShhY2Nlc3NUb2tlbikpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHBlcmZvcm1hbmNlQ2xpZW50ICYmIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlQ2xpZW50LmFkZEZpZWxkcyh7IG11bHRpTWF0Y2hlZEFUOiBhY2Nlc3NUb2tlbnMubGVuZ3RoIH0sIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbW1vbkxvZ2dlci5pbmZvKFwiQ2FjaGVNYW5hZ2VyOmdldEFjY2Vzc1Rva2VuIC0gUmV0dXJuaW5nIGFjY2VzcyB0b2tlblwiKTtcclxuICAgICAgICByZXR1cm4gYWNjZXNzVG9rZW5zWzBdO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBWYWxpZGF0ZSB0aGUgY2FjaGUga2V5IGFnYWluc3QgZmlsdGVyIGJlZm9yZSByZXRyaWV2aW5nIGFuZCBwYXJzaW5nIGNhY2hlIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0ga2V5XHJcbiAgICAgKiBAcGFyYW0gZmlsdGVyXHJcbiAgICAgKiBAcGFyYW0ga2V5TXVzdENvbnRhaW5BbGxTY29wZXNcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGFjY2Vzc1Rva2VuS2V5TWF0Y2hlc0ZpbHRlcihpbnB1dEtleSwgZmlsdGVyLCBrZXlNdXN0Q29udGFpbkFsbFNjb3Blcykge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGlucHV0S2V5LnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgaWYgKGZpbHRlci5jbGllbnRJZCAmJlxyXG4gICAgICAgICAgICBrZXkuaW5kZXhPZihmaWx0ZXIuY2xpZW50SWQudG9Mb3dlckNhc2UoKSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGZpbHRlci5ob21lQWNjb3VudElkICYmXHJcbiAgICAgICAgICAgIGtleS5pbmRleE9mKGZpbHRlci5ob21lQWNjb3VudElkLnRvTG93ZXJDYXNlKCkpID09PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmaWx0ZXIucmVhbG0gJiYga2V5LmluZGV4T2YoZmlsdGVyLnJlYWxtLnRvTG93ZXJDYXNlKCkpID09PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChmaWx0ZXIucmVxdWVzdGVkQ2xhaW1zSGFzaCAmJlxyXG4gICAgICAgICAgICBrZXkuaW5kZXhPZihmaWx0ZXIucmVxdWVzdGVkQ2xhaW1zSGFzaC50b0xvd2VyQ2FzZSgpKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmlsdGVyLnRhcmdldCkge1xyXG4gICAgICAgICAgICBjb25zdCBzY29wZXMgPSBmaWx0ZXIudGFyZ2V0LmFzQXJyYXkoKTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzY29wZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmIChrZXlNdXN0Q29udGFpbkFsbFNjb3BlcyAmJlxyXG4gICAgICAgICAgICAgICAgICAgICFrZXkuaW5jbHVkZXMoc2NvcGVzW2ldLnRvTG93ZXJDYXNlKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBwZXJmb3JtaW5nIGEgY2FjaGUgbG9va3VwIGEgbWlzc2luZyBzY29wZSB3b3VsZCBiZSBhIGNhY2hlIG1pc3NcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmICgha2V5TXVzdENvbnRhaW5BbGxTY29wZXMgJiZcclxuICAgICAgICAgICAgICAgICAgICBrZXkuaW5jbHVkZXMoc2NvcGVzW2ldLnRvTG93ZXJDYXNlKCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2hlbiBwZXJmb3JtaW5nIGEgY2FjaGUgd3JpdGUsIGFueSB0b2tlbiB3aXRoIGEgc3Vic2V0IG9mIHJlcXVlc3RlZCBzY29wZXMgc2hvdWxkIGJlIHJlcGxhY2VkXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgYWxsIGFjY2VzcyB0b2tlbnMgbWF0Y2hpbmcgdGhlIGZpbHRlclxyXG4gICAgICogQHBhcmFtIGZpbHRlclxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgZ2V0QWNjZXNzVG9rZW5zQnlGaWx0ZXIoZmlsdGVyKSB7XHJcbiAgICAgICAgY29uc3QgdG9rZW5LZXlzID0gdGhpcy5nZXRUb2tlbktleXMoKTtcclxuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbnMgPSBbXTtcclxuICAgICAgICB0b2tlbktleXMuYWNjZXNzVG9rZW4uZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5hY2Nlc3NUb2tlbktleU1hdGNoZXNGaWx0ZXIoa2V5LCBmaWx0ZXIsIHRydWUpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgYWNjZXNzVG9rZW4gPSB0aGlzLmdldEFjY2Vzc1Rva2VuQ3JlZGVudGlhbChrZXkpO1xyXG4gICAgICAgICAgICBpZiAoYWNjZXNzVG9rZW4gJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuY3JlZGVudGlhbE1hdGNoZXNGaWx0ZXIoYWNjZXNzVG9rZW4sIGZpbHRlcikpIHtcclxuICAgICAgICAgICAgICAgIGFjY2Vzc1Rva2Vucy5wdXNoKGFjY2Vzc1Rva2VuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBhY2Nlc3NUb2tlbnM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB0byByZXRyaWV2ZSB0aGUgYXBwcm9wcmlhdGUgcmVmcmVzaCB0b2tlbiBmcm9tIGNhY2hlXHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudCB7QWNjb3VudEluZm99XHJcbiAgICAgKiBAcGFyYW0gZmFtaWx5UlQge2Jvb2xlYW59XHJcbiAgICAgKiBAcGFyYW0gdG9rZW5LZXlzIHs/VG9rZW5LZXlzfVxyXG4gICAgICogQHBhcmFtIHBlcmZvcm1hbmNlQ2xpZW50IHs/SVBlcmZvcm1hbmNlQ2xpZW50fVxyXG4gICAgICogQHBhcmFtIGNvcnJlbGF0aW9uSWQgez9zdHJpbmd9XHJcbiAgICAgKi9cclxuICAgIGdldFJlZnJlc2hUb2tlbihhY2NvdW50LCBmYW1pbHlSVCwgdG9rZW5LZXlzLCBwZXJmb3JtYW5jZUNsaWVudCwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHRoaXMuY29tbW9uTG9nZ2VyLnRyYWNlKFwiQ2FjaGVNYW5hZ2VyIC0gZ2V0UmVmcmVzaFRva2VuIGNhbGxlZFwiKTtcclxuICAgICAgICBjb25zdCBpZCA9IGZhbWlseVJUID8gVEhFX0ZBTUlMWV9JRCA6IHVuZGVmaW5lZDtcclxuICAgICAgICBjb25zdCByZWZyZXNoVG9rZW5GaWx0ZXIgPSB7XHJcbiAgICAgICAgICAgIGhvbWVBY2NvdW50SWQ6IGFjY291bnQuaG9tZUFjY291bnRJZCxcclxuICAgICAgICAgICAgZW52aXJvbm1lbnQ6IGFjY291bnQuZW52aXJvbm1lbnQsXHJcbiAgICAgICAgICAgIGNyZWRlbnRpYWxUeXBlOiBDcmVkZW50aWFsVHlwZS5SRUZSRVNIX1RPS0VOLFxyXG4gICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jbGllbnRJZCxcclxuICAgICAgICAgICAgZmFtaWx5SWQ6IGlkLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuS2V5cyA9ICh0b2tlbktleXMgJiYgdG9rZW5LZXlzLnJlZnJlc2hUb2tlbikgfHxcclxuICAgICAgICAgICAgdGhpcy5nZXRUb2tlbktleXMoKS5yZWZyZXNoVG9rZW47XHJcbiAgICAgICAgY29uc3QgcmVmcmVzaFRva2VucyA9IFtdO1xyXG4gICAgICAgIHJlZnJlc2hUb2tlbktleXMuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAgICAgIC8vIFZhbGlkYXRlIGtleVxyXG4gICAgICAgICAgICBpZiAodGhpcy5yZWZyZXNoVG9rZW5LZXlNYXRjaGVzRmlsdGVyKGtleSwgcmVmcmVzaFRva2VuRmlsdGVyKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gdGhpcy5nZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsKGtleSk7XHJcbiAgICAgICAgICAgICAgICAvLyBWYWxpZGF0ZSB2YWx1ZVxyXG4gICAgICAgICAgICAgICAgaWYgKHJlZnJlc2hUb2tlbiAmJlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlZGVudGlhbE1hdGNoZXNGaWx0ZXIocmVmcmVzaFRva2VuLCByZWZyZXNoVG9rZW5GaWx0ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFRva2Vucy5wdXNoKHJlZnJlc2hUb2tlbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBudW1SZWZyZXNoVG9rZW5zID0gcmVmcmVzaFRva2Vucy5sZW5ndGg7XHJcbiAgICAgICAgaWYgKG51bVJlZnJlc2hUb2tlbnMgPCAxKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY29tbW9uTG9nZ2VyLmluZm8oXCJDYWNoZU1hbmFnZXI6Z2V0UmVmcmVzaFRva2VuIC0gTm8gcmVmcmVzaCB0b2tlbiBmb3VuZC5cIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhZGRyZXNzIHRoZSBlbHNlIGNhc2UgYWZ0ZXIgcmVtb3ZlIGZ1bmN0aW9ucyBhZGRyZXNzIGVudmlyb25tZW50IGFsaWFzZXNcclxuICAgICAgICBpZiAobnVtUmVmcmVzaFRva2VucyA+IDEgJiYgcGVyZm9ybWFuY2VDbGllbnQgJiYgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgICAgICBwZXJmb3JtYW5jZUNsaWVudC5hZGRGaWVsZHMoeyBtdWx0aU1hdGNoZWRSVDogbnVtUmVmcmVzaFRva2VucyB9LCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb21tb25Mb2dnZXIuaW5mbyhcIkNhY2hlTWFuYWdlcjpnZXRSZWZyZXNoVG9rZW4gLSByZXR1cm5pbmcgcmVmcmVzaCB0b2tlblwiKTtcclxuICAgICAgICByZXR1cm4gcmVmcmVzaFRva2Vuc1swXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVmFsaWRhdGUgdGhlIGNhY2hlIGtleSBhZ2FpbnN0IGZpbHRlciBiZWZvcmUgcmV0cmlldmluZyBhbmQgcGFyc2luZyBjYWNoZSB2YWx1ZVxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICogQHBhcmFtIGZpbHRlclxyXG4gICAgICovXHJcbiAgICByZWZyZXNoVG9rZW5LZXlNYXRjaGVzRmlsdGVyKGlucHV0S2V5LCBmaWx0ZXIpIHtcclxuICAgICAgICBjb25zdCBrZXkgPSBpbnB1dEtleS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChmaWx0ZXIuZmFtaWx5SWQgJiZcclxuICAgICAgICAgICAga2V5LmluZGV4T2YoZmlsdGVyLmZhbWlseUlkLnRvTG93ZXJDYXNlKCkpID09PSAtMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIGZhbWlseUlkIGlzIHVzZWQsIGNsaWVudElkIGlzIG5vdCBpbiB0aGUga2V5XHJcbiAgICAgICAgaWYgKCFmaWx0ZXIuZmFtaWx5SWQgJiZcclxuICAgICAgICAgICAgZmlsdGVyLmNsaWVudElkICYmXHJcbiAgICAgICAgICAgIGtleS5pbmRleE9mKGZpbHRlci5jbGllbnRJZC50b0xvd2VyQ2FzZSgpKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZmlsdGVyLmhvbWVBY2NvdW50SWQgJiZcclxuICAgICAgICAgICAga2V5LmluZGV4T2YoZmlsdGVyLmhvbWVBY2NvdW50SWQudG9Mb3dlckNhc2UoKSkgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHJpZXZlIEFwcE1ldGFkYXRhRW50aXR5IGZyb20gY2FjaGVcclxuICAgICAqL1xyXG4gICAgcmVhZEFwcE1ldGFkYXRhRnJvbUNhY2hlKGVudmlyb25tZW50KSB7XHJcbiAgICAgICAgY29uc3QgYXBwTWV0YWRhdGFGaWx0ZXIgPSB7XHJcbiAgICAgICAgICAgIGVudmlyb25tZW50LFxyXG4gICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jbGllbnRJZCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGFwcE1ldGFkYXRhID0gdGhpcy5nZXRBcHBNZXRhZGF0YUZpbHRlcmVkQnkoYXBwTWV0YWRhdGFGaWx0ZXIpO1xyXG4gICAgICAgIGNvbnN0IGFwcE1ldGFkYXRhRW50cmllcyA9IE9iamVjdC5rZXlzKGFwcE1ldGFkYXRhKS5tYXAoKGtleSkgPT4gYXBwTWV0YWRhdGFba2V5XSk7XHJcbiAgICAgICAgY29uc3QgbnVtQXBwTWV0YWRhdGEgPSBhcHBNZXRhZGF0YUVudHJpZXMubGVuZ3RoO1xyXG4gICAgICAgIGlmIChudW1BcHBNZXRhZGF0YSA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKG51bUFwcE1ldGFkYXRhID4gMSkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobXVsdGlwbGVNYXRjaGluZ0FwcE1ldGFkYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFwcE1ldGFkYXRhRW50cmllc1swXTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJuIHRoZSBmYW1pbHlfaWQgdmFsdWUgYXNzb2NpYXRlZCAgd2l0aCBGT0NJXHJcbiAgICAgKiBAcGFyYW0gZW52aXJvbm1lbnRcclxuICAgICAqIEBwYXJhbSBjbGllbnRJZFxyXG4gICAgICovXHJcbiAgICBpc0FwcE1ldGFkYXRhRk9DSShlbnZpcm9ubWVudCkge1xyXG4gICAgICAgIGNvbnN0IGFwcE1ldGFkYXRhID0gdGhpcy5yZWFkQXBwTWV0YWRhdGFGcm9tQ2FjaGUoZW52aXJvbm1lbnQpO1xyXG4gICAgICAgIHJldHVybiAhIShhcHBNZXRhZGF0YSAmJiBhcHBNZXRhZGF0YS5mYW1pbHlJZCA9PT0gVEhFX0ZBTUlMWV9JRCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGhlbHBlciB0byBtYXRjaCBhY2NvdW50IGlkc1xyXG4gICAgICogQHBhcmFtIHZhbHVlXHJcbiAgICAgKiBAcGFyYW0gaG9tZUFjY291bnRJZFxyXG4gICAgICovXHJcbiAgICBtYXRjaEhvbWVBY2NvdW50SWQoZW50aXR5LCBob21lQWNjb3VudElkKSB7XHJcbiAgICAgICAgcmV0dXJuICEhKHR5cGVvZiBlbnRpdHkuaG9tZUFjY291bnRJZCA9PT0gXCJzdHJpbmdcIiAmJlxyXG4gICAgICAgICAgICBob21lQWNjb3VudElkID09PSBlbnRpdHkuaG9tZUFjY291bnRJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGhlbHBlciB0byBtYXRjaCBhY2NvdW50IGlkc1xyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIGxvY2FsQWNjb3VudElkXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBtYXRjaExvY2FsQWNjb3VudElkRnJvbVRva2VuQ2xhaW1zKHRva2VuQ2xhaW1zLCBsb2NhbEFjY291bnRJZCkge1xyXG4gICAgICAgIGNvbnN0IGlkVG9rZW5Mb2NhbEFjY291bnRJZCA9IHRva2VuQ2xhaW1zLm9pZCB8fCB0b2tlbkNsYWltcy5zdWI7XHJcbiAgICAgICAgcmV0dXJuIGxvY2FsQWNjb3VudElkID09PSBpZFRva2VuTG9jYWxBY2NvdW50SWQ7XHJcbiAgICB9XHJcbiAgICBtYXRjaExvY2FsQWNjb3VudElkRnJvbVRlbmFudFByb2ZpbGUodGVuYW50UHJvZmlsZSwgbG9jYWxBY2NvdW50SWQpIHtcclxuICAgICAgICByZXR1cm4gdGVuYW50UHJvZmlsZS5sb2NhbEFjY291bnRJZCA9PT0gbG9jYWxBY2NvdW50SWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGhlbHBlciB0byBtYXRjaCBuYW1lc1xyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIG5hbWVcclxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGRvd25jYXNlZCBuYW1lIHByb3BlcnRpZXMgYXJlIHByZXNlbnQgYW5kIG1hdGNoIGluIHRoZSBmaWx0ZXIgYW5kIHRoZSBlbnRpdHlcclxuICAgICAqL1xyXG4gICAgbWF0Y2hOYW1lKGNsYWltcywgbmFtZSkge1xyXG4gICAgICAgIHJldHVybiAhIShuYW1lLnRvTG93ZXJDYXNlKCkgPT09IGNsYWltcy5uYW1lPy50b0xvd2VyQ2FzZSgpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogaGVscGVyIHRvIG1hdGNoIHVzZXJuYW1lc1xyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIHVzZXJuYW1lXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBtYXRjaFVzZXJuYW1lKGNhY2hlZFVzZXJuYW1lLCBmaWx0ZXJVc2VybmFtZSkge1xyXG4gICAgICAgIHJldHVybiAhIShjYWNoZWRVc2VybmFtZSAmJlxyXG4gICAgICAgICAgICB0eXBlb2YgY2FjaGVkVXNlcm5hbWUgPT09IFwic3RyaW5nXCIgJiZcclxuICAgICAgICAgICAgZmlsdGVyVXNlcm5hbWU/LnRvTG93ZXJDYXNlKCkgPT09IGNhY2hlZFVzZXJuYW1lLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBoZWxwZXIgdG8gbWF0Y2ggYXNzZXJ0aW9uXHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqIEBwYXJhbSBvYm9Bc3NlcnRpb25cclxuICAgICAqL1xyXG4gICAgbWF0Y2hVc2VyQXNzZXJ0aW9uSGFzaChlbnRpdHksIHVzZXJBc3NlcnRpb25IYXNoKSB7XHJcbiAgICAgICAgcmV0dXJuICEhKGVudGl0eS51c2VyQXNzZXJ0aW9uSGFzaCAmJlxyXG4gICAgICAgICAgICB1c2VyQXNzZXJ0aW9uSGFzaCA9PT0gZW50aXR5LnVzZXJBc3NlcnRpb25IYXNoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogaGVscGVyIHRvIG1hdGNoIGVudmlyb25tZW50XHJcbiAgICAgKiBAcGFyYW0gdmFsdWVcclxuICAgICAqIEBwYXJhbSBlbnZpcm9ubWVudFxyXG4gICAgICovXHJcbiAgICBtYXRjaEVudmlyb25tZW50KGVudGl0eSwgZW52aXJvbm1lbnQpIHtcclxuICAgICAgICAvLyBDaGVjayBzdGF0aWMgYXV0aG9yaXR5IG9wdGlvbnMgZmlyc3QgZm9yIGNhc2VzIHdoZXJlIGF1dGhvcml0eSBtZXRhZGF0YSBoYXMgbm90IGJlZW4gcmVzb2x2ZWQgYW5kIGNhY2hlZCB5ZXRcclxuICAgICAgICBpZiAodGhpcy5zdGF0aWNBdXRob3JpdHlPcHRpb25zKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHN0YXRpY0FsaWFzZXMgPSBnZXRBbGlhc2VzRnJvbVN0YXRpY1NvdXJjZXModGhpcy5zdGF0aWNBdXRob3JpdHlPcHRpb25zLCB0aGlzLmNvbW1vbkxvZ2dlcik7XHJcbiAgICAgICAgICAgIGlmIChzdGF0aWNBbGlhc2VzLmluY2x1ZGVzKGVudmlyb25tZW50KSAmJlxyXG4gICAgICAgICAgICAgICAgc3RhdGljQWxpYXNlcy5pbmNsdWRlcyhlbnRpdHkuZW52aXJvbm1lbnQpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBRdWVyeSBtZXRhZGF0YSBjYWNoZSBpZiBubyBzdGF0aWMgYXV0aG9yaXR5IGNvbmZpZ3VyYXRpb24gaGFzIGFsaWFzZXMgdGhhdCBtYXRjaCBlbnZpcm9tZW50XHJcbiAgICAgICAgY29uc3QgY2xvdWRNZXRhZGF0YSA9IHRoaXMuZ2V0QXV0aG9yaXR5TWV0YWRhdGFCeUFsaWFzKGVudmlyb25tZW50KTtcclxuICAgICAgICBpZiAoY2xvdWRNZXRhZGF0YSAmJlxyXG4gICAgICAgICAgICBjbG91ZE1ldGFkYXRhLmFsaWFzZXMuaW5kZXhPZihlbnRpdHkuZW52aXJvbm1lbnQpID4gLTEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogaGVscGVyIHRvIG1hdGNoIGNyZWRlbnRpYWwgdHlwZVxyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIGNyZWRlbnRpYWxUeXBlXHJcbiAgICAgKi9cclxuICAgIG1hdGNoQ3JlZGVudGlhbFR5cGUoZW50aXR5LCBjcmVkZW50aWFsVHlwZSkge1xyXG4gICAgICAgIHJldHVybiAoZW50aXR5LmNyZWRlbnRpYWxUeXBlICYmXHJcbiAgICAgICAgICAgIGNyZWRlbnRpYWxUeXBlLnRvTG93ZXJDYXNlKCkgPT09IGVudGl0eS5jcmVkZW50aWFsVHlwZS50b0xvd2VyQ2FzZSgpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogaGVscGVyIHRvIG1hdGNoIGNsaWVudCBpZHNcclxuICAgICAqIEBwYXJhbSBlbnRpdHlcclxuICAgICAqIEBwYXJhbSBjbGllbnRJZFxyXG4gICAgICovXHJcbiAgICBtYXRjaENsaWVudElkKGVudGl0eSwgY2xpZW50SWQpIHtcclxuICAgICAgICByZXR1cm4gISEoZW50aXR5LmNsaWVudElkICYmIGNsaWVudElkID09PSBlbnRpdHkuY2xpZW50SWQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBoZWxwZXIgdG8gbWF0Y2ggZmFtaWx5IGlkc1xyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIGZhbWlseUlkXHJcbiAgICAgKi9cclxuICAgIG1hdGNoRmFtaWx5SWQoZW50aXR5LCBmYW1pbHlJZCkge1xyXG4gICAgICAgIHJldHVybiAhIShlbnRpdHkuZmFtaWx5SWQgJiYgZmFtaWx5SWQgPT09IGVudGl0eS5mYW1pbHlJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGhlbHBlciB0byBtYXRjaCByZWFsbVxyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIHJlYWxtXHJcbiAgICAgKi9cclxuICAgIG1hdGNoUmVhbG0oZW50aXR5LCByZWFsbSkge1xyXG4gICAgICAgIHJldHVybiAhIShlbnRpdHkucmVhbG0/LnRvTG93ZXJDYXNlKCkgPT09IHJlYWxtLnRvTG93ZXJDYXNlKCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBoZWxwZXIgdG8gbWF0Y2ggbmF0aXZlQWNjb3VudElkXHJcbiAgICAgKiBAcGFyYW0gZW50aXR5XHJcbiAgICAgKiBAcGFyYW0gbmF0aXZlQWNjb3VudElkXHJcbiAgICAgKiBAcmV0dXJucyBib29sZWFuIGluZGljYXRpbmcgdGhlIG1hdGNoIHJlc3VsdFxyXG4gICAgICovXHJcbiAgICBtYXRjaE5hdGl2ZUFjY291bnRJZChlbnRpdHksIG5hdGl2ZUFjY291bnRJZCkge1xyXG4gICAgICAgIHJldHVybiAhIShlbnRpdHkubmF0aXZlQWNjb3VudElkICYmIG5hdGl2ZUFjY291bnRJZCA9PT0gZW50aXR5Lm5hdGl2ZUFjY291bnRJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGhlbHBlciB0byBtYXRjaCBsb2dpbkhpbnQgd2hpY2ggY2FuIGJlIGVpdGhlcjpcclxuICAgICAqIDEuIGxvZ2luX2hpbnQgSUQgdG9rZW4gY2xhaW1cclxuICAgICAqIDIuIHVzZXJuYW1lIGluIGNhY2hlZCBhY2NvdW50IG9iamVjdFxyXG4gICAgICogMy4gdXBuIGluIElEIHRva2VuIGNsYWltc1xyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIGxvZ2luSGludFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgbWF0Y2hMb2dpbkhpbnRGcm9tVG9rZW5DbGFpbXModG9rZW5DbGFpbXMsIGxvZ2luSGludCkge1xyXG4gICAgICAgIGlmICh0b2tlbkNsYWltcy5sb2dpbl9oaW50ID09PSBsb2dpbkhpbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0b2tlbkNsYWltcy5wcmVmZXJyZWRfdXNlcm5hbWUgPT09IGxvZ2luSGludCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRva2VuQ2xhaW1zLnVwbiA9PT0gbG9naW5IaW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB0byBtYXRjaCBzaWRcclxuICAgICAqIEBwYXJhbSBlbnRpdHlcclxuICAgICAqIEBwYXJhbSBzaWRcclxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHNpZCBjbGFpbSBpcyBwcmVzZW50IGFuZCBtYXRjaGVzIHRoZSBmaWx0ZXJcclxuICAgICAqL1xyXG4gICAgbWF0Y2hTaWQoaWRUb2tlbkNsYWltcywgc2lkKSB7XHJcbiAgICAgICAgcmV0dXJuIGlkVG9rZW5DbGFpbXMuc2lkID09PSBzaWQ7XHJcbiAgICB9XHJcbiAgICBtYXRjaEF1dGhvcml0eVR5cGUoZW50aXR5LCBhdXRob3JpdHlUeXBlKSB7XHJcbiAgICAgICAgcmV0dXJuICEhKGVudGl0eS5hdXRob3JpdHlUeXBlICYmXHJcbiAgICAgICAgICAgIGF1dGhvcml0eVR5cGUudG9Mb3dlckNhc2UoKSA9PT0gZW50aXR5LmF1dGhvcml0eVR5cGUudG9Mb3dlckNhc2UoKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdGFyZ2V0IHNjb3BlcyBhcmUgYSBzdWJzZXQgb2YgdGhlIGN1cnJlbnQgZW50aXR5J3Mgc2NvcGVzLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICAgKiBAcGFyYW0gZW50aXR5XHJcbiAgICAgKiBAcGFyYW0gdGFyZ2V0XHJcbiAgICAgKi9cclxuICAgIG1hdGNoVGFyZ2V0KGVudGl0eSwgdGFyZ2V0KSB7XHJcbiAgICAgICAgY29uc3QgaXNOb3RBY2Nlc3NUb2tlbkNyZWRlbnRpYWwgPSBlbnRpdHkuY3JlZGVudGlhbFR5cGUgIT09IENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTiAmJlxyXG4gICAgICAgICAgICBlbnRpdHkuY3JlZGVudGlhbFR5cGUgIT09XHJcbiAgICAgICAgICAgICAgICBDcmVkZW50aWFsVHlwZS5BQ0NFU1NfVE9LRU5fV0lUSF9BVVRIX1NDSEVNRTtcclxuICAgICAgICBpZiAoaXNOb3RBY2Nlc3NUb2tlbkNyZWRlbnRpYWwgfHwgIWVudGl0eS50YXJnZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBlbnRpdHlTY29wZVNldCA9IFNjb3BlU2V0LmZyb21TdHJpbmcoZW50aXR5LnRhcmdldCk7XHJcbiAgICAgICAgcmV0dXJuIGVudGl0eVNjb3BlU2V0LmNvbnRhaW5zU2NvcGVTZXQodGFyZ2V0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjcmVkZW50aWFsJ3MgdG9rZW5UeXBlIG9yIEF1dGhlbnRpY2F0aW9uIFNjaGVtZSBtYXRjaGVzIHRoZSBvbmUgaW4gdGhlIHJlcXVlc3QsIGZhbHNlIG90aGVyd2lzZVxyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICogQHBhcmFtIHRva2VuVHlwZVxyXG4gICAgICovXHJcbiAgICBtYXRjaFRva2VuVHlwZShlbnRpdHksIHRva2VuVHlwZSkge1xyXG4gICAgICAgIHJldHVybiAhIShlbnRpdHkudG9rZW5UeXBlICYmIGVudGl0eS50b2tlblR5cGUgPT09IHRva2VuVHlwZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgY3JlZGVudGlhbCdzIGtleUlkIG1hdGNoZXMgdGhlIG9uZSBpbiB0aGUgcmVxdWVzdCwgZmFsc2Ugb3RoZXJ3aXNlXHJcbiAgICAgKiBAcGFyYW0gZW50aXR5XHJcbiAgICAgKiBAcGFyYW0ga2V5SWRcclxuICAgICAqL1xyXG4gICAgbWF0Y2hLZXlJZChlbnRpdHksIGtleUlkKSB7XHJcbiAgICAgICAgcmV0dXJuICEhKGVudGl0eS5rZXlJZCAmJiBlbnRpdHkua2V5SWQgPT09IGtleUlkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyBpZiBhIGdpdmVuIGNhY2hlIGVudGl0eSBpcyBvZiB0aGUgdHlwZSBhcHBtZXRhZGF0YVxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICBpc0FwcE1ldGFkYXRhKGtleSkge1xyXG4gICAgICAgIHJldHVybiBrZXkuaW5kZXhPZihBUFBfTUVUQURBVEEpICE9PSAtMTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogcmV0dXJucyBpZiBhIGdpdmVuIGNhY2hlIGVudGl0eSBpcyBvZiB0aGUgdHlwZSBhdXRob3JpdHltZXRhZGF0YVxyXG4gICAgICogQHBhcmFtIGtleVxyXG4gICAgICovXHJcbiAgICBpc0F1dGhvcml0eU1ldGFkYXRhKGtleSkge1xyXG4gICAgICAgIHJldHVybiBrZXkuaW5kZXhPZihBVVRIT1JJVFlfTUVUQURBVEFfQ09OU1RBTlRTLkNBQ0hFX0tFWSkgIT09IC0xO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiByZXR1cm5zIGNhY2hlIGtleSB1c2VkIGZvciBjbG91ZCBpbnN0YW5jZSBtZXRhZGF0YVxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZUF1dGhvcml0eU1ldGFkYXRhQ2FjaGVLZXkoYXV0aG9yaXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIGAke0FVVEhPUklUWV9NRVRBREFUQV9DT05TVEFOVFMuQ0FDSEVfS0VZfS0ke3RoaXMuY2xpZW50SWR9LSR7YXV0aG9yaXR5fWA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB0byBjb252ZXJ0IHNlcmlhbGl6ZWQgZGF0YSB0byBvYmplY3RcclxuICAgICAqIEBwYXJhbSBvYmpcclxuICAgICAqIEBwYXJhbSBqc29uXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyB0b09iamVjdChvYmosIGpzb24pIHtcclxuICAgICAgICBmb3IgKGNvbnN0IHByb3BlcnR5TmFtZSBpbiBqc29uKSB7XHJcbiAgICAgICAgICAgIG9ialtwcm9wZXJ0eU5hbWVdID0ganNvbltwcm9wZXJ0eU5hbWVdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb2JqO1xyXG4gICAgfVxyXG59XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuY2xhc3MgRGVmYXVsdFN0b3JhZ2VDbGFzcyBleHRlbmRzIENhY2hlTWFuYWdlciB7XHJcbiAgICBzZXRBY2NvdW50KCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9XHJcbiAgICBnZXRBY2NvdW50KCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9XHJcbiAgICBnZXRDYWNoZWRBY2NvdW50RW50aXR5KCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9XHJcbiAgICBzZXRJZFRva2VuQ3JlZGVudGlhbCgpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfVxyXG4gICAgZ2V0SWRUb2tlbkNyZWRlbnRpYWwoKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKG1ldGhvZE5vdEltcGxlbWVudGVkKTtcclxuICAgIH1cclxuICAgIHNldEFjY2Vzc1Rva2VuQ3JlZGVudGlhbCgpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfVxyXG4gICAgZ2V0QWNjZXNzVG9rZW5DcmVkZW50aWFsKCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9XHJcbiAgICBzZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsKCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9XHJcbiAgICBnZXRSZWZyZXNoVG9rZW5DcmVkZW50aWFsKCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9XHJcbiAgICBzZXRBcHBNZXRhZGF0YSgpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfVxyXG4gICAgZ2V0QXBwTWV0YWRhdGEoKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKG1ldGhvZE5vdEltcGxlbWVudGVkKTtcclxuICAgIH1cclxuICAgIHNldFNlcnZlclRlbGVtZXRyeSgpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfVxyXG4gICAgZ2V0U2VydmVyVGVsZW1ldHJ5KCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9XHJcbiAgICBzZXRBdXRob3JpdHlNZXRhZGF0YSgpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfVxyXG4gICAgZ2V0QXV0aG9yaXR5TWV0YWRhdGEoKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKG1ldGhvZE5vdEltcGxlbWVudGVkKTtcclxuICAgIH1cclxuICAgIGdldEF1dGhvcml0eU1ldGFkYXRhS2V5cygpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfVxyXG4gICAgc2V0VGhyb3R0bGluZ0NhY2hlKCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9XHJcbiAgICBnZXRUaHJvdHRsaW5nQ2FjaGUoKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKG1ldGhvZE5vdEltcGxlbWVudGVkKTtcclxuICAgIH1cclxuICAgIHJlbW92ZUl0ZW0oKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKG1ldGhvZE5vdEltcGxlbWVudGVkKTtcclxuICAgIH1cclxuICAgIGdldEtleXMoKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKG1ldGhvZE5vdEltcGxlbWVudGVkKTtcclxuICAgIH1cclxuICAgIGdldEFjY291bnRLZXlzKCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9XHJcbiAgICBnZXRUb2tlbktleXMoKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKG1ldGhvZE5vdEltcGxlbWVudGVkKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZUNyZWRlbnRpYWxDYWNoZUtleSgpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlT3V0ZGF0ZWRBY2NvdW50KCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgQ2FjaGVNYW5hZ2VyLCBEZWZhdWx0U3RvcmFnZUNsYXNzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DYWNoZU1hbmFnZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbIlNlcGFyYXRvcnMiLCJDcmVkZW50aWFsVHlwZSIsIkF1dGhlbnRpY2F0aW9uU2NoZW1lIiwiVEhFX0ZBTUlMWV9JRCIsIkFQUF9NRVRBREFUQSIsIkFVVEhPUklUWV9NRVRBREFUQV9DT05TVEFOVFMiLCJnZW5lcmF0ZUNyZWRlbnRpYWxLZXkiLCJTY29wZVNldCIsIkFjY291bnRFbnRpdHkiLCJjcmVhdGVDbGllbnRBdXRoRXJyb3IiLCJ1cGRhdGVBY2NvdW50VGVuYW50UHJvZmlsZURhdGEiLCJ0ZW5hbnRJZE1hdGNoZXNIb21lVGVuYW50IiwiZXh0cmFjdFRva2VuQ2xhaW1zIiwibmFtZSIsInZlcnNpb24iLCJnZXRBbGlhc2VzRnJvbVN0YXRpY1NvdXJjZXMiLCJDYWNoZUVycm9yIiwiaW52YWxpZENhY2hlUmVjb3JkIiwiYmluZGluZ0tleU5vdFJlbW92ZWQiLCJtdWx0aXBsZU1hdGNoaW5nQXBwTWV0YWRhdGEiLCJtZXRob2ROb3RJbXBsZW1lbnRlZCIsImNhY2hlUXVvdGFFeGNlZWRlZEVycm9yQ29kZSIsImNhY2hlVW5rbm93bkVycm9yQ29kZSIsIkNhY2hlTWFuYWdlciIsImNvbnN0cnVjdG9yIiwiY2xpZW50SWQiLCJjcnlwdG9JbXBsIiwibG9nZ2VyIiwic3RhdGljQXV0aG9yaXR5T3B0aW9ucyIsImNvbW1vbkxvZ2dlciIsImNsb25lIiwiZ2V0QWxsQWNjb3VudHMiLCJhY2NvdW50RmlsdGVyIiwiYnVpbGRUZW5hbnRQcm9maWxlcyIsImdldEFjY291bnRzRmlsdGVyZWRCeSIsImdldEFjY291bnRJbmZvRmlsdGVyZWRCeSIsImFsbEFjY291bnRzIiwibGVuZ3RoIiwic29ydGVkQWNjb3VudHMiLCJzb3J0IiwiYWNjb3VudCIsImlkVG9rZW5DbGFpbXMiLCJnZXRCYXNlQWNjb3VudEluZm8iLCJhY2NvdW50RW50aXRpZXMiLCJnZXRBY2NvdW50SW5mbyIsImNhY2hlZEFjY291bnRzIiwiZmxhdE1hcCIsImFjY291bnRFbnRpdHkiLCJnZXRUZW5hbnRQcm9maWxlc0Zyb21BY2NvdW50RW50aXR5IiwidGVuYW50SWQiLCJnZXRUZW5hbnRlZEFjY291bnRJbmZvQnlGaWx0ZXIiLCJhY2NvdW50SW5mbyIsInRva2VuS2V5cyIsInRlbmFudFByb2ZpbGUiLCJ0ZW5hbnRQcm9maWxlRmlsdGVyIiwidGVuYW50ZWRBY2NvdW50SW5mbyIsInRlbmFudFByb2ZpbGVNYXRjaGVzRmlsdGVyIiwiaWRUb2tlbiIsImdldElkVG9rZW4iLCJzZWNyZXQiLCJiYXNlNjREZWNvZGUiLCJpZFRva2VuQ2xhaW1zTWF0Y2hUZW5hbnRQcm9maWxlRmlsdGVyIiwidGFyZ2V0VGVuYW50SWQiLCJzZWFyY2hUZW5hbnRQcm9maWxlcyIsInRlbmFudFByb2ZpbGVzIiwiTWFwIiwiZ2V0VG9rZW5LZXlzIiwiZ2V0IiwibWF0Y2hpbmdUZW5hbnRQcm9maWxlcyIsImZvckVhY2giLCJwdXNoIiwibG9jYWxBY2NvdW50SWQiLCJtYXRjaExvY2FsQWNjb3VudElkRnJvbVRlbmFudFByb2ZpbGUiLCJpc0hvbWVUZW5hbnQiLCJ1bmRlZmluZWQiLCJtYXRjaExvY2FsQWNjb3VudElkRnJvbVRva2VuQ2xhaW1zIiwibG9naW5IaW50IiwibWF0Y2hMb2dpbkhpbnRGcm9tVG9rZW5DbGFpbXMiLCJ1c2VybmFtZSIsIm1hdGNoVXNlcm5hbWUiLCJwcmVmZXJyZWRfdXNlcm5hbWUiLCJtYXRjaE5hbWUiLCJzaWQiLCJtYXRjaFNpZCIsInNhdmVDYWNoZVJlY29yZCIsImNhY2hlUmVjb3JkIiwic3RvcmVJbkNhY2hlIiwiY29ycmVsYXRpb25JZCIsInNldEFjY291bnQiLCJzZXRJZFRva2VuQ3JlZGVudGlhbCIsImFjY2Vzc1Rva2VuIiwic2F2ZUFjY2Vzc1Rva2VuIiwicmVmcmVzaFRva2VuIiwic2V0UmVmcmVzaFRva2VuQ3JlZGVudGlhbCIsImFwcE1ldGFkYXRhIiwic2V0QXBwTWV0YWRhdGEiLCJlIiwiZXJyb3IiLCJFcnJvciIsImVycm9yUGlpIiwibWVzc2FnZSIsImluY2x1ZGVzIiwiY3JlZGVudGlhbCIsImFjY2Vzc1Rva2VuRmlsdGVyIiwiY3JlZGVudGlhbFR5cGUiLCJlbnZpcm9ubWVudCIsImhvbWVBY2NvdW50SWQiLCJyZWFsbSIsInRva2VuVHlwZSIsInJlcXVlc3RlZENsYWltc0hhc2giLCJjdXJyZW50U2NvcGVzIiwiZnJvbVN0cmluZyIsInRhcmdldCIsInJlbW92ZWRBY2Nlc3NUb2tlbnMiLCJrZXkiLCJhY2Nlc3NUb2tlbktleU1hdGNoZXNGaWx0ZXIiLCJ0b2tlbkVudGl0eSIsImdldEFjY2Vzc1Rva2VuQ3JlZGVudGlhbCIsImNyZWRlbnRpYWxNYXRjaGVzRmlsdGVyIiwidG9rZW5TY29wZVNldCIsImludGVyc2VjdGluZ1Njb3BlU2V0cyIsInJlbW92ZUFjY2Vzc1Rva2VuIiwiUHJvbWlzZSIsImFsbCIsInNldEFjY2Vzc1Rva2VuQ3JlZGVudGlhbCIsImFsbEFjY291bnRLZXlzIiwiZ2V0QWNjb3VudEtleXMiLCJtYXRjaGluZ0FjY291bnRzIiwiY2FjaGVLZXkiLCJpc0FjY291bnRLZXkiLCJlbnRpdHkiLCJnZXRBY2NvdW50IiwibWF0Y2hIb21lQWNjb3VudElkIiwibWF0Y2hFbnZpcm9ubWVudCIsIm1hdGNoUmVhbG0iLCJuYXRpdmVBY2NvdW50SWQiLCJtYXRjaE5hdGl2ZUFjY291bnRJZCIsImF1dGhvcml0eVR5cGUiLCJtYXRjaEF1dGhvcml0eVR5cGUiLCJmaWx0ZXIiLCJzcGxpdCIsIkNBQ0hFX0tFWV9TRVBBUkFUT1IiLCJ0b0xvd2VyQ2FzZSIsImlzQ3JlZGVudGlhbEtleSIsImxvd2VyQ2FzZUtleSIsImluZGV4T2YiLCJJRF9UT0tFTiIsIkFDQ0VTU19UT0tFTiIsIkFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FIiwiUkVGUkVTSF9UT0tFTiIsImNsaWVudElkVmFsaWRhdGlvbiIsImZhbWlseUlkVmFsaWRhdGlvbiIsIm1hdGNoQ2xpZW50SWQiLCJ1c2VyQXNzZXJ0aW9uSGFzaCIsIm1hdGNoVXNlckFzc2VydGlvbkhhc2giLCJtYXRjaENyZWRlbnRpYWxUeXBlIiwiZmFtaWx5SWQiLCJtYXRjaEZhbWlseUlkIiwibWF0Y2hUYXJnZXQiLCJtYXRjaFRva2VuVHlwZSIsIlNTSCIsImtleUlkIiwibWF0Y2hLZXlJZCIsImdldEFwcE1ldGFkYXRhRmlsdGVyZWRCeSIsImFsbENhY2hlS2V5cyIsImdldEtleXMiLCJtYXRjaGluZ0FwcE1ldGFkYXRhIiwiaXNBcHBNZXRhZGF0YSIsImdldEFwcE1ldGFkYXRhIiwiZ2V0QXV0aG9yaXR5TWV0YWRhdGFCeUFsaWFzIiwiaG9zdCIsImdldEF1dGhvcml0eU1ldGFkYXRhS2V5cyIsIm1hdGNoZWRFbnRpdHkiLCJpc0F1dGhvcml0eU1ldGFkYXRhIiwiZ2V0QXV0aG9yaXR5TWV0YWRhdGEiLCJhbGlhc2VzIiwicmVtb3ZlQWxsQWNjb3VudHMiLCJyZW1vdmVkQWNjb3VudHMiLCJyZW1vdmVBY2NvdW50IiwiYWNjb3VudEtleSIsInJlbW92ZUFjY291bnRDb250ZXh0IiwicmVtb3ZlSXRlbSIsImFsbFRva2VuS2V5cyIsImFjY291bnRJZCIsImdlbmVyYXRlQWNjb3VudElkIiwicmVtb3ZlZENyZWRlbnRpYWxzIiwicmVtb3ZlSWRUb2tlbiIsInJlbW92ZVJlZnJlc2hUb2tlbiIsInVwZGF0ZU91dGRhdGVkQ2FjaGVkQWNjb3VudCIsImlzU2luZ2xlVGVuYW50IiwidmVyYm9zZSIsIm1hdGNoaW5nQWNjb3VudEtleXMiLCJzdGFydHNXaXRoIiwiYWNjb3VudHNUb01lcmdlIiwiZ2V0Q2FjaGVkQWNjb3VudEVudGl0eSIsImJhc2VBY2NvdW50IiwiZmluZCIsIm1hcCIsInVwZGF0ZWRBY2NvdW50IiwidG9PYmplY3QiLCJuZXdBY2NvdW50S2V5IiwiZ2VuZXJhdGVBY2NvdW50S2V5IiwicmVtb3ZlT3V0ZGF0ZWRBY2NvdW50IiwiUE9QIiwiYWNjZXNzVG9rZW5XaXRoQXV0aFNjaGVtZUVudGl0eSIsImtpZCIsInJlbW92ZVRva2VuQmluZGluZ0tleSIsInJlbW92ZUFwcE1ldGFkYXRhIiwicmVhZEFjY291bnRGcm9tQ2FjaGUiLCJnZW5lcmF0ZUFjY291bnRDYWNoZUtleSIsInRhcmdldFJlYWxtIiwicGVyZm9ybWFuY2VDbGllbnQiLCJ0cmFjZSIsImlkVG9rZW5GaWx0ZXIiLCJpZFRva2VuTWFwIiwiZ2V0SWRUb2tlbnNCeUZpbHRlciIsIm51bUlkVG9rZW5zIiwic2l6ZSIsImluZm8iLCJ0b2tlbnNUb0JlUmVtb3ZlZCIsImhvbWVJZFRva2VuTWFwIiwic2V0IiwibnVtSG9tZUlkVG9rZW5zIiwidmFsdWVzIiwibmV4dCIsInZhbHVlIiwiYWRkRmllbGRzIiwibXVsdGlNYXRjaGVkSUQiLCJpZFRva2VuS2V5cyIsImlkVG9rZW5zIiwiaWRUb2tlbktleU1hdGNoZXNGaWx0ZXIiLCJnZXRJZFRva2VuQ3JlZGVudGlhbCIsImlucHV0S2V5IiwiZ2V0QWNjZXNzVG9rZW4iLCJyZXF1ZXN0Iiwic2NvcGVzIiwiY3JlYXRlU2VhcmNoU2NvcGVzIiwiYXV0aFNjaGVtZSIsImF1dGhlbnRpY2F0aW9uU2NoZW1lIiwiQkVBUkVSIiwic3NoS2lkIiwiYWNjZXNzVG9rZW5LZXlzIiwiYWNjZXNzVG9rZW5zIiwibnVtQWNjZXNzVG9rZW5zIiwibXVsdGlNYXRjaGVkQVQiLCJrZXlNdXN0Q29udGFpbkFsbFNjb3BlcyIsImFzQXJyYXkiLCJpIiwiZ2V0QWNjZXNzVG9rZW5zQnlGaWx0ZXIiLCJnZXRSZWZyZXNoVG9rZW4iLCJmYW1pbHlSVCIsImlkIiwicmVmcmVzaFRva2VuRmlsdGVyIiwicmVmcmVzaFRva2VuS2V5cyIsInJlZnJlc2hUb2tlbnMiLCJyZWZyZXNoVG9rZW5LZXlNYXRjaGVzRmlsdGVyIiwiZ2V0UmVmcmVzaFRva2VuQ3JlZGVudGlhbCIsIm51bVJlZnJlc2hUb2tlbnMiLCJtdWx0aU1hdGNoZWRSVCIsInJlYWRBcHBNZXRhZGF0YUZyb21DYWNoZSIsImFwcE1ldGFkYXRhRmlsdGVyIiwiYXBwTWV0YWRhdGFFbnRyaWVzIiwiT2JqZWN0Iiwia2V5cyIsIm51bUFwcE1ldGFkYXRhIiwiaXNBcHBNZXRhZGF0YUZPQ0kiLCJ0b2tlbkNsYWltcyIsImlkVG9rZW5Mb2NhbEFjY291bnRJZCIsIm9pZCIsInN1YiIsImNsYWltcyIsImNhY2hlZFVzZXJuYW1lIiwiZmlsdGVyVXNlcm5hbWUiLCJzdGF0aWNBbGlhc2VzIiwiY2xvdWRNZXRhZGF0YSIsImxvZ2luX2hpbnQiLCJ1cG4iLCJpc05vdEFjY2Vzc1Rva2VuQ3JlZGVudGlhbCIsImVudGl0eVNjb3BlU2V0IiwiY29udGFpbnNTY29wZVNldCIsIkNBQ0hFX0tFWSIsImdlbmVyYXRlQXV0aG9yaXR5TWV0YWRhdGFDYWNoZUtleSIsImF1dGhvcml0eSIsIm9iaiIsImpzb24iLCJwcm9wZXJ0eU5hbWUiLCJEZWZhdWx0U3RvcmFnZUNsYXNzIiwic2V0U2VydmVyVGVsZW1ldHJ5IiwiZ2V0U2VydmVyVGVsZW1ldHJ5Iiwic2V0QXV0aG9yaXR5TWV0YWRhdGEiLCJzZXRUaHJvdHRsaW5nQ2FjaGUiLCJnZXRUaHJvdHRsaW5nQ2FjaGUiLCJ1cGRhdGVDcmVkZW50aWFsQ2FjaGVLZXkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/cache/CacheManager.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/cache/entities/AccountEntity.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/cache/entities/AccountEntity.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AccountEntity: () => (/* binding */ AccountEntity)\n/* harmony export */ });\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../account/ClientInfo.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/ClientInfo.mjs\");\n/* harmony import */ var _account_AccountInfo_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../account/AccountInfo.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AccountInfo.mjs\");\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _authority_AuthorityType_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../authority/AuthorityType.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityType.mjs\");\n/* harmony import */ var _account_TokenClaims_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../account/TokenClaims.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/TokenClaims.mjs\");\n/* harmony import */ var _authority_ProtocolMode_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../authority/ProtocolMode.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/ProtocolMode.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Type that defines required and optional parameters for an Account field (based on universal cache schema implemented by all MSALs).\r\n *\r\n * Key : Value Schema\r\n *\r\n * Key: <home_account_id>-<environment>-<realm*>\r\n *\r\n * Value Schema:\r\n * {\r\n *      homeAccountId: home account identifier for the auth scheme,\r\n *      environment: entity that issued the token, represented as a full host\r\n *      realm: Full tenant or organizational identifier that the account belongs to\r\n *      localAccountId: Original tenant-specific accountID, usually used for legacy cases\r\n *      username: primary username that represents the user, usually corresponds to preferred_username in the v2 endpt\r\n *      authorityType: Accounts authority type as a string\r\n *      name: Full name for the account, including given name and family name,\r\n *      lastModificationTime: last time this entity was modified in the cache\r\n *      lastModificationApp:\r\n *      nativeAccountId: Account identifier on the native device\r\n *      tenantProfiles: Array of tenant profile objects for each tenant that the account has authenticated with in the browser\r\n * }\r\n * @internal\r\n */ class AccountEntity {\n    /**\r\n     * Generate Account Id key component as per the schema: <home_account_id>-<environment>\r\n     */ generateAccountId() {\n        const accountId = [\n            this.homeAccountId,\n            this.environment\n        ];\n        return accountId.join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Separators.CACHE_KEY_SEPARATOR).toLowerCase();\n    }\n    /**\r\n     * Generate Account Cache Key as per the schema: <home_account_id>-<environment>-<realm*>\r\n     */ generateAccountKey() {\n        return AccountEntity.generateAccountCacheKey({\n            homeAccountId: this.homeAccountId,\n            environment: this.environment,\n            tenantId: this.realm,\n            username: this.username,\n            localAccountId: this.localAccountId\n        });\n    }\n    /**\r\n     * Returns the AccountInfo interface for this account.\r\n     */ getAccountInfo() {\n        return {\n            homeAccountId: this.homeAccountId,\n            environment: this.environment,\n            tenantId: this.realm,\n            username: this.username,\n            localAccountId: this.localAccountId,\n            name: this.name,\n            nativeAccountId: this.nativeAccountId,\n            authorityType: this.authorityType,\n            // Deserialize tenant profiles array into a Map\n            tenantProfiles: new Map((this.tenantProfiles || []).map((tenantProfile)=>{\n                return [\n                    tenantProfile.tenantId,\n                    tenantProfile\n                ];\n            }))\n        };\n    }\n    /**\r\n     * Returns true if the account entity is in single tenant format (outdated), false otherwise\r\n     */ isSingleTenant() {\n        return !this.tenantProfiles;\n    }\n    /**\r\n     * Generates account key from interface\r\n     * @param accountInterface\r\n     */ static generateAccountCacheKey(accountInterface) {\n        const homeTenantId = accountInterface.homeAccountId.split(\".\")[1];\n        const accountKey = [\n            accountInterface.homeAccountId,\n            accountInterface.environment || \"\",\n            homeTenantId || accountInterface.tenantId || \"\"\n        ];\n        return accountKey.join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Separators.CACHE_KEY_SEPARATOR).toLowerCase();\n    }\n    /**\r\n     * Build Account cache from IdToken, clientInfo and authority/policy. Associated with AAD.\r\n     * @param accountDetails\r\n     */ static createAccount(accountDetails, authority, base64Decode) {\n        const account = new AccountEntity();\n        if (authority.authorityType === _authority_AuthorityType_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityType.Adfs) {\n            account.authorityType = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CacheAccountType.ADFS_ACCOUNT_TYPE;\n        } else if (authority.protocolMode === _authority_ProtocolMode_mjs__WEBPACK_IMPORTED_MODULE_2__.ProtocolMode.AAD) {\n            account.authorityType = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CacheAccountType.MSSTS_ACCOUNT_TYPE;\n        } else {\n            account.authorityType = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CacheAccountType.GENERIC_ACCOUNT_TYPE;\n        }\n        let clientInfo;\n        if (accountDetails.clientInfo && base64Decode) {\n            clientInfo = (0,_account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_3__.buildClientInfo)(accountDetails.clientInfo, base64Decode);\n        }\n        account.clientInfo = accountDetails.clientInfo;\n        account.homeAccountId = accountDetails.homeAccountId;\n        account.nativeAccountId = accountDetails.nativeAccountId;\n        const env = accountDetails.environment || authority && authority.getPreferredCache();\n        if (!env) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.invalidCacheEnvironment);\n        }\n        account.environment = env;\n        // non AAD scenarios can have empty realm\n        account.realm = clientInfo?.utid || (0,_account_TokenClaims_mjs__WEBPACK_IMPORTED_MODULE_6__.getTenantIdFromIdTokenClaims)(accountDetails.idTokenClaims) || \"\";\n        // How do you account for MSA CID here?\n        account.localAccountId = clientInfo?.uid || accountDetails.idTokenClaims?.oid || accountDetails.idTokenClaims?.sub || \"\";\n        /*\r\n         * In B2C scenarios the emails claim is used instead of preferred_username and it is an array.\r\n         * In most cases it will contain a single email. This field should not be relied upon if a custom\r\n         * policy is configured to return more than 1 email.\r\n         */ const preferredUsername = accountDetails.idTokenClaims?.preferred_username || accountDetails.idTokenClaims?.upn;\n        const email = accountDetails.idTokenClaims?.emails ? accountDetails.idTokenClaims.emails[0] : null;\n        account.username = preferredUsername || email || \"\";\n        account.name = accountDetails.idTokenClaims?.name || \"\";\n        account.cloudGraphHostName = accountDetails.cloudGraphHostName;\n        account.msGraphHost = accountDetails.msGraphHost;\n        if (accountDetails.tenantProfiles) {\n            account.tenantProfiles = accountDetails.tenantProfiles;\n        } else {\n            const tenantProfile = (0,_account_AccountInfo_mjs__WEBPACK_IMPORTED_MODULE_7__.buildTenantProfile)(accountDetails.homeAccountId, account.localAccountId, account.realm, accountDetails.idTokenClaims);\n            account.tenantProfiles = [\n                tenantProfile\n            ];\n        }\n        return account;\n    }\n    /**\r\n     * Creates an AccountEntity object from AccountInfo\r\n     * @param accountInfo\r\n     * @param cloudGraphHostName\r\n     * @param msGraphHost\r\n     * @returns\r\n     */ static createFromAccountInfo(accountInfo, cloudGraphHostName, msGraphHost) {\n        const account = new AccountEntity();\n        account.authorityType = accountInfo.authorityType || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CacheAccountType.GENERIC_ACCOUNT_TYPE;\n        account.homeAccountId = accountInfo.homeAccountId;\n        account.localAccountId = accountInfo.localAccountId;\n        account.nativeAccountId = accountInfo.nativeAccountId;\n        account.realm = accountInfo.tenantId;\n        account.environment = accountInfo.environment;\n        account.username = accountInfo.username;\n        account.name = accountInfo.name;\n        account.cloudGraphHostName = cloudGraphHostName;\n        account.msGraphHost = msGraphHost;\n        // Serialize tenant profiles map into an array\n        account.tenantProfiles = Array.from(accountInfo.tenantProfiles?.values() || []);\n        return account;\n    }\n    /**\r\n     * Generate HomeAccountId from server response\r\n     * @param serverClientInfo\r\n     * @param authType\r\n     */ static generateHomeAccountId(serverClientInfo, authType, logger, cryptoObj, idTokenClaims) {\n        // since ADFS/DSTS do not have tid and does not set client_info\n        if (!(authType === _authority_AuthorityType_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityType.Adfs || authType === _authority_AuthorityType_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthorityType.Dsts)) {\n            // for cases where there is clientInfo\n            if (serverClientInfo) {\n                try {\n                    const clientInfo = (0,_account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_3__.buildClientInfo)(serverClientInfo, cryptoObj.base64Decode);\n                    if (clientInfo.uid && clientInfo.utid) {\n                        return `${clientInfo.uid}.${clientInfo.utid}`;\n                    }\n                } catch (e) {}\n            }\n            logger.warning(\"No client info in response\");\n        }\n        // default to \"sub\" claim\n        return idTokenClaims?.sub || \"\";\n    }\n    /**\r\n     * Validates an entity: checks for all expected params\r\n     * @param entity\r\n     */ static isAccountEntity(entity) {\n        if (!entity) {\n            return false;\n        }\n        return entity.hasOwnProperty(\"homeAccountId\") && entity.hasOwnProperty(\"environment\") && entity.hasOwnProperty(\"realm\") && entity.hasOwnProperty(\"localAccountId\") && entity.hasOwnProperty(\"username\") && entity.hasOwnProperty(\"authorityType\");\n    }\n    /**\r\n     * Helper function to determine whether 2 accountInfo objects represent the same account\r\n     * @param accountA\r\n     * @param accountB\r\n     * @param compareClaims - If set to true idTokenClaims will also be compared to determine account equality\r\n     */ static accountInfoIsEqual(accountA, accountB, compareClaims) {\n        if (!accountA || !accountB) {\n            return false;\n        }\n        let claimsMatch = true; // default to true so as to not fail comparison below if compareClaims: false\n        if (compareClaims) {\n            const accountAClaims = accountA.idTokenClaims || {};\n            const accountBClaims = accountB.idTokenClaims || {};\n            // issued at timestamp and nonce are expected to change each time a new id token is acquired\n            claimsMatch = accountAClaims.iat === accountBClaims.iat && accountAClaims.nonce === accountBClaims.nonce;\n        }\n        return accountA.homeAccountId === accountB.homeAccountId && accountA.localAccountId === accountB.localAccountId && accountA.username === accountB.username && accountA.tenantId === accountB.tenantId && accountA.environment === accountB.environment && accountA.nativeAccountId === accountB.nativeAccountId && claimsMatch;\n    }\n}\n //# sourceMappingURL=AccountEntity.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2FjaGUvZW50aXRpZXMvQWNjb3VudEVudGl0eS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ3lFO0FBQ1Y7QUFDSTtBQUNLO0FBQ047QUFDVztBQUNiO0FBQ2U7QUFFL0U7OztDQUdDLEdBQ0Q7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FzQkMsR0FDRCxNQUFNUztJQUNGOztLQUVDLEdBQ0RDLG9CQUFvQjtRQUNoQixNQUFNQyxZQUFZO1lBQUMsSUFBSSxDQUFDQyxhQUFhO1lBQUUsSUFBSSxDQUFDQyxXQUFXO1NBQUM7UUFDeEQsT0FBT0YsVUFBVUcsSUFBSSxDQUFDZCw0REFBVUEsQ0FBQ2UsbUJBQW1CLEVBQUVDLFdBQVc7SUFDckU7SUFDQTs7S0FFQyxHQUNEQyxxQkFBcUI7UUFDakIsT0FBT1IsY0FBY1MsdUJBQXVCLENBQUM7WUFDekNOLGVBQWUsSUFBSSxDQUFDQSxhQUFhO1lBQ2pDQyxhQUFhLElBQUksQ0FBQ0EsV0FBVztZQUM3Qk0sVUFBVSxJQUFJLENBQUNDLEtBQUs7WUFDcEJDLFVBQVUsSUFBSSxDQUFDQSxRQUFRO1lBQ3ZCQyxnQkFBZ0IsSUFBSSxDQUFDQSxjQUFjO1FBQ3ZDO0lBQ0o7SUFDQTs7S0FFQyxHQUNEQyxpQkFBaUI7UUFDYixPQUFPO1lBQ0hYLGVBQWUsSUFBSSxDQUFDQSxhQUFhO1lBQ2pDQyxhQUFhLElBQUksQ0FBQ0EsV0FBVztZQUM3Qk0sVUFBVSxJQUFJLENBQUNDLEtBQUs7WUFDcEJDLFVBQVUsSUFBSSxDQUFDQSxRQUFRO1lBQ3ZCQyxnQkFBZ0IsSUFBSSxDQUFDQSxjQUFjO1lBQ25DRSxNQUFNLElBQUksQ0FBQ0EsSUFBSTtZQUNmQyxpQkFBaUIsSUFBSSxDQUFDQSxlQUFlO1lBQ3JDQyxlQUFlLElBQUksQ0FBQ0EsYUFBYTtZQUNqQywrQ0FBK0M7WUFDL0NDLGdCQUFnQixJQUFJQyxJQUFJLENB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S0FBS29FLFNBQVNwRSxhQUFhLElBQ3JEbUUsU0FBU3pELGNBQWMsS0FBSzBELFNBQVMxRCxjQUFjLElBQ25EeUQsU0FBUzFELFFBQVEsS0FBSzJELFNBQVMzRCxRQUFRLElBQ3ZDMEQsU0FBUzVELFFBQVEsS0FBSzZELFNBQVM3RCxRQUFRLElBQ3ZDNEQsU0FBU2xFLFdBQVcsS0FBS21FLFNBQVNuRSxXQUFXLElBQzdDa0UsU0FBU3RELGVBQWUsS0FBS3VELFNBQVN2RCxlQUFlLElBQ3JEeUQ7SUFDUjtBQUNKO0FBRXlCLENBQ3pCLDBDQUEwQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jYWNoZS9lbnRpdGllcy9BY2NvdW50RW50aXR5Lm1qcz83MDQxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgU2VwYXJhdG9ycywgQ2FjaGVBY2NvdW50VHlwZSB9IGZyb20gJy4uLy4uL3V0aWxzL0NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgYnVpbGRDbGllbnRJbmZvIH0gZnJvbSAnLi4vLi4vYWNjb3VudC9DbGllbnRJbmZvLm1qcyc7XG5pbXBvcnQgeyBidWlsZFRlbmFudFByb2ZpbGUgfSBmcm9tICcuLi8uLi9hY2NvdW50L0FjY291bnRJbmZvLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi8uLi9lcnJvci9DbGllbnRBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IEF1dGhvcml0eVR5cGUgfSBmcm9tICcuLi8uLi9hdXRob3JpdHkvQXV0aG9yaXR5VHlwZS5tanMnO1xuaW1wb3J0IHsgZ2V0VGVuYW50SWRGcm9tSWRUb2tlbkNsYWltcyB9IGZyb20gJy4uLy4uL2FjY291bnQvVG9rZW5DbGFpbXMubWpzJztcbmltcG9ydCB7IFByb3RvY29sTW9kZSB9IGZyb20gJy4uLy4uL2F1dGhvcml0eS9Qcm90b2NvbE1vZGUubWpzJztcbmltcG9ydCB7IGludmFsaWRDYWNoZUVudmlyb25tZW50IH0gZnJvbSAnLi4vLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUeXBlIHRoYXQgZGVmaW5lcyByZXF1aXJlZCBhbmQgb3B0aW9uYWwgcGFyYW1ldGVycyBmb3IgYW4gQWNjb3VudCBmaWVsZCAoYmFzZWQgb24gdW5pdmVyc2FsIGNhY2hlIHNjaGVtYSBpbXBsZW1lbnRlZCBieSBhbGwgTVNBTHMpLlxyXG4gKlxyXG4gKiBLZXkgOiBWYWx1ZSBTY2hlbWFcclxuICpcclxuICogS2V5OiA8aG9tZV9hY2NvdW50X2lkPi08ZW52aXJvbm1lbnQ+LTxyZWFsbSo+XHJcbiAqXHJcbiAqIFZhbHVlIFNjaGVtYTpcclxuICoge1xyXG4gKiAgICAgIGhvbWVBY2NvdW50SWQ6IGhvbWUgYWNjb3VudCBpZGVudGlmaWVyIGZvciB0aGUgYXV0aCBzY2hlbWUsXHJcbiAqICAgICAgZW52aXJvbm1lbnQ6IGVudGl0eSB0aGF0IGlzc3VlZCB0aGUgdG9rZW4sIHJlcHJlc2VudGVkIGFzIGEgZnVsbCBob3N0XHJcbiAqICAgICAgcmVhbG06IEZ1bGwgdGVuYW50IG9yIG9yZ2FuaXphdGlvbmFsIGlkZW50aWZpZXIgdGhhdCB0aGUgYWNjb3VudCBiZWxvbmdzIHRvXHJcbiAqICAgICAgbG9jYWxBY2NvdW50SWQ6IE9yaWdpbmFsIHRlbmFudC1zcGVjaWZpYyBhY2NvdW50SUQsIHVzdWFsbHkgdXNlZCBmb3IgbGVnYWN5IGNhc2VzXHJcbiAqICAgICAgdXNlcm5hbWU6IHByaW1hcnkgdXNlcm5hbWUgdGhhdCByZXByZXNlbnRzIHRoZSB1c2VyLCB1c3VhbGx5IGNvcnJlc3BvbmRzIHRvIHByZWZlcnJlZF91c2VybmFtZSBpbiB0aGUgdjIgZW5kcHRcclxuICogICAgICBhdXRob3JpdHlUeXBlOiBBY2NvdW50cyBhdXRob3JpdHkgdHlwZSBhcyBhIHN0cmluZ1xyXG4gKiAgICAgIG5hbWU6IEZ1bGwgbmFtZSBmb3IgdGhlIGFjY291bnQsIGluY2x1ZGluZyBnaXZlbiBuYW1lIGFuZCBmYW1pbHkgbmFtZSxcclxuICogICAgICBsYXN0TW9kaWZpY2F0aW9uVGltZTogbGFzdCB0aW1lIHRoaXMgZW50aXR5IHdhcyBtb2RpZmllZCBpbiB0aGUgY2FjaGVcclxuICogICAgICBsYXN0TW9kaWZpY2F0aW9uQXBwOlxyXG4gKiAgICAgIG5hdGl2ZUFjY291bnRJZDogQWNjb3VudCBpZGVudGlmaWVyIG9uIHRoZSBuYXRpdmUgZGV2aWNlXHJcbiAqICAgICAgdGVuYW50UHJvZmlsZXM6IEFycmF5IG9mIHRlbmFudCBwcm9maWxlIG9iamVjdHMgZm9yIGVhY2ggdGVuYW50IHRoYXQgdGhlIGFjY291bnQgaGFzIGF1dGhlbnRpY2F0ZWQgd2l0aCBpbiB0aGUgYnJvd3NlclxyXG4gKiB9XHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuY2xhc3MgQWNjb3VudEVudGl0eSB7XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlIEFjY291bnQgSWQga2V5IGNvbXBvbmVudCBhcyBwZXIgdGhlIHNjaGVtYTogPGhvbWVfYWNjb3VudF9pZD4tPGVudmlyb25tZW50PlxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZUFjY291bnRJZCgpIHtcclxuICAgICAgICBjb25zdCBhY2NvdW50SWQgPSBbdGhpcy5ob21lQWNjb3VudElkLCB0aGlzLmVudmlyb25tZW50XTtcclxuICAgICAgICByZXR1cm4gYWNjb3VudElkLmpvaW4oU2VwYXJhdG9ycy5DQUNIRV9LRVlfU0VQQVJBVE9SKS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBBY2NvdW50IENhY2hlIEtleSBhcyBwZXIgdGhlIHNjaGVtYTogPGhvbWVfYWNjb3VudF9pZD4tPGVudmlyb25tZW50Pi08cmVhbG0qPlxyXG4gICAgICovXHJcbiAgICBnZW5lcmF0ZUFjY291bnRLZXkoKSB7XHJcbiAgICAgICAgcmV0dXJuIEFjY291bnRFbnRpdHkuZ2VuZXJhdGVBY2NvdW50Q2FjaGVLZXkoe1xyXG4gICAgICAgICAgICBob21lQWNjb3VudElkOiB0aGlzLmhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgICAgIGVudmlyb25tZW50OiB0aGlzLmVudmlyb25tZW50LFxyXG4gICAgICAgICAgICB0ZW5hbnRJZDogdGhpcy5yZWFsbSxcclxuICAgICAgICAgICAgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUsXHJcbiAgICAgICAgICAgIGxvY2FsQWNjb3VudElkOiB0aGlzLmxvY2FsQWNjb3VudElkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBBY2NvdW50SW5mbyBpbnRlcmZhY2UgZm9yIHRoaXMgYWNjb3VudC5cclxuICAgICAqL1xyXG4gICAgZ2V0QWNjb3VudEluZm8oKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaG9tZUFjY291bnRJZDogdGhpcy5ob21lQWNjb3VudElkLFxyXG4gICAgICAgICAgICBlbnZpcm9ubWVudDogdGhpcy5lbnZpcm9ubWVudCxcclxuICAgICAgICAgICAgdGVuYW50SWQ6IHRoaXMucmVhbG0sXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJuYW1lLFxyXG4gICAgICAgICAgICBsb2NhbEFjY291bnRJZDogdGhpcy5sb2NhbEFjY291bnRJZCxcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxyXG4gICAgICAgICAgICBuYXRpdmVBY2NvdW50SWQ6IHRoaXMubmF0aXZlQWNjb3VudElkLFxyXG4gICAgICAgICAgICBhdXRob3JpdHlUeXBlOiB0aGlzLmF1dGhvcml0eVR5cGUsXHJcbiAgICAgICAgICAgIC8vIERlc2VyaWFsaXplIHRlbmFudCBwcm9maWxlcyBhcnJheSBpbnRvIGEgTWFwXHJcbiAgICAgICAgICAgIHRlbmFudFByb2ZpbGVzOiBuZXcgTWFwKCh0aGlzLnRlbmFudFByb2ZpbGVzIHx8IFtdKS5tYXAoKHRlbmFudFByb2ZpbGUpID0+IHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbdGVuYW50UHJvZmlsZS50ZW5hbnRJZCwgdGVuYW50UHJvZmlsZV07XHJcbiAgICAgICAgICAgIH0pKSxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGFjY291bnQgZW50aXR5IGlzIGluIHNpbmdsZSB0ZW5hbnQgZm9ybWF0IChvdXRkYXRlZCksIGZhbHNlIG90aGVyd2lzZVxyXG4gICAgICovXHJcbiAgICBpc1NpbmdsZVRlbmFudCgpIHtcclxuICAgICAgICByZXR1cm4gIXRoaXMudGVuYW50UHJvZmlsZXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlcyBhY2NvdW50IGtleSBmcm9tIGludGVyZmFjZVxyXG4gICAgICogQHBhcmFtIGFjY291bnRJbnRlcmZhY2VcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdlbmVyYXRlQWNjb3VudENhY2hlS2V5KGFjY291bnRJbnRlcmZhY2UpIHtcclxuICAgICAgICBjb25zdCBob21lVGVuYW50SWQgPSBhY2NvdW50SW50ZXJmYWNlLmhvbWVBY2NvdW50SWQuc3BsaXQoXCIuXCIpWzFdO1xyXG4gICAgICAgIGNvbnN0IGFjY291bnRLZXkgPSBbXHJcbiAgICAgICAgICAgIGFjY291bnRJbnRlcmZhY2UuaG9tZUFjY291bnRJZCxcclxuICAgICAgICAgICAgYWNjb3VudEludGVyZmFjZS5lbnZpcm9ubWVudCB8fCBcIlwiLFxyXG4gICAgICAgICAgICBob21lVGVuYW50SWQgfHwgYWNjb3VudEludGVyZmFjZS50ZW5hbnRJZCB8fCBcIlwiLFxyXG4gICAgICAgIF07XHJcbiAgICAgICAgcmV0dXJuIGFjY291bnRLZXkuam9pbihTZXBhcmF0b3JzLkNBQ0hFX0tFWV9TRVBBUkFUT1IpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEJ1aWxkIEFjY291bnQgY2FjaGUgZnJvbSBJZFRva2VuLCBjbGllbnRJbmZvIGFuZCBhdXRob3JpdHkvcG9saWN5LiBBc3NvY2lhdGVkIHdpdGggQUFELlxyXG4gICAgICogQHBhcmFtIGFjY291bnREZXRhaWxzXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjcmVhdGVBY2NvdW50KGFjY291bnREZXRhaWxzLCBhdXRob3JpdHksIGJhc2U2NERlY29kZSkge1xyXG4gICAgICAgIGNvbnN0IGFjY291bnQgPSBuZXcgQWNjb3VudEVudGl0eSgpO1xyXG4gICAgICAgIGlmIChhdXRob3JpdHkuYXV0aG9yaXR5VHlwZSA9PT0gQXV0aG9yaXR5VHlwZS5BZGZzKSB7XHJcbiAgICAgICAgICAgIGFjY291bnQuYXV0aG9yaXR5VHlwZSA9IENhY2hlQWNjb3VudFR5cGUuQURGU19BQ0NPVU5UX1RZUEU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGF1dGhvcml0eS5wcm90b2NvbE1vZGUgPT09IFByb3RvY29sTW9kZS5BQUQpIHtcclxuICAgICAgICAgICAgYWNjb3VudC5hdXRob3JpdHlUeXBlID0gQ2FjaGVBY2NvdW50VHlwZS5NU1NUU19BQ0NPVU5UX1RZUEU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBhY2NvdW50LmF1dGhvcml0eVR5cGUgPSBDYWNoZUFjY291bnRUeXBlLkdFTkVSSUNfQUNDT1VOVF9UWVBFO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY2xpZW50SW5mbztcclxuICAgICAgICBpZiAoYWNjb3VudERldGFpbHMuY2xpZW50SW5mbyAmJiBiYXNlNjREZWNvZGUpIHtcclxuICAgICAgICAgICAgY2xpZW50SW5mbyA9IGJ1aWxkQ2xpZW50SW5mbyhhY2NvdW50RGV0YWlscy5jbGllbnRJbmZvLCBiYXNlNjREZWNvZGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhY2NvdW50LmNsaWVudEluZm8gPSBhY2NvdW50RGV0YWlscy5jbGllbnRJbmZvO1xyXG4gICAgICAgIGFjY291bnQuaG9tZUFjY291bnRJZCA9IGFjY291bnREZXRhaWxzLmhvbWVBY2NvdW50SWQ7XHJcbiAgICAgICAgYWNjb3VudC5uYXRpdmVBY2NvdW50SWQgPSBhY2NvdW50RGV0YWlscy5uYXRpdmVBY2NvdW50SWQ7XHJcbiAgICAgICAgY29uc3QgZW52ID0gYWNjb3VudERldGFpbHMuZW52aXJvbm1lbnQgfHxcclxuICAgICAgICAgICAgKGF1dGhvcml0eSAmJiBhdXRob3JpdHkuZ2V0UHJlZmVycmVkQ2FjaGUoKSk7XHJcbiAgICAgICAgaWYgKCFlbnYpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKGludmFsaWRDYWNoZUVudmlyb25tZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWNjb3VudC5lbnZpcm9ubWVudCA9IGVudjtcclxuICAgICAgICAvLyBub24gQUFEIHNjZW5hcmlvcyBjYW4gaGF2ZSBlbXB0eSByZWFsbVxyXG4gICAgICAgIGFjY291bnQucmVhbG0gPVxyXG4gICAgICAgICAgICBjbGllbnRJbmZvPy51dGlkIHx8XHJcbiAgICAgICAgICAgICAgICBnZXRUZW5hbnRJZEZyb21JZFRva2VuQ2xhaW1zKGFjY291bnREZXRhaWxzLmlkVG9rZW5DbGFpbXMpIHx8XHJcbiAgICAgICAgICAgICAgICBcIlwiO1xyXG4gICAgICAgIC8vIEhvdyBkbyB5b3UgYWNjb3VudCBmb3IgTVNBIENJRCBoZXJlP1xyXG4gICAgICAgIGFjY291bnQubG9jYWxBY2NvdW50SWQgPVxyXG4gICAgICAgICAgICBjbGllbnRJbmZvPy51aWQgfHxcclxuICAgICAgICAgICAgICAgIGFjY291bnREZXRhaWxzLmlkVG9rZW5DbGFpbXM/Lm9pZCB8fFxyXG4gICAgICAgICAgICAgICAgYWNjb3VudERldGFpbHMuaWRUb2tlbkNsYWltcz8uc3ViIHx8XHJcbiAgICAgICAgICAgICAgICBcIlwiO1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgICogSW4gQjJDIHNjZW5hcmlvcyB0aGUgZW1haWxzIGNsYWltIGlzIHVzZWQgaW5zdGVhZCBvZiBwcmVmZXJyZWRfdXNlcm5hbWUgYW5kIGl0IGlzIGFuIGFycmF5LlxyXG4gICAgICAgICAqIEluIG1vc3QgY2FzZXMgaXQgd2lsbCBjb250YWluIGEgc2luZ2xlIGVtYWlsLiBUaGlzIGZpZWxkIHNob3VsZCBub3QgYmUgcmVsaWVkIHVwb24gaWYgYSBjdXN0b21cclxuICAgICAgICAgKiBwb2xpY3kgaXMgY29uZmlndXJlZCB0byByZXR1cm4gbW9yZSB0aGFuIDEgZW1haWwuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3QgcHJlZmVycmVkVXNlcm5hbWUgPSBhY2NvdW50RGV0YWlscy5pZFRva2VuQ2xhaW1zPy5wcmVmZXJyZWRfdXNlcm5hbWUgfHxcclxuICAgICAgICAgICAgYWNjb3VudERldGFpbHMuaWRUb2tlbkNsYWltcz8udXBuO1xyXG4gICAgICAgIGNvbnN0IGVtYWlsID0gYWNjb3VudERldGFpbHMuaWRUb2tlbkNsYWltcz8uZW1haWxzXHJcbiAgICAgICAgICAgID8gYWNjb3VudERldGFpbHMuaWRUb2tlbkNsYWltcy5lbWFpbHNbMF1cclxuICAgICAgICAgICAgOiBudWxsO1xyXG4gICAgICAgIGFjY291bnQudXNlcm5hbWUgPSBwcmVmZXJyZWRVc2VybmFtZSB8fCBlbWFpbCB8fCBcIlwiO1xyXG4gICAgICAgIGFjY291bnQubmFtZSA9IGFjY291bnREZXRhaWxzLmlkVG9rZW5DbGFpbXM/Lm5hbWUgfHwgXCJcIjtcclxuICAgICAgICBhY2NvdW50LmNsb3VkR3JhcGhIb3N0TmFtZSA9IGFjY291bnREZXRhaWxzLmNsb3VkR3JhcGhIb3N0TmFtZTtcclxuICAgICAgICBhY2NvdW50Lm1zR3JhcGhIb3N0ID0gYWNjb3VudERldGFpbHMubXNHcmFwaEhvc3Q7XHJcbiAgICAgICAgaWYgKGFjY291bnREZXRhaWxzLnRlbmFudFByb2ZpbGVzKSB7XHJcbiAgICAgICAgICAgIGFjY291bnQudGVuYW50UHJvZmlsZXMgPSBhY2NvdW50RGV0YWlscy50ZW5hbnRQcm9maWxlcztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRlbmFudFByb2ZpbGUgPSBidWlsZFRlbmFudFByb2ZpbGUoYWNjb3VudERldGFpbHMuaG9tZUFjY291bnRJZCwgYWNjb3VudC5sb2NhbEFjY291bnRJZCwgYWNjb3VudC5yZWFsbSwgYWNjb3VudERldGFpbHMuaWRUb2tlbkNsYWltcyk7XHJcbiAgICAgICAgICAgIGFjY291bnQudGVuYW50UHJvZmlsZXMgPSBbdGVuYW50UHJvZmlsZV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhY2NvdW50O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIGFuIEFjY291bnRFbnRpdHkgb2JqZWN0IGZyb20gQWNjb3VudEluZm9cclxuICAgICAqIEBwYXJhbSBhY2NvdW50SW5mb1xyXG4gICAgICogQHBhcmFtIGNsb3VkR3JhcGhIb3N0TmFtZVxyXG4gICAgICogQHBhcmFtIG1zR3JhcGhIb3N0XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlRnJvbUFjY291bnRJbmZvKGFjY291bnRJbmZvLCBjbG91ZEdyYXBoSG9zdE5hbWUsIG1zR3JhcGhIb3N0KSB7XHJcbiAgICAgICAgY29uc3QgYWNjb3VudCA9IG5ldyBBY2NvdW50RW50aXR5KCk7XHJcbiAgICAgICAgYWNjb3VudC5hdXRob3JpdHlUeXBlID1cclxuICAgICAgICAgICAgYWNjb3VudEluZm8uYXV0aG9yaXR5VHlwZSB8fCBDYWNoZUFjY291bnRUeXBlLkdFTkVSSUNfQUNDT1VOVF9UWVBFO1xyXG4gICAgICAgIGFjY291bnQuaG9tZUFjY291bnRJZCA9IGFjY291bnRJbmZvLmhvbWVBY2NvdW50SWQ7XHJcbiAgICAgICAgYWNjb3VudC5sb2NhbEFjY291bnRJZCA9IGFjY291bnRJbmZvLmxvY2FsQWNjb3VudElkO1xyXG4gICAgICAgIGFjY291bnQubmF0aXZlQWNjb3VudElkID0gYWNjb3VudEluZm8ubmF0aXZlQWNjb3VudElkO1xyXG4gICAgICAgIGFjY291bnQucmVhbG0gPSBhY2NvdW50SW5mby50ZW5hbnRJZDtcclxuICAgICAgICBhY2NvdW50LmVudmlyb25tZW50ID0gYWNjb3VudEluZm8uZW52aXJvbm1lbnQ7XHJcbiAgICAgICAgYWNjb3VudC51c2VybmFtZSA9IGFjY291bnRJbmZvLnVzZXJuYW1lO1xyXG4gICAgICAgIGFjY291bnQubmFtZSA9IGFjY291bnRJbmZvLm5hbWU7XHJcbiAgICAgICAgYWNjb3VudC5jbG91ZEdyYXBoSG9zdE5hbWUgPSBjbG91ZEdyYXBoSG9zdE5hbWU7XHJcbiAgICAgICAgYWNjb3VudC5tc0dyYXBoSG9zdCA9IG1zR3JhcGhIb3N0O1xyXG4gICAgICAgIC8vIFNlcmlhbGl6ZSB0ZW5hbnQgcHJvZmlsZXMgbWFwIGludG8gYW4gYXJyYXlcclxuICAgICAgICBhY2NvdW50LnRlbmFudFByb2ZpbGVzID0gQXJyYXkuZnJvbShhY2NvdW50SW5mby50ZW5hbnRQcm9maWxlcz8udmFsdWVzKCkgfHwgW10pO1xyXG4gICAgICAgIHJldHVybiBhY2NvdW50O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBIb21lQWNjb3VudElkIGZyb20gc2VydmVyIHJlc3BvbnNlXHJcbiAgICAgKiBAcGFyYW0gc2VydmVyQ2xpZW50SW5mb1xyXG4gICAgICogQHBhcmFtIGF1dGhUeXBlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZW5lcmF0ZUhvbWVBY2NvdW50SWQoc2VydmVyQ2xpZW50SW5mbywgYXV0aFR5cGUsIGxvZ2dlciwgY3J5cHRvT2JqLCBpZFRva2VuQ2xhaW1zKSB7XHJcbiAgICAgICAgLy8gc2luY2UgQURGUy9EU1RTIGRvIG5vdCBoYXZlIHRpZCBhbmQgZG9lcyBub3Qgc2V0IGNsaWVudF9pbmZvXHJcbiAgICAgICAgaWYgKCEoYXV0aFR5cGUgPT09IEF1dGhvcml0eVR5cGUuQWRmcyB8fFxyXG4gICAgICAgICAgICBhdXRoVHlwZSA9PT0gQXV0aG9yaXR5VHlwZS5Ec3RzKSkge1xyXG4gICAgICAgICAgICAvLyBmb3IgY2FzZXMgd2hlcmUgdGhlcmUgaXMgY2xpZW50SW5mb1xyXG4gICAgICAgICAgICBpZiAoc2VydmVyQ2xpZW50SW5mbykge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRJbmZvID0gYnVpbGRDbGllbnRJbmZvKHNlcnZlckNsaWVudEluZm8sIGNyeXB0b09iai5iYXNlNjREZWNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjbGllbnRJbmZvLnVpZCAmJiBjbGllbnRJbmZvLnV0aWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGAke2NsaWVudEluZm8udWlkfS4ke2NsaWVudEluZm8udXRpZH1gO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsb2dnZXIud2FybmluZyhcIk5vIGNsaWVudCBpbmZvIGluIHJlc3BvbnNlXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBkZWZhdWx0IHRvIFwic3ViXCIgY2xhaW1cclxuICAgICAgICByZXR1cm4gaWRUb2tlbkNsYWltcz8uc3ViIHx8IFwiXCI7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFZhbGlkYXRlcyBhbiBlbnRpdHk6IGNoZWNrcyBmb3IgYWxsIGV4cGVjdGVkIHBhcmFtc1xyXG4gICAgICogQHBhcmFtIGVudGl0eVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaXNBY2NvdW50RW50aXR5KGVudGl0eSkge1xyXG4gICAgICAgIGlmICghZW50aXR5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJob21lQWNjb3VudElkXCIpICYmXHJcbiAgICAgICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImVudmlyb25tZW50XCIpICYmXHJcbiAgICAgICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcInJlYWxtXCIpICYmXHJcbiAgICAgICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImxvY2FsQWNjb3VudElkXCIpICYmXHJcbiAgICAgICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcInVzZXJuYW1lXCIpICYmXHJcbiAgICAgICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImF1dGhvcml0eVR5cGVcIikpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIHdoZXRoZXIgMiBhY2NvdW50SW5mbyBvYmplY3RzIHJlcHJlc2VudCB0aGUgc2FtZSBhY2NvdW50XHJcbiAgICAgKiBAcGFyYW0gYWNjb3VudEFcclxuICAgICAqIEBwYXJhbSBhY2NvdW50QlxyXG4gICAgICogQHBhcmFtIGNvbXBhcmVDbGFpbXMgLSBJZiBzZXQgdG8gdHJ1ZSBpZFRva2VuQ2xhaW1zIHdpbGwgYWxzbyBiZSBjb21wYXJlZCB0byBkZXRlcm1pbmUgYWNjb3VudCBlcXVhbGl0eVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYWNjb3VudEluZm9Jc0VxdWFsKGFjY291bnRBLCBhY2NvdW50QiwgY29tcGFyZUNsYWltcykge1xyXG4gICAgICAgIGlmICghYWNjb3VudEEgfHwgIWFjY291bnRCKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGNsYWltc01hdGNoID0gdHJ1ZTsgLy8gZGVmYXVsdCB0byB0cnVlIHNvIGFzIHRvIG5vdCBmYWlsIGNvbXBhcmlzb24gYmVsb3cgaWYgY29tcGFyZUNsYWltczogZmFsc2VcclxuICAgICAgICBpZiAoY29tcGFyZUNsYWltcykge1xyXG4gICAgICAgICAgICBjb25zdCBhY2NvdW50QUNsYWltcyA9IChhY2NvdW50QS5pZFRva2VuQ2xhaW1zIHx8XHJcbiAgICAgICAgICAgICAgICB7fSk7XHJcbiAgICAgICAgICAgIGNvbnN0IGFjY291bnRCQ2xhaW1zID0gKGFjY291bnRCLmlkVG9rZW5DbGFpbXMgfHxcclxuICAgICAgICAgICAgICAgIHt9KTtcclxuICAgICAgICAgICAgLy8gaXNzdWVkIGF0IHRpbWVzdGFtcCBhbmQgbm9uY2UgYXJlIGV4cGVjdGVkIHRvIGNoYW5nZSBlYWNoIHRpbWUgYSBuZXcgaWQgdG9rZW4gaXMgYWNxdWlyZWRcclxuICAgICAgICAgICAgY2xhaW1zTWF0Y2ggPVxyXG4gICAgICAgICAgICAgICAgYWNjb3VudEFDbGFpbXMuaWF0ID09PSBhY2NvdW50QkNsYWltcy5pYXQgJiZcclxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50QUNsYWltcy5ub25jZSA9PT0gYWNjb3VudEJDbGFpbXMubm9uY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAoYWNjb3VudEEuaG9tZUFjY291bnRJZCA9PT0gYWNjb3VudEIuaG9tZUFjY291bnRJZCAmJlxyXG4gICAgICAgICAgICBhY2NvdW50QS5sb2NhbEFjY291bnRJZCA9PT0gYWNjb3VudEIubG9jYWxBY2NvdW50SWQgJiZcclxuICAgICAgICAgICAgYWNjb3VudEEudXNlcm5hbWUgPT09IGFjY291bnRCLnVzZXJuYW1lICYmXHJcbiAgICAgICAgICAgIGFjY291bnRBLnRlbmFudElkID09PSBhY2NvdW50Qi50ZW5hbnRJZCAmJlxyXG4gICAgICAgICAgICBhY2NvdW50QS5lbnZpcm9ubWVudCA9PT0gYWNjb3VudEIuZW52aXJvbm1lbnQgJiZcclxuICAgICAgICAgICAgYWNjb3VudEEubmF0aXZlQWNjb3VudElkID09PSBhY2NvdW50Qi5uYXRpdmVBY2NvdW50SWQgJiZcclxuICAgICAgICAgICAgY2xhaW1zTWF0Y2gpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IEFjY291bnRFbnRpdHkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFjY291bnRFbnRpdHkubWpzLm1hcFxuIl0sIm5hbWVzIjpbIlNlcGFyYXRvcnMiLCJDYWNoZUFjY291bnRUeXBlIiwiYnVpbGRDbGllbnRJbmZvIiwiYnVpbGRUZW5hbnRQcm9maWxlIiwiY3JlYXRlQ2xpZW50QXV0aEVycm9yIiwiQXV0aG9yaXR5VHlwZSIsImdldFRlbmFudElkRnJvbUlkVG9rZW5DbGFpbXMiLCJQcm90b2NvbE1vZGUiLCJpbnZhbGlkQ2FjaGVFbnZpcm9ubWVudCIsIkFjY291bnRFbnRpdHkiLCJnZW5lcmF0ZUFjY291bnRJZCIsImFjY291bnRJZCIsImhvbWVBY2NvdW50SWQiLCJlbnZpcm9ubWVudCIsImpvaW4iLCJDQUNIRV9LRVlfU0VQQVJBVE9SIiwidG9Mb3dlckNhc2UiLCJnZW5lcmF0ZUFjY291bnRLZXkiLCJnZW5lcmF0ZUFjY291bnRDYWNoZUtleSIsInRlbmFudElkIiwicmVhbG0iLCJ1c2VybmFtZSIsImxvY2FsQWNjb3VudElkIiwiZ2V0QWNjb3VudEluZm8iLCJuYW1lIiwibmF0aXZlQWNjb3VudElkIiwiYXV0aG9yaXR5VHlwZSIsInRlbmFudFByb2ZpbGVzIiwiTWFwIiwibWFwIiwidGVuYW50UHJvZmlsZSIsImlzU2luZ2xlVGVuYW50IiwiYWNjb3VudEludGVyZmFjZSIsImhvbWVUZW5hbnRJZCIsInNwbGl0IiwiYWNjb3VudEtleSIsImNyZWF0ZUFjY291bnQiLCJhY2NvdW50RGV0YWlscyIsImF1dGhvcml0eSIsImJhc2U2NERlY29kZSIsImFjY291bnQiLCJBZGZzIiwiQURGU19BQ0NPVU5UX1RZUEUiLCJwcm90b2NvbE1vZGUiLCJBQUQiLCJNU1NUU19BQ0NPVU5UX1RZUEUiLCJHRU5FUklDX0FDQ09VTlRfVFlQRSIsImNsaWVudEluZm8iLCJlbnYiLCJnZXRQcmVmZXJyZWRDYWNoZSIsInV0aWQiLCJpZFRva2VuQ2xhaW1zIiwidWlkIiwib2lkIiwic3ViIiwicHJlZmVycmVkVXNlcm5hbWUiLCJwcmVmZXJyZWRfdXNlcm5hbWUiLCJ1cG4iLCJlbWFpbCIsImVtYWlscyIsImNsb3VkR3JhcGhIb3N0TmFtZSIsIm1zR3JhcGhIb3N0IiwiY3JlYXRlRnJvbUFjY291bnRJbmZvIiwiYWNjb3VudEluZm8iLCJBcnJheSIsImZyb20iLCJ2YWx1ZXMiLCJnZW5lcmF0ZUhvbWVBY2NvdW50SWQiLCJzZXJ2ZXJDbGllbnRJbmZvIiwiYXV0aFR5cGUiLCJsb2dnZXIiLCJjcnlwdG9PYmoiLCJEc3RzIiwiZSIsIndhcm5pbmciLCJpc0FjY291bnRFbnRpdHkiLCJlbnRpdHkiLCJoYXNPd25Qcm9wZXJ0eSIsImFjY291bnRJbmZvSXNFcXVhbCIsImFjY291bnRBIiwiYWNjb3VudEIiLCJjb21wYXJlQ2xhaW1zIiwiY2xhaW1zTWF0Y2giLCJhY2NvdW50QUNsYWltcyIsImFjY291bnRCQ2xhaW1zIiwiaWF0Iiwibm9uY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/cache/entities/AccountEntity.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TokenCacheContext: () => (/* binding */ TokenCacheContext)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * This class instance helps track the memory changes facilitating\r\n * decisions to read from and write to the persistent cache\r\n */ class TokenCacheContext {\n    constructor(tokenCache, hasChanged){\n        this.cache = tokenCache;\n        this.hasChanged = hasChanged;\n    }\n    /**\r\n     * boolean which indicates the changes in cache\r\n     */ get cacheHasChanged() {\n        return this.hasChanged;\n    }\n    /**\r\n     * function to retrieve the token cache\r\n     */ get tokenCache() {\n        return this.cache;\n    }\n}\n //# sourceMappingURL=TokenCacheContext.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2FjaGUvcGVyc2lzdGVuY2UvVG9rZW5DYWNoZUNvbnRleHQubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDQTs7O0NBR0MsR0FDRDs7O0NBR0MsR0FBRyxNQUFNQTtJQUNOQyxZQUFZQyxVQUFVLEVBQUVDLFVBQVUsQ0FBRTtRQUNoQyxJQUFJLENBQUNDLEtBQUssR0FBR0Y7UUFDYixJQUFJLENBQUNDLFVBQVUsR0FBR0E7SUFDdEI7SUFDQTs7S0FFQyxHQUNELElBQUlFLGtCQUFrQjtRQUNsQixPQUFPLElBQUksQ0FBQ0YsVUFBVTtJQUMxQjtJQUNBOztLQUVDLEdBQ0QsSUFBSUQsYUFBYTtRQUNiLE9BQU8sSUFBSSxDQUFDRSxLQUFLO0lBQ3JCO0FBQ0o7QUFFNkIsQ0FDN0IsOENBQThDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2NhY2hlL3BlcnNpc3RlbmNlL1Rva2VuQ2FjaGVDb250ZXh0Lm1qcz85ZDY0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIGluc3RhbmNlIGhlbHBzIHRyYWNrIHRoZSBtZW1vcnkgY2hhbmdlcyBmYWNpbGl0YXRpbmdcclxuICogZGVjaXNpb25zIHRvIHJlYWQgZnJvbSBhbmQgd3JpdGUgdG8gdGhlIHBlcnNpc3RlbnQgY2FjaGVcclxuICovIGNsYXNzIFRva2VuQ2FjaGVDb250ZXh0IHtcclxuICAgIGNvbnN0cnVjdG9yKHRva2VuQ2FjaGUsIGhhc0NoYW5nZWQpIHtcclxuICAgICAgICB0aGlzLmNhY2hlID0gdG9rZW5DYWNoZTtcclxuICAgICAgICB0aGlzLmhhc0NoYW5nZWQgPSBoYXNDaGFuZ2VkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBib29sZWFuIHdoaWNoIGluZGljYXRlcyB0aGUgY2hhbmdlcyBpbiBjYWNoZVxyXG4gICAgICovXHJcbiAgICBnZXQgY2FjaGVIYXNDaGFuZ2VkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhhc0NoYW5nZWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSB0b2tlbiBjYWNoZVxyXG4gICAgICovXHJcbiAgICBnZXQgdG9rZW5DYWNoZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYWNoZTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBUb2tlbkNhY2hlQ29udGV4dCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VG9rZW5DYWNoZUNvbnRleHQubWpzLm1hcFxuIl0sIm5hbWVzIjpbIlRva2VuQ2FjaGVDb250ZXh0IiwiY29uc3RydWN0b3IiLCJ0b2tlbkNhY2hlIiwiaGFzQ2hhbmdlZCIsImNhY2hlIiwiY2FjaGVIYXNDaGFuZ2VkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/cache/utils/CacheHelpers.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/cache/utils/CacheHelpers.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAccessTokenEntity: () => (/* binding */ createAccessTokenEntity),\n/* harmony export */   createIdTokenEntity: () => (/* binding */ createIdTokenEntity),\n/* harmony export */   createRefreshTokenEntity: () => (/* binding */ createRefreshTokenEntity),\n/* harmony export */   generateAppMetadataKey: () => (/* binding */ generateAppMetadataKey),\n/* harmony export */   generateAuthorityMetadataExpiresAt: () => (/* binding */ generateAuthorityMetadataExpiresAt),\n/* harmony export */   generateCredentialKey: () => (/* binding */ generateCredentialKey),\n/* harmony export */   isAccessTokenEntity: () => (/* binding */ isAccessTokenEntity),\n/* harmony export */   isAppMetadataEntity: () => (/* binding */ isAppMetadataEntity),\n/* harmony export */   isAuthorityMetadataEntity: () => (/* binding */ isAuthorityMetadataEntity),\n/* harmony export */   isAuthorityMetadataExpired: () => (/* binding */ isAuthorityMetadataExpired),\n/* harmony export */   isCredentialEntity: () => (/* binding */ isCredentialEntity),\n/* harmony export */   isIdTokenEntity: () => (/* binding */ isIdTokenEntity),\n/* harmony export */   isRefreshTokenEntity: () => (/* binding */ isRefreshTokenEntity),\n/* harmony export */   isServerTelemetryEntity: () => (/* binding */ isServerTelemetryEntity),\n/* harmony export */   isThrottlingEntity: () => (/* binding */ isThrottlingEntity),\n/* harmony export */   updateAuthorityEndpointMetadata: () => (/* binding */ updateAuthorityEndpointMetadata),\n/* harmony export */   updateCloudDiscoveryMetadata: () => (/* binding */ updateCloudDiscoveryMetadata)\n/* harmony export */ });\n/* harmony import */ var _account_AuthToken_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../account/AuthToken.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AuthToken.mjs\");\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/TimeUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/TimeUtils.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Cache Key: <home_account_id>-<environment>-<credential_type>-<client_id or familyId>-<realm>-<scopes>-<claims hash>-<scheme>\r\n * IdToken Example: uid.utid-login.microsoftonline.com-idtoken-app_client_id-contoso.com\r\n * AccessToken Example: uid.utid-login.microsoftonline.com-accesstoken-app_client_id-contoso.com-scope1 scope2--pop\r\n * RefreshToken Example: uid.utid-login.microsoftonline.com-refreshtoken-1-contoso.com\r\n * @param credentialEntity\r\n * @returns\r\n */ function generateCredentialKey(credentialEntity) {\n    const credentialKey = [\n        generateAccountId(credentialEntity),\n        generateCredentialId(credentialEntity),\n        generateTarget(credentialEntity),\n        generateClaimsHash(credentialEntity),\n        generateScheme(credentialEntity)\n    ];\n    return credentialKey.join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Separators.CACHE_KEY_SEPARATOR).toLowerCase();\n}\n/**\r\n * Create IdTokenEntity\r\n * @param homeAccountId\r\n * @param authenticationResult\r\n * @param clientId\r\n * @param authority\r\n */ function createIdTokenEntity(homeAccountId, environment, idToken, clientId, tenantId) {\n    const idTokenEntity = {\n        credentialType: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CredentialType.ID_TOKEN,\n        homeAccountId: homeAccountId,\n        environment: environment,\n        clientId: clientId,\n        secret: idToken,\n        realm: tenantId\n    };\n    return idTokenEntity;\n}\n/**\r\n * Create AccessTokenEntity\r\n * @param homeAccountId\r\n * @param environment\r\n * @param accessToken\r\n * @param clientId\r\n * @param tenantId\r\n * @param scopes\r\n * @param expiresOn\r\n * @param extExpiresOn\r\n */ function createAccessTokenEntity(homeAccountId, environment, accessToken, clientId, tenantId, scopes, expiresOn, extExpiresOn, base64Decode, refreshOn, tokenType, userAssertionHash, keyId, requestedClaims, requestedClaimsHash) {\n    const atEntity = {\n        homeAccountId: homeAccountId,\n        credentialType: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CredentialType.ACCESS_TOKEN,\n        secret: accessToken,\n        cachedAt: (0,_utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.nowSeconds)().toString(),\n        expiresOn: expiresOn.toString(),\n        extendedExpiresOn: extExpiresOn.toString(),\n        environment: environment,\n        clientId: clientId,\n        realm: tenantId,\n        target: scopes,\n        tokenType: tokenType || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.AuthenticationScheme.BEARER\n    };\n    if (userAssertionHash) {\n        atEntity.userAssertionHash = userAssertionHash;\n    }\n    if (refreshOn) {\n        atEntity.refreshOn = refreshOn.toString();\n    }\n    if (requestedClaims) {\n        atEntity.requestedClaims = requestedClaims;\n        atEntity.requestedClaimsHash = requestedClaimsHash;\n    }\n    /*\r\n     * Create Access Token With Auth Scheme instead of regular access token\r\n     * Cast to lower to handle \"bearer\" from ADFS\r\n     */ if (atEntity.tokenType?.toLowerCase() !== _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.AuthenticationScheme.BEARER.toLowerCase()) {\n        atEntity.credentialType = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME;\n        switch(atEntity.tokenType){\n            case _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.AuthenticationScheme.POP:\n                // Make sure keyId is present and add it to credential\n                const tokenClaims = (0,_account_AuthToken_mjs__WEBPACK_IMPORTED_MODULE_2__.extractTokenClaims)(accessToken, base64Decode);\n                if (!tokenClaims?.cnf?.kid) {\n                    throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.tokenClaimsCnfRequiredForSignedJwt);\n                }\n                atEntity.keyId = tokenClaims.cnf.kid;\n                break;\n            case _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.AuthenticationScheme.SSH:\n                atEntity.keyId = keyId;\n        }\n    }\n    return atEntity;\n}\n/**\r\n * Create RefreshTokenEntity\r\n * @param homeAccountId\r\n * @param authenticationResult\r\n * @param clientId\r\n * @param authority\r\n */ function createRefreshTokenEntity(homeAccountId, environment, refreshToken, clientId, familyId, userAssertionHash, expiresOn) {\n    const rtEntity = {\n        credentialType: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CredentialType.REFRESH_TOKEN,\n        homeAccountId: homeAccountId,\n        environment: environment,\n        clientId: clientId,\n        secret: refreshToken\n    };\n    if (userAssertionHash) {\n        rtEntity.userAssertionHash = userAssertionHash;\n    }\n    if (familyId) {\n        rtEntity.familyId = familyId;\n    }\n    if (expiresOn) {\n        rtEntity.expiresOn = expiresOn.toString();\n    }\n    return rtEntity;\n}\nfunction isCredentialEntity(entity) {\n    return entity.hasOwnProperty(\"homeAccountId\") && entity.hasOwnProperty(\"environment\") && entity.hasOwnProperty(\"credentialType\") && entity.hasOwnProperty(\"clientId\") && entity.hasOwnProperty(\"secret\");\n}\n/**\r\n * Validates an entity: checks for all expected params\r\n * @param entity\r\n */ function isAccessTokenEntity(entity) {\n    if (!entity) {\n        return false;\n    }\n    return isCredentialEntity(entity) && entity.hasOwnProperty(\"realm\") && entity.hasOwnProperty(\"target\") && (entity[\"credentialType\"] === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CredentialType.ACCESS_TOKEN || entity[\"credentialType\"] === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CredentialType.ACCESS_TOKEN_WITH_AUTH_SCHEME);\n}\n/**\r\n * Validates an entity: checks for all expected params\r\n * @param entity\r\n */ function isIdTokenEntity(entity) {\n    if (!entity) {\n        return false;\n    }\n    return isCredentialEntity(entity) && entity.hasOwnProperty(\"realm\") && entity[\"credentialType\"] === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CredentialType.ID_TOKEN;\n}\n/**\r\n * Validates an entity: checks for all expected params\r\n * @param entity\r\n */ function isRefreshTokenEntity(entity) {\n    if (!entity) {\n        return false;\n    }\n    return isCredentialEntity(entity) && entity[\"credentialType\"] === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CredentialType.REFRESH_TOKEN;\n}\n/**\r\n * Generate Account Id key component as per the schema: <home_account_id>-<environment>\r\n */ function generateAccountId(credentialEntity) {\n    const accountId = [\n        credentialEntity.homeAccountId,\n        credentialEntity.environment\n    ];\n    return accountId.join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Separators.CACHE_KEY_SEPARATOR).toLowerCase();\n}\n/**\r\n * Generate Credential Id key component as per the schema: <credential_type>-<client_id>-<realm>\r\n */ function generateCredentialId(credentialEntity) {\n    const clientOrFamilyId = credentialEntity.credentialType === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CredentialType.REFRESH_TOKEN ? credentialEntity.familyId || credentialEntity.clientId : credentialEntity.clientId;\n    const credentialId = [\n        credentialEntity.credentialType,\n        clientOrFamilyId,\n        credentialEntity.realm || \"\"\n    ];\n    return credentialId.join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Separators.CACHE_KEY_SEPARATOR).toLowerCase();\n}\n/**\r\n * Generate target key component as per schema: <target>\r\n */ function generateTarget(credentialEntity) {\n    return (credentialEntity.target || \"\").toLowerCase();\n}\n/**\r\n * Generate requested claims key component as per schema: <requestedClaims>\r\n */ function generateClaimsHash(credentialEntity) {\n    return (credentialEntity.requestedClaimsHash || \"\").toLowerCase();\n}\n/**\r\n * Generate scheme key componenet as per schema: <scheme>\r\n */ function generateScheme(credentialEntity) {\n    /*\r\n     * PoP Tokens and SSH certs include scheme in cache key\r\n     * Cast to lowercase to handle \"bearer\" from ADFS\r\n     */ return credentialEntity.tokenType && credentialEntity.tokenType.toLowerCase() !== _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.AuthenticationScheme.BEARER.toLowerCase() ? credentialEntity.tokenType.toLowerCase() : \"\";\n}\n/**\r\n * validates if a given cache entry is \"Telemetry\", parses <key,value>\r\n * @param key\r\n * @param entity\r\n */ function isServerTelemetryEntity(key, entity) {\n    const validateKey = key.indexOf(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.CACHE_KEY) === 0;\n    let validateEntity = true;\n    if (entity) {\n        validateEntity = entity.hasOwnProperty(\"failedRequests\") && entity.hasOwnProperty(\"errors\") && entity.hasOwnProperty(\"cacheHits\");\n    }\n    return validateKey && validateEntity;\n}\n/**\r\n * validates if a given cache entry is \"Throttling\", parses <key,value>\r\n * @param key\r\n * @param entity\r\n */ function isThrottlingEntity(key, entity) {\n    let validateKey = false;\n    if (key) {\n        validateKey = key.indexOf(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.ThrottlingConstants.THROTTLING_PREFIX) === 0;\n    }\n    let validateEntity = true;\n    if (entity) {\n        validateEntity = entity.hasOwnProperty(\"throttleTime\");\n    }\n    return validateKey && validateEntity;\n}\n/**\r\n * Generate AppMetadata Cache Key as per the schema: appmetadata-<environment>-<client_id>\r\n */ function generateAppMetadataKey({ environment, clientId }) {\n    const appMetaDataKeyArray = [\n        _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.APP_METADATA,\n        environment,\n        clientId\n    ];\n    return appMetaDataKeyArray.join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Separators.CACHE_KEY_SEPARATOR).toLowerCase();\n}\n/*\r\n * Validates an entity: checks for all expected params\r\n * @param entity\r\n */ function isAppMetadataEntity(key, entity) {\n    if (!entity) {\n        return false;\n    }\n    return key.indexOf(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.APP_METADATA) === 0 && entity.hasOwnProperty(\"clientId\") && entity.hasOwnProperty(\"environment\");\n}\n/**\r\n * Validates an entity: checks for all expected params\r\n * @param entity\r\n */ function isAuthorityMetadataEntity(key, entity) {\n    if (!entity) {\n        return false;\n    }\n    return key.indexOf(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.AUTHORITY_METADATA_CONSTANTS.CACHE_KEY) === 0 && entity.hasOwnProperty(\"aliases\") && entity.hasOwnProperty(\"preferred_cache\") && entity.hasOwnProperty(\"preferred_network\") && entity.hasOwnProperty(\"canonical_authority\") && entity.hasOwnProperty(\"authorization_endpoint\") && entity.hasOwnProperty(\"token_endpoint\") && entity.hasOwnProperty(\"issuer\") && entity.hasOwnProperty(\"aliasesFromNetwork\") && entity.hasOwnProperty(\"endpointsFromNetwork\") && entity.hasOwnProperty(\"expiresAt\") && entity.hasOwnProperty(\"jwks_uri\");\n}\n/**\r\n * Reset the exiresAt value\r\n */ function generateAuthorityMetadataExpiresAt() {\n    return (0,_utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.nowSeconds)() + _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.AUTHORITY_METADATA_CONSTANTS.REFRESH_TIME_SECONDS;\n}\nfunction updateAuthorityEndpointMetadata(authorityMetadata, updatedValues, fromNetwork) {\n    authorityMetadata.authorization_endpoint = updatedValues.authorization_endpoint;\n    authorityMetadata.token_endpoint = updatedValues.token_endpoint;\n    authorityMetadata.end_session_endpoint = updatedValues.end_session_endpoint;\n    authorityMetadata.issuer = updatedValues.issuer;\n    authorityMetadata.endpointsFromNetwork = fromNetwork;\n    authorityMetadata.jwks_uri = updatedValues.jwks_uri;\n}\nfunction updateCloudDiscoveryMetadata(authorityMetadata, updatedValues, fromNetwork) {\n    authorityMetadata.aliases = updatedValues.aliases;\n    authorityMetadata.preferred_cache = updatedValues.preferred_cache;\n    authorityMetadata.preferred_network = updatedValues.preferred_network;\n    authorityMetadata.aliasesFromNetwork = fromNetwork;\n}\n/**\r\n * Returns whether or not the data needs to be refreshed\r\n */ function isAuthorityMetadataExpired(metadata) {\n    return metadata.expiresAt <= (0,_utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_1__.nowSeconds)();\n}\n //# sourceMappingURL=CacheHelpers.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2FjaGUvdXRpbHMvQ2FjaGVIZWxwZXJzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ2lFO0FBQ087QUFDOEc7QUFDL0g7QUFDbUM7QUFFMUY7OztDQUdDLEdBQ0Q7Ozs7Ozs7Q0FPQyxHQUNELFNBQVNXLHNCQUFzQkMsZ0JBQWdCO0lBQzNDLE1BQU1DLGdCQUFnQjtRQUNsQkMsa0JBQWtCRjtRQUNsQkcscUJBQXFCSDtRQUNyQkksZUFBZUo7UUFDZkssbUJBQW1CTDtRQUNuQk0sZUFBZU47S0FDbEI7SUFDRCxPQUFPQyxjQUFjTSxJQUFJLENBQUNqQiw0REFBVUEsQ0FBQ2tCLG1CQUFtQixFQUFFQyxXQUFXO0FBQ3pFO0FBQ0E7Ozs7OztDQU1DLEdBQ0QsU0FBU0Msb0JBQW9CQyxhQUFhLEVBQUVDLFdBQVcsRUFBRUMsT0FBTyxFQUFFQyxRQUFRLEVBQUVDLFFBQVE7SUFDaEYsTUFBTUMsZ0JBQWdCO1FBQ2xCQyxnQkFBZ0IxQixnRUFBY0EsQ0FBQzJCLFFBQVE7UUFDdkNQLGVBQWVBO1FBQ2ZDLGFBQWFBO1FBQ2JFLFVBQVVBO1FBQ1ZLLFFBQVFOO1FBQ1JPLE9BQU9MO0lBQ1g7SUFDQSxPQUFPQztBQUNYO0FBQ0E7Ozs7Ozs7Ozs7Q0FVQyxHQUNELFNBQVNLLHdCQUF3QlYsYUFBYSxFQUFFQyxXQUFXLEVBQUVVLFdBQVcsRUFBRVIsUUFBUSxFQUFFQyxRQUFRLEVBQUVRLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxZQUFZLEVBQUVDLFlBQVksRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQUVDLGlCQUFpQixFQUFFQyxLQUFLLEVBQUVDLGVBQWUsRUFBRUMsbUJBQW1CO0lBQzdOLE1BQU1DLFdBQVc7UUFDYnRCLGVBQWVBO1FBQ2ZNLGdCQUFnQjFCLGdFQUFjQSxDQUFDMkMsWUFBWTtRQUMzQ2YsUUFBUUc7UUFDUmEsVUFBVXRDLGdFQUFVQSxHQUFHdUMsUUFBUTtRQUMvQlosV0FBV0EsVUFBVVksUUFBUTtRQUM3QkMsbUJBQW1CWixhQUFhVyxRQUFRO1FBQ3hDeEIsYUFBYUE7UUFDYkUsVUFBVUE7UUFDVk0sT0FBT0w7UUFDUHVCLFFBQVFmO1FBQ1JLLFdBQVdBLGFBQWFwQyxzRUFBb0JBLENBQUMrQyxNQUFNO0lBQ3ZEO0lBQ0EsSUFBSVYsbUJBQW1CO1FBQ25CSSxTQUFTSixpQkFBaUIsR0FBR0E7SUFDakM7SUFDQSxJQUFJRixXQUFXO1FBQ1hNLFNBQVNOLFNBQVMsR0FBR0EsVUFBVVMsUUFBUTtJQUMzQztJQUNBLElBQUlMLGlCQUFpQjtRQUNqQkUsU0FBU0YsZUFBZSxHQUFHQTtRQUMzQkUsU0FBU0QsbUJBQW1CLEdBQUdBO0lBQ25DO0lBQ0E7OztLQUdDLEdBQ0QsSUFBSUMsU0FBU0wsU0FBUyxFQUFFbkIsa0JBQ3BCakIsc0VBQW9CQSxDQUFDK0MsTUFBTSxDQUFDOUIsV0FBVyxJQUFJO1FBQzNDd0IsU0FBU2hCLGNBQWMsR0FBRzFCLGdFQUFjQSxDQUFDaUQsNkJBQTZCO1FBQ3RFLE9BQVFQLFNBQVNMLFNBQVM7WUFDdEIsS0FBS3BDLHNFQUFvQkEsQ0FBQ2lELEdBQUc7Z0JBQ3pCLHNEQUFzRDtnQkFDdEQsTUFBTUMsY0FBY3RELDBFQUFrQkEsQ0FBQ2tDLGFBQWFJO2dCQUNwRCxJQUFJLENBQUNnQixhQUFhQyxLQUFLQyxLQUFLO29CQUN4QixNQUFNdkQsaUZBQXFCQSxDQUFDUywrRkFBa0NBO2dCQUNsRTtnQkFDQW1DLFNBQVNILEtBQUssR0FBR1ksWUFBWUMsR0FBRyxDQUFDQyxHQUFHO2dCQUNwQztZQUNKLEtBQUtwRCxzRUFBb0JBLENBQUNxRCxHQUFHO2dCQUN6QlosU0FBU0gsS0FBSyxHQUFHQTtRQUN6QjtJQUNKO0lBQ0EsT0FBT0c7QUFDWDtBQUNBOzs7Ozs7Q0FNQyxHQUNELFNBQVNhLHlCQUF5Qm5DLGFBQWEsRUFBRUMsV0FBVyxFQUFFbUMsWUFBWSxFQUFFakMsUUFBUSxFQUFFa0MsUUFBUSxFQUFFbkIsaUJBQWlCLEVBQUVMLFNBQVM7SUFDeEgsTUFBTXlCLFdBQVc7UUFDYmhDLGdCQUFnQjFCLGdFQUFjQSxDQUFDMkQsYUFBYTtRQUM1Q3ZDLGVBQWVBO1FBQ2ZDLGFBQWFBO1FBQ2JFLFVBQVVBO1FBQ1ZLLFFBQVE0QjtJQUNaO0lBQ0EsSUFBSWxCLG1CQUFtQjtRQUNuQm9CLFNBQVNwQixpQkFBaUIsR0FBR0E7SUFDakM7SUFDQSxJQUFJbUIsVUFBVTtRQUNWQyxTQUFTRCxRQUFRLEdBQUdBO0lBQ3hCO0lBQ0EsSUFBSXhCLFdBQVc7UUFDWHlCLFNBQVN6QixTQUFTLEdBQUdBLFVBQVVZLFFBQVE7SUFDM0M7SUFDQSxPQUFPYTtBQUNYO0FBQ0EsU0FBU0UsbUJBQW1CQyxNQUFNO0lBQzlCLE9BQVFBLE9BQU9DLGNBQWMsQ0FBQyxvQkFDMUJELE9BQU9DLGNBQWMsQ0FBQyxrQkFDdEJELE9BQU9DLGNBQWMsQ0FBQyxxQkFDdEJELE9BQU9DLGNBQWMsQ0FBQyxlQUN0QkQsT0FBT0MsY0FBYyxDQUFDO0FBQzlCO0FBQ0E7OztDQUdDLEdBQ0QsU0FBU0Msb0JBQW9CRixNQUFNO0lBQy9CLElBQUksQ0FBQ0EsUUFBUTtRQUNULE9BQU87SUFDWDtJQUNBLE9BQVFELG1CQUFtQkMsV0FDdkJBLE9BQU9DLGNBQWMsQ0FBQyxZQUN0QkQsT0FBT0MsY0FBYyxDQUFDLGFBQ3JCRCxDQUFBQSxNQUFNLENBQUMsaUJBQWlCLEtBQUs3RCxnRUFBY0EsQ0FBQzJDLFlBQVksSUFDckRrQixNQUFNLENBQUMsaUJBQWlCLEtBQ3BCN0QsZ0VBQWNBLENBQUNpRCw2QkFBNkI7QUFDNUQ7QUFDQTs7O0NBR0MsR0FDRCxTQUFTZSxnQkFBZ0JILE1BQU07SUFDM0IsSUFBSSxDQUFDQSxRQUFRO1FBQ1QsT0FBTztJQUNYO0lBQ0EsT0FBUUQsbUJBQW1CQyxXQUN2QkEsT0FBT0MsY0FBYyxDQUFDLFlBQ3RCRCxNQUFNLENBQUMsaUJBQWlCLEtBQUs3RCxnRUFBY0EsQ0FBQzJCLFFBQVE7QUFDNUQ7QUFDQTs7O0NBR0MsR0FDRCxTQUFTc0MscUJBQXFCSixNQUFNO0lBQ2hDLElBQUksQ0FBQ0EsUUFBUTtRQUNULE9BQU87SUFDWDtJQUNBLE9BQVFELG1CQUFtQkMsV0FDdkJBLE1BQU0sQ0FBQyxpQkFBaUIsS0FBSzdELGdFQUFjQSxDQUFDMkQsYUFBYTtBQUNqRTtBQUNBOztDQUVDLEdBQ0QsU0FBU2hELGtCQUFrQkYsZ0JBQWdCO0lBQ3ZDLE1BQU15RCxZQUFZO1FBQ2R6RCxpQkFBaUJXLGFBQWE7UUFDOUJYLGlCQUFpQlksV0FBVztLQUMvQjtJQUNELE9BQU82QyxVQUFVbEQsSUFBSSxDQUFDakIsNERBQVVBLENBQUNrQixtQkFBbUIsRUFBRUMsV0FBVztBQUNyRTtBQUNBOztDQUVDLEdBQ0QsU0FBU04scUJBQXFCSCxnQkFBZ0I7SUFDMUMsTUFBTTBELG1CQUFtQjFELGlCQUFpQmlCLGNBQWMsS0FBSzFCLGdFQUFjQSxDQUFDMkQsYUFBYSxHQUNuRmxELGlCQUFpQmdELFFBQVEsSUFBSWhELGlCQUFpQmMsUUFBUSxHQUN0RGQsaUJBQWlCYyxRQUFRO0lBQy9CLE1BQU02QyxlQUFlO1FBQ2pCM0QsaUJBQWlCaUIsY0FBYztRQUMvQnlDO1FBQ0ExRCxpQkFBaUJvQixLQUFLLElBQUk7S0FDN0I7SUFDRCxPQUFPdUMsYUFBYXBELElBQUksQ0FBQ2pCLDREQUFVQSxDQUFDa0IsbUJBQW1CLEVBQUVDLFdBQVc7QUFDeEU7QUFDQTs7Q0FFQyxHQUNELFNBQVNMLGVBQWVKLGdCQUFnQjtJQUNwQyxPQUFPLENBQUNBLGlCQUFpQnNDLE1BQU0sSUFBSSxFQUFDLEVBQUc3QixXQUFXO0FBQ3REO0FBQ0E7O0NBRUMsR0FDRCxTQUFTSixtQkFBbUJMLGdCQUFnQjtJQUN4QyxPQUFPLENBQUNBLGlCQUFpQmdDLG1CQUFtQixJQUFJLEVBQUMsRUFBR3ZCLFdBQVc7QUFDbkU7QUFDQTs7Q0FFQyxHQUNELFNBQVNILGVBQWVOLGdCQUFnQjtJQUNwQzs7O0tBR0MsR0FDRCxPQUFPQSxpQkFBaUI0QixTQUFTLElBQzdCNUIsaUJBQWlCNEIsU0FBUyxDQUFDbkIsV0FBVyxPQUNsQ2pCLHNFQUFvQkEsQ0FBQytDLE1BQU0sQ0FBQzlCLFdBQVcsS0FDekNULGlCQUFpQjRCLFNBQVMsQ0FBQ25CLFdBQVcsS0FDdEM7QUFDVjtBQUNBOzs7O0NBSUMsR0FDRCxTQUFTbUQsd0JBQXdCQyxHQUFHLEVBQUVULE1BQU07SUFDeEMsTUFBTVUsY0FBY0QsSUFBSUUsT0FBTyxDQUFDdEUsd0VBQXNCQSxDQUFDdUUsU0FBUyxNQUFNO0lBQ3RFLElBQUlDLGlCQUFpQjtJQUNyQixJQUFJYixRQUFRO1FBQ1JhLGlCQUNJYixPQUFPQyxjQUFjLENBQUMscUJBQ2xCRCxPQUFPQyxjQUFjLENBQUMsYUFDdEJELE9BQU9DLGNBQWMsQ0FBQztJQUNsQztJQUNBLE9BQU9TLGVBQWVHO0FBQzFCO0FBQ0E7Ozs7Q0FJQyxHQUNELFNBQVNDLG1CQUFtQkwsR0FBRyxFQUFFVCxNQUFNO0lBQ25DLElBQUlVLGNBQWM7SUFDbEIsSUFBSUQsS0FBSztRQUNMQyxjQUFjRCxJQUFJRSxPQUFPLENBQUNyRSxxRUFBbUJBLENBQUN5RSxpQkFBaUIsTUFBTTtJQUN6RTtJQUNBLElBQUlGLGlCQUFpQjtJQUNyQixJQUFJYixRQUFRO1FBQ1JhLGlCQUFpQmIsT0FBT0MsY0FBYyxDQUFDO0lBQzNDO0lBQ0EsT0FBT1MsZUFBZUc7QUFDMUI7QUFDQTs7Q0FFQyxHQUNELFNBQVNHLHVCQUF1QixFQUFFeEQsV0FBVyxFQUFFRSxRQUFRLEVBQUc7SUFDdEQsTUFBTXVELHNCQUFzQjtRQUN4QjFFLDhEQUFZQTtRQUNaaUI7UUFDQUU7S0FDSDtJQUNELE9BQU91RCxvQkFDRjlELElBQUksQ0FBQ2pCLDREQUFVQSxDQUFDa0IsbUJBQW1CLEVBQ25DQyxXQUFXO0FBQ3BCO0FBQ0E7OztDQUdDLEdBQ0QsU0FBUzZELG9CQUFvQlQsR0FBRyxFQUFFVCxNQUFNO0lBQ3BDLElBQUksQ0FBQ0EsUUFBUTtRQUNULE9BQU87SUFDWDtJQUNBLE9BQVFTLElBQUlFLE9BQU8sQ0FBQ3BFLDhEQUFZQSxNQUFNLEtBQ2xDeUQsT0FBT0MsY0FBYyxDQUFDLGVBQ3RCRCxPQUFPQyxjQUFjLENBQUM7QUFDOUI7QUFDQTs7O0NBR0MsR0FDRCxTQUFTa0IsMEJBQTBCVixHQUFHLEVBQUVULE1BQU07SUFDMUMsSUFBSSxDQUFDQSxRQUFRO1FBQ1QsT0FBTztJQUNYO0lBQ0EsT0FBUVMsSUFBSUUsT0FBTyxDQUFDbkUsOEVBQTRCQSxDQUFDb0UsU0FBUyxNQUFNLEtBQzVEWixPQUFPQyxjQUFjLENBQUMsY0FDdEJELE9BQU9DLGNBQWMsQ0FBQyxzQkFDdEJELE9BQU9DLGNBQWMsQ0FBQyx3QkFDdEJELE9BQU9DLGNBQWMsQ0FBQywwQkFDdEJELE9BQU9DLGNBQWMsQ0FBQyw2QkFDdEJELE9BQU9DLGNBQWMsQ0FBQyxxQkFDdEJELE9BQU9DLGNBQWMsQ0FBQyxhQUN0QkQsT0FBT0MsY0FBYyxDQUFDLHlCQUN0QkQsT0FBT0MsY0FBYyxDQUFDLDJCQUN0QkQsT0FBT0MsY0FBYyxDQUFDLGdCQUN0QkQsT0FBT0MsY0FBYyxDQUFDO0FBQzlCO0FBQ0E7O0NBRUMsR0FDRCxTQUFTbUI7SUFDTCxPQUFRM0UsZ0VBQVVBLEtBQ2RELDhFQUE0QkEsQ0FBQzZFLG9CQUFvQjtBQUN6RDtBQUNBLFNBQVNDLGdDQUFnQ0MsaUJBQWlCLEVBQUVDLGFBQWEsRUFBRUMsV0FBVztJQUNsRkYsa0JBQWtCRyxzQkFBc0IsR0FDcENGLGNBQWNFLHNCQUFzQjtJQUN4Q0gsa0JBQWtCSSxjQUFjLEdBQUdILGNBQWNHLGNBQWM7SUFDL0RKLGtCQUFrQkssb0JBQW9CLEdBQUdKLGNBQWNJLG9CQUFvQjtJQUMzRUwsa0JBQWtCTSxNQUFNLEdBQUdMLGNBQWNLLE1BQU07SUFDL0NOLGtCQUFrQk8sb0JBQW9CLEdBQUdMO0lBQ3pDRixrQkFBa0JRLFFBQVEsR0FBR1AsY0FBY08sUUFBUTtBQUN2RDtBQUNBLFNBQVNDLDZCQUE2QlQsaUJBQWlCLEVBQUVDLGFBQWEsRUFBRUMsV0FBVztJQUMvRUYsa0JBQWtCVSxPQUFPLEdBQUdULGNBQWNTLE9BQU87SUFDakRWLGtCQUFrQlcsZUFBZSxHQUFHVixjQUFjVSxlQUFlO0lBQ2pFWCxrQkFBa0JZLGlCQUFpQixHQUFHWCxjQUFjVyxpQkFBaUI7SUFDckVaLGtCQUFrQmEsa0JBQWtCLEdBQUdYO0FBQzNDO0FBQ0E7O0NBRUMsR0FDRCxTQUFTWSwyQkFBMkJDLFFBQVE7SUFDeEMsT0FBT0EsU0FBU0MsU0FBUyxJQUFJOUYsZ0VBQVVBO0FBQzNDO0FBRTZhLENBQzdhLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jYWNoZS91dGlscy9DYWNoZUhlbHBlcnMubWpzP2FjMjAiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBleHRyYWN0VG9rZW5DbGFpbXMgfSBmcm9tICcuLi8uLi9hY2NvdW50L0F1dGhUb2tlbi5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBTZXBhcmF0b3JzLCBDcmVkZW50aWFsVHlwZSwgQXV0aGVudGljYXRpb25TY2hlbWUsIFNFUlZFUl9URUxFTV9DT05TVEFOVFMsIFRocm90dGxpbmdDb25zdGFudHMsIEFQUF9NRVRBREFUQSwgQVVUSE9SSVRZX01FVEFEQVRBX0NPTlNUQU5UUyB9IGZyb20gJy4uLy4uL3V0aWxzL0NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgbm93U2Vjb25kcyB9IGZyb20gJy4uLy4uL3V0aWxzL1RpbWVVdGlscy5tanMnO1xuaW1wb3J0IHsgdG9rZW5DbGFpbXNDbmZSZXF1aXJlZEZvclNpZ25lZEp3dCB9IGZyb20gJy4uLy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ2FjaGUgS2V5OiA8aG9tZV9hY2NvdW50X2lkPi08ZW52aXJvbm1lbnQ+LTxjcmVkZW50aWFsX3R5cGU+LTxjbGllbnRfaWQgb3IgZmFtaWx5SWQ+LTxyZWFsbT4tPHNjb3Blcz4tPGNsYWltcyBoYXNoPi08c2NoZW1lPlxyXG4gKiBJZFRva2VuIEV4YW1wbGU6IHVpZC51dGlkLWxvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20taWR0b2tlbi1hcHBfY2xpZW50X2lkLWNvbnRvc28uY29tXHJcbiAqIEFjY2Vzc1Rva2VuIEV4YW1wbGU6IHVpZC51dGlkLWxvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20tYWNjZXNzdG9rZW4tYXBwX2NsaWVudF9pZC1jb250b3NvLmNvbS1zY29wZTEgc2NvcGUyLS1wb3BcclxuICogUmVmcmVzaFRva2VuIEV4YW1wbGU6IHVpZC51dGlkLWxvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20tcmVmcmVzaHRva2VuLTEtY29udG9zby5jb21cclxuICogQHBhcmFtIGNyZWRlbnRpYWxFbnRpdHlcclxuICogQHJldHVybnNcclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ3JlZGVudGlhbEtleShjcmVkZW50aWFsRW50aXR5KSB7XHJcbiAgICBjb25zdCBjcmVkZW50aWFsS2V5ID0gW1xyXG4gICAgICAgIGdlbmVyYXRlQWNjb3VudElkKGNyZWRlbnRpYWxFbnRpdHkpLFxyXG4gICAgICAgIGdlbmVyYXRlQ3JlZGVudGlhbElkKGNyZWRlbnRpYWxFbnRpdHkpLFxyXG4gICAgICAgIGdlbmVyYXRlVGFyZ2V0KGNyZWRlbnRpYWxFbnRpdHkpLFxyXG4gICAgICAgIGdlbmVyYXRlQ2xhaW1zSGFzaChjcmVkZW50aWFsRW50aXR5KSxcclxuICAgICAgICBnZW5lcmF0ZVNjaGVtZShjcmVkZW50aWFsRW50aXR5KSxcclxuICAgIF07XHJcbiAgICByZXR1cm4gY3JlZGVudGlhbEtleS5qb2luKFNlcGFyYXRvcnMuQ0FDSEVfS0VZX1NFUEFSQVRPUikudG9Mb3dlckNhc2UoKTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlIElkVG9rZW5FbnRpdHlcclxuICogQHBhcmFtIGhvbWVBY2NvdW50SWRcclxuICogQHBhcmFtIGF1dGhlbnRpY2F0aW9uUmVzdWx0XHJcbiAqIEBwYXJhbSBjbGllbnRJZFxyXG4gKiBAcGFyYW0gYXV0aG9yaXR5XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVJZFRva2VuRW50aXR5KGhvbWVBY2NvdW50SWQsIGVudmlyb25tZW50LCBpZFRva2VuLCBjbGllbnRJZCwgdGVuYW50SWQpIHtcclxuICAgIGNvbnN0IGlkVG9rZW5FbnRpdHkgPSB7XHJcbiAgICAgICAgY3JlZGVudGlhbFR5cGU6IENyZWRlbnRpYWxUeXBlLklEX1RPS0VOLFxyXG4gICAgICAgIGhvbWVBY2NvdW50SWQ6IGhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgZW52aXJvbm1lbnQ6IGVudmlyb25tZW50LFxyXG4gICAgICAgIGNsaWVudElkOiBjbGllbnRJZCxcclxuICAgICAgICBzZWNyZXQ6IGlkVG9rZW4sXHJcbiAgICAgICAgcmVhbG06IHRlbmFudElkLFxyXG4gICAgfTtcclxuICAgIHJldHVybiBpZFRva2VuRW50aXR5O1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGUgQWNjZXNzVG9rZW5FbnRpdHlcclxuICogQHBhcmFtIGhvbWVBY2NvdW50SWRcclxuICogQHBhcmFtIGVudmlyb25tZW50XHJcbiAqIEBwYXJhbSBhY2Nlc3NUb2tlblxyXG4gKiBAcGFyYW0gY2xpZW50SWRcclxuICogQHBhcmFtIHRlbmFudElkXHJcbiAqIEBwYXJhbSBzY29wZXNcclxuICogQHBhcmFtIGV4cGlyZXNPblxyXG4gKiBAcGFyYW0gZXh0RXhwaXJlc09uXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVBY2Nlc3NUb2tlbkVudGl0eShob21lQWNjb3VudElkLCBlbnZpcm9ubWVudCwgYWNjZXNzVG9rZW4sIGNsaWVudElkLCB0ZW5hbnRJZCwgc2NvcGVzLCBleHBpcmVzT24sIGV4dEV4cGlyZXNPbiwgYmFzZTY0RGVjb2RlLCByZWZyZXNoT24sIHRva2VuVHlwZSwgdXNlckFzc2VydGlvbkhhc2gsIGtleUlkLCByZXF1ZXN0ZWRDbGFpbXMsIHJlcXVlc3RlZENsYWltc0hhc2gpIHtcclxuICAgIGNvbnN0IGF0RW50aXR5ID0ge1xyXG4gICAgICAgIGhvbWVBY2NvdW50SWQ6IGhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgY3JlZGVudGlhbFR5cGU6IENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTixcclxuICAgICAgICBzZWNyZXQ6IGFjY2Vzc1Rva2VuLFxyXG4gICAgICAgIGNhY2hlZEF0OiBub3dTZWNvbmRzKCkudG9TdHJpbmcoKSxcclxuICAgICAgICBleHBpcmVzT246IGV4cGlyZXNPbi50b1N0cmluZygpLFxyXG4gICAgICAgIGV4dGVuZGVkRXhwaXJlc09uOiBleHRFeHBpcmVzT24udG9TdHJpbmcoKSxcclxuICAgICAgICBlbnZpcm9ubWVudDogZW52aXJvbm1lbnQsXHJcbiAgICAgICAgY2xpZW50SWQ6IGNsaWVudElkLFxyXG4gICAgICAgIHJlYWxtOiB0ZW5hbnRJZCxcclxuICAgICAgICB0YXJnZXQ6IHNjb3BlcyxcclxuICAgICAgICB0b2tlblR5cGU6IHRva2VuVHlwZSB8fCBBdXRoZW50aWNhdGlvblNjaGVtZS5CRUFSRVIsXHJcbiAgICB9O1xyXG4gICAgaWYgKHVzZXJBc3NlcnRpb25IYXNoKSB7XHJcbiAgICAgICAgYXRFbnRpdHkudXNlckFzc2VydGlvbkhhc2ggPSB1c2VyQXNzZXJ0aW9uSGFzaDtcclxuICAgIH1cclxuICAgIGlmIChyZWZyZXNoT24pIHtcclxuICAgICAgICBhdEVudGl0eS5yZWZyZXNoT24gPSByZWZyZXNoT24udG9TdHJpbmcoKTtcclxuICAgIH1cclxuICAgIGlmIChyZXF1ZXN0ZWRDbGFpbXMpIHtcclxuICAgICAgICBhdEVudGl0eS5yZXF1ZXN0ZWRDbGFpbXMgPSByZXF1ZXN0ZWRDbGFpbXM7XHJcbiAgICAgICAgYXRFbnRpdHkucmVxdWVzdGVkQ2xhaW1zSGFzaCA9IHJlcXVlc3RlZENsYWltc0hhc2g7XHJcbiAgICB9XHJcbiAgICAvKlxyXG4gICAgICogQ3JlYXRlIEFjY2VzcyBUb2tlbiBXaXRoIEF1dGggU2NoZW1lIGluc3RlYWQgb2YgcmVndWxhciBhY2Nlc3MgdG9rZW5cclxuICAgICAqIENhc3QgdG8gbG93ZXIgdG8gaGFuZGxlIFwiYmVhcmVyXCIgZnJvbSBBREZTXHJcbiAgICAgKi9cclxuICAgIGlmIChhdEVudGl0eS50b2tlblR5cGU/LnRvTG93ZXJDYXNlKCkgIT09XHJcbiAgICAgICAgQXV0aGVudGljYXRpb25TY2hlbWUuQkVBUkVSLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICBhdEVudGl0eS5jcmVkZW50aWFsVHlwZSA9IENyZWRlbnRpYWxUeXBlLkFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FO1xyXG4gICAgICAgIHN3aXRjaCAoYXRFbnRpdHkudG9rZW5UeXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgQXV0aGVudGljYXRpb25TY2hlbWUuUE9QOlxyXG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIGtleUlkIGlzIHByZXNlbnQgYW5kIGFkZCBpdCB0byBjcmVkZW50aWFsXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbkNsYWltcyA9IGV4dHJhY3RUb2tlbkNsYWltcyhhY2Nlc3NUb2tlbiwgYmFzZTY0RGVjb2RlKTtcclxuICAgICAgICAgICAgICAgIGlmICghdG9rZW5DbGFpbXM/LmNuZj8ua2lkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKHRva2VuQ2xhaW1zQ25mUmVxdWlyZWRGb3JTaWduZWRKd3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYXRFbnRpdHkua2V5SWQgPSB0b2tlbkNsYWltcy5jbmYua2lkO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgQXV0aGVudGljYXRpb25TY2hlbWUuU1NIOlxyXG4gICAgICAgICAgICAgICAgYXRFbnRpdHkua2V5SWQgPSBrZXlJZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXRFbnRpdHk7XHJcbn1cclxuLyoqXHJcbiAqIENyZWF0ZSBSZWZyZXNoVG9rZW5FbnRpdHlcclxuICogQHBhcmFtIGhvbWVBY2NvdW50SWRcclxuICogQHBhcmFtIGF1dGhlbnRpY2F0aW9uUmVzdWx0XHJcbiAqIEBwYXJhbSBjbGllbnRJZFxyXG4gKiBAcGFyYW0gYXV0aG9yaXR5XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVSZWZyZXNoVG9rZW5FbnRpdHkoaG9tZUFjY291bnRJZCwgZW52aXJvbm1lbnQsIHJlZnJlc2hUb2tlbiwgY2xpZW50SWQsIGZhbWlseUlkLCB1c2VyQXNzZXJ0aW9uSGFzaCwgZXhwaXJlc09uKSB7XHJcbiAgICBjb25zdCBydEVudGl0eSA9IHtcclxuICAgICAgICBjcmVkZW50aWFsVHlwZTogQ3JlZGVudGlhbFR5cGUuUkVGUkVTSF9UT0tFTixcclxuICAgICAgICBob21lQWNjb3VudElkOiBob21lQWNjb3VudElkLFxyXG4gICAgICAgIGVudmlyb25tZW50OiBlbnZpcm9ubWVudCxcclxuICAgICAgICBjbGllbnRJZDogY2xpZW50SWQsXHJcbiAgICAgICAgc2VjcmV0OiByZWZyZXNoVG9rZW4sXHJcbiAgICB9O1xyXG4gICAgaWYgKHVzZXJBc3NlcnRpb25IYXNoKSB7XHJcbiAgICAgICAgcnRFbnRpdHkudXNlckFzc2VydGlvbkhhc2ggPSB1c2VyQXNzZXJ0aW9uSGFzaDtcclxuICAgIH1cclxuICAgIGlmIChmYW1pbHlJZCkge1xyXG4gICAgICAgIHJ0RW50aXR5LmZhbWlseUlkID0gZmFtaWx5SWQ7XHJcbiAgICB9XHJcbiAgICBpZiAoZXhwaXJlc09uKSB7XHJcbiAgICAgICAgcnRFbnRpdHkuZXhwaXJlc09uID0gZXhwaXJlc09uLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcnRFbnRpdHk7XHJcbn1cclxuZnVuY3Rpb24gaXNDcmVkZW50aWFsRW50aXR5KGVudGl0eSkge1xyXG4gICAgcmV0dXJuIChlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJob21lQWNjb3VudElkXCIpICYmXHJcbiAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiZW52aXJvbm1lbnRcIikgJiZcclxuICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJjcmVkZW50aWFsVHlwZVwiKSAmJlxyXG4gICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImNsaWVudElkXCIpICYmXHJcbiAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwic2VjcmV0XCIpKTtcclxufVxyXG4vKipcclxuICogVmFsaWRhdGVzIGFuIGVudGl0eTogY2hlY2tzIGZvciBhbGwgZXhwZWN0ZWQgcGFyYW1zXHJcbiAqIEBwYXJhbSBlbnRpdHlcclxuICovXHJcbmZ1bmN0aW9uIGlzQWNjZXNzVG9rZW5FbnRpdHkoZW50aXR5KSB7XHJcbiAgICBpZiAoIWVudGl0eSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiAoaXNDcmVkZW50aWFsRW50aXR5KGVudGl0eSkgJiZcclxuICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJyZWFsbVwiKSAmJlxyXG4gICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcInRhcmdldFwiKSAmJlxyXG4gICAgICAgIChlbnRpdHlbXCJjcmVkZW50aWFsVHlwZVwiXSA9PT0gQ3JlZGVudGlhbFR5cGUuQUNDRVNTX1RPS0VOIHx8XHJcbiAgICAgICAgICAgIGVudGl0eVtcImNyZWRlbnRpYWxUeXBlXCJdID09PVxyXG4gICAgICAgICAgICAgICAgQ3JlZGVudGlhbFR5cGUuQUNDRVNTX1RPS0VOX1dJVEhfQVVUSF9TQ0hFTUUpKTtcclxufVxyXG4vKipcclxuICogVmFsaWRhdGVzIGFuIGVudGl0eTogY2hlY2tzIGZvciBhbGwgZXhwZWN0ZWQgcGFyYW1zXHJcbiAqIEBwYXJhbSBlbnRpdHlcclxuICovXHJcbmZ1bmN0aW9uIGlzSWRUb2tlbkVudGl0eShlbnRpdHkpIHtcclxuICAgIGlmICghZW50aXR5KSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIChpc0NyZWRlbnRpYWxFbnRpdHkoZW50aXR5KSAmJlxyXG4gICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcInJlYWxtXCIpICYmXHJcbiAgICAgICAgZW50aXR5W1wiY3JlZGVudGlhbFR5cGVcIl0gPT09IENyZWRlbnRpYWxUeXBlLklEX1RPS0VOKTtcclxufVxyXG4vKipcclxuICogVmFsaWRhdGVzIGFuIGVudGl0eTogY2hlY2tzIGZvciBhbGwgZXhwZWN0ZWQgcGFyYW1zXHJcbiAqIEBwYXJhbSBlbnRpdHlcclxuICovXHJcbmZ1bmN0aW9uIGlzUmVmcmVzaFRva2VuRW50aXR5KGVudGl0eSkge1xyXG4gICAgaWYgKCFlbnRpdHkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGlzQ3JlZGVudGlhbEVudGl0eShlbnRpdHkpICYmXHJcbiAgICAgICAgZW50aXR5W1wiY3JlZGVudGlhbFR5cGVcIl0gPT09IENyZWRlbnRpYWxUeXBlLlJFRlJFU0hfVE9LRU4pO1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBBY2NvdW50IElkIGtleSBjb21wb25lbnQgYXMgcGVyIHRoZSBzY2hlbWE6IDxob21lX2FjY291bnRfaWQ+LTxlbnZpcm9ubWVudD5cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQWNjb3VudElkKGNyZWRlbnRpYWxFbnRpdHkpIHtcclxuICAgIGNvbnN0IGFjY291bnRJZCA9IFtcclxuICAgICAgICBjcmVkZW50aWFsRW50aXR5LmhvbWVBY2NvdW50SWQsXHJcbiAgICAgICAgY3JlZGVudGlhbEVudGl0eS5lbnZpcm9ubWVudCxcclxuICAgIF07XHJcbiAgICByZXR1cm4gYWNjb3VudElkLmpvaW4oU2VwYXJhdG9ycy5DQUNIRV9LRVlfU0VQQVJBVE9SKS50b0xvd2VyQ2FzZSgpO1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBDcmVkZW50aWFsIElkIGtleSBjb21wb25lbnQgYXMgcGVyIHRoZSBzY2hlbWE6IDxjcmVkZW50aWFsX3R5cGU+LTxjbGllbnRfaWQ+LTxyZWFsbT5cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ3JlZGVudGlhbElkKGNyZWRlbnRpYWxFbnRpdHkpIHtcclxuICAgIGNvbnN0IGNsaWVudE9yRmFtaWx5SWQgPSBjcmVkZW50aWFsRW50aXR5LmNyZWRlbnRpYWxUeXBlID09PSBDcmVkZW50aWFsVHlwZS5SRUZSRVNIX1RPS0VOXHJcbiAgICAgICAgPyBjcmVkZW50aWFsRW50aXR5LmZhbWlseUlkIHx8IGNyZWRlbnRpYWxFbnRpdHkuY2xpZW50SWRcclxuICAgICAgICA6IGNyZWRlbnRpYWxFbnRpdHkuY2xpZW50SWQ7XHJcbiAgICBjb25zdCBjcmVkZW50aWFsSWQgPSBbXHJcbiAgICAgICAgY3JlZGVudGlhbEVudGl0eS5jcmVkZW50aWFsVHlwZSxcclxuICAgICAgICBjbGllbnRPckZhbWlseUlkLFxyXG4gICAgICAgIGNyZWRlbnRpYWxFbnRpdHkucmVhbG0gfHwgXCJcIixcclxuICAgIF07XHJcbiAgICByZXR1cm4gY3JlZGVudGlhbElkLmpvaW4oU2VwYXJhdG9ycy5DQUNIRV9LRVlfU0VQQVJBVE9SKS50b0xvd2VyQ2FzZSgpO1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSB0YXJnZXQga2V5IGNvbXBvbmVudCBhcyBwZXIgc2NoZW1hOiA8dGFyZ2V0PlxyXG4gKi9cclxuZnVuY3Rpb24gZ2VuZXJhdGVUYXJnZXQoY3JlZGVudGlhbEVudGl0eSkge1xyXG4gICAgcmV0dXJuIChjcmVkZW50aWFsRW50aXR5LnRhcmdldCB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSByZXF1ZXN0ZWQgY2xhaW1zIGtleSBjb21wb25lbnQgYXMgcGVyIHNjaGVtYTogPHJlcXVlc3RlZENsYWltcz5cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQ2xhaW1zSGFzaChjcmVkZW50aWFsRW50aXR5KSB7XHJcbiAgICByZXR1cm4gKGNyZWRlbnRpYWxFbnRpdHkucmVxdWVzdGVkQ2xhaW1zSGFzaCB8fCBcIlwiKS50b0xvd2VyQ2FzZSgpO1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBzY2hlbWUga2V5IGNvbXBvbmVuZXQgYXMgcGVyIHNjaGVtYTogPHNjaGVtZT5cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlU2NoZW1lKGNyZWRlbnRpYWxFbnRpdHkpIHtcclxuICAgIC8qXHJcbiAgICAgKiBQb1AgVG9rZW5zIGFuZCBTU0ggY2VydHMgaW5jbHVkZSBzY2hlbWUgaW4gY2FjaGUga2V5XHJcbiAgICAgKiBDYXN0IHRvIGxvd2VyY2FzZSB0byBoYW5kbGUgXCJiZWFyZXJcIiBmcm9tIEFERlNcclxuICAgICAqL1xyXG4gICAgcmV0dXJuIGNyZWRlbnRpYWxFbnRpdHkudG9rZW5UeXBlICYmXHJcbiAgICAgICAgY3JlZGVudGlhbEVudGl0eS50b2tlblR5cGUudG9Mb3dlckNhc2UoKSAhPT1cclxuICAgICAgICAgICAgQXV0aGVudGljYXRpb25TY2hlbWUuQkVBUkVSLnRvTG93ZXJDYXNlKClcclxuICAgICAgICA/IGNyZWRlbnRpYWxFbnRpdHkudG9rZW5UeXBlLnRvTG93ZXJDYXNlKClcclxuICAgICAgICA6IFwiXCI7XHJcbn1cclxuLyoqXHJcbiAqIHZhbGlkYXRlcyBpZiBhIGdpdmVuIGNhY2hlIGVudHJ5IGlzIFwiVGVsZW1ldHJ5XCIsIHBhcnNlcyA8a2V5LHZhbHVlPlxyXG4gKiBAcGFyYW0ga2V5XHJcbiAqIEBwYXJhbSBlbnRpdHlcclxuICovXHJcbmZ1bmN0aW9uIGlzU2VydmVyVGVsZW1ldHJ5RW50aXR5KGtleSwgZW50aXR5KSB7XHJcbiAgICBjb25zdCB2YWxpZGF0ZUtleSA9IGtleS5pbmRleE9mKFNFUlZFUl9URUxFTV9DT05TVEFOVFMuQ0FDSEVfS0VZKSA9PT0gMDtcclxuICAgIGxldCB2YWxpZGF0ZUVudGl0eSA9IHRydWU7XHJcbiAgICBpZiAoZW50aXR5KSB7XHJcbiAgICAgICAgdmFsaWRhdGVFbnRpdHkgPVxyXG4gICAgICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJmYWlsZWRSZXF1ZXN0c1wiKSAmJlxyXG4gICAgICAgICAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiZXJyb3JzXCIpICYmXHJcbiAgICAgICAgICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJjYWNoZUhpdHNcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdmFsaWRhdGVLZXkgJiYgdmFsaWRhdGVFbnRpdHk7XHJcbn1cclxuLyoqXHJcbiAqIHZhbGlkYXRlcyBpZiBhIGdpdmVuIGNhY2hlIGVudHJ5IGlzIFwiVGhyb3R0bGluZ1wiLCBwYXJzZXMgPGtleSx2YWx1ZT5cclxuICogQHBhcmFtIGtleVxyXG4gKiBAcGFyYW0gZW50aXR5XHJcbiAqL1xyXG5mdW5jdGlvbiBpc1Rocm90dGxpbmdFbnRpdHkoa2V5LCBlbnRpdHkpIHtcclxuICAgIGxldCB2YWxpZGF0ZUtleSA9IGZhbHNlO1xyXG4gICAgaWYgKGtleSkge1xyXG4gICAgICAgIHZhbGlkYXRlS2V5ID0ga2V5LmluZGV4T2YoVGhyb3R0bGluZ0NvbnN0YW50cy5USFJPVFRMSU5HX1BSRUZJWCkgPT09IDA7XHJcbiAgICB9XHJcbiAgICBsZXQgdmFsaWRhdGVFbnRpdHkgPSB0cnVlO1xyXG4gICAgaWYgKGVudGl0eSkge1xyXG4gICAgICAgIHZhbGlkYXRlRW50aXR5ID0gZW50aXR5Lmhhc093blByb3BlcnR5KFwidGhyb3R0bGVUaW1lXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbGlkYXRlS2V5ICYmIHZhbGlkYXRlRW50aXR5O1xyXG59XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZSBBcHBNZXRhZGF0YSBDYWNoZSBLZXkgYXMgcGVyIHRoZSBzY2hlbWE6IGFwcG1ldGFkYXRhLTxlbnZpcm9ubWVudD4tPGNsaWVudF9pZD5cclxuICovXHJcbmZ1bmN0aW9uIGdlbmVyYXRlQXBwTWV0YWRhdGFLZXkoeyBlbnZpcm9ubWVudCwgY2xpZW50SWQsIH0pIHtcclxuICAgIGNvbnN0IGFwcE1ldGFEYXRhS2V5QXJyYXkgPSBbXHJcbiAgICAgICAgQVBQX01FVEFEQVRBLFxyXG4gICAgICAgIGVudmlyb25tZW50LFxyXG4gICAgICAgIGNsaWVudElkLFxyXG4gICAgXTtcclxuICAgIHJldHVybiBhcHBNZXRhRGF0YUtleUFycmF5XHJcbiAgICAgICAgLmpvaW4oU2VwYXJhdG9ycy5DQUNIRV9LRVlfU0VQQVJBVE9SKVxyXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpO1xyXG59XHJcbi8qXHJcbiAqIFZhbGlkYXRlcyBhbiBlbnRpdHk6IGNoZWNrcyBmb3IgYWxsIGV4cGVjdGVkIHBhcmFtc1xyXG4gKiBAcGFyYW0gZW50aXR5XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0FwcE1ldGFkYXRhRW50aXR5KGtleSwgZW50aXR5KSB7XHJcbiAgICBpZiAoIWVudGl0eSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiAoa2V5LmluZGV4T2YoQVBQX01FVEFEQVRBKSA9PT0gMCAmJlxyXG4gICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImNsaWVudElkXCIpICYmXHJcbiAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwiZW52aXJvbm1lbnRcIikpO1xyXG59XHJcbi8qKlxyXG4gKiBWYWxpZGF0ZXMgYW4gZW50aXR5OiBjaGVja3MgZm9yIGFsbCBleHBlY3RlZCBwYXJhbXNcclxuICogQHBhcmFtIGVudGl0eVxyXG4gKi9cclxuZnVuY3Rpb24gaXNBdXRob3JpdHlNZXRhZGF0YUVudGl0eShrZXksIGVudGl0eSkge1xyXG4gICAgaWYgKCFlbnRpdHkpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKGtleS5pbmRleE9mKEFVVEhPUklUWV9NRVRBREFUQV9DT05TVEFOVFMuQ0FDSEVfS0VZKSA9PT0gMCAmJlxyXG4gICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImFsaWFzZXNcIikgJiZcclxuICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJwcmVmZXJyZWRfY2FjaGVcIikgJiZcclxuICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJwcmVmZXJyZWRfbmV0d29ya1wiKSAmJlxyXG4gICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImNhbm9uaWNhbF9hdXRob3JpdHlcIikgJiZcclxuICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJhdXRob3JpemF0aW9uX2VuZHBvaW50XCIpICYmXHJcbiAgICAgICAgZW50aXR5Lmhhc093blByb3BlcnR5KFwidG9rZW5fZW5kcG9pbnRcIikgJiZcclxuICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJpc3N1ZXJcIikgJiZcclxuICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJhbGlhc2VzRnJvbU5ldHdvcmtcIikgJiZcclxuICAgICAgICBlbnRpdHkuaGFzT3duUHJvcGVydHkoXCJlbmRwb2ludHNGcm9tTmV0d29ya1wiKSAmJlxyXG4gICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImV4cGlyZXNBdFwiKSAmJlxyXG4gICAgICAgIGVudGl0eS5oYXNPd25Qcm9wZXJ0eShcImp3a3NfdXJpXCIpKTtcclxufVxyXG4vKipcclxuICogUmVzZXQgdGhlIGV4aXJlc0F0IHZhbHVlXHJcbiAqL1xyXG5mdW5jdGlvbiBnZW5lcmF0ZUF1dGhvcml0eU1ldGFkYXRhRXhwaXJlc0F0KCkge1xyXG4gICAgcmV0dXJuIChub3dTZWNvbmRzKCkgK1xyXG4gICAgICAgIEFVVEhPUklUWV9NRVRBREFUQV9DT05TVEFOVFMuUkVGUkVTSF9USU1FX1NFQ09ORFMpO1xyXG59XHJcbmZ1bmN0aW9uIHVwZGF0ZUF1dGhvcml0eUVuZHBvaW50TWV0YWRhdGEoYXV0aG9yaXR5TWV0YWRhdGEsIHVwZGF0ZWRWYWx1ZXMsIGZyb21OZXR3b3JrKSB7XHJcbiAgICBhdXRob3JpdHlNZXRhZGF0YS5hdXRob3JpemF0aW9uX2VuZHBvaW50ID1cclxuICAgICAgICB1cGRhdGVkVmFsdWVzLmF1dGhvcml6YXRpb25fZW5kcG9pbnQ7XHJcbiAgICBhdXRob3JpdHlNZXRhZGF0YS50b2tlbl9lbmRwb2ludCA9IHVwZGF0ZWRWYWx1ZXMudG9rZW5fZW5kcG9pbnQ7XHJcbiAgICBhdXRob3JpdHlNZXRhZGF0YS5lbmRfc2Vzc2lvbl9lbmRwb2ludCA9IHVwZGF0ZWRWYWx1ZXMuZW5kX3Nlc3Npb25fZW5kcG9pbnQ7XHJcbiAgICBhdXRob3JpdHlNZXRhZGF0YS5pc3N1ZXIgPSB1cGRhdGVkVmFsdWVzLmlzc3VlcjtcclxuICAgIGF1dGhvcml0eU1ldGFkYXRhLmVuZHBvaW50c0Zyb21OZXR3b3JrID0gZnJvbU5ldHdvcms7XHJcbiAgICBhdXRob3JpdHlNZXRhZGF0YS5qd2tzX3VyaSA9IHVwZGF0ZWRWYWx1ZXMuandrc191cmk7XHJcbn1cclxuZnVuY3Rpb24gdXBkYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YShhdXRob3JpdHlNZXRhZGF0YSwgdXBkYXRlZFZhbHVlcywgZnJvbU5ldHdvcmspIHtcclxuICAgIGF1dGhvcml0eU1ldGFkYXRhLmFsaWFzZXMgPSB1cGRhdGVkVmFsdWVzLmFsaWFzZXM7XHJcbiAgICBhdXRob3JpdHlNZXRhZGF0YS5wcmVmZXJyZWRfY2FjaGUgPSB1cGRhdGVkVmFsdWVzLnByZWZlcnJlZF9jYWNoZTtcclxuICAgIGF1dGhvcml0eU1ldGFkYXRhLnByZWZlcnJlZF9uZXR3b3JrID0gdXBkYXRlZFZhbHVlcy5wcmVmZXJyZWRfbmV0d29yaztcclxuICAgIGF1dGhvcml0eU1ldGFkYXRhLmFsaWFzZXNGcm9tTmV0d29yayA9IGZyb21OZXR3b3JrO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBkYXRhIG5lZWRzIHRvIGJlIHJlZnJlc2hlZFxyXG4gKi9cclxuZnVuY3Rpb24gaXNBdXRob3JpdHlNZXRhZGF0YUV4cGlyZWQobWV0YWRhdGEpIHtcclxuICAgIHJldHVybiBtZXRhZGF0YS5leHBpcmVzQXQgPD0gbm93U2Vjb25kcygpO1xyXG59XG5cbmV4cG9ydCB7IGNyZWF0ZUFjY2Vzc1Rva2VuRW50aXR5LCBjcmVhdGVJZFRva2VuRW50aXR5LCBjcmVhdGVSZWZyZXNoVG9rZW5FbnRpdHksIGdlbmVyYXRlQXBwTWV0YWRhdGFLZXksIGdlbmVyYXRlQXV0aG9yaXR5TWV0YWRhdGFFeHBpcmVzQXQsIGdlbmVyYXRlQ3JlZGVudGlhbEtleSwgaXNBY2Nlc3NUb2tlbkVudGl0eSwgaXNBcHBNZXRhZGF0YUVudGl0eSwgaXNBdXRob3JpdHlNZXRhZGF0YUVudGl0eSwgaXNBdXRob3JpdHlNZXRhZGF0YUV4cGlyZWQsIGlzQ3JlZGVudGlhbEVudGl0eSwgaXNJZFRva2VuRW50aXR5LCBpc1JlZnJlc2hUb2tlbkVudGl0eSwgaXNTZXJ2ZXJUZWxlbWV0cnlFbnRpdHksIGlzVGhyb3R0bGluZ0VudGl0eSwgdXBkYXRlQXV0aG9yaXR5RW5kcG9pbnRNZXRhZGF0YSwgdXBkYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FjaGVIZWxwZXJzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJleHRyYWN0VG9rZW5DbGFpbXMiLCJjcmVhdGVDbGllbnRBdXRoRXJyb3IiLCJTZXBhcmF0b3JzIiwiQ3JlZGVudGlhbFR5cGUiLCJBdXRoZW50aWNhdGlvblNjaGVtZSIsIlNFUlZFUl9URUxFTV9DT05TVEFOVFMiLCJUaHJvdHRsaW5nQ29uc3RhbnRzIiwiQVBQX01FVEFEQVRBIiwiQVVUSE9SSVRZX01FVEFEQVRBX0NPTlNUQU5UUyIsIm5vd1NlY29uZHMiLCJ0b2tlbkNsYWltc0NuZlJlcXVpcmVkRm9yU2lnbmVkSnd0IiwiZ2VuZXJhdGVDcmVkZW50aWFsS2V5IiwiY3JlZGVudGlhbEVudGl0eSIsImNyZWRlbnRpYWxLZXkiLCJnZW5lcmF0ZUFjY291bnRJZCIsImdlbmVyYXRlQ3JlZGVudGlhbElkIiwiZ2VuZXJhdGVUYXJnZXQiLCJnZW5lcmF0ZUNsYWltc0hhc2giLCJnZW5lcmF0ZVNjaGVtZSIsImpvaW4iLCJDQUNIRV9LRVlfU0VQQVJBVE9SIiwidG9Mb3dlckNhc2UiLCJjcmVhdGVJZFRva2VuRW50aXR5IiwiaG9tZUFjY291bnRJZCIsImVudmlyb25tZW50IiwiaWRUb2tlbiIsImNsaWVudElkIiwidGVuYW50SWQiLCJpZFRva2VuRW50aXR5IiwiY3JlZGVudGlhbFR5cGUiLCJJRF9UT0tFTiIsInNlY3JldCIsInJlYWxtIiwiY3JlYXRlQWNjZXNzVG9rZW5FbnRpdHkiLCJhY2Nlc3NUb2tlbiIsInNjb3BlcyIsImV4cGlyZXNPbiIsImV4dEV4cGlyZXNPbiIsImJhc2U2NERlY29kZSIsInJlZnJlc2hPbiIsInRva2VuVHlwZSIsInVzZXJBc3NlcnRpb25IYXNoIiwia2V5SWQiLCJyZXF1ZXN0ZWRDbGFpbXMiLCJyZXF1ZXN0ZWRDbGFpbXNIYXNoIiwiYXRFbnRpdHkiLCJBQ0NFU1NfVE9LRU4iLCJjYWNoZWRBdCIsInRvU3RyaW5nIiwiZXh0ZW5kZWRFeHBpcmVzT24iLCJ0YXJnZXQiLCJCRUFSRVIiLCJBQ0NFU1NfVE9LRU5fV0lUSF9BVVRIX1NDSEVNRSIsIlBPUCIsInRva2VuQ2xhaW1zIiwiY25mIiwia2lkIiwiU1NIIiwiY3JlYXRlUmVmcmVzaFRva2VuRW50aXR5IiwicmVmcmVzaFRva2VuIiwiZmFtaWx5SWQiLCJydEVudGl0eSIsIlJFRlJFU0hfVE9LRU4iLCJpc0NyZWRlbnRpYWxFbnRpdHkiLCJlbnRpdHkiLCJoYXNPd25Qcm9wZXJ0eSIsImlzQWNjZXNzVG9rZW5FbnRpdHkiLCJpc0lkVG9rZW5FbnRpdHkiLCJpc1JlZnJlc2hUb2tlbkVudGl0eSIsImFjY291bnRJZCIsImNsaWVudE9yRmFtaWx5SWQiLCJjcmVkZW50aWFsSWQiLCJpc1NlcnZlclRlbGVtZXRyeUVudGl0eSIsImtleSIsInZhbGlkYXRlS2V5IiwiaW5kZXhPZiIsIkNBQ0hFX0tFWSIsInZhbGlkYXRlRW50aXR5IiwiaXNUaHJvdHRsaW5nRW50aXR5IiwiVEhST1RUTElOR19QUkVGSVgiLCJnZW5lcmF0ZUFwcE1ldGFkYXRhS2V5IiwiYXBwTWV0YURhdGFLZXlBcnJheSIsImlzQXBwTWV0YWRhdGFFbnRpdHkiLCJpc0F1dGhvcml0eU1ldGFkYXRhRW50aXR5IiwiZ2VuZXJhdGVBdXRob3JpdHlNZXRhZGF0YUV4cGlyZXNBdCIsIlJFRlJFU0hfVElNRV9TRUNPTkRTIiwidXBkYXRlQXV0aG9yaXR5RW5kcG9pbnRNZXRhZGF0YSIsImF1dGhvcml0eU1ldGFkYXRhIiwidXBkYXRlZFZhbHVlcyIsImZyb21OZXR3b3JrIiwiYXV0aG9yaXphdGlvbl9lbmRwb2ludCIsInRva2VuX2VuZHBvaW50IiwiZW5kX3Nlc3Npb25fZW5kcG9pbnQiLCJpc3N1ZXIiLCJlbmRwb2ludHNGcm9tTmV0d29yayIsImp3a3NfdXJpIiwidXBkYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YSIsImFsaWFzZXMiLCJwcmVmZXJyZWRfY2FjaGUiLCJwcmVmZXJyZWRfbmV0d29yayIsImFsaWFzZXNGcm9tTmV0d29yayIsImlzQXV0aG9yaXR5TWV0YWRhdGFFeHBpcmVkIiwibWV0YWRhdGEiLCJleHBpcmVzQXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/cache/utils/CacheHelpers.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/client/AuthorizationCodeClient.mjs":
/*!*********************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/client/AuthorizationCodeClient.mjs ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthorizationCodeClient: () => (/* binding */ AuthorizationCodeClient)\n/* harmony export */ });\n/* harmony import */ var _BaseClient_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseClient.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/client/BaseClient.mjs\");\n/* harmony import */ var _request_RequestParameterBuilder_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../request/RequestParameterBuilder.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/request/RequestParameterBuilder.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../constants/AADServerParamKeys.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/constants/AADServerParamKeys.mjs\");\n/* harmony import */ var _config_ClientConfiguration_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../config/ClientConfiguration.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/config/ClientConfiguration.mjs\");\n/* harmony import */ var _response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../response/ResponseHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/response/ResponseHandler.mjs\");\n/* harmony import */ var _utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../utils/StringUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/StringUtils.mjs\");\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../url/UrlString.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs\");\n/* harmony import */ var _crypto_PopTokenGenerator_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../crypto/PopTokenGenerator.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/crypto/PopTokenGenerator.mjs\");\n/* harmony import */ var _utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/TimeUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/TimeUtils.mjs\");\n/* harmony import */ var _account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../account/ClientInfo.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/ClientInfo.mjs\");\n/* harmony import */ var _account_CcsCredential_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../account/CcsCredential.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/CcsCredential.mjs\");\n/* harmony import */ var _error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../error/ClientConfigurationError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs\");\n/* harmony import */ var _request_RequestValidator_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../request/RequestValidator.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/request/RequestValidator.mjs\");\n/* harmony import */ var _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../telemetry/performance/PerformanceEvent.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/FunctionWrappers.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _utils_ClientAssertionUtils_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../utils/ClientAssertionUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/ClientAssertionUtils.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/* harmony import */ var _error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../error/ClientConfigurationErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Oauth2.0 Authorization Code client\r\n * @internal\r\n */ class AuthorizationCodeClient extends _BaseClient_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseClient {\n    constructor(configuration, performanceClient){\n        super(configuration, performanceClient);\n        // Flag to indicate if client is for hybrid spa auth code redemption\n        this.includeRedirectUri = true;\n        this.oidcDefaultScopes = this.config.authOptions.authority.options.OIDCOptions?.defaultScopes;\n    }\n    /**\r\n     * Creates the URL of the authorization request letting the user input credentials and consent to the\r\n     * application. The URL target the /authorize endpoint of the authority configured in the\r\n     * application object.\r\n     *\r\n     * Once the user inputs their credentials and consents, the authority will send a response to the redirect URI\r\n     * sent in the request and should contain an authorization code, which can then be used to acquire tokens via\r\n     * acquireToken(AuthorizationCodeRequest)\r\n     * @param request\r\n     */ async getAuthCodeUrl(request) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.GetAuthCodeUrl, request.correlationId);\n        const queryString = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(this.createAuthCodeUrlQueryString.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.AuthClientCreateQueryString, this.logger, this.performanceClient, request.correlationId)(request);\n        return _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__.UrlString.appendQueryString(this.authority.authorizationEndpoint, queryString);\n    }\n    /**\r\n     * API to acquire a token in exchange of 'authorization_code` acquired by the user in the first leg of the\r\n     * authorization_code_grant\r\n     * @param request\r\n     */ async acquireToken(request, authCodePayload) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.AuthClientAcquireToken, request.correlationId);\n        if (!request.code) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.requestCannotBeMade);\n        }\n        const reqTimestamp = (0,_utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_6__.nowSeconds)();\n        const response = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(this.executeTokenRequest.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.AuthClientExecuteTokenRequest, this.logger, this.performanceClient, request.correlationId)(this.authority, request);\n        // Retrieve requestId from response headers\n        const requestId = response.headers?.[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_7__.HeaderNames.X_MS_REQUEST_ID];\n        const responseHandler = new _response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_8__.ResponseHandler(this.config.authOptions.clientId, this.cacheManager, this.cryptoUtils, this.logger, this.config.serializableCache, this.config.persistencePlugin, this.performanceClient);\n        // Validate response. This function throws a server error if an error is returned by the server.\n        responseHandler.validateTokenResponse(response.body);\n        return (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(responseHandler.handleServerTokenResponse.bind(responseHandler), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.HandleServerTokenResponse, this.logger, this.performanceClient, request.correlationId)(response.body, this.authority, reqTimestamp, request, authCodePayload, undefined, undefined, undefined, requestId);\n    }\n    /**\r\n     * Handles the hash fragment response from public client code request. Returns a code response used by\r\n     * the client to exchange for a token in acquireToken.\r\n     * @param hashFragment\r\n     */ handleFragmentResponse(serverParams, cachedState) {\n        // Handle responses.\n        const responseHandler = new _response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_8__.ResponseHandler(this.config.authOptions.clientId, this.cacheManager, this.cryptoUtils, this.logger, null, null);\n        // Get code response\n        responseHandler.validateServerAuthorizationCodeResponse(serverParams, cachedState);\n        // throw when there is no auth code in the response\n        if (!serverParams.code) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.authorizationCodeMissingFromServerResponse);\n        }\n        return serverParams;\n    }\n    /**\r\n     * Used to log out the current user, and redirect the user to the postLogoutRedirectUri.\r\n     * Default behaviour is to redirect the user to `window.location.href`.\r\n     * @param authorityUri\r\n     */ getLogoutUri(logoutRequest) {\n        // Throw error if logoutRequest is null/undefined\n        if (!logoutRequest) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_9__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_10__.logoutRequestEmpty);\n        }\n        const queryString = this.createLogoutUrlQueryString(logoutRequest);\n        // Construct logout URI\n        return _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__.UrlString.appendQueryString(this.authority.endSessionEndpoint, queryString);\n    }\n    /**\r\n     * Executes POST request to token endpoint\r\n     * @param authority\r\n     * @param request\r\n     */ async executeTokenRequest(authority, request) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.AuthClientExecuteTokenRequest, request.correlationId);\n        const queryParametersString = this.createTokenQueryParameters(request);\n        const endpoint = _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_3__.UrlString.appendQueryString(authority.tokenEndpoint, queryParametersString);\n        const requestBody = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(this.createTokenRequestBody.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.AuthClientCreateTokenRequestBody, this.logger, this.performanceClient, request.correlationId)(request);\n        let ccsCredential = undefined;\n        if (request.clientInfo) {\n            try {\n                const clientInfo = (0,_account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_11__.buildClientInfo)(request.clientInfo, this.cryptoUtils.base64Decode);\n                ccsCredential = {\n                    credential: `${clientInfo.uid}${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_7__.Separators.CLIENT_INFO_SEPARATOR}${clientInfo.utid}`,\n                    type: _account_CcsCredential_mjs__WEBPACK_IMPORTED_MODULE_12__.CcsCredentialType.HOME_ACCOUNT_ID\n                };\n            } catch (e) {\n                this.logger.verbose(\"Could not parse client info for CCS Header: \" + e);\n            }\n        }\n        const headers = this.createTokenRequestHeaders(ccsCredential || request.ccsCredential);\n        const thumbprint = {\n            clientId: request.tokenBodyParameters?.clientId || this.config.authOptions.clientId,\n            authority: authority.canonicalAuthority,\n            scopes: request.scopes,\n            claims: request.claims,\n            authenticationScheme: request.authenticationScheme,\n            resourceRequestMethod: request.resourceRequestMethod,\n            resourceRequestUri: request.resourceRequestUri,\n            shrClaims: request.shrClaims,\n            sshKid: request.sshKid\n        };\n        return (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(this.executePostToTokenEndpoint.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.AuthorizationCodeClientExecutePostToTokenEndpoint, this.logger, this.performanceClient, request.correlationId)(endpoint, requestBody, headers, thumbprint, request.correlationId, _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.AuthorizationCodeClientExecutePostToTokenEndpoint);\n    }\n    /**\r\n     * Generates a map for all the params to be sent to the service\r\n     * @param request\r\n     */ async createTokenRequestBody(request) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.AuthClientCreateTokenRequestBody, request.correlationId);\n        const parameterBuilder = new _request_RequestParameterBuilder_mjs__WEBPACK_IMPORTED_MODULE_13__.RequestParameterBuilder(request.correlationId, this.performanceClient);\n        parameterBuilder.addClientId(request.embeddedClientId || request.tokenBodyParameters?.[_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_14__.CLIENT_ID] || this.config.authOptions.clientId);\n        /*\r\n         * For hybrid spa flow, there will be a code but no verifier\r\n         * In this scenario, don't include redirect uri as auth code will not be bound to redirect URI\r\n         */ if (!this.includeRedirectUri) {\n            // Just validate\n            _request_RequestValidator_mjs__WEBPACK_IMPORTED_MODULE_15__.RequestValidator.validateRedirectUri(request.redirectUri);\n        } else {\n            // Validate and include redirect uri\n            parameterBuilder.addRedirectUri(request.redirectUri);\n        }\n        // Add scope array, parameter builder will add default scopes and dedupe\n        parameterBuilder.addScopes(request.scopes, true, this.oidcDefaultScopes);\n        // add code: user set, not validated\n        parameterBuilder.addAuthorizationCode(request.code);\n        // Add library metadata\n        parameterBuilder.addLibraryInfo(this.config.libraryInfo);\n        parameterBuilder.addApplicationTelemetry(this.config.telemetry.application);\n        parameterBuilder.addThrottling();\n        if (this.serverTelemetryManager && !(0,_config_ClientConfiguration_mjs__WEBPACK_IMPORTED_MODULE_16__.isOidcProtocolMode)(this.config)) {\n            parameterBuilder.addServerTelemetry(this.serverTelemetryManager);\n        }\n        // add code_verifier if passed\n        if (request.codeVerifier) {\n            parameterBuilder.addCodeVerifier(request.codeVerifier);\n        }\n        if (this.config.clientCredentials.clientSecret) {\n            parameterBuilder.addClientSecret(this.config.clientCredentials.clientSecret);\n        }\n        if (this.config.clientCredentials.clientAssertion) {\n            const clientAssertion = this.config.clientCredentials.clientAssertion;\n            parameterBuilder.addClientAssertion(await (0,_utils_ClientAssertionUtils_mjs__WEBPACK_IMPORTED_MODULE_17__.getClientAssertion)(clientAssertion.assertion, this.config.authOptions.clientId, request.resourceRequestUri));\n            parameterBuilder.addClientAssertionType(clientAssertion.assertionType);\n        }\n        parameterBuilder.addGrantType(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_7__.GrantType.AUTHORIZATION_CODE_GRANT);\n        parameterBuilder.addClientInfo();\n        if (request.authenticationScheme === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_7__.AuthenticationScheme.POP) {\n            const popTokenGenerator = new _crypto_PopTokenGenerator_mjs__WEBPACK_IMPORTED_MODULE_18__.PopTokenGenerator(this.cryptoUtils, this.performanceClient);\n            let reqCnfData;\n            if (!request.popKid) {\n                const generatedReqCnfData = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(popTokenGenerator.generateCnf.bind(popTokenGenerator), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.PopTokenGenerateCnf, this.logger, this.performanceClient, request.correlationId)(request, this.logger);\n                reqCnfData = generatedReqCnfData.reqCnfString;\n            } else {\n                reqCnfData = this.cryptoUtils.encodeKid(request.popKid);\n            }\n            // SPA PoP requires full Base64Url encoded req_cnf string (unhashed)\n            parameterBuilder.addPopToken(reqCnfData);\n        } else if (request.authenticationScheme === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_7__.AuthenticationScheme.SSH) {\n            if (request.sshJwk) {\n                parameterBuilder.addSshJwk(request.sshJwk);\n            } else {\n                throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_9__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_10__.missingSshJwk);\n            }\n        }\n        if (!_utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_19__.StringUtils.isEmptyObj(request.claims) || this.config.authOptions.clientCapabilities && this.config.authOptions.clientCapabilities.length > 0) {\n            parameterBuilder.addClaims(request.claims, this.config.authOptions.clientCapabilities);\n        }\n        let ccsCred = undefined;\n        if (request.clientInfo) {\n            try {\n                const clientInfo = (0,_account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_11__.buildClientInfo)(request.clientInfo, this.cryptoUtils.base64Decode);\n                ccsCred = {\n                    credential: `${clientInfo.uid}${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_7__.Separators.CLIENT_INFO_SEPARATOR}${clientInfo.utid}`,\n                    type: _account_CcsCredential_mjs__WEBPACK_IMPORTED_MODULE_12__.CcsCredentialType.HOME_ACCOUNT_ID\n                };\n            } catch (e) {\n                this.logger.verbose(\"Could not parse client info for CCS Header: \" + e);\n            }\n        } else {\n            ccsCred = request.ccsCredential;\n        }\n        // Adds these as parameters in the request instead of headers to prevent CORS preflight request\n        if (this.config.systemOptions.preventCorsPreflight && ccsCred) {\n            switch(ccsCred.type){\n                case _account_CcsCredential_mjs__WEBPACK_IMPORTED_MODULE_12__.CcsCredentialType.HOME_ACCOUNT_ID:\n                    try {\n                        const clientInfo = (0,_account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_11__.buildClientInfoFromHomeAccountId)(ccsCred.credential);\n                        parameterBuilder.addCcsOid(clientInfo);\n                    } catch (e) {\n                        this.logger.verbose(\"Could not parse home account ID for CCS Header: \" + e);\n                    }\n                    break;\n                case _account_CcsCredential_mjs__WEBPACK_IMPORTED_MODULE_12__.CcsCredentialType.UPN:\n                    parameterBuilder.addCcsUpn(ccsCred.credential);\n                    break;\n            }\n        }\n        if (request.embeddedClientId) {\n            parameterBuilder.addBrokerParameters({\n                brokerClientId: this.config.authOptions.clientId,\n                brokerRedirectUri: this.config.authOptions.redirectUri\n            });\n        }\n        if (request.tokenBodyParameters) {\n            parameterBuilder.addExtraQueryParameters(request.tokenBodyParameters);\n        }\n        // Add hybrid spa parameters if not already provided\n        if (request.enableSpaAuthorizationCode && (!request.tokenBodyParameters || !request.tokenBodyParameters[_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_14__.RETURN_SPA_CODE])) {\n            parameterBuilder.addExtraQueryParameters({\n                [_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_14__.RETURN_SPA_CODE]: \"1\"\n            });\n        }\n        return parameterBuilder.createQueryString();\n    }\n    /**\r\n     * This API validates the `AuthorizationCodeUrlRequest` and creates a URL\r\n     * @param request\r\n     */ async createAuthCodeUrlQueryString(request) {\n        // generate the correlationId if not set by the user and add\n        const correlationId = request.correlationId || this.config.cryptoInterface.createNewGuid();\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.AuthClientCreateQueryString, correlationId);\n        const parameterBuilder = new _request_RequestParameterBuilder_mjs__WEBPACK_IMPORTED_MODULE_13__.RequestParameterBuilder(correlationId, this.performanceClient);\n        parameterBuilder.addClientId(request.embeddedClientId || request.extraQueryParameters?.[_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_14__.CLIENT_ID] || this.config.authOptions.clientId);\n        const requestScopes = [\n            ...request.scopes || [],\n            ...request.extraScopesToConsent || []\n        ];\n        parameterBuilder.addScopes(requestScopes, true, this.oidcDefaultScopes);\n        // validate the redirectUri (to be a non null value)\n        parameterBuilder.addRedirectUri(request.redirectUri);\n        parameterBuilder.addCorrelationId(correlationId);\n        // add response_mode. If not passed in it defaults to query.\n        parameterBuilder.addResponseMode(request.responseMode);\n        // add response_type = code\n        parameterBuilder.addResponseTypeCode();\n        // add library info parameters\n        parameterBuilder.addLibraryInfo(this.config.libraryInfo);\n        if (!(0,_config_ClientConfiguration_mjs__WEBPACK_IMPORTED_MODULE_16__.isOidcProtocolMode)(this.config)) {\n            parameterBuilder.addApplicationTelemetry(this.config.telemetry.application);\n        }\n        // add client_info=1\n        parameterBuilder.addClientInfo();\n        if (request.codeChallenge && request.codeChallengeMethod) {\n            parameterBuilder.addCodeChallengeParams(request.codeChallenge, request.codeChallengeMethod);\n        }\n        if (request.prompt) {\n            parameterBuilder.addPrompt(request.prompt);\n        }\n        if (request.domainHint) {\n            parameterBuilder.addDomainHint(request.domainHint);\n        }\n        // Add sid or loginHint with preference for login_hint claim (in request) -> sid -> loginHint (upn/email) -> username of AccountInfo object\n        if (request.prompt !== _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_7__.PromptValue.SELECT_ACCOUNT) {\n            // AAD will throw if prompt=select_account is passed with an account hint\n            if (request.sid && request.prompt === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_7__.PromptValue.NONE) {\n                // SessionID is only used in silent calls\n                this.logger.verbose(\"createAuthCodeUrlQueryString: Prompt is none, adding sid from request\");\n                parameterBuilder.addSid(request.sid);\n            } else if (request.account) {\n                const accountSid = this.extractAccountSid(request.account);\n                let accountLoginHintClaim = this.extractLoginHint(request.account);\n                if (accountLoginHintClaim && request.domainHint) {\n                    this.logger.warning(`AuthorizationCodeClient.createAuthCodeUrlQueryString: \"domainHint\" param is set, skipping opaque \"login_hint\" claim. Please consider not passing domainHint`);\n                    accountLoginHintClaim = null;\n                }\n                // If login_hint claim is present, use it over sid/username\n                if (accountLoginHintClaim) {\n                    this.logger.verbose(\"createAuthCodeUrlQueryString: login_hint claim present on account\");\n                    parameterBuilder.addLoginHint(accountLoginHintClaim);\n                    try {\n                        const clientInfo = (0,_account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_11__.buildClientInfoFromHomeAccountId)(request.account.homeAccountId);\n                        parameterBuilder.addCcsOid(clientInfo);\n                    } catch (e) {\n                        this.logger.verbose(\"createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header\");\n                    }\n                } else if (accountSid && request.prompt === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_7__.PromptValue.NONE) {\n                    /*\r\n                     * If account and loginHint are provided, we will check account first for sid before adding loginHint\r\n                     * SessionId is only used in silent calls\r\n                     */ this.logger.verbose(\"createAuthCodeUrlQueryString: Prompt is none, adding sid from account\");\n                    parameterBuilder.addSid(accountSid);\n                    try {\n                        const clientInfo = (0,_account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_11__.buildClientInfoFromHomeAccountId)(request.account.homeAccountId);\n                        parameterBuilder.addCcsOid(clientInfo);\n                    } catch (e) {\n                        this.logger.verbose(\"createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header\");\n                    }\n                } else if (request.loginHint) {\n                    this.logger.verbose(\"createAuthCodeUrlQueryString: Adding login_hint from request\");\n                    parameterBuilder.addLoginHint(request.loginHint);\n                    parameterBuilder.addCcsUpn(request.loginHint);\n                } else if (request.account.username) {\n                    // Fallback to account username if provided\n                    this.logger.verbose(\"createAuthCodeUrlQueryString: Adding login_hint from account\");\n                    parameterBuilder.addLoginHint(request.account.username);\n                    try {\n                        const clientInfo = (0,_account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_11__.buildClientInfoFromHomeAccountId)(request.account.homeAccountId);\n                        parameterBuilder.addCcsOid(clientInfo);\n                    } catch (e) {\n                        this.logger.verbose(\"createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header\");\n                    }\n                }\n            } else if (request.loginHint) {\n                this.logger.verbose(\"createAuthCodeUrlQueryString: No account, adding login_hint from request\");\n                parameterBuilder.addLoginHint(request.loginHint);\n                parameterBuilder.addCcsUpn(request.loginHint);\n            }\n        } else {\n            this.logger.verbose(\"createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints\");\n        }\n        if (request.nonce) {\n            parameterBuilder.addNonce(request.nonce);\n        }\n        if (request.state) {\n            parameterBuilder.addState(request.state);\n        }\n        if (request.claims || this.config.authOptions.clientCapabilities && this.config.authOptions.clientCapabilities.length > 0) {\n            parameterBuilder.addClaims(request.claims, this.config.authOptions.clientCapabilities);\n        }\n        if (request.embeddedClientId) {\n            parameterBuilder.addBrokerParameters({\n                brokerClientId: this.config.authOptions.clientId,\n                brokerRedirectUri: this.config.authOptions.redirectUri\n            });\n        }\n        this.addExtraQueryParams(request, parameterBuilder);\n        if (request.nativeBroker) {\n            // signal ests that this is a WAM call\n            parameterBuilder.addNativeBroker();\n            // pass the req_cnf for POP\n            if (request.authenticationScheme === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_7__.AuthenticationScheme.POP) {\n                const popTokenGenerator = new _crypto_PopTokenGenerator_mjs__WEBPACK_IMPORTED_MODULE_18__.PopTokenGenerator(this.cryptoUtils);\n                // req_cnf is always sent as a string for SPAs\n                let reqCnfData;\n                if (!request.popKid) {\n                    const generatedReqCnfData = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_2__.invokeAsync)(popTokenGenerator.generateCnf.bind(popTokenGenerator), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.PopTokenGenerateCnf, this.logger, this.performanceClient, request.correlationId)(request, this.logger);\n                    reqCnfData = generatedReqCnfData.reqCnfString;\n                } else {\n                    reqCnfData = this.cryptoUtils.encodeKid(request.popKid);\n                }\n                parameterBuilder.addPopToken(reqCnfData);\n            }\n        }\n        return parameterBuilder.createQueryString();\n    }\n    /**\r\n     * This API validates the `EndSessionRequest` and creates a URL\r\n     * @param request\r\n     */ createLogoutUrlQueryString(request) {\n        const parameterBuilder = new _request_RequestParameterBuilder_mjs__WEBPACK_IMPORTED_MODULE_13__.RequestParameterBuilder(request.correlationId, this.performanceClient);\n        if (request.postLogoutRedirectUri) {\n            parameterBuilder.addPostLogoutRedirectUri(request.postLogoutRedirectUri);\n        }\n        if (request.correlationId) {\n            parameterBuilder.addCorrelationId(request.correlationId);\n        }\n        if (request.idTokenHint) {\n            parameterBuilder.addIdTokenHint(request.idTokenHint);\n        }\n        if (request.state) {\n            parameterBuilder.addState(request.state);\n        }\n        if (request.logoutHint) {\n            parameterBuilder.addLogoutHint(request.logoutHint);\n        }\n        this.addExtraQueryParams(request, parameterBuilder);\n        return parameterBuilder.createQueryString();\n    }\n    addExtraQueryParams(request, parameterBuilder) {\n        const hasRequestInstanceAware = request.extraQueryParameters && request.extraQueryParameters.hasOwnProperty(\"instance_aware\");\n        // Set instance_aware flag if config auth param is set\n        if (!hasRequestInstanceAware && this.config.authOptions.instanceAware) {\n            request.extraQueryParameters = request.extraQueryParameters || {};\n            request.extraQueryParameters[\"instance_aware\"] = \"true\";\n        }\n        if (request.extraQueryParameters) {\n            parameterBuilder.addExtraQueryParameters(request.extraQueryParameters);\n        }\n    }\n    /**\r\n     * Helper to get sid from account. Returns null if idTokenClaims are not present or sid is not present.\r\n     * @param account\r\n     */ extractAccountSid(account) {\n        return account.idTokenClaims?.sid || null;\n    }\n    extractLoginHint(account) {\n        return account.idTokenClaims?.login_hint || null;\n    }\n}\n //# sourceMappingURL=AuthorizationCodeClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2xpZW50L0F1dGhvcml6YXRpb25Db2RlQ2xpZW50Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDOEM7QUFDbUM7QUFDOEI7QUFDOUI7QUFDVjtBQUNMO0FBQ1g7QUFDYztBQUNwQjtBQUNtQjtBQUNoQjtBQUMwQztBQUM3QjtBQUNzQjtBQUNwQjtBQUNlO0FBQ3RCO0FBQ1c7QUFDNkM7QUFDckI7QUFFL0Y7OztDQUdDLEdBQ0Q7OztDQUdDLEdBQ0QsTUFBTTRCLGdDQUFnQzVCLHVEQUFVQTtJQUM1QzZCLFlBQVlDLGFBQWEsRUFBRUMsaUJBQWlCLENBQUU7UUFDMUMsS0FBSyxDQUFDRCxlQUFlQztRQUNyQixvRUFBb0U7UUFDcEUsSUFBSSxDQUFDQyxrQkFBa0IsR0FBRztRQUMxQixJQUFJLENBQUNDLGlCQUFpQixHQUNsQixJQUFJLENBQUNDLE1BQU0sQ0FBQ0MsV0FBVyxDQUFDQyxTQUFTLENBQUNDLE9BQU8sQ0FBQ0MsV0FBVyxFQUFFQztJQUMvRDtJQUNBOzs7Ozs7Ozs7S0FTQyxHQUNELE1BQU1DLGVBQWVDLE9BQU8sRUFBRTtRQUMxQixJQUFJLENBQUNWLGlCQUFpQixFQUFFVyxvQkFBb0JyQiwwRkFBaUJBLENBQUNzQixjQUFjLEVBQUVGLFFBQVFHLGFBQWE7UUFDbkcsTUFBTUMsY0FBYyxNQUFNdkIsd0VBQVdBLENBQUMsSUFBSSxDQUFDd0IsNEJBQTRCLENBQUNDLElBQUksQ0FBQyxJQUFJLEdBQUcxQiwwRkFBaUJBLENBQUMyQiwyQkFBMkIsRUFBRSxJQUFJLENBQUNDLE1BQU0sRUFBRSxJQUFJLENBQUNsQixpQkFBaUIsRUFBRVUsUUFBUUcsYUFBYSxFQUFFSDtRQUMvTCxPQUFPNUIseURBQVNBLENBQUNxQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUNkLFNBQVMsQ0FBQ2UscUJBQXFCLEVBQUVOO0lBQzdF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N0M7SUFDQW1DLG9CQUFvQnBLLE9BQU8sRUFBRXdFLGdCQUFnQixFQUFFO1FBQzNDLE1BQU1xRywwQkFBMEI3SyxRQUFRb0ksb0JBQW9CLElBQ3hEcEksUUFBUW9JLG9CQUFvQixDQUFDMEMsY0FBYyxDQUFDO1FBQ2hELHNEQUFzRDtRQUN0RCxJQUFJLENBQUNELDJCQUEyQixJQUFJLENBQUNwTCxNQUFNLENBQUNDLFdBQVcsQ0FBQ3FMLGFBQWEsRUFBRTtZQUNuRS9LLFFBQVFvSSxvQkFBb0IsR0FBR3BJLFFBQVFvSSxvQkFBb0IsSUFBSSxDQUFDO1lBQ2hFcEksUUFBUW9JLG9CQUFvQixDQUFDLGlCQUFpQixHQUFHO1FBQ3JEO1FBQ0EsSUFBSXBJLFFBQVFvSSxvQkFBb0IsRUFBRTtZQUM5QjVELGlCQUFpQnVELHVCQUF1QixDQUFDL0gsUUFBUW9JLG9CQUFvQjtRQUN6RTtJQUNKO0lBQ0E7OztLQUdDLEdBQ0RvQixrQkFBa0JGLE9BQU8sRUFBRTtRQUN2QixPQUFPQSxRQUFRMEIsYUFBYSxFQUFFN0IsT0FBTztJQUN6QztJQUNBTyxpQkFBaUJKLE9BQU8sRUFBRTtRQUN0QixPQUFPQSxRQUFRMEIsYUFBYSxFQUFFQyxjQUFjO0lBQ2hEO0FBQ0o7QUFFbUMsQ0FDbkMsb0RBQW9EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2NsaWVudC9BdXRob3JpemF0aW9uQ29kZUNsaWVudC5tanM/M2IzOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IEJhc2VDbGllbnQgfSBmcm9tICcuL0Jhc2VDbGllbnQubWpzJztcbmltcG9ydCB7IFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyIH0gZnJvbSAnLi4vcmVxdWVzdC9SZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5tanMnO1xuaW1wb3J0IHsgU2VwYXJhdG9ycywgR3JhbnRUeXBlLCBBdXRoZW50aWNhdGlvblNjaGVtZSwgUHJvbXB0VmFsdWUsIEhlYWRlck5hbWVzIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBDTElFTlRfSUQsIFJFVFVSTl9TUEFfQ09ERSB9IGZyb20gJy4uL2NvbnN0YW50cy9BQURTZXJ2ZXJQYXJhbUtleXMubWpzJztcbmltcG9ydCB7IGlzT2lkY1Byb3RvY29sTW9kZSB9IGZyb20gJy4uL2NvbmZpZy9DbGllbnRDb25maWd1cmF0aW9uLm1qcyc7XG5pbXBvcnQgeyBSZXNwb25zZUhhbmRsZXIgfSBmcm9tICcuLi9yZXNwb25zZS9SZXNwb25zZUhhbmRsZXIubWpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvU3RyaW5nVXRpbHMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudEF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgVXJsU3RyaW5nIH0gZnJvbSAnLi4vdXJsL1VybFN0cmluZy5tanMnO1xuaW1wb3J0IHsgUG9wVG9rZW5HZW5lcmF0b3IgfSBmcm9tICcuLi9jcnlwdG8vUG9wVG9rZW5HZW5lcmF0b3IubWpzJztcbmltcG9ydCB7IG5vd1NlY29uZHMgfSBmcm9tICcuLi91dGlscy9UaW1lVXRpbHMubWpzJztcbmltcG9ydCB7IGJ1aWxkQ2xpZW50SW5mbywgYnVpbGRDbGllbnRJbmZvRnJvbUhvbWVBY2NvdW50SWQgfSBmcm9tICcuLi9hY2NvdW50L0NsaWVudEluZm8ubWpzJztcbmltcG9ydCB7IENjc0NyZWRlbnRpYWxUeXBlIH0gZnJvbSAnLi4vYWNjb3VudC9DY3NDcmVkZW50aWFsLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRDb25maWd1cmF0aW9uRXJyb3IubWpzJztcbmltcG9ydCB7IFJlcXVlc3RWYWxpZGF0b3IgfSBmcm9tICcuLi9yZXF1ZXN0L1JlcXVlc3RWYWxpZGF0b3IubWpzJztcbmltcG9ydCB7IFBlcmZvcm1hbmNlRXZlbnRzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3BlcmZvcm1hbmNlL1BlcmZvcm1hbmNlRXZlbnQubWpzJztcbmltcG9ydCB7IGludm9rZUFzeW5jIH0gZnJvbSAnLi4vdXRpbHMvRnVuY3Rpb25XcmFwcGVycy5tanMnO1xuaW1wb3J0IHsgZ2V0Q2xpZW50QXNzZXJ0aW9uIH0gZnJvbSAnLi4vdXRpbHMvQ2xpZW50QXNzZXJ0aW9uVXRpbHMubWpzJztcbmltcG9ydCB7IHJlcXVlc3RDYW5ub3RCZU1hZGUsIGF1dGhvcml6YXRpb25Db2RlTWlzc2luZ0Zyb21TZXJ2ZXJSZXNwb25zZSB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvckNvZGVzLm1qcyc7XG5pbXBvcnQgeyBsb2dvdXRSZXF1ZXN0RW1wdHksIG1pc3NpbmdTc2hKd2sgfSBmcm9tICcuLi9lcnJvci9DbGllbnRDb25maWd1cmF0aW9uRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIE9hdXRoMi4wIEF1dGhvcml6YXRpb24gQ29kZSBjbGllbnRcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5jbGFzcyBBdXRob3JpemF0aW9uQ29kZUNsaWVudCBleHRlbmRzIEJhc2VDbGllbnQge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbiwgcGVyZm9ybWFuY2VDbGllbnQpIHtcclxuICAgICAgICBzdXBlcihjb25maWd1cmF0aW9uLCBwZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICAgICAgLy8gRmxhZyB0byBpbmRpY2F0ZSBpZiBjbGllbnQgaXMgZm9yIGh5YnJpZCBzcGEgYXV0aCBjb2RlIHJlZGVtcHRpb25cclxuICAgICAgICB0aGlzLmluY2x1ZGVSZWRpcmVjdFVyaSA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5vaWRjRGVmYXVsdFNjb3BlcyA9XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmF1dGhvcml0eS5vcHRpb25zLk9JRENPcHRpb25zPy5kZWZhdWx0U2NvcGVzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHRoZSBVUkwgb2YgdGhlIGF1dGhvcml6YXRpb24gcmVxdWVzdCBsZXR0aW5nIHRoZSB1c2VyIGlucHV0IGNyZWRlbnRpYWxzIGFuZCBjb25zZW50IHRvIHRoZVxyXG4gICAgICogYXBwbGljYXRpb24uIFRoZSBVUkwgdGFyZ2V0IHRoZSAvYXV0aG9yaXplIGVuZHBvaW50IG9mIHRoZSBhdXRob3JpdHkgY29uZmlndXJlZCBpbiB0aGVcclxuICAgICAqIGFwcGxpY2F0aW9uIG9iamVjdC5cclxuICAgICAqXHJcbiAgICAgKiBPbmNlIHRoZSB1c2VyIGlucHV0cyB0aGVpciBjcmVkZW50aWFscyBhbmQgY29uc2VudHMsIHRoZSBhdXRob3JpdHkgd2lsbCBzZW5kIGEgcmVzcG9uc2UgdG8gdGhlIHJlZGlyZWN0IFVSSVxyXG4gICAgICogc2VudCBpbiB0aGUgcmVxdWVzdCBhbmQgc2hvdWxkIGNvbnRhaW4gYW4gYXV0aG9yaXphdGlvbiBjb2RlLCB3aGljaCBjYW4gdGhlbiBiZSB1c2VkIHRvIGFjcXVpcmUgdG9rZW5zIHZpYVxyXG4gICAgICogYWNxdWlyZVRva2VuKEF1dGhvcml6YXRpb25Db2RlUmVxdWVzdClcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdldEF1dGhDb2RlVXJsKHJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkdldEF1dGhDb2RlVXJsLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gYXdhaXQgaW52b2tlQXN5bmModGhpcy5jcmVhdGVBdXRoQ29kZVVybFF1ZXJ5U3RyaW5nLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhDbGllbnRDcmVhdGVRdWVyeVN0cmluZywgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkocmVxdWVzdCk7XHJcbiAgICAgICAgcmV0dXJuIFVybFN0cmluZy5hcHBlbmRRdWVyeVN0cmluZyh0aGlzLmF1dGhvcml0eS5hdXRob3JpemF0aW9uRW5kcG9pbnQsIHF1ZXJ5U3RyaW5nKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQVBJIHRvIGFjcXVpcmUgYSB0b2tlbiBpbiBleGNoYW5nZSBvZiAnYXV0aG9yaXphdGlvbl9jb2RlYCBhY3F1aXJlZCBieSB0aGUgdXNlciBpbiB0aGUgZmlyc3QgbGVnIG9mIHRoZVxyXG4gICAgICogYXV0aG9yaXphdGlvbl9jb2RlX2dyYW50XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBhY3F1aXJlVG9rZW4ocmVxdWVzdCwgYXV0aENvZGVQYXlsb2FkKSB7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudD8uYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5BdXRoQ2xpZW50QWNxdWlyZVRva2VuLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGlmICghcmVxdWVzdC5jb2RlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihyZXF1ZXN0Q2Fubm90QmVNYWRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgcmVxVGltZXN0YW1wID0gbm93U2Vjb25kcygpO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaW52b2tlQXN5bmModGhpcy5leGVjdXRlVG9rZW5SZXF1ZXN0LmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhDbGllbnRFeGVjdXRlVG9rZW5SZXF1ZXN0LCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKSh0aGlzLmF1dGhvcml0eSwgcmVxdWVzdCk7XHJcbiAgICAgICAgLy8gUmV0cmlldmUgcmVxdWVzdElkIGZyb20gcmVzcG9uc2UgaGVhZGVyc1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IHJlc3BvbnNlLmhlYWRlcnM/LltIZWFkZXJOYW1lcy5YX01TX1JFUVVFU1RfSURdO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlSGFuZGxlciA9IG5ldyBSZXNwb25zZUhhbmRsZXIodGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50SWQsIHRoaXMuY2FjaGVNYW5hZ2VyLCB0aGlzLmNyeXB0b1V0aWxzLCB0aGlzLmxvZ2dlciwgdGhpcy5jb25maWcuc2VyaWFsaXphYmxlQ2FjaGUsIHRoaXMuY29uZmlnLnBlcnNpc3RlbmNlUGx1Z2luLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50KTtcclxuICAgICAgICAvLyBWYWxpZGF0ZSByZXNwb25zZS4gVGhpcyBmdW5jdGlvbiB0aHJvd3MgYSBzZXJ2ZXIgZXJyb3IgaWYgYW4gZXJyb3IgaXMgcmV0dXJuZWQgYnkgdGhlIHNlcnZlci5cclxuICAgICAgICByZXNwb25zZUhhbmRsZXIudmFsaWRhdGVUb2tlblJlc3BvbnNlKHJlc3BvbnNlLmJvZHkpO1xyXG4gICAgICAgIHJldHVybiBpbnZva2VBc3luYyhyZXNwb25zZUhhbmRsZXIuaGFuZGxlU2VydmVyVG9rZW5SZXNwb25zZS5iaW5kKHJlc3BvbnNlSGFuZGxlciksIFBlcmZvcm1hbmNlRXZlbnRzLkhhbmRsZVNlcnZlclRva2VuUmVzcG9uc2UsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKHJlc3BvbnNlLmJvZHksIHRoaXMuYXV0aG9yaXR5LCByZXFUaW1lc3RhbXAsIHJlcXVlc3QsIGF1dGhDb2RlUGF5bG9hZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgcmVxdWVzdElkKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSGFuZGxlcyB0aGUgaGFzaCBmcmFnbWVudCByZXNwb25zZSBmcm9tIHB1YmxpYyBjbGllbnQgY29kZSByZXF1ZXN0LiBSZXR1cm5zIGEgY29kZSByZXNwb25zZSB1c2VkIGJ5XHJcbiAgICAgKiB0aGUgY2xpZW50IHRvIGV4Y2hhbmdlIGZvciBhIHRva2VuIGluIGFjcXVpcmVUb2tlbi5cclxuICAgICAqIEBwYXJhbSBoYXNoRnJhZ21lbnRcclxuICAgICAqL1xyXG4gICAgaGFuZGxlRnJhZ21lbnRSZXNwb25zZShzZXJ2ZXJQYXJhbXMsIGNhY2hlZFN0YXRlKSB7XHJcbiAgICAgICAgLy8gSGFuZGxlIHJlc3BvbnNlcy5cclxuICAgICAgICBjb25zdCByZXNwb25zZUhhbmRsZXIgPSBuZXcgUmVzcG9uc2VIYW5kbGVyKHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmNsaWVudElkLCB0aGlzLmNhY2hlTWFuYWdlciwgdGhpcy5jcnlwdG9VdGlscywgdGhpcy5sb2dnZXIsIG51bGwsIG51bGwpO1xyXG4gICAgICAgIC8vIEdldCBjb2RlIHJlc3BvbnNlXHJcbiAgICAgICAgcmVzcG9uc2VIYW5kbGVyLnZhbGlkYXRlU2VydmVyQXV0aG9yaXphdGlvbkNvZGVSZXNwb25zZShzZXJ2ZXJQYXJhbXMsIGNhY2hlZFN0YXRlKTtcclxuICAgICAgICAvLyB0aHJvdyB3aGVuIHRoZXJlIGlzIG5vIGF1dGggY29kZSBpbiB0aGUgcmVzcG9uc2VcclxuICAgICAgICBpZiAoIXNlcnZlclBhcmFtcy5jb2RlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihhdXRob3JpemF0aW9uQ29kZU1pc3NpbmdGcm9tU2VydmVyUmVzcG9uc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2VydmVyUGFyYW1zO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2VkIHRvIGxvZyBvdXQgdGhlIGN1cnJlbnQgdXNlciwgYW5kIHJlZGlyZWN0IHRoZSB1c2VyIHRvIHRoZSBwb3N0TG9nb3V0UmVkaXJlY3RVcmkuXHJcbiAgICAgKiBEZWZhdWx0IGJlaGF2aW91ciBpcyB0byByZWRpcmVjdCB0aGUgdXNlciB0byBgd2luZG93LmxvY2F0aW9uLmhyZWZgLlxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVVyaVxyXG4gICAgICovXHJcbiAgICBnZXRMb2dvdXRVcmkobG9nb3V0UmVxdWVzdCkge1xyXG4gICAgICAgIC8vIFRocm93IGVycm9yIGlmIGxvZ291dFJlcXVlc3QgaXMgbnVsbC91bmRlZmluZWRcclxuICAgICAgICBpZiAoIWxvZ291dFJlcXVlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKGxvZ291dFJlcXVlc3RFbXB0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHF1ZXJ5U3RyaW5nID0gdGhpcy5jcmVhdGVMb2dvdXRVcmxRdWVyeVN0cmluZyhsb2dvdXRSZXF1ZXN0KTtcclxuICAgICAgICAvLyBDb25zdHJ1Y3QgbG9nb3V0IFVSSVxyXG4gICAgICAgIHJldHVybiBVcmxTdHJpbmcuYXBwZW5kUXVlcnlTdHJpbmcodGhpcy5hdXRob3JpdHkuZW5kU2Vzc2lvbkVuZHBvaW50LCBxdWVyeVN0cmluZyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGVzIFBPU1QgcmVxdWVzdCB0byB0b2tlbiBlbmRwb2ludFxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZXhlY3V0ZVRva2VuUmVxdWVzdChhdXRob3JpdHksIHJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhDbGllbnRFeGVjdXRlVG9rZW5SZXF1ZXN0LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1ldGVyc1N0cmluZyA9IHRoaXMuY3JlYXRlVG9rZW5RdWVyeVBhcmFtZXRlcnMocmVxdWVzdCk7XHJcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBVcmxTdHJpbmcuYXBwZW5kUXVlcnlTdHJpbmcoYXV0aG9yaXR5LnRva2VuRW5kcG9pbnQsIHF1ZXJ5UGFyYW1ldGVyc1N0cmluZyk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdEJvZHkgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmNyZWF0ZVRva2VuUmVxdWVzdEJvZHkuYmluZCh0aGlzKSwgUGVyZm9ybWFuY2VFdmVudHMuQXV0aENsaWVudENyZWF0ZVRva2VuUmVxdWVzdEJvZHksIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKHJlcXVlc3QpO1xyXG4gICAgICAgIGxldCBjY3NDcmVkZW50aWFsID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGlmIChyZXF1ZXN0LmNsaWVudEluZm8pIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudEluZm8gPSBidWlsZENsaWVudEluZm8ocmVxdWVzdC5jbGllbnRJbmZvLCB0aGlzLmNyeXB0b1V0aWxzLmJhc2U2NERlY29kZSk7XHJcbiAgICAgICAgICAgICAgICBjY3NDcmVkZW50aWFsID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNyZWRlbnRpYWw6IGAke2NsaWVudEluZm8udWlkfSR7U2VwYXJhdG9ycy5DTElFTlRfSU5GT19TRVBBUkFUT1J9JHtjbGllbnRJbmZvLnV0aWR9YCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBDY3NDcmVkZW50aWFsVHlwZS5IT01FX0FDQ09VTlRfSUQsXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiQ291bGQgbm90IHBhcnNlIGNsaWVudCBpbmZvIGZvciBDQ1MgSGVhZGVyOiBcIiArIGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0aGlzLmNyZWF0ZVRva2VuUmVxdWVzdEhlYWRlcnMoY2NzQ3JlZGVudGlhbCB8fCByZXF1ZXN0LmNjc0NyZWRlbnRpYWwpO1xyXG4gICAgICAgIGNvbnN0IHRodW1icHJpbnQgPSB7XHJcbiAgICAgICAgICAgIGNsaWVudElkOiByZXF1ZXN0LnRva2VuQm9keVBhcmFtZXRlcnM/LmNsaWVudElkIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRJZCxcclxuICAgICAgICAgICAgYXV0aG9yaXR5OiBhdXRob3JpdHkuY2Fub25pY2FsQXV0aG9yaXR5LFxyXG4gICAgICAgICAgICBzY29wZXM6IHJlcXVlc3Quc2NvcGVzLFxyXG4gICAgICAgICAgICBjbGFpbXM6IHJlcXVlc3QuY2xhaW1zLFxyXG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvblNjaGVtZTogcmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSxcclxuICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0TWV0aG9kOiByZXF1ZXN0LnJlc291cmNlUmVxdWVzdE1ldGhvZCxcclxuICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0VXJpOiByZXF1ZXN0LnJlc291cmNlUmVxdWVzdFVyaSxcclxuICAgICAgICAgICAgc2hyQ2xhaW1zOiByZXF1ZXN0LnNockNsYWltcyxcclxuICAgICAgICAgICAgc3NoS2lkOiByZXF1ZXN0LnNzaEtpZCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBpbnZva2VBc3luYyh0aGlzLmV4ZWN1dGVQb3N0VG9Ub2tlbkVuZHBvaW50LmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhvcml6YXRpb25Db2RlQ2xpZW50RXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKGVuZHBvaW50LCByZXF1ZXN0Qm9keSwgaGVhZGVycywgdGh1bWJwcmludCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkLCBQZXJmb3JtYW5jZUV2ZW50cy5BdXRob3JpemF0aW9uQ29kZUNsaWVudEV4ZWN1dGVQb3N0VG9Ub2tlbkVuZHBvaW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGVzIGEgbWFwIGZvciBhbGwgdGhlIHBhcmFtcyB0byBiZSBzZW50IHRvIHRoZSBzZXJ2aWNlXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBjcmVhdGVUb2tlblJlcXVlc3RCb2R5KHJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhDbGllbnRDcmVhdGVUb2tlblJlcXVlc3RCb2R5LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtZXRlckJ1aWxkZXIgPSBuZXcgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIocmVxdWVzdC5jb3JyZWxhdGlvbklkLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50KTtcclxuICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENsaWVudElkKHJlcXVlc3QuZW1iZWRkZWRDbGllbnRJZCB8fFxyXG4gICAgICAgICAgICByZXF1ZXN0LnRva2VuQm9keVBhcmFtZXRlcnM/LltDTElFTlRfSURdIHx8XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmNsaWVudElkKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIEZvciBoeWJyaWQgc3BhIGZsb3csIHRoZXJlIHdpbGwgYmUgYSBjb2RlIGJ1dCBubyB2ZXJpZmllclxyXG4gICAgICAgICAqIEluIHRoaXMgc2NlbmFyaW8sIGRvbid0IGluY2x1ZGUgcmVkaXJlY3QgdXJpIGFzIGF1dGggY29kZSB3aWxsIG5vdCBiZSBib3VuZCB0byByZWRpcmVjdCBVUklcclxuICAgICAgICAgKi9cclxuICAgICAgICBpZiAoIXRoaXMuaW5jbHVkZVJlZGlyZWN0VXJpKSB7XHJcbiAgICAgICAgICAgIC8vIEp1c3QgdmFsaWRhdGVcclxuICAgICAgICAgICAgUmVxdWVzdFZhbGlkYXRvci52YWxpZGF0ZVJlZGlyZWN0VXJpKHJlcXVlc3QucmVkaXJlY3RVcmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gVmFsaWRhdGUgYW5kIGluY2x1ZGUgcmVkaXJlY3QgdXJpXHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkUmVkaXJlY3RVcmkocmVxdWVzdC5yZWRpcmVjdFVyaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkZCBzY29wZSBhcnJheSwgcGFyYW1ldGVyIGJ1aWxkZXIgd2lsbCBhZGQgZGVmYXVsdCBzY29wZXMgYW5kIGRlZHVwZVxyXG4gICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkU2NvcGVzKHJlcXVlc3Quc2NvcGVzLCB0cnVlLCB0aGlzLm9pZGNEZWZhdWx0U2NvcGVzKTtcclxuICAgICAgICAvLyBhZGQgY29kZTogdXNlciBzZXQsIG5vdCB2YWxpZGF0ZWRcclxuICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZEF1dGhvcml6YXRpb25Db2RlKHJlcXVlc3QuY29kZSk7XHJcbiAgICAgICAgLy8gQWRkIGxpYnJhcnkgbWV0YWRhdGFcclxuICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZExpYnJhcnlJbmZvKHRoaXMuY29uZmlnLmxpYnJhcnlJbmZvKTtcclxuICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZEFwcGxpY2F0aW9uVGVsZW1ldHJ5KHRoaXMuY29uZmlnLnRlbGVtZXRyeS5hcHBsaWNhdGlvbik7XHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRUaHJvdHRsaW5nKCk7XHJcbiAgICAgICAgaWYgKHRoaXMuc2VydmVyVGVsZW1ldHJ5TWFuYWdlciAmJiAhaXNPaWRjUHJvdG9jb2xNb2RlKHRoaXMuY29uZmlnKSkge1xyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZFNlcnZlclRlbGVtZXRyeSh0aGlzLnNlcnZlclRlbGVtZXRyeU1hbmFnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBhZGQgY29kZV92ZXJpZmllciBpZiBwYXNzZWRcclxuICAgICAgICBpZiAocmVxdWVzdC5jb2RlVmVyaWZpZXIpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDb2RlVmVyaWZpZXIocmVxdWVzdC5jb2RlVmVyaWZpZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5jb25maWcuY2xpZW50Q3JlZGVudGlhbHMuY2xpZW50U2VjcmV0KSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2xpZW50U2VjcmV0KHRoaXMuY29uZmlnLmNsaWVudENyZWRlbnRpYWxzLmNsaWVudFNlY3JldCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5jbGllbnRDcmVkZW50aWFscy5jbGllbnRBc3NlcnRpb24pIHtcclxuICAgICAgICAgICAgY29uc3QgY2xpZW50QXNzZXJ0aW9uID0gdGhpcy5jb25maWcuY2xpZW50Q3JlZGVudGlhbHMuY2xpZW50QXNzZXJ0aW9uO1xyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENsaWVudEFzc2VydGlvbihhd2FpdCBnZXRDbGllbnRBc3NlcnRpb24oY2xpZW50QXNzZXJ0aW9uLmFzc2VydGlvbiwgdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50SWQsIHJlcXVlc3QucmVzb3VyY2VSZXF1ZXN0VXJpKSk7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2xpZW50QXNzZXJ0aW9uVHlwZShjbGllbnRBc3NlcnRpb24uYXNzZXJ0aW9uVHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkR3JhbnRUeXBlKEdyYW50VHlwZS5BVVRIT1JJWkFUSU9OX0NPREVfR1JBTlQpO1xyXG4gICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2xpZW50SW5mbygpO1xyXG4gICAgICAgIGlmIChyZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lID09PSBBdXRoZW50aWNhdGlvblNjaGVtZS5QT1ApIHtcclxuICAgICAgICAgICAgY29uc3QgcG9wVG9rZW5HZW5lcmF0b3IgPSBuZXcgUG9wVG9rZW5HZW5lcmF0b3IodGhpcy5jcnlwdG9VdGlscywgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICAgICAgICAgIGxldCByZXFDbmZEYXRhO1xyXG4gICAgICAgICAgICBpZiAoIXJlcXVlc3QucG9wS2lkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBnZW5lcmF0ZWRSZXFDbmZEYXRhID0gYXdhaXQgaW52b2tlQXN5bmMocG9wVG9rZW5HZW5lcmF0b3IuZ2VuZXJhdGVDbmYuYmluZChwb3BUb2tlbkdlbmVyYXRvciksIFBlcmZvcm1hbmNlRXZlbnRzLlBvcFRva2VuR2VuZXJhdGVDbmYsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKHJlcXVlc3QsIHRoaXMubG9nZ2VyKTtcclxuICAgICAgICAgICAgICAgIHJlcUNuZkRhdGEgPSBnZW5lcmF0ZWRSZXFDbmZEYXRhLnJlcUNuZlN0cmluZztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlcUNuZkRhdGEgPSB0aGlzLmNyeXB0b1V0aWxzLmVuY29kZUtpZChyZXF1ZXN0LnBvcEtpZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gU1BBIFBvUCByZXF1aXJlcyBmdWxsIEJhc2U2NFVybCBlbmNvZGVkIHJlcV9jbmYgc3RyaW5nICh1bmhhc2hlZClcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRQb3BUb2tlbihyZXFDbmZEYXRhKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAocmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSA9PT0gQXV0aGVudGljYXRpb25TY2hlbWUuU1NIKSB7XHJcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnNzaEp3aykge1xyXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRTc2hKd2socmVxdWVzdC5zc2hKd2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKG1pc3NpbmdTc2hKd2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghU3RyaW5nVXRpbHMuaXNFbXB0eU9iaihyZXF1ZXN0LmNsYWltcykgfHxcclxuICAgICAgICAgICAgKHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmNsaWVudENhcGFiaWxpdGllcyAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50Q2FwYWJpbGl0aWVzLmxlbmd0aCA+IDApKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2xhaW1zKHJlcXVlc3QuY2xhaW1zLCB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRDYXBhYmlsaXRpZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgY2NzQ3JlZCA9IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAocmVxdWVzdC5jbGllbnRJbmZvKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRJbmZvID0gYnVpbGRDbGllbnRJbmZvKHJlcXVlc3QuY2xpZW50SW5mbywgdGhpcy5jcnlwdG9VdGlscy5iYXNlNjREZWNvZGUpO1xyXG4gICAgICAgICAgICAgICAgY2NzQ3JlZCA9IHtcclxuICAgICAgICAgICAgICAgICAgICBjcmVkZW50aWFsOiBgJHtjbGllbnRJbmZvLnVpZH0ke1NlcGFyYXRvcnMuQ0xJRU5UX0lORk9fU0VQQVJBVE9SfSR7Y2xpZW50SW5mby51dGlkfWAsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogQ2NzQ3JlZGVudGlhbFR5cGUuSE9NRV9BQ0NPVU5UX0lELFxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkNvdWxkIG5vdCBwYXJzZSBjbGllbnQgaW5mbyBmb3IgQ0NTIEhlYWRlcjogXCIgKyBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY2NzQ3JlZCA9IHJlcXVlc3QuY2NzQ3JlZGVudGlhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkcyB0aGVzZSBhcyBwYXJhbWV0ZXJzIGluIHRoZSByZXF1ZXN0IGluc3RlYWQgb2YgaGVhZGVycyB0byBwcmV2ZW50IENPUlMgcHJlZmxpZ2h0IHJlcXVlc3RcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuc3lzdGVtT3B0aW9ucy5wcmV2ZW50Q29yc1ByZWZsaWdodCAmJiBjY3NDcmVkKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoY2NzQ3JlZC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENjc0NyZWRlbnRpYWxUeXBlLkhPTUVfQUNDT1VOVF9JRDpcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRJbmZvID0gYnVpbGRDbGllbnRJbmZvRnJvbUhvbWVBY2NvdW50SWQoY2NzQ3JlZC5jcmVkZW50aWFsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDY3NPaWQoY2xpZW50SW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJDb3VsZCBub3QgcGFyc2UgaG9tZSBhY2NvdW50IElEIGZvciBDQ1MgSGVhZGVyOiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENjc0NyZWRlbnRpYWxUeXBlLlVQTjpcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENjc1VwbihjY3NDcmVkLmNyZWRlbnRpYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXF1ZXN0LmVtYmVkZGVkQ2xpZW50SWQpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRCcm9rZXJQYXJhbWV0ZXJzKHtcclxuICAgICAgICAgICAgICAgIGJyb2tlckNsaWVudElkOiB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRJZCxcclxuICAgICAgICAgICAgICAgIGJyb2tlclJlZGlyZWN0VXJpOiB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5yZWRpcmVjdFVyaSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXF1ZXN0LnRva2VuQm9keVBhcmFtZXRlcnMpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRFeHRyYVF1ZXJ5UGFyYW1ldGVycyhyZXF1ZXN0LnRva2VuQm9keVBhcmFtZXRlcnMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgaHlicmlkIHNwYSBwYXJhbWV0ZXJzIGlmIG5vdCBhbHJlYWR5IHByb3ZpZGVkXHJcbiAgICAgICAgaWYgKHJlcXVlc3QuZW5hYmxlU3BhQXV0aG9yaXphdGlvbkNvZGUgJiZcclxuICAgICAgICAgICAgKCFyZXF1ZXN0LnRva2VuQm9keVBhcmFtZXRlcnMgfHxcclxuICAgICAgICAgICAgICAgICFyZXF1ZXN0LnRva2VuQm9keVBhcmFtZXRlcnNbUkVUVVJOX1NQQV9DT0RFXSkpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRFeHRyYVF1ZXJ5UGFyYW1ldGVycyh7XHJcbiAgICAgICAgICAgICAgICBbUkVUVVJOX1NQQV9DT0RFXTogXCIxXCIsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGFyYW1ldGVyQnVpbGRlci5jcmVhdGVRdWVyeVN0cmluZygpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIEFQSSB2YWxpZGF0ZXMgdGhlIGBBdXRob3JpemF0aW9uQ29kZVVybFJlcXVlc3RgIGFuZCBjcmVhdGVzIGEgVVJMXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBjcmVhdGVBdXRoQ29kZVVybFF1ZXJ5U3RyaW5nKHJlcXVlc3QpIHtcclxuICAgICAgICAvLyBnZW5lcmF0ZSB0aGUgY29ycmVsYXRpb25JZCBpZiBub3Qgc2V0IGJ5IHRoZSB1c2VyIGFuZCBhZGRcclxuICAgICAgICBjb25zdCBjb3JyZWxhdGlvbklkID0gcmVxdWVzdC5jb3JyZWxhdGlvbklkIHx8XHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmNyeXB0b0ludGVyZmFjZS5jcmVhdGVOZXdHdWlkKCk7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudD8uYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5BdXRoQ2xpZW50Q3JlYXRlUXVlcnlTdHJpbmcsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtZXRlckJ1aWxkZXIgPSBuZXcgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIoY29ycmVsYXRpb25JZCwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDbGllbnRJZChyZXF1ZXN0LmVtYmVkZGVkQ2xpZW50SWQgfHxcclxuICAgICAgICAgICAgcmVxdWVzdC5leHRyYVF1ZXJ5UGFyYW1ldGVycz8uW0NMSUVOVF9JRF0gfHxcclxuICAgICAgICAgICAgdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50SWQpO1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3RTY29wZXMgPSBbXHJcbiAgICAgICAgICAgIC4uLihyZXF1ZXN0LnNjb3BlcyB8fCBbXSksXHJcbiAgICAgICAgICAgIC4uLihyZXF1ZXN0LmV4dHJhU2NvcGVzVG9Db25zZW50IHx8IFtdKSxcclxuICAgICAgICBdO1xyXG4gICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkU2NvcGVzKHJlcXVlc3RTY29wZXMsIHRydWUsIHRoaXMub2lkY0RlZmF1bHRTY29wZXMpO1xyXG4gICAgICAgIC8vIHZhbGlkYXRlIHRoZSByZWRpcmVjdFVyaSAodG8gYmUgYSBub24gbnVsbCB2YWx1ZSlcclxuICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZFJlZGlyZWN0VXJpKHJlcXVlc3QucmVkaXJlY3RVcmkpO1xyXG4gICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ29ycmVsYXRpb25JZChjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAvLyBhZGQgcmVzcG9uc2VfbW9kZS4gSWYgbm90IHBhc3NlZCBpbiBpdCBkZWZhdWx0cyB0byBxdWVyeS5cclxuICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZFJlc3BvbnNlTW9kZShyZXF1ZXN0LnJlc3BvbnNlTW9kZSk7XHJcbiAgICAgICAgLy8gYWRkIHJlc3BvbnNlX3R5cGUgPSBjb2RlXHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRSZXNwb25zZVR5cGVDb2RlKCk7XHJcbiAgICAgICAgLy8gYWRkIGxpYnJhcnkgaW5mbyBwYXJhbWV0ZXJzXHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRMaWJyYXJ5SW5mbyh0aGlzLmNvbmZpZy5saWJyYXJ5SW5mbyk7XHJcbiAgICAgICAgaWYgKCFpc09pZGNQcm90b2NvbE1vZGUodGhpcy5jb25maWcpKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQXBwbGljYXRpb25UZWxlbWV0cnkodGhpcy5jb25maWcudGVsZW1ldHJ5LmFwcGxpY2F0aW9uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYWRkIGNsaWVudF9pbmZvPTFcclxuICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENsaWVudEluZm8oKTtcclxuICAgICAgICBpZiAocmVxdWVzdC5jb2RlQ2hhbGxlbmdlICYmIHJlcXVlc3QuY29kZUNoYWxsZW5nZU1ldGhvZCkge1xyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENvZGVDaGFsbGVuZ2VQYXJhbXMocmVxdWVzdC5jb2RlQ2hhbGxlbmdlLCByZXF1ZXN0LmNvZGVDaGFsbGVuZ2VNZXRob2QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5wcm9tcHQpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRQcm9tcHQocmVxdWVzdC5wcm9tcHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5kb21haW5IaW50KSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkRG9tYWluSGludChyZXF1ZXN0LmRvbWFpbkhpbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQgc2lkIG9yIGxvZ2luSGludCB3aXRoIHByZWZlcmVuY2UgZm9yIGxvZ2luX2hpbnQgY2xhaW0gKGluIHJlcXVlc3QpIC0+IHNpZCAtPiBsb2dpbkhpbnQgKHVwbi9lbWFpbCkgLT4gdXNlcm5hbWUgb2YgQWNjb3VudEluZm8gb2JqZWN0XHJcbiAgICAgICAgaWYgKHJlcXVlc3QucHJvbXB0ICE9PSBQcm9tcHRWYWx1ZS5TRUxFQ1RfQUNDT1VOVCkge1xyXG4gICAgICAgICAgICAvLyBBQUQgd2lsbCB0aHJvdyBpZiBwcm9tcHQ9c2VsZWN0X2FjY291bnQgaXMgcGFzc2VkIHdpdGggYW4gYWNjb3VudCBoaW50XHJcbiAgICAgICAgICAgIGlmIChyZXF1ZXN0LnNpZCAmJiByZXF1ZXN0LnByb21wdCA9PT0gUHJvbXB0VmFsdWUuTk9ORSkge1xyXG4gICAgICAgICAgICAgICAgLy8gU2Vzc2lvbklEIGlzIG9ubHkgdXNlZCBpbiBzaWxlbnQgY2FsbHNcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJjcmVhdGVBdXRoQ29kZVVybFF1ZXJ5U3RyaW5nOiBQcm9tcHQgaXMgbm9uZSwgYWRkaW5nIHNpZCBmcm9tIHJlcXVlc3RcIik7XHJcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZFNpZChyZXF1ZXN0LnNpZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAocmVxdWVzdC5hY2NvdW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50U2lkID0gdGhpcy5leHRyYWN0QWNjb3VudFNpZChyZXF1ZXN0LmFjY291bnQpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGFjY291bnRMb2dpbkhpbnRDbGFpbSA9IHRoaXMuZXh0cmFjdExvZ2luSGludChyZXF1ZXN0LmFjY291bnQpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFjY291bnRMb2dpbkhpbnRDbGFpbSAmJiByZXF1ZXN0LmRvbWFpbkhpbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuaW5nKGBBdXRob3JpemF0aW9uQ29kZUNsaWVudC5jcmVhdGVBdXRoQ29kZVVybFF1ZXJ5U3RyaW5nOiBcImRvbWFpbkhpbnRcIiBwYXJhbSBpcyBzZXQsIHNraXBwaW5nIG9wYXF1ZSBcImxvZ2luX2hpbnRcIiBjbGFpbS4gUGxlYXNlIGNvbnNpZGVyIG5vdCBwYXNzaW5nIGRvbWFpbkhpbnRgKTtcclxuICAgICAgICAgICAgICAgICAgICBhY2NvdW50TG9naW5IaW50Q2xhaW0gPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgLy8gSWYgbG9naW5faGludCBjbGFpbSBpcyBwcmVzZW50LCB1c2UgaXQgb3ZlciBzaWQvdXNlcm5hbWVcclxuICAgICAgICAgICAgICAgIGlmIChhY2NvdW50TG9naW5IaW50Q2xhaW0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiY3JlYXRlQXV0aENvZGVVcmxRdWVyeVN0cmluZzogbG9naW5faGludCBjbGFpbSBwcmVzZW50IG9uIGFjY291bnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRMb2dpbkhpbnQoYWNjb3VudExvZ2luSGludENsYWltKTtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRJbmZvID0gYnVpbGRDbGllbnRJbmZvRnJvbUhvbWVBY2NvdW50SWQocmVxdWVzdC5hY2NvdW50LmhvbWVBY2NvdW50SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENjc09pZChjbGllbnRJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImNyZWF0ZUF1dGhDb2RlVXJsUXVlcnlTdHJpbmc6IENvdWxkIG5vdCBwYXJzZSBob21lIGFjY291bnQgSUQgZm9yIENDUyBIZWFkZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYWNjb3VudFNpZCAmJiByZXF1ZXN0LnByb21wdCA9PT0gUHJvbXB0VmFsdWUuTk9ORSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgICogSWYgYWNjb3VudCBhbmQgbG9naW5IaW50IGFyZSBwcm92aWRlZCwgd2Ugd2lsbCBjaGVjayBhY2NvdW50IGZpcnN0IGZvciBzaWQgYmVmb3JlIGFkZGluZyBsb2dpbkhpbnRcclxuICAgICAgICAgICAgICAgICAgICAgKiBTZXNzaW9uSWQgaXMgb25seSB1c2VkIGluIHNpbGVudCBjYWxsc1xyXG4gICAgICAgICAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJjcmVhdGVBdXRoQ29kZVVybFF1ZXJ5U3RyaW5nOiBQcm9tcHQgaXMgbm9uZSwgYWRkaW5nIHNpZCBmcm9tIGFjY291bnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRTaWQoYWNjb3VudFNpZCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50SW5mbyA9IGJ1aWxkQ2xpZW50SW5mb0Zyb21Ib21lQWNjb3VudElkKHJlcXVlc3QuYWNjb3VudC5ob21lQWNjb3VudElkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDY3NPaWQoY2xpZW50SW5mbyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJjcmVhdGVBdXRoQ29kZVVybFF1ZXJ5U3RyaW5nOiBDb3VsZCBub3QgcGFyc2UgaG9tZSBhY2NvdW50IElEIGZvciBDQ1MgSGVhZGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlcXVlc3QubG9naW5IaW50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImNyZWF0ZUF1dGhDb2RlVXJsUXVlcnlTdHJpbmc6IEFkZGluZyBsb2dpbl9oaW50IGZyb20gcmVxdWVzdFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZExvZ2luSGludChyZXF1ZXN0LmxvZ2luSGludCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDY3NVcG4ocmVxdWVzdC5sb2dpbkhpbnQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVxdWVzdC5hY2NvdW50LnVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gRmFsbGJhY2sgdG8gYWNjb3VudCB1c2VybmFtZSBpZiBwcm92aWRlZFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJjcmVhdGVBdXRoQ29kZVVybFF1ZXJ5U3RyaW5nOiBBZGRpbmcgbG9naW5faGludCBmcm9tIGFjY291bnRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRMb2dpbkhpbnQocmVxdWVzdC5hY2NvdW50LnVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRJbmZvID0gYnVpbGRDbGllbnRJbmZvRnJvbUhvbWVBY2NvdW50SWQocmVxdWVzdC5hY2NvdW50LmhvbWVBY2NvdW50SWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENjc09pZChjbGllbnRJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImNyZWF0ZUF1dGhDb2RlVXJsUXVlcnlTdHJpbmc6IENvdWxkIG5vdCBwYXJzZSBob21lIGFjY291bnQgSUQgZm9yIENDUyBIZWFkZXJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlcXVlc3QubG9naW5IaW50KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiY3JlYXRlQXV0aENvZGVVcmxRdWVyeVN0cmluZzogTm8gYWNjb3VudCwgYWRkaW5nIGxvZ2luX2hpbnQgZnJvbSByZXF1ZXN0XCIpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRMb2dpbkhpbnQocmVxdWVzdC5sb2dpbkhpbnQpO1xyXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDY3NVcG4ocmVxdWVzdC5sb2dpbkhpbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmxvZ2dlci52ZXJib3NlKFwiY3JlYXRlQXV0aENvZGVVcmxRdWVyeVN0cmluZzogUHJvbXB0IGlzIHNlbGVjdF9hY2NvdW50LCBpZ25vcmluZyBhY2NvdW50IGhpbnRzXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5ub25jZSkge1xyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZE5vbmNlKHJlcXVlc3Qubm9uY2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0ZSkge1xyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZFN0YXRlKHJlcXVlc3Quc3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5jbGFpbXMgfHxcclxuICAgICAgICAgICAgKHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmNsaWVudENhcGFiaWxpdGllcyAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50Q2FwYWJpbGl0aWVzLmxlbmd0aCA+IDApKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2xhaW1zKHJlcXVlc3QuY2xhaW1zLCB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRDYXBhYmlsaXRpZXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5lbWJlZGRlZENsaWVudElkKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQnJva2VyUGFyYW1ldGVycyh7XHJcbiAgICAgICAgICAgICAgICBicm9rZXJDbGllbnRJZDogdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50SWQsXHJcbiAgICAgICAgICAgICAgICBicm9rZXJSZWRpcmVjdFVyaTogdGhpcy5jb25maWcuYXV0aE9wdGlvbnMucmVkaXJlY3RVcmksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFkZEV4dHJhUXVlcnlQYXJhbXMocmVxdWVzdCwgcGFyYW1ldGVyQnVpbGRlcik7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QubmF0aXZlQnJva2VyKSB7XHJcbiAgICAgICAgICAgIC8vIHNpZ25hbCBlc3RzIHRoYXQgdGhpcyBpcyBhIFdBTSBjYWxsXHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkTmF0aXZlQnJva2VyKCk7XHJcbiAgICAgICAgICAgIC8vIHBhc3MgdGhlIHJlcV9jbmYgZm9yIFBPUFxyXG4gICAgICAgICAgICBpZiAocmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSA9PT0gQXV0aGVudGljYXRpb25TY2hlbWUuUE9QKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3BUb2tlbkdlbmVyYXRvciA9IG5ldyBQb3BUb2tlbkdlbmVyYXRvcih0aGlzLmNyeXB0b1V0aWxzKTtcclxuICAgICAgICAgICAgICAgIC8vIHJlcV9jbmYgaXMgYWx3YXlzIHNlbnQgYXMgYSBzdHJpbmcgZm9yIFNQQXNcclxuICAgICAgICAgICAgICAgIGxldCByZXFDbmZEYXRhO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXF1ZXN0LnBvcEtpZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlZFJlcUNuZkRhdGEgPSBhd2FpdCBpbnZva2VBc3luYyhwb3BUb2tlbkdlbmVyYXRvci5nZW5lcmF0ZUNuZi5iaW5kKHBvcFRva2VuR2VuZXJhdG9yKSwgUGVyZm9ybWFuY2VFdmVudHMuUG9wVG9rZW5HZW5lcmF0ZUNuZiwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkocmVxdWVzdCwgdGhpcy5sb2dnZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcUNuZkRhdGEgPSBnZW5lcmF0ZWRSZXFDbmZEYXRhLnJlcUNuZlN0cmluZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcUNuZkRhdGEgPSB0aGlzLmNyeXB0b1V0aWxzLmVuY29kZUtpZChyZXF1ZXN0LnBvcEtpZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZFBvcFRva2VuKHJlcUNuZkRhdGEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwYXJhbWV0ZXJCdWlsZGVyLmNyZWF0ZVF1ZXJ5U3RyaW5nKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgQVBJIHZhbGlkYXRlcyB0aGUgYEVuZFNlc3Npb25SZXF1ZXN0YCBhbmQgY3JlYXRlcyBhIFVSTFxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgY3JlYXRlTG9nb3V0VXJsUXVlcnlTdHJpbmcocmVxdWVzdCkge1xyXG4gICAgICAgIGNvbnN0IHBhcmFtZXRlckJ1aWxkZXIgPSBuZXcgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIocmVxdWVzdC5jb3JyZWxhdGlvbklkLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50KTtcclxuICAgICAgICBpZiAocmVxdWVzdC5wb3N0TG9nb3V0UmVkaXJlY3RVcmkpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRQb3N0TG9nb3V0UmVkaXJlY3RVcmkocmVxdWVzdC5wb3N0TG9nb3V0UmVkaXJlY3RVcmkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5jb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ29ycmVsYXRpb25JZChyZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5pZFRva2VuSGludCkge1xyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZElkVG9rZW5IaW50KHJlcXVlc3QuaWRUb2tlbkhpbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5zdGF0ZSkge1xyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZFN0YXRlKHJlcXVlc3Quc3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5sb2dvdXRIaW50KSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkTG9nb3V0SGludChyZXF1ZXN0LmxvZ291dEhpbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFkZEV4dHJhUXVlcnlQYXJhbXMocmVxdWVzdCwgcGFyYW1ldGVyQnVpbGRlcik7XHJcbiAgICAgICAgcmV0dXJuIHBhcmFtZXRlckJ1aWxkZXIuY3JlYXRlUXVlcnlTdHJpbmcoKTtcclxuICAgIH1cclxuICAgIGFkZEV4dHJhUXVlcnlQYXJhbXMocmVxdWVzdCwgcGFyYW1ldGVyQnVpbGRlcikge1xyXG4gICAgICAgIGNvbnN0IGhhc1JlcXVlc3RJbnN0YW5jZUF3YXJlID0gcmVxdWVzdC5leHRyYVF1ZXJ5UGFyYW1ldGVycyAmJlxyXG4gICAgICAgICAgICByZXF1ZXN0LmV4dHJhUXVlcnlQYXJhbWV0ZXJzLmhhc093blByb3BlcnR5KFwiaW5zdGFuY2VfYXdhcmVcIik7XHJcbiAgICAgICAgLy8gU2V0IGluc3RhbmNlX2F3YXJlIGZsYWcgaWYgY29uZmlnIGF1dGggcGFyYW0gaXMgc2V0XHJcbiAgICAgICAgaWYgKCFoYXNSZXF1ZXN0SW5zdGFuY2VBd2FyZSAmJiB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5pbnN0YW5jZUF3YXJlKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3QuZXh0cmFRdWVyeVBhcmFtZXRlcnMgPSByZXF1ZXN0LmV4dHJhUXVlcnlQYXJhbWV0ZXJzIHx8IHt9O1xyXG4gICAgICAgICAgICByZXF1ZXN0LmV4dHJhUXVlcnlQYXJhbWV0ZXJzW1wiaW5zdGFuY2VfYXdhcmVcIl0gPSBcInRydWVcIjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuZXh0cmFRdWVyeVBhcmFtZXRlcnMpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRFeHRyYVF1ZXJ5UGFyYW1ldGVycyhyZXF1ZXN0LmV4dHJhUXVlcnlQYXJhbWV0ZXJzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEhlbHBlciB0byBnZXQgc2lkIGZyb20gYWNjb3VudC4gUmV0dXJucyBudWxsIGlmIGlkVG9rZW5DbGFpbXMgYXJlIG5vdCBwcmVzZW50IG9yIHNpZCBpcyBub3QgcHJlc2VudC5cclxuICAgICAqIEBwYXJhbSBhY2NvdW50XHJcbiAgICAgKi9cclxuICAgIGV4dHJhY3RBY2NvdW50U2lkKGFjY291bnQpIHtcclxuICAgICAgICByZXR1cm4gYWNjb3VudC5pZFRva2VuQ2xhaW1zPy5zaWQgfHwgbnVsbDtcclxuICAgIH1cclxuICAgIGV4dHJhY3RMb2dpbkhpbnQoYWNjb3VudCkge1xyXG4gICAgICAgIHJldHVybiBhY2NvdW50LmlkVG9rZW5DbGFpbXM/LmxvZ2luX2hpbnQgfHwgbnVsbDtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBBdXRob3JpemF0aW9uQ29kZUNsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXV0aG9yaXphdGlvbkNvZGVDbGllbnQubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkJhc2VDbGllbnQiLCJSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlciIsIlNlcGFyYXRvcnMiLCJHcmFudFR5cGUiLCJBdXRoZW50aWNhdGlvblNjaGVtZSIsIlByb21wdFZhbHVlIiwiSGVhZGVyTmFtZXMiLCJDTElFTlRfSUQiLCJSRVRVUk5fU1BBX0NPREUiLCJpc09pZGNQcm90b2NvbE1vZGUiLCJSZXNwb25zZUhhbmRsZXIiLCJTdHJpbmdVdGlscyIsImNyZWF0ZUNsaWVudEF1dGhFcnJvciIsIlVybFN0cmluZyIsIlBvcFRva2VuR2VuZXJhdG9yIiwibm93U2Vjb25kcyIsImJ1aWxkQ2xpZW50SW5mbyIsImJ1aWxkQ2xpZW50SW5mb0Zyb21Ib21lQWNjb3VudElkIiwiQ2NzQ3JlZGVudGlhbFR5cGUiLCJjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IiLCJSZXF1ZXN0VmFsaWRhdG9yIiwiUGVyZm9ybWFuY2VFdmVudHMiLCJpbnZva2VBc3luYyIsImdldENsaWVudEFzc2VydGlvbiIsInJlcXVlc3RDYW5ub3RCZU1hZGUiLCJhdXRob3JpemF0aW9uQ29kZU1pc3NpbmdGcm9tU2VydmVyUmVzcG9uc2UiLCJsb2dvdXRSZXF1ZXN0RW1wdHkiLCJtaXNzaW5nU3NoSndrIiwiQXV0aG9yaXphdGlvbkNvZGVDbGllbnQiLCJjb25zdHJ1Y3RvciIsImNvbmZpZ3VyYXRpb24iLCJwZXJmb3JtYW5jZUNsaWVudCIsImluY2x1ZGVSZWRpcmVjdFVyaSIsIm9pZGNEZWZhdWx0U2NvcGVzIiwiY29uZmlnIiwiYXV0aE9wdGlvbnMiLCJhdXRob3JpdHkiLCJvcHRpb25zIiwiT0lEQ09wdGlvbnMiLCJkZWZhdWx0U2NvcGVzIiwiZ2V0QXV0aENvZGVVcmwiLCJyZXF1ZXN0IiwiYWRkUXVldWVNZWFzdXJlbWVudCIsIkdldEF1dGhDb2RlVXJsIiwiY29ycmVsYXRpb25JZCIsInF1ZXJ5U3RyaW5nIiwiY3JlYXRlQXV0aENvZGVVcmxRdWVyeVN0cmluZyIsImJpbmQiLCJBdXRoQ2xpZW50Q3JlYXRlUXVlcnlTdHJpbmciLCJsb2dnZXIiLCJhcHBlbmRRdWVyeVN0cmluZyIsImF1dGhvcml6YXRpb25FbmRwb2ludCIsImFjcXVpcmVUb2tlbiIsImF1dGhDb2RlUGF5bG9hZCIsIkF1dGhDbGllbnRBY3F1aXJlVG9rZW4iLCJjb2RlIiwicmVxVGltZXN0YW1wIiwicmVzcG9uc2UiLCJleGVjdXRlVG9rZW5SZXF1ZXN0IiwiQXV0aENsaWVudEV4ZWN1dGVUb2tlblJlcXVlc3QiLCJyZXF1ZXN0SWQiLCJoZWFkZXJzIiwiWF9NU19SRVFVRVNUX0lEIiwicmVzcG9uc2VIYW5kbGVyIiwiY2xpZW50SWQiLCJjYWNoZU1hbmFnZXIiLCJjcnlwdG9VdGlscyIsInNlcmlhbGl6YWJsZUNhY2hlIiwicGVyc2lzdGVuY2VQbHVnaW4iLCJ2YWxpZGF0ZVRva2VuUmVzcG9uc2UiLCJib2R5IiwiaGFuZGxlU2VydmVyVG9rZW5SZXNwb25zZSIsIkhhbmRsZVNlcnZlclRva2VuUmVzcG9uc2UiLCJ1bmRlZmluZWQiLCJoYW5kbGVGcmFnbWVudFJlc3BvbnNlIiwic2VydmVyUGFyYW1zIiwiY2FjaGVkU3RhdGUiLCJ2YWxpZGF0ZVNlcnZlckF1dGhvcml6YXRpb25Db2RlUmVzcG9uc2UiLCJnZXRMb2dvdXRVcmkiLCJsb2dvdXRSZXF1ZXN0IiwiY3JlYXRlTG9nb3V0VXJsUXVlcnlTdHJpbmciLCJlbmRTZXNzaW9uRW5kcG9pbnQiLCJxdWVyeVBhcmFtZXRlcnNTdHJpbmciLCJjcmVhdGVUb2tlblF1ZXJ5UGFyYW1ldGVycyIsImVuZHBvaW50IiwidG9rZW5FbmRwb2ludCIsInJlcXVlc3RCb2R5IiwiY3JlYXRlVG9rZW5SZXF1ZXN0Qm9keSIsIkF1dGhDbGllbnRDcmVhdGVUb2tlblJlcXVlc3RCb2R5IiwiY2NzQ3JlZGVudGlhbCIsImNsaWVudEluZm8iLCJiYXNlNjREZWNvZGUiLCJjcmVkZW50aWFsIiwidWlkIiwiQ0xJRU5UX0lORk9fU0VQQVJBVE9SIiwidXRpZCIsInR5cGUiLCJIT01FX0FDQ09VTlRfSUQiLCJlIiwidmVyYm9zZSIsImNyZWF0ZVRva2VuUmVxdWVzdEhlYWRlcnMiLCJ0aHVtYnByaW50IiwidG9rZW5Cb2R5UGFyYW1ldGVycyIsImNhbm9uaWNhbEF1dGhvcml0eSIsInNjb3BlcyIsImNsYWltcyIsImF1dGhlbnRpY2F0aW9uU2NoZW1lIiwicmVzb3VyY2VSZXF1ZXN0TWV0aG9kIiwicmVzb3VyY2VSZXF1ZXN0VXJpIiwic2hyQ2xhaW1zIiwic3NoS2lkIiwiZXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQiLCJBdXRob3JpemF0aW9uQ29kZUNsaWVudEV4ZWN1dGVQb3N0VG9Ub2tlbkVuZHBvaW50IiwicGFyYW1ldGVyQnVpbGRlciIsImFkZENsaWVudElkIiwiZW1iZWRkZWRDbGllbnRJZCIsInZhbGlkYXRlUmVkaXJlY3RVcmkiLCJyZWRpcmVjdFVyaSIsImFkZFJlZGlyZWN0VXJpIiwiYWRkU2NvcGVzIiwiYWRkQXV0aG9yaXphdGlvbkNvZGUiLCJhZGRMaWJyYXJ5SW5mbyIsImxpYnJhcnlJbmZvIiwiYWRkQXBwbGljYXRpb25UZWxlbWV0cnkiLCJ0ZWxlbWV0cnkiLCJhcHBsaWNhdGlvbiIsImFkZFRocm90dGxpbmciLCJzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyIiwiYWRkU2VydmVyVGVsZW1ldHJ5IiwiY29kZVZlcmlmaWVyIiwiYWRkQ29kZVZlcmlmaWVyIiwiY2xpZW50Q3JlZGVudGlhbHMiLCJjbGllbnRTZWNyZXQiLCJhZGRDbGllbnRTZWNyZXQiLCJjbGllbnRBc3NlcnRpb24iLCJhZGRDbGllbnRBc3NlcnRpb24iLCJhc3NlcnRpb24iLCJhZGRDbGllbnRBc3NlcnRpb25UeXBlIiwiYXNzZXJ0aW9uVHlwZSIsImFkZEdyYW50VHlwZSIsIkFVVEhPUklaQVRJT05fQ09ERV9HUkFOVCIsImFkZENsaWVudEluZm8iLCJQT1AiLCJwb3BUb2tlbkdlbmVyYXRvciIsInJlcUNuZkRhdGEiLCJwb3BLaWQiLCJnZW5lcmF0ZWRSZXFDbmZEYXRhIiwiZ2VuZXJhdGVDbmYiLCJQb3BUb2tlbkdlbmVyYXRlQ25mIiwicmVxQ25mU3RyaW5nIiwiZW5jb2RlS2lkIiwiYWRkUG9wVG9rZW4iLCJTU0giLCJzc2hKd2siLCJhZGRTc2hKd2siLCJpc0VtcHR5T2JqIiwiY2xpZW50Q2FwYWJpbGl0aWVzIiwibGVuZ3RoIiwiYWRkQ2xhaW1zIiwiY2NzQ3JlZCIsInN5c3RlbU9wdGlvbnMiLCJwcmV2ZW50Q29yc1ByZWZsaWdodCIsImFkZENjc09pZCIsIlVQTiIsImFkZENjc1VwbiIsImFkZEJyb2tlclBhcmFtZXRlcnMiLCJicm9rZXJDbGllbnRJZCIsImJyb2tlclJlZGlyZWN0VXJpIiwiYWRkRXh0cmFRdWVyeVBhcmFtZXRlcnMiLCJlbmFibGVTcGFBdXRob3JpemF0aW9uQ29kZSIsImNyZWF0ZVF1ZXJ5U3RyaW5nIiwiY3J5cHRvSW50ZXJmYWNlIiwiY3JlYXRlTmV3R3VpZCIsImV4dHJhUXVlcnlQYXJhbWV0ZXJzIiwicmVxdWVzdFNjb3BlcyIsImV4dHJhU2NvcGVzVG9Db25zZW50IiwiYWRkQ29ycmVsYXRpb25JZCIsImFkZFJlc3BvbnNlTW9kZSIsInJlc3BvbnNlTW9kZSIsImFkZFJlc3BvbnNlVHlwZUNvZGUiLCJjb2RlQ2hhbGxlbmdlIiwiY29kZUNoYWxsZW5nZU1ldGhvZCIsImFkZENvZGVDaGFsbGVuZ2VQYXJhbXMiLCJwcm9tcHQiLCJhZGRQcm9tcHQiLCJkb21haW5IaW50IiwiYWRkRG9tYWluSGludCIsIlNFTEVDVF9BQ0NPVU5UIiwic2lkIiwiTk9ORSIsImFkZFNpZCIsImFjY291bnQiLCJhY2NvdW50U2lkIiwiZXh0cmFjdEFjY291bnRTaWQiLCJhY2NvdW50TG9naW5IaW50Q2xhaW0iLCJleHRyYWN0TG9naW5IaW50Iiwid2FybmluZyIsImFkZExvZ2luSGludCIsImhvbWVBY2NvdW50SWQiLCJsb2dpbkhpbnQiLCJ1c2VybmFtZSIsIm5vbmNlIiwiYWRkTm9uY2UiLCJzdGF0ZSIsImFkZFN0YXRlIiwiYWRkRXh0cmFRdWVyeVBhcmFtcyIsIm5hdGl2ZUJyb2tlciIsImFkZE5hdGl2ZUJyb2tlciIsInBvc3RMb2dvdXRSZWRpcmVjdFVyaSIsImFkZFBvc3RMb2dvdXRSZWRpcmVjdFVyaSIsImlkVG9rZW5IaW50IiwiYWRkSWRUb2tlbkhpbnQiLCJsb2dvdXRIaW50IiwiYWRkTG9nb3V0SGludCIsImhhc1JlcXVlc3RJbnN0YW5jZUF3YXJlIiwiaGFzT3duUHJvcGVydHkiLCJpbnN0YW5jZUF3YXJlIiwiaWRUb2tlbkNsYWltcyIsImxvZ2luX2hpbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/client/AuthorizationCodeClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/client/BaseClient.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/client/BaseClient.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseClient: () => (/* binding */ BaseClient)\n/* harmony export */ });\n/* harmony import */ var _config_ClientConfiguration_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/ClientConfiguration.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/config/ClientConfiguration.mjs\");\n/* harmony import */ var _logger_Logger_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logger/Logger.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/logger/Logger.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../packageMetadata.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/packageMetadata.mjs\");\n/* harmony import */ var _account_CcsCredential_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../account/CcsCredential.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/CcsCredential.mjs\");\n/* harmony import */ var _account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../account/ClientInfo.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/ClientInfo.mjs\");\n/* harmony import */ var _request_RequestParameterBuilder_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../request/RequestParameterBuilder.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/request/RequestParameterBuilder.mjs\");\n/* harmony import */ var _authority_AuthorityFactory_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../authority/AuthorityFactory.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityFactory.mjs\");\n/* harmony import */ var _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../telemetry/performance/PerformanceEvent.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _network_ThrottlingUtils_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../network/ThrottlingUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/network/ThrottlingUtils.mjs\");\n/* harmony import */ var _error_AuthError_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../error/AuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _error_NetworkError_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../error/NetworkError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/NetworkError.mjs\");\n/* harmony import */ var _utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/FunctionWrappers.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Base application class which will construct requests to send to and handle responses from the Microsoft STS using the authorization code flow.\r\n * @internal\r\n */ class BaseClient {\n    constructor(configuration, performanceClient){\n        // Set the configuration\n        this.config = (0,_config_ClientConfiguration_mjs__WEBPACK_IMPORTED_MODULE_0__.buildClientConfiguration)(configuration);\n        // Initialize the logger\n        this.logger = new _logger_Logger_mjs__WEBPACK_IMPORTED_MODULE_1__.Logger(this.config.loggerOptions, _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_2__.name, _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_2__.version);\n        // Initialize crypto\n        this.cryptoUtils = this.config.cryptoInterface;\n        // Initialize storage interface\n        this.cacheManager = this.config.storageInterface;\n        // Set the network interface\n        this.networkClient = this.config.networkInterface;\n        // Set TelemetryManager\n        this.serverTelemetryManager = this.config.serverTelemetryManager;\n        // set Authority\n        this.authority = this.config.authOptions.authority;\n        // set performance telemetry client\n        this.performanceClient = performanceClient;\n    }\n    /**\r\n     * Creates default headers for requests to token endpoint\r\n     */ createTokenRequestHeaders(ccsCred) {\n        const headers = {};\n        headers[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.HeaderNames.CONTENT_TYPE] = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.Constants.URL_FORM_CONTENT_TYPE;\n        if (!this.config.systemOptions.preventCorsPreflight && ccsCred) {\n            switch(ccsCred.type){\n                case _account_CcsCredential_mjs__WEBPACK_IMPORTED_MODULE_4__.CcsCredentialType.HOME_ACCOUNT_ID:\n                    try {\n                        const clientInfo = (0,_account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_5__.buildClientInfoFromHomeAccountId)(ccsCred.credential);\n                        headers[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.HeaderNames.CCS_HEADER] = `Oid:${clientInfo.uid}@${clientInfo.utid}`;\n                    } catch (e) {\n                        this.logger.verbose(\"Could not parse home account ID for CCS Header: \" + e);\n                    }\n                    break;\n                case _account_CcsCredential_mjs__WEBPACK_IMPORTED_MODULE_4__.CcsCredentialType.UPN:\n                    headers[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.HeaderNames.CCS_HEADER] = `UPN: ${ccsCred.credential}`;\n                    break;\n            }\n        }\n        return headers;\n    }\n    /**\r\n     * Http post to token endpoint\r\n     * @param tokenEndpoint\r\n     * @param queryString\r\n     * @param headers\r\n     * @param thumbprint\r\n     */ async executePostToTokenEndpoint(tokenEndpoint, queryString, headers, thumbprint, correlationId, queuedEvent) {\n        if (queuedEvent) {\n            this.performanceClient?.addQueueMeasurement(queuedEvent, correlationId);\n        }\n        const response = await this.sendPostRequest(thumbprint, tokenEndpoint, {\n            body: queryString,\n            headers: headers\n        }, correlationId);\n        if (this.config.serverTelemetryManager && response.status < 500 && response.status !== 429) {\n            // Telemetry data successfully logged by server, clear Telemetry cache\n            this.config.serverTelemetryManager.clearTelemetryCache();\n        }\n        return response;\n    }\n    /**\r\n     * Wraps sendPostRequestAsync with necessary preflight and postflight logic\r\n     * @param thumbprint - Request thumbprint for throttling\r\n     * @param tokenEndpoint - Endpoint to make the POST to\r\n     * @param options - Body and Headers to include on the POST request\r\n     * @param correlationId - CorrelationId for telemetry\r\n     */ async sendPostRequest(thumbprint, tokenEndpoint, options, correlationId) {\n        _network_ThrottlingUtils_mjs__WEBPACK_IMPORTED_MODULE_6__.ThrottlingUtils.preProcess(this.cacheManager, thumbprint);\n        let response;\n        try {\n            response = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_7__.invokeAsync)(this.networkClient.sendPostRequestAsync.bind(this.networkClient), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_8__.PerformanceEvents.NetworkClientSendPostRequestAsync, this.logger, this.performanceClient, correlationId)(tokenEndpoint, options);\n            const responseHeaders = response.headers || {};\n            this.performanceClient?.addFields({\n                refreshTokenSize: response.body.refresh_token?.length || 0,\n                httpVerToken: responseHeaders[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.HeaderNames.X_MS_HTTP_VERSION] || \"\",\n                requestId: responseHeaders[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.HeaderNames.X_MS_REQUEST_ID] || \"\"\n            }, correlationId);\n        } catch (e) {\n            if (e instanceof _error_NetworkError_mjs__WEBPACK_IMPORTED_MODULE_9__.NetworkError) {\n                const responseHeaders = e.responseHeaders;\n                if (responseHeaders) {\n                    this.performanceClient?.addFields({\n                        httpVerToken: responseHeaders[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.HeaderNames.X_MS_HTTP_VERSION] || \"\",\n                        requestId: responseHeaders[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.HeaderNames.X_MS_REQUEST_ID] || \"\",\n                        contentTypeHeader: responseHeaders[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.HeaderNames.CONTENT_TYPE] || undefined,\n                        contentLengthHeader: responseHeaders[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.HeaderNames.CONTENT_LENGTH] || undefined,\n                        httpStatus: e.httpStatus\n                    }, correlationId);\n                }\n                throw e.error;\n            }\n            if (e instanceof _error_AuthError_mjs__WEBPACK_IMPORTED_MODULE_10__.AuthError) {\n                throw e;\n            } else {\n                throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_11__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_12__.networkError);\n            }\n        }\n        _network_ThrottlingUtils_mjs__WEBPACK_IMPORTED_MODULE_6__.ThrottlingUtils.postProcess(this.cacheManager, thumbprint, response);\n        return response;\n    }\n    /**\r\n     * Updates the authority object of the client. Endpoint discovery must be completed.\r\n     * @param updatedAuthority\r\n     */ async updateAuthority(cloudInstanceHostname, correlationId) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_8__.PerformanceEvents.UpdateTokenEndpointAuthority, correlationId);\n        const cloudInstanceAuthorityUri = `https://${cloudInstanceHostname}/${this.authority.tenant}/`;\n        const cloudInstanceAuthority = await (0,_authority_AuthorityFactory_mjs__WEBPACK_IMPORTED_MODULE_13__.createDiscoveredInstance)(cloudInstanceAuthorityUri, this.networkClient, this.cacheManager, this.authority.options, this.logger, correlationId, this.performanceClient);\n        this.authority = cloudInstanceAuthority;\n    }\n    /**\r\n     * Creates query string for the /token request\r\n     * @param request\r\n     */ createTokenQueryParameters(request) {\n        const parameterBuilder = new _request_RequestParameterBuilder_mjs__WEBPACK_IMPORTED_MODULE_14__.RequestParameterBuilder(request.correlationId, this.performanceClient);\n        if (request.embeddedClientId) {\n            parameterBuilder.addBrokerParameters({\n                brokerClientId: this.config.authOptions.clientId,\n                brokerRedirectUri: this.config.authOptions.redirectUri\n            });\n        }\n        if (request.tokenQueryParameters) {\n            parameterBuilder.addExtraQueryParameters(request.tokenQueryParameters);\n        }\n        parameterBuilder.addCorrelationId(request.correlationId);\n        return parameterBuilder.createQueryString();\n    }\n}\n //# sourceMappingURL=BaseClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2xpZW50L0Jhc2VDbGllbnQubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDNkU7QUFDL0I7QUFDa0I7QUFDVDtBQUNVO0FBQ1k7QUFDSTtBQUNKO0FBQ0s7QUFDakI7QUFDZDtBQUNrQjtBQUNaO0FBQ0c7QUFDSztBQUVqRTs7O0NBR0MsR0FDRDs7O0NBR0MsR0FDRCxNQUFNaUI7SUFDRkMsWUFBWUMsYUFBYSxFQUFFQyxpQkFBaUIsQ0FBRTtRQUMxQyx3QkFBd0I7UUFDeEIsSUFBSSxDQUFDQyxNQUFNLEdBQUdyQix5RkFBd0JBLENBQUNtQjtRQUN2Qyx3QkFBd0I7UUFDeEIsSUFBSSxDQUFDRyxNQUFNLEdBQUcsSUFBSXJCLHNEQUFNQSxDQUFDLElBQUksQ0FBQ29CLE1BQU0sQ0FBQ0UsYUFBYSxFQUFFbkIsc0RBQUlBLEVBQUVDLHlEQUFPQTtRQUNqRSxvQkFBb0I7UUFDcEIsSUFBSSxDQUFDbUIsV0FBVyxHQUFHLElBQUksQ0FBQ0gsTUFBTSxDQUFDSSxlQUFlO1FBQzlDLCtCQUErQjtRQUMvQixJQUFJLENBQUNDLFlBQVksR0FBRyxJQUFJLENBQUNMLE1BQU0sQ0FBQ00sZ0JBQWdCO1FBQ2hELDRCQUE0QjtRQUM1QixJQUFJLENBQUNDLGFBQWEsR0FBRyxJQUFJLENBQUNQLE1BQU0sQ0FBQ1EsZ0JBQWdCO1FBQ2pELHVCQUF1QjtRQUN2QixJQUFJLENBQUNDLHNCQUFzQixHQUFHLElBQUksQ0FBQ1QsTUFBTSxDQUFDUyxzQkFBc0I7UUFDaEUsZ0JBQWdCO1FBQ2hCLElBQUksQ0FBQ0MsU0FBUyxHQUFHLElBQUksQ0FBQ1YsTUFBTSxDQUFDVyxXQUFXLENBQUNELFNBQVM7UUFDbEQsbUNBQW1DO1FBQ25DLElBQUksQ0FBQ1gsaUJBQWlCLEdBQUdBO0lBQzdCO0lBQ0E7O0tBRUMsR0FDRGEsMEJBQTBCQyxPQUFPLEVBQUU7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QUFHeUQ7SUFDckI7SUFDQTs7O0tBR0MsR0FDREMsMkJBQTJCQyxPQUFPLEVBQUU7UUFDaEMsTUFBTUMsbUJBQW1CLElBQUluRiwwRkFBdUJBLENBQUNrRixRQUFRcEMsYUFBYSxFQUFFLElBQUksQ0FBQ2xDLGlCQUFpQjtRQUNsRyxJQUFJc0UsUUFBUUUsZ0JBQWdCLEVBQUU7WUFDMUJELGlCQUFpQkUsbUJBQW1CLENBQUM7Z0JBQ2pDQyxnQkFBZ0IsSUFBSSxDQUFDekUsTUFBTSxDQUFDVyxXQUFXLENBQUMrRCxRQUFRO2dCQUNoREMsbUJBQW1CLElBQUksQ0FBQzNFLE1BQU0sQ0FBQ1csV0FBVyxDQUFDaUUsV0FBVztZQUMxRDtRQUNKO1FBQ0EsSUFBSVAsUUFBUVEsb0JBQW9CLEVBQUU7WUFDOUJQLGlCQUFpQlEsdUJBQXVCLENBQUNULFFBQVFRLG9CQUFvQjtRQUN6RTtRQUNBUCxpQkFBaUJTLGdCQUFnQixDQUFDVixRQUFRcEMsYUFBYTtRQUN2RCxPQUFPcUMsaUJBQWlCVSxpQkFBaUI7SUFDN0M7QUFDSjtBQUVzQixDQUN0Qix1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2xpZW50L0Jhc2VDbGllbnQubWpzP2ZmN2EiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBidWlsZENsaWVudENvbmZpZ3VyYXRpb24gfSBmcm9tICcuLi9jb25maWcvQ2xpZW50Q29uZmlndXJhdGlvbi5tanMnO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi4vbG9nZ2VyL0xvZ2dlci5tanMnO1xuaW1wb3J0IHsgSGVhZGVyTmFtZXMsIENvbnN0YW50cyB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgbmFtZSwgdmVyc2lvbiB9IGZyb20gJy4uL3BhY2thZ2VNZXRhZGF0YS5tanMnO1xuaW1wb3J0IHsgQ2NzQ3JlZGVudGlhbFR5cGUgfSBmcm9tICcuLi9hY2NvdW50L0Njc0NyZWRlbnRpYWwubWpzJztcbmltcG9ydCB7IGJ1aWxkQ2xpZW50SW5mb0Zyb21Ib21lQWNjb3VudElkIH0gZnJvbSAnLi4vYWNjb3VudC9DbGllbnRJbmZvLm1qcyc7XG5pbXBvcnQgeyBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlciB9IGZyb20gJy4uL3JlcXVlc3QvUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIubWpzJztcbmltcG9ydCB7IGNyZWF0ZURpc2NvdmVyZWRJbnN0YW5jZSB9IGZyb20gJy4uL2F1dGhvcml0eS9BdXRob3JpdHlGYWN0b3J5Lm1qcyc7XG5pbXBvcnQgeyBQZXJmb3JtYW5jZUV2ZW50cyB9IGZyb20gJy4uL3RlbGVtZXRyeS9wZXJmb3JtYW5jZS9QZXJmb3JtYW5jZUV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBUaHJvdHRsaW5nVXRpbHMgfSBmcm9tICcuLi9uZXR3b3JrL1Rocm90dGxpbmdVdGlscy5tanMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IE5ldHdvcmtFcnJvciB9IGZyb20gJy4uL2Vycm9yL05ldHdvcmtFcnJvci5tanMnO1xuaW1wb3J0IHsgaW52b2tlQXN5bmMgfSBmcm9tICcuLi91dGlscy9GdW5jdGlvbldyYXBwZXJzLm1qcyc7XG5pbXBvcnQgeyBuZXR3b3JrRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEJhc2UgYXBwbGljYXRpb24gY2xhc3Mgd2hpY2ggd2lsbCBjb25zdHJ1Y3QgcmVxdWVzdHMgdG8gc2VuZCB0byBhbmQgaGFuZGxlIHJlc3BvbnNlcyBmcm9tIHRoZSBNaWNyb3NvZnQgU1RTIHVzaW5nIHRoZSBhdXRob3JpemF0aW9uIGNvZGUgZmxvdy5cclxuICogQGludGVybmFsXHJcbiAqL1xyXG5jbGFzcyBCYXNlQ2xpZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKGNvbmZpZ3VyYXRpb24sIHBlcmZvcm1hbmNlQ2xpZW50KSB7XHJcbiAgICAgICAgLy8gU2V0IHRoZSBjb25maWd1cmF0aW9uXHJcbiAgICAgICAgdGhpcy5jb25maWcgPSBidWlsZENsaWVudENvbmZpZ3VyYXRpb24oY29uZmlndXJhdGlvbik7XHJcbiAgICAgICAgLy8gSW5pdGlhbGl6ZSB0aGUgbG9nZ2VyXHJcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBuZXcgTG9nZ2VyKHRoaXMuY29uZmlnLmxvZ2dlck9wdGlvbnMsIG5hbWUsIHZlcnNpb24pO1xyXG4gICAgICAgIC8vIEluaXRpYWxpemUgY3J5cHRvXHJcbiAgICAgICAgdGhpcy5jcnlwdG9VdGlscyA9IHRoaXMuY29uZmlnLmNyeXB0b0ludGVyZmFjZTtcclxuICAgICAgICAvLyBJbml0aWFsaXplIHN0b3JhZ2UgaW50ZXJmYWNlXHJcbiAgICAgICAgdGhpcy5jYWNoZU1hbmFnZXIgPSB0aGlzLmNvbmZpZy5zdG9yYWdlSW50ZXJmYWNlO1xyXG4gICAgICAgIC8vIFNldCB0aGUgbmV0d29yayBpbnRlcmZhY2VcclxuICAgICAgICB0aGlzLm5ldHdvcmtDbGllbnQgPSB0aGlzLmNvbmZpZy5uZXR3b3JrSW50ZXJmYWNlO1xyXG4gICAgICAgIC8vIFNldCBUZWxlbWV0cnlNYW5hZ2VyXHJcbiAgICAgICAgdGhpcy5zZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyID0gdGhpcy5jb25maWcuc2VydmVyVGVsZW1ldHJ5TWFuYWdlcjtcclxuICAgICAgICAvLyBzZXQgQXV0aG9yaXR5XHJcbiAgICAgICAgdGhpcy5hdXRob3JpdHkgPSB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5hdXRob3JpdHk7XHJcbiAgICAgICAgLy8gc2V0IHBlcmZvcm1hbmNlIHRlbGVtZXRyeSBjbGllbnRcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50ID0gcGVyZm9ybWFuY2VDbGllbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENyZWF0ZXMgZGVmYXVsdCBoZWFkZXJzIGZvciByZXF1ZXN0cyB0byB0b2tlbiBlbmRwb2ludFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVUb2tlblJlcXVlc3RIZWFkZXJzKGNjc0NyZWQpIHtcclxuICAgICAgICBjb25zdCBoZWFkZXJzID0ge307XHJcbiAgICAgICAgaGVhZGVyc1tIZWFkZXJOYW1lcy5DT05URU5UX1RZUEVdID0gQ29uc3RhbnRzLlVSTF9GT1JNX0NPTlRFTlRfVFlQRTtcclxuICAgICAgICBpZiAoIXRoaXMuY29uZmlnLnN5c3RlbU9wdGlvbnMucHJldmVudENvcnNQcmVmbGlnaHQgJiYgY2NzQ3JlZCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGNjc0NyZWQudHlwZSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBDY3NDcmVkZW50aWFsVHlwZS5IT01FX0FDQ09VTlRfSUQ6XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xpZW50SW5mbyA9IGJ1aWxkQ2xpZW50SW5mb0Zyb21Ib21lQWNjb3VudElkKGNjc0NyZWQuY3JlZGVudGlhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbSGVhZGVyTmFtZXMuQ0NTX0hFQURFUl0gPSBgT2lkOiR7Y2xpZW50SW5mby51aWR9QCR7Y2xpZW50SW5mby51dGlkfWA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJDb3VsZCBub3QgcGFyc2UgaG9tZSBhY2NvdW50IElEIGZvciBDQ1MgSGVhZGVyOiBcIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENjc0NyZWRlbnRpYWxUeXBlLlVQTjpcclxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW0hlYWRlck5hbWVzLkNDU19IRUFERVJdID0gYFVQTjogJHtjY3NDcmVkLmNyZWRlbnRpYWx9YDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaGVhZGVycztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSHR0cCBwb3N0IHRvIHRva2VuIGVuZHBvaW50XHJcbiAgICAgKiBAcGFyYW0gdG9rZW5FbmRwb2ludFxyXG4gICAgICogQHBhcmFtIHF1ZXJ5U3RyaW5nXHJcbiAgICAgKiBAcGFyYW0gaGVhZGVyc1xyXG4gICAgICogQHBhcmFtIHRodW1icHJpbnRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQodG9rZW5FbmRwb2ludCwgcXVlcnlTdHJpbmcsIGhlYWRlcnMsIHRodW1icHJpbnQsIGNvcnJlbGF0aW9uSWQsIHF1ZXVlZEV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHF1ZXVlZEV2ZW50KSB7XHJcbiAgICAgICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQ/LmFkZFF1ZXVlTWVhc3VyZW1lbnQocXVldWVkRXZlbnQsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuc2VuZFBvc3RSZXF1ZXN0KHRodW1icHJpbnQsIHRva2VuRW5kcG9pbnQsIHsgYm9keTogcXVlcnlTdHJpbmcsIGhlYWRlcnM6IGhlYWRlcnMgfSwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLnNlcnZlclRlbGVtZXRyeU1hbmFnZXIgJiZcclxuICAgICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzIDwgNTAwICYmXHJcbiAgICAgICAgICAgIHJlc3BvbnNlLnN0YXR1cyAhPT0gNDI5KSB7XHJcbiAgICAgICAgICAgIC8vIFRlbGVtZXRyeSBkYXRhIHN1Y2Nlc3NmdWxseSBsb2dnZWQgYnkgc2VydmVyLCBjbGVhciBUZWxlbWV0cnkgY2FjaGVcclxuICAgICAgICAgICAgdGhpcy5jb25maWcuc2VydmVyVGVsZW1ldHJ5TWFuYWdlci5jbGVhclRlbGVtZXRyeUNhY2hlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogV3JhcHMgc2VuZFBvc3RSZXF1ZXN0QXN5bmMgd2l0aCBuZWNlc3NhcnkgcHJlZmxpZ2h0IGFuZCBwb3N0ZmxpZ2h0IGxvZ2ljXHJcbiAgICAgKiBAcGFyYW0gdGh1bWJwcmludCAtIFJlcXVlc3QgdGh1bWJwcmludCBmb3IgdGhyb3R0bGluZ1xyXG4gICAgICogQHBhcmFtIHRva2VuRW5kcG9pbnQgLSBFbmRwb2ludCB0byBtYWtlIHRoZSBQT1NUIHRvXHJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEJvZHkgYW5kIEhlYWRlcnMgdG8gaW5jbHVkZSBvbiB0aGUgUE9TVCByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gY29ycmVsYXRpb25JZCAtIENvcnJlbGF0aW9uSWQgZm9yIHRlbGVtZXRyeVxyXG4gICAgICovXHJcbiAgICBhc3luYyBzZW5kUG9zdFJlcXVlc3QodGh1bWJwcmludCwgdG9rZW5FbmRwb2ludCwgb3B0aW9ucywgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIFRocm90dGxpbmdVdGlscy5wcmVQcm9jZXNzKHRoaXMuY2FjaGVNYW5hZ2VyLCB0aHVtYnByaW50KTtcclxuICAgICAgICBsZXQgcmVzcG9uc2U7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBpbnZva2VBc3luYygodGhpcy5uZXR3b3JrQ2xpZW50LnNlbmRQb3N0UmVxdWVzdEFzeW5jLmJpbmQodGhpcy5uZXR3b3JrQ2xpZW50KSksIFBlcmZvcm1hbmNlRXZlbnRzLk5ldHdvcmtDbGllbnRTZW5kUG9zdFJlcXVlc3RBc3luYywgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIGNvcnJlbGF0aW9uSWQpKHRva2VuRW5kcG9pbnQsIG9wdGlvbnMpO1xyXG4gICAgICAgICAgICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSByZXNwb25zZS5oZWFkZXJzIHx8IHt9O1xyXG4gICAgICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRGaWVsZHMoe1xyXG4gICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuU2l6ZTogcmVzcG9uc2UuYm9keS5yZWZyZXNoX3Rva2VuPy5sZW5ndGggfHwgMCxcclxuICAgICAgICAgICAgICAgIGh0dHBWZXJUb2tlbjogcmVzcG9uc2VIZWFkZXJzW0hlYWRlck5hbWVzLlhfTVNfSFRUUF9WRVJTSU9OXSB8fCBcIlwiLFxyXG4gICAgICAgICAgICAgICAgcmVxdWVzdElkOiByZXNwb25zZUhlYWRlcnNbSGVhZGVyTmFtZXMuWF9NU19SRVFVRVNUX0lEXSB8fCBcIlwiLFxyXG4gICAgICAgICAgICB9LCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBOZXR3b3JrRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGUucmVzcG9uc2VIZWFkZXJzO1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlSGVhZGVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQ/LmFkZEZpZWxkcyh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBWZXJUb2tlbjogcmVzcG9uc2VIZWFkZXJzW0hlYWRlck5hbWVzLlhfTVNfSFRUUF9WRVJTSU9OXSB8fCBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SWQ6IHJlc3BvbnNlSGVhZGVyc1tIZWFkZXJOYW1lcy5YX01TX1JFUVVFU1RfSURdIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZUhlYWRlcjogcmVzcG9uc2VIZWFkZXJzW0hlYWRlck5hbWVzLkNPTlRFTlRfVFlQRV0gfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVuZGVmaW5lZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudExlbmd0aEhlYWRlcjogcmVzcG9uc2VIZWFkZXJzW0hlYWRlck5hbWVzLkNPTlRFTlRfTEVOR1RIXSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwU3RhdHVzOiBlLmh0dHBTdGF0dXMsXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlLmVycm9yO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgQXV0aEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKG5ldHdvcmtFcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgVGhyb3R0bGluZ1V0aWxzLnBvc3RQcm9jZXNzKHRoaXMuY2FjaGVNYW5hZ2VyLCB0aHVtYnByaW50LCByZXNwb25zZSk7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBhdXRob3JpdHkgb2JqZWN0IG9mIHRoZSBjbGllbnQuIEVuZHBvaW50IGRpc2NvdmVyeSBtdXN0IGJlIGNvbXBsZXRlZC5cclxuICAgICAqIEBwYXJhbSB1cGRhdGVkQXV0aG9yaXR5XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHVwZGF0ZUF1dGhvcml0eShjbG91ZEluc3RhbmNlSG9zdG5hbWUsIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLlVwZGF0ZVRva2VuRW5kcG9pbnRBdXRob3JpdHksIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGNvbnN0IGNsb3VkSW5zdGFuY2VBdXRob3JpdHlVcmkgPSBgaHR0cHM6Ly8ke2Nsb3VkSW5zdGFuY2VIb3N0bmFtZX0vJHt0aGlzLmF1dGhvcml0eS50ZW5hbnR9L2A7XHJcbiAgICAgICAgY29uc3QgY2xvdWRJbnN0YW5jZUF1dGhvcml0eSA9IGF3YWl0IGNyZWF0ZURpc2NvdmVyZWRJbnN0YW5jZShjbG91ZEluc3RhbmNlQXV0aG9yaXR5VXJpLCB0aGlzLm5ldHdvcmtDbGllbnQsIHRoaXMuY2FjaGVNYW5hZ2VyLCB0aGlzLmF1dGhvcml0eS5vcHRpb25zLCB0aGlzLmxvZ2dlciwgY29ycmVsYXRpb25JZCwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICAgICAgdGhpcy5hdXRob3JpdHkgPSBjbG91ZEluc3RhbmNlQXV0aG9yaXR5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDcmVhdGVzIHF1ZXJ5IHN0cmluZyBmb3IgdGhlIC90b2tlbiByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBjcmVhdGVUb2tlblF1ZXJ5UGFyYW1ldGVycyhyZXF1ZXN0KSB7XHJcbiAgICAgICAgY29uc3QgcGFyYW1ldGVyQnVpbGRlciA9IG5ldyBSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlcihyZXF1ZXN0LmNvcnJlbGF0aW9uSWQsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQpO1xyXG4gICAgICAgIGlmIChyZXF1ZXN0LmVtYmVkZGVkQ2xpZW50SWQpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRCcm9rZXJQYXJhbWV0ZXJzKHtcclxuICAgICAgICAgICAgICAgIGJyb2tlckNsaWVudElkOiB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRJZCxcclxuICAgICAgICAgICAgICAgIGJyb2tlclJlZGlyZWN0VXJpOiB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5yZWRpcmVjdFVyaSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZXF1ZXN0LnRva2VuUXVlcnlQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkRXh0cmFRdWVyeVBhcmFtZXRlcnMocmVxdWVzdC50b2tlblF1ZXJ5UGFyYW1ldGVycyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ29ycmVsYXRpb25JZChyZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIHJldHVybiBwYXJhbWV0ZXJCdWlsZGVyLmNyZWF0ZVF1ZXJ5U3RyaW5nKCk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgQmFzZUNsaWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmFzZUNsaWVudC5tanMubWFwXG4iXSwibmFtZXMiOlsiYnVpbGRDbGllbnRDb25maWd1cmF0aW9uIiwiTG9nZ2VyIiwiSGVhZGVyTmFtZXMiLCJDb25zdGFudHMiLCJuYW1lIiwidmVyc2lvbiIsIkNjc0NyZWRlbnRpYWxUeXBlIiwiYnVpbGRDbGllbnRJbmZvRnJvbUhvbWVBY2NvdW50SWQiLCJSZXF1ZXN0UGFyYW1ldGVyQnVpbGRlciIsImNyZWF0ZURpc2NvdmVyZWRJbnN0YW5jZSIsIlBlcmZvcm1hbmNlRXZlbnRzIiwiVGhyb3R0bGluZ1V0aWxzIiwiQXV0aEVycm9yIiwiY3JlYXRlQ2xpZW50QXV0aEVycm9yIiwiTmV0d29ya0Vycm9yIiwiaW52b2tlQXN5bmMiLCJuZXR3b3JrRXJyb3IiLCJCYXNlQ2xpZW50IiwiY29uc3RydWN0b3IiLCJjb25maWd1cmF0aW9uIiwicGVyZm9ybWFuY2VDbGllbnQiLCJjb25maWciLCJsb2dnZXIiLCJsb2dnZXJPcHRpb25zIiwiY3J5cHRvVXRpbHMiLCJjcnlwdG9JbnRlcmZhY2UiLCJjYWNoZU1hbmFnZXIiLCJzdG9yYWdlSW50ZXJmYWNlIiwibmV0d29ya0NsaWVudCIsIm5ldHdvcmtJbnRlcmZhY2UiLCJzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyIiwiYXV0aG9yaXR5IiwiYXV0aE9wdGlvbnMiLCJjcmVhdGVUb2tlblJlcXVlc3RIZWFkZXJzIiwiY2NzQ3JlZCIsImhlYWRlcnMiLCJDT05URU5UX1RZUEUiLCJVUkxfRk9STV9DT05URU5UX1RZUEUiLCJzeXN0ZW1PcHRpb25zIiwicHJldmVudENvcnNQcmVmbGlnaHQiLCJ0eXBlIiwiSE9NRV9BQ0NPVU5UX0lEIiwiY2xpZW50SW5mbyIsImNyZWRlbnRpYWwiLCJDQ1NfSEVBREVSIiwidWlkIiwidXRpZCIsImUiLCJ2ZXJib3NlIiwiVVBOIiwiZXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQiLCJ0b2tlbkVuZHBvaW50IiwicXVlcnlTdHJpbmciLCJ0aHVtYnByaW50IiwiY29ycmVsYXRpb25JZCIsInF1ZXVlZEV2ZW50IiwiYWRkUXVldWVNZWFzdXJlbWVudCIsInJlc3BvbnNlIiwic2VuZFBvc3RSZXF1ZXN0IiwiYm9keSIsInN0YXR1cyIsImNsZWFyVGVsZW1ldHJ5Q2FjaGUiLCJvcHRpb25zIiwicHJlUHJvY2VzcyIsInNlbmRQb3N0UmVxdWVzdEFzeW5jIiwiYmluZCIsIk5ldHdvcmtDbGllbnRTZW5kUG9zdFJlcXVlc3RBc3luYyIsInJlc3BvbnNlSGVhZGVycyIsImFkZEZpZWxkcyIsInJlZnJlc2hUb2tlblNpemUiLCJyZWZyZXNoX3Rva2VuIiwibGVuZ3RoIiwiaHR0cFZlclRva2VuIiwiWF9NU19IVFRQX1ZFUlNJT04iLCJyZXF1ZXN0SWQiLCJYX01TX1JFUVVFU1RfSUQiLCJjb250ZW50VHlwZUhlYWRlciIsInVuZGVmaW5lZCIsImNvbnRlbnRMZW5ndGhIZWFkZXIiLCJDT05URU5UX0xFTkdUSCIsImh0dHBTdGF0dXMiLCJlcnJvciIsInBvc3RQcm9jZXNzIiwidXBkYXRlQXV0aG9yaXR5IiwiY2xvdWRJbnN0YW5jZUhvc3RuYW1lIiwiVXBkYXRlVG9rZW5FbmRwb2ludEF1dGhvcml0eSIsImNsb3VkSW5zdGFuY2VBdXRob3JpdHlVcmkiLCJ0ZW5hbnQiLCJjbG91ZEluc3RhbmNlQXV0aG9yaXR5IiwiY3JlYXRlVG9rZW5RdWVyeVBhcmFtZXRlcnMiLCJyZXF1ZXN0IiwicGFyYW1ldGVyQnVpbGRlciIsImVtYmVkZGVkQ2xpZW50SWQiLCJhZGRCcm9rZXJQYXJhbWV0ZXJzIiwiYnJva2VyQ2xpZW50SWQiLCJjbGllbnRJZCIsImJyb2tlclJlZGlyZWN0VXJpIiwicmVkaXJlY3RVcmkiLCJ0b2tlblF1ZXJ5UGFyYW1ldGVycyIsImFkZEV4dHJhUXVlcnlQYXJhbWV0ZXJzIiwiYWRkQ29ycmVsYXRpb25JZCIsImNyZWF0ZVF1ZXJ5U3RyaW5nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/client/BaseClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/client/RefreshTokenClient.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/client/RefreshTokenClient.mjs ***!
  \****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RefreshTokenClient: () => (/* binding */ RefreshTokenClient)\n/* harmony export */ });\n/* harmony import */ var _config_ClientConfiguration_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../config/ClientConfiguration.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/config/ClientConfiguration.mjs\");\n/* harmony import */ var _BaseClient_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseClient.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/client/BaseClient.mjs\");\n/* harmony import */ var _request_RequestParameterBuilder_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../request/RequestParameterBuilder.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/request/RequestParameterBuilder.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../constants/AADServerParamKeys.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/constants/AADServerParamKeys.mjs\");\n/* harmony import */ var _response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../response/ResponseHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/response/ResponseHandler.mjs\");\n/* harmony import */ var _crypto_PopTokenGenerator_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../crypto/PopTokenGenerator.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/crypto/PopTokenGenerator.mjs\");\n/* harmony import */ var _utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../utils/StringUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/StringUtils.mjs\");\n/* harmony import */ var _error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../error/ClientConfigurationError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs\");\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _error_ServerError_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../error/ServerError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ServerError.mjs\");\n/* harmony import */ var _utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/TimeUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/TimeUtils.mjs\");\n/* harmony import */ var _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../url/UrlString.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs\");\n/* harmony import */ var _account_CcsCredential_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../account/CcsCredential.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/CcsCredential.mjs\");\n/* harmony import */ var _account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../account/ClientInfo.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/ClientInfo.mjs\");\n/* harmony import */ var _error_InteractionRequiredAuthError_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../error/InteractionRequiredAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs\");\n/* harmony import */ var _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../telemetry/performance/PerformanceEvent.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/FunctionWrappers.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../cache/utils/CacheHelpers.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/utils/CacheHelpers.mjs\");\n/* harmony import */ var _utils_ClientAssertionUtils_mjs__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../utils/ClientAssertionUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/ClientAssertionUtils.mjs\");\n/* harmony import */ var _error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../error/ClientConfigurationErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/* harmony import */ var _error_InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../error/InteractionRequiredAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const DEFAULT_REFRESH_TOKEN_EXPIRATION_OFFSET_SECONDS = 300; // 5 Minutes\n/**\r\n * OAuth2.0 refresh token client\r\n * @internal\r\n */ class RefreshTokenClient extends _BaseClient_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseClient {\n    constructor(configuration, performanceClient){\n        super(configuration, performanceClient);\n    }\n    async acquireToken(request) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientAcquireToken, request.correlationId);\n        const reqTimestamp = (0,_utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_2__.nowSeconds)();\n        const response = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.executeTokenRequest.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientExecuteTokenRequest, this.logger, this.performanceClient, request.correlationId)(request, this.authority);\n        // Retrieve requestId from response headers\n        const requestId = response.headers?.[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.HeaderNames.X_MS_REQUEST_ID];\n        const responseHandler = new _response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_5__.ResponseHandler(this.config.authOptions.clientId, this.cacheManager, this.cryptoUtils, this.logger, this.config.serializableCache, this.config.persistencePlugin);\n        responseHandler.validateTokenResponse(response.body);\n        return (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(responseHandler.handleServerTokenResponse.bind(responseHandler), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.HandleServerTokenResponse, this.logger, this.performanceClient, request.correlationId)(response.body, this.authority, reqTimestamp, request, undefined, undefined, true, request.forceCache, requestId);\n    }\n    /**\r\n     * Gets cached refresh token and attaches to request, then calls acquireToken API\r\n     * @param request\r\n     */ async acquireTokenByRefreshToken(request) {\n        // Cannot renew token if no request object is given.\n        if (!request) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_6__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_7__.tokenRequestEmpty);\n        }\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientAcquireTokenByRefreshToken, request.correlationId);\n        // We currently do not support silent flow for account === null use cases; This will be revisited for confidential flow usecases\n        if (!request.account) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_8__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_9__.noAccountInSilentRequest);\n        }\n        // try checking if FOCI is enabled for the given application\n        const isFOCI = this.cacheManager.isAppMetadataFOCI(request.account.environment);\n        // if the app is part of the family, retrive a Family refresh token if present and make a refreshTokenRequest\n        if (isFOCI) {\n            try {\n                return await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.acquireTokenWithCachedRefreshToken.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken, this.logger, this.performanceClient, request.correlationId)(request, true);\n            } catch (e) {\n                const noFamilyRTInCache = e instanceof _error_InteractionRequiredAuthError_mjs__WEBPACK_IMPORTED_MODULE_10__.InteractionRequiredAuthError && e.errorCode === _error_InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_11__.noTokensFound;\n                const clientMismatchErrorWithFamilyRT = e instanceof _error_ServerError_mjs__WEBPACK_IMPORTED_MODULE_12__.ServerError && e.errorCode === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Errors.INVALID_GRANT_ERROR && e.subError === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Errors.CLIENT_MISMATCH_ERROR;\n                // if family Refresh Token (FRT) cache acquisition fails or if client_mismatch error is seen with FRT, reattempt with application Refresh Token (ART)\n                if (noFamilyRTInCache || clientMismatchErrorWithFamilyRT) {\n                    return (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.acquireTokenWithCachedRefreshToken.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken, this.logger, this.performanceClient, request.correlationId)(request, false);\n                // throw in all other cases\n                } else {\n                    throw e;\n                }\n            }\n        }\n        // fall back to application refresh token acquisition\n        return (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.acquireTokenWithCachedRefreshToken.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken, this.logger, this.performanceClient, request.correlationId)(request, false);\n    }\n    /**\r\n     * makes a network call to acquire tokens by exchanging RefreshToken available in userCache; throws if refresh token is not cached\r\n     * @param request\r\n     */ async acquireTokenWithCachedRefreshToken(request, foci) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken, request.correlationId);\n        // fetches family RT or application RT based on FOCI value\n        const refreshToken = (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_3__.invoke)(this.cacheManager.getRefreshToken.bind(this.cacheManager), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.CacheManagerGetRefreshToken, this.logger, this.performanceClient, request.correlationId)(request.account, foci, undefined, this.performanceClient, request.correlationId);\n        if (!refreshToken) {\n            throw (0,_error_InteractionRequiredAuthError_mjs__WEBPACK_IMPORTED_MODULE_10__.createInteractionRequiredAuthError)(_error_InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_11__.noTokensFound);\n        }\n        if (refreshToken.expiresOn && (0,_utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_2__.isTokenExpired)(refreshToken.expiresOn, request.refreshTokenExpirationOffsetSeconds || DEFAULT_REFRESH_TOKEN_EXPIRATION_OFFSET_SECONDS)) {\n            throw (0,_error_InteractionRequiredAuthError_mjs__WEBPACK_IMPORTED_MODULE_10__.createInteractionRequiredAuthError)(_error_InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_11__.refreshTokenExpired);\n        }\n        // attach cached RT size to the current measurement\n        const refreshTokenRequest = {\n            ...request,\n            refreshToken: refreshToken.secret,\n            authenticationScheme: request.authenticationScheme || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.AuthenticationScheme.BEARER,\n            ccsCredential: {\n                credential: request.account.homeAccountId,\n                type: _account_CcsCredential_mjs__WEBPACK_IMPORTED_MODULE_13__.CcsCredentialType.HOME_ACCOUNT_ID\n            }\n        };\n        try {\n            return await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.acquireToken.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientAcquireToken, this.logger, this.performanceClient, request.correlationId)(refreshTokenRequest);\n        } catch (e) {\n            if (e instanceof _error_InteractionRequiredAuthError_mjs__WEBPACK_IMPORTED_MODULE_10__.InteractionRequiredAuthError && e.subError === _error_InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_11__.badToken) {\n                // Remove bad refresh token from cache\n                this.logger.verbose(\"acquireTokenWithRefreshToken: bad refresh token, removing from cache\");\n                const badRefreshTokenKey = (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_14__.generateCredentialKey)(refreshToken);\n                this.cacheManager.removeRefreshToken(badRefreshTokenKey);\n            }\n            throw e;\n        }\n    }\n    /**\r\n     * Constructs the network message and makes a NW call to the underlying secure token service\r\n     * @param request\r\n     * @param authority\r\n     */ async executeTokenRequest(request, authority) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientExecuteTokenRequest, request.correlationId);\n        const queryParametersString = this.createTokenQueryParameters(request);\n        const endpoint = _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_15__.UrlString.appendQueryString(authority.tokenEndpoint, queryParametersString);\n        const requestBody = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.createTokenRequestBody.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientCreateTokenRequestBody, this.logger, this.performanceClient, request.correlationId)(request);\n        const headers = this.createTokenRequestHeaders(request.ccsCredential);\n        const thumbprint = {\n            clientId: request.tokenBodyParameters?.clientId || this.config.authOptions.clientId,\n            authority: authority.canonicalAuthority,\n            scopes: request.scopes,\n            claims: request.claims,\n            authenticationScheme: request.authenticationScheme,\n            resourceRequestMethod: request.resourceRequestMethod,\n            resourceRequestUri: request.resourceRequestUri,\n            shrClaims: request.shrClaims,\n            sshKid: request.sshKid\n        };\n        return (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(this.executePostToTokenEndpoint.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientExecutePostToTokenEndpoint, this.logger, this.performanceClient, request.correlationId)(endpoint, requestBody, headers, thumbprint, request.correlationId, _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientExecutePostToTokenEndpoint);\n    }\n    /**\r\n     * Helper function to create the token request body\r\n     * @param request\r\n     */ async createTokenRequestBody(request) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.RefreshTokenClientCreateTokenRequestBody, request.correlationId);\n        const correlationId = request.correlationId;\n        const parameterBuilder = new _request_RequestParameterBuilder_mjs__WEBPACK_IMPORTED_MODULE_16__.RequestParameterBuilder(correlationId, this.performanceClient);\n        parameterBuilder.addClientId(request.embeddedClientId || request.tokenBodyParameters?.[_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_17__.CLIENT_ID] || this.config.authOptions.clientId);\n        if (request.redirectUri) {\n            parameterBuilder.addRedirectUri(request.redirectUri);\n        }\n        parameterBuilder.addScopes(request.scopes, true, this.config.authOptions.authority.options.OIDCOptions?.defaultScopes);\n        parameterBuilder.addGrantType(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.GrantType.REFRESH_TOKEN_GRANT);\n        parameterBuilder.addClientInfo();\n        parameterBuilder.addLibraryInfo(this.config.libraryInfo);\n        parameterBuilder.addApplicationTelemetry(this.config.telemetry.application);\n        parameterBuilder.addThrottling();\n        if (this.serverTelemetryManager && !(0,_config_ClientConfiguration_mjs__WEBPACK_IMPORTED_MODULE_18__.isOidcProtocolMode)(this.config)) {\n            parameterBuilder.addServerTelemetry(this.serverTelemetryManager);\n        }\n        parameterBuilder.addRefreshToken(request.refreshToken);\n        if (this.config.clientCredentials.clientSecret) {\n            parameterBuilder.addClientSecret(this.config.clientCredentials.clientSecret);\n        }\n        if (this.config.clientCredentials.clientAssertion) {\n            const clientAssertion = this.config.clientCredentials.clientAssertion;\n            parameterBuilder.addClientAssertion(await (0,_utils_ClientAssertionUtils_mjs__WEBPACK_IMPORTED_MODULE_19__.getClientAssertion)(clientAssertion.assertion, this.config.authOptions.clientId, request.resourceRequestUri));\n            parameterBuilder.addClientAssertionType(clientAssertion.assertionType);\n        }\n        if (request.authenticationScheme === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.AuthenticationScheme.POP) {\n            const popTokenGenerator = new _crypto_PopTokenGenerator_mjs__WEBPACK_IMPORTED_MODULE_20__.PopTokenGenerator(this.cryptoUtils, this.performanceClient);\n            let reqCnfData;\n            if (!request.popKid) {\n                const generatedReqCnfData = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_3__.invokeAsync)(popTokenGenerator.generateCnf.bind(popTokenGenerator), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_1__.PerformanceEvents.PopTokenGenerateCnf, this.logger, this.performanceClient, request.correlationId)(request, this.logger);\n                reqCnfData = generatedReqCnfData.reqCnfString;\n            } else {\n                reqCnfData = this.cryptoUtils.encodeKid(request.popKid);\n            }\n            // SPA PoP requires full Base64Url encoded req_cnf string (unhashed)\n            parameterBuilder.addPopToken(reqCnfData);\n        } else if (request.authenticationScheme === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.AuthenticationScheme.SSH) {\n            if (request.sshJwk) {\n                parameterBuilder.addSshJwk(request.sshJwk);\n            } else {\n                throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_6__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_7__.missingSshJwk);\n            }\n        }\n        if (!_utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_21__.StringUtils.isEmptyObj(request.claims) || this.config.authOptions.clientCapabilities && this.config.authOptions.clientCapabilities.length > 0) {\n            parameterBuilder.addClaims(request.claims, this.config.authOptions.clientCapabilities);\n        }\n        if (this.config.systemOptions.preventCorsPreflight && request.ccsCredential) {\n            switch(request.ccsCredential.type){\n                case _account_CcsCredential_mjs__WEBPACK_IMPORTED_MODULE_13__.CcsCredentialType.HOME_ACCOUNT_ID:\n                    try {\n                        const clientInfo = (0,_account_ClientInfo_mjs__WEBPACK_IMPORTED_MODULE_22__.buildClientInfoFromHomeAccountId)(request.ccsCredential.credential);\n                        parameterBuilder.addCcsOid(clientInfo);\n                    } catch (e) {\n                        this.logger.verbose(\"Could not parse home account ID for CCS Header: \" + e);\n                    }\n                    break;\n                case _account_CcsCredential_mjs__WEBPACK_IMPORTED_MODULE_13__.CcsCredentialType.UPN:\n                    parameterBuilder.addCcsUpn(request.ccsCredential.credential);\n                    break;\n            }\n        }\n        if (request.embeddedClientId) {\n            parameterBuilder.addBrokerParameters({\n                brokerClientId: this.config.authOptions.clientId,\n                brokerRedirectUri: this.config.authOptions.redirectUri\n            });\n        }\n        if (request.tokenBodyParameters) {\n            parameterBuilder.addExtraQueryParameters(request.tokenBodyParameters);\n        }\n        return parameterBuilder.createQueryString();\n    }\n}\n //# sourceMappingURL=RefreshTokenClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2xpZW50L1JlZnJlc2hUb2tlbkNsaWVudC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ3VFO0FBQ3pCO0FBQ21DO0FBQ2E7QUFDOUI7QUFDRTtBQUNFO0FBQ2I7QUFDZ0M7QUFDbEI7QUFDZDtBQUNhO0FBQ25CO0FBQ2dCO0FBQ1k7QUFDZ0Q7QUFDM0M7QUFDZDtBQUNJO0FBQ0Q7QUFDdUI7QUFDakI7QUFDaUM7QUFFOUc7OztDQUdDLEdBQ0QsTUFBTWdDLGtEQUFrRCxLQUFLLFlBQVk7QUFDekU7OztDQUdDLEdBQ0QsTUFBTUMsMkJBQTJCaEMsdURBQVVBO0lBQ3ZDaUMsWUFBWUMsYUFBYSxFQUFFQyxpQkFBaUIsQ0FBRTtRQUMxQyxLQUFLLENBQUNELGVBQWVDO0lBQ3pCO0lBQ0EsTUFBTUMsYUFBYUMsT0FBTyxFQUFFO1FBQ3hCLElBQUksQ0FBQ0YsaUJBQWlCLEVBQUVHLG9CQUFvQmxCLDBGQUFpQkEsQ0FBQ21CLDhCQUE4QixFQUFFRixRQUFRRyxhQUFhO1FBQ25ILE1BQU1DLGVBQWU1QixnRUFBVUE7UUFDL0IsTUFBTTZCLFdBQVcsTUFBTXJCLHdFQUFXQSxDQUFDLElBQUksQ0FBQ3NCLG1CQUFtQixDQUFDQyxJQUFJLENBQUMsSUFBSSxHQUFHeEIsMEZBQWlCQSxDQUFDeUIscUNBQXFDLEVBQUUsSUFBSSxDQUFDQyxNQUFNLEVBQUUsSUFBSSxDQUFDWCxpQkFBaUIsRUFBRUUsUUFBUUcsYUFBYSxFQUFFSCxTQUFTLElBQUksQ0FBQ1UsU0FBUztRQUNwTiwyQ0FBMkM7UUFDM0MsTUFBTUMsWUFBWU4sU0FBU08sT0FBTyxFQUFFLENBQUM3Qyw2REFBV0EsQ0FBQzhDLGVBQWUsQ0FBQztRQUNqRSxNQUFNQyxrQkFBa0IsSUFBSTVDLDBFQUFlQSxDQUFDLElBQUksQ0FBQzZDLE1BQU0sQ0FBQ0MsV0FBVyxD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a0I7UUFDekY7UUFDQSxJQUFJLElBQUksQ0FBQzdHLE1BQU0sQ0FBQ2dILGFBQWEsQ0FBQ0Msb0JBQW9CLElBQzlDaEksUUFBUXFELGFBQWEsRUFBRTtZQUN2QixPQUFRckQsUUFBUXFELGFBQWEsQ0FBQ0csSUFBSTtnQkFDOUIsS0FBSzdFLDBFQUFpQkEsQ0FBQzhFLGVBQWU7b0JBQ2xDLElBQUk7d0JBQ0EsTUFBTXdFLGFBQWFySiwwRkFBZ0NBLENBQUNvQixRQUFRcUQsYUFBYSxDQUFDQyxVQUFVO3dCQUNwRjJCLGlCQUFpQmlELFNBQVMsQ0FBQ0Q7b0JBQy9CLEVBQ0EsT0FBTzdGLEdBQUc7d0JBQ04sSUFBSSxDQUFDM0IsTUFBTSxDQUFDaUQsT0FBTyxDQUFDLHFEQUNoQnRCO29CQUNSO29CQUNBO2dCQUNKLEtBQUt6RCwwRUFBaUJBLENBQUN3SixHQUFHO29CQUN0QmxELGlCQUFpQm1ELFNBQVMsQ0FBQ3BJLFFBQVFxRCxhQUFhLENBQUNDLFVBQVU7b0JBQzNEO1lBQ1I7UUFDSjtRQUNBLElBQUl0RCxRQUFRbUYsZ0JBQWdCLEVBQUU7WUFDMUJGLGlCQUFpQm9ELG1CQUFtQixDQUFDO2dCQUNqQ0MsZ0JBQWdCLElBQUksQ0FBQ3ZILE1BQU0sQ0FBQ0MsV0FBVyxDQUFDQyxRQUFRO2dCQUNoRHNILG1CQUFtQixJQUFJLENBQUN4SCxNQUFNLENBQUNDLFdBQVcsQ0FBQ29FLFdBQVc7WUFDMUQ7UUFDSjtRQUNBLElBQUlwRixRQUFRdUUsbUJBQW1CLEVBQUU7WUFDN0JVLGlCQUFpQnVELHVCQUF1QixDQUFDeEksUUFBUXVFLG1CQUFtQjtRQUN4RTtRQUNBLE9BQU9VLGlCQUFpQndELGlCQUFpQjtJQUM3QztBQUNKO0FBRThCLENBQzlCLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jbGllbnQvUmVmcmVzaFRva2VuQ2xpZW50Lm1qcz80MTAzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgaXNPaWRjUHJvdG9jb2xNb2RlIH0gZnJvbSAnLi4vY29uZmlnL0NsaWVudENvbmZpZ3VyYXRpb24ubWpzJztcbmltcG9ydCB7IEJhc2VDbGllbnQgfSBmcm9tICcuL0Jhc2VDbGllbnQubWpzJztcbmltcG9ydCB7IFJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyIH0gZnJvbSAnLi4vcmVxdWVzdC9SZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5tanMnO1xuaW1wb3J0IHsgR3JhbnRUeXBlLCBBdXRoZW50aWNhdGlvblNjaGVtZSwgSGVhZGVyTmFtZXMsIEVycm9ycyB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgQ0xJRU5UX0lEIH0gZnJvbSAnLi4vY29uc3RhbnRzL0FBRFNlcnZlclBhcmFtS2V5cy5tanMnO1xuaW1wb3J0IHsgUmVzcG9uc2VIYW5kbGVyIH0gZnJvbSAnLi4vcmVzcG9uc2UvUmVzcG9uc2VIYW5kbGVyLm1qcyc7XG5pbXBvcnQgeyBQb3BUb2tlbkdlbmVyYXRvciB9IGZyb20gJy4uL2NyeXB0by9Qb3BUb2tlbkdlbmVyYXRvci5tanMnO1xuaW1wb3J0IHsgU3RyaW5nVXRpbHMgfSBmcm9tICcuLi91dGlscy9TdHJpbmdVdGlscy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLm1qcyc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IFNlcnZlckVycm9yIH0gZnJvbSAnLi4vZXJyb3IvU2VydmVyRXJyb3IubWpzJztcbmltcG9ydCB7IG5vd1NlY29uZHMsIGlzVG9rZW5FeHBpcmVkIH0gZnJvbSAnLi4vdXRpbHMvVGltZVV0aWxzLm1qcyc7XG5pbXBvcnQgeyBVcmxTdHJpbmcgfSBmcm9tICcuLi91cmwvVXJsU3RyaW5nLm1qcyc7XG5pbXBvcnQgeyBDY3NDcmVkZW50aWFsVHlwZSB9IGZyb20gJy4uL2FjY291bnQvQ2NzQ3JlZGVudGlhbC5tanMnO1xuaW1wb3J0IHsgYnVpbGRDbGllbnRJbmZvRnJvbUhvbWVBY2NvdW50SWQgfSBmcm9tICcuLi9hY2NvdW50L0NsaWVudEluZm8ubWpzJztcbmltcG9ydCB7IGNyZWF0ZUludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IsIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9JbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBQZXJmb3JtYW5jZUV2ZW50cyB9IGZyb20gJy4uL3RlbGVtZXRyeS9wZXJmb3JtYW5jZS9QZXJmb3JtYW5jZUV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBpbnZva2VBc3luYywgaW52b2tlIH0gZnJvbSAnLi4vdXRpbHMvRnVuY3Rpb25XcmFwcGVycy5tanMnO1xuaW1wb3J0IHsgZ2VuZXJhdGVDcmVkZW50aWFsS2V5IH0gZnJvbSAnLi4vY2FjaGUvdXRpbHMvQ2FjaGVIZWxwZXJzLm1qcyc7XG5pbXBvcnQgeyBnZXRDbGllbnRBc3NlcnRpb24gfSBmcm9tICcuLi91dGlscy9DbGllbnRBc3NlcnRpb25VdGlscy5tanMnO1xuaW1wb3J0IHsgdG9rZW5SZXF1ZXN0RW1wdHksIG1pc3NpbmdTc2hKd2sgfSBmcm9tICcuLi9lcnJvci9DbGllbnRDb25maWd1cmF0aW9uRXJyb3JDb2Rlcy5tanMnO1xuaW1wb3J0IHsgbm9BY2NvdW50SW5TaWxlbnRSZXF1ZXN0IH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yQ29kZXMubWpzJztcbmltcG9ydCB7IG5vVG9rZW5zRm91bmQsIHJlZnJlc2hUb2tlbkV4cGlyZWQsIGJhZFRva2VuIH0gZnJvbSAnLi4vZXJyb3IvSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBERUZBVUxUX1JFRlJFU0hfVE9LRU5fRVhQSVJBVElPTl9PRkZTRVRfU0VDT05EUyA9IDMwMDsgLy8gNSBNaW51dGVzXHJcbi8qKlxyXG4gKiBPQXV0aDIuMCByZWZyZXNoIHRva2VuIGNsaWVudFxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmNsYXNzIFJlZnJlc2hUb2tlbkNsaWVudCBleHRlbmRzIEJhc2VDbGllbnQge1xyXG4gICAgY29uc3RydWN0b3IoY29uZmlndXJhdGlvbiwgcGVyZm9ybWFuY2VDbGllbnQpIHtcclxuICAgICAgICBzdXBlcihjb25maWd1cmF0aW9uLCBwZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICB9XHJcbiAgICBhc3luYyBhY3F1aXJlVG9rZW4ocmVxdWVzdCkge1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQ/LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuUmVmcmVzaFRva2VuQ2xpZW50QWNxdWlyZVRva2VuLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGNvbnN0IHJlcVRpbWVzdGFtcCA9IG5vd1NlY29uZHMoKTtcclxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGludm9rZUFzeW5jKHRoaXMuZXhlY3V0ZVRva2VuUmVxdWVzdC5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5SZWZyZXNoVG9rZW5DbGllbnRFeGVjdXRlVG9rZW5SZXF1ZXN0LCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKShyZXF1ZXN0LCB0aGlzLmF1dGhvcml0eSk7XHJcbiAgICAgICAgLy8gUmV0cmlldmUgcmVxdWVzdElkIGZyb20gcmVzcG9uc2UgaGVhZGVyc1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IHJlc3BvbnNlLmhlYWRlcnM/LltIZWFkZXJOYW1lcy5YX01TX1JFUVVFU1RfSURdO1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlSGFuZGxlciA9IG5ldyBSZXNwb25zZUhhbmRsZXIodGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50SWQsIHRoaXMuY2FjaGVNYW5hZ2VyLCB0aGlzLmNyeXB0b1V0aWxzLCB0aGlzLmxvZ2dlciwgdGhpcy5jb25maWcuc2VyaWFsaXphYmxlQ2FjaGUsIHRoaXMuY29uZmlnLnBlcnNpc3RlbmNlUGx1Z2luKTtcclxuICAgICAgICByZXNwb25zZUhhbmRsZXIudmFsaWRhdGVUb2tlblJlc3BvbnNlKHJlc3BvbnNlLmJvZHkpO1xyXG4gICAgICAgIHJldHVybiBpbnZva2VBc3luYyhyZXNwb25zZUhhbmRsZXIuaGFuZGxlU2VydmVyVG9rZW5SZXNwb25zZS5iaW5kKHJlc3BvbnNlSGFuZGxlciksIFBlcmZvcm1hbmNlRXZlbnRzLkhhbmRsZVNlcnZlclRva2VuUmVzcG9uc2UsIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKHJlc3BvbnNlLmJvZHksIHRoaXMuYXV0aG9yaXR5LCByZXFUaW1lc3RhbXAsIHJlcXVlc3QsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB0cnVlLCByZXF1ZXN0LmZvcmNlQ2FjaGUsIHJlcXVlc3RJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldHMgY2FjaGVkIHJlZnJlc2ggdG9rZW4gYW5kIGF0dGFjaGVzIHRvIHJlcXVlc3QsIHRoZW4gY2FsbHMgYWNxdWlyZVRva2VuIEFQSVxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuQnlSZWZyZXNoVG9rZW4ocmVxdWVzdCkge1xyXG4gICAgICAgIC8vIENhbm5vdCByZW5ldyB0b2tlbiBpZiBubyByZXF1ZXN0IG9iamVjdCBpcyBnaXZlbi5cclxuICAgICAgICBpZiAoIXJlcXVlc3QpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKHRva2VuUmVxdWVzdEVtcHR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudD8uYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5SZWZyZXNoVG9rZW5DbGllbnRBY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbiwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICAvLyBXZSBjdXJyZW50bHkgZG8gbm90IHN1cHBvcnQgc2lsZW50IGZsb3cgZm9yIGFjY291bnQgPT09IG51bGwgdXNlIGNhc2VzOyBUaGlzIHdpbGwgYmUgcmV2aXNpdGVkIGZvciBjb25maWRlbnRpYWwgZmxvdyB1c2VjYXNlc1xyXG4gICAgICAgIGlmICghcmVxdWVzdC5hY2NvdW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihub0FjY291bnRJblNpbGVudFJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0cnkgY2hlY2tpbmcgaWYgRk9DSSBpcyBlbmFibGVkIGZvciB0aGUgZ2l2ZW4gYXBwbGljYXRpb25cclxuICAgICAgICBjb25zdCBpc0ZPQ0kgPSB0aGlzLmNhY2hlTWFuYWdlci5pc0FwcE1ldGFkYXRhRk9DSShyZXF1ZXN0LmFjY291bnQuZW52aXJvbm1lbnQpO1xyXG4gICAgICAgIC8vIGlmIHRoZSBhcHAgaXMgcGFydCBvZiB0aGUgZmFtaWx5LCByZXRyaXZlIGEgRmFtaWx5IHJlZnJlc2ggdG9rZW4gaWYgcHJlc2VudCBhbmQgbWFrZSBhIHJlZnJlc2hUb2tlblJlcXVlc3RcclxuICAgICAgICBpZiAoaXNGT0NJKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgaW52b2tlQXN5bmModGhpcy5hY3F1aXJlVG9rZW5XaXRoQ2FjaGVkUmVmcmVzaFRva2VuLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLlJlZnJlc2hUb2tlbkNsaWVudEFjcXVpcmVUb2tlbldpdGhDYWNoZWRSZWZyZXNoVG9rZW4sIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKHJlcXVlc3QsIHRydWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBub0ZhbWlseVJUSW5DYWNoZSA9IGUgaW5zdGFuY2VvZiBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZS5lcnJvckNvZGUgPT09XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vVG9rZW5zRm91bmQ7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRNaXNtYXRjaEVycm9yV2l0aEZhbWlseVJUID0gZSBpbnN0YW5jZW9mIFNlcnZlckVycm9yICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZS5lcnJvckNvZGUgPT09IEVycm9ycy5JTlZBTElEX0dSQU5UX0VSUk9SICYmXHJcbiAgICAgICAgICAgICAgICAgICAgZS5zdWJFcnJvciA9PT0gRXJyb3JzLkNMSUVOVF9NSVNNQVRDSF9FUlJPUjtcclxuICAgICAgICAgICAgICAgIC8vIGlmIGZhbWlseSBSZWZyZXNoIFRva2VuIChGUlQpIGNhY2hlIGFjcXVpc2l0aW9uIGZhaWxzIG9yIGlmIGNsaWVudF9taXNtYXRjaCBlcnJvciBpcyBzZWVuIHdpdGggRlJULCByZWF0dGVtcHQgd2l0aCBhcHBsaWNhdGlvbiBSZWZyZXNoIFRva2VuIChBUlQpXHJcbiAgICAgICAgICAgICAgICBpZiAobm9GYW1pbHlSVEluQ2FjaGUgfHwgY2xpZW50TWlzbWF0Y2hFcnJvcldpdGhGYW1pbHlSVCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnZva2VBc3luYyh0aGlzLmFjcXVpcmVUb2tlbldpdGhDYWNoZWRSZWZyZXNoVG9rZW4uYmluZCh0aGlzKSwgUGVyZm9ybWFuY2VFdmVudHMuUmVmcmVzaFRva2VuQ2xpZW50QWNxdWlyZVRva2VuV2l0aENhY2hlZFJlZnJlc2hUb2tlbiwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkocmVxdWVzdCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm93IGluIGFsbCBvdGhlciBjYXNlc1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmYWxsIGJhY2sgdG8gYXBwbGljYXRpb24gcmVmcmVzaCB0b2tlbiBhY3F1aXNpdGlvblxyXG4gICAgICAgIHJldHVybiBpbnZva2VBc3luYyh0aGlzLmFjcXVpcmVUb2tlbldpdGhDYWNoZWRSZWZyZXNoVG9rZW4uYmluZCh0aGlzKSwgUGVyZm9ybWFuY2VFdmVudHMuUmVmcmVzaFRva2VuQ2xpZW50QWNxdWlyZVRva2VuV2l0aENhY2hlZFJlZnJlc2hUb2tlbiwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkocmVxdWVzdCwgZmFsc2UpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBtYWtlcyBhIG5ldHdvcmsgY2FsbCB0byBhY3F1aXJlIHRva2VucyBieSBleGNoYW5naW5nIFJlZnJlc2hUb2tlbiBhdmFpbGFibGUgaW4gdXNlckNhY2hlOyB0aHJvd3MgaWYgcmVmcmVzaCB0b2tlbiBpcyBub3QgY2FjaGVkXHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICovXHJcbiAgICBhc3luYyBhY3F1aXJlVG9rZW5XaXRoQ2FjaGVkUmVmcmVzaFRva2VuKHJlcXVlc3QsIGZvY2kpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLlJlZnJlc2hUb2tlbkNsaWVudEFjcXVpcmVUb2tlbldpdGhDYWNoZWRSZWZyZXNoVG9rZW4sIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgLy8gZmV0Y2hlcyBmYW1pbHkgUlQgb3IgYXBwbGljYXRpb24gUlQgYmFzZWQgb24gRk9DSSB2YWx1ZVxyXG4gICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbiA9IGludm9rZSh0aGlzLmNhY2hlTWFuYWdlci5nZXRSZWZyZXNoVG9rZW4uYmluZCh0aGlzLmNhY2hlTWFuYWdlciksIFBlcmZvcm1hbmNlRXZlbnRzLkNhY2hlTWFuYWdlckdldFJlZnJlc2hUb2tlbiwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkocmVxdWVzdC5hY2NvdW50LCBmb2NpLCB1bmRlZmluZWQsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgaWYgKCFyZWZyZXNoVG9rZW4pIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvcihub1Rva2Vuc0ZvdW5kKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlZnJlc2hUb2tlbi5leHBpcmVzT24gJiZcclxuICAgICAgICAgICAgaXNUb2tlbkV4cGlyZWQocmVmcmVzaFRva2VuLmV4cGlyZXNPbiwgcmVxdWVzdC5yZWZyZXNoVG9rZW5FeHBpcmF0aW9uT2Zmc2V0U2Vjb25kcyB8fFxyXG4gICAgICAgICAgICAgICAgREVGQVVMVF9SRUZSRVNIX1RPS0VOX0VYUElSQVRJT05fT0ZGU0VUX1NFQ09ORFMpKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IocmVmcmVzaFRva2VuRXhwaXJlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGF0dGFjaCBjYWNoZWQgUlQgc2l6ZSB0byB0aGUgY3VycmVudCBtZWFzdXJlbWVudFxyXG4gICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlblJlcXVlc3QgPSB7XHJcbiAgICAgICAgICAgIC4uLnJlcXVlc3QsXHJcbiAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogcmVmcmVzaFRva2VuLnNlY3JldCxcclxuICAgICAgICAgICAgYXV0aGVudGljYXRpb25TY2hlbWU6IHJlcXVlc3QuYXV0aGVudGljYXRpb25TY2hlbWUgfHwgQXV0aGVudGljYXRpb25TY2hlbWUuQkVBUkVSLFxyXG4gICAgICAgICAgICBjY3NDcmVkZW50aWFsOiB7XHJcbiAgICAgICAgICAgICAgICBjcmVkZW50aWFsOiByZXF1ZXN0LmFjY291bnQuaG9tZUFjY291bnRJZCxcclxuICAgICAgICAgICAgICAgIHR5cGU6IENjc0NyZWRlbnRpYWxUeXBlLkhPTUVfQUNDT1VOVF9JRCxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmFjcXVpcmVUb2tlbi5iaW5kKHRoaXMpLCBQZXJmb3JtYW5jZUV2ZW50cy5SZWZyZXNoVG9rZW5DbGllbnRBY3F1aXJlVG9rZW4sIHRoaXMubG9nZ2VyLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpKHJlZnJlc2hUb2tlblJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IgJiZcclxuICAgICAgICAgICAgICAgIGUuc3ViRXJyb3IgPT09IGJhZFRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgYmFkIHJlZnJlc2ggdG9rZW4gZnJvbSBjYWNoZVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcImFjcXVpcmVUb2tlbldpdGhSZWZyZXNoVG9rZW46IGJhZCByZWZyZXNoIHRva2VuLCByZW1vdmluZyBmcm9tIGNhY2hlXCIpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgYmFkUmVmcmVzaFRva2VuS2V5ID0gZ2VuZXJhdGVDcmVkZW50aWFsS2V5KHJlZnJlc2hUb2tlbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlTWFuYWdlci5yZW1vdmVSZWZyZXNoVG9rZW4oYmFkUmVmcmVzaFRva2VuS2V5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ29uc3RydWN0cyB0aGUgbmV0d29yayBtZXNzYWdlIGFuZCBtYWtlcyBhIE5XIGNhbGwgdG8gdGhlIHVuZGVybHlpbmcgc2VjdXJlIHRva2VuIHNlcnZpY2VcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gYXV0aG9yaXR5XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGV4ZWN1dGVUb2tlblJlcXVlc3QocmVxdWVzdCwgYXV0aG9yaXR5KSB7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudD8uYWRkUXVldWVNZWFzdXJlbWVudChQZXJmb3JtYW5jZUV2ZW50cy5SZWZyZXNoVG9rZW5DbGllbnRFeGVjdXRlVG9rZW5SZXF1ZXN0LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1ldGVyc1N0cmluZyA9IHRoaXMuY3JlYXRlVG9rZW5RdWVyeVBhcmFtZXRlcnMocmVxdWVzdCk7XHJcbiAgICAgICAgY29uc3QgZW5kcG9pbnQgPSBVcmxTdHJpbmcuYXBwZW5kUXVlcnlTdHJpbmcoYXV0aG9yaXR5LnRva2VuRW5kcG9pbnQsIHF1ZXJ5UGFyYW1ldGVyc1N0cmluZyk7XHJcbiAgICAgICAgY29uc3QgcmVxdWVzdEJvZHkgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmNyZWF0ZVRva2VuUmVxdWVzdEJvZHkuYmluZCh0aGlzKSwgUGVyZm9ybWFuY2VFdmVudHMuUmVmcmVzaFRva2VuQ2xpZW50Q3JlYXRlVG9rZW5SZXF1ZXN0Qm9keSwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkocmVxdWVzdCk7XHJcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHRoaXMuY3JlYXRlVG9rZW5SZXF1ZXN0SGVhZGVycyhyZXF1ZXN0LmNjc0NyZWRlbnRpYWwpO1xyXG4gICAgICAgIGNvbnN0IHRodW1icHJpbnQgPSB7XHJcbiAgICAgICAgICAgIGNsaWVudElkOiByZXF1ZXN0LnRva2VuQm9keVBhcmFtZXRlcnM/LmNsaWVudElkIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRJZCxcclxuICAgICAgICAgICAgYXV0aG9yaXR5OiBhdXRob3JpdHkuY2Fub25pY2FsQXV0aG9yaXR5LFxyXG4gICAgICAgICAgICBzY29wZXM6IHJlcXVlc3Quc2NvcGVzLFxyXG4gICAgICAgICAgICBjbGFpbXM6IHJlcXVlc3QuY2xhaW1zLFxyXG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvblNjaGVtZTogcmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSxcclxuICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0TWV0aG9kOiByZXF1ZXN0LnJlc291cmNlUmVxdWVzdE1ldGhvZCxcclxuICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0VXJpOiByZXF1ZXN0LnJlc291cmNlUmVxdWVzdFVyaSxcclxuICAgICAgICAgICAgc2hyQ2xhaW1zOiByZXF1ZXN0LnNockNsYWltcyxcclxuICAgICAgICAgICAgc3NoS2lkOiByZXF1ZXN0LnNzaEtpZCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBpbnZva2VBc3luYyh0aGlzLmV4ZWN1dGVQb3N0VG9Ub2tlbkVuZHBvaW50LmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLlJlZnJlc2hUb2tlbkNsaWVudEV4ZWN1dGVQb3N0VG9Ub2tlbkVuZHBvaW50LCB0aGlzLmxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKShlbmRwb2ludCwgcmVxdWVzdEJvZHksIGhlYWRlcnMsIHRodW1icHJpbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCwgUGVyZm9ybWFuY2VFdmVudHMuUmVmcmVzaFRva2VuQ2xpZW50RXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSB0b2tlbiByZXF1ZXN0IGJvZHlcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGNyZWF0ZVRva2VuUmVxdWVzdEJvZHkocmVxdWVzdCkge1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQ/LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuUmVmcmVzaFRva2VuQ2xpZW50Q3JlYXRlVG9rZW5SZXF1ZXN0Qm9keSwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCBjb3JyZWxhdGlvbklkID0gcmVxdWVzdC5jb3JyZWxhdGlvbklkO1xyXG4gICAgICAgIGNvbnN0IHBhcmFtZXRlckJ1aWxkZXIgPSBuZXcgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIoY29ycmVsYXRpb25JZCwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDbGllbnRJZChyZXF1ZXN0LmVtYmVkZGVkQ2xpZW50SWQgfHxcclxuICAgICAgICAgICAgcmVxdWVzdC50b2tlbkJvZHlQYXJhbWV0ZXJzPy5bQ0xJRU5UX0lEXSB8fFxyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRJZCk7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QucmVkaXJlY3RVcmkpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRSZWRpcmVjdFVyaShyZXF1ZXN0LnJlZGlyZWN0VXJpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRTY29wZXMocmVxdWVzdC5zY29wZXMsIHRydWUsIHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmF1dGhvcml0eS5vcHRpb25zLk9JRENPcHRpb25zPy5kZWZhdWx0U2NvcGVzKTtcclxuICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZEdyYW50VHlwZShHcmFudFR5cGUuUkVGUkVTSF9UT0tFTl9HUkFOVCk7XHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDbGllbnRJbmZvKCk7XHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRMaWJyYXJ5SW5mbyh0aGlzLmNvbmZpZy5saWJyYXJ5SW5mbyk7XHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRBcHBsaWNhdGlvblRlbGVtZXRyeSh0aGlzLmNvbmZpZy50ZWxlbWV0cnkuYXBwbGljYXRpb24pO1xyXG4gICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkVGhyb3R0bGluZygpO1xyXG4gICAgICAgIGlmICh0aGlzLnNlcnZlclRlbGVtZXRyeU1hbmFnZXIgJiYgIWlzT2lkY1Byb3RvY29sTW9kZSh0aGlzLmNvbmZpZykpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRTZXJ2ZXJUZWxlbWV0cnkodGhpcy5zZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRSZWZyZXNoVG9rZW4ocmVxdWVzdC5yZWZyZXNoVG9rZW4pO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5jbGllbnRDcmVkZW50aWFscy5jbGllbnRTZWNyZXQpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDbGllbnRTZWNyZXQodGhpcy5jb25maWcuY2xpZW50Q3JlZGVudGlhbHMuY2xpZW50U2VjcmV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmNsaWVudENyZWRlbnRpYWxzLmNsaWVudEFzc2VydGlvbikge1xyXG4gICAgICAgICAgICBjb25zdCBjbGllbnRBc3NlcnRpb24gPSB0aGlzLmNvbmZpZy5jbGllbnRDcmVkZW50aWFscy5jbGllbnRBc3NlcnRpb247XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2xpZW50QXNzZXJ0aW9uKGF3YWl0IGdldENsaWVudEFzc2VydGlvbihjbGllbnRBc3NlcnRpb24uYXNzZXJ0aW9uLCB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRJZCwgcmVxdWVzdC5yZXNvdXJjZVJlcXVlc3RVcmkpKTtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDbGllbnRBc3NlcnRpb25UeXBlKGNsaWVudEFzc2VydGlvbi5hc3NlcnRpb25UeXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuYXV0aGVudGljYXRpb25TY2hlbWUgPT09IEF1dGhlbnRpY2F0aW9uU2NoZW1lLlBPUCkge1xyXG4gICAgICAgICAgICBjb25zdCBwb3BUb2tlbkdlbmVyYXRvciA9IG5ldyBQb3BUb2tlbkdlbmVyYXRvcih0aGlzLmNyeXB0b1V0aWxzLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50KTtcclxuICAgICAgICAgICAgbGV0IHJlcUNuZkRhdGE7XHJcbiAgICAgICAgICAgIGlmICghcmVxdWVzdC5wb3BLaWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGdlbmVyYXRlZFJlcUNuZkRhdGEgPSBhd2FpdCBpbnZva2VBc3luYyhwb3BUb2tlbkdlbmVyYXRvci5nZW5lcmF0ZUNuZi5iaW5kKHBvcFRva2VuR2VuZXJhdG9yKSwgUGVyZm9ybWFuY2VFdmVudHMuUG9wVG9rZW5HZW5lcmF0ZUNuZiwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkocmVxdWVzdCwgdGhpcy5sb2dnZXIpO1xyXG4gICAgICAgICAgICAgICAgcmVxQ25mRGF0YSA9IGdlbmVyYXRlZFJlcUNuZkRhdGEucmVxQ25mU3RyaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVxQ25mRGF0YSA9IHRoaXMuY3J5cHRvVXRpbHMuZW5jb2RlS2lkKHJlcXVlc3QucG9wS2lkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTUEEgUG9QIHJlcXVpcmVzIGZ1bGwgQmFzZTY0VXJsIGVuY29kZWQgcmVxX2NuZiBzdHJpbmcgKHVuaGFzaGVkKVxyXG4gICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZFBvcFRva2VuKHJlcUNuZkRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChyZXF1ZXN0LmF1dGhlbnRpY2F0aW9uU2NoZW1lID09PSBBdXRoZW50aWNhdGlvblNjaGVtZS5TU0gpIHtcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3Quc3NoSndrKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZFNzaEp3ayhyZXF1ZXN0LnNzaEp3ayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IobWlzc2luZ1NzaEp3ayk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFTdHJpbmdVdGlscy5pc0VtcHR5T2JqKHJlcXVlc3QuY2xhaW1zKSB8fFxyXG4gICAgICAgICAgICAodGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50Q2FwYWJpbGl0aWVzICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5hdXRoT3B0aW9ucy5jbGllbnRDYXBhYmlsaXRpZXMubGVuZ3RoID4gMCkpIHtcclxuICAgICAgICAgICAgcGFyYW1ldGVyQnVpbGRlci5hZGRDbGFpbXMocmVxdWVzdC5jbGFpbXMsIHRoaXMuY29uZmlnLmF1dGhPcHRpb25zLmNsaWVudENhcGFiaWxpdGllcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5zeXN0ZW1PcHRpb25zLnByZXZlbnRDb3JzUHJlZmxpZ2h0ICYmXHJcbiAgICAgICAgICAgIHJlcXVlc3QuY2NzQ3JlZGVudGlhbCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKHJlcXVlc3QuY2NzQ3JlZGVudGlhbC50eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIENjc0NyZWRlbnRpYWxUeXBlLkhPTUVfQUNDT1VOVF9JRDpcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjbGllbnRJbmZvID0gYnVpbGRDbGllbnRJbmZvRnJvbUhvbWVBY2NvdW50SWQocmVxdWVzdC5jY3NDcmVkZW50aWFsLmNyZWRlbnRpYWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJCdWlsZGVyLmFkZENjc09pZChjbGllbnRJbmZvKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIudmVyYm9zZShcIkNvdWxkIG5vdCBwYXJzZSBob21lIGFjY291bnQgSUQgZm9yIENDUyBIZWFkZXI6IFwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgQ2NzQ3JlZGVudGlhbFR5cGUuVVBOOlxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQ2NzVXBuKHJlcXVlc3QuY2NzQ3JlZGVudGlhbC5jcmVkZW50aWFsKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC5lbWJlZGRlZENsaWVudElkKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkQnJva2VyUGFyYW1ldGVycyh7XHJcbiAgICAgICAgICAgICAgICBicm9rZXJDbGllbnRJZDogdGhpcy5jb25maWcuYXV0aE9wdGlvbnMuY2xpZW50SWQsXHJcbiAgICAgICAgICAgICAgICBicm9rZXJSZWRpcmVjdFVyaTogdGhpcy5jb25maWcuYXV0aE9wdGlvbnMucmVkaXJlY3RVcmksXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVxdWVzdC50b2tlbkJvZHlQYXJhbWV0ZXJzKSB7XHJcbiAgICAgICAgICAgIHBhcmFtZXRlckJ1aWxkZXIuYWRkRXh0cmFRdWVyeVBhcmFtZXRlcnMocmVxdWVzdC50b2tlbkJvZHlQYXJhbWV0ZXJzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBhcmFtZXRlckJ1aWxkZXIuY3JlYXRlUXVlcnlTdHJpbmcoKTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBSZWZyZXNoVG9rZW5DbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlZnJlc2hUb2tlbkNsaWVudC5tanMubWFwXG4iXSwibmFtZXMiOlsiaXNPaWRjUHJvdG9jb2xNb2RlIiwiQmFzZUNsaWVudCIsIlJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyIiwiR3JhbnRUeXBlIiwiQXV0aGVudGljYXRpb25TY2hlbWUiLCJIZWFkZXJOYW1lcyIsIkVycm9ycyIsIkNMSUVOVF9JRCIsIlJlc3BvbnNlSGFuZGxlciIsIlBvcFRva2VuR2VuZXJhdG9yIiwiU3RyaW5nVXRpbHMiLCJjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IiLCJjcmVhdGVDbGllbnRBdXRoRXJyb3IiLCJTZXJ2ZXJFcnJvciIsIm5vd1NlY29uZHMiLCJpc1Rva2VuRXhwaXJlZCIsIlVybFN0cmluZyIsIkNjc0NyZWRlbnRpYWxUeXBlIiwiYnVpbGRDbGllbnRJbmZvRnJvbUhvbWVBY2NvdW50SWQiLCJjcmVhdGVJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yIiwiSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvciIsIlBlcmZvcm1hbmNlRXZlbnRzIiwiaW52b2tlQXN5bmMiLCJpbnZva2UiLCJnZW5lcmF0ZUNyZWRlbnRpYWxLZXkiLCJnZXRDbGllbnRBc3NlcnRpb24iLCJ0b2tlblJlcXVlc3RFbXB0eSIsIm1pc3NpbmdTc2hKd2siLCJub0FjY291bnRJblNpbGVudFJlcXVlc3QiLCJub1Rva2Vuc0ZvdW5kIiwicmVmcmVzaFRva2VuRXhwaXJlZCIsImJhZFRva2VuIiwiREVGQVVMVF9SRUZSRVNIX1RPS0VOX0VYUElSQVRJT05fT0ZGU0VUX1NFQ09ORFMiLCJSZWZyZXNoVG9rZW5DbGllbnQiLCJjb25zdHJ1Y3RvciIsImNvbmZpZ3VyYXRpb24iLCJwZXJmb3JtYW5jZUNsaWVudCIsImFjcXVpcmVUb2tlbiIsInJlcXVlc3QiLCJhZGRRdWV1ZU1lYXN1cmVtZW50IiwiUmVmcmVzaFRva2VuQ2xpZW50QWNxdWlyZVRva2VuIiwiY29ycmVsYXRpb25JZCIsInJlcVRpbWVzdGFtcCIsInJlc3BvbnNlIiwiZXhlY3V0ZVRva2VuUmVxdWVzdCIsImJpbmQiLCJSZWZyZXNoVG9rZW5DbGllbnRFeGVjdXRlVG9rZW5SZXF1ZXN0IiwibG9nZ2VyIiwiYXV0aG9yaXR5IiwicmVxdWVzdElkIiwiaGVhZGVycyIsIlhfTVNfUkVRVUVTVF9JRCIsInJlc3BvbnNlSGFuZGxlciIsImNvbmZpZyIsImF1dGhPcHRpb25zIiwiY2xpZW50SWQiLCJjYWNoZU1hbmFnZXIiLCJjcnlwdG9VdGlscyIsInNlcmlhbGl6YWJsZUNhY2hlIiwicGVyc2lzdGVuY2VQbHVnaW4iLCJ2YWxpZGF0ZVRva2VuUmVzcG9uc2UiLCJib2R5IiwiaGFuZGxlU2VydmVyVG9rZW5SZXNwb25zZSIsIkhhbmRsZVNlcnZlclRva2VuUmVzcG9uc2UiLCJ1bmRlZmluZWQiLCJmb3JjZUNhY2hlIiwiYWNxdWlyZVRva2VuQnlSZWZyZXNoVG9rZW4iLCJSZWZyZXNoVG9rZW5DbGllbnRBY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbiIsImFjY291bnQiLCJpc0ZPQ0kiLCJpc0FwcE1ldGFkYXRhRk9DSSIsImVudmlyb25tZW50IiwiYWNxdWlyZVRva2VuV2l0aENhY2hlZFJlZnJlc2hUb2tlbiIsIlJlZnJlc2hUb2tlbkNsaWVudEFjcXVpcmVUb2tlbldpdGhDYWNoZWRSZWZyZXNoVG9rZW4iLCJlIiwibm9GYW1pbHlSVEluQ2FjaGUiLCJlcnJvckNvZGUiLCJjbGllbnRNaXNtYXRjaEVycm9yV2l0aEZhbWlseVJUIiwiSU5WQUxJRF9HUkFOVF9FUlJPUiIsInN1YkVycm9yIiwiQ0xJRU5UX01JU01BVENIX0VSUk9SIiwiZm9jaSIsInJlZnJlc2hUb2tlbiIsImdldFJlZnJlc2hUb2tlbiIsIkNhY2hlTWFuYWdlckdldFJlZnJlc2hUb2tlbiIsImV4cGlyZXNPbiIsInJlZnJlc2hUb2tlbkV4cGlyYXRpb25PZmZzZXRTZWNvbmRzIiwicmVmcmVzaFRva2VuUmVxdWVzdCIsInNlY3JldCIsImF1dGhlbnRpY2F0aW9uU2NoZW1lIiwiQkVBUkVSIiwiY2NzQ3JlZGVudGlhbCIsImNyZWRlbnRpYWwiLCJob21lQWNjb3VudElkIiwidHlwZSIsIkhPTUVfQUNDT1VOVF9JRCIsInZlcmJvc2UiLCJiYWRSZWZyZXNoVG9rZW5LZXkiLCJyZW1vdmVSZWZyZXNoVG9rZW4iLCJxdWVyeVBhcmFtZXRlcnNTdHJpbmciLCJjcmVhdGVUb2tlblF1ZXJ5UGFyYW1ldGVycyIsImVuZHBvaW50IiwiYXBwZW5kUXVlcnlTdHJpbmciLCJ0b2tlbkVuZHBvaW50IiwicmVxdWVzdEJvZHkiLCJjcmVhdGVUb2tlblJlcXVlc3RCb2R5IiwiUmVmcmVzaFRva2VuQ2xpZW50Q3JlYXRlVG9rZW5SZXF1ZXN0Qm9keSIsImNyZWF0ZVRva2VuUmVxdWVzdEhlYWRlcnMiLCJ0aHVtYnByaW50IiwidG9rZW5Cb2R5UGFyYW1ldGVycyIsImNhbm9uaWNhbEF1dGhvcml0eSIsInNjb3BlcyIsImNsYWltcyIsInJlc291cmNlUmVxdWVzdE1ldGhvZCIsInJlc291cmNlUmVxdWVzdFVyaSIsInNockNsYWltcyIsInNzaEtpZCIsImV4ZWN1dGVQb3N0VG9Ub2tlbkVuZHBvaW50IiwiUmVmcmVzaFRva2VuQ2xpZW50RXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQiLCJwYXJhbWV0ZXJCdWlsZGVyIiwiYWRkQ2xpZW50SWQiLCJlbWJlZGRlZENsaWVudElkIiwicmVkaXJlY3RVcmkiLCJhZGRSZWRpcmVjdFVyaSIsImFkZFNjb3BlcyIsIm9wdGlvbnMiLCJPSURDT3B0aW9ucyIsImRlZmF1bHRTY29wZXMiLCJhZGRHcmFudFR5cGUiLCJSRUZSRVNIX1RPS0VOX0dSQU5UIiwiYWRkQ2xpZW50SW5mbyIsImFkZExpYnJhcnlJbmZvIiwibGlicmFyeUluZm8iLCJhZGRBcHBsaWNhdGlvblRlbGVtZXRyeSIsInRlbGVtZXRyeSIsImFwcGxpY2F0aW9uIiwiYWRkVGhyb3R0bGluZyIsInNlcnZlclRlbGVtZXRyeU1hbmFnZXIiLCJhZGRTZXJ2ZXJUZWxlbWV0cnkiLCJhZGRSZWZyZXNoVG9rZW4iLCJjbGllbnRDcmVkZW50aWFscyIsImNsaWVudFNlY3JldCIsImFkZENsaWVudFNlY3JldCIsImNsaWVudEFzc2VydGlvbiIsImFkZENsaWVudEFzc2VydGlvbiIsImFzc2VydGlvbiIsImFkZENsaWVudEFzc2VydGlvblR5cGUiLCJhc3NlcnRpb25UeXBlIiwiUE9QIiwicG9wVG9rZW5HZW5lcmF0b3IiLCJyZXFDbmZEYXRhIiwicG9wS2lkIiwiZ2VuZXJhdGVkUmVxQ25mRGF0YSIsImdlbmVyYXRlQ25mIiwiUG9wVG9rZW5HZW5lcmF0ZUNuZiIsInJlcUNuZlN0cmluZyIsImVuY29kZUtpZCIsImFkZFBvcFRva2VuIiwiU1NIIiwic3NoSndrIiwiYWRkU3NoSndrIiwiaXNFbXB0eU9iaiIsImNsaWVudENhcGFiaWxpdGllcyIsImxlbmd0aCIsImFkZENsYWltcyIsInN5c3RlbU9wdGlvbnMiLCJwcmV2ZW50Q29yc1ByZWZsaWdodCIsImNsaWVudEluZm8iLCJhZGRDY3NPaWQiLCJVUE4iLCJhZGRDY3NVcG4iLCJhZGRCcm9rZXJQYXJhbWV0ZXJzIiwiYnJva2VyQ2xpZW50SWQiLCJicm9rZXJSZWRpcmVjdFVyaSIsImFkZEV4dHJhUXVlcnlQYXJhbWV0ZXJzIiwiY3JlYXRlUXVlcnlTdHJpbmciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/client/RefreshTokenClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/client/SilentFlowClient.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/client/SilentFlowClient.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SilentFlowClient: () => (/* binding */ SilentFlowClient)\n/* harmony export */ });\n/* harmony import */ var _BaseClient_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BaseClient.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/client/BaseClient.mjs\");\n/* harmony import */ var _utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/TimeUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/TimeUtils.mjs\");\n/* harmony import */ var _RefreshTokenClient_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RefreshTokenClient.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/client/RefreshTokenClient.mjs\");\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../response/ResponseHandler.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/response/ResponseHandler.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../utils/StringUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/StringUtils.mjs\");\n/* harmony import */ var _account_AuthToken_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../account/AuthToken.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AuthToken.mjs\");\n/* harmony import */ var _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../telemetry/performance/PerformanceEvent.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../utils/FunctionWrappers.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/* harmony import */ var _authority_Authority_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../authority/Authority.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/Authority.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /** @internal */ class SilentFlowClient extends _BaseClient_mjs__WEBPACK_IMPORTED_MODULE_0__.BaseClient {\n    constructor(configuration, performanceClient){\n        super(configuration, performanceClient);\n    }\n    /**\r\n     * Retrieves a token from cache if it is still valid, or uses the cached refresh token to renew\r\n     * the given token and returns the renewed token\r\n     * @param request\r\n     */ async acquireToken(request) {\n        try {\n            const [authResponse, cacheOutcome] = await this.acquireCachedToken({\n                ...request,\n                scopes: request.scopes?.length ? request.scopes : [\n                    ..._utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.OIDC_DEFAULT_SCOPES\n                ]\n            });\n            // if the token is not expired but must be refreshed; get a new one in the background\n            if (cacheOutcome === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.CacheOutcome.PROACTIVELY_REFRESHED) {\n                this.logger.info(\"SilentFlowClient:acquireCachedToken - Cached access token's refreshOn property has been exceeded'. It's not expired, but must be refreshed.\");\n                // refresh the access token in the background\n                const refreshTokenClient = new _RefreshTokenClient_mjs__WEBPACK_IMPORTED_MODULE_2__.RefreshTokenClient(this.config, this.performanceClient);\n                refreshTokenClient.acquireTokenByRefreshToken(request).catch(()=>{\n                // do nothing, this is running in the background and no action is to be taken upon success or failure\n                });\n            }\n            // return the cached token\n            return authResponse;\n        } catch (e) {\n            if (e instanceof _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.ClientAuthError && e.errorCode === _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.tokenRefreshRequired) {\n                const refreshTokenClient = new _RefreshTokenClient_mjs__WEBPACK_IMPORTED_MODULE_2__.RefreshTokenClient(this.config, this.performanceClient);\n                return refreshTokenClient.acquireTokenByRefreshToken(request);\n            } else {\n                throw e;\n            }\n        }\n    }\n    /**\r\n     * Retrieves token from cache or throws an error if it must be refreshed.\r\n     * @param request\r\n     */ async acquireCachedToken(request) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_5__.PerformanceEvents.SilentFlowClientAcquireCachedToken, request.correlationId);\n        let lastCacheOutcome = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.CacheOutcome.NOT_APPLICABLE;\n        if (request.forceRefresh || !this.config.cacheOptions.claimsBasedCachingEnabled && !_utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_6__.StringUtils.isEmptyObj(request.claims)) {\n            // Must refresh due to present force_refresh flag.\n            this.setCacheOutcome(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.CacheOutcome.FORCE_REFRESH_OR_CLAIMS, request.correlationId);\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.tokenRefreshRequired);\n        }\n        // We currently do not support silent flow for account === null use cases; This will be revisited for confidential flow usecases\n        if (!request.account) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.noAccountInSilentRequest);\n        }\n        const requestTenantId = request.account.tenantId || (0,_authority_Authority_mjs__WEBPACK_IMPORTED_MODULE_7__.getTenantFromAuthorityString)(request.authority);\n        const tokenKeys = this.cacheManager.getTokenKeys();\n        const cachedAccessToken = this.cacheManager.getAccessToken(request.account, request, tokenKeys, requestTenantId, this.performanceClient, request.correlationId);\n        if (!cachedAccessToken) {\n            // must refresh due to non-existent access_token\n            this.setCacheOutcome(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.CacheOutcome.NO_CACHED_ACCESS_TOKEN, request.correlationId);\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.tokenRefreshRequired);\n        } else if ((0,_utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_8__.wasClockTurnedBack)(cachedAccessToken.cachedAt) || (0,_utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_8__.isTokenExpired)(cachedAccessToken.expiresOn, this.config.systemOptions.tokenRenewalOffsetSeconds)) {\n            // must refresh due to the expires_in value\n            this.setCacheOutcome(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.CacheOutcome.CACHED_ACCESS_TOKEN_EXPIRED, request.correlationId);\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.tokenRefreshRequired);\n        } else if (cachedAccessToken.refreshOn && (0,_utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_8__.isTokenExpired)(cachedAccessToken.refreshOn, 0)) {\n            // must refresh (in the background) due to the refresh_in value\n            lastCacheOutcome = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.CacheOutcome.PROACTIVELY_REFRESHED;\n        // don't throw ClientAuthError.createRefreshRequiredError(), return cached token instead\n        }\n        const environment = request.authority || this.authority.getPreferredCache();\n        const cacheRecord = {\n            account: this.cacheManager.readAccountFromCache(request.account),\n            accessToken: cachedAccessToken,\n            idToken: this.cacheManager.getIdToken(request.account, tokenKeys, requestTenantId, this.performanceClient, request.correlationId),\n            refreshToken: null,\n            appMetadata: this.cacheManager.readAppMetadataFromCache(environment)\n        };\n        this.setCacheOutcome(lastCacheOutcome, request.correlationId);\n        if (this.config.serverTelemetryManager) {\n            this.config.serverTelemetryManager.incrementCacheHits();\n        }\n        return [\n            await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_9__.invokeAsync)(this.generateResultFromCacheRecord.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_5__.PerformanceEvents.SilentFlowClientGenerateResultFromCacheRecord, this.logger, this.performanceClient, request.correlationId)(cacheRecord, request),\n            lastCacheOutcome\n        ];\n    }\n    setCacheOutcome(cacheOutcome, correlationId) {\n        this.serverTelemetryManager?.setCacheOutcome(cacheOutcome);\n        this.performanceClient?.addFields({\n            cacheOutcome: cacheOutcome\n        }, correlationId);\n        if (cacheOutcome !== _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.CacheOutcome.NOT_APPLICABLE) {\n            this.logger.info(`Token refresh is required due to cache outcome: ${cacheOutcome}`);\n        }\n    }\n    /**\r\n     * Helper function to build response object from the CacheRecord\r\n     * @param cacheRecord\r\n     */ async generateResultFromCacheRecord(cacheRecord, request) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_5__.PerformanceEvents.SilentFlowClientGenerateResultFromCacheRecord, request.correlationId);\n        let idTokenClaims;\n        if (cacheRecord.idToken) {\n            idTokenClaims = (0,_account_AuthToken_mjs__WEBPACK_IMPORTED_MODULE_10__.extractTokenClaims)(cacheRecord.idToken.secret, this.config.cryptoInterface.base64Decode);\n        }\n        // token max_age check\n        if (request.maxAge || request.maxAge === 0) {\n            const authTime = idTokenClaims?.auth_time;\n            if (!authTime) {\n                throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_3__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_4__.authTimeNotFound);\n            }\n            (0,_account_AuthToken_mjs__WEBPACK_IMPORTED_MODULE_10__.checkMaxAge)(authTime, request.maxAge);\n        }\n        return _response_ResponseHandler_mjs__WEBPACK_IMPORTED_MODULE_11__.ResponseHandler.generateAuthenticationResult(this.cryptoUtils, this.authority, cacheRecord, true, request, idTokenClaims);\n    }\n}\n //# sourceMappingURL=SilentFlowClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2xpZW50L1NpbGVudEZsb3dDbGllbnQubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDOEM7QUFDOEI7QUFDZDtBQUN3QjtBQUNwQjtBQUNTO0FBQ3BCO0FBQ29CO0FBQ087QUFDdEI7QUFDYztBQUMyQztBQUVySDs7O0NBR0MsR0FDRCxjQUFjLEdBQ2QsTUFBTWtCLHlCQUF5QmxCLHVEQUFVQTtJQUNyQ21CLFlBQVlDLGFBQWEsRUFBRUMsaUJBQWlCLENBQUU7UUFDMUMsS0FBSyxDQUFDRCxlQUFlQztJQUN6QjtJQUNBOzs7O0tBSUMsR0FDRCxNQUFNQyxhQUFhQyxPQUFPLEVBQUU7UUFDeEIsSUFBSTtZQUNBLE1BQU0sQ0FBQ0MsY0FBY0MsYUFBYSxHQUFHLE1BQU0sSUFBSSxDQUFDQyxrQkFBa0IsQ0FBQztnQkFDL0QsR0FBR0gsT0FBTztnQkFDVkksUUFBUUosUUFBUUksTUFBTSxFQUFFQyxTQUNsQkwsUUFBUUksTUFBTSxHQUNkO3VCQUFJcEIscUVBQW1CQTtpQkFBQztZQUNsQztZQUNBLHFGQUFxRjtZQUNyRixJQUFJa0IsaUJBQWlCakIsOERBQVlBLENBQUNxQixxQkFBcUIsRUFBRTtnQkFDckQsSUFBSSxDQUFDQyxNQUFNLENBQUNDLElBQUksQ0FBQztnQkFDakIsNkNBQTZDO2dCQUM3QyxNQUFNQyxxQkFBcUIsSUFBSTdCLHVFQUFrQkEsQ0FBQyxJQUFJLENBQUM4QixNQUFNLEVBQUUsSUFBSSxDQUFDWixpQkFBaUI7Z0JBQ3JGVyxtQkFDS0UsMEJBQTBCLENBQUNYLFNBQzNCWSxLQUFLLENBQUM7Z0JBQ1AscUdBQXFHO2dCQUN6RztZQUNKO1lBQ0EsMEJBQTBCO1lBQzFCLE9BQU9YO1FBQ1gsRUFDQSxPQUFPWSxHQUFHO1lBQ04sSUFBSUEsYUFBYWhDLHVFQUFlQSxJQUM1QmdDLEVBQUVDLFNBQVMsS0FBS3RCLGlGQUFv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QUk5RCxRQUFRK0QsTUFBTSxJQUFJL0QsUUFBUStELE1BQU0sS0FBSyxHQUFHO1lBQ3hDLE1BQU1DLFdBQVdMLGVBQWVNO1lBQ2hDLElBQUksQ0FBQ0QsVUFBVTtnQkFDWCxNQUFNbEYsaUZBQXFCQSxDQUFDWSw2RUFBZ0JBO1lBQ2hEO1lBQ0FOLG9FQUFXQSxDQUFDNEUsVUFBVWhFLFFBQVErRCxNQUFNO1FBQ3hDO1FBQ0EsT0FBT2hGLDJFQUFlQSxDQUFDbUYsNEJBQTRCLENBQUMsSUFBSSxDQUFDQyxXQUFXLEVBQUUsSUFBSSxDQUFDckMsU0FBUyxFQUFFZSxhQUFhLE1BQU03QyxTQUFTMkQ7SUFDdEg7QUFDSjtBQUU0QixDQUM1Qiw2Q0FBNkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY2xpZW50L1NpbGVudEZsb3dDbGllbnQubWpzPzYwZjAiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBCYXNlQ2xpZW50IH0gZnJvbSAnLi9CYXNlQ2xpZW50Lm1qcyc7XG5pbXBvcnQgeyB3YXNDbG9ja1R1cm5lZEJhY2ssIGlzVG9rZW5FeHBpcmVkIH0gZnJvbSAnLi4vdXRpbHMvVGltZVV0aWxzLm1qcyc7XG5pbXBvcnQgeyBSZWZyZXNoVG9rZW5DbGllbnQgfSBmcm9tICcuL1JlZnJlc2hUb2tlbkNsaWVudC5tanMnO1xuaW1wb3J0IHsgQ2xpZW50QXV0aEVycm9yLCBjcmVhdGVDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IFJlc3BvbnNlSGFuZGxlciB9IGZyb20gJy4uL3Jlc3BvbnNlL1Jlc3BvbnNlSGFuZGxlci5tanMnO1xuaW1wb3J0IHsgT0lEQ19ERUZBVUxUX1NDT1BFUywgQ2FjaGVPdXRjb21lIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBTdHJpbmdVdGlscyB9IGZyb20gJy4uL3V0aWxzL1N0cmluZ1V0aWxzLm1qcyc7XG5pbXBvcnQgeyBleHRyYWN0VG9rZW5DbGFpbXMsIGNoZWNrTWF4QWdlIH0gZnJvbSAnLi4vYWNjb3VudC9BdXRoVG9rZW4ubWpzJztcbmltcG9ydCB7IFBlcmZvcm1hbmNlRXZlbnRzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3BlcmZvcm1hbmNlL1BlcmZvcm1hbmNlRXZlbnQubWpzJztcbmltcG9ydCB7IGludm9rZUFzeW5jIH0gZnJvbSAnLi4vdXRpbHMvRnVuY3Rpb25XcmFwcGVycy5tanMnO1xuaW1wb3J0IHsgZ2V0VGVuYW50RnJvbUF1dGhvcml0eVN0cmluZyB9IGZyb20gJy4uL2F1dGhvcml0eS9BdXRob3JpdHkubWpzJztcbmltcG9ydCB7IHRva2VuUmVmcmVzaFJlcXVpcmVkLCBub0FjY291bnRJblNpbGVudFJlcXVlc3QsIGF1dGhUaW1lTm90Rm91bmQgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqIEBpbnRlcm5hbCAqL1xyXG5jbGFzcyBTaWxlbnRGbG93Q2xpZW50IGV4dGVuZHMgQmFzZUNsaWVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9uLCBwZXJmb3JtYW5jZUNsaWVudCkge1xyXG4gICAgICAgIHN1cGVyKGNvbmZpZ3VyYXRpb24sIHBlcmZvcm1hbmNlQ2xpZW50KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0cmlldmVzIGEgdG9rZW4gZnJvbSBjYWNoZSBpZiBpdCBpcyBzdGlsbCB2YWxpZCwgb3IgdXNlcyB0aGUgY2FjaGVkIHJlZnJlc2ggdG9rZW4gdG8gcmVuZXdcclxuICAgICAqIHRoZSBnaXZlbiB0b2tlbiBhbmQgcmV0dXJucyB0aGUgcmVuZXdlZCB0b2tlblxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZVRva2VuKHJlcXVlc3QpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBbYXV0aFJlc3BvbnNlLCBjYWNoZU91dGNvbWVdID0gYXdhaXQgdGhpcy5hY3F1aXJlQ2FjaGVkVG9rZW4oe1xyXG4gICAgICAgICAgICAgICAgLi4ucmVxdWVzdCxcclxuICAgICAgICAgICAgICAgIHNjb3BlczogcmVxdWVzdC5zY29wZXM/Lmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgICAgID8gcmVxdWVzdC5zY29wZXNcclxuICAgICAgICAgICAgICAgICAgICA6IFsuLi5PSURDX0RFRkFVTFRfU0NPUEVTXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIGlmIHRoZSB0b2tlbiBpcyBub3QgZXhwaXJlZCBidXQgbXVzdCBiZSByZWZyZXNoZWQ7IGdldCBhIG5ldyBvbmUgaW4gdGhlIGJhY2tncm91bmRcclxuICAgICAgICAgICAgaWYgKGNhY2hlT3V0Y29tZSA9PT0gQ2FjaGVPdXRjb21lLlBST0FDVElWRUxZX1JFRlJFU0hFRCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhcIlNpbGVudEZsb3dDbGllbnQ6YWNxdWlyZUNhY2hlZFRva2VuIC0gQ2FjaGVkIGFjY2VzcyB0b2tlbidzIHJlZnJlc2hPbiBwcm9wZXJ0eSBoYXMgYmVlbiBleGNlZWRlZCcuIEl0J3Mgbm90IGV4cGlyZWQsIGJ1dCBtdXN0IGJlIHJlZnJlc2hlZC5cIik7XHJcbiAgICAgICAgICAgICAgICAvLyByZWZyZXNoIHRoZSBhY2Nlc3MgdG9rZW4gaW4gdGhlIGJhY2tncm91bmRcclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlZnJlc2hUb2tlbkNsaWVudCA9IG5ldyBSZWZyZXNoVG9rZW5DbGllbnQodGhpcy5jb25maWcsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQpO1xyXG4gICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuQ2xpZW50XHJcbiAgICAgICAgICAgICAgICAgICAgLmFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuKHJlcXVlc3QpXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBkbyBub3RoaW5nLCB0aGlzIGlzIHJ1bm5pbmcgaW4gdGhlIGJhY2tncm91bmQgYW5kIG5vIGFjdGlvbiBpcyB0byBiZSB0YWtlbiB1cG9uIHN1Y2Nlc3Mgb3IgZmFpbHVyZVxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBjYWNoZWQgdG9rZW5cclxuICAgICAgICAgICAgcmV0dXJuIGF1dGhSZXNwb25zZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBDbGllbnRBdXRoRXJyb3IgJiZcclxuICAgICAgICAgICAgICAgIGUuZXJyb3JDb2RlID09PSB0b2tlblJlZnJlc2hSZXF1aXJlZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcmVmcmVzaFRva2VuQ2xpZW50ID0gbmV3IFJlZnJlc2hUb2tlbkNsaWVudCh0aGlzLmNvbmZpZywgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVmcmVzaFRva2VuQ2xpZW50LmFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuKHJlcXVlc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0cmlldmVzIHRva2VuIGZyb20gY2FjaGUgb3IgdGhyb3dzIGFuIGVycm9yIGlmIGl0IG11c3QgYmUgcmVmcmVzaGVkLlxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgYXN5bmMgYWNxdWlyZUNhY2hlZFRva2VuKHJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLlNpbGVudEZsb3dDbGllbnRBY3F1aXJlQ2FjaGVkVG9rZW4sIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgbGV0IGxhc3RDYWNoZU91dGNvbWUgPSBDYWNoZU91dGNvbWUuTk9UX0FQUExJQ0FCTEU7XHJcbiAgICAgICAgaWYgKHJlcXVlc3QuZm9yY2VSZWZyZXNoIHx8XHJcbiAgICAgICAgICAgICghdGhpcy5jb25maWcuY2FjaGVPcHRpb25zLmNsYWltc0Jhc2VkQ2FjaGluZ0VuYWJsZWQgJiZcclxuICAgICAgICAgICAgICAgICFTdHJpbmdVdGlscy5pc0VtcHR5T2JqKHJlcXVlc3QuY2xhaW1zKSkpIHtcclxuICAgICAgICAgICAgLy8gTXVzdCByZWZyZXNoIGR1ZSB0byBwcmVzZW50IGZvcmNlX3JlZnJlc2ggZmxhZy5cclxuICAgICAgICAgICAgdGhpcy5zZXRDYWNoZU91dGNvbWUoQ2FjaGVPdXRjb21lLkZPUkNFX1JFRlJFU0hfT1JfQ0xBSU1TLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IodG9rZW5SZWZyZXNoUmVxdWlyZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBXZSBjdXJyZW50bHkgZG8gbm90IHN1cHBvcnQgc2lsZW50IGZsb3cgZm9yIGFjY291bnQgPT09IG51bGwgdXNlIGNhc2VzOyBUaGlzIHdpbGwgYmUgcmV2aXNpdGVkIGZvciBjb25maWRlbnRpYWwgZmxvdyB1c2VjYXNlc1xyXG4gICAgICAgIGlmICghcmVxdWVzdC5hY2NvdW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihub0FjY291bnRJblNpbGVudFJlcXVlc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCByZXF1ZXN0VGVuYW50SWQgPSByZXF1ZXN0LmFjY291bnQudGVuYW50SWQgfHxcclxuICAgICAgICAgICAgZ2V0VGVuYW50RnJvbUF1dGhvcml0eVN0cmluZyhyZXF1ZXN0LmF1dGhvcml0eSk7XHJcbiAgICAgICAgY29uc3QgdG9rZW5LZXlzID0gdGhpcy5jYWNoZU1hbmFnZXIuZ2V0VG9rZW5LZXlzKCk7XHJcbiAgICAgICAgY29uc3QgY2FjaGVkQWNjZXNzVG9rZW4gPSB0aGlzLmNhY2hlTWFuYWdlci5nZXRBY2Nlc3NUb2tlbihyZXF1ZXN0LmFjY291bnQsIHJlcXVlc3QsIHRva2VuS2V5cywgcmVxdWVzdFRlbmFudElkLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGlmICghY2FjaGVkQWNjZXNzVG9rZW4pIHtcclxuICAgICAgICAgICAgLy8gbXVzdCByZWZyZXNoIGR1ZSB0byBub24tZXhpc3RlbnQgYWNjZXNzX3Rva2VuXHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q2FjaGVPdXRjb21lKENhY2hlT3V0Y29tZS5OT19DQUNIRURfQUNDRVNTX1RPS0VOLCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IodG9rZW5SZWZyZXNoUmVxdWlyZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh3YXNDbG9ja1R1cm5lZEJhY2soY2FjaGVkQWNjZXNzVG9rZW4uY2FjaGVkQXQpIHx8XHJcbiAgICAgICAgICAgIGlzVG9rZW5FeHBpcmVkKGNhY2hlZEFjY2Vzc1Rva2VuLmV4cGlyZXNPbiwgdGhpcy5jb25maWcuc3lzdGVtT3B0aW9ucy50b2tlblJlbmV3YWxPZmZzZXRTZWNvbmRzKSkge1xyXG4gICAgICAgICAgICAvLyBtdXN0IHJlZnJlc2ggZHVlIHRvIHRoZSBleHBpcmVzX2luIHZhbHVlXHJcbiAgICAgICAgICAgIHRoaXMuc2V0Q2FjaGVPdXRjb21lKENhY2hlT3V0Y29tZS5DQUNIRURfQUNDRVNTX1RPS0VOX0VYUElSRUQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcih0b2tlblJlZnJlc2hSZXF1aXJlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNhY2hlZEFjY2Vzc1Rva2VuLnJlZnJlc2hPbiAmJlxyXG4gICAgICAgICAgICBpc1Rva2VuRXhwaXJlZChjYWNoZWRBY2Nlc3NUb2tlbi5yZWZyZXNoT24sIDApKSB7XHJcbiAgICAgICAgICAgIC8vIG11c3QgcmVmcmVzaCAoaW4gdGhlIGJhY2tncm91bmQpIGR1ZSB0byB0aGUgcmVmcmVzaF9pbiB2YWx1ZVxyXG4gICAgICAgICAgICBsYXN0Q2FjaGVPdXRjb21lID0gQ2FjaGVPdXRjb21lLlBST0FDVElWRUxZX1JFRlJFU0hFRDtcclxuICAgICAgICAgICAgLy8gZG9uJ3QgdGhyb3cgQ2xpZW50QXV0aEVycm9yLmNyZWF0ZVJlZnJlc2hSZXF1aXJlZEVycm9yKCksIHJldHVybiBjYWNoZWQgdG9rZW4gaW5zdGVhZFxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBlbnZpcm9ubWVudCA9IHJlcXVlc3QuYXV0aG9yaXR5IHx8IHRoaXMuYXV0aG9yaXR5LmdldFByZWZlcnJlZENhY2hlKCk7XHJcbiAgICAgICAgY29uc3QgY2FjaGVSZWNvcmQgPSB7XHJcbiAgICAgICAgICAgIGFjY291bnQ6IHRoaXMuY2FjaGVNYW5hZ2VyLnJlYWRBY2NvdW50RnJvbUNhY2hlKHJlcXVlc3QuYWNjb3VudCksXHJcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBjYWNoZWRBY2Nlc3NUb2tlbixcclxuICAgICAgICAgICAgaWRUb2tlbjogdGhpcy5jYWNoZU1hbmFnZXIuZ2V0SWRUb2tlbihyZXF1ZXN0LmFjY291bnQsIHRva2VuS2V5cywgcmVxdWVzdFRlbmFudElkLCB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50LCByZXF1ZXN0LmNvcnJlbGF0aW9uSWQpLFxyXG4gICAgICAgICAgICByZWZyZXNoVG9rZW46IG51bGwsXHJcbiAgICAgICAgICAgIGFwcE1ldGFkYXRhOiB0aGlzLmNhY2hlTWFuYWdlci5yZWFkQXBwTWV0YWRhdGFGcm9tQ2FjaGUoZW52aXJvbm1lbnQpLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5zZXRDYWNoZU91dGNvbWUobGFzdENhY2hlT3V0Y29tZSwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBpZiAodGhpcy5jb25maWcuc2VydmVyVGVsZW1ldHJ5TWFuYWdlcikge1xyXG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5zZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLmluY3JlbWVudENhY2hlSGl0cygpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmdlbmVyYXRlUmVzdWx0RnJvbUNhY2hlUmVjb3JkLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLlNpbGVudEZsb3dDbGllbnRHZW5lcmF0ZVJlc3VsdEZyb21DYWNoZVJlY29yZCwgdGhpcy5sb2dnZXIsIHRoaXMucGVyZm9ybWFuY2VDbGllbnQsIHJlcXVlc3QuY29ycmVsYXRpb25JZCkoY2FjaGVSZWNvcmQsIHJlcXVlc3QpLFxyXG4gICAgICAgICAgICBsYXN0Q2FjaGVPdXRjb21lLFxyXG4gICAgICAgIF07XHJcbiAgICB9XHJcbiAgICBzZXRDYWNoZU91dGNvbWUoY2FjaGVPdXRjb21lLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5zZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyPy5zZXRDYWNoZU91dGNvbWUoY2FjaGVPdXRjb21lKTtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRGaWVsZHMoe1xyXG4gICAgICAgICAgICBjYWNoZU91dGNvbWU6IGNhY2hlT3V0Y29tZSxcclxuICAgICAgICB9LCBjb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBpZiAoY2FjaGVPdXRjb21lICE9PSBDYWNoZU91dGNvbWUuTk9UX0FQUExJQ0FCTEUpIHtcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuaW5mbyhgVG9rZW4gcmVmcmVzaCBpcyByZXF1aXJlZCBkdWUgdG8gY2FjaGUgb3V0Y29tZTogJHtjYWNoZU91dGNvbWV9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gYnVpbGQgcmVzcG9uc2Ugb2JqZWN0IGZyb20gdGhlIENhY2hlUmVjb3JkXHJcbiAgICAgKiBAcGFyYW0gY2FjaGVSZWNvcmRcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2VuZXJhdGVSZXN1bHRGcm9tQ2FjaGVSZWNvcmQoY2FjaGVSZWNvcmQsIHJlcXVlc3QpIHtcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50Py5hZGRRdWV1ZU1lYXN1cmVtZW50KFBlcmZvcm1hbmNlRXZlbnRzLlNpbGVudEZsb3dDbGllbnRHZW5lcmF0ZVJlc3VsdEZyb21DYWNoZVJlY29yZCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBsZXQgaWRUb2tlbkNsYWltcztcclxuICAgICAgICBpZiAoY2FjaGVSZWNvcmQuaWRUb2tlbikge1xyXG4gICAgICAgICAgICBpZFRva2VuQ2xhaW1zID0gZXh0cmFjdFRva2VuQ2xhaW1zKGNhY2hlUmVjb3JkLmlkVG9rZW4uc2VjcmV0LCB0aGlzLmNvbmZpZy5jcnlwdG9JbnRlcmZhY2UuYmFzZTY0RGVjb2RlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdG9rZW4gbWF4X2FnZSBjaGVja1xyXG4gICAgICAgIGlmIChyZXF1ZXN0Lm1heEFnZSB8fCByZXF1ZXN0Lm1heEFnZSA9PT0gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBhdXRoVGltZSA9IGlkVG9rZW5DbGFpbXM/LmF1dGhfdGltZTtcclxuICAgICAgICAgICAgaWYgKCFhdXRoVGltZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKGF1dGhUaW1lTm90Rm91bmQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoZWNrTWF4QWdlKGF1dGhUaW1lLCByZXF1ZXN0Lm1heEFnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBSZXNwb25zZUhhbmRsZXIuZ2VuZXJhdGVBdXRoZW50aWNhdGlvblJlc3VsdCh0aGlzLmNyeXB0b1V0aWxzLCB0aGlzLmF1dGhvcml0eSwgY2FjaGVSZWNvcmQsIHRydWUsIHJlcXVlc3QsIGlkVG9rZW5DbGFpbXMpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IFNpbGVudEZsb3dDbGllbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpbGVudEZsb3dDbGllbnQubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkJhc2VDbGllbnQiLCJ3YXNDbG9ja1R1cm5lZEJhY2siLCJpc1Rva2VuRXhwaXJlZCIsIlJlZnJlc2hUb2tlbkNsaWVudCIsIkNsaWVudEF1dGhFcnJvciIsImNyZWF0ZUNsaWVudEF1dGhFcnJvciIsIlJlc3BvbnNlSGFuZGxlciIsIk9JRENfREVGQVVMVF9TQ09QRVMiLCJDYWNoZU91dGNvbWUiLCJTdHJpbmdVdGlscyIsImV4dHJhY3RUb2tlbkNsYWltcyIsImNoZWNrTWF4QWdlIiwiUGVyZm9ybWFuY2VFdmVudHMiLCJpbnZva2VBc3luYyIsImdldFRlbmFudEZyb21BdXRob3JpdHlTdHJpbmciLCJ0b2tlblJlZnJlc2hSZXF1aXJlZCIsIm5vQWNjb3VudEluU2lsZW50UmVxdWVzdCIsImF1dGhUaW1lTm90Rm91bmQiLCJTaWxlbnRGbG93Q2xpZW50IiwiY29uc3RydWN0b3IiLCJjb25maWd1cmF0aW9uIiwicGVyZm9ybWFuY2VDbGllbnQiLCJhY3F1aXJlVG9rZW4iLCJyZXF1ZXN0IiwiYXV0aFJlc3BvbnNlIiwiY2FjaGVPdXRjb21lIiwiYWNxdWlyZUNhY2hlZFRva2VuIiwic2NvcGVzIiwibGVuZ3RoIiwiUFJPQUNUSVZFTFlfUkVGUkVTSEVEIiwibG9nZ2VyIiwiaW5mbyIsInJlZnJlc2hUb2tlbkNsaWVudCIsImNvbmZpZyIsImFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuIiwiY2F0Y2giLCJlIiwiZXJyb3JDb2RlIiwiYWRkUXVldWVNZWFzdXJlbWVudCIsIlNpbGVudEZsb3dDbGllbnRBY3F1aXJlQ2FjaGVkVG9rZW4iLCJjb3JyZWxhdGlvbklkIiwibGFzdENhY2hlT3V0Y29tZSIsIk5PVF9BUFBMSUNBQkxFIiwiZm9yY2VSZWZyZXNoIiwiY2FjaGVPcHRpb25zIiwiY2xhaW1zQmFzZWRDYWNoaW5nRW5hYmxlZCIsImlzRW1wdHlPYmoiLCJjbGFpbXMiLCJzZXRDYWNoZU91dGNvbWUiLCJGT1JDRV9SRUZSRVNIX09SX0NMQUlNUyIsImFjY291bnQiLCJyZXF1ZXN0VGVuYW50SWQiLCJ0ZW5hbnRJZCIsImF1dGhvcml0eSIsInRva2VuS2V5cyIsImNhY2hlTWFuYWdlciIsImdldFRva2VuS2V5cyIsImNhY2hlZEFjY2Vzc1Rva2VuIiwiZ2V0QWNjZXNzVG9rZW4iLCJOT19DQUNIRURfQUNDRVNTX1RPS0VOIiwiY2FjaGVkQXQiLCJleHBpcmVzT24iLCJzeXN0ZW1PcHRpb25zIiwidG9rZW5SZW5ld2FsT2Zmc2V0U2Vjb25kcyIsIkNBQ0hFRF9BQ0NFU1NfVE9LRU5fRVhQSVJFRCIsInJlZnJlc2hPbiIsImVudmlyb25tZW50IiwiZ2V0UHJlZmVycmVkQ2FjaGUiLCJjYWNoZVJlY29yZCIsInJlYWRBY2NvdW50RnJvbUNhY2hlIiwiYWNjZXNzVG9rZW4iLCJpZFRva2VuIiwiZ2V0SWRUb2tlbiIsInJlZnJlc2hUb2tlbiIsImFwcE1ldGFkYXRhIiwicmVhZEFwcE1ldGFkYXRhRnJvbUNhY2hlIiwic2VydmVyVGVsZW1ldHJ5TWFuYWdlciIsImluY3JlbWVudENhY2hlSGl0cyIsImdlbmVyYXRlUmVzdWx0RnJvbUNhY2hlUmVjb3JkIiwiYmluZCIsIlNpbGVudEZsb3dDbGllbnRHZW5lcmF0ZVJlc3VsdEZyb21DYWNoZVJlY29yZCIsImFkZEZpZWxkcyIsImlkVG9rZW5DbGFpbXMiLCJzZWNyZXQiLCJjcnlwdG9JbnRlcmZhY2UiLCJiYXNlNjREZWNvZGUiLCJtYXhBZ2UiLCJhdXRoVGltZSIsImF1dGhfdGltZSIsImdlbmVyYXRlQXV0aGVudGljYXRpb25SZXN1bHQiLCJjcnlwdG9VdGlscyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/client/SilentFlowClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/config/ClientConfiguration.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/config/ClientConfiguration.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_SYSTEM_OPTIONS: () => (/* binding */ DEFAULT_SYSTEM_OPTIONS),\n/* harmony export */   buildClientConfiguration: () => (/* binding */ buildClientConfiguration),\n/* harmony export */   isOidcProtocolMode: () => (/* binding */ isOidcProtocolMode)\n/* harmony export */ });\n/* harmony import */ var _crypto_ICrypto_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../crypto/ICrypto.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/crypto/ICrypto.mjs\");\n/* harmony import */ var _logger_Logger_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../logger/Logger.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/logger/Logger.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../packageMetadata.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/packageMetadata.mjs\");\n/* harmony import */ var _authority_AuthorityOptions_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../authority/AuthorityOptions.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/AuthorityOptions.mjs\");\n/* harmony import */ var _cache_CacheManager_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../cache/CacheManager.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/CacheManager.mjs\");\n/* harmony import */ var _authority_ProtocolMode_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../authority/ProtocolMode.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/authority/ProtocolMode.mjs\");\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const DEFAULT_SYSTEM_OPTIONS = {\n    tokenRenewalOffsetSeconds: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_TOKEN_RENEWAL_OFFSET_SEC,\n    preventCorsPreflight: false\n};\nconst DEFAULT_LOGGER_IMPLEMENTATION = {\n    loggerCallback: ()=>{\n    // allow users to not set loggerCallback\n    },\n    piiLoggingEnabled: false,\n    logLevel: _logger_Logger_mjs__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Info,\n    correlationId: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n};\nconst DEFAULT_CACHE_OPTIONS = {\n    claimsBasedCachingEnabled: false\n};\nconst DEFAULT_NETWORK_IMPLEMENTATION = {\n    async sendGetRequestAsync () {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__.methodNotImplemented);\n    },\n    async sendPostRequestAsync () {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__.methodNotImplemented);\n    }\n};\nconst DEFAULT_LIBRARY_INFO = {\n    sku: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.SKU,\n    version: _packageMetadata_mjs__WEBPACK_IMPORTED_MODULE_4__.version,\n    cpu: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING,\n    os: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n};\nconst DEFAULT_CLIENT_CREDENTIALS = {\n    clientSecret: _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING,\n    clientAssertion: undefined\n};\nconst DEFAULT_AZURE_CLOUD_OPTIONS = {\n    azureCloudInstance: _authority_AuthorityOptions_mjs__WEBPACK_IMPORTED_MODULE_5__.AzureCloudInstance.None,\n    tenant: `${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.DEFAULT_COMMON_TENANT}`\n};\nconst DEFAULT_TELEMETRY_OPTIONS = {\n    application: {\n        appName: \"\",\n        appVersion: \"\"\n    }\n};\n/**\r\n * Function that sets the default options when not explicitly configured from app developer\r\n *\r\n * @param Configuration\r\n *\r\n * @returns Configuration\r\n */ function buildClientConfiguration({ authOptions: userAuthOptions, systemOptions: userSystemOptions, loggerOptions: userLoggerOption, cacheOptions: userCacheOptions, storageInterface: storageImplementation, networkInterface: networkImplementation, cryptoInterface: cryptoImplementation, clientCredentials: clientCredentials, libraryInfo: libraryInfo, telemetry: telemetry, serverTelemetryManager: serverTelemetryManager, persistencePlugin: persistencePlugin, serializableCache: serializableCache }) {\n    const loggerOptions = {\n        ...DEFAULT_LOGGER_IMPLEMENTATION,\n        ...userLoggerOption\n    };\n    return {\n        authOptions: buildAuthOptions(userAuthOptions),\n        systemOptions: {\n            ...DEFAULT_SYSTEM_OPTIONS,\n            ...userSystemOptions\n        },\n        loggerOptions: loggerOptions,\n        cacheOptions: {\n            ...DEFAULT_CACHE_OPTIONS,\n            ...userCacheOptions\n        },\n        storageInterface: storageImplementation || new _cache_CacheManager_mjs__WEBPACK_IMPORTED_MODULE_6__.DefaultStorageClass(userAuthOptions.clientId, _crypto_ICrypto_mjs__WEBPACK_IMPORTED_MODULE_7__.DEFAULT_CRYPTO_IMPLEMENTATION, new _logger_Logger_mjs__WEBPACK_IMPORTED_MODULE_1__.Logger(loggerOptions)),\n        networkInterface: networkImplementation || DEFAULT_NETWORK_IMPLEMENTATION,\n        cryptoInterface: cryptoImplementation || _crypto_ICrypto_mjs__WEBPACK_IMPORTED_MODULE_7__.DEFAULT_CRYPTO_IMPLEMENTATION,\n        clientCredentials: clientCredentials || DEFAULT_CLIENT_CREDENTIALS,\n        libraryInfo: {\n            ...DEFAULT_LIBRARY_INFO,\n            ...libraryInfo\n        },\n        telemetry: {\n            ...DEFAULT_TELEMETRY_OPTIONS,\n            ...telemetry\n        },\n        serverTelemetryManager: serverTelemetryManager || null,\n        persistencePlugin: persistencePlugin || null,\n        serializableCache: serializableCache || null\n    };\n}\n/**\r\n * Construct authoptions from the client and platform passed values\r\n * @param authOptions\r\n */ function buildAuthOptions(authOptions) {\n    return {\n        clientCapabilities: [],\n        azureCloudOptions: DEFAULT_AZURE_CLOUD_OPTIONS,\n        skipAuthorityMetadataCache: false,\n        instanceAware: false,\n        ...authOptions\n    };\n}\n/**\r\n * Returns true if config has protocolMode set to ProtocolMode.OIDC, false otherwise\r\n * @param ClientConfiguration\r\n */ function isOidcProtocolMode(config) {\n    return config.authOptions.authority.options.protocolMode === _authority_ProtocolMode_mjs__WEBPACK_IMPORTED_MODULE_8__.ProtocolMode.OIDC;\n}\n //# sourceMappingURL=ClientConfiguration.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY29uZmlnL0NsaWVudENvbmZpZ3VyYXRpb24ubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNzRTtBQUNkO0FBQzZCO0FBQ3BDO0FBQ3NCO0FBQ1A7QUFDSDtBQUNRO0FBQ0k7QUFFekU7OztDQUdDLEdBQ0QsTUFBTVcseUJBQXlCO0lBQzNCQywyQkFBMkJULGtGQUFnQ0E7SUFDM0RVLHNCQUFzQjtBQUMxQjtBQUNBLE1BQU1DLGdDQUFnQztJQUNsQ0MsZ0JBQWdCO0lBQ1osd0NBQXdDO0lBQzVDO0lBQ0FDLG1CQUFtQjtJQUNuQkMsVUFBVWYsd0RBQVFBLENBQUNnQixJQUFJO0lBQ3ZCQyxlQUFlZiwyREFBU0EsQ0FBQ2dCLFlBQVk7QUFDekM7QUFDQSxNQUFNQyx3QkFBd0I7SUFDMUJDLDJCQUEyQjtBQUMvQjtBQUNBLE1BQU1DLGlDQUFpQztJQUNuQyxNQUFNQztRQUNGLE1BQU1mLGlGQUFxQkEsQ0FBQ0MsaUZBQW9CQTtJQUNwRDtJQUNBLE1BQU1lO1FBQ0YsTUFBTWhCLGlGQUFxQkEsQ0FBQ0MsaUZBQW9CQTtJQUNwRDtBQUNKO0FBQ0EsTUFBTWdCLHVCQUF1QjtJQUN6QkMsS0FBS3ZCLDJEQUFTQSxDQUFDd0IsR0FBRztJQUNsQnZCLFNBQVNBLHlEQUFPQTtJQUNoQndCLEtBQUt6QiwyREFBU0EsQ0FBQ2dCLFlBQVk7SUFDM0JVLElBQUkxQiwyREFBU0EsQ0FBQ2dCLFlBQVk7QUFDOUI7QUFDQSxNQUFNVyw2QkFBNkI7SUFDL0JDLGNBQWM1QiwyREFBU0EsQ0FBQ2dCLFlBQVk7SUFDcENhLGlCQUFpQkM7QUFDckI7QUFDQSxNQUFNQyw4QkFBOEI7SUFDaENDLG9CQUFvQjlCLCtFQUFrQkEsQ0FBQytCLElBQUk7SUFDM0NDLFFBQVEsQ0FBQyxFQUFFbEMsMkRBQVNBLENBQUNtQyxxQkFBcUIsQ0FBQyxDQUFDO0FBQ2hEO0FBQ0EsTUFBTUMsNEJBQTRCO0lBQzlCQyxhQUFhO1FBQ1RDLFNBQVM7UUFDVEMsWUFBWTtJQUNoQjtBQUNKO0FBQ0E7Ozs7OztDQU1DLEdBQ0QsU0FBU0MseUJBQXlCLEVBQUVDLGFBQWFDLGVBQWUsRUFBRUMsZUFBZUMsaUJBQWlCLEVBQUVDLGVBQWVDLGdCQUFnQixFQUFFQyxjQUFjQyxnQkFBZ0IsRUFBRUMsa0JBQWtCQyxxQkFBcUIsRUFBRUMsa0JBQWtCQyxxQkFBcUIsRUFBRUMsaUJBQWlCQyxvQkFBb0IsRUFBRUMsbUJBQW1CQSxpQkFBaUIsRUFBRUMsYUFBYUEsV0FBVyxFQUFFQyxXQUFXQSxTQUFTLEVBQUVDLHdCQUF3QkEsc0JBQXNCLEVBQUVDLG1CQUFtQkEsaUJBQWlCLEVBQUVDLG1CQUFtQkEsaUJBQWlCLEVBQUc7SUFDN2UsTUFBTWYsZ0JBQWdCO1FBQ2xCLEdBQUduQyw2QkFBNkI7UUFDaEMsR0FBR29DLGdCQUFnQjtJQUN2QjtJQUNBLE9BQU87UUFDSEwsYUFBYW9CLGlCQUFpQm5CO1FBQzlCQyxlQUFlO1lBQUUsR0FBR3BDLHNCQUFzQjtZQUFFLEdBQUdxQyxpQkFBaUI7UUFBQztRQUNqRUMsZUFBZUE7UUFDZkUsY0FBYztZQUFFLEdBQUc5QixxQkFBcUI7WUFBRSxHQUFHK0IsZ0JBQWdCO1FBQUM7UUFDOURDLGtCQUFrQkMseUJBQ2QsSUFBSS9DLHdFQUFtQkEsQ0FBQ3VDLGdCQUFnQm9CLFFBQVEsRUFBRWxFLDhFQUE2QkEsRUFBRSxJQUFJQyxzREFBTUEsQ0FBQ2dEO1FBQ2hHTSxrQkFBa0JDLHlCQUF5QmpDO1FBQzNDa0MsaUJBQWlCQyx3QkFBd0IxRCw4RUFBNkJBO1FBQ3RFMkQsbUJBQW1CQSxxQkFBcUI1QjtRQUN4QzZCLGFBQWE7WUFBRSxHQUFHbEMsb0JBQW9CO1lBQUUsR0FBR2tDLFdBQVc7UUFBQztRQUN2REMsV0FBVztZQUFFLEdBQUdyQix5QkFBeUI7WUFBRSxHQUFHcUIsU0FBUztRQUFDO1FBQ3hEQyx3QkFBd0JBLDBCQUEwQjtRQUNsREMsbUJBQW1CQSxxQkFBcUI7UUFDeENDLG1CQUFtQkEscUJBQXFCO0lBQzVDO0FBQ0o7QUFDQTs7O0NBR0MsR0FDRCxTQUFTQyxpQkFBaUJwQixXQUFXO0lBQ2pDLE9BQU87UUFDSHNCLG9CQUFvQixFQUFFO1FBQ3RCQyxtQkFBbUJqQztRQUNuQmtDLDRCQUE0QjtRQUM1QkMsZUFBZTtRQUNmLEdBQUd6QixXQUFXO0lBQ2xCO0FBQ0o7QUFDQTs7O0NBR0MsR0FDRCxTQUFTMEIsbUJBQW1CQyxNQUFNO0lBQzlCLE9BQVFBLE9BQU8zQixXQUFXLENBQUM0QixTQUFTLENBQUNDLE9BQU8sQ0FBQ0MsWUFBWSxLQUFLbkUscUVBQVlBLENBQUNvRSxJQUFJO0FBQ25GO0FBRWdGLENBQ2hGLGdEQUFnRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jb25maWcvQ2xpZW50Q29uZmlndXJhdGlvbi5tanM/MTZiNSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IERFRkFVTFRfQ1JZUFRPX0lNUExFTUVOVEFUSU9OIH0gZnJvbSAnLi4vY3J5cHRvL0lDcnlwdG8ubWpzJztcbmltcG9ydCB7IExvZ2dlciwgTG9nTGV2ZWwgfSBmcm9tICcuLi9sb2dnZXIvTG9nZ2VyLm1qcyc7XG5pbXBvcnQgeyBERUZBVUxUX1RPS0VOX1JFTkVXQUxfT0ZGU0VUX1NFQywgQ29uc3RhbnRzIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSAnLi4vcGFja2FnZU1ldGFkYXRhLm1qcyc7XG5pbXBvcnQgeyBBenVyZUNsb3VkSW5zdGFuY2UgfSBmcm9tICcuLi9hdXRob3JpdHkvQXV0aG9yaXR5T3B0aW9ucy5tanMnO1xuaW1wb3J0IHsgRGVmYXVsdFN0b3JhZ2VDbGFzcyB9IGZyb20gJy4uL2NhY2hlL0NhY2hlTWFuYWdlci5tanMnO1xuaW1wb3J0IHsgUHJvdG9jb2xNb2RlIH0gZnJvbSAnLi4vYXV0aG9yaXR5L1Byb3RvY29sTW9kZS5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBtZXRob2ROb3RJbXBsZW1lbnRlZCB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBERUZBVUxUX1NZU1RFTV9PUFRJT05TID0ge1xyXG4gICAgdG9rZW5SZW5ld2FsT2Zmc2V0U2Vjb25kczogREVGQVVMVF9UT0tFTl9SRU5FV0FMX09GRlNFVF9TRUMsXHJcbiAgICBwcmV2ZW50Q29yc1ByZWZsaWdodDogZmFsc2UsXHJcbn07XHJcbmNvbnN0IERFRkFVTFRfTE9HR0VSX0lNUExFTUVOVEFUSU9OID0ge1xyXG4gICAgbG9nZ2VyQ2FsbGJhY2s6ICgpID0+IHtcclxuICAgICAgICAvLyBhbGxvdyB1c2VycyB0byBub3Qgc2V0IGxvZ2dlckNhbGxiYWNrXHJcbiAgICB9LFxyXG4gICAgcGlpTG9nZ2luZ0VuYWJsZWQ6IGZhbHNlLFxyXG4gICAgbG9nTGV2ZWw6IExvZ0xldmVsLkluZm8sXHJcbiAgICBjb3JyZWxhdGlvbklkOiBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG59O1xyXG5jb25zdCBERUZBVUxUX0NBQ0hFX09QVElPTlMgPSB7XHJcbiAgICBjbGFpbXNCYXNlZENhY2hpbmdFbmFibGVkOiBmYWxzZSxcclxufTtcclxuY29uc3QgREVGQVVMVF9ORVRXT1JLX0lNUExFTUVOVEFUSU9OID0ge1xyXG4gICAgYXN5bmMgc2VuZEdldFJlcXVlc3RBc3luYygpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIHNlbmRQb3N0UmVxdWVzdEFzeW5jKCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9LFxyXG59O1xyXG5jb25zdCBERUZBVUxUX0xJQlJBUllfSU5GTyA9IHtcclxuICAgIHNrdTogQ29uc3RhbnRzLlNLVSxcclxuICAgIHZlcnNpb246IHZlcnNpb24sXHJcbiAgICBjcHU6IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICBvczogQ29uc3RhbnRzLkVNUFRZX1NUUklORyxcclxufTtcclxuY29uc3QgREVGQVVMVF9DTElFTlRfQ1JFREVOVElBTFMgPSB7XHJcbiAgICBjbGllbnRTZWNyZXQ6IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICBjbGllbnRBc3NlcnRpb246IHVuZGVmaW5lZCxcclxufTtcclxuY29uc3QgREVGQVVMVF9BWlVSRV9DTE9VRF9PUFRJT05TID0ge1xyXG4gICAgYXp1cmVDbG91ZEluc3RhbmNlOiBBenVyZUNsb3VkSW5zdGFuY2UuTm9uZSxcclxuICAgIHRlbmFudDogYCR7Q29uc3RhbnRzLkRFRkFVTFRfQ09NTU9OX1RFTkFOVH1gLFxyXG59O1xyXG5jb25zdCBERUZBVUxUX1RFTEVNRVRSWV9PUFRJT05TID0ge1xyXG4gICAgYXBwbGljYXRpb246IHtcclxuICAgICAgICBhcHBOYW1lOiBcIlwiLFxyXG4gICAgICAgIGFwcFZlcnNpb246IFwiXCIsXHJcbiAgICB9LFxyXG59O1xyXG4vKipcclxuICogRnVuY3Rpb24gdGhhdCBzZXRzIHRoZSBkZWZhdWx0IG9wdGlvbnMgd2hlbiBub3QgZXhwbGljaXRseSBjb25maWd1cmVkIGZyb20gYXBwIGRldmVsb3BlclxyXG4gKlxyXG4gKiBAcGFyYW0gQ29uZmlndXJhdGlvblxyXG4gKlxyXG4gKiBAcmV0dXJucyBDb25maWd1cmF0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBidWlsZENsaWVudENvbmZpZ3VyYXRpb24oeyBhdXRoT3B0aW9uczogdXNlckF1dGhPcHRpb25zLCBzeXN0ZW1PcHRpb25zOiB1c2VyU3lzdGVtT3B0aW9ucywgbG9nZ2VyT3B0aW9uczogdXNlckxvZ2dlck9wdGlvbiwgY2FjaGVPcHRpb25zOiB1c2VyQ2FjaGVPcHRpb25zLCBzdG9yYWdlSW50ZXJmYWNlOiBzdG9yYWdlSW1wbGVtZW50YXRpb24sIG5ldHdvcmtJbnRlcmZhY2U6IG5ldHdvcmtJbXBsZW1lbnRhdGlvbiwgY3J5cHRvSW50ZXJmYWNlOiBjcnlwdG9JbXBsZW1lbnRhdGlvbiwgY2xpZW50Q3JlZGVudGlhbHM6IGNsaWVudENyZWRlbnRpYWxzLCBsaWJyYXJ5SW5mbzogbGlicmFyeUluZm8sIHRlbGVtZXRyeTogdGVsZW1ldHJ5LCBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyOiBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLCBwZXJzaXN0ZW5jZVBsdWdpbjogcGVyc2lzdGVuY2VQbHVnaW4sIHNlcmlhbGl6YWJsZUNhY2hlOiBzZXJpYWxpemFibGVDYWNoZSwgfSkge1xyXG4gICAgY29uc3QgbG9nZ2VyT3B0aW9ucyA9IHtcclxuICAgICAgICAuLi5ERUZBVUxUX0xPR0dFUl9JTVBMRU1FTlRBVElPTixcclxuICAgICAgICAuLi51c2VyTG9nZ2VyT3B0aW9uLFxyXG4gICAgfTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYXV0aE9wdGlvbnM6IGJ1aWxkQXV0aE9wdGlvbnModXNlckF1dGhPcHRpb25zKSxcclxuICAgICAgICBzeXN0ZW1PcHRpb25zOiB7IC4uLkRFRkFVTFRfU1lTVEVNX09QVElPTlMsIC4uLnVzZXJTeXN0ZW1PcHRpb25zIH0sXHJcbiAgICAgICAgbG9nZ2VyT3B0aW9uczogbG9nZ2VyT3B0aW9ucyxcclxuICAgICAgICBjYWNoZU9wdGlvbnM6IHsgLi4uREVGQVVMVF9DQUNIRV9PUFRJT05TLCAuLi51c2VyQ2FjaGVPcHRpb25zIH0sXHJcbiAgICAgICAgc3RvcmFnZUludGVyZmFjZTogc3RvcmFnZUltcGxlbWVudGF0aW9uIHx8XHJcbiAgICAgICAgICAgIG5ldyBEZWZhdWx0U3RvcmFnZUNsYXNzKHVzZXJBdXRoT3B0aW9ucy5jbGllbnRJZCwgREVGQVVMVF9DUllQVE9fSU1QTEVNRU5UQVRJT04sIG5ldyBMb2dnZXIobG9nZ2VyT3B0aW9ucykpLFxyXG4gICAgICAgIG5ldHdvcmtJbnRlcmZhY2U6IG5ldHdvcmtJbXBsZW1lbnRhdGlvbiB8fCBERUZBVUxUX05FVFdPUktfSU1QTEVNRU5UQVRJT04sXHJcbiAgICAgICAgY3J5cHRvSW50ZXJmYWNlOiBjcnlwdG9JbXBsZW1lbnRhdGlvbiB8fCBERUZBVUxUX0NSWVBUT19JTVBMRU1FTlRBVElPTixcclxuICAgICAgICBjbGllbnRDcmVkZW50aWFsczogY2xpZW50Q3JlZGVudGlhbHMgfHwgREVGQVVMVF9DTElFTlRfQ1JFREVOVElBTFMsXHJcbiAgICAgICAgbGlicmFyeUluZm86IHsgLi4uREVGQVVMVF9MSUJSQVJZX0lORk8sIC4uLmxpYnJhcnlJbmZvIH0sXHJcbiAgICAgICAgdGVsZW1ldHJ5OiB7IC4uLkRFRkFVTFRfVEVMRU1FVFJZX09QVElPTlMsIC4uLnRlbGVtZXRyeSB9LFxyXG4gICAgICAgIHNlcnZlclRlbGVtZXRyeU1hbmFnZXI6IHNlcnZlclRlbGVtZXRyeU1hbmFnZXIgfHwgbnVsbCxcclxuICAgICAgICBwZXJzaXN0ZW5jZVBsdWdpbjogcGVyc2lzdGVuY2VQbHVnaW4gfHwgbnVsbCxcclxuICAgICAgICBzZXJpYWxpemFibGVDYWNoZTogc2VyaWFsaXphYmxlQ2FjaGUgfHwgbnVsbCxcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIENvbnN0cnVjdCBhdXRob3B0aW9ucyBmcm9tIHRoZSBjbGllbnQgYW5kIHBsYXRmb3JtIHBhc3NlZCB2YWx1ZXNcclxuICogQHBhcmFtIGF1dGhPcHRpb25zXHJcbiAqL1xyXG5mdW5jdGlvbiBidWlsZEF1dGhPcHRpb25zKGF1dGhPcHRpb25zKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGNsaWVudENhcGFiaWxpdGllczogW10sXHJcbiAgICAgICAgYXp1cmVDbG91ZE9wdGlvbnM6IERFRkFVTFRfQVpVUkVfQ0xPVURfT1BUSU9OUyxcclxuICAgICAgICBza2lwQXV0aG9yaXR5TWV0YWRhdGFDYWNoZTogZmFsc2UsXHJcbiAgICAgICAgaW5zdGFuY2VBd2FyZTogZmFsc2UsXHJcbiAgICAgICAgLi4uYXV0aE9wdGlvbnMsXHJcbiAgICB9O1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIHRydWUgaWYgY29uZmlnIGhhcyBwcm90b2NvbE1vZGUgc2V0IHRvIFByb3RvY29sTW9kZS5PSURDLCBmYWxzZSBvdGhlcndpc2VcclxuICogQHBhcmFtIENsaWVudENvbmZpZ3VyYXRpb25cclxuICovXHJcbmZ1bmN0aW9uIGlzT2lkY1Byb3RvY29sTW9kZShjb25maWcpIHtcclxuICAgIHJldHVybiAoY29uZmlnLmF1dGhPcHRpb25zLmF1dGhvcml0eS5vcHRpb25zLnByb3RvY29sTW9kZSA9PT0gUHJvdG9jb2xNb2RlLk9JREMpO1xyXG59XG5cbmV4cG9ydCB7IERFRkFVTFRfU1lTVEVNX09QVElPTlMsIGJ1aWxkQ2xpZW50Q29uZmlndXJhdGlvbiwgaXNPaWRjUHJvdG9jb2xNb2RlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DbGllbnRDb25maWd1cmF0aW9uLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJERUZBVUxUX0NSWVBUT19JTVBMRU1FTlRBVElPTiIsIkxvZ2dlciIsIkxvZ0xldmVsIiwiREVGQVVMVF9UT0tFTl9SRU5FV0FMX09GRlNFVF9TRUMiLCJDb25zdGFudHMiLCJ2ZXJzaW9uIiwiQXp1cmVDbG91ZEluc3RhbmNlIiwiRGVmYXVsdFN0b3JhZ2VDbGFzcyIsIlByb3RvY29sTW9kZSIsImNyZWF0ZUNsaWVudEF1dGhFcnJvciIsIm1ldGhvZE5vdEltcGxlbWVudGVkIiwiREVGQVVMVF9TWVNURU1fT1BUSU9OUyIsInRva2VuUmVuZXdhbE9mZnNldFNlY29uZHMiLCJwcmV2ZW50Q29yc1ByZWZsaWdodCIsIkRFRkFVTFRfTE9HR0VSX0lNUExFTUVOVEFUSU9OIiwibG9nZ2VyQ2FsbGJhY2siLCJwaWlMb2dnaW5nRW5hYmxlZCIsImxvZ0xldmVsIiwiSW5mbyIsImNvcnJlbGF0aW9uSWQiLCJFTVBUWV9TVFJJTkciLCJERUZBVUxUX0NBQ0hFX09QVElPTlMiLCJjbGFpbXNCYXNlZENhY2hpbmdFbmFibGVkIiwiREVGQVVMVF9ORVRXT1JLX0lNUExFTUVOVEFUSU9OIiwic2VuZEdldFJlcXVlc3RBc3luYyIsInNlbmRQb3N0UmVxdWVzdEFzeW5jIiwiREVGQVVMVF9MSUJSQVJZX0lORk8iLCJza3UiLCJTS1UiLCJjcHUiLCJvcyIsIkRFRkFVTFRfQ0xJRU5UX0NSRURFTlRJQUxTIiwiY2xpZW50U2VjcmV0IiwiY2xpZW50QXNzZXJ0aW9uIiwidW5kZWZpbmVkIiwiREVGQVVMVF9BWlVSRV9DTE9VRF9PUFRJT05TIiwiYXp1cmVDbG91ZEluc3RhbmNlIiwiTm9uZSIsInRlbmFudCIsIkRFRkFVTFRfQ09NTU9OX1RFTkFOVCIsIkRFRkFVTFRfVEVMRU1FVFJZX09QVElPTlMiLCJhcHBsaWNhdGlvbiIsImFwcE5hbWUiLCJhcHBWZXJzaW9uIiwiYnVpbGRDbGllbnRDb25maWd1cmF0aW9uIiwiYXV0aE9wdGlvbnMiLCJ1c2VyQXV0aE9wdGlvbnMiLCJzeXN0ZW1PcHRpb25zIiwidXNlclN5c3RlbU9wdGlvbnMiLCJsb2dnZXJPcHRpb25zIiwidXNlckxvZ2dlck9wdGlvbiIsImNhY2hlT3B0aW9ucyIsInVzZXJDYWNoZU9wdGlvbnMiLCJzdG9yYWdlSW50ZXJmYWNlIiwic3RvcmFnZUltcGxlbWVudGF0aW9uIiwibmV0d29ya0ludGVyZmFjZSIsIm5ldHdvcmtJbXBsZW1lbnRhdGlvbiIsImNyeXB0b0ludGVyZmFjZSIsImNyeXB0b0ltcGxlbWVudGF0aW9uIiwiY2xpZW50Q3JlZGVudGlhbHMiLCJsaWJyYXJ5SW5mbyIsInRlbGVtZXRyeSIsInNlcnZlclRlbGVtZXRyeU1hbmFnZXIiLCJwZXJzaXN0ZW5jZVBsdWdpbiIsInNlcmlhbGl6YWJsZUNhY2hlIiwiYnVpbGRBdXRoT3B0aW9ucyIsImNsaWVudElkIiwiY2xpZW50Q2FwYWJpbGl0aWVzIiwiYXp1cmVDbG91ZE9wdGlvbnMiLCJza2lwQXV0aG9yaXR5TWV0YWRhdGFDYWNoZSIsImluc3RhbmNlQXdhcmUiLCJpc09pZGNQcm90b2NvbE1vZGUiLCJjb25maWciLCJhdXRob3JpdHkiLCJvcHRpb25zIiwicHJvdG9jb2xNb2RlIiwiT0lEQyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/config/ClientConfiguration.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/constants/AADServerParamKeys.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/constants/AADServerParamKeys.mjs ***!
  \*******************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ACCESS_TOKEN: () => (/* binding */ ACCESS_TOKEN),\n/* harmony export */   BROKER_CLIENT_ID: () => (/* binding */ BROKER_CLIENT_ID),\n/* harmony export */   BROKER_REDIRECT_URI: () => (/* binding */ BROKER_REDIRECT_URI),\n/* harmony export */   CCS_HEADER: () => (/* binding */ CCS_HEADER),\n/* harmony export */   CLAIMS: () => (/* binding */ CLAIMS),\n/* harmony export */   CLIENT_ASSERTION: () => (/* binding */ CLIENT_ASSERTION),\n/* harmony export */   CLIENT_ASSERTION_TYPE: () => (/* binding */ CLIENT_ASSERTION_TYPE),\n/* harmony export */   CLIENT_ID: () => (/* binding */ CLIENT_ID),\n/* harmony export */   CLIENT_INFO: () => (/* binding */ CLIENT_INFO),\n/* harmony export */   CLIENT_REQUEST_ID: () => (/* binding */ CLIENT_REQUEST_ID),\n/* harmony export */   CLIENT_SECRET: () => (/* binding */ CLIENT_SECRET),\n/* harmony export */   CODE: () => (/* binding */ CODE),\n/* harmony export */   CODE_CHALLENGE: () => (/* binding */ CODE_CHALLENGE),\n/* harmony export */   CODE_CHALLENGE_METHOD: () => (/* binding */ CODE_CHALLENGE_METHOD),\n/* harmony export */   CODE_VERIFIER: () => (/* binding */ CODE_VERIFIER),\n/* harmony export */   DEVICE_CODE: () => (/* binding */ DEVICE_CODE),\n/* harmony export */   DOMAIN_HINT: () => (/* binding */ DOMAIN_HINT),\n/* harmony export */   ERROR: () => (/* binding */ ERROR),\n/* harmony export */   ERROR_DESCRIPTION: () => (/* binding */ ERROR_DESCRIPTION),\n/* harmony export */   EXPIRES_IN: () => (/* binding */ EXPIRES_IN),\n/* harmony export */   FOCI: () => (/* binding */ FOCI),\n/* harmony export */   GRANT_TYPE: () => (/* binding */ GRANT_TYPE),\n/* harmony export */   ID_TOKEN: () => (/* binding */ ID_TOKEN),\n/* harmony export */   ID_TOKEN_HINT: () => (/* binding */ ID_TOKEN_HINT),\n/* harmony export */   LOGIN_HINT: () => (/* binding */ LOGIN_HINT),\n/* harmony export */   LOGOUT_HINT: () => (/* binding */ LOGOUT_HINT),\n/* harmony export */   NATIVE_BROKER: () => (/* binding */ NATIVE_BROKER),\n/* harmony export */   NONCE: () => (/* binding */ NONCE),\n/* harmony export */   OBO_ASSERTION: () => (/* binding */ OBO_ASSERTION),\n/* harmony export */   ON_BEHALF_OF: () => (/* binding */ ON_BEHALF_OF),\n/* harmony export */   POST_LOGOUT_URI: () => (/* binding */ POST_LOGOUT_URI),\n/* harmony export */   PROMPT: () => (/* binding */ PROMPT),\n/* harmony export */   REDIRECT_URI: () => (/* binding */ REDIRECT_URI),\n/* harmony export */   REFRESH_TOKEN: () => (/* binding */ REFRESH_TOKEN),\n/* harmony export */   REFRESH_TOKEN_EXPIRES_IN: () => (/* binding */ REFRESH_TOKEN_EXPIRES_IN),\n/* harmony export */   REQUESTED_TOKEN_USE: () => (/* binding */ REQUESTED_TOKEN_USE),\n/* harmony export */   REQ_CNF: () => (/* binding */ REQ_CNF),\n/* harmony export */   RESPONSE_MODE: () => (/* binding */ RESPONSE_MODE),\n/* harmony export */   RESPONSE_TYPE: () => (/* binding */ RESPONSE_TYPE),\n/* harmony export */   RETURN_SPA_CODE: () => (/* binding */ RETURN_SPA_CODE),\n/* harmony export */   SCOPE: () => (/* binding */ SCOPE),\n/* harmony export */   SESSION_STATE: () => (/* binding */ SESSION_STATE),\n/* harmony export */   SID: () => (/* binding */ SID),\n/* harmony export */   STATE: () => (/* binding */ STATE),\n/* harmony export */   TOKEN_TYPE: () => (/* binding */ TOKEN_TYPE),\n/* harmony export */   X_APP_NAME: () => (/* binding */ X_APP_NAME),\n/* harmony export */   X_APP_VER: () => (/* binding */ X_APP_VER),\n/* harmony export */   X_CLIENT_CPU: () => (/* binding */ X_CLIENT_CPU),\n/* harmony export */   X_CLIENT_CURR_TELEM: () => (/* binding */ X_CLIENT_CURR_TELEM),\n/* harmony export */   X_CLIENT_EXTRA_SKU: () => (/* binding */ X_CLIENT_EXTRA_SKU),\n/* harmony export */   X_CLIENT_LAST_TELEM: () => (/* binding */ X_CLIENT_LAST_TELEM),\n/* harmony export */   X_CLIENT_OS: () => (/* binding */ X_CLIENT_OS),\n/* harmony export */   X_CLIENT_SKU: () => (/* binding */ X_CLIENT_SKU),\n/* harmony export */   X_CLIENT_VER: () => (/* binding */ X_CLIENT_VER),\n/* harmony export */   X_MS_LIB_CAPABILITY: () => (/* binding */ X_MS_LIB_CAPABILITY)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const CLIENT_ID = \"client_id\";\nconst REDIRECT_URI = \"redirect_uri\";\nconst RESPONSE_TYPE = \"response_type\";\nconst RESPONSE_MODE = \"response_mode\";\nconst GRANT_TYPE = \"grant_type\";\nconst CLAIMS = \"claims\";\nconst SCOPE = \"scope\";\nconst ERROR = \"error\";\nconst ERROR_DESCRIPTION = \"error_description\";\nconst ACCESS_TOKEN = \"access_token\";\nconst ID_TOKEN = \"id_token\";\nconst REFRESH_TOKEN = \"refresh_token\";\nconst EXPIRES_IN = \"expires_in\";\nconst REFRESH_TOKEN_EXPIRES_IN = \"refresh_token_expires_in\";\nconst STATE = \"state\";\nconst NONCE = \"nonce\";\nconst PROMPT = \"prompt\";\nconst SESSION_STATE = \"session_state\";\nconst CLIENT_INFO = \"client_info\";\nconst CODE = \"code\";\nconst CODE_CHALLENGE = \"code_challenge\";\nconst CODE_CHALLENGE_METHOD = \"code_challenge_method\";\nconst CODE_VERIFIER = \"code_verifier\";\nconst CLIENT_REQUEST_ID = \"client-request-id\";\nconst X_CLIENT_SKU = \"x-client-SKU\";\nconst X_CLIENT_VER = \"x-client-VER\";\nconst X_CLIENT_OS = \"x-client-OS\";\nconst X_CLIENT_CPU = \"x-client-CPU\";\nconst X_CLIENT_CURR_TELEM = \"x-client-current-telemetry\";\nconst X_CLIENT_LAST_TELEM = \"x-client-last-telemetry\";\nconst X_MS_LIB_CAPABILITY = \"x-ms-lib-capability\";\nconst X_APP_NAME = \"x-app-name\";\nconst X_APP_VER = \"x-app-ver\";\nconst POST_LOGOUT_URI = \"post_logout_redirect_uri\";\nconst ID_TOKEN_HINT = \"id_token_hint\";\nconst DEVICE_CODE = \"device_code\";\nconst CLIENT_SECRET = \"client_secret\";\nconst CLIENT_ASSERTION = \"client_assertion\";\nconst CLIENT_ASSERTION_TYPE = \"client_assertion_type\";\nconst TOKEN_TYPE = \"token_type\";\nconst REQ_CNF = \"req_cnf\";\nconst OBO_ASSERTION = \"assertion\";\nconst REQUESTED_TOKEN_USE = \"requested_token_use\";\nconst ON_BEHALF_OF = \"on_behalf_of\";\nconst FOCI = \"foci\";\nconst CCS_HEADER = \"X-AnchorMailbox\";\nconst RETURN_SPA_CODE = \"return_spa_code\";\nconst NATIVE_BROKER = \"nativebroker\";\nconst LOGOUT_HINT = \"logout_hint\";\nconst SID = \"sid\";\nconst LOGIN_HINT = \"login_hint\";\nconst DOMAIN_HINT = \"domain_hint\";\nconst X_CLIENT_EXTRA_SKU = \"x-client-xtra-sku\";\nconst BROKER_CLIENT_ID = \"brk_client_id\";\nconst BROKER_REDIRECT_URI = \"brk_redirect_uri\";\n //# sourceMappingURL=AADServerParamKeys.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY29uc3RhbnRzL0FBRFNlcnZlclBhcmFtS2V5cy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBOzs7Q0FHQyxHQUNELE1BQU1BLFlBQVk7QUFDbEIsTUFBTUMsZUFBZTtBQUNyQixNQUFNQyxnQkFBZ0I7QUFDdEIsTUFBTUMsZ0JBQWdCO0FBQ3RCLE1BQU1DLGFBQWE7QUFDbkIsTUFBTUMsU0FBUztBQUNmLE1BQU1DLFFBQVE7QUFDZCxNQUFNQyxRQUFRO0FBQ2QsTUFBTUMsb0JBQW9CO0FBQzFCLE1BQU1DLGVBQWU7QUFDckIsTUFBTUMsV0FBVztBQUNqQixNQUFNQyxnQkFBZ0I7QUFDdEIsTUFBTUMsYUFBYTtBQUNuQixNQUFNQywyQkFBMkI7QUFDakMsTUFBTUMsUUFBUTtBQUNkLE1BQU1DLFFBQVE7QUFDZCxNQUFNQyxTQUFTO0FBQ2YsTUFBTUMsZ0JBQWdCO0FBQ3RCLE1BQU1DLGNBQWM7QUFDcEIsTUFBTUMsT0FBTztBQUNiLE1BQU1DLGlCQUFpQjtBQUN2QixNQUFNQyx3QkFBd0I7QUFDOUIsTUFBTUMsZ0JBQWdCO0FBQ3RCLE1BQU1DLG9CQUFvQjtBQUMxQixNQUFNQyxlQUFlO0FBQ3JCLE1BQU1DLGVBQWU7QUFDckIsTUFBTUMsY0FBYztBQUNwQixNQUFNQyxlQUFlO0FBQ3JCLE1BQU1DLHNCQUFzQjtBQUM1QixNQUFNQyxzQkFBc0I7QUFDNUIsTUFBTUMsc0JBQXNCO0FBQzVCLE1BQU1DLGFBQWE7QUFDbkIsTUFBTUMsWUFBWTtBQUNsQixNQUFNQyxrQkFBa0I7QUFDeEIsTUFBTUMsZ0JBQWdCO0FBQ3RCLE1BQU1DLGNBQWM7QUFDcEIsTUFBTUMsZ0JBQWdCO0FBQ3RCLE1BQU1DLG1CQUFtQjtBQUN6QixNQUFNQyx3QkFBd0I7QUFDOUIsTUFBTUMsYUFBYTtBQUNuQixNQUFNQyxVQUFVO0FBQ2hCLE1BQU1DLGdCQUFnQjtBQUN0QixNQUFNQyxzQkFBc0I7QUFDNUIsTUFBTUMsZUFBZTtBQUNyQixNQUFNQyxPQUFPO0FBQ2IsTUFBTUMsYUFBYTtBQUNuQixNQUFNQyxrQkFBa0I7QUFDeEIsTUFBTUMsZ0JBQWdCO0FBQ3RCLE1BQU1DLGNBQWM7QUFDcEIsTUFBTUMsTUFBTTtBQUNaLE1BQU1DLGFBQWE7QUFDbkIsTUFBTUMsY0FBYztBQUNwQixNQUFNQyxxQkFBcUI7QUFDM0IsTUFBTUMsbUJBQW1CO0FBQ3pCLE1BQU1DLHNCQUFzQjtBQUV5dkIsQ0FDcnhCLCtDQUErQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jb25zdGFudHMvQUFEU2VydmVyUGFyYW1LZXlzLm1qcz8zZWIzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IENMSUVOVF9JRCA9IFwiY2xpZW50X2lkXCI7XHJcbmNvbnN0IFJFRElSRUNUX1VSSSA9IFwicmVkaXJlY3RfdXJpXCI7XHJcbmNvbnN0IFJFU1BPTlNFX1RZUEUgPSBcInJlc3BvbnNlX3R5cGVcIjtcclxuY29uc3QgUkVTUE9OU0VfTU9ERSA9IFwicmVzcG9uc2VfbW9kZVwiO1xyXG5jb25zdCBHUkFOVF9UWVBFID0gXCJncmFudF90eXBlXCI7XHJcbmNvbnN0IENMQUlNUyA9IFwiY2xhaW1zXCI7XHJcbmNvbnN0IFNDT1BFID0gXCJzY29wZVwiO1xyXG5jb25zdCBFUlJPUiA9IFwiZXJyb3JcIjtcclxuY29uc3QgRVJST1JfREVTQ1JJUFRJT04gPSBcImVycm9yX2Rlc2NyaXB0aW9uXCI7XHJcbmNvbnN0IEFDQ0VTU19UT0tFTiA9IFwiYWNjZXNzX3Rva2VuXCI7XHJcbmNvbnN0IElEX1RPS0VOID0gXCJpZF90b2tlblwiO1xyXG5jb25zdCBSRUZSRVNIX1RPS0VOID0gXCJyZWZyZXNoX3Rva2VuXCI7XHJcbmNvbnN0IEVYUElSRVNfSU4gPSBcImV4cGlyZXNfaW5cIjtcclxuY29uc3QgUkVGUkVTSF9UT0tFTl9FWFBJUkVTX0lOID0gXCJyZWZyZXNoX3Rva2VuX2V4cGlyZXNfaW5cIjtcclxuY29uc3QgU1RBVEUgPSBcInN0YXRlXCI7XHJcbmNvbnN0IE5PTkNFID0gXCJub25jZVwiO1xyXG5jb25zdCBQUk9NUFQgPSBcInByb21wdFwiO1xyXG5jb25zdCBTRVNTSU9OX1NUQVRFID0gXCJzZXNzaW9uX3N0YXRlXCI7XHJcbmNvbnN0IENMSUVOVF9JTkZPID0gXCJjbGllbnRfaW5mb1wiO1xyXG5jb25zdCBDT0RFID0gXCJjb2RlXCI7XHJcbmNvbnN0IENPREVfQ0hBTExFTkdFID0gXCJjb2RlX2NoYWxsZW5nZVwiO1xyXG5jb25zdCBDT0RFX0NIQUxMRU5HRV9NRVRIT0QgPSBcImNvZGVfY2hhbGxlbmdlX21ldGhvZFwiO1xyXG5jb25zdCBDT0RFX1ZFUklGSUVSID0gXCJjb2RlX3ZlcmlmaWVyXCI7XHJcbmNvbnN0IENMSUVOVF9SRVFVRVNUX0lEID0gXCJjbGllbnQtcmVxdWVzdC1pZFwiO1xyXG5jb25zdCBYX0NMSUVOVF9TS1UgPSBcIngtY2xpZW50LVNLVVwiO1xyXG5jb25zdCBYX0NMSUVOVF9WRVIgPSBcIngtY2xpZW50LVZFUlwiO1xyXG5jb25zdCBYX0NMSUVOVF9PUyA9IFwieC1jbGllbnQtT1NcIjtcclxuY29uc3QgWF9DTElFTlRfQ1BVID0gXCJ4LWNsaWVudC1DUFVcIjtcclxuY29uc3QgWF9DTElFTlRfQ1VSUl9URUxFTSA9IFwieC1jbGllbnQtY3VycmVudC10ZWxlbWV0cnlcIjtcclxuY29uc3QgWF9DTElFTlRfTEFTVF9URUxFTSA9IFwieC1jbGllbnQtbGFzdC10ZWxlbWV0cnlcIjtcclxuY29uc3QgWF9NU19MSUJfQ0FQQUJJTElUWSA9IFwieC1tcy1saWItY2FwYWJpbGl0eVwiO1xyXG5jb25zdCBYX0FQUF9OQU1FID0gXCJ4LWFwcC1uYW1lXCI7XHJcbmNvbnN0IFhfQVBQX1ZFUiA9IFwieC1hcHAtdmVyXCI7XHJcbmNvbnN0IFBPU1RfTE9HT1VUX1VSSSA9IFwicG9zdF9sb2dvdXRfcmVkaXJlY3RfdXJpXCI7XHJcbmNvbnN0IElEX1RPS0VOX0hJTlQgPSBcImlkX3Rva2VuX2hpbnRcIjtcclxuY29uc3QgREVWSUNFX0NPREUgPSBcImRldmljZV9jb2RlXCI7XHJcbmNvbnN0IENMSUVOVF9TRUNSRVQgPSBcImNsaWVudF9zZWNyZXRcIjtcclxuY29uc3QgQ0xJRU5UX0FTU0VSVElPTiA9IFwiY2xpZW50X2Fzc2VydGlvblwiO1xyXG5jb25zdCBDTElFTlRfQVNTRVJUSU9OX1RZUEUgPSBcImNsaWVudF9hc3NlcnRpb25fdHlwZVwiO1xyXG5jb25zdCBUT0tFTl9UWVBFID0gXCJ0b2tlbl90eXBlXCI7XHJcbmNvbnN0IFJFUV9DTkYgPSBcInJlcV9jbmZcIjtcclxuY29uc3QgT0JPX0FTU0VSVElPTiA9IFwiYXNzZXJ0aW9uXCI7XHJcbmNvbnN0IFJFUVVFU1RFRF9UT0tFTl9VU0UgPSBcInJlcXVlc3RlZF90b2tlbl91c2VcIjtcclxuY29uc3QgT05fQkVIQUxGX09GID0gXCJvbl9iZWhhbGZfb2ZcIjtcclxuY29uc3QgRk9DSSA9IFwiZm9jaVwiO1xyXG5jb25zdCBDQ1NfSEVBREVSID0gXCJYLUFuY2hvck1haWxib3hcIjtcclxuY29uc3QgUkVUVVJOX1NQQV9DT0RFID0gXCJyZXR1cm5fc3BhX2NvZGVcIjtcclxuY29uc3QgTkFUSVZFX0JST0tFUiA9IFwibmF0aXZlYnJva2VyXCI7XHJcbmNvbnN0IExPR09VVF9ISU5UID0gXCJsb2dvdXRfaGludFwiO1xyXG5jb25zdCBTSUQgPSBcInNpZFwiO1xyXG5jb25zdCBMT0dJTl9ISU5UID0gXCJsb2dpbl9oaW50XCI7XHJcbmNvbnN0IERPTUFJTl9ISU5UID0gXCJkb21haW5faGludFwiO1xyXG5jb25zdCBYX0NMSUVOVF9FWFRSQV9TS1UgPSBcIngtY2xpZW50LXh0cmEtc2t1XCI7XHJcbmNvbnN0IEJST0tFUl9DTElFTlRfSUQgPSBcImJya19jbGllbnRfaWRcIjtcclxuY29uc3QgQlJPS0VSX1JFRElSRUNUX1VSSSA9IFwiYnJrX3JlZGlyZWN0X3VyaVwiO1xuXG5leHBvcnQgeyBBQ0NFU1NfVE9LRU4sIEJST0tFUl9DTElFTlRfSUQsIEJST0tFUl9SRURJUkVDVF9VUkksIENDU19IRUFERVIsIENMQUlNUywgQ0xJRU5UX0FTU0VSVElPTiwgQ0xJRU5UX0FTU0VSVElPTl9UWVBFLCBDTElFTlRfSUQsIENMSUVOVF9JTkZPLCBDTElFTlRfUkVRVUVTVF9JRCwgQ0xJRU5UX1NFQ1JFVCwgQ09ERSwgQ09ERV9DSEFMTEVOR0UsIENPREVfQ0hBTExFTkdFX01FVEhPRCwgQ09ERV9WRVJJRklFUiwgREVWSUNFX0NPREUsIERPTUFJTl9ISU5ULCBFUlJPUiwgRVJST1JfREVTQ1JJUFRJT04sIEVYUElSRVNfSU4sIEZPQ0ksIEdSQU5UX1RZUEUsIElEX1RPS0VOLCBJRF9UT0tFTl9ISU5ULCBMT0dJTl9ISU5ULCBMT0dPVVRfSElOVCwgTkFUSVZFX0JST0tFUiwgTk9OQ0UsIE9CT19BU1NFUlRJT04sIE9OX0JFSEFMRl9PRiwgUE9TVF9MT0dPVVRfVVJJLCBQUk9NUFQsIFJFRElSRUNUX1VSSSwgUkVGUkVTSF9UT0tFTiwgUkVGUkVTSF9UT0tFTl9FWFBJUkVTX0lOLCBSRVFVRVNURURfVE9LRU5fVVNFLCBSRVFfQ05GLCBSRVNQT05TRV9NT0RFLCBSRVNQT05TRV9UWVBFLCBSRVRVUk5fU1BBX0NPREUsIFNDT1BFLCBTRVNTSU9OX1NUQVRFLCBTSUQsIFNUQVRFLCBUT0tFTl9UWVBFLCBYX0FQUF9OQU1FLCBYX0FQUF9WRVIsIFhfQ0xJRU5UX0NQVSwgWF9DTElFTlRfQ1VSUl9URUxFTSwgWF9DTElFTlRfRVhUUkFfU0tVLCBYX0NMSUVOVF9MQVNUX1RFTEVNLCBYX0NMSUVOVF9PUywgWF9DTElFTlRfU0tVLCBYX0NMSUVOVF9WRVIsIFhfTVNfTElCX0NBUEFCSUxJVFkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFBRFNlcnZlclBhcmFtS2V5cy5tanMubWFwXG4iXSwibmFtZXMiOlsiQ0xJRU5UX0lEIiwiUkVESVJFQ1RfVVJJIiwiUkVTUE9OU0VfVFlQRSIsIlJFU1BPTlNFX01PREUiLCJHUkFOVF9UWVBFIiwiQ0xBSU1TIiwiU0NPUEUiLCJFUlJPUiIsIkVSUk9SX0RFU0NSSVBUSU9OIiwiQUNDRVNTX1RPS0VOIiwiSURfVE9LRU4iLCJSRUZSRVNIX1RPS0VOIiwiRVhQSVJFU19JTiIsIlJFRlJFU0hfVE9LRU5fRVhQSVJFU19JTiIsIlNUQVRFIiwiTk9OQ0UiLCJQUk9NUFQiLCJTRVNTSU9OX1NUQVRFIiwiQ0xJRU5UX0lORk8iLCJDT0RFIiwiQ09ERV9DSEFMTEVOR0UiLCJDT0RFX0NIQUxMRU5HRV9NRVRIT0QiLCJDT0RFX1ZFUklGSUVSIiwiQ0xJRU5UX1JFUVVFU1RfSUQiLCJYX0NMSUVOVF9TS1UiLCJYX0NMSUVOVF9WRVIiLCJYX0NMSUVOVF9PUyIsIlhfQ0xJRU5UX0NQVSIsIlhfQ0xJRU5UX0NVUlJfVEVMRU0iLCJYX0NMSUVOVF9MQVNUX1RFTEVNIiwiWF9NU19MSUJfQ0FQQUJJTElUWSIsIlhfQVBQX05BTUUiLCJYX0FQUF9WRVIiLCJQT1NUX0xPR09VVF9VUkkiLCJJRF9UT0tFTl9ISU5UIiwiREVWSUNFX0NPREUiLCJDTElFTlRfU0VDUkVUIiwiQ0xJRU5UX0FTU0VSVElPTiIsIkNMSUVOVF9BU1NFUlRJT05fVFlQRSIsIlRPS0VOX1RZUEUiLCJSRVFfQ05GIiwiT0JPX0FTU0VSVElPTiIsIlJFUVVFU1RFRF9UT0tFTl9VU0UiLCJPTl9CRUhBTEZfT0YiLCJGT0NJIiwiQ0NTX0hFQURFUiIsIlJFVFVSTl9TUEFfQ09ERSIsIk5BVElWRV9CUk9LRVIiLCJMT0dPVVRfSElOVCIsIlNJRCIsIkxPR0lOX0hJTlQiLCJET01BSU5fSElOVCIsIlhfQ0xJRU5UX0VYVFJBX1NLVSIsIkJST0tFUl9DTElFTlRfSUQiLCJCUk9LRVJfUkVESVJFQ1RfVVJJIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/constants/AADServerParamKeys.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/crypto/ICrypto.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/crypto/ICrypto.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_CRYPTO_IMPLEMENTATION: () => (/* binding */ DEFAULT_CRYPTO_IMPLEMENTATION)\n/* harmony export */ });\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const DEFAULT_CRYPTO_IMPLEMENTATION = {\n    createNewGuid: ()=>{\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.methodNotImplemented);\n    },\n    base64Decode: ()=>{\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.methodNotImplemented);\n    },\n    base64Encode: ()=>{\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.methodNotImplemented);\n    },\n    base64UrlEncode: ()=>{\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.methodNotImplemented);\n    },\n    encodeKid: ()=>{\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.methodNotImplemented);\n    },\n    async getPublicKeyThumbprint () {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.methodNotImplemented);\n    },\n    async removeTokenBindingKey () {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.methodNotImplemented);\n    },\n    async clearKeystore () {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.methodNotImplemented);\n    },\n    async signJwt () {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.methodNotImplemented);\n    },\n    async hashString () {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.methodNotImplemented);\n    }\n};\n //# sourceMappingURL=ICrypto.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY3J5cHRvL0lDcnlwdG8ubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNxRTtBQUNJO0FBRXpFOzs7Q0FHQyxHQUNELE1BQU1FLGdDQUFnQztJQUNsQ0MsZUFBZTtRQUNYLE1BQU1ILGlGQUFxQkEsQ0FBQ0MsaUZBQW9CQTtJQUNwRDtJQUNBRyxjQUFjO1FBQ1YsTUFBTUosaUZBQXFCQSxDQUFDQyxpRkFBb0JBO0lBQ3BEO0lBQ0FJLGNBQWM7UUFDVixNQUFNTCxpRkFBcUJBLENBQUNDLGlGQUFvQkE7SUFDcEQ7SUFDQUssaUJBQWlCO1FBQ2IsTUFBTU4saUZBQXFCQSxDQUFDQyxpRkFBb0JBO0lBQ3BEO0lBQ0FNLFdBQVc7UUFDUCxNQUFNUCxpRkFBcUJBLENBQUNDLGlGQUFvQkE7SUFDcEQ7SUFDQSxNQUFNTztRQUNGLE1BQU1SLGlGQUFxQkEsQ0FBQ0MsaUZBQW9CQTtJQUNwRDtJQUNBLE1BQU1RO1FBQ0YsTUFBTVQsaUZBQXFCQSxDQUFDQyxpRkFBb0JBO0lBQ3BEO0lBQ0EsTUFBTVM7UUFDRixNQUFNVixpRkFBcUJBLENBQUNDLGlGQUFvQkE7SUFDcEQ7SUFDQSxNQUFNVTtRQUNGLE1BQU1YLGlGQUFxQkEsQ0FBQ0MsaUZBQW9CQTtJQUNwRDtJQUNBLE1BQU1XO1FBQ0YsTUFBTVosaUZBQXFCQSxDQUFDQyxpRkFBb0JBO0lBQ3BEO0FBQ0o7QUFFeUMsQ0FDekMsb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2NyeXB0by9JQ3J5cHRvLm1qcz82ZTRhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBtZXRob2ROb3RJbXBsZW1lbnRlZCB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBERUZBVUxUX0NSWVBUT19JTVBMRU1FTlRBVElPTiA9IHtcclxuICAgIGNyZWF0ZU5ld0d1aWQ6ICgpID0+IHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfSxcclxuICAgIGJhc2U2NERlY29kZTogKCkgPT4ge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9LFxyXG4gICAgYmFzZTY0RW5jb2RlOiAoKSA9PiB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKG1ldGhvZE5vdEltcGxlbWVudGVkKTtcclxuICAgIH0sXHJcbiAgICBiYXNlNjRVcmxFbmNvZGU6ICgpID0+IHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfSxcclxuICAgIGVuY29kZUtpZDogKCkgPT4ge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgZ2V0UHVibGljS2V5VGh1bWJwcmludCgpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIHJlbW92ZVRva2VuQmluZGluZ0tleSgpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfSxcclxuICAgIGFzeW5jIGNsZWFyS2V5c3RvcmUoKSB7XHJcbiAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKG1ldGhvZE5vdEltcGxlbWVudGVkKTtcclxuICAgIH0sXHJcbiAgICBhc3luYyBzaWduSnd0KCkge1xyXG4gICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihtZXRob2ROb3RJbXBsZW1lbnRlZCk7XHJcbiAgICB9LFxyXG4gICAgYXN5bmMgaGFzaFN0cmluZygpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpO1xyXG4gICAgfSxcclxufTtcblxuZXhwb3J0IHsgREVGQVVMVF9DUllQVE9fSU1QTEVNRU5UQVRJT04gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUlDcnlwdG8ubWpzLm1hcFxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudEF1dGhFcnJvciIsIm1ldGhvZE5vdEltcGxlbWVudGVkIiwiREVGQVVMVF9DUllQVE9fSU1QTEVNRU5UQVRJT04iLCJjcmVhdGVOZXdHdWlkIiwiYmFzZTY0RGVjb2RlIiwiYmFzZTY0RW5jb2RlIiwiYmFzZTY0VXJsRW5jb2RlIiwiZW5jb2RlS2lkIiwiZ2V0UHVibGljS2V5VGh1bWJwcmludCIsInJlbW92ZVRva2VuQmluZGluZ0tleSIsImNsZWFyS2V5c3RvcmUiLCJzaWduSnd0IiwiaGFzaFN0cmluZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/crypto/ICrypto.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/crypto/JoseHeader.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/crypto/JoseHeader.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JoseHeader: () => (/* binding */ JoseHeader)\n/* harmony export */ });\n/* harmony import */ var _error_JoseHeaderError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/JoseHeaderError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/JoseHeaderError.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _error_JoseHeaderErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/JoseHeaderErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/JoseHeaderErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /** @internal */ class JoseHeader {\n    constructor(options){\n        this.typ = options.typ;\n        this.alg = options.alg;\n        this.kid = options.kid;\n    }\n    /**\r\n     * Builds SignedHttpRequest formatted JOSE Header from the\r\n     * JOSE Header options provided or previously set on the object and returns\r\n     * the stringified header object.\r\n     * Throws if keyId or algorithm aren't provided since they are required for Access Token Binding.\r\n     * @param shrHeaderOptions\r\n     * @returns\r\n     */ static getShrHeaderString(shrHeaderOptions) {\n        // KeyID is required on the SHR header\n        if (!shrHeaderOptions.kid) {\n            throw (0,_error_JoseHeaderError_mjs__WEBPACK_IMPORTED_MODULE_0__.createJoseHeaderError)(_error_JoseHeaderErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.missingKidError);\n        }\n        // Alg is required on the SHR header\n        if (!shrHeaderOptions.alg) {\n            throw (0,_error_JoseHeaderError_mjs__WEBPACK_IMPORTED_MODULE_0__.createJoseHeaderError)(_error_JoseHeaderErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.missingAlgError);\n        }\n        const shrHeader = new JoseHeader({\n            // Access Token PoP headers must have type pop, but the type header can be overriden for special cases\n            typ: shrHeaderOptions.typ || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.JsonWebTokenTypes.Pop,\n            kid: shrHeaderOptions.kid,\n            alg: shrHeaderOptions.alg\n        });\n        return JSON.stringify(shrHeader);\n    }\n}\n //# sourceMappingURL=JoseHeader.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY3J5cHRvL0pvc2VIZWFkZXIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDcUU7QUFDVjtBQUMwQjtBQUVyRjs7O0NBR0MsR0FDRCxjQUFjLEdBQ2QsTUFBTUk7SUFDRkMsWUFBWUMsT0FBTyxDQUFFO1FBQ2pCLElBQUksQ0FBQ0MsR0FBRyxHQUFHRCxRQUFRQyxHQUFHO1FBQ3RCLElBQUksQ0FBQ0MsR0FBRyxHQUFHRixRQUFRRSxHQUFHO1FBQ3RCLElBQUksQ0FBQ0MsR0FBRyxHQUFHSCxRQUFRRyxHQUFHO0lBQzFCO0lBQ0E7Ozs7Ozs7S0FPQyxHQUNELE9BQU9DLG1CQUFtQkMsZ0JBQWdCLEVBQUU7UUFDeEMsc0NBQXNDO1FBQ3RDLElBQUksQ0FBQ0EsaUJBQWlCRixHQUFHLEVBQUU7WUFDdkIsTUFBTVQsaUZBQXFCQSxDQUFDRSw0RUFBZUE7UUFDL0M7UUFDQSxvQ0FBb0M7UUFDcEMsSUFBSSxDQUFDUyxpQkFBaUJILEdBQUcsRUFBRTtZQUN2QixNQUFNUixpRkFBcUJBLENBQUNHLDRFQUFlQTtRQUMvQztRQUNBLE1BQU1TLFlBQVksSUFBSVIsV0FBVztZQUM3QixzR0FBc0c7WUFDdEdHLEtBQUtJLGlCQUFpQkosR0FBRyxJQUFJTixtRUFBaUJBLENBQUNZLEdBQUc7WUFDbERKLEtBQUtFLGlCQUFpQkYsR0FBRztZQUN6QkQsS0FBS0csaUJBQWlCSCxHQUFHO1FBQzdCO1FBQ0EsT0FBT00sS0FBS0MsU0FBUyxDQUFDSDtJQUMxQjtBQUNKO0FBRXNCLENBQ3RCLHVDQUF1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9jcnlwdG8vSm9zZUhlYWRlci5tanM/ZGI0NiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IGNyZWF0ZUpvc2VIZWFkZXJFcnJvciB9IGZyb20gJy4uL2Vycm9yL0pvc2VIZWFkZXJFcnJvci5tanMnO1xuaW1wb3J0IHsgSnNvbldlYlRva2VuVHlwZXMgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMubWpzJztcbmltcG9ydCB7IG1pc3NpbmdLaWRFcnJvciwgbWlzc2luZ0FsZ0Vycm9yIH0gZnJvbSAnLi4vZXJyb3IvSm9zZUhlYWRlckVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuY2xhc3MgSm9zZUhlYWRlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XHJcbiAgICAgICAgdGhpcy50eXAgPSBvcHRpb25zLnR5cDtcclxuICAgICAgICB0aGlzLmFsZyA9IG9wdGlvbnMuYWxnO1xyXG4gICAgICAgIHRoaXMua2lkID0gb3B0aW9ucy5raWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEJ1aWxkcyBTaWduZWRIdHRwUmVxdWVzdCBmb3JtYXR0ZWQgSk9TRSBIZWFkZXIgZnJvbSB0aGVcclxuICAgICAqIEpPU0UgSGVhZGVyIG9wdGlvbnMgcHJvdmlkZWQgb3IgcHJldmlvdXNseSBzZXQgb24gdGhlIG9iamVjdCBhbmQgcmV0dXJuc1xyXG4gICAgICogdGhlIHN0cmluZ2lmaWVkIGhlYWRlciBvYmplY3QuXHJcbiAgICAgKiBUaHJvd3MgaWYga2V5SWQgb3IgYWxnb3JpdGhtIGFyZW4ndCBwcm92aWRlZCBzaW5jZSB0aGV5IGFyZSByZXF1aXJlZCBmb3IgQWNjZXNzIFRva2VuIEJpbmRpbmcuXHJcbiAgICAgKiBAcGFyYW0gc2hySGVhZGVyT3B0aW9uc1xyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGdldFNockhlYWRlclN0cmluZyhzaHJIZWFkZXJPcHRpb25zKSB7XHJcbiAgICAgICAgLy8gS2V5SUQgaXMgcmVxdWlyZWQgb24gdGhlIFNIUiBoZWFkZXJcclxuICAgICAgICBpZiAoIXNockhlYWRlck9wdGlvbnMua2lkKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUpvc2VIZWFkZXJFcnJvcihtaXNzaW5nS2lkRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBbGcgaXMgcmVxdWlyZWQgb24gdGhlIFNIUiBoZWFkZXJcclxuICAgICAgICBpZiAoIXNockhlYWRlck9wdGlvbnMuYWxnKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUpvc2VIZWFkZXJFcnJvcihtaXNzaW5nQWxnRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzaHJIZWFkZXIgPSBuZXcgSm9zZUhlYWRlcih7XHJcbiAgICAgICAgICAgIC8vIEFjY2VzcyBUb2tlbiBQb1AgaGVhZGVycyBtdXN0IGhhdmUgdHlwZSBwb3AsIGJ1dCB0aGUgdHlwZSBoZWFkZXIgY2FuIGJlIG92ZXJyaWRlbiBmb3Igc3BlY2lhbCBjYXNlc1xyXG4gICAgICAgICAgICB0eXA6IHNockhlYWRlck9wdGlvbnMudHlwIHx8IEpzb25XZWJUb2tlblR5cGVzLlBvcCxcclxuICAgICAgICAgICAga2lkOiBzaHJIZWFkZXJPcHRpb25zLmtpZCxcclxuICAgICAgICAgICAgYWxnOiBzaHJIZWFkZXJPcHRpb25zLmFsZyxcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoc2hySGVhZGVyKTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBKb3NlSGVhZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Kb3NlSGVhZGVyLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJjcmVhdGVKb3NlSGVhZGVyRXJyb3IiLCJKc29uV2ViVG9rZW5UeXBlcyIsIm1pc3NpbmdLaWRFcnJvciIsIm1pc3NpbmdBbGdFcnJvciIsIkpvc2VIZWFkZXIiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJ0eXAiLCJhbGciLCJraWQiLCJnZXRTaHJIZWFkZXJTdHJpbmciLCJzaHJIZWFkZXJPcHRpb25zIiwic2hySGVhZGVyIiwiUG9wIiwiSlNPTiIsInN0cmluZ2lmeSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/crypto/JoseHeader.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/crypto/PopTokenGenerator.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/crypto/PopTokenGenerator.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PopTokenGenerator: () => (/* binding */ PopTokenGenerator)\n/* harmony export */ });\n/* harmony import */ var _utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/TimeUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/TimeUtils.mjs\");\n/* harmony import */ var _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../url/UrlString.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs\");\n/* harmony import */ var _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../telemetry/performance/PerformanceEvent.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/FunctionWrappers.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const KeyLocation = {\n    SW: \"sw\",\n    UHW: \"uhw\"\n};\n/** @internal */ class PopTokenGenerator {\n    constructor(cryptoUtils, performanceClient){\n        this.cryptoUtils = cryptoUtils;\n        this.performanceClient = performanceClient;\n    }\n    /**\r\n     * Generates the req_cnf validated at the RP in the POP protocol for SHR parameters\r\n     * and returns an object containing the keyid, the full req_cnf string and the req_cnf string hash\r\n     * @param request\r\n     * @returns\r\n     */ async generateCnf(request, logger) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.PopTokenGenerateCnf, request.correlationId);\n        const reqCnf = await (0,_utils_FunctionWrappers_mjs__WEBPACK_IMPORTED_MODULE_1__.invokeAsync)(this.generateKid.bind(this), _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.PopTokenGenerateCnf, logger, this.performanceClient, request.correlationId)(request);\n        const reqCnfString = this.cryptoUtils.base64UrlEncode(JSON.stringify(reqCnf));\n        return {\n            kid: reqCnf.kid,\n            reqCnfString\n        };\n    }\n    /**\r\n     * Generates key_id for a SHR token request\r\n     * @param request\r\n     * @returns\r\n     */ async generateKid(request) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.PerformanceEvents.PopTokenGenerateKid, request.correlationId);\n        const kidThumbprint = await this.cryptoUtils.getPublicKeyThumbprint(request);\n        return {\n            kid: kidThumbprint,\n            xms_ksl: KeyLocation.SW\n        };\n    }\n    /**\r\n     * Signs the POP access_token with the local generated key-pair\r\n     * @param accessToken\r\n     * @param request\r\n     * @returns\r\n     */ async signPopToken(accessToken, keyId, request) {\n        return this.signPayload(accessToken, keyId, request);\n    }\n    /**\r\n     * Utility function to generate the signed JWT for an access_token\r\n     * @param payload\r\n     * @param kid\r\n     * @param request\r\n     * @param claims\r\n     * @returns\r\n     */ async signPayload(payload, keyId, request, claims) {\n        // Deconstruct request to extract SHR parameters\n        const { resourceRequestMethod, resourceRequestUri, shrClaims, shrNonce, shrOptions } = request;\n        const resourceUrlString = resourceRequestUri ? new _url_UrlString_mjs__WEBPACK_IMPORTED_MODULE_2__.UrlString(resourceRequestUri) : undefined;\n        const resourceUrlComponents = resourceUrlString?.getUrlComponents();\n        return this.cryptoUtils.signJwt({\n            at: payload,\n            ts: (0,_utils_TimeUtils_mjs__WEBPACK_IMPORTED_MODULE_3__.nowSeconds)(),\n            m: resourceRequestMethod?.toUpperCase(),\n            u: resourceUrlComponents?.HostNameAndPort,\n            nonce: shrNonce || this.cryptoUtils.createNewGuid(),\n            p: resourceUrlComponents?.AbsolutePath,\n            q: resourceUrlComponents?.QueryString ? [\n                [],\n                resourceUrlComponents.QueryString\n            ] : undefined,\n            client_claims: shrClaims || undefined,\n            ...claims\n        }, keyId, shrOptions, request.correlationId);\n    }\n}\n //# sourceMappingURL=PopTokenGenerator.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvY3J5cHRvL1BvcFRva2VuR2VuZXJhdG9yLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNvRDtBQUNIO0FBQ2lDO0FBQ3RCO0FBRTVEOzs7Q0FHQyxHQUNELE1BQU1JLGNBQWM7SUFDaEJDLElBQUk7SUFDSkMsS0FBSztBQUNUO0FBQ0EsY0FBYyxHQUNkLE1BQU1DO0lBQ0ZDLFlBQVlDLFdBQVcsRUFBRUMsaUJBQWlCLENBQUU7UUFDeEMsSUFBSSxDQUFDRCxXQUFXLEdBQUdBO1FBQ25CLElBQUksQ0FBQ0MsaUJBQWlCLEdBQUdBO0lBQzdCO0lBQ0E7Ozs7O0tBS0MsR0FDRCxNQUFNQyxZQUFZQyxPQUFPLEVBQUVDLE1BQU0sRUFBRTtRQUMvQixJQUFJLENBQUNILGlCQUFpQixFQUFFSSxvQkFBb0JaLDBGQUFpQkEsQ0FBQ2EsbUJBQW1CLEVBQUVILFFBQVFJLGFBQWE7UUFDeEcsTUFBTUMsU0FBUyxNQUFNZCx3RUFBV0EsQ0FBQyxJQUFJLENBQUNlLFdBQVcsQ0FBQ0MsSUFBSSxDQUFDLElBQUksR0FBR2pCLDBGQUFpQkEsQ0FBQ2EsbUJBQW1CLEVBQUVGLFFBQVEsSUFBSSxDQUFDSCxpQkFBaUIsRUFBRUUsUUFBUUksYUFBYSxFQUFFSjtRQUM1SixNQUFNUSxlQUFlLElBQUksQ0FBQ1gsV0FBVyxDQUFDWSxlQUFlLENBQUNDLEtBQUtDLFNBQVMsQ0FBQ047UUFDckUsT0FBTztZQUNITyxLQUFLUCxPQUFPTyxHQUFHO1lBQ2ZKO1FBQ0o7SUFDSjtJQUNBOzs7O0tBSUMsR0FDRCxNQUFNRixZQUFZTixPQUFPLEVBQUU7UUFDdkIsSUFBSSxDQUFDRixpQkFBaUIsRUFBRUksb0JBQW9CWiwwRkFBaUJBLENBQUN1QixtQkFBbUIsRUFBRWIsUUFBUUksYUFBYTtRQUN4RyxNQUFNVSxnQkFBZ0IsTUFBTSxJQUFJLENBQUNqQixXQUFXLENBQUNrQixzQkFBc0IsQ0FBQ2Y7UUFDcEUsT0FBTztZQUNIWSxLQUFLRTtZQUNMRSxTQUFTeEIsWUFBWUMsRUFBRTtRQUMzQjtJQUNKO0lBQ0E7Ozs7O0tBS0MsR0FDRCxNQUFNd0IsYUFBYUMsV0FBVyxFQUFFQyxLQUFLLEVBQUVuQixPQUFPLEVBQUU7UUFDNUMsT0FBTyxJQUFJLENBQUNvQixXQUFXLENBQUNGLGFBQWFDLE9BQU9uQjtJQUNoRDtJQUNBOzs7Ozs7O0tBT0MsR0FDRCxNQUFNb0IsWUFBWUMsT0FBTyxFQUFFRixLQUFLLEVBQUVuQixPQUFPLEVBQUVzQixNQUFNLEVBQUU7UUFDL0MsZ0RBQWdEO1FBQ2hELE1BQU0sRUFBRUMscUJBQXFCLEVBQUVDLGtCQUFrQixFQUFFQyxTQUFTLEVBQUVDLFFBQVEsRUFBRUMsVUFBVSxFQUFHLEdBQUczQjtRQUN4RixNQUFNNEIsb0JBQW9CSixxQkFDcEIsSUFBSW5DLHlEQUFTQSxDQUFDbUMsc0JBQ2RLO1FBQ04sTUFBTUMsd0JBQXdCRixtQkFBbUJHO1FBQ2pELE9BQU8sSUFBSSxDQUFDbEMsV0FBVyxDQUFDbUMsT0FBTyxDQUFDO1lBQzVCQyxJQUFJWjtZQUNKYSxJQUFJOUMsZ0VBQVVBO1lBQ2QrQyxHQUFHWix1QkFBdUJhO1lBQzFCQyxHQUFHUCx1QkFBdUJRO1lBQzFCQyxPQUFPYixZQUFZLElBQUksQ0FBQzdCLFdBQVcsQ0FBQzJDLGFBQWE7WUFDakRDLEdBQUdYLHVCQUF1Qlk7WUFDMUJDLEdBQUdiLHVCQUF1QmMsY0FDcEI7Z0JBQUMsRUFBRTtnQkFBRWQsc0JBQXNCYyxXQUFXO2FBQUMsR0FDdkNmO1lBQ05nQixlQUFlcEIsYUFBYUk7WUFDNUIsR0FBR1AsTUFBTTtRQUNiLEdBQUdILE9BQU9RLFlBQVkzQixRQUFRSSxhQUFhO0lBQy9DO0FBQ0o7QUFFNkIsQ0FDN0IsOENBQThDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2NyeXB0by9Qb3BUb2tlbkdlbmVyYXRvci5tanM/NDEwZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IG5vd1NlY29uZHMgfSBmcm9tICcuLi91dGlscy9UaW1lVXRpbHMubWpzJztcbmltcG9ydCB7IFVybFN0cmluZyB9IGZyb20gJy4uL3VybC9VcmxTdHJpbmcubWpzJztcbmltcG9ydCB7IFBlcmZvcm1hbmNlRXZlbnRzIH0gZnJvbSAnLi4vdGVsZW1ldHJ5L3BlcmZvcm1hbmNlL1BlcmZvcm1hbmNlRXZlbnQubWpzJztcbmltcG9ydCB7IGludm9rZUFzeW5jIH0gZnJvbSAnLi4vdXRpbHMvRnVuY3Rpb25XcmFwcGVycy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgS2V5TG9jYXRpb24gPSB7XHJcbiAgICBTVzogXCJzd1wiLFxyXG4gICAgVUhXOiBcInVod1wiLFxyXG59O1xyXG4vKiogQGludGVybmFsICovXHJcbmNsYXNzIFBvcFRva2VuR2VuZXJhdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGNyeXB0b1V0aWxzLCBwZXJmb3JtYW5jZUNsaWVudCkge1xyXG4gICAgICAgIHRoaXMuY3J5cHRvVXRpbHMgPSBjcnlwdG9VdGlscztcclxuICAgICAgICB0aGlzLnBlcmZvcm1hbmNlQ2xpZW50ID0gcGVyZm9ybWFuY2VDbGllbnQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlcyB0aGUgcmVxX2NuZiB2YWxpZGF0ZWQgYXQgdGhlIFJQIGluIHRoZSBQT1AgcHJvdG9jb2wgZm9yIFNIUiBwYXJhbWV0ZXJzXHJcbiAgICAgKiBhbmQgcmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUga2V5aWQsIHRoZSBmdWxsIHJlcV9jbmYgc3RyaW5nIGFuZCB0aGUgcmVxX2NuZiBzdHJpbmcgaGFzaFxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIGdlbmVyYXRlQ25mKHJlcXVlc3QsIGxvZ2dlcikge1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQ/LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuUG9wVG9rZW5HZW5lcmF0ZUNuZiwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCByZXFDbmYgPSBhd2FpdCBpbnZva2VBc3luYyh0aGlzLmdlbmVyYXRlS2lkLmJpbmQodGhpcyksIFBlcmZvcm1hbmNlRXZlbnRzLlBvcFRva2VuR2VuZXJhdGVDbmYsIGxvZ2dlciwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKShyZXF1ZXN0KTtcclxuICAgICAgICBjb25zdCByZXFDbmZTdHJpbmcgPSB0aGlzLmNyeXB0b1V0aWxzLmJhc2U2NFVybEVuY29kZShKU09OLnN0cmluZ2lmeShyZXFDbmYpKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBraWQ6IHJlcUNuZi5raWQsXHJcbiAgICAgICAgICAgIHJlcUNuZlN0cmluZyxcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZXMga2V5X2lkIGZvciBhIFNIUiB0b2tlbiByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gcmVxdWVzdFxyXG4gICAgICogQHJldHVybnNcclxuICAgICAqL1xyXG4gICAgYXN5bmMgZ2VuZXJhdGVLaWQocmVxdWVzdCkge1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQ/LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuUG9wVG9rZW5HZW5lcmF0ZUtpZCwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBjb25zdCBraWRUaHVtYnByaW50ID0gYXdhaXQgdGhpcy5jcnlwdG9VdGlscy5nZXRQdWJsaWNLZXlUaHVtYnByaW50KHJlcXVlc3QpO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGtpZDoga2lkVGh1bWJwcmludCxcclxuICAgICAgICAgICAgeG1zX2tzbDogS2V5TG9jYXRpb24uU1csXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2lnbnMgdGhlIFBPUCBhY2Nlc3NfdG9rZW4gd2l0aCB0aGUgbG9jYWwgZ2VuZXJhdGVkIGtleS1wYWlyXHJcbiAgICAgKiBAcGFyYW0gYWNjZXNzVG9rZW5cclxuICAgICAqIEBwYXJhbSByZXF1ZXN0XHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBhc3luYyBzaWduUG9wVG9rZW4oYWNjZXNzVG9rZW4sIGtleUlkLCByZXF1ZXN0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lnblBheWxvYWQoYWNjZXNzVG9rZW4sIGtleUlkLCByZXF1ZXN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXRpbGl0eSBmdW5jdGlvbiB0byBnZW5lcmF0ZSB0aGUgc2lnbmVkIEpXVCBmb3IgYW4gYWNjZXNzX3Rva2VuXHJcbiAgICAgKiBAcGFyYW0gcGF5bG9hZFxyXG4gICAgICogQHBhcmFtIGtpZFxyXG4gICAgICogQHBhcmFtIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBjbGFpbXNcclxuICAgICAqIEByZXR1cm5zXHJcbiAgICAgKi9cclxuICAgIGFzeW5jIHNpZ25QYXlsb2FkKHBheWxvYWQsIGtleUlkLCByZXF1ZXN0LCBjbGFpbXMpIHtcclxuICAgICAgICAvLyBEZWNvbnN0cnVjdCByZXF1ZXN0IHRvIGV4dHJhY3QgU0hSIHBhcmFtZXRlcnNcclxuICAgICAgICBjb25zdCB7IHJlc291cmNlUmVxdWVzdE1ldGhvZCwgcmVzb3VyY2VSZXF1ZXN0VXJpLCBzaHJDbGFpbXMsIHNock5vbmNlLCBzaHJPcHRpb25zLCB9ID0gcmVxdWVzdDtcclxuICAgICAgICBjb25zdCByZXNvdXJjZVVybFN0cmluZyA9IHJlc291cmNlUmVxdWVzdFVyaVxyXG4gICAgICAgICAgICA/IG5ldyBVcmxTdHJpbmcocmVzb3VyY2VSZXF1ZXN0VXJpKVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgICAgICBjb25zdCByZXNvdXJjZVVybENvbXBvbmVudHMgPSByZXNvdXJjZVVybFN0cmluZz8uZ2V0VXJsQ29tcG9uZW50cygpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNyeXB0b1V0aWxzLnNpZ25Kd3Qoe1xyXG4gICAgICAgICAgICBhdDogcGF5bG9hZCxcclxuICAgICAgICAgICAgdHM6IG5vd1NlY29uZHMoKSxcclxuICAgICAgICAgICAgbTogcmVzb3VyY2VSZXF1ZXN0TWV0aG9kPy50b1VwcGVyQ2FzZSgpLFxyXG4gICAgICAgICAgICB1OiByZXNvdXJjZVVybENvbXBvbmVudHM/Lkhvc3ROYW1lQW5kUG9ydCxcclxuICAgICAgICAgICAgbm9uY2U6IHNock5vbmNlIHx8IHRoaXMuY3J5cHRvVXRpbHMuY3JlYXRlTmV3R3VpZCgpLFxyXG4gICAgICAgICAgICBwOiByZXNvdXJjZVVybENvbXBvbmVudHM/LkFic29sdXRlUGF0aCxcclxuICAgICAgICAgICAgcTogcmVzb3VyY2VVcmxDb21wb25lbnRzPy5RdWVyeVN0cmluZ1xyXG4gICAgICAgICAgICAgICAgPyBbW10sIHJlc291cmNlVXJsQ29tcG9uZW50cy5RdWVyeVN0cmluZ11cclxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICBjbGllbnRfY2xhaW1zOiBzaHJDbGFpbXMgfHwgdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICAuLi5jbGFpbXMsXHJcbiAgICAgICAgfSwga2V5SWQsIHNock9wdGlvbnMsIHJlcXVlc3QuY29ycmVsYXRpb25JZCk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgUG9wVG9rZW5HZW5lcmF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBvcFRva2VuR2VuZXJhdG9yLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJub3dTZWNvbmRzIiwiVXJsU3RyaW5nIiwiUGVyZm9ybWFuY2VFdmVudHMiLCJpbnZva2VBc3luYyIsIktleUxvY2F0aW9uIiwiU1ciLCJVSFciLCJQb3BUb2tlbkdlbmVyYXRvciIsImNvbnN0cnVjdG9yIiwiY3J5cHRvVXRpbHMiLCJwZXJmb3JtYW5jZUNsaWVudCIsImdlbmVyYXRlQ25mIiwicmVxdWVzdCIsImxvZ2dlciIsImFkZFF1ZXVlTWVhc3VyZW1lbnQiLCJQb3BUb2tlbkdlbmVyYXRlQ25mIiwiY29ycmVsYXRpb25JZCIsInJlcUNuZiIsImdlbmVyYXRlS2lkIiwiYmluZCIsInJlcUNuZlN0cmluZyIsImJhc2U2NFVybEVuY29kZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJraWQiLCJQb3BUb2tlbkdlbmVyYXRlS2lkIiwia2lkVGh1bWJwcmludCIsImdldFB1YmxpY0tleVRodW1icHJpbnQiLCJ4bXNfa3NsIiwic2lnblBvcFRva2VuIiwiYWNjZXNzVG9rZW4iLCJrZXlJZCIsInNpZ25QYXlsb2FkIiwicGF5bG9hZCIsImNsYWltcyIsInJlc291cmNlUmVxdWVzdE1ldGhvZCIsInJlc291cmNlUmVxdWVzdFVyaSIsInNockNsYWltcyIsInNock5vbmNlIiwic2hyT3B0aW9ucyIsInJlc291cmNlVXJsU3RyaW5nIiwidW5kZWZpbmVkIiwicmVzb3VyY2VVcmxDb21wb25lbnRzIiwiZ2V0VXJsQ29tcG9uZW50cyIsInNpZ25Kd3QiLCJhdCIsInRzIiwibSIsInRvVXBwZXJDYXNlIiwidSIsIkhvc3ROYW1lQW5kUG9ydCIsIm5vbmNlIiwiY3JlYXRlTmV3R3VpZCIsInAiLCJBYnNvbHV0ZVBhdGgiLCJxIiwiUXVlcnlTdHJpbmciLCJjbGllbnRfY2xhaW1zIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/crypto/PopTokenGenerator.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/AuthError.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthError: () => (/* binding */ AuthError),\n/* harmony export */   AuthErrorCodes: () => (/* reexport module object */ _AuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   AuthErrorMessage: () => (/* binding */ AuthErrorMessage),\n/* harmony export */   AuthErrorMessages: () => (/* binding */ AuthErrorMessages),\n/* harmony export */   createAuthError: () => (/* binding */ createAuthError)\n/* harmony export */ });\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _AuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const AuthErrorMessages = {\n    [_AuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unexpectedError]: \"Unexpected error in authentication.\",\n    [_AuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.postRequestFailed]: \"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details.\"\n};\n/**\r\n * AuthErrorMessage class containing string constants used by error codes and messages.\r\n * @deprecated Use AuthErrorCodes instead\r\n */ const AuthErrorMessage = {\n    unexpectedError: {\n        code: _AuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unexpectedError,\n        desc: AuthErrorMessages[_AuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unexpectedError]\n    },\n    postRequestFailed: {\n        code: _AuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.postRequestFailed,\n        desc: AuthErrorMessages[_AuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.postRequestFailed]\n    }\n};\n/**\r\n * General error class thrown by the MSAL.js library.\r\n */ class AuthError extends Error {\n    constructor(errorCode, errorMessage, suberror){\n        const errorString = errorMessage ? `${errorCode}: ${errorMessage}` : errorCode;\n        super(errorString);\n        Object.setPrototypeOf(this, AuthError.prototype);\n        this.errorCode = errorCode || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.EMPTY_STRING;\n        this.errorMessage = errorMessage || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.EMPTY_STRING;\n        this.subError = suberror || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.EMPTY_STRING;\n        this.name = \"AuthError\";\n    }\n    setCorrelationId(correlationId) {\n        this.correlationId = correlationId;\n    }\n}\nfunction createAuthError(code, additionalMessage) {\n    return new AuthError(code, additionalMessage ? `${AuthErrorMessages[code]} ${additionalMessage}` : AuthErrorMessages[code]);\n}\n //# sourceMappingURL=AuthError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvQXV0aEVycm9yLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ21EO0FBQ3VCO0FBQ25CO0FBQzdCO0FBRTFCOzs7Q0FHQyxHQUNELE1BQU1JLG9CQUFvQjtJQUN0QixDQUFDSCxnRUFBZUEsQ0FBQyxFQUFFO0lBQ25CLENBQUNDLGtFQUFpQkEsQ0FBQyxFQUFFO0FBQ3pCO0FBQ0E7OztDQUdDLEdBQ0QsTUFBTUcsbUJBQW1CO0lBQ3JCSixpQkFBaUI7UUFDYkssTUFBTUwsZ0VBQWVBO1FBQ3JCTSxNQUFNSCxpQkFBaUIsQ0FBQ0gsZ0VBQWVBLENBQUM7SUFDNUM7SUFDQUMsbUJBQW1CO1FBQ2ZJLE1BQU1KLGtFQUFpQkE7UUFDdkJLLE1BQU1ILGlCQUFpQixDQUFDRixrRUFBaUJBLENBQUM7SUFDOUM7QUFDSjtBQUNBOztDQUVDLEdBQ0QsTUFBTU0sa0JBQWtCQztJQUNwQkMsWUFBWUMsU0FBUyxFQUFFQyxZQUFZLEVBQUVDLFFBQVEsQ0FBRTtRQUMzQyxNQUFNQyxjQUFjRixlQUNkLENBQUMsRUFBRUQsVUFBVSxFQUFFLEVBQUVDLGFBQWEsQ0FBQyxHQUMvQkQ7UUFDTixLQUFLLENBQUNHO1FBQ05DLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUVSLFVBQVVTLFNBQVM7UUFDL0MsSUFBSSxDQUFDTixTQUFTLEdBQUdBLGFBQWFYLDJEQUFTQSxDQUFDa0IsWUFBWTtRQUNwRCxJQUFJLENBQUNOLFlBQVksR0FBR0EsZ0JBQWdCWiwyREFBU0EsQ0FBQ2tCLFlBQVk7UUFDMUQsSUFBSSxDQUFDQyxRQUFRLEdBQUdOLFlBQVliLDJEQUFTQSxDQUFDa0IsWUFBWTtRQUNsRCxJQUFJLENBQUNFLElBQUksR0FBRztJQUNoQjtJQUNBQyxpQkFBaUJDLGFBQWEsRUFBRTtRQUM1QixJQUFJLENBQUNBLGFBQWEsR0FBR0E7SUFDekI7QUFDSjtBQUNBLFNBQVNDLGdCQUFnQmpCLElBQUksRUFBRWtCLGlCQUFpQjtJQUM1QyxPQUFPLElBQUloQixVQUFVRixNQUFNa0Isb0JBQ3JCLENBQUMsRUFBRXBCLGlCQUFpQixDQUFDRSxLQUFLLENBQUMsQ0FBQyxFQUFFa0Isa0JBQWtCLENBQUMsR0FDakRwQixpQkFBaUIsQ0FBQ0UsS0FBSztBQUNqQztBQUUyRSxDQUMzRSxzQ0FBc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvQXV0aEVycm9yLm1qcz8zNGU3Il0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgQ29uc3RhbnRzIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyB1bmV4cGVjdGVkRXJyb3IsIHBvc3RSZXF1ZXN0RmFpbGVkIH0gZnJvbSAnLi9BdXRoRXJyb3JDb2Rlcy5tanMnO1xuaW1wb3J0ICogYXMgQXV0aEVycm9yQ29kZXMgZnJvbSAnLi9BdXRoRXJyb3JDb2Rlcy5tanMnO1xuZXhwb3J0IHsgQXV0aEVycm9yQ29kZXMgfTtcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IEF1dGhFcnJvck1lc3NhZ2VzID0ge1xyXG4gICAgW3VuZXhwZWN0ZWRFcnJvcl06IFwiVW5leHBlY3RlZCBlcnJvciBpbiBhdXRoZW50aWNhdGlvbi5cIixcclxuICAgIFtwb3N0UmVxdWVzdEZhaWxlZF06IFwiUG9zdCByZXF1ZXN0IGZhaWxlZCBmcm9tIHRoZSBuZXR3b3JrLCBjb3VsZCBiZSBhIDR4eC81eHggb3IgYSBuZXR3b3JrIHVuYXZhaWxhYmlsaXR5LiBQbGVhc2UgY2hlY2sgdGhlIGV4YWN0IGVycm9yIGNvZGUgZm9yIGRldGFpbHMuXCIsXHJcbn07XHJcbi8qKlxyXG4gKiBBdXRoRXJyb3JNZXNzYWdlIGNsYXNzIGNvbnRhaW5pbmcgc3RyaW5nIGNvbnN0YW50cyB1c2VkIGJ5IGVycm9yIGNvZGVzIGFuZCBtZXNzYWdlcy5cclxuICogQGRlcHJlY2F0ZWQgVXNlIEF1dGhFcnJvckNvZGVzIGluc3RlYWRcclxuICovXHJcbmNvbnN0IEF1dGhFcnJvck1lc3NhZ2UgPSB7XHJcbiAgICB1bmV4cGVjdGVkRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiB1bmV4cGVjdGVkRXJyb3IsXHJcbiAgICAgICAgZGVzYzogQXV0aEVycm9yTWVzc2FnZXNbdW5leHBlY3RlZEVycm9yXSxcclxuICAgIH0sXHJcbiAgICBwb3N0UmVxdWVzdEZhaWxlZDoge1xyXG4gICAgICAgIGNvZGU6IHBvc3RSZXF1ZXN0RmFpbGVkLFxyXG4gICAgICAgIGRlc2M6IEF1dGhFcnJvck1lc3NhZ2VzW3Bvc3RSZXF1ZXN0RmFpbGVkXSxcclxuICAgIH0sXHJcbn07XHJcbi8qKlxyXG4gKiBHZW5lcmFsIGVycm9yIGNsYXNzIHRocm93biBieSB0aGUgTVNBTC5qcyBsaWJyYXJ5LlxyXG4gKi9cclxuY2xhc3MgQXV0aEVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2UsIHN1YmVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgZXJyb3JTdHJpbmcgPSBlcnJvck1lc3NhZ2VcclxuICAgICAgICAgICAgPyBgJHtlcnJvckNvZGV9OiAke2Vycm9yTWVzc2FnZX1gXHJcbiAgICAgICAgICAgIDogZXJyb3JDb2RlO1xyXG4gICAgICAgIHN1cGVyKGVycm9yU3RyaW5nKTtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQXV0aEVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgdGhpcy5lcnJvckNvZGUgPSBlcnJvckNvZGUgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORztcclxuICAgICAgICB0aGlzLmVycm9yTWVzc2FnZSA9IGVycm9yTWVzc2FnZSB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgIHRoaXMuc3ViRXJyb3IgPSBzdWJlcnJvciB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwiQXV0aEVycm9yXCI7XHJcbiAgICB9XHJcbiAgICBzZXRDb3JyZWxhdGlvbklkKGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICB0aGlzLmNvcnJlbGF0aW9uSWQgPSBjb3JyZWxhdGlvbklkO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIGNyZWF0ZUF1dGhFcnJvcihjb2RlLCBhZGRpdGlvbmFsTWVzc2FnZSkge1xyXG4gICAgcmV0dXJuIG5ldyBBdXRoRXJyb3IoY29kZSwgYWRkaXRpb25hbE1lc3NhZ2VcclxuICAgICAgICA/IGAke0F1dGhFcnJvck1lc3NhZ2VzW2NvZGVdfSAke2FkZGl0aW9uYWxNZXNzYWdlfWBcclxuICAgICAgICA6IEF1dGhFcnJvck1lc3NhZ2VzW2NvZGVdKTtcclxufVxuXG5leHBvcnQgeyBBdXRoRXJyb3IsIEF1dGhFcnJvck1lc3NhZ2UsIEF1dGhFcnJvck1lc3NhZ2VzLCBjcmVhdGVBdXRoRXJyb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF1dGhFcnJvci5tanMubWFwXG4iXSwibmFtZXMiOlsiQ29uc3RhbnRzIiwidW5leHBlY3RlZEVycm9yIiwicG9zdFJlcXVlc3RGYWlsZWQiLCJBdXRoRXJyb3JDb2RlcyIsIkF1dGhFcnJvck1lc3NhZ2VzIiwiQXV0aEVycm9yTWVzc2FnZSIsImNvZGUiLCJkZXNjIiwiQXV0aEVycm9yIiwiRXJyb3IiLCJjb25zdHJ1Y3RvciIsImVycm9yQ29kZSIsImVycm9yTWVzc2FnZSIsInN1YmVycm9yIiwiZXJyb3JTdHJpbmciLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIkVNUFRZX1NUUklORyIsInN1YkVycm9yIiwibmFtZSIsInNldENvcnJlbGF0aW9uSWQiLCJjb3JyZWxhdGlvbklkIiwiY3JlYXRlQXV0aEVycm9yIiwiYWRkaXRpb25hbE1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/AuthErrorCodes.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/AuthErrorCodes.mjs ***!
  \***********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   postRequestFailed: () => (/* binding */ postRequestFailed),\n/* harmony export */   unexpectedError: () => (/* binding */ unexpectedError)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * AuthErrorMessage class containing string constants used by error codes and messages.\r\n */ const unexpectedError = \"unexpected_error\";\nconst postRequestFailed = \"post_request_failed\";\n //# sourceMappingURL=AuthErrorCodes.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvQXV0aEVycm9yQ29kZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0Q7O0NBRUMsR0FDRCxNQUFNQSxrQkFBa0I7QUFDeEIsTUFBTUMsb0JBQW9CO0FBRW9CLENBQzlDLDJDQUEyQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9lcnJvci9BdXRoRXJyb3JDb2Rlcy5tanM/Y2M3YyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQXV0aEVycm9yTWVzc2FnZSBjbGFzcyBjb250YWluaW5nIHN0cmluZyBjb25zdGFudHMgdXNlZCBieSBlcnJvciBjb2RlcyBhbmQgbWVzc2FnZXMuXHJcbiAqL1xyXG5jb25zdCB1bmV4cGVjdGVkRXJyb3IgPSBcInVuZXhwZWN0ZWRfZXJyb3JcIjtcclxuY29uc3QgcG9zdFJlcXVlc3RGYWlsZWQgPSBcInBvc3RfcmVxdWVzdF9mYWlsZWRcIjtcblxuZXhwb3J0IHsgcG9zdFJlcXVlc3RGYWlsZWQsIHVuZXhwZWN0ZWRFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXV0aEVycm9yQ29kZXMubWpzLm1hcFxuIl0sIm5hbWVzIjpbInVuZXhwZWN0ZWRFcnJvciIsInBvc3RSZXF1ZXN0RmFpbGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/AuthErrorCodes.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/CacheError.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/CacheError.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CacheError: () => (/* binding */ CacheError),\n/* harmony export */   CacheErrorCodes: () => (/* reexport module object */ _CacheErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   CacheErrorMessages: () => (/* binding */ CacheErrorMessages)\n/* harmony export */ });\n/* harmony import */ var _CacheErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CacheErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/CacheErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const CacheErrorMessages = {\n    [_CacheErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cacheQuotaExceededErrorCode]: \"Exceeded cache storage capacity.\",\n    [_CacheErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cacheUnknownErrorCode]: \"Unexpected error occurred when using cache storage.\"\n};\n/**\r\n * Error thrown when there is an error with the cache\r\n */ class CacheError extends Error {\n    constructor(errorCode, errorMessage){\n        const message = errorMessage || (CacheErrorMessages[errorCode] ? CacheErrorMessages[errorCode] : CacheErrorMessages[_CacheErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cacheUnknownErrorCode]);\n        super(`${errorCode}: ${message}`);\n        Object.setPrototypeOf(this, CacheError.prototype);\n        this.name = \"CacheError\";\n        this.errorCode = errorCode;\n        this.errorMessage = message;\n    }\n}\n //# sourceMappingURL=CacheError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvQ2FjaGVFcnJvci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUMyRjtBQUNsQztBQUM5QjtBQUUzQjs7O0NBR0MsR0FDRCxNQUFNRyxxQkFBcUI7SUFDdkIsQ0FBQ0YsNkVBQTJCQSxDQUFDLEVBQUU7SUFDL0IsQ0FBQ0QsdUVBQXFCQSxDQUFDLEVBQUU7QUFDN0I7QUFDQTs7Q0FFQyxHQUNELE1BQU1JLG1CQUFtQkM7SUFDckJDLFlBQVlDLFNBQVMsRUFBRUMsWUFBWSxDQUFFO1FBQ2pDLE1BQU1DLFVBQVVELGdCQUNYTCxDQUFBQSxrQkFBa0IsQ0FBQ0ksVUFBVSxHQUN4Qkosa0JBQWtCLENBQUNJLFVBQVUsR0FDN0JKLGtCQUFrQixDQUFDSCx1RUFBcUJBLENBQUM7UUFDbkQsS0FBSyxDQUFDLENBQUMsRUFBRU8sVUFBVSxFQUFFLEVBQUVFLFFBQVEsQ0FBQztRQUNoQ0MsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRVAsV0FBV1EsU0FBUztRQUNoRCxJQUFJLENBQUNDLElBQUksR0FBRztRQUNaLElBQUksQ0FBQ04sU0FBUyxHQUFHQTtRQUNqQixJQUFJLENBQUNDLFlBQVksR0FBR0M7SUFDeEI7QUFDSjtBQUUwQyxDQUMxQyx1Q0FBdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvQ2FjaGVFcnJvci5tanM/MTBiMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IGNhY2hlVW5rbm93bkVycm9yQ29kZSwgY2FjaGVRdW90YUV4Y2VlZGVkRXJyb3JDb2RlIH0gZnJvbSAnLi9DYWNoZUVycm9yQ29kZXMubWpzJztcbmltcG9ydCAqIGFzIENhY2hlRXJyb3JDb2RlcyBmcm9tICcuL0NhY2hlRXJyb3JDb2Rlcy5tanMnO1xuZXhwb3J0IHsgQ2FjaGVFcnJvckNvZGVzIH07XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBDYWNoZUVycm9yTWVzc2FnZXMgPSB7XHJcbiAgICBbY2FjaGVRdW90YUV4Y2VlZGVkRXJyb3JDb2RlXTogXCJFeGNlZWRlZCBjYWNoZSBzdG9yYWdlIGNhcGFjaXR5LlwiLFxyXG4gICAgW2NhY2hlVW5rbm93bkVycm9yQ29kZV06IFwiVW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGVuIHVzaW5nIGNhY2hlIHN0b3JhZ2UuXCIsXHJcbn07XHJcbi8qKlxyXG4gKiBFcnJvciB0aHJvd24gd2hlbiB0aGVyZSBpcyBhbiBlcnJvciB3aXRoIHRoZSBjYWNoZVxyXG4gKi9cclxuY2xhc3MgQ2FjaGVFcnJvciBleHRlbmRzIEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGVycm9yTWVzc2FnZSB8fFxyXG4gICAgICAgICAgICAoQ2FjaGVFcnJvck1lc3NhZ2VzW2Vycm9yQ29kZV1cclxuICAgICAgICAgICAgICAgID8gQ2FjaGVFcnJvck1lc3NhZ2VzW2Vycm9yQ29kZV1cclxuICAgICAgICAgICAgICAgIDogQ2FjaGVFcnJvck1lc3NhZ2VzW2NhY2hlVW5rbm93bkVycm9yQ29kZV0pO1xyXG4gICAgICAgIHN1cGVyKGAke2Vycm9yQ29kZX06ICR7bWVzc2FnZX1gKTtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2FjaGVFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2FjaGVFcnJvclwiO1xyXG4gICAgICAgIHRoaXMuZXJyb3JDb2RlID0gZXJyb3JDb2RlO1xyXG4gICAgICAgIHRoaXMuZXJyb3JNZXNzYWdlID0gbWVzc2FnZTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBDYWNoZUVycm9yLCBDYWNoZUVycm9yTWVzc2FnZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNhY2hlRXJyb3IubWpzLm1hcFxuIl0sIm5hbWVzIjpbImNhY2hlVW5rbm93bkVycm9yQ29kZSIsImNhY2hlUXVvdGFFeGNlZWRlZEVycm9yQ29kZSIsIkNhY2hlRXJyb3JDb2RlcyIsIkNhY2hlRXJyb3JNZXNzYWdlcyIsIkNhY2hlRXJyb3IiLCJFcnJvciIsImNvbnN0cnVjdG9yIiwiZXJyb3JDb2RlIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwibmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/CacheError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/CacheErrorCodes.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/CacheErrorCodes.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cacheQuotaExceededErrorCode: () => (/* binding */ cacheQuotaExceededErrorCode),\n/* harmony export */   cacheUnknownErrorCode: () => (/* binding */ cacheUnknownErrorCode)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const cacheQuotaExceededErrorCode = \"cache_quota_exceeded\";\nconst cacheUnknownErrorCode = \"cache_error_unknown\";\n //# sourceMappingURL=CacheErrorCodes.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvQ2FjaGVFcnJvckNvZGVzLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBOzs7Q0FHQyxHQUNELE1BQU1BLDhCQUE4QjtBQUNwQyxNQUFNQyx3QkFBd0I7QUFFZ0MsQ0FDOUQsNENBQTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2Vycm9yL0NhY2hlRXJyb3JDb2Rlcy5tanM/OTA1YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBjYWNoZVF1b3RhRXhjZWVkZWRFcnJvckNvZGUgPSBcImNhY2hlX3F1b3RhX2V4Y2VlZGVkXCI7XHJcbmNvbnN0IGNhY2hlVW5rbm93bkVycm9yQ29kZSA9IFwiY2FjaGVfZXJyb3JfdW5rbm93blwiO1xuXG5leHBvcnQgeyBjYWNoZVF1b3RhRXhjZWVkZWRFcnJvckNvZGUsIGNhY2hlVW5rbm93bkVycm9yQ29kZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2FjaGVFcnJvckNvZGVzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJjYWNoZVF1b3RhRXhjZWVkZWRFcnJvckNvZGUiLCJjYWNoZVVua25vd25FcnJvckNvZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/CacheErrorCodes.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ClientAuthError: () => (/* binding */ ClientAuthError),\n/* harmony export */   ClientAuthErrorCodes: () => (/* reexport module object */ _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   ClientAuthErrorMessage: () => (/* binding */ ClientAuthErrorMessage),\n/* harmony export */   ClientAuthErrorMessages: () => (/* binding */ ClientAuthErrorMessages),\n/* harmony export */   createClientAuthError: () => (/* binding */ createClientAuthError)\n/* harmony export */ });\n/* harmony import */ var _AuthError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * ClientAuthErrorMessage class containing string constants used by error codes and messages.\r\n */ const ClientAuthErrorMessages = {\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.clientInfoDecodingError]: \"The client info could not be parsed/decoded correctly\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.clientInfoEmptyError]: \"The client info was empty\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.tokenParsingError]: \"Token cannot be parsed\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nullOrEmptyToken]: \"The token is null or empty\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.endpointResolutionError]: \"Endpoints cannot be resolved\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.networkError]: \"Network request failed\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.openIdConfigError]: \"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.hashNotDeserialized]: \"The hash parameters could not be deserialized\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidState]: \"State was not the expected format\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.stateMismatch]: \"State mismatch error\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.stateNotFound]: \"State not found\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nonceMismatch]: \"Nonce mismatch error\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authTimeNotFound]: \"Max Age was requested and the ID token is missing the auth_time variable.\" + \" auth_time is an optional claim and is not enabled by default - it must be enabled.\" + \" See https://aka.ms/msaljs/optional-claims for more information.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.maxAgeTranspired]: \"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.multipleMatchingTokens]: \"The cache contains multiple tokens satisfying the requirements. \" + \"Call AcquireToken again providing more requirements such as authority or account.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.multipleMatchingAccounts]: \"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.multipleMatchingAppMetadata]: \"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.requestCannotBeMade]: \"Token request cannot be made without authorization code or refresh token.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cannotRemoveEmptyScope]: \"Cannot remove null or empty scope from ScopeSet\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cannotAppendScopeSet]: \"Cannot append ScopeSet\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.emptyInputScopeSet]: \"Empty input ScopeSet cannot be processed\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.deviceCodePollingCancelled]: \"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.deviceCodeExpired]: \"Device code is expired.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.deviceCodeUnknownError]: \"Device code stopped polling for unknown reasons.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noAccountInSilentRequest]: \"Please pass an account object, silent flow is not supported without account information\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCacheRecord]: \"Cache record object was null or undefined.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCacheEnvironment]: \"Invalid environment when attempting to create cache entry\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noAccountFound]: \"No account found in cache for given key.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noCryptoObject]: \"No crypto object detected.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unexpectedCredentialType]: \"Unexpected credential type.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidAssertion]: \"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidClientCredential]: \"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.tokenRefreshRequired]: \"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.userTimeoutReached]: \"User defined timeout for device code polling reached\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.tokenClaimsCnfRequiredForSignedJwt]: \"Cannot generate a POP jwt if the token_claims are not populated\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authorizationCodeMissingFromServerResponse]: \"Server response does not contain an authorization code to proceed\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.bindingKeyNotRemoved]: \"Could not remove the credential's binding key from storage.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.endSessionEndpointNotSupported]: \"The provided authority does not support logout\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.keyIdMissing]: \"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noNetworkConnectivity]: \"No network connectivity. Check your internet connection.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.userCanceled]: \"User cancelled the flow.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingTenantIdError]: \"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.methodNotImplemented]: \"This method has not been implemented\",\n    [_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nestedAppAuthBridgeDisabled]: \"The nested app auth bridge is disabled\"\n};\n/**\r\n * String constants used by error codes and messages.\r\n * @deprecated Use ClientAuthErrorCodes instead\r\n */ const ClientAuthErrorMessage = {\n    clientInfoDecodingError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.clientInfoDecodingError,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.clientInfoDecodingError]\n    },\n    clientInfoEmptyError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.clientInfoEmptyError,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.clientInfoEmptyError]\n    },\n    tokenParsingError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.tokenParsingError,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.tokenParsingError]\n    },\n    nullOrEmptyToken: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nullOrEmptyToken,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nullOrEmptyToken]\n    },\n    endpointResolutionError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.endpointResolutionError,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.endpointResolutionError]\n    },\n    networkError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.networkError,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.networkError]\n    },\n    unableToGetOpenidConfigError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.openIdConfigError,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.openIdConfigError]\n    },\n    hashNotDeserialized: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.hashNotDeserialized,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.hashNotDeserialized]\n    },\n    invalidStateError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidState,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidState]\n    },\n    stateMismatchError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.stateMismatch,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.stateMismatch]\n    },\n    stateNotFoundError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.stateNotFound,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.stateNotFound]\n    },\n    nonceMismatchError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nonceMismatch,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nonceMismatch]\n    },\n    authTimeNotFoundError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authTimeNotFound,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authTimeNotFound]\n    },\n    maxAgeTranspired: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.maxAgeTranspired,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.maxAgeTranspired]\n    },\n    multipleMatchingTokens: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.multipleMatchingTokens,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.multipleMatchingTokens]\n    },\n    multipleMatchingAccounts: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.multipleMatchingAccounts,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.multipleMatchingAccounts]\n    },\n    multipleMatchingAppMetadata: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.multipleMatchingAppMetadata,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.multipleMatchingAppMetadata]\n    },\n    tokenRequestCannotBeMade: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.requestCannotBeMade,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.requestCannotBeMade]\n    },\n    removeEmptyScopeError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cannotRemoveEmptyScope,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cannotRemoveEmptyScope]\n    },\n    appendScopeSetError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cannotAppendScopeSet,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cannotAppendScopeSet]\n    },\n    emptyInputScopeSetError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.emptyInputScopeSet,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.emptyInputScopeSet]\n    },\n    DeviceCodePollingCancelled: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.deviceCodePollingCancelled,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.deviceCodePollingCancelled]\n    },\n    DeviceCodeExpired: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.deviceCodeExpired,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.deviceCodeExpired]\n    },\n    DeviceCodeUnknownError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.deviceCodeUnknownError,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.deviceCodeUnknownError]\n    },\n    NoAccountInSilentRequest: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noAccountInSilentRequest,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noAccountInSilentRequest]\n    },\n    invalidCacheRecord: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCacheRecord,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCacheRecord]\n    },\n    invalidCacheEnvironment: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCacheEnvironment,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCacheEnvironment]\n    },\n    noAccountFound: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noAccountFound,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noAccountFound]\n    },\n    noCryptoObj: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noCryptoObject,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noCryptoObject]\n    },\n    unexpectedCredentialType: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unexpectedCredentialType,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.unexpectedCredentialType]\n    },\n    invalidAssertion: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidAssertion,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidAssertion]\n    },\n    invalidClientCredential: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidClientCredential,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidClientCredential]\n    },\n    tokenRefreshRequired: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.tokenRefreshRequired,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.tokenRefreshRequired]\n    },\n    userTimeoutReached: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.userTimeoutReached,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.userTimeoutReached]\n    },\n    tokenClaimsRequired: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.tokenClaimsCnfRequiredForSignedJwt,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.tokenClaimsCnfRequiredForSignedJwt]\n    },\n    noAuthorizationCodeFromServer: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authorizationCodeMissingFromServerResponse,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authorizationCodeMissingFromServerResponse]\n    },\n    bindingKeyNotRemovedError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.bindingKeyNotRemoved,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.bindingKeyNotRemoved]\n    },\n    logoutNotSupported: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.endSessionEndpointNotSupported,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.endSessionEndpointNotSupported]\n    },\n    keyIdMissing: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.keyIdMissing,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.keyIdMissing]\n    },\n    noNetworkConnectivity: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noNetworkConnectivity,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noNetworkConnectivity]\n    },\n    userCanceledError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.userCanceled,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.userCanceled]\n    },\n    missingTenantIdError: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingTenantIdError,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingTenantIdError]\n    },\n    nestedAppAuthBridgeDisabled: {\n        code: _ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nestedAppAuthBridgeDisabled,\n        desc: ClientAuthErrorMessages[_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nestedAppAuthBridgeDisabled]\n    }\n};\n/**\r\n * Error thrown when there is an error in the client code running on the browser.\r\n */ class ClientAuthError extends _AuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthError {\n    constructor(errorCode, additionalMessage){\n        super(errorCode, additionalMessage ? `${ClientAuthErrorMessages[errorCode]}: ${additionalMessage}` : ClientAuthErrorMessages[errorCode]);\n        this.name = \"ClientAuthError\";\n        Object.setPrototypeOf(this, ClientAuthError.prototype);\n    }\n}\nfunction createClientAuthError(errorCode, additionalMessage) {\n    return new ClientAuthError(errorCode, additionalMessage);\n}\n //# sourceMappingURL=ClientAuthError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvQ2xpZW50QXV0aEVycm9yLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQzRDO0FBQ3U4QjtBQUNoN0I7QUFDbkM7QUFFaEM7OztDQUdDLEdBQ0Q7O0NBRUMsR0FDRCxNQUFNOEMsMEJBQTBCO0lBQzVCLENBQUM3Qyw4RUFBdUJBLENBQUMsRUFBRTtJQUMzQixDQUFDQywyRUFBb0JBLENBQUMsRUFBRTtJQUN4QixDQUFDQyx3RUFBaUJBLENBQUMsRUFBRTtJQUNyQixDQUFDQyx1RUFBZ0JBLENBQUMsRUFBRTtJQUNwQixDQUFDQyw4RUFBdUJBLENBQUMsRUFBRTtJQUMzQixDQUFDQyxtRUFBWUEsQ0FBQyxFQUFFO0lBQ2hCLENBQUNDLHdFQUFpQkEsQ0FBQyxFQUFFO0lBQ3JCLENBQUNDLDBFQUFtQkEsQ0FBQyxFQUFFO0lBQ3ZCLENBQUNDLG1FQUFZQSxDQUFDLEVBQUU7SUFDaEIsQ0FBQ0Msb0VBQWFBLENBQUMsRUFBRTtJQUNqQixDQUFDQyxvRUFBYUEsQ0FBQyxFQUFFO0lBQ2pCLENBQUNDLG9FQUFhQSxDQUFDLEVBQUU7SUFDakIsQ0FBQ0MsdUVBQWdCQSxDQUFDLEVBQUUsOEVBQ2hCLHdGQUNBO0lBQ0osQ0FBQ0MsdUVBQWdCQSxDQUFDLEVBQUU7SUFDcEIsQ0FBQ0MsNkVBQXNCQSxDQUFDLEVBQUUscUVBQ3RCO0lBQ0osQ0FBQ0MsK0VBQXdCQSxDQUFDLEVBQUU7SUFDNUIsQ0FBQ0Msa0ZBQTJCQSxDQUFDLEVBQUU7SUFDL0IsQ0FBQ0MsMEVBQW1CQSxDQUFDLEVBQUU7SUFDdkIsQ0FBQ0MsNkVBQXNCQSxDQUFDLEVBQUU7SUFDMUIsQ0FBQ0MsMkVBQW9CQSxDQUFDLEVBQUU7SUFDeEIsQ0FBQ0MseUVBQWtCQSxDQUFDLEVBQUU7SUFDdEIsQ0FBQ0MsaUZBQTBCQSxDQUFDLEVBQUU7SUFDOUIsQ0FBQ0Msd0VBQWlCQSxDQUFD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QUlILGdCQUFnQkUsV0FBV0M7QUFDMUM7QUFFbUcsQ0FDbkcsNENBQTRDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2Vycm9yL0NsaWVudEF1dGhFcnJvci5tanM/MmI2NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4vQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBjbGllbnRJbmZvRGVjb2RpbmdFcnJvciwgY2xpZW50SW5mb0VtcHR5RXJyb3IsIHRva2VuUGFyc2luZ0Vycm9yLCBudWxsT3JFbXB0eVRva2VuLCBlbmRwb2ludFJlc29sdXRpb25FcnJvciwgbmV0d29ya0Vycm9yLCBvcGVuSWRDb25maWdFcnJvciwgaGFzaE5vdERlc2VyaWFsaXplZCwgaW52YWxpZFN0YXRlLCBzdGF0ZU1pc21hdGNoLCBzdGF0ZU5vdEZvdW5kLCBub25jZU1pc21hdGNoLCBhdXRoVGltZU5vdEZvdW5kLCBtYXhBZ2VUcmFuc3BpcmVkLCBtdWx0aXBsZU1hdGNoaW5nVG9rZW5zLCBtdWx0aXBsZU1hdGNoaW5nQWNjb3VudHMsIG11bHRpcGxlTWF0Y2hpbmdBcHBNZXRhZGF0YSwgcmVxdWVzdENhbm5vdEJlTWFkZSwgY2Fubm90UmVtb3ZlRW1wdHlTY29wZSwgY2Fubm90QXBwZW5kU2NvcGVTZXQsIGVtcHR5SW5wdXRTY29wZVNldCwgZGV2aWNlQ29kZVBvbGxpbmdDYW5jZWxsZWQsIGRldmljZUNvZGVFeHBpcmVkLCBkZXZpY2VDb2RlVW5rbm93bkVycm9yLCBub0FjY291bnRJblNpbGVudFJlcXVlc3QsIGludmFsaWRDYWNoZVJlY29yZCwgaW52YWxpZENhY2hlRW52aXJvbm1lbnQsIG5vQWNjb3VudEZvdW5kLCBub0NyeXB0b09iamVjdCwgdW5leHBlY3RlZENyZWRlbnRpYWxUeXBlLCBpbnZhbGlkQXNzZXJ0aW9uLCBpbnZhbGlkQ2xpZW50Q3JlZGVudGlhbCwgdG9rZW5SZWZyZXNoUmVxdWlyZWQsIHVzZXJUaW1lb3V0UmVhY2hlZCwgdG9rZW5DbGFpbXNDbmZSZXF1aXJlZEZvclNpZ25lZEp3dCwgYXV0aG9yaXphdGlvbkNvZGVNaXNzaW5nRnJvbVNlcnZlclJlc3BvbnNlLCBiaW5kaW5nS2V5Tm90UmVtb3ZlZCwgZW5kU2Vzc2lvbkVuZHBvaW50Tm90U3VwcG9ydGVkLCBrZXlJZE1pc3NpbmcsIG5vTmV0d29ya0Nvbm5lY3Rpdml0eSwgdXNlckNhbmNlbGVkLCBtaXNzaW5nVGVuYW50SWRFcnJvciwgbmVzdGVkQXBwQXV0aEJyaWRnZURpc2FibGVkLCBtZXRob2ROb3RJbXBsZW1lbnRlZCB9IGZyb20gJy4vQ2xpZW50QXV0aEVycm9yQ29kZXMubWpzJztcbmltcG9ydCAqIGFzIENsaWVudEF1dGhFcnJvckNvZGVzIGZyb20gJy4vQ2xpZW50QXV0aEVycm9yQ29kZXMubWpzJztcbmV4cG9ydCB7IENsaWVudEF1dGhFcnJvckNvZGVzIH07XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ2xpZW50QXV0aEVycm9yTWVzc2FnZSBjbGFzcyBjb250YWluaW5nIHN0cmluZyBjb25zdGFudHMgdXNlZCBieSBlcnJvciBjb2RlcyBhbmQgbWVzc2FnZXMuXHJcbiAqL1xyXG5jb25zdCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlcyA9IHtcclxuICAgIFtjbGllbnRJbmZvRGVjb2RpbmdFcnJvcl06IFwiVGhlIGNsaWVudCBpbmZvIGNvdWxkIG5vdCBiZSBwYXJzZWQvZGVjb2RlZCBjb3JyZWN0bHlcIixcclxuICAgIFtjbGllbnRJbmZvRW1wdHlFcnJvcl06IFwiVGhlIGNsaWVudCBpbmZvIHdhcyBlbXB0eVwiLFxyXG4gICAgW3Rva2VuUGFyc2luZ0Vycm9yXTogXCJUb2tlbiBjYW5ub3QgYmUgcGFyc2VkXCIsXHJcbiAgICBbbnVsbE9yRW1wdHlUb2tlbl06IFwiVGhlIHRva2VuIGlzIG51bGwgb3IgZW1wdHlcIixcclxuICAgIFtlbmRwb2ludFJlc29sdXRpb25FcnJvcl06IFwiRW5kcG9pbnRzIGNhbm5vdCBiZSByZXNvbHZlZFwiLFxyXG4gICAgW25ldHdvcmtFcnJvcl06IFwiTmV0d29yayByZXF1ZXN0IGZhaWxlZFwiLFxyXG4gICAgW29wZW5JZENvbmZpZ0Vycm9yXTogXCJDb3VsZCBub3QgcmV0cmlldmUgZW5kcG9pbnRzLiBDaGVjayB5b3VyIGF1dGhvcml0eSBhbmQgdmVyaWZ5IHRoZSAud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvbiBlbmRwb2ludCByZXR1cm5zIHRoZSByZXF1aXJlZCBlbmRwb2ludHMuXCIsXHJcbiAgICBbaGFzaE5vdERlc2VyaWFsaXplZF06IFwiVGhlIGhhc2ggcGFyYW1ldGVycyBjb3VsZCBub3QgYmUgZGVzZXJpYWxpemVkXCIsXHJcbiAgICBbaW52YWxpZFN0YXRlXTogXCJTdGF0ZSB3YXMgbm90IHRoZSBleHBlY3RlZCBmb3JtYXRcIixcclxuICAgIFtzdGF0ZU1pc21hdGNoXTogXCJTdGF0ZSBtaXNtYXRjaCBlcnJvclwiLFxyXG4gICAgW3N0YXRlTm90Rm91bmRdOiBcIlN0YXRlIG5vdCBmb3VuZFwiLFxyXG4gICAgW25vbmNlTWlzbWF0Y2hdOiBcIk5vbmNlIG1pc21hdGNoIGVycm9yXCIsXHJcbiAgICBbYXV0aFRpbWVOb3RGb3VuZF06IFwiTWF4IEFnZSB3YXMgcmVxdWVzdGVkIGFuZCB0aGUgSUQgdG9rZW4gaXMgbWlzc2luZyB0aGUgYXV0aF90aW1lIHZhcmlhYmxlLlwiICtcclxuICAgICAgICBcIiBhdXRoX3RpbWUgaXMgYW4gb3B0aW9uYWwgY2xhaW0gYW5kIGlzIG5vdCBlbmFibGVkIGJ5IGRlZmF1bHQgLSBpdCBtdXN0IGJlIGVuYWJsZWQuXCIgK1xyXG4gICAgICAgIFwiIFNlZSBodHRwczovL2FrYS5tcy9tc2FsanMvb3B0aW9uYWwtY2xhaW1zIGZvciBtb3JlIGluZm9ybWF0aW9uLlwiLFxyXG4gICAgW21heEFnZVRyYW5zcGlyZWRdOiBcIk1heCBBZ2UgaXMgc2V0IHRvIDAsIG9yIHRvbyBtdWNoIHRpbWUgaGFzIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgZW5kLXVzZXIgYXV0aGVudGljYXRpb24uXCIsXHJcbiAgICBbbXVsdGlwbGVNYXRjaGluZ1Rva2Vuc106IFwiVGhlIGNhY2hlIGNvbnRhaW5zIG11bHRpcGxlIHRva2VucyBzYXRpc2Z5aW5nIHRoZSByZXF1aXJlbWVudHMuIFwiICtcclxuICAgICAgICBcIkNhbGwgQWNxdWlyZVRva2VuIGFnYWluIHByb3ZpZGluZyBtb3JlIHJlcXVpcmVtZW50cyBzdWNoIGFzIGF1dGhvcml0eSBvciBhY2NvdW50LlwiLFxyXG4gICAgW211bHRpcGxlTWF0Y2hpbmdBY2NvdW50c106IFwiVGhlIGNhY2hlIGNvbnRhaW5zIG11bHRpcGxlIGFjY291bnRzIHNhdGlzZnlpbmcgdGhlIGdpdmVuIHBhcmFtZXRlcnMuIFBsZWFzZSBwYXNzIG1vcmUgaW5mbyB0byBvYnRhaW4gdGhlIGNvcnJlY3QgYWNjb3VudFwiLFxyXG4gICAgW211bHRpcGxlTWF0Y2hpbmdBcHBNZXRhZGF0YV06IFwiVGhlIGNhY2hlIGNvbnRhaW5zIG11bHRpcGxlIGFwcE1ldGFkYXRhIHNhdGlzZnlpbmcgdGhlIGdpdmVuIHBhcmFtZXRlcnMuIFBsZWFzZSBwYXNzIG1vcmUgaW5mbyB0byBvYnRhaW4gdGhlIGNvcnJlY3QgYXBwTWV0YWRhdGFcIixcclxuICAgIFtyZXF1ZXN0Q2Fubm90QmVNYWRlXTogXCJUb2tlbiByZXF1ZXN0IGNhbm5vdCBiZSBtYWRlIHdpdGhvdXQgYXV0aG9yaXphdGlvbiBjb2RlIG9yIHJlZnJlc2ggdG9rZW4uXCIsXHJcbiAgICBbY2Fubm90UmVtb3ZlRW1wdHlTY29wZV06IFwiQ2Fubm90IHJlbW92ZSBudWxsIG9yIGVtcHR5IHNjb3BlIGZyb20gU2NvcGVTZXRcIixcclxuICAgIFtjYW5ub3RBcHBlbmRTY29wZVNldF06IFwiQ2Fubm90IGFwcGVuZCBTY29wZVNldFwiLFxyXG4gICAgW2VtcHR5SW5wdXRTY29wZVNldF06IFwiRW1wdHkgaW5wdXQgU2NvcGVTZXQgY2Fubm90IGJlIHByb2Nlc3NlZFwiLFxyXG4gICAgW2RldmljZUNvZGVQb2xsaW5nQ2FuY2VsbGVkXTogXCJDYWxsZXIgaGFzIGNhbmNlbGxlZCB0b2tlbiBlbmRwb2ludCBwb2xsaW5nIGR1cmluZyBkZXZpY2UgY29kZSBmbG93IGJ5IHNldHRpbmcgRGV2aWNlQ29kZVJlcXVlc3QuY2FuY2VsID0gdHJ1ZS5cIixcclxuICAgIFtkZXZpY2VDb2RlRXhwaXJlZF06IFwiRGV2aWNlIGNvZGUgaXMgZXhwaXJlZC5cIixcclxuICAgIFtkZXZpY2VDb2RlVW5rbm93bkVycm9yXTogXCJEZXZpY2UgY29kZSBzdG9wcGVkIHBvbGxpbmcgZm9yIHVua25vd24gcmVhc29ucy5cIixcclxuICAgIFtub0FjY291bnRJblNpbGVudFJlcXVlc3RdOiBcIlBsZWFzZSBwYXNzIGFuIGFjY291bnQgb2JqZWN0LCBzaWxlbnQgZmxvdyBpcyBub3Qgc3VwcG9ydGVkIHdpdGhvdXQgYWNjb3VudCBpbmZvcm1hdGlvblwiLFxyXG4gICAgW2ludmFsaWRDYWNoZVJlY29yZF06IFwiQ2FjaGUgcmVjb3JkIG9iamVjdCB3YXMgbnVsbCBvciB1bmRlZmluZWQuXCIsXHJcbiAgICBbaW52YWxpZENhY2hlRW52aXJvbm1lbnRdOiBcIkludmFsaWQgZW52aXJvbm1lbnQgd2hlbiBhdHRlbXB0aW5nIHRvIGNyZWF0ZSBjYWNoZSBlbnRyeVwiLFxyXG4gICAgW25vQWNjb3VudEZvdW5kXTogXCJObyBhY2NvdW50IGZvdW5kIGluIGNhY2hlIGZvciBnaXZlbiBrZXkuXCIsXHJcbiAgICBbbm9DcnlwdG9PYmplY3RdOiBcIk5vIGNyeXB0byBvYmplY3QgZGV0ZWN0ZWQuXCIsXHJcbiAgICBbdW5leHBlY3RlZENyZWRlbnRpYWxUeXBlXTogXCJVbmV4cGVjdGVkIGNyZWRlbnRpYWwgdHlwZS5cIixcclxuICAgIFtpbnZhbGlkQXNzZXJ0aW9uXTogXCJDbGllbnQgYXNzZXJ0aW9uIG11c3QgbWVldCByZXF1aXJlbWVudHMgZGVzY3JpYmVkIGluIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3NTE1XCIsXHJcbiAgICBbaW52YWxpZENsaWVudENyZWRlbnRpYWxdOiBcIkNsaWVudCBjcmVkZW50aWFsIChzZWNyZXQsIGNlcnRpZmljYXRlLCBvciBhc3NlcnRpb24pIG11c3Qgbm90IGJlIGVtcHR5IHdoZW4gY3JlYXRpbmcgYSBjb25maWRlbnRpYWwgY2xpZW50LiBBbiBhcHBsaWNhdGlvbiBzaG91bGQgYXQgbW9zdCBoYXZlIG9uZSBjcmVkZW50aWFsXCIsXHJcbiAgICBbdG9rZW5SZWZyZXNoUmVxdWlyZWRdOiBcIkNhbm5vdCByZXR1cm4gdG9rZW4gZnJvbSBjYWNoZSBiZWNhdXNlIGl0IG11c3QgYmUgcmVmcmVzaGVkLiBUaGlzIG1heSBiZSBkdWUgdG8gb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczogZm9yY2VSZWZyZXNoIHBhcmFtZXRlciBpcyBzZXQgdG8gdHJ1ZSwgY2xhaW1zIGhhdmUgYmVlbiByZXF1ZXN0ZWQsIHRoZXJlIGlzIG5vIGNhY2hlZCBhY2Nlc3MgdG9rZW4gb3IgaXQgaXMgZXhwaXJlZC5cIixcclxuICAgIFt1c2VyVGltZW91dFJlYWNoZWRdOiBcIlVzZXIgZGVmaW5lZCB0aW1lb3V0IGZvciBkZXZpY2UgY29kZSBwb2xsaW5nIHJlYWNoZWRcIixcclxuICAgIFt0b2tlbkNsYWltc0NuZlJlcXVpcmVkRm9yU2lnbmVkSnd0XTogXCJDYW5ub3QgZ2VuZXJhdGUgYSBQT1Agand0IGlmIHRoZSB0b2tlbl9jbGFpbXMgYXJlIG5vdCBwb3B1bGF0ZWRcIixcclxuICAgIFthdXRob3JpemF0aW9uQ29kZU1pc3NpbmdGcm9tU2VydmVyUmVzcG9uc2VdOiBcIlNlcnZlciByZXNwb25zZSBkb2VzIG5vdCBjb250YWluIGFuIGF1dGhvcml6YXRpb24gY29kZSB0byBwcm9jZWVkXCIsXHJcbiAgICBbYmluZGluZ0tleU5vdFJlbW92ZWRdOiBcIkNvdWxkIG5vdCByZW1vdmUgdGhlIGNyZWRlbnRpYWwncyBiaW5kaW5nIGtleSBmcm9tIHN0b3JhZ2UuXCIsXHJcbiAgICBbZW5kU2Vzc2lvbkVuZHBvaW50Tm90U3VwcG9ydGVkXTogXCJUaGUgcHJvdmlkZWQgYXV0aG9yaXR5IGRvZXMgbm90IHN1cHBvcnQgbG9nb3V0XCIsXHJcbiAgICBba2V5SWRNaXNzaW5nXTogXCJBIGtleUlkIHZhbHVlIGlzIG1pc3NpbmcgZnJvbSB0aGUgcmVxdWVzdGVkIGJvdW5kIHRva2VuJ3MgY2FjaGUgcmVjb3JkIGFuZCBpcyByZXF1aXJlZCB0byBtYXRjaCB0aGUgdG9rZW4gdG8gaXQncyBzdG9yZWQgYmluZGluZyBrZXkuXCIsXHJcbiAgICBbbm9OZXR3b3JrQ29ubmVjdGl2aXR5XTogXCJObyBuZXR3b3JrIGNvbm5lY3Rpdml0eS4gQ2hlY2sgeW91ciBpbnRlcm5ldCBjb25uZWN0aW9uLlwiLFxyXG4gICAgW3VzZXJDYW5jZWxlZF06IFwiVXNlciBjYW5jZWxsZWQgdGhlIGZsb3cuXCIsXHJcbiAgICBbbWlzc2luZ1RlbmFudElkRXJyb3JdOiBcIkEgdGVuYW50IGlkIC0gbm90IGNvbW1vbiwgb3JnYW5pemF0aW9ucywgb3IgY29uc3VtZXJzIC0gbXVzdCBiZSBzcGVjaWZpZWQgd2hlbiB1c2luZyB0aGUgY2xpZW50X2NyZWRlbnRpYWxzIGZsb3cuXCIsXHJcbiAgICBbbWV0aG9kTm90SW1wbGVtZW50ZWRdOiBcIlRoaXMgbWV0aG9kIGhhcyBub3QgYmVlbiBpbXBsZW1lbnRlZFwiLFxyXG4gICAgW25lc3RlZEFwcEF1dGhCcmlkZ2VEaXNhYmxlZF06IFwiVGhlIG5lc3RlZCBhcHAgYXV0aCBicmlkZ2UgaXMgZGlzYWJsZWRcIixcclxufTtcclxuLyoqXHJcbiAqIFN0cmluZyBjb25zdGFudHMgdXNlZCBieSBlcnJvciBjb2RlcyBhbmQgbWVzc2FnZXMuXHJcbiAqIEBkZXByZWNhdGVkIFVzZSBDbGllbnRBdXRoRXJyb3JDb2RlcyBpbnN0ZWFkXHJcbiAqL1xyXG5jb25zdCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlID0ge1xyXG4gICAgY2xpZW50SW5mb0RlY29kaW5nRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBjbGllbnRJbmZvRGVjb2RpbmdFcnJvcixcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1tjbGllbnRJbmZvRGVjb2RpbmdFcnJvcl0sXHJcbiAgICB9LFxyXG4gICAgY2xpZW50SW5mb0VtcHR5RXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBjbGllbnRJbmZvRW1wdHlFcnJvcixcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1tjbGllbnRJbmZvRW1wdHlFcnJvcl0sXHJcbiAgICB9LFxyXG4gICAgdG9rZW5QYXJzaW5nRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiB0b2tlblBhcnNpbmdFcnJvcixcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1t0b2tlblBhcnNpbmdFcnJvcl0sXHJcbiAgICB9LFxyXG4gICAgbnVsbE9yRW1wdHlUb2tlbjoge1xyXG4gICAgICAgIGNvZGU6IG51bGxPckVtcHR5VG9rZW4sXHJcbiAgICAgICAgZGVzYzogQ2xpZW50QXV0aEVycm9yTWVzc2FnZXNbbnVsbE9yRW1wdHlUb2tlbl0sXHJcbiAgICB9LFxyXG4gICAgZW5kcG9pbnRSZXNvbHV0aW9uRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBlbmRwb2ludFJlc29sdXRpb25FcnJvcixcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1tlbmRwb2ludFJlc29sdXRpb25FcnJvcl0sXHJcbiAgICB9LFxyXG4gICAgbmV0d29ya0Vycm9yOiB7XHJcbiAgICAgICAgY29kZTogbmV0d29ya0Vycm9yLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW25ldHdvcmtFcnJvcl0sXHJcbiAgICB9LFxyXG4gICAgdW5hYmxlVG9HZXRPcGVuaWRDb25maWdFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IG9wZW5JZENvbmZpZ0Vycm9yLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW29wZW5JZENvbmZpZ0Vycm9yXSxcclxuICAgIH0sXHJcbiAgICBoYXNoTm90RGVzZXJpYWxpemVkOiB7XHJcbiAgICAgICAgY29kZTogaGFzaE5vdERlc2VyaWFsaXplZCxcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1toYXNoTm90RGVzZXJpYWxpemVkXSxcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkU3RhdGVFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IGludmFsaWRTdGF0ZSxcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1tpbnZhbGlkU3RhdGVdLFxyXG4gICAgfSxcclxuICAgIHN0YXRlTWlzbWF0Y2hFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IHN0YXRlTWlzbWF0Y2gsXHJcbiAgICAgICAgZGVzYzogQ2xpZW50QXV0aEVycm9yTWVzc2FnZXNbc3RhdGVNaXNtYXRjaF0sXHJcbiAgICB9LFxyXG4gICAgc3RhdGVOb3RGb3VuZEVycm9yOiB7XHJcbiAgICAgICAgY29kZTogc3RhdGVOb3RGb3VuZCxcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1tzdGF0ZU5vdEZvdW5kXSxcclxuICAgIH0sXHJcbiAgICBub25jZU1pc21hdGNoRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBub25jZU1pc21hdGNoLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW25vbmNlTWlzbWF0Y2hdLFxyXG4gICAgfSxcclxuICAgIGF1dGhUaW1lTm90Rm91bmRFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IGF1dGhUaW1lTm90Rm91bmQsXHJcbiAgICAgICAgZGVzYzogQ2xpZW50QXV0aEVycm9yTWVzc2FnZXNbYXV0aFRpbWVOb3RGb3VuZF0sXHJcbiAgICB9LFxyXG4gICAgbWF4QWdlVHJhbnNwaXJlZDoge1xyXG4gICAgICAgIGNvZGU6IG1heEFnZVRyYW5zcGlyZWQsXHJcbiAgICAgICAgZGVzYzogQ2xpZW50QXV0aEVycm9yTWVzc2FnZXNbbWF4QWdlVHJhbnNwaXJlZF0sXHJcbiAgICB9LFxyXG4gICAgbXVsdGlwbGVNYXRjaGluZ1Rva2Vuczoge1xyXG4gICAgICAgIGNvZGU6IG11bHRpcGxlTWF0Y2hpbmdUb2tlbnMsXHJcbiAgICAgICAgZGVzYzogQ2xpZW50QXV0aEVycm9yTWVzc2FnZXNbbXVsdGlwbGVNYXRjaGluZ1Rva2Vuc10sXHJcbiAgICB9LFxyXG4gICAgbXVsdGlwbGVNYXRjaGluZ0FjY291bnRzOiB7XHJcbiAgICAgICAgY29kZTogbXVsdGlwbGVNYXRjaGluZ0FjY291bnRzLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW211bHRpcGxlTWF0Y2hpbmdBY2NvdW50c10sXHJcbiAgICB9LFxyXG4gICAgbXVsdGlwbGVNYXRjaGluZ0FwcE1ldGFkYXRhOiB7XHJcbiAgICAgICAgY29kZTogbXVsdGlwbGVNYXRjaGluZ0FwcE1ldGFkYXRhLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW211bHRpcGxlTWF0Y2hpbmdBcHBNZXRhZGF0YV0sXHJcbiAgICB9LFxyXG4gICAgdG9rZW5SZXF1ZXN0Q2Fubm90QmVNYWRlOiB7XHJcbiAgICAgICAgY29kZTogcmVxdWVzdENhbm5vdEJlTWFkZSxcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1tyZXF1ZXN0Q2Fubm90QmVNYWRlXSxcclxuICAgIH0sXHJcbiAgICByZW1vdmVFbXB0eVNjb3BlRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBjYW5ub3RSZW1vdmVFbXB0eVNjb3BlLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW2Nhbm5vdFJlbW92ZUVtcHR5U2NvcGVdLFxyXG4gICAgfSxcclxuICAgIGFwcGVuZFNjb3BlU2V0RXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBjYW5ub3RBcHBlbmRTY29wZVNldCxcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1tjYW5ub3RBcHBlbmRTY29wZVNldF0sXHJcbiAgICB9LFxyXG4gICAgZW1wdHlJbnB1dFNjb3BlU2V0RXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBlbXB0eUlucHV0U2NvcGVTZXQsXHJcbiAgICAgICAgZGVzYzogQ2xpZW50QXV0aEVycm9yTWVzc2FnZXNbZW1wdHlJbnB1dFNjb3BlU2V0XSxcclxuICAgIH0sXHJcbiAgICBEZXZpY2VDb2RlUG9sbGluZ0NhbmNlbGxlZDoge1xyXG4gICAgICAgIGNvZGU6IGRldmljZUNvZGVQb2xsaW5nQ2FuY2VsbGVkLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW2RldmljZUNvZGVQb2xsaW5nQ2FuY2VsbGVkXSxcclxuICAgIH0sXHJcbiAgICBEZXZpY2VDb2RlRXhwaXJlZDoge1xyXG4gICAgICAgIGNvZGU6IGRldmljZUNvZGVFeHBpcmVkLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW2RldmljZUNvZGVFeHBpcmVkXSxcclxuICAgIH0sXHJcbiAgICBEZXZpY2VDb2RlVW5rbm93bkVycm9yOiB7XHJcbiAgICAgICAgY29kZTogZGV2aWNlQ29kZVVua25vd25FcnJvcixcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1tkZXZpY2VDb2RlVW5rbm93bkVycm9yXSxcclxuICAgIH0sXHJcbiAgICBOb0FjY291bnRJblNpbGVudFJlcXVlc3Q6IHtcclxuICAgICAgICBjb2RlOiBub0FjY291bnRJblNpbGVudFJlcXVlc3QsXHJcbiAgICAgICAgZGVzYzogQ2xpZW50QXV0aEVycm9yTWVzc2FnZXNbbm9BY2NvdW50SW5TaWxlbnRSZXF1ZXN0XSxcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkQ2FjaGVSZWNvcmQ6IHtcclxuICAgICAgICBjb2RlOiBpbnZhbGlkQ2FjaGVSZWNvcmQsXHJcbiAgICAgICAgZGVzYzogQ2xpZW50QXV0aEVycm9yTWVzc2FnZXNbaW52YWxpZENhY2hlUmVjb3JkXSxcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkQ2FjaGVFbnZpcm9ubWVudDoge1xyXG4gICAgICAgIGNvZGU6IGludmFsaWRDYWNoZUVudmlyb25tZW50LFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW2ludmFsaWRDYWNoZUVudmlyb25tZW50XSxcclxuICAgIH0sXHJcbiAgICBub0FjY291bnRGb3VuZDoge1xyXG4gICAgICAgIGNvZGU6IG5vQWNjb3VudEZvdW5kLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW25vQWNjb3VudEZvdW5kXSxcclxuICAgIH0sXHJcbiAgICBub0NyeXB0b09iajoge1xyXG4gICAgICAgIGNvZGU6IG5vQ3J5cHRvT2JqZWN0LFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW25vQ3J5cHRvT2JqZWN0XSxcclxuICAgIH0sXHJcbiAgICB1bmV4cGVjdGVkQ3JlZGVudGlhbFR5cGU6IHtcclxuICAgICAgICBjb2RlOiB1bmV4cGVjdGVkQ3JlZGVudGlhbFR5cGUsXHJcbiAgICAgICAgZGVzYzogQ2xpZW50QXV0aEVycm9yTWVzc2FnZXNbdW5leHBlY3RlZENyZWRlbnRpYWxUeXBlXSxcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkQXNzZXJ0aW9uOiB7XHJcbiAgICAgICAgY29kZTogaW52YWxpZEFzc2VydGlvbixcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1tpbnZhbGlkQXNzZXJ0aW9uXSxcclxuICAgIH0sXHJcbiAgICBpbnZhbGlkQ2xpZW50Q3JlZGVudGlhbDoge1xyXG4gICAgICAgIGNvZGU6IGludmFsaWRDbGllbnRDcmVkZW50aWFsLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW2ludmFsaWRDbGllbnRDcmVkZW50aWFsXSxcclxuICAgIH0sXHJcbiAgICB0b2tlblJlZnJlc2hSZXF1aXJlZDoge1xyXG4gICAgICAgIGNvZGU6IHRva2VuUmVmcmVzaFJlcXVpcmVkLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW3Rva2VuUmVmcmVzaFJlcXVpcmVkXSxcclxuICAgIH0sXHJcbiAgICB1c2VyVGltZW91dFJlYWNoZWQ6IHtcclxuICAgICAgICBjb2RlOiB1c2VyVGltZW91dFJlYWNoZWQsXHJcbiAgICAgICAgZGVzYzogQ2xpZW50QXV0aEVycm9yTWVzc2FnZXNbdXNlclRpbWVvdXRSZWFjaGVkXSxcclxuICAgIH0sXHJcbiAgICB0b2tlbkNsYWltc1JlcXVpcmVkOiB7XHJcbiAgICAgICAgY29kZTogdG9rZW5DbGFpbXNDbmZSZXF1aXJlZEZvclNpZ25lZEp3dCxcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1t0b2tlbkNsYWltc0NuZlJlcXVpcmVkRm9yU2lnbmVkSnd0XSxcclxuICAgIH0sXHJcbiAgICBub0F1dGhvcml6YXRpb25Db2RlRnJvbVNlcnZlcjoge1xyXG4gICAgICAgIGNvZGU6IGF1dGhvcml6YXRpb25Db2RlTWlzc2luZ0Zyb21TZXJ2ZXJSZXNwb25zZSxcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1thdXRob3JpemF0aW9uQ29kZU1pc3NpbmdGcm9tU2VydmVyUmVzcG9uc2VdLFxyXG4gICAgfSxcclxuICAgIGJpbmRpbmdLZXlOb3RSZW1vdmVkRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiBiaW5kaW5nS2V5Tm90UmVtb3ZlZCxcclxuICAgICAgICBkZXNjOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1tiaW5kaW5nS2V5Tm90UmVtb3ZlZF0sXHJcbiAgICB9LFxyXG4gICAgbG9nb3V0Tm90U3VwcG9ydGVkOiB7XHJcbiAgICAgICAgY29kZTogZW5kU2Vzc2lvbkVuZHBvaW50Tm90U3VwcG9ydGVkLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW2VuZFNlc3Npb25FbmRwb2ludE5vdFN1cHBvcnRlZF0sXHJcbiAgICB9LFxyXG4gICAga2V5SWRNaXNzaW5nOiB7XHJcbiAgICAgICAgY29kZToga2V5SWRNaXNzaW5nLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW2tleUlkTWlzc2luZ10sXHJcbiAgICB9LFxyXG4gICAgbm9OZXR3b3JrQ29ubmVjdGl2aXR5OiB7XHJcbiAgICAgICAgY29kZTogbm9OZXR3b3JrQ29ubmVjdGl2aXR5LFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW25vTmV0d29ya0Nvbm5lY3Rpdml0eV0sXHJcbiAgICB9LFxyXG4gICAgdXNlckNhbmNlbGVkRXJyb3I6IHtcclxuICAgICAgICBjb2RlOiB1c2VyQ2FuY2VsZWQsXHJcbiAgICAgICAgZGVzYzogQ2xpZW50QXV0aEVycm9yTWVzc2FnZXNbdXNlckNhbmNlbGVkXSxcclxuICAgIH0sXHJcbiAgICBtaXNzaW5nVGVuYW50SWRFcnJvcjoge1xyXG4gICAgICAgIGNvZGU6IG1pc3NpbmdUZW5hbnRJZEVycm9yLFxyXG4gICAgICAgIGRlc2M6IENsaWVudEF1dGhFcnJvck1lc3NhZ2VzW21pc3NpbmdUZW5hbnRJZEVycm9yXSxcclxuICAgIH0sXHJcbiAgICBuZXN0ZWRBcHBBdXRoQnJpZGdlRGlzYWJsZWQ6IHtcclxuICAgICAgICBjb2RlOiBuZXN0ZWRBcHBBdXRoQnJpZGdlRGlzYWJsZWQsXHJcbiAgICAgICAgZGVzYzogQ2xpZW50QXV0aEVycm9yTWVzc2FnZXNbbmVzdGVkQXBwQXV0aEJyaWRnZURpc2FibGVkXSxcclxuICAgIH0sXHJcbn07XHJcbi8qKlxyXG4gKiBFcnJvciB0aHJvd24gd2hlbiB0aGVyZSBpcyBhbiBlcnJvciBpbiB0aGUgY2xpZW50IGNvZGUgcnVubmluZyBvbiB0aGUgYnJvd3Nlci5cclxuICovXHJcbmNsYXNzIENsaWVudEF1dGhFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlcnJvckNvZGUsIGFkZGl0aW9uYWxNZXNzYWdlKSB7XHJcbiAgICAgICAgc3VwZXIoZXJyb3JDb2RlLCBhZGRpdGlvbmFsTWVzc2FnZVxyXG4gICAgICAgICAgICA/IGAke0NsaWVudEF1dGhFcnJvck1lc3NhZ2VzW2Vycm9yQ29kZV19OiAke2FkZGl0aW9uYWxNZXNzYWdlfWBcclxuICAgICAgICAgICAgOiBDbGllbnRBdXRoRXJyb3JNZXNzYWdlc1tlcnJvckNvZGVdKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcIkNsaWVudEF1dGhFcnJvclwiO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBDbGllbnRBdXRoRXJyb3IucHJvdG90eXBlKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBjcmVhdGVDbGllbnRBdXRoRXJyb3IoZXJyb3JDb2RlLCBhZGRpdGlvbmFsTWVzc2FnZSkge1xyXG4gICAgcmV0dXJuIG5ldyBDbGllbnRBdXRoRXJyb3IoZXJyb3JDb2RlLCBhZGRpdGlvbmFsTWVzc2FnZSk7XHJcbn1cblxuZXhwb3J0IHsgQ2xpZW50QXV0aEVycm9yLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlLCBDbGllbnRBdXRoRXJyb3JNZXNzYWdlcywgY3JlYXRlQ2xpZW50QXV0aEVycm9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DbGllbnRBdXRoRXJyb3IubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkF1dGhFcnJvciIsImNsaWVudEluZm9EZWNvZGluZ0Vycm9yIiwiY2xpZW50SW5mb0VtcHR5RXJyb3IiLCJ0b2tlblBhcnNpbmdFcnJvciIsIm51bGxPckVtcHR5VG9rZW4iLCJlbmRwb2ludFJlc29sdXRpb25FcnJvciIsIm5ldHdvcmtFcnJvciIsIm9wZW5JZENvbmZpZ0Vycm9yIiwiaGFzaE5vdERlc2VyaWFsaXplZCIsImludmFsaWRTdGF0ZSIsInN0YXRlTWlzbWF0Y2giLCJzdGF0ZU5vdEZvdW5kIiwibm9uY2VNaXNtYXRjaCIsImF1dGhUaW1lTm90Rm91bmQiLCJtYXhBZ2VUcmFuc3BpcmVkIiwibXVsdGlwbGVNYXRjaGluZ1Rva2VucyIsIm11bHRpcGxlTWF0Y2hpbmdBY2NvdW50cyIsIm11bHRpcGxlTWF0Y2hpbmdBcHBNZXRhZGF0YSIsInJlcXVlc3RDYW5ub3RCZU1hZGUiLCJjYW5ub3RSZW1vdmVFbXB0eVNjb3BlIiwiY2Fubm90QXBwZW5kU2NvcGVTZXQiLCJlbXB0eUlucHV0U2NvcGVTZXQiLCJkZXZpY2VDb2RlUG9sbGluZ0NhbmNlbGxlZCIsImRldmljZUNvZGVFeHBpcmVkIiwiZGV2aWNlQ29kZVVua25vd25FcnJvciIsIm5vQWNjb3VudEluU2lsZW50UmVxdWVzdCIsImludmFsaWRDYWNoZVJlY29yZCIsImludmFsaWRDYWNoZUVudmlyb25tZW50Iiwibm9BY2NvdW50Rm91bmQiLCJub0NyeXB0b09iamVjdCIsInVuZXhwZWN0ZWRDcmVkZW50aWFsVHlwZSIsImludmFsaWRBc3NlcnRpb24iLCJpbnZhbGlkQ2xpZW50Q3JlZGVudGlhbCIsInRva2VuUmVmcmVzaFJlcXVpcmVkIiwidXNlclRpbWVvdXRSZWFjaGVkIiwidG9rZW5DbGFpbXNDbmZSZXF1aXJlZEZvclNpZ25lZEp3dCIsImF1dGhvcml6YXRpb25Db2RlTWlzc2luZ0Zyb21TZXJ2ZXJSZXNwb25zZSIsImJpbmRpbmdLZXlOb3RSZW1vdmVkIiwiZW5kU2Vzc2lvbkVuZHBvaW50Tm90U3VwcG9ydGVkIiwia2V5SWRNaXNzaW5nIiwibm9OZXR3b3JrQ29ubmVjdGl2aXR5IiwidXNlckNhbmNlbGVkIiwibWlzc2luZ1RlbmFudElkRXJyb3IiLCJuZXN0ZWRBcHBBdXRoQnJpZGdlRGlzYWJsZWQiLCJtZXRob2ROb3RJbXBsZW1lbnRlZCIsIkNsaWVudEF1dGhFcnJvckNvZGVzIiwiQ2xpZW50QXV0aEVycm9yTWVzc2FnZXMiLCJDbGllbnRBdXRoRXJyb3JNZXNzYWdlIiwiY29kZSIsImRlc2MiLCJ1bmFibGVUb0dldE9wZW5pZENvbmZpZ0Vycm9yIiwiaW52YWxpZFN0YXRlRXJyb3IiLCJzdGF0ZU1pc21hdGNoRXJyb3IiLCJzdGF0ZU5vdEZvdW5kRXJyb3IiLCJub25jZU1pc21hdGNoRXJyb3IiLCJhdXRoVGltZU5vdEZvdW5kRXJyb3IiLCJ0b2tlblJlcXVlc3RDYW5ub3RCZU1hZGUiLCJyZW1vdmVFbXB0eVNjb3BlRXJyb3IiLCJhcHBlbmRTY29wZVNldEVycm9yIiwiZW1wdHlJbnB1dFNjb3BlU2V0RXJyb3IiLCJEZXZpY2VDb2RlUG9sbGluZ0NhbmNlbGxlZCIsIkRldmljZUNvZGVFeHBpcmVkIiwiRGV2aWNlQ29kZVVua25vd25FcnJvciIsIk5vQWNjb3VudEluU2lsZW50UmVxdWVzdCIsIm5vQ3J5cHRvT2JqIiwidG9rZW5DbGFpbXNSZXF1aXJlZCIsIm5vQXV0aG9yaXphdGlvbkNvZGVGcm9tU2VydmVyIiwiYmluZGluZ0tleU5vdFJlbW92ZWRFcnJvciIsImxvZ291dE5vdFN1cHBvcnRlZCIsInVzZXJDYW5jZWxlZEVycm9yIiwiQ2xpZW50QXV0aEVycm9yIiwiY29uc3RydWN0b3IiLCJlcnJvckNvZGUiLCJhZGRpdGlvbmFsTWVzc2FnZSIsIm5hbWUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImNyZWF0ZUNsaWVudEF1dGhFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authTimeNotFound: () => (/* binding */ authTimeNotFound),\n/* harmony export */   authorizationCodeMissingFromServerResponse: () => (/* binding */ authorizationCodeMissingFromServerResponse),\n/* harmony export */   bindingKeyNotRemoved: () => (/* binding */ bindingKeyNotRemoved),\n/* harmony export */   cannotAppendScopeSet: () => (/* binding */ cannotAppendScopeSet),\n/* harmony export */   cannotRemoveEmptyScope: () => (/* binding */ cannotRemoveEmptyScope),\n/* harmony export */   clientInfoDecodingError: () => (/* binding */ clientInfoDecodingError),\n/* harmony export */   clientInfoEmptyError: () => (/* binding */ clientInfoEmptyError),\n/* harmony export */   deviceCodeExpired: () => (/* binding */ deviceCodeExpired),\n/* harmony export */   deviceCodePollingCancelled: () => (/* binding */ deviceCodePollingCancelled),\n/* harmony export */   deviceCodeUnknownError: () => (/* binding */ deviceCodeUnknownError),\n/* harmony export */   emptyInputScopeSet: () => (/* binding */ emptyInputScopeSet),\n/* harmony export */   endSessionEndpointNotSupported: () => (/* binding */ endSessionEndpointNotSupported),\n/* harmony export */   endpointResolutionError: () => (/* binding */ endpointResolutionError),\n/* harmony export */   hashNotDeserialized: () => (/* binding */ hashNotDeserialized),\n/* harmony export */   invalidAssertion: () => (/* binding */ invalidAssertion),\n/* harmony export */   invalidCacheEnvironment: () => (/* binding */ invalidCacheEnvironment),\n/* harmony export */   invalidCacheRecord: () => (/* binding */ invalidCacheRecord),\n/* harmony export */   invalidClientCredential: () => (/* binding */ invalidClientCredential),\n/* harmony export */   invalidState: () => (/* binding */ invalidState),\n/* harmony export */   keyIdMissing: () => (/* binding */ keyIdMissing),\n/* harmony export */   maxAgeTranspired: () => (/* binding */ maxAgeTranspired),\n/* harmony export */   methodNotImplemented: () => (/* binding */ methodNotImplemented),\n/* harmony export */   missingTenantIdError: () => (/* binding */ missingTenantIdError),\n/* harmony export */   multipleMatchingAccounts: () => (/* binding */ multipleMatchingAccounts),\n/* harmony export */   multipleMatchingAppMetadata: () => (/* binding */ multipleMatchingAppMetadata),\n/* harmony export */   multipleMatchingTokens: () => (/* binding */ multipleMatchingTokens),\n/* harmony export */   nestedAppAuthBridgeDisabled: () => (/* binding */ nestedAppAuthBridgeDisabled),\n/* harmony export */   networkError: () => (/* binding */ networkError),\n/* harmony export */   noAccountFound: () => (/* binding */ noAccountFound),\n/* harmony export */   noAccountInSilentRequest: () => (/* binding */ noAccountInSilentRequest),\n/* harmony export */   noCryptoObject: () => (/* binding */ noCryptoObject),\n/* harmony export */   noNetworkConnectivity: () => (/* binding */ noNetworkConnectivity),\n/* harmony export */   nonceMismatch: () => (/* binding */ nonceMismatch),\n/* harmony export */   nullOrEmptyToken: () => (/* binding */ nullOrEmptyToken),\n/* harmony export */   openIdConfigError: () => (/* binding */ openIdConfigError),\n/* harmony export */   requestCannotBeMade: () => (/* binding */ requestCannotBeMade),\n/* harmony export */   stateMismatch: () => (/* binding */ stateMismatch),\n/* harmony export */   stateNotFound: () => (/* binding */ stateNotFound),\n/* harmony export */   tokenClaimsCnfRequiredForSignedJwt: () => (/* binding */ tokenClaimsCnfRequiredForSignedJwt),\n/* harmony export */   tokenParsingError: () => (/* binding */ tokenParsingError),\n/* harmony export */   tokenRefreshRequired: () => (/* binding */ tokenRefreshRequired),\n/* harmony export */   unexpectedCredentialType: () => (/* binding */ unexpectedCredentialType),\n/* harmony export */   userCanceled: () => (/* binding */ userCanceled),\n/* harmony export */   userTimeoutReached: () => (/* binding */ userTimeoutReached)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const clientInfoDecodingError = \"client_info_decoding_error\";\nconst clientInfoEmptyError = \"client_info_empty_error\";\nconst tokenParsingError = \"token_parsing_error\";\nconst nullOrEmptyToken = \"null_or_empty_token\";\nconst endpointResolutionError = \"endpoints_resolution_error\";\nconst networkError = \"network_error\";\nconst openIdConfigError = \"openid_config_error\";\nconst hashNotDeserialized = \"hash_not_deserialized\";\nconst invalidState = \"invalid_state\";\nconst stateMismatch = \"state_mismatch\";\nconst stateNotFound = \"state_not_found\";\nconst nonceMismatch = \"nonce_mismatch\";\nconst authTimeNotFound = \"auth_time_not_found\";\nconst maxAgeTranspired = \"max_age_transpired\";\nconst multipleMatchingTokens = \"multiple_matching_tokens\";\nconst multipleMatchingAccounts = \"multiple_matching_accounts\";\nconst multipleMatchingAppMetadata = \"multiple_matching_appMetadata\";\nconst requestCannotBeMade = \"request_cannot_be_made\";\nconst cannotRemoveEmptyScope = \"cannot_remove_empty_scope\";\nconst cannotAppendScopeSet = \"cannot_append_scopeset\";\nconst emptyInputScopeSet = \"empty_input_scopeset\";\nconst deviceCodePollingCancelled = \"device_code_polling_cancelled\";\nconst deviceCodeExpired = \"device_code_expired\";\nconst deviceCodeUnknownError = \"device_code_unknown_error\";\nconst noAccountInSilentRequest = \"no_account_in_silent_request\";\nconst invalidCacheRecord = \"invalid_cache_record\";\nconst invalidCacheEnvironment = \"invalid_cache_environment\";\nconst noAccountFound = \"no_account_found\";\nconst noCryptoObject = \"no_crypto_object\";\nconst unexpectedCredentialType = \"unexpected_credential_type\";\nconst invalidAssertion = \"invalid_assertion\";\nconst invalidClientCredential = \"invalid_client_credential\";\nconst tokenRefreshRequired = \"token_refresh_required\";\nconst userTimeoutReached = \"user_timeout_reached\";\nconst tokenClaimsCnfRequiredForSignedJwt = \"token_claims_cnf_required_for_signedjwt\";\nconst authorizationCodeMissingFromServerResponse = \"authorization_code_missing_from_server_response\";\nconst bindingKeyNotRemoved = \"binding_key_not_removed\";\nconst endSessionEndpointNotSupported = \"end_session_endpoint_not_supported\";\nconst keyIdMissing = \"key_id_missing\";\nconst noNetworkConnectivity = \"no_network_connectivity\";\nconst userCanceled = \"user_canceled\";\nconst missingTenantIdError = \"missing_tenant_id_error\";\nconst methodNotImplemented = \"method_not_implemented\";\nconst nestedAppAuthBridgeDisabled = \"nested_app_auth_bridge_disabled\";\n //# sourceMappingURL=ClientAuthErrorCodes.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvQ2xpZW50QXV0aEVycm9yQ29kZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0QsTUFBTUEsMEJBQTBCO0FBQ2hDLE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyxvQkFBb0I7QUFDMUIsTUFBTUMsbUJBQW1CO0FBQ3pCLE1BQU1DLDBCQUEwQjtBQUNoQyxNQUFNQyxlQUFlO0FBQ3JCLE1BQU1DLG9CQUFvQjtBQUMxQixNQUFNQyxzQkFBc0I7QUFDNUIsTUFBTUMsZUFBZTtBQUNyQixNQUFNQyxnQkFBZ0I7QUFDdEIsTUFBTUMsZ0JBQWdCO0FBQ3RCLE1BQU1DLGdCQUFnQjtBQUN0QixNQUFNQyxtQkFBbUI7QUFDekIsTUFBTUMsbUJBQW1CO0FBQ3pCLE1BQU1DLHlCQUF5QjtBQUMvQixNQUFNQywyQkFBMkI7QUFDakMsTUFBTUMsOEJBQThCO0FBQ3BDLE1BQU1DLHNCQUFzQjtBQUM1QixNQUFNQyx5QkFBeUI7QUFDL0IsTUFBTUMsdUJBQXVCO0FBQzdCLE1BQU1DLHFCQUFxQjtBQUMzQixNQUFNQyw2QkFBNkI7QUFDbkMsTUFBTUMsb0JBQW9CO0FBQzFCLE1BQU1DLHlCQUF5QjtBQUMvQixNQUFNQywyQkFBMkI7QUFDakMsTUFBTUMscUJBQXFCO0FBQzNCLE1BQU1DLDBCQUEwQjtBQUNoQyxNQUFNQyxpQkFBaUI7QUFDdkIsTUFBTUMsaUJBQWlCO0FBQ3ZCLE1BQU1DLDJCQUEyQjtBQUNqQyxNQUFNQyxtQkFBbUI7QUFDekIsTUFBTUMsMEJBQTBCO0FBQ2hDLE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyxxQkFBcUI7QUFDM0IsTUFBTUMscUNBQXFDO0FBQzNDLE1BQU1DLDZDQUE2QztBQUNuRCxNQUFNQyx1QkFBdUI7QUFDN0IsTUFBTUMsaUNBQWlDO0FBQ3ZDLE1BQU1DLGVBQWU7QUFDckIsTUFBTUMsd0JBQXdCO0FBQzlCLE1BQU1DLGVBQWU7QUFDckIsTUFBTUMsdUJBQXVCO0FBQzdCLE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyw4QkFBOEI7QUFFNjZCLENBQ2o5QixpREFBaUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvQ2xpZW50QXV0aEVycm9yQ29kZXMubWpzP2Y1ZDciXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgY2xpZW50SW5mb0RlY29kaW5nRXJyb3IgPSBcImNsaWVudF9pbmZvX2RlY29kaW5nX2Vycm9yXCI7XHJcbmNvbnN0IGNsaWVudEluZm9FbXB0eUVycm9yID0gXCJjbGllbnRfaW5mb19lbXB0eV9lcnJvclwiO1xyXG5jb25zdCB0b2tlblBhcnNpbmdFcnJvciA9IFwidG9rZW5fcGFyc2luZ19lcnJvclwiO1xyXG5jb25zdCBudWxsT3JFbXB0eVRva2VuID0gXCJudWxsX29yX2VtcHR5X3Rva2VuXCI7XHJcbmNvbnN0IGVuZHBvaW50UmVzb2x1dGlvbkVycm9yID0gXCJlbmRwb2ludHNfcmVzb2x1dGlvbl9lcnJvclwiO1xyXG5jb25zdCBuZXR3b3JrRXJyb3IgPSBcIm5ldHdvcmtfZXJyb3JcIjtcclxuY29uc3Qgb3BlbklkQ29uZmlnRXJyb3IgPSBcIm9wZW5pZF9jb25maWdfZXJyb3JcIjtcclxuY29uc3QgaGFzaE5vdERlc2VyaWFsaXplZCA9IFwiaGFzaF9ub3RfZGVzZXJpYWxpemVkXCI7XHJcbmNvbnN0IGludmFsaWRTdGF0ZSA9IFwiaW52YWxpZF9zdGF0ZVwiO1xyXG5jb25zdCBzdGF0ZU1pc21hdGNoID0gXCJzdGF0ZV9taXNtYXRjaFwiO1xyXG5jb25zdCBzdGF0ZU5vdEZvdW5kID0gXCJzdGF0ZV9ub3RfZm91bmRcIjtcclxuY29uc3Qgbm9uY2VNaXNtYXRjaCA9IFwibm9uY2VfbWlzbWF0Y2hcIjtcclxuY29uc3QgYXV0aFRpbWVOb3RGb3VuZCA9IFwiYXV0aF90aW1lX25vdF9mb3VuZFwiO1xyXG5jb25zdCBtYXhBZ2VUcmFuc3BpcmVkID0gXCJtYXhfYWdlX3RyYW5zcGlyZWRcIjtcclxuY29uc3QgbXVsdGlwbGVNYXRjaGluZ1Rva2VucyA9IFwibXVsdGlwbGVfbWF0Y2hpbmdfdG9rZW5zXCI7XHJcbmNvbnN0IG11bHRpcGxlTWF0Y2hpbmdBY2NvdW50cyA9IFwibXVsdGlwbGVfbWF0Y2hpbmdfYWNjb3VudHNcIjtcclxuY29uc3QgbXVsdGlwbGVNYXRjaGluZ0FwcE1ldGFkYXRhID0gXCJtdWx0aXBsZV9tYXRjaGluZ19hcHBNZXRhZGF0YVwiO1xyXG5jb25zdCByZXF1ZXN0Q2Fubm90QmVNYWRlID0gXCJyZXF1ZXN0X2Nhbm5vdF9iZV9tYWRlXCI7XHJcbmNvbnN0IGNhbm5vdFJlbW92ZUVtcHR5U2NvcGUgPSBcImNhbm5vdF9yZW1vdmVfZW1wdHlfc2NvcGVcIjtcclxuY29uc3QgY2Fubm90QXBwZW5kU2NvcGVTZXQgPSBcImNhbm5vdF9hcHBlbmRfc2NvcGVzZXRcIjtcclxuY29uc3QgZW1wdHlJbnB1dFNjb3BlU2V0ID0gXCJlbXB0eV9pbnB1dF9zY29wZXNldFwiO1xyXG5jb25zdCBkZXZpY2VDb2RlUG9sbGluZ0NhbmNlbGxlZCA9IFwiZGV2aWNlX2NvZGVfcG9sbGluZ19jYW5jZWxsZWRcIjtcclxuY29uc3QgZGV2aWNlQ29kZUV4cGlyZWQgPSBcImRldmljZV9jb2RlX2V4cGlyZWRcIjtcclxuY29uc3QgZGV2aWNlQ29kZVVua25vd25FcnJvciA9IFwiZGV2aWNlX2NvZGVfdW5rbm93bl9lcnJvclwiO1xyXG5jb25zdCBub0FjY291bnRJblNpbGVudFJlcXVlc3QgPSBcIm5vX2FjY291bnRfaW5fc2lsZW50X3JlcXVlc3RcIjtcclxuY29uc3QgaW52YWxpZENhY2hlUmVjb3JkID0gXCJpbnZhbGlkX2NhY2hlX3JlY29yZFwiO1xyXG5jb25zdCBpbnZhbGlkQ2FjaGVFbnZpcm9ubWVudCA9IFwiaW52YWxpZF9jYWNoZV9lbnZpcm9ubWVudFwiO1xyXG5jb25zdCBub0FjY291bnRGb3VuZCA9IFwibm9fYWNjb3VudF9mb3VuZFwiO1xyXG5jb25zdCBub0NyeXB0b09iamVjdCA9IFwibm9fY3J5cHRvX29iamVjdFwiO1xyXG5jb25zdCB1bmV4cGVjdGVkQ3JlZGVudGlhbFR5cGUgPSBcInVuZXhwZWN0ZWRfY3JlZGVudGlhbF90eXBlXCI7XHJcbmNvbnN0IGludmFsaWRBc3NlcnRpb24gPSBcImludmFsaWRfYXNzZXJ0aW9uXCI7XHJcbmNvbnN0IGludmFsaWRDbGllbnRDcmVkZW50aWFsID0gXCJpbnZhbGlkX2NsaWVudF9jcmVkZW50aWFsXCI7XHJcbmNvbnN0IHRva2VuUmVmcmVzaFJlcXVpcmVkID0gXCJ0b2tlbl9yZWZyZXNoX3JlcXVpcmVkXCI7XHJcbmNvbnN0IHVzZXJUaW1lb3V0UmVhY2hlZCA9IFwidXNlcl90aW1lb3V0X3JlYWNoZWRcIjtcclxuY29uc3QgdG9rZW5DbGFpbXNDbmZSZXF1aXJlZEZvclNpZ25lZEp3dCA9IFwidG9rZW5fY2xhaW1zX2NuZl9yZXF1aXJlZF9mb3Jfc2lnbmVkand0XCI7XHJcbmNvbnN0IGF1dGhvcml6YXRpb25Db2RlTWlzc2luZ0Zyb21TZXJ2ZXJSZXNwb25zZSA9IFwiYXV0aG9yaXphdGlvbl9jb2RlX21pc3NpbmdfZnJvbV9zZXJ2ZXJfcmVzcG9uc2VcIjtcclxuY29uc3QgYmluZGluZ0tleU5vdFJlbW92ZWQgPSBcImJpbmRpbmdfa2V5X25vdF9yZW1vdmVkXCI7XHJcbmNvbnN0IGVuZFNlc3Npb25FbmRwb2ludE5vdFN1cHBvcnRlZCA9IFwiZW5kX3Nlc3Npb25fZW5kcG9pbnRfbm90X3N1cHBvcnRlZFwiO1xyXG5jb25zdCBrZXlJZE1pc3NpbmcgPSBcImtleV9pZF9taXNzaW5nXCI7XHJcbmNvbnN0IG5vTmV0d29ya0Nvbm5lY3Rpdml0eSA9IFwibm9fbmV0d29ya19jb25uZWN0aXZpdHlcIjtcclxuY29uc3QgdXNlckNhbmNlbGVkID0gXCJ1c2VyX2NhbmNlbGVkXCI7XHJcbmNvbnN0IG1pc3NpbmdUZW5hbnRJZEVycm9yID0gXCJtaXNzaW5nX3RlbmFudF9pZF9lcnJvclwiO1xyXG5jb25zdCBtZXRob2ROb3RJbXBsZW1lbnRlZCA9IFwibWV0aG9kX25vdF9pbXBsZW1lbnRlZFwiO1xyXG5jb25zdCBuZXN0ZWRBcHBBdXRoQnJpZGdlRGlzYWJsZWQgPSBcIm5lc3RlZF9hcHBfYXV0aF9icmlkZ2VfZGlzYWJsZWRcIjtcblxuZXhwb3J0IHsgYXV0aFRpbWVOb3RGb3VuZCwgYXV0aG9yaXphdGlvbkNvZGVNaXNzaW5nRnJvbVNlcnZlclJlc3BvbnNlLCBiaW5kaW5nS2V5Tm90UmVtb3ZlZCwgY2Fubm90QXBwZW5kU2NvcGVTZXQsIGNhbm5vdFJlbW92ZUVtcHR5U2NvcGUsIGNsaWVudEluZm9EZWNvZGluZ0Vycm9yLCBjbGllbnRJbmZvRW1wdHlFcnJvciwgZGV2aWNlQ29kZUV4cGlyZWQsIGRldmljZUNvZGVQb2xsaW5nQ2FuY2VsbGVkLCBkZXZpY2VDb2RlVW5rbm93bkVycm9yLCBlbXB0eUlucHV0U2NvcGVTZXQsIGVuZFNlc3Npb25FbmRwb2ludE5vdFN1cHBvcnRlZCwgZW5kcG9pbnRSZXNvbHV0aW9uRXJyb3IsIGhhc2hOb3REZXNlcmlhbGl6ZWQsIGludmFsaWRBc3NlcnRpb24sIGludmFsaWRDYWNoZUVudmlyb25tZW50LCBpbnZhbGlkQ2FjaGVSZWNvcmQsIGludmFsaWRDbGllbnRDcmVkZW50aWFsLCBpbnZhbGlkU3RhdGUsIGtleUlkTWlzc2luZywgbWF4QWdlVHJhbnNwaXJlZCwgbWV0aG9kTm90SW1wbGVtZW50ZWQsIG1pc3NpbmdUZW5hbnRJZEVycm9yLCBtdWx0aXBsZU1hdGNoaW5nQWNjb3VudHMsIG11bHRpcGxlTWF0Y2hpbmdBcHBNZXRhZGF0YSwgbXVsdGlwbGVNYXRjaGluZ1Rva2VucywgbmVzdGVkQXBwQXV0aEJyaWRnZURpc2FibGVkLCBuZXR3b3JrRXJyb3IsIG5vQWNjb3VudEZvdW5kLCBub0FjY291bnRJblNpbGVudFJlcXVlc3QsIG5vQ3J5cHRvT2JqZWN0LCBub05ldHdvcmtDb25uZWN0aXZpdHksIG5vbmNlTWlzbWF0Y2gsIG51bGxPckVtcHR5VG9rZW4sIG9wZW5JZENvbmZpZ0Vycm9yLCByZXF1ZXN0Q2Fubm90QmVNYWRlLCBzdGF0ZU1pc21hdGNoLCBzdGF0ZU5vdEZvdW5kLCB0b2tlbkNsYWltc0NuZlJlcXVpcmVkRm9yU2lnbmVkSnd0LCB0b2tlblBhcnNpbmdFcnJvciwgdG9rZW5SZWZyZXNoUmVxdWlyZWQsIHVuZXhwZWN0ZWRDcmVkZW50aWFsVHlwZSwgdXNlckNhbmNlbGVkLCB1c2VyVGltZW91dFJlYWNoZWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNsaWVudEF1dGhFcnJvckNvZGVzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJjbGllbnRJbmZvRGVjb2RpbmdFcnJvciIsImNsaWVudEluZm9FbXB0eUVycm9yIiwidG9rZW5QYXJzaW5nRXJyb3IiLCJudWxsT3JFbXB0eVRva2VuIiwiZW5kcG9pbnRSZXNvbHV0aW9uRXJyb3IiLCJuZXR3b3JrRXJyb3IiLCJvcGVuSWRDb25maWdFcnJvciIsImhhc2hOb3REZXNlcmlhbGl6ZWQiLCJpbnZhbGlkU3RhdGUiLCJzdGF0ZU1pc21hdGNoIiwic3RhdGVOb3RGb3VuZCIsIm5vbmNlTWlzbWF0Y2giLCJhdXRoVGltZU5vdEZvdW5kIiwibWF4QWdlVHJhbnNwaXJlZCIsIm11bHRpcGxlTWF0Y2hpbmdUb2tlbnMiLCJtdWx0aXBsZU1hdGNoaW5nQWNjb3VudHMiLCJtdWx0aXBsZU1hdGNoaW5nQXBwTWV0YWRhdGEiLCJyZXF1ZXN0Q2Fubm90QmVNYWRlIiwiY2Fubm90UmVtb3ZlRW1wdHlTY29wZSIsImNhbm5vdEFwcGVuZFNjb3BlU2V0IiwiZW1wdHlJbnB1dFNjb3BlU2V0IiwiZGV2aWNlQ29kZVBvbGxpbmdDYW5jZWxsZWQiLCJkZXZpY2VDb2RlRXhwaXJlZCIsImRldmljZUNvZGVVbmtub3duRXJyb3IiLCJub0FjY291bnRJblNpbGVudFJlcXVlc3QiLCJpbnZhbGlkQ2FjaGVSZWNvcmQiLCJpbnZhbGlkQ2FjaGVFbnZpcm9ubWVudCIsIm5vQWNjb3VudEZvdW5kIiwibm9DcnlwdG9PYmplY3QiLCJ1bmV4cGVjdGVkQ3JlZGVudGlhbFR5cGUiLCJpbnZhbGlkQXNzZXJ0aW9uIiwiaW52YWxpZENsaWVudENyZWRlbnRpYWwiLCJ0b2tlblJlZnJlc2hSZXF1aXJlZCIsInVzZXJUaW1lb3V0UmVhY2hlZCIsInRva2VuQ2xhaW1zQ25mUmVxdWlyZWRGb3JTaWduZWRKd3QiLCJhdXRob3JpemF0aW9uQ29kZU1pc3NpbmdGcm9tU2VydmVyUmVzcG9uc2UiLCJiaW5kaW5nS2V5Tm90UmVtb3ZlZCIsImVuZFNlc3Npb25FbmRwb2ludE5vdFN1cHBvcnRlZCIsImtleUlkTWlzc2luZyIsIm5vTmV0d29ya0Nvbm5lY3Rpdml0eSIsInVzZXJDYW5jZWxlZCIsIm1pc3NpbmdUZW5hbnRJZEVycm9yIiwibWV0aG9kTm90SW1wbGVtZW50ZWQiLCJuZXN0ZWRBcHBBdXRoQnJpZGdlRGlzYWJsZWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs":
/*!*********************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs ***!
  \*********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ClientConfigurationError: () => (/* binding */ ClientConfigurationError),\n/* harmony export */   ClientConfigurationErrorCodes: () => (/* reexport module object */ _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   ClientConfigurationErrorMessage: () => (/* binding */ ClientConfigurationErrorMessage),\n/* harmony export */   ClientConfigurationErrorMessages: () => (/* binding */ ClientConfigurationErrorMessages),\n/* harmony export */   createClientConfigurationError: () => (/* binding */ createClientConfigurationError)\n/* harmony export */ });\n/* harmony import */ var _AuthError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ClientConfigurationErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const ClientConfigurationErrorMessages = {\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.redirectUriEmpty]: \"A redirect URI is required for all calls, and none has been set.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.claimsRequestParsingError]: \"Could not parse the given claims request object.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authorityUriInsecure]: \"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.urlParseError]: \"URL could not be parsed into appropriate segments.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.urlEmptyError]: \"URL was empty or null.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.emptyInputScopesError]: \"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidPromptValue]: \"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidClaims]: \"Given claims parameter must be a stringified JSON object.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.tokenRequestEmpty]: \"Token request was empty and not found in cache.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.logoutRequestEmpty]: \"The logout request was null or undefined.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCodeChallengeMethod]: 'code_challenge_method passed is invalid. Valid values are \"plain\" and \"S256\".',\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.pkceParamsMissing]: \"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCloudDiscoveryMetadata]: \"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidAuthorityMetadata]: \"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.untrustedAuthority]: \"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingSshJwk]: \"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingSshKid]: \"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingNonceAuthenticationHeader]: \"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidAuthenticationHeader]: \"Invalid authentication header provided\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cannotSetOIDCOptions]: \"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cannotAllowNativeBroker]: \"Cannot set allowNativeBroker parameter to true when not in AAD protocol mode.\",\n    [_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authorityMismatch]: \"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority.\"\n};\n/**\r\n * ClientConfigurationErrorMessage class containing string constants used by error codes and messages.\r\n * @deprecated Use ClientConfigurationErrorCodes instead\r\n */ const ClientConfigurationErrorMessage = {\n    redirectUriNotSet: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.redirectUriEmpty,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.redirectUriEmpty]\n    },\n    claimsRequestParsingError: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.claimsRequestParsingError,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.claimsRequestParsingError]\n    },\n    authorityUriInsecure: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authorityUriInsecure,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authorityUriInsecure]\n    },\n    urlParseError: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.urlParseError,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.urlParseError]\n    },\n    urlEmptyError: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.urlEmptyError,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.urlEmptyError]\n    },\n    emptyScopesError: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.emptyInputScopesError,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.emptyInputScopesError]\n    },\n    invalidPrompt: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidPromptValue,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidPromptValue]\n    },\n    invalidClaimsRequest: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidClaims,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidClaims]\n    },\n    tokenRequestEmptyError: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.tokenRequestEmpty,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.tokenRequestEmpty]\n    },\n    logoutRequestEmptyError: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.logoutRequestEmpty,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.logoutRequestEmpty]\n    },\n    invalidCodeChallengeMethod: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCodeChallengeMethod,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCodeChallengeMethod]\n    },\n    invalidCodeChallengeParams: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.pkceParamsMissing,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.pkceParamsMissing]\n    },\n    invalidCloudDiscoveryMetadata: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCloudDiscoveryMetadata,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidCloudDiscoveryMetadata]\n    },\n    invalidAuthorityMetadata: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidAuthorityMetadata,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidAuthorityMetadata]\n    },\n    untrustedAuthority: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.untrustedAuthority,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.untrustedAuthority]\n    },\n    missingSshJwk: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingSshJwk,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingSshJwk]\n    },\n    missingSshKid: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingSshKid,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingSshKid]\n    },\n    missingNonceAuthenticationHeader: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingNonceAuthenticationHeader,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingNonceAuthenticationHeader]\n    },\n    invalidAuthenticationHeader: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidAuthenticationHeader,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.invalidAuthenticationHeader]\n    },\n    cannotSetOIDCOptions: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cannotSetOIDCOptions,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cannotSetOIDCOptions]\n    },\n    cannotAllowNativeBroker: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cannotAllowNativeBroker,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.cannotAllowNativeBroker]\n    },\n    authorityMismatch: {\n        code: _ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authorityMismatch,\n        desc: ClientConfigurationErrorMessages[_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.authorityMismatch]\n    }\n};\n/**\r\n * Error thrown when there is an error in configuration of the MSAL.js library.\r\n */ class ClientConfigurationError extends _AuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthError {\n    constructor(errorCode){\n        super(errorCode, ClientConfigurationErrorMessages[errorCode]);\n        this.name = \"ClientConfigurationError\";\n        Object.setPrototypeOf(this, ClientConfigurationError.prototype);\n    }\n}\nfunction createClientConfigurationError(errorCode) {\n    return new ClientConfigurationError(errorCode);\n}\n //# sourceMappingURL=ClientConfigurationError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQzRDO0FBQ3NlO0FBQzdiO0FBQzVDO0FBRXpDOzs7Q0FHQyxHQUNELE1BQU13QixtQ0FBbUM7SUFDckMsQ0FBQ3ZCLGdGQUFnQkEsQ0FBQyxFQUFFO0lBQ3BCLENBQUNDLHlGQUF5QkEsQ0FBQyxFQUFFO0lBQzdCLENBQUNDLG9GQUFvQkEsQ0FBQyxFQUFFO0lBQ3hCLENBQUNDLDZFQUFhQSxDQUFDLEVBQUU7SUFDakIsQ0FBQ0MsNkVBQWFBLENBQUMsRUFBRTtJQUNqQixDQUFDQyxxRkFBcUJBLENBQUMsRUFBRTtJQUN6QixDQUFDQyxrRkFBa0JBLENBQUMsRUFBRTtJQUN0QixDQUFDQyw2RUFBYUEsQ0FBQyxFQUFFO0lBQ2pCLENBQUNDLGlGQUFpQkEsQ0FBQyxFQUFFO0lBQ3JCLENBQUNDLGtGQUFrQkEsQ0FBQyxFQUFFO0lBQ3RCLENBQUNDLDBGQUEwQkEsQ0FBQyxFQUFFO0lBQzlCLENBQUNDLGlGQUFpQkEsQ0FBQyxFQUFFO0lBQ3JCLENBQUNDLDZGQUE2QkEsQ0FBQyxFQUFFO0lBQ2pDLENBQUNDLHdGQUF3QkEsQ0FBQyxFQUFFO0lBQzVCLENBQUNDLGtGQUFrQkEsQ0FBQyxFQUFFO0lBQ3RCLENBQUNDLDZFQUFhQSxDQUFDLEVBQUU7SUFDakIsQ0FBQ0MsNkVBQWFBLENBQUMsRUFBRTtJQUNqQixDQUFDQyxnR0FBZ0NBLENBQUMsRUFBRTtJQUNwQyxDQUFDQywyRkFBMkJBLENBQUMsRUFBRTtJQUMvQixDQUFDQyxvRkFBb0JBLENBQUMsRUFBRTtJQUN4QixDQUFDQyx1RkFBdUJBLENBQUMsRUFBRTtJQUMzQixDQUFDQyxpRkFBaUJBLENBQUMsRUFBRTtBQUN6QjtBQUNBOzs7Q0FHQyxHQUNELE1BQU1HLGtDQUFrQztJQUNwQ0MsbUJB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U0FBUyxDQUFFO1FBQ25CLEtBQUssQ0FBQ0EsV0FBV2IsZ0NBQWdDLENBQUNhLFVBQVU7UUFDNUQsSUFBSSxDQUFDQyxJQUFJLEdBQUc7UUFDWkMsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRUwseUJBQXlCTSxTQUFTO0lBQ2xFO0FBQ0o7QUFDQSxTQUFTQywrQkFBK0JMLFNBQVM7SUFDN0MsT0FBTyxJQUFJRix5QkFBeUJFO0FBQ3hDO0FBRXVJLENBQ3ZJLHFEQUFxRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9lcnJvci9DbGllbnRDb25maWd1cmF0aW9uRXJyb3IubWpzPzM1NDIiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuL0F1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgcmVkaXJlY3RVcmlFbXB0eSwgY2xhaW1zUmVxdWVzdFBhcnNpbmdFcnJvciwgYXV0aG9yaXR5VXJpSW5zZWN1cmUsIHVybFBhcnNlRXJyb3IsIHVybEVtcHR5RXJyb3IsIGVtcHR5SW5wdXRTY29wZXNFcnJvciwgaW52YWxpZFByb21wdFZhbHVlLCBpbnZhbGlkQ2xhaW1zLCB0b2tlblJlcXVlc3RFbXB0eSwgbG9nb3V0UmVxdWVzdEVtcHR5LCBpbnZhbGlkQ29kZUNoYWxsZW5nZU1ldGhvZCwgcGtjZVBhcmFtc01pc3NpbmcsIGludmFsaWRDbG91ZERpc2NvdmVyeU1ldGFkYXRhLCBpbnZhbGlkQXV0aG9yaXR5TWV0YWRhdGEsIHVudHJ1c3RlZEF1dGhvcml0eSwgbWlzc2luZ1NzaEp3aywgbWlzc2luZ1NzaEtpZCwgbWlzc2luZ05vbmNlQXV0aGVudGljYXRpb25IZWFkZXIsIGludmFsaWRBdXRoZW50aWNhdGlvbkhlYWRlciwgY2Fubm90U2V0T0lEQ09wdGlvbnMsIGNhbm5vdEFsbG93TmF0aXZlQnJva2VyLCBhdXRob3JpdHlNaXNtYXRjaCB9IGZyb20gJy4vQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yQ29kZXMubWpzJztcbmltcG9ydCAqIGFzIENsaWVudENvbmZpZ3VyYXRpb25FcnJvckNvZGVzIGZyb20gJy4vQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yQ29kZXMubWpzJztcbmV4cG9ydCB7IENsaWVudENvbmZpZ3VyYXRpb25FcnJvckNvZGVzIH07XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlcyA9IHtcclxuICAgIFtyZWRpcmVjdFVyaUVtcHR5XTogXCJBIHJlZGlyZWN0IFVSSSBpcyByZXF1aXJlZCBmb3IgYWxsIGNhbGxzLCBhbmQgbm9uZSBoYXMgYmVlbiBzZXQuXCIsXHJcbiAgICBbY2xhaW1zUmVxdWVzdFBhcnNpbmdFcnJvcl06IFwiQ291bGQgbm90IHBhcnNlIHRoZSBnaXZlbiBjbGFpbXMgcmVxdWVzdCBvYmplY3QuXCIsXHJcbiAgICBbYXV0aG9yaXR5VXJpSW5zZWN1cmVdOiBcIkF1dGhvcml0eSBVUklzIG11c3QgdXNlIGh0dHBzLiAgUGxlYXNlIHNlZSBoZXJlIGZvciB2YWxpZCBhdXRob3JpdHkgY29uZmlndXJhdGlvbiBvcHRpb25zOiBodHRwczovL2RvY3MubWljcm9zb2Z0LmNvbS9lbi11cy9henVyZS9hY3RpdmUtZGlyZWN0b3J5L2RldmVsb3AvbXNhbC1qcy1pbml0aWFsaXppbmctY2xpZW50LWFwcGxpY2F0aW9ucyNjb25maWd1cmF0aW9uLW9wdGlvbnNcIixcclxuICAgIFt1cmxQYXJzZUVycm9yXTogXCJVUkwgY291bGQgbm90IGJlIHBhcnNlZCBpbnRvIGFwcHJvcHJpYXRlIHNlZ21lbnRzLlwiLFxyXG4gICAgW3VybEVtcHR5RXJyb3JdOiBcIlVSTCB3YXMgZW1wdHkgb3IgbnVsbC5cIixcclxuICAgIFtlbXB0eUlucHV0U2NvcGVzRXJyb3JdOiBcIlNjb3BlcyBjYW5ub3QgYmUgcGFzc2VkIGFzIG51bGwsIHVuZGVmaW5lZCBvciBlbXB0eSBhcnJheSBiZWNhdXNlIHRoZXkgYXJlIHJlcXVpcmVkIHRvIG9idGFpbiBhbiBhY2Nlc3MgdG9rZW4uXCIsXHJcbiAgICBbaW52YWxpZFByb21wdFZhbHVlXTogXCJQbGVhc2Ugc2VlIGhlcmUgZm9yIHZhbGlkIGNvbmZpZ3VyYXRpb24gb3B0aW9uczogaHR0cHM6Ly9henVyZWFkLmdpdGh1Yi5pby9taWNyb3NvZnQtYXV0aGVudGljYXRpb24tbGlicmFyeS1mb3ItanMvcmVmL21vZHVsZXMvX2F6dXJlX21zYWxfY29tbW9uLmh0bWwjY29tbW9uYXV0aG9yaXphdGlvbnVybHJlcXVlc3RcIixcclxuICAgIFtpbnZhbGlkQ2xhaW1zXTogXCJHaXZlbiBjbGFpbXMgcGFyYW1ldGVyIG11c3QgYmUgYSBzdHJpbmdpZmllZCBKU09OIG9iamVjdC5cIixcclxuICAgIFt0b2tlblJlcXVlc3RFbXB0eV06IFwiVG9rZW4gcmVxdWVzdCB3YXMgZW1wdHkgYW5kIG5vdCBmb3VuZCBpbiBjYWNoZS5cIixcclxuICAgIFtsb2dvdXRSZXF1ZXN0RW1wdHldOiBcIlRoZSBsb2dvdXQgcmVxdWVzdCB3YXMgbnVsbCBvciB1bmRlZmluZWQuXCIsXHJcbiAgICBbaW52YWxpZENvZGVDaGFsbGVuZ2VNZXRob2RdOiAnY29kZV9jaGFsbGVuZ2VfbWV0aG9kIHBhc3NlZCBpcyBpbnZhbGlkLiBWYWxpZCB2YWx1ZXMgYXJlIFwicGxhaW5cIiBhbmQgXCJTMjU2XCIuJyxcclxuICAgIFtwa2NlUGFyYW1zTWlzc2luZ106IFwiQm90aCBwYXJhbXM6IGNvZGVfY2hhbGxlbmdlIGFuZCBjb2RlX2NoYWxsZW5nZV9tZXRob2QgYXJlIHRvIGJlIHBhc3NlZCBpZiB0byBiZSBzZW50IGluIHRoZSByZXF1ZXN0XCIsXHJcbiAgICBbaW52YWxpZENsb3VkRGlzY292ZXJ5TWV0YWRhdGFdOiBcIkludmFsaWQgY2xvdWREaXNjb3ZlcnlNZXRhZGF0YSBwcm92aWRlZC4gTXVzdCBiZSBhIHN0cmluZ2lmaWVkIEpTT04gb2JqZWN0IGNvbnRhaW5pbmcgdGVuYW50X2Rpc2NvdmVyeV9lbmRwb2ludCBhbmQgbWV0YWRhdGEgZmllbGRzXCIsXHJcbiAgICBbaW52YWxpZEF1dGhvcml0eU1ldGFkYXRhXTogXCJJbnZhbGlkIGF1dGhvcml0eU1ldGFkYXRhIHByb3ZpZGVkLiBNdXN0IGJ5IGEgc3RyaW5naWZpZWQgSlNPTiBvYmplY3QgY29udGFpbmluZyBhdXRob3JpemF0aW9uX2VuZHBvaW50LCB0b2tlbl9lbmRwb2ludCwgaXNzdWVyIGZpZWxkcy5cIixcclxuICAgIFt1bnRydXN0ZWRBdXRob3JpdHldOiBcIlRoZSBwcm92aWRlZCBhdXRob3JpdHkgaXMgbm90IGEgdHJ1c3RlZCBhdXRob3JpdHkuIFBsZWFzZSBpbmNsdWRlIHRoaXMgYXV0aG9yaXR5IGluIHRoZSBrbm93bkF1dGhvcml0aWVzIGNvbmZpZyBwYXJhbWV0ZXIuXCIsXHJcbiAgICBbbWlzc2luZ1NzaEp3a106IFwiTWlzc2luZyBzc2hKd2sgaW4gU1NIIGNlcnRpZmljYXRlIHJlcXVlc3QuIEEgc3RyaW5naWZpZWQgSlNPTiBXZWIgS2V5IGlzIHJlcXVpcmVkIHdoZW4gdXNpbmcgdGhlIFNTSCBhdXRoZW50aWNhdGlvbiBzY2hlbWUuXCIsXHJcbiAgICBbbWlzc2luZ1NzaEtpZF06IFwiTWlzc2luZyBzc2hLaWQgaW4gU1NIIGNlcnRpZmljYXRlIHJlcXVlc3QuIEEgc3RyaW5nIHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgcHVibGljIFNTSCBrZXkgaXMgcmVxdWlyZWQgd2hlbiB1c2luZyB0aGUgU1NIIGF1dGhlbnRpY2F0aW9uIHNjaGVtZS5cIixcclxuICAgIFttaXNzaW5nTm9uY2VBdXRoZW50aWNhdGlvbkhlYWRlcl06IFwiVW5hYmxlIHRvIGZpbmQgYW4gYXV0aGVudGljYXRpb24gaGVhZGVyIGNvbnRhaW5pbmcgc2VydmVyIG5vbmNlLiBFaXRoZXIgdGhlIEF1dGhlbnRpY2F0aW9uLUluZm8gb3IgV1dXLUF1dGhlbnRpY2F0ZSBoZWFkZXJzIG11c3QgYmUgcHJlc2VudCBpbiBvcmRlciB0byBvYnRhaW4gYSBzZXJ2ZXIgbm9uY2UuXCIsXHJcbiAgICBbaW52YWxpZEF1dGhlbnRpY2F0aW9uSGVhZGVyXTogXCJJbnZhbGlkIGF1dGhlbnRpY2F0aW9uIGhlYWRlciBwcm92aWRlZFwiLFxyXG4gICAgW2Nhbm5vdFNldE9JRENPcHRpb25zXTogXCJDYW5ub3Qgc2V0IE9JRENPcHRpb25zIHBhcmFtZXRlci4gUGxlYXNlIGNoYW5nZSB0aGUgcHJvdG9jb2wgbW9kZSB0byBPSURDIG9yIHVzZSBhIG5vbi1NaWNyb3NvZnQgYXV0aG9yaXR5LlwiLFxyXG4gICAgW2Nhbm5vdEFsbG93TmF0aXZlQnJva2VyXTogXCJDYW5ub3Qgc2V0IGFsbG93TmF0aXZlQnJva2VyIHBhcmFtZXRlciB0byB0cnVlIHdoZW4gbm90IGluIEFBRCBwcm90b2NvbCBtb2RlLlwiLFxyXG4gICAgW2F1dGhvcml0eU1pc21hdGNoXTogXCJBdXRob3JpdHkgbWlzbWF0Y2ggZXJyb3IuIEF1dGhvcml0eSBwcm92aWRlZCBpbiBsb2dpbiByZXF1ZXN0IG9yIFB1YmxpY0NsaWVudEFwcGxpY2F0aW9uIGNvbmZpZyBkb2VzIG5vdCBtYXRjaCB0aGUgZW52aXJvbm1lbnQgb2YgdGhlIHByb3ZpZGVkIGFjY291bnQuIFBsZWFzZSB1c2UgYSBtYXRjaGluZyBhY2NvdW50IG9yIG1ha2UgYW4gaW50ZXJhY3RpdmUgcmVxdWVzdCB0byBsb2dpbiB0byB0aGlzIGF1dGhvcml0eS5cIixcclxufTtcclxuLyoqXHJcbiAqIENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UgY2xhc3MgY29udGFpbmluZyBzdHJpbmcgY29uc3RhbnRzIHVzZWQgYnkgZXJyb3IgY29kZXMgYW5kIG1lc3NhZ2VzLlxyXG4gKiBAZGVwcmVjYXRlZCBVc2UgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yQ29kZXMgaW5zdGVhZFxyXG4gKi9cclxuY29uc3QgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZSA9IHtcclxuICAgIHJlZGlyZWN0VXJpTm90U2V0OiB7XHJcbiAgICAgICAgY29kZTogcmVkaXJlY3RVcmlFbXB0eSxcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1tyZWRpcmVjdFVyaUVtcHR5XSxcclxuICAgIH0sXHJcbiAgICBjbGFpbXNSZXF1ZXN0UGFyc2luZ0Vycm9yOiB7XHJcbiAgICAgICAgY29kZTogY2xhaW1zUmVxdWVzdFBhcnNpbmdFcnJvcixcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1tjbGFpbXNSZXF1ZXN0UGFyc2luZ0Vycm9yXSxcclxuICAgIH0sXHJcbiAgICBhdXRob3JpdHlVcmlJbnNlY3VyZToge1xyXG4gICAgICAgIGNvZGU6IGF1dGhvcml0eVVyaUluc2VjdXJlLFxyXG4gICAgICAgIGRlc2M6IENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2VzW2F1dGhvcml0eVVyaUluc2VjdXJlXSxcclxuICAgIH0sXHJcbiAgICB1cmxQYXJzZUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogdXJsUGFyc2VFcnJvcixcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1t1cmxQYXJzZUVycm9yXSxcclxuICAgIH0sXHJcbiAgICB1cmxFbXB0eUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogdXJsRW1wdHlFcnJvcixcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1t1cmxFbXB0eUVycm9yXSxcclxuICAgIH0sXHJcbiAgICBlbXB0eVNjb3Blc0Vycm9yOiB7XHJcbiAgICAgICAgY29kZTogZW1wdHlJbnB1dFNjb3Blc0Vycm9yLFxyXG4gICAgICAgIGRlc2M6IENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2VzW2VtcHR5SW5wdXRTY29wZXNFcnJvcl0sXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZFByb21wdDoge1xyXG4gICAgICAgIGNvZGU6IGludmFsaWRQcm9tcHRWYWx1ZSxcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1tpbnZhbGlkUHJvbXB0VmFsdWVdLFxyXG4gICAgfSxcclxuICAgIGludmFsaWRDbGFpbXNSZXF1ZXN0OiB7XHJcbiAgICAgICAgY29kZTogaW52YWxpZENsYWltcyxcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1tpbnZhbGlkQ2xhaW1zXSxcclxuICAgIH0sXHJcbiAgICB0b2tlblJlcXVlc3RFbXB0eUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogdG9rZW5SZXF1ZXN0RW1wdHksXHJcbiAgICAgICAgZGVzYzogQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZXNbdG9rZW5SZXF1ZXN0RW1wdHldLFxyXG4gICAgfSxcclxuICAgIGxvZ291dFJlcXVlc3RFbXB0eUVycm9yOiB7XHJcbiAgICAgICAgY29kZTogbG9nb3V0UmVxdWVzdEVtcHR5LFxyXG4gICAgICAgIGRlc2M6IENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2VzW2xvZ291dFJlcXVlc3RFbXB0eV0sXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZENvZGVDaGFsbGVuZ2VNZXRob2Q6IHtcclxuICAgICAgICBjb2RlOiBpbnZhbGlkQ29kZUNoYWxsZW5nZU1ldGhvZCxcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1tpbnZhbGlkQ29kZUNoYWxsZW5nZU1ldGhvZF0sXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZENvZGVDaGFsbGVuZ2VQYXJhbXM6IHtcclxuICAgICAgICBjb2RlOiBwa2NlUGFyYW1zTWlzc2luZyxcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1twa2NlUGFyYW1zTWlzc2luZ10sXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZENsb3VkRGlzY292ZXJ5TWV0YWRhdGE6IHtcclxuICAgICAgICBjb2RlOiBpbnZhbGlkQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YSxcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1tpbnZhbGlkQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YV0sXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZEF1dGhvcml0eU1ldGFkYXRhOiB7XHJcbiAgICAgICAgY29kZTogaW52YWxpZEF1dGhvcml0eU1ldGFkYXRhLFxyXG4gICAgICAgIGRlc2M6IENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2VzW2ludmFsaWRBdXRob3JpdHlNZXRhZGF0YV0sXHJcbiAgICB9LFxyXG4gICAgdW50cnVzdGVkQXV0aG9yaXR5OiB7XHJcbiAgICAgICAgY29kZTogdW50cnVzdGVkQXV0aG9yaXR5LFxyXG4gICAgICAgIGRlc2M6IENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2VzW3VudHJ1c3RlZEF1dGhvcml0eV0sXHJcbiAgICB9LFxyXG4gICAgbWlzc2luZ1NzaEp3azoge1xyXG4gICAgICAgIGNvZGU6IG1pc3NpbmdTc2hKd2ssXHJcbiAgICAgICAgZGVzYzogQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZXNbbWlzc2luZ1NzaEp3a10sXHJcbiAgICB9LFxyXG4gICAgbWlzc2luZ1NzaEtpZDoge1xyXG4gICAgICAgIGNvZGU6IG1pc3NpbmdTc2hLaWQsXHJcbiAgICAgICAgZGVzYzogQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZXNbbWlzc2luZ1NzaEtpZF0sXHJcbiAgICB9LFxyXG4gICAgbWlzc2luZ05vbmNlQXV0aGVudGljYXRpb25IZWFkZXI6IHtcclxuICAgICAgICBjb2RlOiBtaXNzaW5nTm9uY2VBdXRoZW50aWNhdGlvbkhlYWRlcixcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1ttaXNzaW5nTm9uY2VBdXRoZW50aWNhdGlvbkhlYWRlcl0sXHJcbiAgICB9LFxyXG4gICAgaW52YWxpZEF1dGhlbnRpY2F0aW9uSGVhZGVyOiB7XHJcbiAgICAgICAgY29kZTogaW52YWxpZEF1dGhlbnRpY2F0aW9uSGVhZGVyLFxyXG4gICAgICAgIGRlc2M6IENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2VzW2ludmFsaWRBdXRoZW50aWNhdGlvbkhlYWRlcl0sXHJcbiAgICB9LFxyXG4gICAgY2Fubm90U2V0T0lEQ09wdGlvbnM6IHtcclxuICAgICAgICBjb2RlOiBjYW5ub3RTZXRPSURDT3B0aW9ucyxcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1tjYW5ub3RTZXRPSURDT3B0aW9uc10sXHJcbiAgICB9LFxyXG4gICAgY2Fubm90QWxsb3dOYXRpdmVCcm9rZXI6IHtcclxuICAgICAgICBjb2RlOiBjYW5ub3RBbGxvd05hdGl2ZUJyb2tlcixcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1tjYW5ub3RBbGxvd05hdGl2ZUJyb2tlcl0sXHJcbiAgICB9LFxyXG4gICAgYXV0aG9yaXR5TWlzbWF0Y2g6IHtcclxuICAgICAgICBjb2RlOiBhdXRob3JpdHlNaXNtYXRjaCxcclxuICAgICAgICBkZXNjOiBDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlc1thdXRob3JpdHlNaXNtYXRjaF0sXHJcbiAgICB9LFxyXG59O1xyXG4vKipcclxuICogRXJyb3IgdGhyb3duIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3IgaW4gY29uZmlndXJhdGlvbiBvZiB0aGUgTVNBTC5qcyBsaWJyYXJ5LlxyXG4gKi9cclxuY2xhc3MgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIGV4dGVuZHMgQXV0aEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGVycm9yQ29kZSkge1xyXG4gICAgICAgIHN1cGVyKGVycm9yQ29kZSwgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZXNbZXJyb3JDb2RlXSk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJDbGllbnRDb25maWd1cmF0aW9uRXJyb3JcIjtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLnByb3RvdHlwZSk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKGVycm9yQ29kZSkge1xyXG4gICAgcmV0dXJuIG5ldyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoZXJyb3JDb2RlKTtcclxufVxuXG5leHBvcnQgeyBDbGllbnRDb25maWd1cmF0aW9uRXJyb3IsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2UsIENsaWVudENvbmZpZ3VyYXRpb25FcnJvck1lc3NhZ2VzLCBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNsaWVudENvbmZpZ3VyYXRpb25FcnJvci5tanMubWFwXG4iXSwibmFtZXMiOlsiQXV0aEVycm9yIiwicmVkaXJlY3RVcmlFbXB0eSIsImNsYWltc1JlcXVlc3RQYXJzaW5nRXJyb3IiLCJhdXRob3JpdHlVcmlJbnNlY3VyZSIsInVybFBhcnNlRXJyb3IiLCJ1cmxFbXB0eUVycm9yIiwiZW1wdHlJbnB1dFNjb3Blc0Vycm9yIiwiaW52YWxpZFByb21wdFZhbHVlIiwiaW52YWxpZENsYWltcyIsInRva2VuUmVxdWVzdEVtcHR5IiwibG9nb3V0UmVxdWVzdEVtcHR5IiwiaW52YWxpZENvZGVDaGFsbGVuZ2VNZXRob2QiLCJwa2NlUGFyYW1zTWlzc2luZyIsImludmFsaWRDbG91ZERpc2NvdmVyeU1ldGFkYXRhIiwiaW52YWxpZEF1dGhvcml0eU1ldGFkYXRhIiwidW50cnVzdGVkQXV0aG9yaXR5IiwibWlzc2luZ1NzaEp3ayIsIm1pc3NpbmdTc2hLaWQiLCJtaXNzaW5nTm9uY2VBdXRoZW50aWNhdGlvbkhlYWRlciIsImludmFsaWRBdXRoZW50aWNhdGlvbkhlYWRlciIsImNhbm5vdFNldE9JRENPcHRpb25zIiwiY2Fubm90QWxsb3dOYXRpdmVCcm9rZXIiLCJhdXRob3JpdHlNaXNtYXRjaCIsIkNsaWVudENvbmZpZ3VyYXRpb25FcnJvckNvZGVzIiwiQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yTWVzc2FnZXMiLCJDbGllbnRDb25maWd1cmF0aW9uRXJyb3JNZXNzYWdlIiwicmVkaXJlY3RVcmlOb3RTZXQiLCJjb2RlIiwiZGVzYyIsImVtcHR5U2NvcGVzRXJyb3IiLCJpbnZhbGlkUHJvbXB0IiwiaW52YWxpZENsYWltc1JlcXVlc3QiLCJ0b2tlblJlcXVlc3RFbXB0eUVycm9yIiwibG9nb3V0UmVxdWVzdEVtcHR5RXJyb3IiLCJpbnZhbGlkQ29kZUNoYWxsZW5nZVBhcmFtcyIsIkNsaWVudENvbmZpZ3VyYXRpb25FcnJvciIsImNvbnN0cnVjdG9yIiwiZXJyb3JDb2RlIiwibmFtZSIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwiY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs ***!
  \**************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authorityMismatch: () => (/* binding */ authorityMismatch),\n/* harmony export */   authorityUriInsecure: () => (/* binding */ authorityUriInsecure),\n/* harmony export */   cannotAllowNativeBroker: () => (/* binding */ cannotAllowNativeBroker),\n/* harmony export */   cannotSetOIDCOptions: () => (/* binding */ cannotSetOIDCOptions),\n/* harmony export */   claimsRequestParsingError: () => (/* binding */ claimsRequestParsingError),\n/* harmony export */   emptyInputScopesError: () => (/* binding */ emptyInputScopesError),\n/* harmony export */   invalidAuthenticationHeader: () => (/* binding */ invalidAuthenticationHeader),\n/* harmony export */   invalidAuthorityMetadata: () => (/* binding */ invalidAuthorityMetadata),\n/* harmony export */   invalidClaims: () => (/* binding */ invalidClaims),\n/* harmony export */   invalidCloudDiscoveryMetadata: () => (/* binding */ invalidCloudDiscoveryMetadata),\n/* harmony export */   invalidCodeChallengeMethod: () => (/* binding */ invalidCodeChallengeMethod),\n/* harmony export */   invalidPromptValue: () => (/* binding */ invalidPromptValue),\n/* harmony export */   logoutRequestEmpty: () => (/* binding */ logoutRequestEmpty),\n/* harmony export */   missingNonceAuthenticationHeader: () => (/* binding */ missingNonceAuthenticationHeader),\n/* harmony export */   missingSshJwk: () => (/* binding */ missingSshJwk),\n/* harmony export */   missingSshKid: () => (/* binding */ missingSshKid),\n/* harmony export */   pkceParamsMissing: () => (/* binding */ pkceParamsMissing),\n/* harmony export */   redirectUriEmpty: () => (/* binding */ redirectUriEmpty),\n/* harmony export */   tokenRequestEmpty: () => (/* binding */ tokenRequestEmpty),\n/* harmony export */   untrustedAuthority: () => (/* binding */ untrustedAuthority),\n/* harmony export */   urlEmptyError: () => (/* binding */ urlEmptyError),\n/* harmony export */   urlParseError: () => (/* binding */ urlParseError)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const redirectUriEmpty = \"redirect_uri_empty\";\nconst claimsRequestParsingError = \"claims_request_parsing_error\";\nconst authorityUriInsecure = \"authority_uri_insecure\";\nconst urlParseError = \"url_parse_error\";\nconst urlEmptyError = \"empty_url_error\";\nconst emptyInputScopesError = \"empty_input_scopes_error\";\nconst invalidPromptValue = \"invalid_prompt_value\";\nconst invalidClaims = \"invalid_claims\";\nconst tokenRequestEmpty = \"token_request_empty\";\nconst logoutRequestEmpty = \"logout_request_empty\";\nconst invalidCodeChallengeMethod = \"invalid_code_challenge_method\";\nconst pkceParamsMissing = \"pkce_params_missing\";\nconst invalidCloudDiscoveryMetadata = \"invalid_cloud_discovery_metadata\";\nconst invalidAuthorityMetadata = \"invalid_authority_metadata\";\nconst untrustedAuthority = \"untrusted_authority\";\nconst missingSshJwk = \"missing_ssh_jwk\";\nconst missingSshKid = \"missing_ssh_kid\";\nconst missingNonceAuthenticationHeader = \"missing_nonce_authentication_header\";\nconst invalidAuthenticationHeader = \"invalid_authentication_header\";\nconst cannotSetOIDCOptions = \"cannot_set_OIDCOptions\";\nconst cannotAllowNativeBroker = \"cannot_allow_native_broker\";\nconst authorityMismatch = \"authority_mismatch\";\n //# sourceMappingURL=ClientConfigurationErrorCodes.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yQ29kZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDQTs7O0NBR0MsR0FDRCxNQUFNQSxtQkFBbUI7QUFDekIsTUFBTUMsNEJBQTRCO0FBQ2xDLE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyxnQkFBZ0I7QUFDdEIsTUFBTUMsZ0JBQWdCO0FBQ3RCLE1BQU1DLHdCQUF3QjtBQUM5QixNQUFNQyxxQkFBcUI7QUFDM0IsTUFBTUMsZ0JBQWdCO0FBQ3RCLE1BQU1DLG9CQUFvQjtBQUMxQixNQUFNQyxxQkFBcUI7QUFDM0IsTUFBTUMsNkJBQTZCO0FBQ25DLE1BQU1DLG9CQUFvQjtBQUMxQixNQUFNQyxnQ0FBZ0M7QUFDdEMsTUFBTUMsMkJBQTJCO0FBQ2pDLE1BQU1DLHFCQUFxQjtBQUMzQixNQUFNQyxnQkFBZ0I7QUFDdEIsTUFBTUMsZ0JBQWdCO0FBQ3RCLE1BQU1DLG1DQUFtQztBQUN6QyxNQUFNQyw4QkFBOEI7QUFDcEMsTUFBTUMsdUJBQXVCO0FBQzdCLE1BQU1DLDBCQUEwQjtBQUNoQyxNQUFNQyxvQkFBb0I7QUFFNmMsQ0FDdmUsMERBQTBEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2Vycm9yL0NsaWVudENvbmZpZ3VyYXRpb25FcnJvckNvZGVzLm1qcz9jZmQwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IHJlZGlyZWN0VXJpRW1wdHkgPSBcInJlZGlyZWN0X3VyaV9lbXB0eVwiO1xyXG5jb25zdCBjbGFpbXNSZXF1ZXN0UGFyc2luZ0Vycm9yID0gXCJjbGFpbXNfcmVxdWVzdF9wYXJzaW5nX2Vycm9yXCI7XHJcbmNvbnN0IGF1dGhvcml0eVVyaUluc2VjdXJlID0gXCJhdXRob3JpdHlfdXJpX2luc2VjdXJlXCI7XHJcbmNvbnN0IHVybFBhcnNlRXJyb3IgPSBcInVybF9wYXJzZV9lcnJvclwiO1xyXG5jb25zdCB1cmxFbXB0eUVycm9yID0gXCJlbXB0eV91cmxfZXJyb3JcIjtcclxuY29uc3QgZW1wdHlJbnB1dFNjb3Blc0Vycm9yID0gXCJlbXB0eV9pbnB1dF9zY29wZXNfZXJyb3JcIjtcclxuY29uc3QgaW52YWxpZFByb21wdFZhbHVlID0gXCJpbnZhbGlkX3Byb21wdF92YWx1ZVwiO1xyXG5jb25zdCBpbnZhbGlkQ2xhaW1zID0gXCJpbnZhbGlkX2NsYWltc1wiO1xyXG5jb25zdCB0b2tlblJlcXVlc3RFbXB0eSA9IFwidG9rZW5fcmVxdWVzdF9lbXB0eVwiO1xyXG5jb25zdCBsb2dvdXRSZXF1ZXN0RW1wdHkgPSBcImxvZ291dF9yZXF1ZXN0X2VtcHR5XCI7XHJcbmNvbnN0IGludmFsaWRDb2RlQ2hhbGxlbmdlTWV0aG9kID0gXCJpbnZhbGlkX2NvZGVfY2hhbGxlbmdlX21ldGhvZFwiO1xyXG5jb25zdCBwa2NlUGFyYW1zTWlzc2luZyA9IFwicGtjZV9wYXJhbXNfbWlzc2luZ1wiO1xyXG5jb25zdCBpbnZhbGlkQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YSA9IFwiaW52YWxpZF9jbG91ZF9kaXNjb3ZlcnlfbWV0YWRhdGFcIjtcclxuY29uc3QgaW52YWxpZEF1dGhvcml0eU1ldGFkYXRhID0gXCJpbnZhbGlkX2F1dGhvcml0eV9tZXRhZGF0YVwiO1xyXG5jb25zdCB1bnRydXN0ZWRBdXRob3JpdHkgPSBcInVudHJ1c3RlZF9hdXRob3JpdHlcIjtcclxuY29uc3QgbWlzc2luZ1NzaEp3ayA9IFwibWlzc2luZ19zc2hfandrXCI7XHJcbmNvbnN0IG1pc3NpbmdTc2hLaWQgPSBcIm1pc3Npbmdfc3NoX2tpZFwiO1xyXG5jb25zdCBtaXNzaW5nTm9uY2VBdXRoZW50aWNhdGlvbkhlYWRlciA9IFwibWlzc2luZ19ub25jZV9hdXRoZW50aWNhdGlvbl9oZWFkZXJcIjtcclxuY29uc3QgaW52YWxpZEF1dGhlbnRpY2F0aW9uSGVhZGVyID0gXCJpbnZhbGlkX2F1dGhlbnRpY2F0aW9uX2hlYWRlclwiO1xyXG5jb25zdCBjYW5ub3RTZXRPSURDT3B0aW9ucyA9IFwiY2Fubm90X3NldF9PSURDT3B0aW9uc1wiO1xyXG5jb25zdCBjYW5ub3RBbGxvd05hdGl2ZUJyb2tlciA9IFwiY2Fubm90X2FsbG93X25hdGl2ZV9icm9rZXJcIjtcclxuY29uc3QgYXV0aG9yaXR5TWlzbWF0Y2ggPSBcImF1dGhvcml0eV9taXNtYXRjaFwiO1xuXG5leHBvcnQgeyBhdXRob3JpdHlNaXNtYXRjaCwgYXV0aG9yaXR5VXJpSW5zZWN1cmUsIGNhbm5vdEFsbG93TmF0aXZlQnJva2VyLCBjYW5ub3RTZXRPSURDT3B0aW9ucywgY2xhaW1zUmVxdWVzdFBhcnNpbmdFcnJvciwgZW1wdHlJbnB1dFNjb3Blc0Vycm9yLCBpbnZhbGlkQXV0aGVudGljYXRpb25IZWFkZXIsIGludmFsaWRBdXRob3JpdHlNZXRhZGF0YSwgaW52YWxpZENsYWltcywgaW52YWxpZENsb3VkRGlzY292ZXJ5TWV0YWRhdGEsIGludmFsaWRDb2RlQ2hhbGxlbmdlTWV0aG9kLCBpbnZhbGlkUHJvbXB0VmFsdWUsIGxvZ291dFJlcXVlc3RFbXB0eSwgbWlzc2luZ05vbmNlQXV0aGVudGljYXRpb25IZWFkZXIsIG1pc3NpbmdTc2hKd2ssIG1pc3NpbmdTc2hLaWQsIHBrY2VQYXJhbXNNaXNzaW5nLCByZWRpcmVjdFVyaUVtcHR5LCB0b2tlblJlcXVlc3RFbXB0eSwgdW50cnVzdGVkQXV0aG9yaXR5LCB1cmxFbXB0eUVycm9yLCB1cmxQYXJzZUVycm9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DbGllbnRDb25maWd1cmF0aW9uRXJyb3JDb2Rlcy5tanMubWFwXG4iXSwibmFtZXMiOlsicmVkaXJlY3RVcmlFbXB0eSIsImNsYWltc1JlcXVlc3RQYXJzaW5nRXJyb3IiLCJhdXRob3JpdHlVcmlJbnNlY3VyZSIsInVybFBhcnNlRXJyb3IiLCJ1cmxFbXB0eUVycm9yIiwiZW1wdHlJbnB1dFNjb3Blc0Vycm9yIiwiaW52YWxpZFByb21wdFZhbHVlIiwiaW52YWxpZENsYWltcyIsInRva2VuUmVxdWVzdEVtcHR5IiwibG9nb3V0UmVxdWVzdEVtcHR5IiwiaW52YWxpZENvZGVDaGFsbGVuZ2VNZXRob2QiLCJwa2NlUGFyYW1zTWlzc2luZyIsImludmFsaWRDbG91ZERpc2NvdmVyeU1ldGFkYXRhIiwiaW52YWxpZEF1dGhvcml0eU1ldGFkYXRhIiwidW50cnVzdGVkQXV0aG9yaXR5IiwibWlzc2luZ1NzaEp3ayIsIm1pc3NpbmdTc2hLaWQiLCJtaXNzaW5nTm9uY2VBdXRoZW50aWNhdGlvbkhlYWRlciIsImludmFsaWRBdXRoZW50aWNhdGlvbkhlYWRlciIsImNhbm5vdFNldE9JRENPcHRpb25zIiwiY2Fubm90QWxsb3dOYXRpdmVCcm9rZXIiLCJhdXRob3JpdHlNaXNtYXRjaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs ***!
  \*************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InteractionRequiredAuthError: () => (/* binding */ InteractionRequiredAuthError),\n/* harmony export */   InteractionRequiredAuthErrorCodes: () => (/* reexport module object */ _InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__),\n/* harmony export */   InteractionRequiredAuthErrorMessage: () => (/* binding */ InteractionRequiredAuthErrorMessage),\n/* harmony export */   InteractionRequiredAuthSubErrorMessage: () => (/* binding */ InteractionRequiredAuthSubErrorMessage),\n/* harmony export */   InteractionRequiredServerErrorMessage: () => (/* binding */ InteractionRequiredServerErrorMessage),\n/* harmony export */   createInteractionRequiredAuthError: () => (/* binding */ createInteractionRequiredAuthError),\n/* harmony export */   isInteractionRequiredError: () => (/* binding */ isInteractionRequiredError)\n/* harmony export */ });\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _AuthError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./InteractionRequiredAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * InteractionRequiredServerErrorMessage contains string constants used by error codes and messages returned by the server indicating interaction is required\r\n */ const InteractionRequiredServerErrorMessage = [\n    _InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.interactionRequired,\n    _InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.consentRequired,\n    _InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.loginRequired,\n    _InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.badToken\n];\nconst InteractionRequiredAuthSubErrorMessage = [\n    \"message_only\",\n    \"additional_action\",\n    \"basic_action\",\n    \"user_password_expired\",\n    \"consent_required\",\n    \"bad_token\"\n];\nconst InteractionRequiredAuthErrorMessages = {\n    [_InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noTokensFound]: \"No refresh token found in the cache. Please sign-in.\",\n    [_InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativeAccountUnavailable]: \"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.\",\n    [_InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.refreshTokenExpired]: \"Refresh token has expired.\",\n    [_InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.badToken]: \"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve.\"\n};\n/**\r\n * Interaction required errors defined by the SDK\r\n * @deprecated Use InteractionRequiredAuthErrorCodes instead\r\n */ const InteractionRequiredAuthErrorMessage = {\n    noTokensFoundError: {\n        code: _InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noTokensFound,\n        desc: InteractionRequiredAuthErrorMessages[_InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.noTokensFound]\n    },\n    native_account_unavailable: {\n        code: _InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativeAccountUnavailable,\n        desc: InteractionRequiredAuthErrorMessages[_InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.nativeAccountUnavailable]\n    },\n    bad_token: {\n        code: _InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.badToken,\n        desc: InteractionRequiredAuthErrorMessages[_InteractionRequiredAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.badToken]\n    }\n};\n/**\r\n * Error thrown when user interaction is required.\r\n */ class InteractionRequiredAuthError extends _AuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthError {\n    constructor(errorCode, errorMessage, subError, timestamp, traceId, correlationId, claims, errorNo){\n        super(errorCode, errorMessage, subError);\n        Object.setPrototypeOf(this, InteractionRequiredAuthError.prototype);\n        this.timestamp = timestamp || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.Constants.EMPTY_STRING;\n        this.traceId = traceId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.Constants.EMPTY_STRING;\n        this.correlationId = correlationId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.Constants.EMPTY_STRING;\n        this.claims = claims || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.Constants.EMPTY_STRING;\n        this.name = \"InteractionRequiredAuthError\";\n        this.errorNo = errorNo;\n    }\n}\n/**\r\n * Helper function used to determine if an error thrown by the server requires interaction to resolve\r\n * @param errorCode\r\n * @param errorString\r\n * @param subError\r\n */ function isInteractionRequiredError(errorCode, errorString, subError) {\n    const isInteractionRequiredErrorCode = !!errorCode && InteractionRequiredServerErrorMessage.indexOf(errorCode) > -1;\n    const isInteractionRequiredSubError = !!subError && InteractionRequiredAuthSubErrorMessage.indexOf(subError) > -1;\n    const isInteractionRequiredErrorDesc = !!errorString && InteractionRequiredServerErrorMessage.some((irErrorCode)=>{\n        return errorString.indexOf(irErrorCode) > -1;\n    });\n    return isInteractionRequiredErrorCode || isInteractionRequiredErrorDesc || isInteractionRequiredSubError;\n}\n/**\r\n * Creates an InteractionRequiredAuthError\r\n */ function createInteractionRequiredAuthError(errorCode) {\n    return new InteractionRequiredAuthError(errorCode, InteractionRequiredAuthErrorMessages[errorCode]);\n}\n //# sourceMappingURL=InteractionRequiredAuthError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNtRDtBQUNQO0FBQzBJO0FBQ3pGO0FBQ2hEO0FBRTdDOzs7Q0FHQyxHQUNEOztDQUVDLEdBQ0QsTUFBTVUsd0NBQXdDO0lBQzFDSix1RkFBbUJBO0lBQ25CQyxtRkFBZUE7SUFDZkMsaUZBQWFBO0lBQ2JKLDRFQUFRQTtDQUNYO0FBQ0QsTUFBTU8seUNBQXlDO0lBQzNDO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtDQUNIO0FBQ0QsTUFBTUMsdUNBQXVDO0lBQ3pDLENBQUNWLGlGQUFhQSxDQUFDLEVBQUU7SUFDakIsQ0FBQ0MsNEZBQXdCQSxDQUFDLEVBQUU7SUFDNUIsQ0FBQ0UsdUZBQW1CQSxDQUFDLEVBQUU7SUFDdkIsQ0FBQ0QsNEVBQVFBLENBQUMsRUFBRTtBQUNoQjtBQUNBOzs7Q0FHQyxHQUNELE1BQU1TLHNDQUFzQztJQUN4Q0Msb0JBQW9CO1FBQ2hCQyxNQUFNYixpRkFBYUE7UUFDbkJjLE1BQU1KLG9DQUFvQyxDQUFDVixpRkFBYUEsQ0FBQztJQUM3RDtJQUNBZSw0QkFBNEI7UUFDeEJGLE1BQU1aLDRGQUF3QkE7UUFDOUJhLE1BQU1KLG9DQUFvQyxDQUFDVCw0RkFBd0JBLENBQUM7SUFDeEU7SUFDQWUsV0FBVztRQUNQSCxNQUFNWCw0RUFBUUE7UUFDZFksTUFBTUosb0NBQW9DLENBQUNSLDRFQUFRQSxDQUFDO0lBQ3hEO0FBQ0o7QUFDQTs7Q0FFQyxHQUNELE1BQU1lLHFDQUFxQ2xCLHFEQUFTQTtJQUNoRG1CLFlBQVlDLFNBQVMsRUFBRUMsWUFBWSxFQUFFQyxRQUFRLEVBQUVDLFNBQVMsRUFBRUMsT0FBTyxFQUFFQyxhQUFhLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxDQUFFO1FBQy9GLEtBQUssQ0FBQ1AsV0FBV0MsY0FBY0M7UUFDL0JNLE9BQU9DLGNBQWMsQ0FBQyxJQUFJLEVBQUVYLDZCQUE2QlksU0FBUztRQUNsRSxJQUFJLENBQUNQLFNBQVMsR0FBR0EsYUFBYXhCLDJEQUFTQSxDQUFDZ0MsWUFBWTtRQUNwRCxJQUFJLENBQUNQLE9BQU8sR0FBR0EsV0FBV3pCLDJEQUFTQSxDQUFDZ0MsWUFBWTtRQUNoRCxJQUFJLENBQUNOLGFBQWEsR0FBR0EsaUJBQWlCMUIsMkRBQVNBLENBQUNnQyxZQUFZO1FBQzVELElBQUksQ0FBQ0wsTUFBTSxHQUFHQSxVQUFVM0IsMkRBQVNBLENBQUNnQyxZQUFZO1FBQzlDLElBQUksQ0FBQ0MsSUFBSSxHQUFHO1FBQ1osSUFBSSxDQUFDTCxPQUFPLEdBQUdBO0lBQ25CO0FBQ0o7QUFDQTs7Ozs7Q0FLQyxHQUNELFNBQVNNLDJCQUEyQmIsU0FBUyxFQUFFYyxXQUFXLEVBQUVaLFFBQVE7SUFDaEUsTUFBTWEsaUNBQWlDLENBQUMsQ0FBQ2YsYUFDckNYLHNDQUFzQzJCLE9BQU8sQ0FBQ2hCLGFBQWEsQ0FBQztJQUNoRSxNQUFNaUIsZ0NBQWdDLENBQUMsQ0FBQ2YsWUFDcENaLHVDQUF1QzBCLE9BQU8sQ0FBQ2QsWUFBWSxDQUFDO0lBQ2hFLE1BQU1nQixpQ0FBaUMsQ0FBQyxDQUFDSixlQUNyQ3pCLHNDQUFzQzhCLElBQUksQ0FBQyxDQUFDQztRQUN4QyxPQUFPTixZQUFZRSxPQUFPLENBQUNJLGVBQWUsQ0FBQztJQUMvQztJQUNKLE9BQVFMLGtDQUNKRyxrQ0FDQUQ7QUFDUjtBQUNBOztDQUVDLEdBQ0QsU0FBU0ksbUNBQW1DckIsU0FBUztJQUNqRCxPQUFPLElBQUlGLDZCQUE2QkUsV0FBV1Qsb0NBQW9DLENBQUNTLFVBQVU7QUFDdEc7QUFFNE4sQ0FDNU4seURBQXlEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L2Vycm9yL0ludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IubWpzPzQ3MTgiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMubWpzJztcbmltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4vQXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBub1Rva2Vuc0ZvdW5kLCBuYXRpdmVBY2NvdW50VW5hdmFpbGFibGUsIGJhZFRva2VuLCByZWZyZXNoVG9rZW5FeHBpcmVkLCBpbnRlcmFjdGlvblJlcXVpcmVkLCBjb25zZW50UmVxdWlyZWQsIGxvZ2luUmVxdWlyZWQgfSBmcm9tICcuL0ludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3JDb2Rlcy5tanMnO1xuaW1wb3J0ICogYXMgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvckNvZGVzIGZyb20gJy4vSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvckNvZGVzLm1qcyc7XG5leHBvcnQgeyBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yQ29kZXMgfTtcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBJbnRlcmFjdGlvblJlcXVpcmVkU2VydmVyRXJyb3JNZXNzYWdlIGNvbnRhaW5zIHN0cmluZyBjb25zdGFudHMgdXNlZCBieSBlcnJvciBjb2RlcyBhbmQgbWVzc2FnZXMgcmV0dXJuZWQgYnkgdGhlIHNlcnZlciBpbmRpY2F0aW5nIGludGVyYWN0aW9uIGlzIHJlcXVpcmVkXHJcbiAqL1xyXG5jb25zdCBJbnRlcmFjdGlvblJlcXVpcmVkU2VydmVyRXJyb3JNZXNzYWdlID0gW1xyXG4gICAgaW50ZXJhY3Rpb25SZXF1aXJlZCxcclxuICAgIGNvbnNlbnRSZXF1aXJlZCxcclxuICAgIGxvZ2luUmVxdWlyZWQsXHJcbiAgICBiYWRUb2tlbixcclxuXTtcclxuY29uc3QgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhTdWJFcnJvck1lc3NhZ2UgPSBbXHJcbiAgICBcIm1lc3NhZ2Vfb25seVwiLFxyXG4gICAgXCJhZGRpdGlvbmFsX2FjdGlvblwiLFxyXG4gICAgXCJiYXNpY19hY3Rpb25cIixcclxuICAgIFwidXNlcl9wYXNzd29yZF9leHBpcmVkXCIsXHJcbiAgICBcImNvbnNlbnRfcmVxdWlyZWRcIixcclxuICAgIFwiYmFkX3Rva2VuXCIsXHJcbl07XHJcbmNvbnN0IEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3JNZXNzYWdlcyA9IHtcclxuICAgIFtub1Rva2Vuc0ZvdW5kXTogXCJObyByZWZyZXNoIHRva2VuIGZvdW5kIGluIHRoZSBjYWNoZS4gUGxlYXNlIHNpZ24taW4uXCIsXHJcbiAgICBbbmF0aXZlQWNjb3VudFVuYXZhaWxhYmxlXTogXCJUaGUgcmVxdWVzdGVkIGFjY291bnQgaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgbmF0aXZlIGJyb2tlci4gSXQgbWF5IGhhdmUgYmVlbiBkZWxldGVkIG9yIGxvZ2dlZCBvdXQuIFBsZWFzZSBzaWduLWluIGFnYWluIHVzaW5nIGFuIGludGVyYWN0aXZlIEFQSS5cIixcclxuICAgIFtyZWZyZXNoVG9rZW5FeHBpcmVkXTogXCJSZWZyZXNoIHRva2VuIGhhcyBleHBpcmVkLlwiLFxyXG4gICAgW2JhZFRva2VuXTogXCJJZGVudGl0eSBwcm92aWRlciByZXR1cm5lZCBiYWRfdG9rZW4gZHVlIHRvIGFuIGV4cGlyZWQgb3IgaW52YWxpZCByZWZyZXNoIHRva2VuLiBQbGVhc2UgaW52b2tlIGFuIGludGVyYWN0aXZlIEFQSSB0byByZXNvbHZlLlwiLFxyXG59O1xyXG4vKipcclxuICogSW50ZXJhY3Rpb24gcmVxdWlyZWQgZXJyb3JzIGRlZmluZWQgYnkgdGhlIFNES1xyXG4gKiBAZGVwcmVjYXRlZCBVc2UgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvckNvZGVzIGluc3RlYWRcclxuICovXHJcbmNvbnN0IEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3JNZXNzYWdlID0ge1xyXG4gICAgbm9Ub2tlbnNGb3VuZEVycm9yOiB7XHJcbiAgICAgICAgY29kZTogbm9Ub2tlbnNGb3VuZCxcclxuICAgICAgICBkZXNjOiBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yTWVzc2FnZXNbbm9Ub2tlbnNGb3VuZF0sXHJcbiAgICB9LFxyXG4gICAgbmF0aXZlX2FjY291bnRfdW5hdmFpbGFibGU6IHtcclxuICAgICAgICBjb2RlOiBuYXRpdmVBY2NvdW50VW5hdmFpbGFibGUsXHJcbiAgICAgICAgZGVzYzogSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvck1lc3NhZ2VzW25hdGl2ZUFjY291bnRVbmF2YWlsYWJsZV0sXHJcbiAgICB9LFxyXG4gICAgYmFkX3Rva2VuOiB7XHJcbiAgICAgICAgY29kZTogYmFkVG9rZW4sXHJcbiAgICAgICAgZGVzYzogSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvck1lc3NhZ2VzW2JhZFRva2VuXSxcclxuICAgIH0sXHJcbn07XHJcbi8qKlxyXG4gKiBFcnJvciB0aHJvd24gd2hlbiB1c2VyIGludGVyYWN0aW9uIGlzIHJlcXVpcmVkLlxyXG4gKi9cclxuY2xhc3MgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvciBleHRlbmRzIEF1dGhFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihlcnJvckNvZGUsIGVycm9yTWVzc2FnZSwgc3ViRXJyb3IsIHRpbWVzdGFtcCwgdHJhY2VJZCwgY29ycmVsYXRpb25JZCwgY2xhaW1zLCBlcnJvck5vKSB7XHJcbiAgICAgICAgc3VwZXIoZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2UsIHN1YkVycm9yKTtcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgdGhpcy50cmFjZUlkID0gdHJhY2VJZCB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgIHRoaXMuY29ycmVsYXRpb25JZCA9IGNvcnJlbGF0aW9uSWQgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORztcclxuICAgICAgICB0aGlzLmNsYWltcyA9IGNsYWltcyB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwiSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvclwiO1xyXG4gICAgICAgIHRoaXMuZXJyb3JObyA9IGVycm9yTm87XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIEhlbHBlciBmdW5jdGlvbiB1c2VkIHRvIGRldGVybWluZSBpZiBhbiBlcnJvciB0aHJvd24gYnkgdGhlIHNlcnZlciByZXF1aXJlcyBpbnRlcmFjdGlvbiB0byByZXNvbHZlXHJcbiAqIEBwYXJhbSBlcnJvckNvZGVcclxuICogQHBhcmFtIGVycm9yU3RyaW5nXHJcbiAqIEBwYXJhbSBzdWJFcnJvclxyXG4gKi9cclxuZnVuY3Rpb24gaXNJbnRlcmFjdGlvblJlcXVpcmVkRXJyb3IoZXJyb3JDb2RlLCBlcnJvclN0cmluZywgc3ViRXJyb3IpIHtcclxuICAgIGNvbnN0IGlzSW50ZXJhY3Rpb25SZXF1aXJlZEVycm9yQ29kZSA9ICEhZXJyb3JDb2RlICYmXHJcbiAgICAgICAgSW50ZXJhY3Rpb25SZXF1aXJlZFNlcnZlckVycm9yTWVzc2FnZS5pbmRleE9mKGVycm9yQ29kZSkgPiAtMTtcclxuICAgIGNvbnN0IGlzSW50ZXJhY3Rpb25SZXF1aXJlZFN1YkVycm9yID0gISFzdWJFcnJvciAmJlxyXG4gICAgICAgIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoU3ViRXJyb3JNZXNzYWdlLmluZGV4T2Yoc3ViRXJyb3IpID4gLTE7XHJcbiAgICBjb25zdCBpc0ludGVyYWN0aW9uUmVxdWlyZWRFcnJvckRlc2MgPSAhIWVycm9yU3RyaW5nICYmXHJcbiAgICAgICAgSW50ZXJhY3Rpb25SZXF1aXJlZFNlcnZlckVycm9yTWVzc2FnZS5zb21lKChpckVycm9yQ29kZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gZXJyb3JTdHJpbmcuaW5kZXhPZihpckVycm9yQ29kZSkgPiAtMTtcclxuICAgICAgICB9KTtcclxuICAgIHJldHVybiAoaXNJbnRlcmFjdGlvblJlcXVpcmVkRXJyb3JDb2RlIHx8XHJcbiAgICAgICAgaXNJbnRlcmFjdGlvblJlcXVpcmVkRXJyb3JEZXNjIHx8XHJcbiAgICAgICAgaXNJbnRlcmFjdGlvblJlcXVpcmVkU3ViRXJyb3IpO1xyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGFuIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3JcclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IoZXJyb3JDb2RlKSB7XHJcbiAgICByZXR1cm4gbmV3IEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3IoZXJyb3JDb2RlLCBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yTWVzc2FnZXNbZXJyb3JDb2RlXSk7XHJcbn1cblxuZXhwb3J0IHsgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvciwgSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvck1lc3NhZ2UsIEludGVyYWN0aW9uUmVxdWlyZWRBdXRoU3ViRXJyb3JNZXNzYWdlLCBJbnRlcmFjdGlvblJlcXVpcmVkU2VydmVyRXJyb3JNZXNzYWdlLCBjcmVhdGVJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yLCBpc0ludGVyYWN0aW9uUmVxdWlyZWRFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvci5tanMubWFwXG4iXSwibmFtZXMiOlsiQ29uc3RhbnRzIiwiQXV0aEVycm9yIiwibm9Ub2tlbnNGb3VuZCIsIm5hdGl2ZUFjY291bnRVbmF2YWlsYWJsZSIsImJhZFRva2VuIiwicmVmcmVzaFRva2VuRXhwaXJlZCIsImludGVyYWN0aW9uUmVxdWlyZWQiLCJjb25zZW50UmVxdWlyZWQiLCJsb2dpblJlcXVpcmVkIiwiSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvckNvZGVzIiwiSW50ZXJhY3Rpb25SZXF1aXJlZFNlcnZlckVycm9yTWVzc2FnZSIsIkludGVyYWN0aW9uUmVxdWlyZWRBdXRoU3ViRXJyb3JNZXNzYWdlIiwiSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvck1lc3NhZ2VzIiwiSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvck1lc3NhZ2UiLCJub1Rva2Vuc0ZvdW5kRXJyb3IiLCJjb2RlIiwiZGVzYyIsIm5hdGl2ZV9hY2NvdW50X3VuYXZhaWxhYmxlIiwiYmFkX3Rva2VuIiwiSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvciIsImNvbnN0cnVjdG9yIiwiZXJyb3JDb2RlIiwiZXJyb3JNZXNzYWdlIiwic3ViRXJyb3IiLCJ0aW1lc3RhbXAiLCJ0cmFjZUlkIiwiY29ycmVsYXRpb25JZCIsImNsYWltcyIsImVycm9yTm8iLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsIkVNUFRZX1NUUklORyIsIm5hbWUiLCJpc0ludGVyYWN0aW9uUmVxdWlyZWRFcnJvciIsImVycm9yU3RyaW5nIiwiaXNJbnRlcmFjdGlvblJlcXVpcmVkRXJyb3JDb2RlIiwiaW5kZXhPZiIsImlzSW50ZXJhY3Rpb25SZXF1aXJlZFN1YkVycm9yIiwiaXNJbnRlcmFjdGlvblJlcXVpcmVkRXJyb3JEZXNjIiwic29tZSIsImlyRXJyb3JDb2RlIiwiY3JlYXRlSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs":
/*!******************************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   badToken: () => (/* binding */ badToken),\n/* harmony export */   consentRequired: () => (/* binding */ consentRequired),\n/* harmony export */   interactionRequired: () => (/* binding */ interactionRequired),\n/* harmony export */   loginRequired: () => (/* binding */ loginRequired),\n/* harmony export */   nativeAccountUnavailable: () => (/* binding */ nativeAccountUnavailable),\n/* harmony export */   noTokensFound: () => (/* binding */ noTokensFound),\n/* harmony export */   refreshTokenExpired: () => (/* binding */ refreshTokenExpired)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ // Codes defined by MSAL\nconst noTokensFound = \"no_tokens_found\";\nconst nativeAccountUnavailable = \"native_account_unavailable\";\nconst refreshTokenExpired = \"refresh_token_expired\";\n// Codes potentially returned by server\nconst interactionRequired = \"interaction_required\";\nconst consentRequired = \"consent_required\";\nconst loginRequired = \"login_required\";\nconst badToken = \"bad_token\";\n //# sourceMappingURL=InteractionRequiredAuthErrorCodes.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvckNvZGVzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0Qsd0JBQXdCO0FBQ3hCLE1BQU1BLGdCQUFnQjtBQUN0QixNQUFNQywyQkFBMkI7QUFDakMsTUFBTUMsc0JBQXNCO0FBQzVCLHVDQUF1QztBQUN2QyxNQUFNQyxzQkFBc0I7QUFDNUIsTUFBTUMsa0JBQWtCO0FBQ3hCLE1BQU1DLGdCQUFnQjtBQUN0QixNQUFNQyxXQUFXO0FBRXNILENBQ3ZJLDhEQUE4RCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9lcnJvci9JbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yQ29kZXMubWpzPzRmMDkiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLy8gQ29kZXMgZGVmaW5lZCBieSBNU0FMXHJcbmNvbnN0IG5vVG9rZW5zRm91bmQgPSBcIm5vX3Rva2Vuc19mb3VuZFwiO1xyXG5jb25zdCBuYXRpdmVBY2NvdW50VW5hdmFpbGFibGUgPSBcIm5hdGl2ZV9hY2NvdW50X3VuYXZhaWxhYmxlXCI7XHJcbmNvbnN0IHJlZnJlc2hUb2tlbkV4cGlyZWQgPSBcInJlZnJlc2hfdG9rZW5fZXhwaXJlZFwiO1xyXG4vLyBDb2RlcyBwb3RlbnRpYWxseSByZXR1cm5lZCBieSBzZXJ2ZXJcclxuY29uc3QgaW50ZXJhY3Rpb25SZXF1aXJlZCA9IFwiaW50ZXJhY3Rpb25fcmVxdWlyZWRcIjtcclxuY29uc3QgY29uc2VudFJlcXVpcmVkID0gXCJjb25zZW50X3JlcXVpcmVkXCI7XHJcbmNvbnN0IGxvZ2luUmVxdWlyZWQgPSBcImxvZ2luX3JlcXVpcmVkXCI7XHJcbmNvbnN0IGJhZFRva2VuID0gXCJiYWRfdG9rZW5cIjtcblxuZXhwb3J0IHsgYmFkVG9rZW4sIGNvbnNlbnRSZXF1aXJlZCwgaW50ZXJhY3Rpb25SZXF1aXJlZCwgbG9naW5SZXF1aXJlZCwgbmF0aXZlQWNjb3VudFVuYXZhaWxhYmxlLCBub1Rva2Vuc0ZvdW5kLCByZWZyZXNoVG9rZW5FeHBpcmVkIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yQ29kZXMubWpzLm1hcFxuIl0sIm5hbWVzIjpbIm5vVG9rZW5zRm91bmQiLCJuYXRpdmVBY2NvdW50VW5hdmFpbGFibGUiLCJyZWZyZXNoVG9rZW5FeHBpcmVkIiwiaW50ZXJhY3Rpb25SZXF1aXJlZCIsImNvbnNlbnRSZXF1aXJlZCIsImxvZ2luUmVxdWlyZWQiLCJiYWRUb2tlbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthErrorCodes.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/JoseHeaderError.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/JoseHeaderError.mjs ***!
  \************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   JoseHeaderError: () => (/* binding */ JoseHeaderError),\n/* harmony export */   JoseHeaderErrorMessages: () => (/* binding */ JoseHeaderErrorMessages),\n/* harmony export */   createJoseHeaderError: () => (/* binding */ createJoseHeaderError)\n/* harmony export */ });\n/* harmony import */ var _AuthError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/* harmony import */ var _JoseHeaderErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./JoseHeaderErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/JoseHeaderErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const JoseHeaderErrorMessages = {\n    [_JoseHeaderErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingKidError]: \"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.\",\n    [_JoseHeaderErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_0__.missingAlgError]: \"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided.\"\n};\n/**\r\n * Error thrown when there is an error in the client code running on the browser.\r\n */ class JoseHeaderError extends _AuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthError {\n    constructor(errorCode, errorMessage){\n        super(errorCode, errorMessage);\n        this.name = \"JoseHeaderError\";\n        Object.setPrototypeOf(this, JoseHeaderError.prototype);\n    }\n}\n/** Returns JoseHeaderError object */ function createJoseHeaderError(code) {\n    return new JoseHeaderError(code, JoseHeaderErrorMessages[code]);\n}\n //# sourceMappingURL=JoseHeaderError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvSm9zZUhlYWRlckVycm9yLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUM0QztBQUNrQztBQUU5RTs7O0NBR0MsR0FDRCxNQUFNRywwQkFBMEI7SUFDNUIsQ0FBQ0Ysc0VBQWVBLENBQUMsRUFBRTtJQUNuQixDQUFDQyxzRUFBZUEsQ0FBQyxFQUFFO0FBQ3ZCO0FBQ0E7O0NBRUMsR0FDRCxNQUFNRSx3QkFBd0JKLHFEQUFTQTtJQUNuQ0ssWUFBWUMsU0FBUyxFQUFFQyxZQUFZLENBQUU7UUFDakMsS0FBSyxDQUFDRCxXQUFXQztRQUNqQixJQUFJLENBQUNDLElBQUksR0FBRztRQUNaQyxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFTixnQkFBZ0JPLFNBQVM7SUFDekQ7QUFDSjtBQUNBLG1DQUFtQyxHQUNuQyxTQUFTQyxzQkFBc0JDLElBQUk7SUFDL0IsT0FBTyxJQUFJVCxnQkFBZ0JTLE1BQU1WLHVCQUF1QixDQUFDVSxLQUFLO0FBQ2xFO0FBRTJFLENBQzNFLDRDQUE0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9lcnJvci9Kb3NlSGVhZGVyRXJyb3IubWpzP2NlMDYiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuL0F1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgbWlzc2luZ0tpZEVycm9yLCBtaXNzaW5nQWxnRXJyb3IgfSBmcm9tICcuL0pvc2VIZWFkZXJFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBKb3NlSGVhZGVyRXJyb3JNZXNzYWdlcyA9IHtcclxuICAgIFttaXNzaW5nS2lkRXJyb3JdOiBcIlRoZSBKT1NFIEhlYWRlciBmb3IgdGhlIHJlcXVlc3RlZCBKV1QsIEpXUyBvciBKV0sgb2JqZWN0IHJlcXVpcmVzIGEga2V5SWQgdG8gYmUgY29uZmlndXJlZCBhcyB0aGUgJ2tpZCcgaGVhZGVyIGNsYWltLiBObyAna2lkJyB2YWx1ZSB3YXMgcHJvdmlkZWQuXCIsXHJcbiAgICBbbWlzc2luZ0FsZ0Vycm9yXTogXCJUaGUgSk9TRSBIZWFkZXIgZm9yIHRoZSByZXF1ZXN0ZWQgSldULCBKV1Mgb3IgSldLIG9iamVjdCByZXF1aXJlcyBhbiBhbGdvcml0aG0gdG8gYmUgc3BlY2lmaWVkIGFzIHRoZSAnYWxnJyBoZWFkZXIgY2xhaW0uIE5vICdhbGcnIHZhbHVlIHdhcyBwcm92aWRlZC5cIixcclxufTtcclxuLyoqXHJcbiAqIEVycm9yIHRocm93biB3aGVuIHRoZXJlIGlzIGFuIGVycm9yIGluIHRoZSBjbGllbnQgY29kZSBydW5uaW5nIG9uIHRoZSBicm93c2VyLlxyXG4gKi9cclxuY2xhc3MgSm9zZUhlYWRlckVycm9yIGV4dGVuZHMgQXV0aEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlKSB7XHJcbiAgICAgICAgc3VwZXIoZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwiSm9zZUhlYWRlckVycm9yXCI7XHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEpvc2VIZWFkZXJFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgfVxyXG59XHJcbi8qKiBSZXR1cm5zIEpvc2VIZWFkZXJFcnJvciBvYmplY3QgKi9cclxuZnVuY3Rpb24gY3JlYXRlSm9zZUhlYWRlckVycm9yKGNvZGUpIHtcclxuICAgIHJldHVybiBuZXcgSm9zZUhlYWRlckVycm9yKGNvZGUsIEpvc2VIZWFkZXJFcnJvck1lc3NhZ2VzW2NvZGVdKTtcclxufVxuXG5leHBvcnQgeyBKb3NlSGVhZGVyRXJyb3IsIEpvc2VIZWFkZXJFcnJvck1lc3NhZ2VzLCBjcmVhdGVKb3NlSGVhZGVyRXJyb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUpvc2VIZWFkZXJFcnJvci5tanMubWFwXG4iXSwibmFtZXMiOlsiQXV0aEVycm9yIiwibWlzc2luZ0tpZEVycm9yIiwibWlzc2luZ0FsZ0Vycm9yIiwiSm9zZUhlYWRlckVycm9yTWVzc2FnZXMiLCJKb3NlSGVhZGVyRXJyb3IiLCJjb25zdHJ1Y3RvciIsImVycm9yQ29kZSIsImVycm9yTWVzc2FnZSIsIm5hbWUiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsInByb3RvdHlwZSIsImNyZWF0ZUpvc2VIZWFkZXJFcnJvciIsImNvZGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/JoseHeaderError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/JoseHeaderErrorCodes.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/JoseHeaderErrorCodes.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   missingAlgError: () => (/* binding */ missingAlgError),\n/* harmony export */   missingKidError: () => (/* binding */ missingKidError)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const missingKidError = \"missing_kid_error\";\nconst missingAlgError = \"missing_alg_error\";\n //# sourceMappingURL=JoseHeaderErrorCodes.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvSm9zZUhlYWRlckVycm9yQ29kZXMubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0QsTUFBTUEsa0JBQWtCO0FBQ3hCLE1BQU1DLGtCQUFrQjtBQUVvQixDQUM1QyxpREFBaUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvSm9zZUhlYWRlckVycm9yQ29kZXMubWpzPzgzZTMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3QgbWlzc2luZ0tpZEVycm9yID0gXCJtaXNzaW5nX2tpZF9lcnJvclwiO1xyXG5jb25zdCBtaXNzaW5nQWxnRXJyb3IgPSBcIm1pc3NpbmdfYWxnX2Vycm9yXCI7XG5cbmV4cG9ydCB7IG1pc3NpbmdBbGdFcnJvciwgbWlzc2luZ0tpZEVycm9yIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Kb3NlSGVhZGVyRXJyb3JDb2Rlcy5tanMubWFwXG4iXSwibmFtZXMiOlsibWlzc2luZ0tpZEVycm9yIiwibWlzc2luZ0FsZ0Vycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/JoseHeaderErrorCodes.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/NetworkError.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/NetworkError.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NetworkError: () => (/* binding */ NetworkError),\n/* harmony export */   createNetworkError: () => (/* binding */ createNetworkError)\n/* harmony export */ });\n/* harmony import */ var _AuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Represents network related errors\r\n */ class NetworkError extends _AuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.AuthError {\n    constructor(error, httpStatus, responseHeaders){\n        super(error.errorCode, error.errorMessage, error.subError);\n        Object.setPrototypeOf(this, NetworkError.prototype);\n        this.name = \"NetworkError\";\n        this.error = error;\n        this.httpStatus = httpStatus;\n        this.responseHeaders = responseHeaders;\n    }\n}\n/**\r\n * Creates NetworkError object for a failed network request\r\n * @param error - Error to be thrown back to the caller\r\n * @param httpStatus - Status code of the network request\r\n * @param responseHeaders - Response headers of the network request, when available\r\n * @returns NetworkError object\r\n */ function createNetworkError(error, httpStatus, responseHeaders) {\n    return new NetworkError(error, httpStatus, responseHeaders);\n}\n //# sourceMappingURL=NetworkError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvTmV0d29ya0Vycm9yLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDNEM7QUFFNUM7OztDQUdDLEdBQ0Q7O0NBRUMsR0FDRCxNQUFNQyxxQkFBcUJELHFEQUFTQTtJQUNoQ0UsWUFBWUMsS0FBSyxFQUFFQyxVQUFVLEVBQUVDLGVBQWUsQ0FBRTtRQUM1QyxLQUFLLENBQUNGLE1BQU1HLFNBQVMsRUFBRUgsTUFBTUksWUFBWSxFQUFFSixNQUFNSyxRQUFRO1FBQ3pEQyxPQUFPQyxjQUFjLENBQUMsSUFBSSxFQUFFVCxhQUFhVSxTQUFTO1FBQ2xELElBQUksQ0FBQ0MsSUFBSSxHQUFHO1FBQ1osSUFBSSxDQUFDVCxLQUFLLEdBQUdBO1FBQ2IsSUFBSSxDQUFDQyxVQUFVLEdBQUdBO1FBQ2xCLElBQUksQ0FBQ0MsZUFBZSxHQUFHQTtJQUMzQjtBQUNKO0FBQ0E7Ozs7OztDQU1DLEdBQ0QsU0FBU1EsbUJBQW1CVixLQUFLLEVBQUVDLFVBQVUsRUFBRUMsZUFBZTtJQUMxRCxPQUFPLElBQUlKLGFBQWFFLE9BQU9DLFlBQVlDO0FBQy9DO0FBRTRDLENBQzVDLHlDQUF5QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9lcnJvci9OZXR3b3JrRXJyb3IubWpzP2JiMmMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBBdXRoRXJyb3IgfSBmcm9tICcuL0F1dGhFcnJvci5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJlcHJlc2VudHMgbmV0d29yayByZWxhdGVkIGVycm9yc1xyXG4gKi9cclxuY2xhc3MgTmV0d29ya0Vycm9yIGV4dGVuZHMgQXV0aEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGVycm9yLCBodHRwU3RhdHVzLCByZXNwb25zZUhlYWRlcnMpIHtcclxuICAgICAgICBzdXBlcihlcnJvci5lcnJvckNvZGUsIGVycm9yLmVycm9yTWVzc2FnZSwgZXJyb3Iuc3ViRXJyb3IpO1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBOZXR3b3JrRXJyb3IucHJvdG90eXBlKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcIk5ldHdvcmtFcnJvclwiO1xyXG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcclxuICAgICAgICB0aGlzLmh0dHBTdGF0dXMgPSBodHRwU3RhdHVzO1xyXG4gICAgICAgIHRoaXMucmVzcG9uc2VIZWFkZXJzID0gcmVzcG9uc2VIZWFkZXJzO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIE5ldHdvcmtFcnJvciBvYmplY3QgZm9yIGEgZmFpbGVkIG5ldHdvcmsgcmVxdWVzdFxyXG4gKiBAcGFyYW0gZXJyb3IgLSBFcnJvciB0byBiZSB0aHJvd24gYmFjayB0byB0aGUgY2FsbGVyXHJcbiAqIEBwYXJhbSBodHRwU3RhdHVzIC0gU3RhdHVzIGNvZGUgb2YgdGhlIG5ldHdvcmsgcmVxdWVzdFxyXG4gKiBAcGFyYW0gcmVzcG9uc2VIZWFkZXJzIC0gUmVzcG9uc2UgaGVhZGVycyBvZiB0aGUgbmV0d29yayByZXF1ZXN0LCB3aGVuIGF2YWlsYWJsZVxyXG4gKiBAcmV0dXJucyBOZXR3b3JrRXJyb3Igb2JqZWN0XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVOZXR3b3JrRXJyb3IoZXJyb3IsIGh0dHBTdGF0dXMsIHJlc3BvbnNlSGVhZGVycykge1xyXG4gICAgcmV0dXJuIG5ldyBOZXR3b3JrRXJyb3IoZXJyb3IsIGh0dHBTdGF0dXMsIHJlc3BvbnNlSGVhZGVycyk7XHJcbn1cblxuZXhwb3J0IHsgTmV0d29ya0Vycm9yLCBjcmVhdGVOZXR3b3JrRXJyb3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU5ldHdvcmtFcnJvci5tanMubWFwXG4iXSwibmFtZXMiOlsiQXV0aEVycm9yIiwiTmV0d29ya0Vycm9yIiwiY29uc3RydWN0b3IiLCJlcnJvciIsImh0dHBTdGF0dXMiLCJyZXNwb25zZUhlYWRlcnMiLCJlcnJvckNvZGUiLCJlcnJvck1lc3NhZ2UiLCJzdWJFcnJvciIsIk9iamVjdCIsInNldFByb3RvdHlwZU9mIiwicHJvdG90eXBlIiwibmFtZSIsImNyZWF0ZU5ldHdvcmtFcnJvciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/NetworkError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/error/ServerError.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/error/ServerError.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServerError: () => (/* binding */ ServerError)\n/* harmony export */ });\n/* harmony import */ var _AuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./AuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Error thrown when there is an error with the server code, for example, unavailability.\r\n */ class ServerError extends _AuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.AuthError {\n    constructor(errorCode, errorMessage, subError, errorNo, status){\n        super(errorCode, errorMessage, subError);\n        this.name = \"ServerError\";\n        this.errorNo = errorNo;\n        this.status = status;\n        Object.setPrototypeOf(this, ServerError.prototype);\n    }\n}\n //# sourceMappingURL=ServerError.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvZXJyb3IvU2VydmVyRXJyb3IubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQzRDO0FBRTVDOzs7Q0FHQyxHQUNEOztDQUVDLEdBQ0QsTUFBTUMsb0JBQW9CRCxxREFBU0E7SUFDL0JFLFlBQVlDLFNBQVMsRUFBRUMsWUFBWSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsTUFBTSxDQUFFO1FBQzVELEtBQUssQ0FBQ0osV0FBV0MsY0FBY0M7UUFDL0IsSUFBSSxDQUFDRyxJQUFJLEdBQUc7UUFDWixJQUFJLENBQUNGLE9BQU8sR0FBR0E7UUFDZixJQUFJLENBQUNDLE1BQU0sR0FBR0E7UUFDZEUsT0FBT0MsY0FBYyxDQUFDLElBQUksRUFBRVQsWUFBWVUsU0FBUztJQUNyRDtBQUNKO0FBRXVCLENBQ3ZCLHdDQUF3QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9lcnJvci9TZXJ2ZXJFcnJvci5tanM/ZjUwOSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IEF1dGhFcnJvciB9IGZyb20gJy4vQXV0aEVycm9yLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRXJyb3IgdGhyb3duIHdoZW4gdGhlcmUgaXMgYW4gZXJyb3Igd2l0aCB0aGUgc2VydmVyIGNvZGUsIGZvciBleGFtcGxlLCB1bmF2YWlsYWJpbGl0eS5cclxuICovXHJcbmNsYXNzIFNlcnZlckVycm9yIGV4dGVuZHMgQXV0aEVycm9yIHtcclxuICAgIGNvbnN0cnVjdG9yKGVycm9yQ29kZSwgZXJyb3JNZXNzYWdlLCBzdWJFcnJvciwgZXJyb3JObywgc3RhdHVzKSB7XHJcbiAgICAgICAgc3VwZXIoZXJyb3JDb2RlLCBlcnJvck1lc3NhZ2UsIHN1YkVycm9yKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcIlNlcnZlckVycm9yXCI7XHJcbiAgICAgICAgdGhpcy5lcnJvck5vID0gZXJyb3JObztcclxuICAgICAgICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcclxuICAgICAgICBPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcywgU2VydmVyRXJyb3IucHJvdG90eXBlKTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBTZXJ2ZXJFcnJvciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2VydmVyRXJyb3IubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkF1dGhFcnJvciIsIlNlcnZlckVycm9yIiwiY29uc3RydWN0b3IiLCJlcnJvckNvZGUiLCJlcnJvck1lc3NhZ2UiLCJzdWJFcnJvciIsImVycm9yTm8iLCJzdGF0dXMiLCJuYW1lIiwiT2JqZWN0Iiwic2V0UHJvdG90eXBlT2YiLCJwcm90b3R5cGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/error/ServerError.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/logger/Logger.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/logger/Logger.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogLevel: () => (/* binding */ LogLevel),\n/* harmony export */   Logger: () => (/* binding */ Logger)\n/* harmony export */ });\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Log message level.\r\n */ var LogLevel;\n(function(LogLevel) {\n    LogLevel[LogLevel[\"Error\"] = 0] = \"Error\";\n    LogLevel[LogLevel[\"Warning\"] = 1] = \"Warning\";\n    LogLevel[LogLevel[\"Info\"] = 2] = \"Info\";\n    LogLevel[LogLevel[\"Verbose\"] = 3] = \"Verbose\";\n    LogLevel[LogLevel[\"Trace\"] = 4] = \"Trace\";\n})(LogLevel || (LogLevel = {}));\n/**\r\n * Class which facilitates logging of messages to a specific place.\r\n */ class Logger {\n    constructor(loggerOptions, packageName, packageVersion){\n        // Current log level, defaults to info.\n        this.level = LogLevel.Info;\n        const defaultLoggerCallback = ()=>{\n            return;\n        };\n        const setLoggerOptions = loggerOptions || Logger.createDefaultLoggerOptions();\n        this.localCallback = setLoggerOptions.loggerCallback || defaultLoggerCallback;\n        this.piiLoggingEnabled = setLoggerOptions.piiLoggingEnabled || false;\n        this.level = typeof setLoggerOptions.logLevel === \"number\" ? setLoggerOptions.logLevel : LogLevel.Info;\n        this.correlationId = setLoggerOptions.correlationId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING;\n        this.packageName = packageName || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING;\n        this.packageVersion = packageVersion || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING;\n    }\n    static createDefaultLoggerOptions() {\n        return {\n            loggerCallback: ()=>{\n            // allow users to not set loggerCallback\n            },\n            piiLoggingEnabled: false,\n            logLevel: LogLevel.Info\n        };\n    }\n    /**\r\n     * Create new Logger with existing configurations.\r\n     */ clone(packageName, packageVersion, correlationId) {\n        return new Logger({\n            loggerCallback: this.localCallback,\n            piiLoggingEnabled: this.piiLoggingEnabled,\n            logLevel: this.level,\n            correlationId: correlationId || this.correlationId\n        }, packageName, packageVersion);\n    }\n    /**\r\n     * Log message with required options.\r\n     */ logMessage(logMessage, options) {\n        if (options.logLevel > this.level || !this.piiLoggingEnabled && options.containsPii) {\n            return;\n        }\n        const timestamp = new Date().toUTCString();\n        // Add correlationId to logs if set, correlationId provided on log messages take precedence\n        const logHeader = `[${timestamp}] : [${options.correlationId || this.correlationId || \"\"}]`;\n        const log = `${logHeader} : ${this.packageName}@${this.packageVersion} : ${LogLevel[options.logLevel]} - ${logMessage}`;\n        // debug(`msal:${LogLevel[options.logLevel]}${options.containsPii ? \"-Pii\": Constants.EMPTY_STRING}${options.context ? `:${options.context}` : Constants.EMPTY_STRING}`)(logMessage);\n        this.executeCallback(options.logLevel, log, options.containsPii || false);\n    }\n    /**\r\n     * Execute callback with message.\r\n     */ executeCallback(level, message, containsPii) {\n        if (this.localCallback) {\n            this.localCallback(level, message, containsPii);\n        }\n    }\n    /**\r\n     * Logs error messages.\r\n     */ error(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Error,\n            containsPii: false,\n            correlationId: correlationId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n        });\n    }\n    /**\r\n     * Logs error messages with PII.\r\n     */ errorPii(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Error,\n            containsPii: true,\n            correlationId: correlationId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n        });\n    }\n    /**\r\n     * Logs warning messages.\r\n     */ warning(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Warning,\n            containsPii: false,\n            correlationId: correlationId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n        });\n    }\n    /**\r\n     * Logs warning messages with PII.\r\n     */ warningPii(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Warning,\n            containsPii: true,\n            correlationId: correlationId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n        });\n    }\n    /**\r\n     * Logs info messages.\r\n     */ info(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Info,\n            containsPii: false,\n            correlationId: correlationId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n        });\n    }\n    /**\r\n     * Logs info messages with PII.\r\n     */ infoPii(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Info,\n            containsPii: true,\n            correlationId: correlationId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n        });\n    }\n    /**\r\n     * Logs verbose messages.\r\n     */ verbose(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Verbose,\n            containsPii: false,\n            correlationId: correlationId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n        });\n    }\n    /**\r\n     * Logs verbose messages with PII.\r\n     */ verbosePii(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Verbose,\n            containsPii: true,\n            correlationId: correlationId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n        });\n    }\n    /**\r\n     * Logs trace messages.\r\n     */ trace(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Trace,\n            containsPii: false,\n            correlationId: correlationId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n        });\n    }\n    /**\r\n     * Logs trace messages with PII.\r\n     */ tracePii(message, correlationId) {\n        this.logMessage(message, {\n            logLevel: LogLevel.Trace,\n            containsPii: true,\n            correlationId: correlationId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING\n        });\n    }\n    /**\r\n     * Returns whether PII Logging is enabled or not.\r\n     */ isPiiLoggingEnabled() {\n        return this.piiLoggingEnabled || false;\n    }\n}\n //# sourceMappingURL=Logger.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvbG9nZ2VyL0xvZ2dlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ21EO0FBRW5EOzs7Q0FHQyxHQUNEOztDQUVDLEdBQ0QsSUFBSUM7QUFDSCxVQUFVQSxRQUFRO0lBQ2ZBLFFBQVEsQ0FBQ0EsUUFBUSxDQUFDLFFBQVEsR0FBRyxFQUFFLEdBQUc7SUFDbENBLFFBQVEsQ0FBQ0EsUUFBUSxDQUFDLFVBQVUsR0FBRyxFQUFFLEdBQUc7SUFDcENBLFFBQVEsQ0FBQ0EsUUFBUSxDQUFDLE9BQU8sR0FBRyxFQUFFLEdBQUc7SUFDakNBLFFBQVEsQ0FBQ0EsUUFBUSxDQUFDLFVBQVUsR0FBRyxFQUFFLEdBQUc7SUFDcENBLFFBQVEsQ0FBQ0EsUUFBUSxDQUFDLFFBQVEsR0FBRyxFQUFFLEdBQUc7QUFDdEMsR0FBR0EsWUFBYUEsQ0FBQUEsV0FBVyxDQUFDO0FBQzVCOztDQUVDLEdBQ0QsTUFBTUM7SUFDRkMsWUFBWUMsYUFBYSxFQUFFQyxXQUFXLEVBQUVDLGNBQWMsQ0FBRTtRQUNwRCx1Q0FBdUM7UUFDdkMsSUFBSSxDQUFDQyxLQUFLLEdBQUdOLFNBQVNPLElBQUk7UUFDMUIsTUFBTUMsd0JBQXdCO1lBQzFCO1FBQ0o7UUFDQSxNQUFNQyxtQkFBbUJOLGlCQUFpQkYsT0FBT1MsMEJBQTBCO1FBQzNFLElBQUksQ0FBQ0MsYUFBYSxHQUNkRixpQkFBaUJHLGNBQWMsSUFBSUo7UUFDdkMsSUFBSSxDQUFDSyxpQkFBaUIsR0FBR0osaUJBQWlCSSxpQkFBaUIsSUFBSTtRQUMvRCxJQUFJLENBQUNQLEtBQUssR0FDTixPQUFPRyxpQkFBaUJLLFFBQVEsS0FBSyxXQUMvQkwsaUJBQWlCSyxRQUFRLEdBQ3pCZCxTQUFTTyxJQUFJO1FBQ3ZCLElBQUksQ0FBQ1EsYUFBYSxHQUNkTixpQkFBaUJNLGFBQWEsSUFBSWhCLDJEQUFTQSxDQUFDaUIsWUFBWTtRQUM1RCxJ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Q3JCYixVQUFVZCxTQUFTd0MsS0FBSztZQUN4QnBCLGFBQWE7WUFDYkwsZUFBZUEsaUJBQWlCaEIsMkRBQVNBLENBQUNpQixZQUFZO1FBQzFEO0lBQ0o7SUFDQTs7S0FFQyxHQUNEMEIsc0JBQXNCO1FBQ2xCLE9BQU8sSUFBSSxDQUFDN0IsaUJBQWlCLElBQUk7SUFDckM7QUFDSjtBQUU0QixDQUM1QixtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvbG9nZ2VyL0xvZ2dlci5tanM/Yjc0MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IENvbnN0YW50cyB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50cy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIExvZyBtZXNzYWdlIGxldmVsLlxyXG4gKi9cclxudmFyIExvZ0xldmVsO1xyXG4oZnVuY3Rpb24gKExvZ0xldmVsKSB7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkVycm9yXCJdID0gMF0gPSBcIkVycm9yXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIldhcm5pbmdcIl0gPSAxXSA9IFwiV2FybmluZ1wiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJJbmZvXCJdID0gMl0gPSBcIkluZm9cIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiVmVyYm9zZVwiXSA9IDNdID0gXCJWZXJib3NlXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIlRyYWNlXCJdID0gNF0gPSBcIlRyYWNlXCI7XHJcbn0pKExvZ0xldmVsIHx8IChMb2dMZXZlbCA9IHt9KSk7XHJcbi8qKlxyXG4gKiBDbGFzcyB3aGljaCBmYWNpbGl0YXRlcyBsb2dnaW5nIG9mIG1lc3NhZ2VzIHRvIGEgc3BlY2lmaWMgcGxhY2UuXHJcbiAqL1xyXG5jbGFzcyBMb2dnZXIge1xyXG4gICAgY29uc3RydWN0b3IobG9nZ2VyT3B0aW9ucywgcGFja2FnZU5hbWUsIHBhY2thZ2VWZXJzaW9uKSB7XHJcbiAgICAgICAgLy8gQ3VycmVudCBsb2cgbGV2ZWwsIGRlZmF1bHRzIHRvIGluZm8uXHJcbiAgICAgICAgdGhpcy5sZXZlbCA9IExvZ0xldmVsLkluZm87XHJcbiAgICAgICAgY29uc3QgZGVmYXVsdExvZ2dlckNhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBzZXRMb2dnZXJPcHRpb25zID0gbG9nZ2VyT3B0aW9ucyB8fCBMb2dnZXIuY3JlYXRlRGVmYXVsdExvZ2dlck9wdGlvbnMoKTtcclxuICAgICAgICB0aGlzLmxvY2FsQ2FsbGJhY2sgPVxyXG4gICAgICAgICAgICBzZXRMb2dnZXJPcHRpb25zLmxvZ2dlckNhbGxiYWNrIHx8IGRlZmF1bHRMb2dnZXJDYWxsYmFjaztcclxuICAgICAgICB0aGlzLnBpaUxvZ2dpbmdFbmFibGVkID0gc2V0TG9nZ2VyT3B0aW9ucy5waWlMb2dnaW5nRW5hYmxlZCB8fCBmYWxzZTtcclxuICAgICAgICB0aGlzLmxldmVsID1cclxuICAgICAgICAgICAgdHlwZW9mIHNldExvZ2dlck9wdGlvbnMubG9nTGV2ZWwgPT09IFwibnVtYmVyXCJcclxuICAgICAgICAgICAgICAgID8gc2V0TG9nZ2VyT3B0aW9ucy5sb2dMZXZlbFxyXG4gICAgICAgICAgICAgICAgOiBMb2dMZXZlbC5JbmZvO1xyXG4gICAgICAgIHRoaXMuY29ycmVsYXRpb25JZCA9XHJcbiAgICAgICAgICAgIHNldExvZ2dlck9wdGlvbnMuY29ycmVsYXRpb25JZCB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgIHRoaXMucGFja2FnZU5hbWUgPSBwYWNrYWdlTmFtZSB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgIHRoaXMucGFja2FnZVZlcnNpb24gPSBwYWNrYWdlVmVyc2lvbiB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGNyZWF0ZURlZmF1bHRMb2dnZXJPcHRpb25zKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGxvZ2dlckNhbGxiYWNrOiAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBhbGxvdyB1c2VycyB0byBub3Qgc2V0IGxvZ2dlckNhbGxiYWNrXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHBpaUxvZ2dpbmdFbmFibGVkOiBmYWxzZSxcclxuICAgICAgICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLkluZm8sXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlIG5ldyBMb2dnZXIgd2l0aCBleGlzdGluZyBjb25maWd1cmF0aW9ucy5cclxuICAgICAqL1xyXG4gICAgY2xvbmUocGFja2FnZU5hbWUsIHBhY2thZ2VWZXJzaW9uLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBMb2dnZXIoe1xyXG4gICAgICAgICAgICBsb2dnZXJDYWxsYmFjazogdGhpcy5sb2NhbENhbGxiYWNrLFxyXG4gICAgICAgICAgICBwaWlMb2dnaW5nRW5hYmxlZDogdGhpcy5waWlMb2dnaW5nRW5hYmxlZCxcclxuICAgICAgICAgICAgbG9nTGV2ZWw6IHRoaXMubGV2ZWwsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IGNvcnJlbGF0aW9uSWQgfHwgdGhpcy5jb3JyZWxhdGlvbklkLFxyXG4gICAgICAgIH0sIHBhY2thZ2VOYW1lLCBwYWNrYWdlVmVyc2lvbik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvZyBtZXNzYWdlIHdpdGggcmVxdWlyZWQgb3B0aW9ucy5cclxuICAgICAqL1xyXG4gICAgbG9nTWVzc2FnZShsb2dNZXNzYWdlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMubG9nTGV2ZWwgPiB0aGlzLmxldmVsIHx8XHJcbiAgICAgICAgICAgICghdGhpcy5waWlMb2dnaW5nRW5hYmxlZCAmJiBvcHRpb25zLmNvbnRhaW5zUGlpKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IG5ldyBEYXRlKCkudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAvLyBBZGQgY29ycmVsYXRpb25JZCB0byBsb2dzIGlmIHNldCwgY29ycmVsYXRpb25JZCBwcm92aWRlZCBvbiBsb2cgbWVzc2FnZXMgdGFrZSBwcmVjZWRlbmNlXHJcbiAgICAgICAgY29uc3QgbG9nSGVhZGVyID0gYFske3RpbWVzdGFtcH1dIDogWyR7b3B0aW9ucy5jb3JyZWxhdGlvbklkIHx8IHRoaXMuY29ycmVsYXRpb25JZCB8fCBcIlwifV1gO1xyXG4gICAgICAgIGNvbnN0IGxvZyA9IGAke2xvZ0hlYWRlcn0gOiAke3RoaXMucGFja2FnZU5hbWV9QCR7dGhpcy5wYWNrYWdlVmVyc2lvbn0gOiAke0xvZ0xldmVsW29wdGlvbnMubG9nTGV2ZWxdfSAtICR7bG9nTWVzc2FnZX1gO1xyXG4gICAgICAgIC8vIGRlYnVnKGBtc2FsOiR7TG9nTGV2ZWxbb3B0aW9ucy5sb2dMZXZlbF19JHtvcHRpb25zLmNvbnRhaW5zUGlpID8gXCItUGlpXCI6IENvbnN0YW50cy5FTVBUWV9TVFJJTkd9JHtvcHRpb25zLmNvbnRleHQgPyBgOiR7b3B0aW9ucy5jb250ZXh0fWAgOiBDb25zdGFudHMuRU1QVFlfU1RSSU5HfWApKGxvZ01lc3NhZ2UpO1xyXG4gICAgICAgIHRoaXMuZXhlY3V0ZUNhbGxiYWNrKG9wdGlvbnMubG9nTGV2ZWwsIGxvZywgb3B0aW9ucy5jb250YWluc1BpaSB8fCBmYWxzZSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEV4ZWN1dGUgY2FsbGJhY2sgd2l0aCBtZXNzYWdlLlxyXG4gICAgICovXHJcbiAgICBleGVjdXRlQ2FsbGJhY2sobGV2ZWwsIG1lc3NhZ2UsIGNvbnRhaW5zUGlpKSB7XHJcbiAgICAgICAgaWYgKHRoaXMubG9jYWxDYWxsYmFjaykge1xyXG4gICAgICAgICAgICB0aGlzLmxvY2FsQ2FsbGJhY2sobGV2ZWwsIG1lc3NhZ2UsIGNvbnRhaW5zUGlpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvZ3MgZXJyb3IgbWVzc2FnZXMuXHJcbiAgICAgKi9cclxuICAgIGVycm9yKG1lc3NhZ2UsIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICB0aGlzLmxvZ01lc3NhZ2UobWVzc2FnZSwge1xyXG4gICAgICAgICAgICBsb2dMZXZlbDogTG9nTGV2ZWwuRXJyb3IsXHJcbiAgICAgICAgICAgIGNvbnRhaW5zUGlpOiBmYWxzZSxcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogY29ycmVsYXRpb25JZCB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2dzIGVycm9yIG1lc3NhZ2VzIHdpdGggUElJLlxyXG4gICAgICovXHJcbiAgICBlcnJvclBpaShtZXNzYWdlLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5sb2dNZXNzYWdlKG1lc3NhZ2UsIHtcclxuICAgICAgICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLkVycm9yLFxyXG4gICAgICAgICAgICBjb250YWluc1BpaTogdHJ1ZSxcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogY29ycmVsYXRpb25JZCB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2dzIHdhcm5pbmcgbWVzc2FnZXMuXHJcbiAgICAgKi9cclxuICAgIHdhcm5pbmcobWVzc2FnZSwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHRoaXMubG9nTWVzc2FnZShtZXNzYWdlLCB7XHJcbiAgICAgICAgICAgIGxvZ0xldmVsOiBMb2dMZXZlbC5XYXJuaW5nLFxyXG4gICAgICAgICAgICBjb250YWluc1BpaTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IGNvcnJlbGF0aW9uSWQgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9ncyB3YXJuaW5nIG1lc3NhZ2VzIHdpdGggUElJLlxyXG4gICAgICovXHJcbiAgICB3YXJuaW5nUGlpKG1lc3NhZ2UsIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICB0aGlzLmxvZ01lc3NhZ2UobWVzc2FnZSwge1xyXG4gICAgICAgICAgICBsb2dMZXZlbDogTG9nTGV2ZWwuV2FybmluZyxcclxuICAgICAgICAgICAgY29udGFpbnNQaWk6IHRydWUsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IGNvcnJlbGF0aW9uSWQgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9ncyBpbmZvIG1lc3NhZ2VzLlxyXG4gICAgICovXHJcbiAgICBpbmZvKG1lc3NhZ2UsIGNvcnJlbGF0aW9uSWQpIHtcclxuICAgICAgICB0aGlzLmxvZ01lc3NhZ2UobWVzc2FnZSwge1xyXG4gICAgICAgICAgICBsb2dMZXZlbDogTG9nTGV2ZWwuSW5mbyxcclxuICAgICAgICAgICAgY29udGFpbnNQaWk6IGZhbHNlLFxyXG4gICAgICAgICAgICBjb3JyZWxhdGlvbklkOiBjb3JyZWxhdGlvbklkIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvZ3MgaW5mbyBtZXNzYWdlcyB3aXRoIFBJSS5cclxuICAgICAqL1xyXG4gICAgaW5mb1BpaShtZXNzYWdlLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5sb2dNZXNzYWdlKG1lc3NhZ2UsIHtcclxuICAgICAgICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLkluZm8sXHJcbiAgICAgICAgICAgIGNvbnRhaW5zUGlpOiB0cnVlLFxyXG4gICAgICAgICAgICBjb3JyZWxhdGlvbklkOiBjb3JyZWxhdGlvbklkIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIExvZ3MgdmVyYm9zZSBtZXNzYWdlcy5cclxuICAgICAqL1xyXG4gICAgdmVyYm9zZShtZXNzYWdlLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5sb2dNZXNzYWdlKG1lc3NhZ2UsIHtcclxuICAgICAgICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLlZlcmJvc2UsXHJcbiAgICAgICAgICAgIGNvbnRhaW5zUGlpOiBmYWxzZSxcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogY29ycmVsYXRpb25JZCB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2dzIHZlcmJvc2UgbWVzc2FnZXMgd2l0aCBQSUkuXHJcbiAgICAgKi9cclxuICAgIHZlcmJvc2VQaWkobWVzc2FnZSwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHRoaXMubG9nTWVzc2FnZShtZXNzYWdlLCB7XHJcbiAgICAgICAgICAgIGxvZ0xldmVsOiBMb2dMZXZlbC5WZXJib3NlLFxyXG4gICAgICAgICAgICBjb250YWluc1BpaTogdHJ1ZSxcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogY29ycmVsYXRpb25JZCB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBMb2dzIHRyYWNlIG1lc3NhZ2VzLlxyXG4gICAgICovXHJcbiAgICB0cmFjZShtZXNzYWdlLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5sb2dNZXNzYWdlKG1lc3NhZ2UsIHtcclxuICAgICAgICAgICAgbG9nTGV2ZWw6IExvZ0xldmVsLlRyYWNlLFxyXG4gICAgICAgICAgICBjb250YWluc1BpaTogZmFsc2UsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IGNvcnJlbGF0aW9uSWQgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogTG9ncyB0cmFjZSBtZXNzYWdlcyB3aXRoIFBJSS5cclxuICAgICAqL1xyXG4gICAgdHJhY2VQaWkobWVzc2FnZSwgY29ycmVsYXRpb25JZCkge1xyXG4gICAgICAgIHRoaXMubG9nTWVzc2FnZShtZXNzYWdlLCB7XHJcbiAgICAgICAgICAgIGxvZ0xldmVsOiBMb2dMZXZlbC5UcmFjZSxcclxuICAgICAgICAgICAgY29udGFpbnNQaWk6IHRydWUsXHJcbiAgICAgICAgICAgIGNvcnJlbGF0aW9uSWQ6IGNvcnJlbGF0aW9uSWQgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORyxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB3aGV0aGVyIFBJSSBMb2dnaW5nIGlzIGVuYWJsZWQgb3Igbm90LlxyXG4gICAgICovXHJcbiAgICBpc1BpaUxvZ2dpbmdFbmFibGVkKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBpaUxvZ2dpbmdFbmFibGVkIHx8IGZhbHNlO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IExvZ0xldmVsLCBMb2dnZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUxvZ2dlci5tanMubWFwXG4iXSwibmFtZXMiOlsiQ29uc3RhbnRzIiwiTG9nTGV2ZWwiLCJMb2dnZXIiLCJjb25zdHJ1Y3RvciIsImxvZ2dlck9wdGlvbnMiLCJwYWNrYWdlTmFtZSIsInBhY2thZ2VWZXJzaW9uIiwibGV2ZWwiLCJJbmZvIiwiZGVmYXVsdExvZ2dlckNhbGxiYWNrIiwic2V0TG9nZ2VyT3B0aW9ucyIsImNyZWF0ZURlZmF1bHRMb2dnZXJPcHRpb25zIiwibG9jYWxDYWxsYmFjayIsImxvZ2dlckNhbGxiYWNrIiwicGlpTG9nZ2luZ0VuYWJsZWQiLCJsb2dMZXZlbCIsImNvcnJlbGF0aW9uSWQiLCJFTVBUWV9TVFJJTkciLCJjbG9uZSIsImxvZ01lc3NhZ2UiLCJvcHRpb25zIiwiY29udGFpbnNQaWkiLCJ0aW1lc3RhbXAiLCJEYXRlIiwidG9VVENTdHJpbmciLCJsb2dIZWFkZXIiLCJsb2ciLCJleGVjdXRlQ2FsbGJhY2siLCJtZXNzYWdlIiwiZXJyb3IiLCJFcnJvciIsImVycm9yUGlpIiwid2FybmluZyIsIldhcm5pbmciLCJ3YXJuaW5nUGlpIiwiaW5mbyIsImluZm9QaWkiLCJ2ZXJib3NlIiwiVmVyYm9zZSIsInZlcmJvc2VQaWkiLCJ0cmFjZSIsIlRyYWNlIiwidHJhY2VQaWkiLCJpc1BpaUxvZ2dpbmdFbmFibGVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/logger/Logger.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/network/INetworkModule.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/network/INetworkModule.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StubbedNetworkModule: () => (/* binding */ StubbedNetworkModule)\n/* harmony export */ });\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const StubbedNetworkModule = {\n    sendGetRequestAsync: ()=>{\n        return Promise.reject((0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.methodNotImplemented));\n    },\n    sendPostRequestAsync: ()=>{\n        return Promise.reject((0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.methodNotImplemented));\n    }\n};\n //# sourceMappingURL=INetworkModule.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvbmV0d29yay9JTmV0d29ya01vZHVsZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ3FFO0FBQ0k7QUFFekU7OztDQUdDLEdBQ0QsTUFBTUUsdUJBQXVCO0lBQ3pCQyxxQkFBcUI7UUFDakIsT0FBT0MsUUFBUUMsTUFBTSxDQUFDTCxpRkFBcUJBLENBQUNDLGlGQUFvQkE7SUFDcEU7SUFDQUssc0JBQXNCO1FBQ2xCLE9BQU9GLFFBQVFDLE1BQU0sQ0FBQ0wsaUZBQXFCQSxDQUFDQyxpRkFBb0JBO0lBQ3BFO0FBQ0o7QUFFZ0MsQ0FDaEMsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L25ldHdvcmsvSU5ldHdvcmtNb2R1bGUubWpzPzE2OGEiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IG1ldGhvZE5vdEltcGxlbWVudGVkIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IFN0dWJiZWROZXR3b3JrTW9kdWxlID0ge1xyXG4gICAgc2VuZEdldFJlcXVlc3RBc3luYzogKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpKTtcclxuICAgIH0sXHJcbiAgICBzZW5kUG9zdFJlcXVlc3RBc3luYzogKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChjcmVhdGVDbGllbnRBdXRoRXJyb3IobWV0aG9kTm90SW1wbGVtZW50ZWQpKTtcclxuICAgIH0sXHJcbn07XG5cbmV4cG9ydCB7IFN0dWJiZWROZXR3b3JrTW9kdWxlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1JTmV0d29ya01vZHVsZS5tanMubWFwXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50QXV0aEVycm9yIiwibWV0aG9kTm90SW1wbGVtZW50ZWQiLCJTdHViYmVkTmV0d29ya01vZHVsZSIsInNlbmRHZXRSZXF1ZXN0QXN5bmMiLCJQcm9taXNlIiwicmVqZWN0Iiwic2VuZFBvc3RSZXF1ZXN0QXN5bmMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/network/INetworkModule.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/network/ThrottlingUtils.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/network/ThrottlingUtils.mjs ***!
  \**************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ThrottlingUtils: () => (/* binding */ ThrottlingUtils)\n/* harmony export */ });\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _error_ServerError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/ServerError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ServerError.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /** @internal */ class ThrottlingUtils {\n    /**\r\n     * Prepares a RequestThumbprint to be stored as a key.\r\n     * @param thumbprint\r\n     */ static generateThrottlingStorageKey(thumbprint) {\n        return `${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.ThrottlingConstants.THROTTLING_PREFIX}.${JSON.stringify(thumbprint)}`;\n    }\n    /**\r\n     * Performs necessary throttling checks before a network request.\r\n     * @param cacheManager\r\n     * @param thumbprint\r\n     */ static preProcess(cacheManager, thumbprint) {\n        const key = ThrottlingUtils.generateThrottlingStorageKey(thumbprint);\n        const value = cacheManager.getThrottlingCache(key);\n        if (value) {\n            if (value.throttleTime < Date.now()) {\n                cacheManager.removeItem(key);\n                return;\n            }\n            throw new _error_ServerError_mjs__WEBPACK_IMPORTED_MODULE_1__.ServerError(value.errorCodes?.join(\" \") || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING, value.errorMessage, value.subError);\n        }\n    }\n    /**\r\n     * Performs necessary throttling checks after a network request.\r\n     * @param cacheManager\r\n     * @param thumbprint\r\n     * @param response\r\n     */ static postProcess(cacheManager, thumbprint, response) {\n        if (ThrottlingUtils.checkResponseStatus(response) || ThrottlingUtils.checkResponseForRetryAfter(response)) {\n            const thumbprintValue = {\n                throttleTime: ThrottlingUtils.calculateThrottleTime(parseInt(response.headers[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.HeaderNames.RETRY_AFTER])),\n                error: response.body.error,\n                errorCodes: response.body.error_codes,\n                errorMessage: response.body.error_description,\n                subError: response.body.suberror\n            };\n            cacheManager.setThrottlingCache(ThrottlingUtils.generateThrottlingStorageKey(thumbprint), thumbprintValue);\n        }\n    }\n    /**\r\n     * Checks a NetworkResponse object's status codes against 429 or 5xx\r\n     * @param response\r\n     */ static checkResponseStatus(response) {\n        return response.status === 429 || response.status >= 500 && response.status < 600;\n    }\n    /**\r\n     * Checks a NetworkResponse object's RetryAfter header\r\n     * @param response\r\n     */ static checkResponseForRetryAfter(response) {\n        if (response.headers) {\n            return response.headers.hasOwnProperty(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.HeaderNames.RETRY_AFTER) && (response.status < 200 || response.status >= 300);\n        }\n        return false;\n    }\n    /**\r\n     * Calculates the Unix-time value for a throttle to expire given throttleTime in seconds.\r\n     * @param throttleTime\r\n     */ static calculateThrottleTime(throttleTime) {\n        const time = throttleTime <= 0 ? 0 : throttleTime;\n        const currentSeconds = Date.now() / 1000;\n        return Math.floor(Math.min(currentSeconds + (time || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.ThrottlingConstants.DEFAULT_THROTTLE_TIME_SECONDS), currentSeconds + _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.ThrottlingConstants.DEFAULT_MAX_THROTTLE_TIME_SECONDS) * 1000);\n    }\n    static removeThrottle(cacheManager, clientId, request, homeAccountIdentifier) {\n        const thumbprint = {\n            clientId: clientId,\n            authority: request.authority,\n            scopes: request.scopes,\n            homeAccountIdentifier: homeAccountIdentifier,\n            claims: request.claims,\n            authenticationScheme: request.authenticationScheme,\n            resourceRequestMethod: request.resourceRequestMethod,\n            resourceRequestUri: request.resourceRequestUri,\n            shrClaims: request.shrClaims,\n            sshKid: request.sshKid\n        };\n        const key = this.generateThrottlingStorageKey(thumbprint);\n        cacheManager.removeItem(key);\n    }\n}\n //# sourceMappingURL=ThrottlingUtils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvbmV0d29yay9UaHJvdHRsaW5nVXRpbHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNxRjtBQUM5QjtBQUV2RDs7O0NBR0MsR0FDRCxjQUFjLEdBQ2QsTUFBTUk7SUFDRjs7O0tBR0MsR0FDRCxPQUFPQyw2QkFBNkJDLFVBQVUsRUFBRTtRQUM1QyxPQUFPLENBQUMsRUFBRU4scUVBQW1CQSxDQUFDTyxpQkFBaUIsQ0FBQyxDQUFDLEVBQUVDLEtBQUtDLFNBQVMsQ0FBQ0gsWUFBWSxDQUFDO0lBQ25GO0lBQ0E7Ozs7S0FJQyxHQUNELE9BQU9JLFdBQVdDLFlBQVksRUFBRUwsVUFBVSxFQUFFO1FBQ3hDLE1BQU1NLE1BQU1SLGdCQUFnQkMsNEJBQTRCLENBQUNDO1FBQ3pELE1BQU1PLFFBQVFGLGFBQWFHLGtCQUFrQixDQUFDRjtRQUM5QyxJQUFJQyxPQUFPO1lBQ1AsSUFBSUEsTUFBTUUsWUFBWSxHQUFHQyxLQUFLQyxHQUFHLElBQUk7Z0JBQ2pDTixhQUFhTyxVQUFVLENBQUNOO2dCQUN4QjtZQUNKO1lBQ0EsTUFBTSxJQUFJVCwrREFBV0EsQ0FBQ1UsTUFBTU0sVUFBVSxFQUFFQyxLQUFLLFFBQVFuQiwyREFBU0EsQ0FBQ29CLFlBQVksRUFBRVIsTUFBTVMsWUFBWSxFQUFFVCxNQUFNVSxRQUFRO1FBQ25IO0lBQ0o7SUFDQTs7Ozs7S0FLQyxHQUNELE9BQU9DLFlBQVliLFlBQVksRUFBRUwsVUFBVSxFQUFFbUIsUUFBUSxFQUFFO1FBQ25ELElBQUlyQixnQkFBZ0JzQixtQkFBbUIsQ0FBQ0QsYUFDcENyQixnQkFBZ0J1QiwwQkFBMEIsQ0FBQ0YsV0FBVztZQUN0RCxNQUFNRyxrQkFBa0I7Z0JBQ3BCYixjQUFjWCxnQkFBZ0J5QixxQkFBcUIsQ0FBQ0MsU0FBU0wsU0FBU00sT0FBTyxDQUFDN0IsNkRBQVdBLENBQUM4QixXQUFXLENBQUM7Z0JBQ3RHQyxPQUFPUixTQUFTUyxJQUFJLENBQUNELEtBQUs7Z0JBQzFCZCxZQUFZTSxTQUFTUyxJQUFJLENBQUNDLFdBQVc7Z0JBQ3JDYixjQUFjRyxTQUFTUyxJQUFJLENBQUNFLGlCQUFpQjtnQkFDN0NiLFVBQVVFLFNBQVNTLElBQUksQ0FBQ0csUUFBUTtZQUNwQztZQUNBMUIsYUFBYTJCLGtCQUFrQixDQUFDbEMsZ0JBQWdCQyw0QkFBNEIsQ0FBQ0MsYUFBYXNCO1FBQzlGO0lBQ0o7SUFDQTs7O0tBR0MsR0FDRCxPQUFPRixvQkFBb0JELFFBQVEsRUFBRTtRQUNqQyxPQUFRQSxTQUFTYyxNQUFNLEtBQUssT0FDdkJkLFNBQVNjLE1BQU0sSUFBSSxPQUFPZCxTQUFTYyxNQUFNLEdBQUc7SUFDckQ7SUFDQTs7O0tBR0MsR0FDRCxPQUFPWiwyQkFBMkJGLFFBQVEsRUFBRTtRQUN4QyxJQUFJQSxTQUFTTSxPQUFPLEVBQUU7WUFDbEIsT0FBUU4sU0FBU00sT0FBTyxDQUFDUyxjQUFjLENBQUN0Qyw2REFBV0EsQ0FBQzhCLFdBQVcsS0FDMURQLENBQUFBLFNBQVNjLE1BQU0sR0FBRyxPQUFPZCxTQUFTYyxNQUFNLElBQUksR0FBRTtRQUN2RDtRQUNBLE9BQU87SUFDWDtJQUNBOzs7S0FHQyxHQUNELE9BQU9WLHNCQUFzQmQsWUFBWSxFQUFFO1FBQ3ZDLE1BQU0wQixPQUFPMUIsZ0JBQWdCLElBQUksSUFBSUE7UUFDckMsTUFBTTJCLGlCQUFpQjFCLEtBQUtDLEdBQUcsS0FBSztRQUNwQyxPQUFPMEIsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxHQUFHLENBQUNILGlCQUN0QkQsQ0FBQUEsUUFBUXpDLHFFQUFtQkEsQ0FBQzhDLDZCQUE2QixHQUFHSixpQkFDN0QxQyxxRUFBbUJBLENBQUMrQyxpQ0FBaUMsSUFBSTtJQUNqRTtJQUNBLE9BQU9DLGVBQWVyQyxZQUFZLEVBQUVzQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMscUJBQXFCLEVBQUU7UUFDMUUsTUFBTTdDLGFBQWE7WUFDZjJDLFVBQVVBO1lBQ1ZHLFdBQVdGLFFBQVFFLFNBQVM7WUFDNUJDLFFBQVFILFFBQVFHLE1BQU07WUFDdEJGLHVCQUF1QkE7WUFDdkJHLFFBQVFKLFFBQVFJLE1BQU07WUFDdEJDLHNCQUFzQkwsUUFBUUssb0JBQW9CO1lBQ2xEQyx1QkFBdUJOLFFBQVFNLHFCQUFxQjtZQUNwREMsb0JBQW9CUCxRQUFRTyxrQkFBa0I7WUFDOUNDLFdBQVdSLFFBQVFRLFNBQVM7WUFDNUJDLFFBQVFULFFBQVFTLE1BQU07UUFDMUI7UUFDQSxNQUFNL0MsTUFBTSxJQUFJLENBQUNQLDRCQUE0QixDQUFDQztRQUM5Q0ssYUFBYU8sVUFBVSxDQUFDTjtJQUM1QjtBQUNKO0FBRTJCLENBQzNCLDRDQUE0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9uZXR3b3JrL1Rocm90dGxpbmdVdGlscy5tanM/YWQwYiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IFRocm90dGxpbmdDb25zdGFudHMsIENvbnN0YW50cywgSGVhZGVyTmFtZXMgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMubWpzJztcbmltcG9ydCB7IFNlcnZlckVycm9yIH0gZnJvbSAnLi4vZXJyb3IvU2VydmVyRXJyb3IubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuY2xhc3MgVGhyb3R0bGluZ1V0aWxzIHtcclxuICAgIC8qKlxyXG4gICAgICogUHJlcGFyZXMgYSBSZXF1ZXN0VGh1bWJwcmludCB0byBiZSBzdG9yZWQgYXMgYSBrZXkuXHJcbiAgICAgKiBAcGFyYW0gdGh1bWJwcmludFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgZ2VuZXJhdGVUaHJvdHRsaW5nU3RvcmFnZUtleSh0aHVtYnByaW50KSB7XHJcbiAgICAgICAgcmV0dXJuIGAke1Rocm90dGxpbmdDb25zdGFudHMuVEhST1RUTElOR19QUkVGSVh9LiR7SlNPTi5zdHJpbmdpZnkodGh1bWJwcmludCl9YDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgbmVjZXNzYXJ5IHRocm90dGxpbmcgY2hlY2tzIGJlZm9yZSBhIG5ldHdvcmsgcmVxdWVzdC5cclxuICAgICAqIEBwYXJhbSBjYWNoZU1hbmFnZXJcclxuICAgICAqIEBwYXJhbSB0aHVtYnByaW50XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBwcmVQcm9jZXNzKGNhY2hlTWFuYWdlciwgdGh1bWJwcmludCkge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IFRocm90dGxpbmdVdGlscy5nZW5lcmF0ZVRocm90dGxpbmdTdG9yYWdlS2V5KHRodW1icHJpbnQpO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gY2FjaGVNYW5hZ2VyLmdldFRocm90dGxpbmdDYWNoZShrZXkpO1xyXG4gICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUudGhyb3R0bGVUaW1lIDwgRGF0ZS5ub3coKSkge1xyXG4gICAgICAgICAgICAgICAgY2FjaGVNYW5hZ2VyLnJlbW92ZUl0ZW0oa2V5KTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgU2VydmVyRXJyb3IodmFsdWUuZXJyb3JDb2Rlcz8uam9pbihcIiBcIikgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORywgdmFsdWUuZXJyb3JNZXNzYWdlLCB2YWx1ZS5zdWJFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBuZWNlc3NhcnkgdGhyb3R0bGluZyBjaGVja3MgYWZ0ZXIgYSBuZXR3b3JrIHJlcXVlc3QuXHJcbiAgICAgKiBAcGFyYW0gY2FjaGVNYW5hZ2VyXHJcbiAgICAgKiBAcGFyYW0gdGh1bWJwcmludFxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBwb3N0UHJvY2VzcyhjYWNoZU1hbmFnZXIsIHRodW1icHJpbnQsIHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKFRocm90dGxpbmdVdGlscy5jaGVja1Jlc3BvbnNlU3RhdHVzKHJlc3BvbnNlKSB8fFxyXG4gICAgICAgICAgICBUaHJvdHRsaW5nVXRpbHMuY2hlY2tSZXNwb25zZUZvclJldHJ5QWZ0ZXIocmVzcG9uc2UpKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRodW1icHJpbnRWYWx1ZSA9IHtcclxuICAgICAgICAgICAgICAgIHRocm90dGxlVGltZTogVGhyb3R0bGluZ1V0aWxzLmNhbGN1bGF0ZVRocm90dGxlVGltZShwYXJzZUludChyZXNwb25zZS5oZWFkZXJzW0hlYWRlck5hbWVzLlJFVFJZX0FGVEVSXSkpLFxyXG4gICAgICAgICAgICAgICAgZXJyb3I6IHJlc3BvbnNlLmJvZHkuZXJyb3IsXHJcbiAgICAgICAgICAgICAgICBlcnJvckNvZGVzOiByZXNwb25zZS5ib2R5LmVycm9yX2NvZGVzLFxyXG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiByZXNwb25zZS5ib2R5LmVycm9yX2Rlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgc3ViRXJyb3I6IHJlc3BvbnNlLmJvZHkuc3ViZXJyb3IsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGNhY2hlTWFuYWdlci5zZXRUaHJvdHRsaW5nQ2FjaGUoVGhyb3R0bGluZ1V0aWxzLmdlbmVyYXRlVGhyb3R0bGluZ1N0b3JhZ2VLZXkodGh1bWJwcmludCksIHRodW1icHJpbnRWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3MgYSBOZXR3b3JrUmVzcG9uc2Ugb2JqZWN0J3Mgc3RhdHVzIGNvZGVzIGFnYWluc3QgNDI5IG9yIDV4eFxyXG4gICAgICogQHBhcmFtIHJlc3BvbnNlXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBjaGVja1Jlc3BvbnNlU3RhdHVzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmV0dXJuIChyZXNwb25zZS5zdGF0dXMgPT09IDQyOSB8fFxyXG4gICAgICAgICAgICAocmVzcG9uc2Uuc3RhdHVzID49IDUwMCAmJiByZXNwb25zZS5zdGF0dXMgPCA2MDApKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2tzIGEgTmV0d29ya1Jlc3BvbnNlIG9iamVjdCdzIFJldHJ5QWZ0ZXIgaGVhZGVyXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNoZWNrUmVzcG9uc2VGb3JSZXRyeUFmdGVyKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLmhlYWRlcnMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIChyZXNwb25zZS5oZWFkZXJzLmhhc093blByb3BlcnR5KEhlYWRlck5hbWVzLlJFVFJZX0FGVEVSKSAmJlxyXG4gICAgICAgICAgICAgICAgKHJlc3BvbnNlLnN0YXR1cyA8IDIwMCB8fCByZXNwb25zZS5zdGF0dXMgPj0gMzAwKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgVW5peC10aW1lIHZhbHVlIGZvciBhIHRocm90dGxlIHRvIGV4cGlyZSBnaXZlbiB0aHJvdHRsZVRpbWUgaW4gc2Vjb25kcy5cclxuICAgICAqIEBwYXJhbSB0aHJvdHRsZVRpbWVcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNhbGN1bGF0ZVRocm90dGxlVGltZSh0aHJvdHRsZVRpbWUpIHtcclxuICAgICAgICBjb25zdCB0aW1lID0gdGhyb3R0bGVUaW1lIDw9IDAgPyAwIDogdGhyb3R0bGVUaW1lO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRTZWNvbmRzID0gRGF0ZS5ub3coKSAvIDEwMDA7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5taW4oY3VycmVudFNlY29uZHMgK1xyXG4gICAgICAgICAgICAodGltZSB8fCBUaHJvdHRsaW5nQ29uc3RhbnRzLkRFRkFVTFRfVEhST1RUTEVfVElNRV9TRUNPTkRTKSwgY3VycmVudFNlY29uZHMgK1xyXG4gICAgICAgICAgICBUaHJvdHRsaW5nQ29uc3RhbnRzLkRFRkFVTFRfTUFYX1RIUk9UVExFX1RJTUVfU0VDT05EUykgKiAxMDAwKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyByZW1vdmVUaHJvdHRsZShjYWNoZU1hbmFnZXIsIGNsaWVudElkLCByZXF1ZXN0LCBob21lQWNjb3VudElkZW50aWZpZXIpIHtcclxuICAgICAgICBjb25zdCB0aHVtYnByaW50ID0ge1xyXG4gICAgICAgICAgICBjbGllbnRJZDogY2xpZW50SWQsXHJcbiAgICAgICAgICAgIGF1dGhvcml0eTogcmVxdWVzdC5hdXRob3JpdHksXHJcbiAgICAgICAgICAgIHNjb3BlczogcmVxdWVzdC5zY29wZXMsXHJcbiAgICAgICAgICAgIGhvbWVBY2NvdW50SWRlbnRpZmllcjogaG9tZUFjY291bnRJZGVudGlmaWVyLFxyXG4gICAgICAgICAgICBjbGFpbXM6IHJlcXVlc3QuY2xhaW1zLFxyXG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvblNjaGVtZTogcmVxdWVzdC5hdXRoZW50aWNhdGlvblNjaGVtZSxcclxuICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0TWV0aG9kOiByZXF1ZXN0LnJlc291cmNlUmVxdWVzdE1ldGhvZCxcclxuICAgICAgICAgICAgcmVzb3VyY2VSZXF1ZXN0VXJpOiByZXF1ZXN0LnJlc291cmNlUmVxdWVzdFVyaSxcclxuICAgICAgICAgICAgc2hyQ2xhaW1zOiByZXF1ZXN0LnNockNsYWltcyxcclxuICAgICAgICAgICAgc3NoS2lkOiByZXF1ZXN0LnNzaEtpZCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuZ2VuZXJhdGVUaHJvdHRsaW5nU3RvcmFnZUtleSh0aHVtYnByaW50KTtcclxuICAgICAgICBjYWNoZU1hbmFnZXIucmVtb3ZlSXRlbShrZXkpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IFRocm90dGxpbmdVdGlscyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGhyb3R0bGluZ1V0aWxzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJUaHJvdHRsaW5nQ29uc3RhbnRzIiwiQ29uc3RhbnRzIiwiSGVhZGVyTmFtZXMiLCJTZXJ2ZXJFcnJvciIsIlRocm90dGxpbmdVdGlscyIsImdlbmVyYXRlVGhyb3R0bGluZ1N0b3JhZ2VLZXkiLCJ0aHVtYnByaW50IiwiVEhST1RUTElOR19QUkVGSVgiLCJKU09OIiwic3RyaW5naWZ5IiwicHJlUHJvY2VzcyIsImNhY2hlTWFuYWdlciIsImtleSIsInZhbHVlIiwiZ2V0VGhyb3R0bGluZ0NhY2hlIiwidGhyb3R0bGVUaW1lIiwiRGF0ZSIsIm5vdyIsInJlbW92ZUl0ZW0iLCJlcnJvckNvZGVzIiwiam9pbiIsIkVNUFRZX1NUUklORyIsImVycm9yTWVzc2FnZSIsInN1YkVycm9yIiwicG9zdFByb2Nlc3MiLCJyZXNwb25zZSIsImNoZWNrUmVzcG9uc2VTdGF0dXMiLCJjaGVja1Jlc3BvbnNlRm9yUmV0cnlBZnRlciIsInRodW1icHJpbnRWYWx1ZSIsImNhbGN1bGF0ZVRocm90dGxlVGltZSIsInBhcnNlSW50IiwiaGVhZGVycyIsIlJFVFJZX0FGVEVSIiwiZXJyb3IiLCJib2R5IiwiZXJyb3JfY29kZXMiLCJlcnJvcl9kZXNjcmlwdGlvbiIsInN1YmVycm9yIiwic2V0VGhyb3R0bGluZ0NhY2hlIiwic3RhdHVzIiwiaGFzT3duUHJvcGVydHkiLCJ0aW1lIiwiY3VycmVudFNlY29uZHMiLCJNYXRoIiwiZmxvb3IiLCJtaW4iLCJERUZBVUxUX1RIUk9UVExFX1RJTUVfU0VDT05EUyIsIkRFRkFVTFRfTUFYX1RIUk9UVExFX1RJTUVfU0VDT05EUyIsInJlbW92ZVRocm90dGxlIiwiY2xpZW50SWQiLCJyZXF1ZXN0IiwiaG9tZUFjY291bnRJZGVudGlmaWVyIiwiYXV0aG9yaXR5Iiwic2NvcGVzIiwiY2xhaW1zIiwiYXV0aGVudGljYXRpb25TY2hlbWUiLCJyZXNvdXJjZVJlcXVlc3RNZXRob2QiLCJyZXNvdXJjZVJlcXVlc3RVcmkiLCJzaHJDbGFpbXMiLCJzc2hLaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/network/ThrottlingUtils.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/packageMetadata.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/packageMetadata.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   name: () => (/* binding */ name),\n/* harmony export */   version: () => (/* binding */ version)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/* eslint-disable header/header */ const name = \"@azure/msal-common\";\nconst version = \"14.16.0\";\n //# sourceMappingURL=packageMetadata.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvcGFja2FnZU1ldGFkYXRhLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNBLGdDQUFnQyxHQUNoQyxNQUFNQSxPQUFPO0FBQ2IsTUFBTUMsVUFBVTtBQUVTLENBQ3pCLDRDQUE0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9wYWNrYWdlTWV0YWRhdGEubWpzP2UwZjEiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG4vKiBlc2xpbnQtZGlzYWJsZSBoZWFkZXIvaGVhZGVyICovXHJcbmNvbnN0IG5hbWUgPSBcIkBhenVyZS9tc2FsLWNvbW1vblwiO1xyXG5jb25zdCB2ZXJzaW9uID0gXCIxNC4xNi4wXCI7XG5cbmV4cG9ydCB7IG5hbWUsIHZlcnNpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhY2thZ2VNZXRhZGF0YS5tanMubWFwXG4iXSwibmFtZXMiOlsibmFtZSIsInZlcnNpb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/packageMetadata.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/request/RequestParameterBuilder.mjs":
/*!**********************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/request/RequestParameterBuilder.mjs ***!
  \**********************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestParameterBuilder: () => (/* binding */ RequestParameterBuilder)\n/* harmony export */ });\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants/AADServerParamKeys.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/constants/AADServerParamKeys.mjs\");\n/* harmony import */ var _ScopeSet_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ScopeSet.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/request/ScopeSet.mjs\");\n/* harmony import */ var _error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../error/ClientConfigurationError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs\");\n/* harmony import */ var _RequestValidator_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RequestValidator.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/request/RequestValidator.mjs\");\n/* harmony import */ var _error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../error/ClientConfigurationErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ function instrumentBrokerParams(parameters, correlationId, performanceClient) {\n    if (!correlationId) {\n        return;\n    }\n    const clientId = parameters.get(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.CLIENT_ID);\n    if (clientId && parameters.has(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.BROKER_CLIENT_ID)) {\n        performanceClient?.addFields({\n            embeddedClientId: clientId,\n            embeddedRedirectUri: parameters.get(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.REDIRECT_URI)\n        }, correlationId);\n    }\n}\n/** @internal */ class RequestParameterBuilder {\n    constructor(correlationId, performanceClient){\n        this.parameters = new Map();\n        this.performanceClient = performanceClient;\n        this.correlationId = correlationId;\n    }\n    /**\r\n     * add response_type = code\r\n     */ addResponseTypeCode() {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.RESPONSE_TYPE, encodeURIComponent(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.CODE_RESPONSE_TYPE));\n    }\n    /**\r\n     * add response_type = token id_token\r\n     */ addResponseTypeForTokenAndIdToken() {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.RESPONSE_TYPE, encodeURIComponent(`${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.TOKEN_RESPONSE_TYPE} ${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.ID_TOKEN_RESPONSE_TYPE}`));\n    }\n    /**\r\n     * add response_mode. defaults to query.\r\n     * @param responseMode\r\n     */ addResponseMode(responseMode) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.RESPONSE_MODE, encodeURIComponent(responseMode ? responseMode : _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.ResponseMode.QUERY));\n    }\n    /**\r\n     * Add flag to indicate STS should attempt to use WAM if available\r\n     */ addNativeBroker() {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.NATIVE_BROKER, encodeURIComponent(\"1\"));\n    }\n    /**\r\n     * add scopes. set addOidcScopes to false to prevent default scopes in non-user scenarios\r\n     * @param scopeSet\r\n     * @param addOidcScopes\r\n     */ addScopes(scopes, addOidcScopes = true, defaultScopes = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.OIDC_DEFAULT_SCOPES) {\n        // Always add openid to the scopes when adding OIDC scopes\n        if (addOidcScopes && !defaultScopes.includes(\"openid\") && !scopes.includes(\"openid\")) {\n            defaultScopes.push(\"openid\");\n        }\n        const requestScopes = addOidcScopes ? [\n            ...scopes || [],\n            ...defaultScopes\n        ] : scopes || [];\n        const scopeSet = new _ScopeSet_mjs__WEBPACK_IMPORTED_MODULE_2__.ScopeSet(requestScopes);\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.SCOPE, encodeURIComponent(scopeSet.printScopes()));\n    }\n    /**\r\n     * add clientId\r\n     * @param clientId\r\n     */ addClientId(clientId) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.CLIENT_ID, encodeURIComponent(clientId));\n    }\n    /**\r\n     * add redirect_uri\r\n     * @param redirectUri\r\n     */ addRedirectUri(redirectUri) {\n        _RequestValidator_mjs__WEBPACK_IMPORTED_MODULE_3__.RequestValidator.validateRedirectUri(redirectUri);\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.REDIRECT_URI, encodeURIComponent(redirectUri));\n    }\n    /**\r\n     * add post logout redirectUri\r\n     * @param redirectUri\r\n     */ addPostLogoutRedirectUri(redirectUri) {\n        _RequestValidator_mjs__WEBPACK_IMPORTED_MODULE_3__.RequestValidator.validateRedirectUri(redirectUri);\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.POST_LOGOUT_URI, encodeURIComponent(redirectUri));\n    }\n    /**\r\n     * add id_token_hint to logout request\r\n     * @param idTokenHint\r\n     */ addIdTokenHint(idTokenHint) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.ID_TOKEN_HINT, encodeURIComponent(idTokenHint));\n    }\n    /**\r\n     * add domain_hint\r\n     * @param domainHint\r\n     */ addDomainHint(domainHint) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.DOMAIN_HINT, encodeURIComponent(domainHint));\n    }\n    /**\r\n     * add login_hint\r\n     * @param loginHint\r\n     */ addLoginHint(loginHint) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.LOGIN_HINT, encodeURIComponent(loginHint));\n    }\n    /**\r\n     * Adds the CCS (Cache Credential Service) query parameter for login_hint\r\n     * @param loginHint\r\n     */ addCcsUpn(loginHint) {\n        this.parameters.set(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.HeaderNames.CCS_HEADER, encodeURIComponent(`UPN:${loginHint}`));\n    }\n    /**\r\n     * Adds the CCS (Cache Credential Service) query parameter for account object\r\n     * @param loginHint\r\n     */ addCcsOid(clientInfo) {\n        this.parameters.set(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.HeaderNames.CCS_HEADER, encodeURIComponent(`Oid:${clientInfo.uid}@${clientInfo.utid}`));\n    }\n    /**\r\n     * add sid\r\n     * @param sid\r\n     */ addSid(sid) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.SID, encodeURIComponent(sid));\n    }\n    /**\r\n     * add claims\r\n     * @param claims\r\n     */ addClaims(claims, clientCapabilities) {\n        const mergedClaims = this.addClientCapabilitiesToClaims(claims, clientCapabilities);\n        _RequestValidator_mjs__WEBPACK_IMPORTED_MODULE_3__.RequestValidator.validateClaims(mergedClaims);\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.CLAIMS, encodeURIComponent(mergedClaims));\n    }\n    /**\r\n     * add correlationId\r\n     * @param correlationId\r\n     */ addCorrelationId(correlationId) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.CLIENT_REQUEST_ID, encodeURIComponent(correlationId));\n    }\n    /**\r\n     * add library info query params\r\n     * @param libraryInfo\r\n     */ addLibraryInfo(libraryInfo) {\n        // Telemetry Info\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.X_CLIENT_SKU, libraryInfo.sku);\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.X_CLIENT_VER, libraryInfo.version);\n        if (libraryInfo.os) {\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.X_CLIENT_OS, libraryInfo.os);\n        }\n        if (libraryInfo.cpu) {\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.X_CLIENT_CPU, libraryInfo.cpu);\n        }\n    }\n    /**\r\n     * Add client telemetry parameters\r\n     * @param appTelemetry\r\n     */ addApplicationTelemetry(appTelemetry) {\n        if (appTelemetry?.appName) {\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.X_APP_NAME, appTelemetry.appName);\n        }\n        if (appTelemetry?.appVersion) {\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.X_APP_VER, appTelemetry.appVersion);\n        }\n    }\n    /**\r\n     * add prompt\r\n     * @param prompt\r\n     */ addPrompt(prompt) {\n        _RequestValidator_mjs__WEBPACK_IMPORTED_MODULE_3__.RequestValidator.validatePrompt(prompt);\n        this.parameters.set(`${_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.PROMPT}`, encodeURIComponent(prompt));\n    }\n    /**\r\n     * add state\r\n     * @param state\r\n     */ addState(state) {\n        if (state) {\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.STATE, encodeURIComponent(state));\n        }\n    }\n    /**\r\n     * add nonce\r\n     * @param nonce\r\n     */ addNonce(nonce) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.NONCE, encodeURIComponent(nonce));\n    }\n    /**\r\n     * add code_challenge and code_challenge_method\r\n     * - throw if either of them are not passed\r\n     * @param codeChallenge\r\n     * @param codeChallengeMethod\r\n     */ addCodeChallengeParams(codeChallenge, codeChallengeMethod) {\n        _RequestValidator_mjs__WEBPACK_IMPORTED_MODULE_3__.RequestValidator.validateCodeChallengeParams(codeChallenge, codeChallengeMethod);\n        if (codeChallenge && codeChallengeMethod) {\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.CODE_CHALLENGE, encodeURIComponent(codeChallenge));\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.CODE_CHALLENGE_METHOD, encodeURIComponent(codeChallengeMethod));\n        } else {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.pkceParamsMissing);\n        }\n    }\n    /**\r\n     * add the `authorization_code` passed by the user to exchange for a token\r\n     * @param code\r\n     */ addAuthorizationCode(code) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.CODE, encodeURIComponent(code));\n    }\n    /**\r\n     * add the `authorization_code` passed by the user to exchange for a token\r\n     * @param code\r\n     */ addDeviceCode(code) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.DEVICE_CODE, encodeURIComponent(code));\n    }\n    /**\r\n     * add the `refreshToken` passed by the user\r\n     * @param refreshToken\r\n     */ addRefreshToken(refreshToken) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.REFRESH_TOKEN, encodeURIComponent(refreshToken));\n    }\n    /**\r\n     * add the `code_verifier` passed by the user to exchange for a token\r\n     * @param codeVerifier\r\n     */ addCodeVerifier(codeVerifier) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.CODE_VERIFIER, encodeURIComponent(codeVerifier));\n    }\n    /**\r\n     * add client_secret\r\n     * @param clientSecret\r\n     */ addClientSecret(clientSecret) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.CLIENT_SECRET, encodeURIComponent(clientSecret));\n    }\n    /**\r\n     * add clientAssertion for confidential client flows\r\n     * @param clientAssertion\r\n     */ addClientAssertion(clientAssertion) {\n        if (clientAssertion) {\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.CLIENT_ASSERTION, encodeURIComponent(clientAssertion));\n        }\n    }\n    /**\r\n     * add clientAssertionType for confidential client flows\r\n     * @param clientAssertionType\r\n     */ addClientAssertionType(clientAssertionType) {\n        if (clientAssertionType) {\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.CLIENT_ASSERTION_TYPE, encodeURIComponent(clientAssertionType));\n        }\n    }\n    /**\r\n     * add OBO assertion for confidential client flows\r\n     * @param clientAssertion\r\n     */ addOboAssertion(oboAssertion) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.OBO_ASSERTION, encodeURIComponent(oboAssertion));\n    }\n    /**\r\n     * add grant type\r\n     * @param grantType\r\n     */ addRequestTokenUse(tokenUse) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.REQUESTED_TOKEN_USE, encodeURIComponent(tokenUse));\n    }\n    /**\r\n     * add grant type\r\n     * @param grantType\r\n     */ addGrantType(grantType) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.GRANT_TYPE, encodeURIComponent(grantType));\n    }\n    /**\r\n     * add client info\r\n     *\r\n     */ addClientInfo() {\n        this.parameters.set(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.CLIENT_INFO, \"1\");\n    }\n    /**\r\n     * add extraQueryParams\r\n     * @param eQParams\r\n     */ addExtraQueryParameters(eQParams) {\n        Object.entries(eQParams).forEach(([key, value])=>{\n            if (!this.parameters.has(key) && value) {\n                this.parameters.set(key, value);\n            }\n        });\n    }\n    addClientCapabilitiesToClaims(claims, clientCapabilities) {\n        let mergedClaims;\n        // Parse provided claims into JSON object or initialize empty object\n        if (!claims) {\n            mergedClaims = {};\n        } else {\n            try {\n                mergedClaims = JSON.parse(claims);\n            } catch (e) {\n                throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.invalidClaims);\n            }\n        }\n        if (clientCapabilities && clientCapabilities.length > 0) {\n            if (!mergedClaims.hasOwnProperty(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.ClaimsRequestKeys.ACCESS_TOKEN)) {\n                // Add access_token key to claims object\n                mergedClaims[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.ClaimsRequestKeys.ACCESS_TOKEN] = {};\n            }\n            // Add xms_cc claim with provided clientCapabilities to access_token key\n            mergedClaims[_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.ClaimsRequestKeys.ACCESS_TOKEN][_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.ClaimsRequestKeys.XMS_CC] = {\n                values: clientCapabilities\n            };\n        }\n        return JSON.stringify(mergedClaims);\n    }\n    /**\r\n     * adds `username` for Password Grant flow\r\n     * @param username\r\n     */ addUsername(username) {\n        this.parameters.set(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.PasswordGrantConstants.username, encodeURIComponent(username));\n    }\n    /**\r\n     * adds `password` for Password Grant flow\r\n     * @param password\r\n     */ addPassword(password) {\n        this.parameters.set(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.PasswordGrantConstants.password, encodeURIComponent(password));\n    }\n    /**\r\n     * add pop_jwk to query params\r\n     * @param cnfString\r\n     */ addPopToken(cnfString) {\n        if (cnfString) {\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.TOKEN_TYPE, _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthenticationScheme.POP);\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.REQ_CNF, encodeURIComponent(cnfString));\n        }\n    }\n    /**\r\n     * add SSH JWK and key ID to query params\r\n     */ addSshJwk(sshJwkString) {\n        if (sshJwkString) {\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.TOKEN_TYPE, _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthenticationScheme.SSH);\n            this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.REQ_CNF, encodeURIComponent(sshJwkString));\n        }\n    }\n    /**\r\n     * add server telemetry fields\r\n     * @param serverTelemetryManager\r\n     */ addServerTelemetry(serverTelemetryManager) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.X_CLIENT_CURR_TELEM, serverTelemetryManager.generateCurrentRequestHeaderValue());\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.X_CLIENT_LAST_TELEM, serverTelemetryManager.generateLastRequestHeaderValue());\n    }\n    /**\r\n     * Adds parameter that indicates to the server that throttling is supported\r\n     */ addThrottling() {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.X_MS_LIB_CAPABILITY, _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.ThrottlingConstants.X_MS_LIB_CAPABILITY_VALUE);\n    }\n    /**\r\n     * Adds logout_hint parameter for \"silent\" logout which prevent server account picker\r\n     */ addLogoutHint(logoutHint) {\n        this.parameters.set(_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.LOGOUT_HINT, encodeURIComponent(logoutHint));\n    }\n    addBrokerParameters(params) {\n        const brokerParams = {};\n        brokerParams[_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.BROKER_CLIENT_ID] = params.brokerClientId;\n        brokerParams[_constants_AADServerParamKeys_mjs__WEBPACK_IMPORTED_MODULE_0__.BROKER_REDIRECT_URI] = params.brokerRedirectUri;\n        this.addExtraQueryParameters(brokerParams);\n    }\n    /**\r\n     * Utility to create a URL from the params map\r\n     */ createQueryString() {\n        const queryParameterArray = new Array();\n        this.parameters.forEach((value, key)=>{\n            queryParameterArray.push(`${key}=${value}`);\n        });\n        instrumentBrokerParams(this.parameters, this.correlationId, this.performanceClient);\n        return queryParameterArray.join(\"&\");\n    }\n}\n //# sourceMappingURL=RequestParameterBuilder.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvcmVxdWVzdC9SZXF1ZXN0UGFyYW1ldGVyQnVpbGRlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNzTTtBQUNpYztBQUM3bEI7QUFDNkM7QUFDN0I7QUFDb0M7QUFFOUY7OztDQUdDLEdBQ0QsU0FBU3dELHVCQUF1QkMsVUFBVSxFQUFFQyxhQUFhLEVBQUVDLGlCQUFpQjtJQUN4RSxJQUFJLENBQUNELGVBQWU7UUFDaEI7SUFDSjtJQUNBLE1BQU1FLFdBQVdILFdBQVdJLEdBQUcsQ0FBQ2hELHdFQUFTQTtJQUN6QyxJQUFJK0MsWUFBWUgsV0FBV0ssR0FBRyxDQUFDYiwrRUFBZ0JBLEdBQUc7UUFDOUNVLG1CQUFtQkksVUFBVTtZQUN6QkMsa0JBQWtCSjtZQUNsQksscUJBQXFCUixXQUFXSSxHQUFHLENBQUMvQywyRUFBWUE7UUFDcEQsR0FBRzRDO0lBQ1A7QUFDSjtBQUNBLGNBQWMsR0FDZCxNQUFNUTtJQUNGQyxZQUFZVCxhQUFhLEVBQUVDLGlCQUFpQixDQUFFO1FBQzFDLElBQUksQ0FBQ0YsVUFBVSxHQUFHLElBQUlXO1FBQ3RCLElBQUksQ0FBQ1QsaUJBQWlCLEdBQUdBO1FBQ3pCLElBQUksQ0FBQ0QsYUFBYSxHQUFHQTtJQUN6QjtJQUNBOztLQUVDLEdBQ0RXLHNCQUFzQjtRQUNsQixJQUFJLENBQUNaLFVBQVUsQ0FBQ2EsR0FBRyxDQUFDN0QsNEVBQWFBLEVBQUU4RCxtQkFBbUJ2RSwyREFBU0EsQ0FBQ3dFLGtCQUFrQjtJQUN0RjtJQUNBOztLQUVDLEdBQ0RDLG9DQUFvQztRQUNoQyxJQUFJLENBQUNoQixVQUFVLENBQUNhLEdBQUcsQ0FBQzdELDRFQUFhQSxFQUFFOEQsbUJBQW1CLENBQUMsRUFBRXZFLDJEQUFTQSxDQUFDMEUsbUJBQW1CLENBQUMsQ0FBQyxFQUFFMUUsMkRBQVNBLENBQUMyRSxzQkFBc0IsQ0FBQyxDQUFDO0lBQ2hJO0lBQ0E7OztLQUdDLEdBQ0RDLGdCQUFnQkMsWUFBWSxFQUFFO1FBQzFCLElBQUksQ0FBQ3BCLFVBQVUsQ0FBQ2EsR0FBRyxDQUFDNUQsNEVBQWFBLEVBQUU2RCxtQkFBbUJNLGVBQWVBLGVBQWU1RSw4REFBWUEsQ0FBQzZFLEtBQUs7SUFDMUc7SUFDQTs7S0FFQyxHQUNEQyxrQkFBa0I7UUFDZCxJQUFJLENBQUN0QixVQUFVLENBQUNhLEdBQUcsQ0FBQzNELDRFQUFhQSxFQUFFNEQsbUJBQW1CO0lBQzFEO0lBQ0E7Ozs7S0FJQyxHQUNEUyxVQUFVQyxNQUFNLEVBQUVDLGdCQUFnQixJQUFJLEVBQUVDLGdCQUFnQmpGLHFFQUFtQixFQUFFO1FBQ3pFLDBEQUEwRDtRQUMxRCxJQUFJZ0YsaUJBQ0EsQ0FBQ0MsY0FBY0MsUUFBUSxDQUFDLGFBQ3hCLENBQUNILE9BQU9HLFFBQVEsQ0FBQyxXQUFXO1lBQzVCRCxjQUFjRSxJQUFJLENBQUM7UUFDdkI7UUFDQSxNQUFNQyxnQkFBZ0JKLGdCQUNoQjtlQUFLRCxVQUFVLEVBQUU7ZUFBTUU7U0FBYyxHQUNyQ0YsVUFBVSxFQUFFO1FBQ2xCLE1BQU1NLFdBQVcsSUFBSXBDLG1EQUFRQSxDQUFDbUM7UUFDOUIsSUFBSSxDQUFDN0IsVUFBVSxDQUFDYSxHQUFHLENBQUMxRCxvRUFBS0EsRUFBRTJELG1CQUFtQmdCLFNBQVNDLFdBQVc7SUFDdEU7SUFDQTs7O0tBR0MsR0FDREMsWUFBWTdCLFFBQVEsRUFBRTtRQUNsQixJQUFJLENBQUNILFVBQVUsQ0FBQ2EsR0FBRyxDQUFDekQsd0VBQVNBLEVBQUUwRCxtQkFBbUJYO0lBQ3REO0lBQ0E7OztLQUdDLEdBQ0Q4QixlQUFlQyxXQUFXLEVBQUU7UUFDeEJ0QyxtRUFBZ0JBLENBQUN1QyxtQkFBbUIsQ0FBQ0Q7UUFDckMsSUFBSSxDQUFDbEMsVUFBVSxDQUFDYSxHQUFHLENBQUN4RCwyRUFBWUEsRUFBRXlELG1CQUFtQm9CO0lBQ3pEO0lBQ0E7OztLQUdDLEdBQ0RFLHlCQUF5QkYsV0FBVyxFQUFFO1FBQ2xDdEMsbUVBQWdCQSxDQUFDdUMsbUJBQW1CLENBQUNEO1FBQ3JDLElBQUksQ0FBQ2xDLFVBQVUsQ0FBQ2EsR0FBRyxDQUFDdkQsOEVBQWVBLEVBQUV3RCxtQkFBbUJvQjtJQUM1RDtJQUNBOzs7S0FHQyxHQUNERyxlQUFlQyxXQUFXLEVBQUU7UUFDeEIsSUFBSSxDQUFDdEMsVUFBVSxDQUFDYSxHQUFHLENBQUN0RCw0RUFBYUEsRUFBRXVELG1CQUFtQndCO0lBQzFEO0lBQ0E7OztLQUdDLEdBQ0RDLGNBQWNDLFVBQVUsRUFBRTtRQUN0QixJQUFJLENBQUN4QyxVQUFVLENBQUNhLEdBQUcsQ0FBQ3JELDBFQUFXQSxFQUFFc0QsbUJBQW1CMEI7SUFDeEQ7SUFDQTs7O0tBR0MsR0FDREMsYUFBYUMsU0FBUyxFQUFFO1FBQ3BCLElBQUksQ0FBQzFDLFVBQVUsQ0FBQ2EsR0FBRyxDQUFDcEQseUVBQVVBLEVBQUVxRCxtQkFBbUI0QjtJQUN2RDtJQUNBOzs7S0FHQyxHQUNEQyxVQUFVRCxTQUFTLEVBQUU7UUFDakIsSUFBSSxDQUFDMUMsVUFBVSxDQUFDYSxHQUFHLENBQUNuRSw2REFBV0EsQ0FBQ2tHLFVBQVUsRUFBRTlCLG1CQUFtQixDQUFDLElBQUksRUFBRTRCLFVBQVUsQ0FBQztJQUNyRjtJQUNBOzs7S0FHQyxHQUNERyxVQUFVQyxVQUFVLEVBQUU7UUFDbEIsSUFBSSxDQUFDOUMsVUFBVSxDQUFDYSxHQUFHLENBQUNuRSw2REFBV0EsQ0FBQ2tHLFVBQVUsRUFBRTlCLG1CQUFtQixDQUFDLElBQUksRUFBRWdDLFdBQVdDLEdBQUcsQ0FBQyxDQUFDLEVBQUVELFdBQVdFLElBQUksQ0FBQyxDQUFDO0lBQzdHO0lBQ0E7OztLQUdDLEdBQ0RDLE9BQU9DLEdBQUcsRUFBRTtRQUNSLElBQUksQ0FBQ2xELFVBQVUsQ0FBQ2EsR0FBRyxDQUFDbkQsa0VBQUdBLEVBQUVvRCxtQkFBbUJvQztJQUNoRDtJQUNBOzs7S0FHQyxHQUNEQyxVQUFVQyxNQUFNLEVBQUVDLGtCQUFrQixFQUFFO1FBQ2xDLE1BQU1DLGVBQWUsSUFBSSxDQUFDQyw2QkFBNkIsQ0FBQ0gsUUFBUUM7UUFDaEV6RCxtRUFBZ0JBLENBQUM0RCxjQUFjLENBQUNGO1FBQ2hDLElBQUksQ0FBQ3RELFVBQVUsQ0FBQ2EsR0FBRyxDQUFDbEQscUVBQU1BLEVBQUVtRCxtQkFBbUJ3QztJQUNuRDtJQUNBOzs7S0FHQyxHQUNERyxpQkFBaUJ4RCxhQUFhLEVBQUU7UUFDNUIsSUFBSSxDQUFDRCxVQUFVLENBQUNhLEdBQUcsQ0FBQ2pELGdGQUFpQkEsRUFBRWtELG1CQUFtQmI7SUFDOUQ7SUFDQTs7O0tBR0MsR0FDRHlELGVBQWVDLFdBQVcsRUFBRTtRQUN4QixpQkFBaUI7UUFDakIsSUFBSSxDQUFDM0QsVUFBVSxDQUFDYSxHQUFHLENBQUNoRCwyRUFBWUEsRUFBRThGLFlBQVlDLEdBQUc7UUFDakQsSUFBSSxDQUFDNUQsVUFBVSxDQUFDYSxHQUFHLENBQUMvQywyRUFBWUEsRUFBRTZGLFlBQVlFLE9BQU87UUFDckQsSUFBSUYsWUFBWUcsRUFBRSxFQUFFO1lBQ2hCLElBQUksQ0FBQzlELFVBQVUsQ0FBQ2EsR0FBRyxDQUFDOUMsMEVBQVdBLEVBQUU0RixZQUFZRyxFQUFFO1FBQ25EO1FBQ0EsSUFBSUgsWUFBWUksR0FBRyxFQUFFO1lBQ2pCLElBQUksQ0FBQy9ELFVBQVUsQ0FBQ2EsR0FBRyxDQUFDN0MsMkVBQVlBLEVBQUUyRixZQUFZSSxHQUFHO1FBQ3JEO0lBQ0o7SUFDQTs7O0tBR0MsR0FDREMsd0JBQXdCQyxZQUFZLEVBQUU7UUFDbEMsSUFBSUEsY0FBY0MsU0FBUztZQUN2QixJQUFJLENBQUNsRSxVQUFVLENBQUNhLEdBQUcsQ0FBQzVDLHlFQUFVQSxFQUFFZ0csYUFBYUMsT0FBTztRQUN4RDtRQUNBLElBQUlELGNBQWNFLFlBQVk7WUFDMUIsSUFBSSxDQUFDbkUsVUFBVSxDQUFDYSxHQUFHLENBQUMzQyx3RUFBU0EsRUFBRStGLGFBQWFFLFVBQVU7UUFDMUQ7SUFDSjtJQUNBOzs7S0FHQyxHQUNEQyxVQUFVQyxNQUFNLEVBQUU7UUFDZHpFLG1FQUFnQkEsQ0FBQzBFLGNBQWMsQ0FBQ0Q7UUFDaEMsSUFBSSxDQUFDckUsVUFBVSxDQUFDYSxHQUFHLENBQUMsQ0FBQyxFQUFFMUMscUVBQU1BLENBQUMsQ0FBQyxFQUFFMkMsbUJBQW1CdUQ7SUFDeEQ7SUFDQTs7O0tBR0MsR0FDREUsU0FBU0MsS0FBSyxFQUFFO1FBQ1osSUFBSUEsT0FBTztZQUNQLElBQUksQ0FBQ3hFLFVBQVUsQ0FBQ2EsR0FBRyxDQUFDekMsb0VBQUtBLEVBQUUwQyxtQkFBbUIwRDtRQUNsRDtJQUNKO0lBQ0E7OztLQUdDLEdBQ0RDLFNBQVNDLEtBQUssRUFBRTtRQUNaLElBQUksQ0FBQzFFLFVBQVUsQ0FBQ2EsR0FBRyxDQUFDeEMsb0VBQUtBLEVBQUV5QyxtQkFBbUI0RDtJQUNsRDtJQUNBOzs7OztLQUtDLEdBQ0RDLHVCQUF1QkMsYUFBYSxFQUFFQyxtQkFBbUIsRUFBRTtRQUN2RGpGLG1FQUFnQkEsQ0FBQ2tGLDJCQUEyQixDQUFDRixlQUFlQztRQUM1RCxJQUFJRCxpQkFBaUJDLHFCQUFxQjtZQUN0QyxJQUFJLENBQUM3RSxVQUFVLENBQUNhLEdBQUcsQ0FBQ3ZDLDZFQUFjQSxFQUFFd0MsbUJBQW1COEQ7WUFDdkQsSUFBSSxDQUFDNUUsVUFBVSxDQUFDYSxHQUFHLENBQUN0QyxvRkFBcUJBLEVBQUV1QyxtQkFBbUIrRDtRQUNsRSxPQUNLO1lBQ0QsTUFBTWxGLG1HQUE4QkEsQ0FBQ0UsdUZBQWlCQTtRQUMxRDtJQUNKO0lBQ0E7OztLQUdDLEdBQ0RrRixxQkFBcUJDLElBQUksRUFBRTtRQUN2QixJQUFJLENBQUNoRixVQUFVLENBQUNhLEdBQUcsQ0FBQ3JDLG1FQUFJQSxFQUFFc0MsbUJBQW1Ca0U7SUFDakQ7SUFDQTs7O0tBR0MsR0FDREMsY0FBY0QsSUFBSSxFQUFFO1FBQ2hCLElBQUksQ0FBQ2hGLFVBQVUsQ0FBQ2EsR0FBRyxDQUFDcEMsMEVBQVdBLEVBQUVxQyxtQkFBbUJrRTtJQUN4RDtJQUNBOzs7S0FHQyxHQUNERSxnQkFBZ0JDLFlBQVksRUFBRTtRQUMxQixJQUFJLENBQUNuRixVQUFVLENBQUNhLEdBQUcsQ0FBQ25DLDRFQUFhQSxFQUFFb0MsbUJBQW1CcUU7SUFDMUQ7SUFDQTs7O0tBR0MsR0FDREMsZ0JBQWdCQyxZQUFZLEVBQUU7UUFDMUIsSUFBSSxDQUFDckYsVUFBVSxDQUFDYSxHQUFHLENBQUNsQyw0RUFBYUEsRUFBRW1DLG1CQUFtQnVFO0lBQzFEO0lBQ0E7OztLQUdDLEdBQ0RDLGdCQUFnQkMsWUFBWSxFQUFFO1FBQzFCLElBQUksQ0FBQ3ZGLFVBQVUsQ0FBQ2EsR0FBRyxDQUFDakMsNEVBQWFBLEVBQUVrQyxtQkFBbUJ5RTtJQUMxRDtJQUNBOzs7S0FHQyxHQUNEQyxtQkFBbUJDLGVBQWUsRUFBRTtRQUNoQyxJQUFJQSxpQkFBaUI7WUFDakIsSUFBSSxDQUFDekYsVUFBVSxDQUFDYSxHQUFHLENBQUNoQywrRUFBZ0JBLEVBQUVpQyxtQkFBbUIyRTtRQUM3RDtJQUNKO0lBQ0E7OztLQUdDLEdBQ0RDLHVCQUF1QkMsbUJBQW1CLEVBQUU7UUFDeEMsSUFBSUEscUJBQXFCO1lBQ3JCLElBQUksQ0FBQzNGLFVBQVUsQ0FBQ2EsR0FBRyxDQUFDL0Isb0ZBQXFCQSxFQUFFZ0MsbUJBQW1CNkU7UUFDbEU7SUFDSjtJQUNBOzs7S0FHQyxHQUNEQyxnQkFBZ0JDLFlBQVksRUFBRTtRQUMxQixJQUFJLENBQUM3RixVQUFVLENBQUNhLEdBQUcsQ0FBQzlCLDRFQUFhQSxFQUFFK0IsbUJBQW1CK0U7SUFDMUQ7SUFDQTs7O0tBR0MsR0FDREMsbUJBQW1CQyxRQUFRLEVBQUU7UUFDekIsSUFBSSxDQUFDL0YsVUFBVSxDQUFDYSxHQUFHLENBQUM3QixrRkFBbUJBLEVBQUU4QixtQkFBbUJpRjtJQUNoRTtJQUNBOzs7S0FHQyxHQUNEQyxhQUFhQyxTQUFTLEVBQUU7UUFDcEIsSUFBSSxDQUFDakcsVUFBVSxDQUFDYSxHQUFHLENBQUM1Qix5RUFBVUEsRUFBRTZCLG1CQUFtQm1GO0lBQ3ZEO0lBQ0E7OztLQUdDLEdBQ0RDLGdCQUFnQjtRQUNaLElBQUksQ0FBQ2xHLFVBQVUsQ0FBQ2EsR0FBRyxDQUFDbEUsNkRBQVdBLEVBQUU7SUFDckM7SUFDQTs7O0tBR0MsR0FDRHdKLHdCQUF3QkMsUUFBUSxFQUFFO1FBQzlCQyxPQUFPQyxPQUFPLENBQUNGLFVBQVVHLE9BQU8sQ0FBQyxDQUFDLENBQUNDLEtBQUtDLE1BQU07WUFDMUMsSUFBSSxDQUFDLElBQUksQ0FBQ3pHLFVBQVUsQ0FBQ0ssR0FBRyxDQUFDbUcsUUFBUUMsT0FBTztnQkFDcEMsSUFBSSxDQUFDekcsVUFBVSxDQUFDYSxHQUFHLENBQUMyRixLQUFLQztZQUM3QjtRQUNKO0lBQ0o7SUFDQWxELDhCQUE4QkgsTUFBTSxFQUFFQyxrQkFBa0IsRUFBRTtRQUN0RCxJQUFJQztRQUNKLG9FQUFvRTtRQUNwRSxJQUFJLENBQUNGLFFBQVE7WUFDVEUsZUFBZSxDQUFDO1FBQ3BCLE9BQ0s7WUFDRCxJQUFJO2dCQUNBQSxlQUFlb0QsS0FBS0MsS0FBSyxDQUFDdkQ7WUFDOUIsRUFDQSxPQUFPd0QsR0FBRztnQkFDTixNQUFNakgsbUdBQThCQSxDQUFDRyxtRkFBYUE7WUFDdEQ7UUFDSjtRQUNBLElBQUl1RCxzQkFBc0JBLG1CQUFtQndELE1BQU0sR0FBRyxHQUFHO1lBQ3JELElBQUksQ0FBQ3ZELGFBQWF3RCxjQUFjLENBQUNsSyxtRUFBaUJBLENBQUNtSyxZQUFZLEdBQUc7Z0JBQzlELHdDQUF3QztnQkFDeEN6RCxZQUFZLENBQUMxRyxtRUFBaUJBLENBQUNtSyxZQUFZLENBQUMsR0FBRyxDQUFDO1lBQ3BEO1lBQ0Esd0VBQXdFO1lBQ3hFekQsWUFBWSxDQUFDMUcsbUVBQWlCQSxDQUFDbUssWUFBWSxDQUFDLENBQUNuSyxtRUFBaUJBLENBQUNvSyxNQUFNLENBQUMsR0FBRztnQkFDckVDLFFBQVE1RDtZQUNaO1FBQ0o7UUFDQSxPQUFPcUQsS0FBS1EsU0FBUyxDQUFDNUQ7SUFDMUI7SUFDQTs7O0tBR0MsR0FDRDZELFlBQVlDLFFBQVEsRUFBRTtRQUNsQixJQUFJLENBQUNwSCxVQUFVLENBQUNhLEdBQUcsQ0FBQ2hFLHdFQUFzQkEsQ0FBQ3VLLFFBQVEsRUFBRXRHLG1CQUFtQnNHO0lBQzVFO0lBQ0E7OztLQUdDLEdBQ0RDLFlBQVlDLFFBQVEsRUFBRTtRQUNsQixJQUFJLENBQUN0SCxVQUFVLENBQUNhLEdBQUcsQ0FBQ2hFLHdFQUFzQkEsQ0FBQ3lLLFFBQVEsRUFBRXhHLG1CQUFtQndHO0lBQzVFO0lBQ0E7OztLQUdDLEdBQ0RDLFlBQVlDLFNBQVMsRUFBRTtRQUNuQixJQUFJQSxXQUFXO1lBQ1gsSUFBSSxDQUFDeEgsVUFBVSxDQUFDYSxHQUFHLENBQUMzQix5RUFBVUEsRUFBRXBDLHNFQUFvQkEsQ0FBQzJLLEdBQUc7WUFDeEQsSUFBSSxDQUFDekgsVUFBVSxDQUFDYSxHQUFHLENBQUMxQixzRUFBT0EsRUFBRTJCLG1CQUFtQjBHO1FBQ3BEO0lBQ0o7SUFDQTs7S0FFQyxHQUNERSxVQUFVQyxZQUFZLEVBQUU7UUFDcEIsSUFBSUEsY0FBYztZQUNkLElBQUksQ0FBQzNILFVBQVUsQ0FBQ2EsR0FBRyxDQUFDM0IseUVBQVVBLEVBQUVwQyxzRUFBb0JBLENBQUM4SyxHQUFHO1lBQ3hELElBQUksQ0FBQzVILFVBQVUsQ0FBQ2EsR0FBRyxDQUFDMUIsc0VBQU9BLEVBQUUyQixtQkFBbUI2RztRQUNwRDtJQUNKO0lBQ0E7OztLQUdDLEdBQ0RFLG1CQUFtQkMsc0JBQXNCLEVBQUU7UUFDdkMsSUFBSSxDQUFDOUgsVUFBVSxDQUFDYSxHQUFHLENBQUN6QixrRkFBbUJBLEVBQUUwSSx1QkFBdUJDLGlDQUFpQztRQUNqRyxJQUFJLENBQUMvSCxVQUFVLENBQUNhLEdBQUcsQ0FBQ3hCLGtGQUFtQkEsRUFBRXlJLHVCQUF1QkUsOEJBQThCO0lBQ2xHO0lBQ0E7O0tBRUMsR0FDREMsZ0JBQWdCO1FBQ1osSUFBSSxDQUFDakksVUFBVSxDQUFDYSxHQUFHLENBQUN2QixrRkFBbUJBLEVBQUV2QyxxRUFBbUJBLENBQUNtTCx5QkFBeUI7SUFDMUY7SUFDQTs7S0FFQyxHQUNEQyxjQUFjQyxVQUFVLEVBQUU7UUFDdEIsSUFBSSxDQUFDcEksVUFBVSxDQUFDYSxHQUFHLENBQUN0QiwwRUFBV0EsRUFBRXVCLG1CQUFtQnNIO0lBQ3hEO0lBQ0FDLG9CQUFvQkMsTUFBTSxFQUFFO1FBQ3hCLE1BQU1DLGVBQWUsQ0FBQztRQUN0QkEsWUFBWSxDQUFDL0ksK0VBQWdCQSxDQUFDLEdBQzFCOEksT0FBT0UsY0FBYztRQUN6QkQsWUFBWSxDQUFDOUksa0ZBQW1CQSxDQUFDLEdBQzdCNkksT0FBT0csaUJBQWlCO1FBQzVCLElBQUksQ0FBQ3RDLHVCQUF1QixDQUFDb0M7SUFDakM7SUFDQTs7S0FFQyxHQUNERyxvQkFBb0I7UUFDaEIsTUFBTUMsc0JBQXNCLElBQUlDO1FBQ2hDLElBQUksQ0FBQzVJLFVBQVUsQ0FBQ3VHLE9BQU8sQ0FBQyxDQUFDRSxPQUFPRDtZQUM1Qm1DLG9CQUFvQi9HLElBQUksQ0FBQyxDQUFDLEVBQUU0RSxJQUFJLENBQUMsRUFBRUMsTUFBTSxDQUFDO1FBQzlDO1FBQ0ExRyx1QkFBdUIsSUFBSSxDQUFDQyxVQUFVLEVBQUUsSUFBSSxDQUFDQyxhQUFhLEVBQUUsSUFBSSxDQUFDQyxpQkFBaUI7UUFDbEYsT0FBT3lJLG9CQUFvQkUsSUFBSSxDQUFDO0lBQ3BDO0FBQ0o7QUFFbUMsQ0FDbkMsb0RBQW9EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L3JlcXVlc3QvUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIubWpzPzZhMTciXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBDb25zdGFudHMsIFJlc3BvbnNlTW9kZSwgT0lEQ19ERUZBVUxUX1NDT1BFUywgSGVhZGVyTmFtZXMsIENMSUVOVF9JTkZPLCBDbGFpbXNSZXF1ZXN0S2V5cywgUGFzc3dvcmRHcmFudENvbnN0YW50cywgQXV0aGVudGljYXRpb25TY2hlbWUsIFRocm90dGxpbmdDb25zdGFudHMgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMubWpzJztcbmltcG9ydCB7IFJFU1BPTlNFX1RZUEUsIFJFU1BPTlNFX01PREUsIE5BVElWRV9CUk9LRVIsIFNDT1BFLCBDTElFTlRfSUQsIFJFRElSRUNUX1VSSSwgUE9TVF9MT0dPVVRfVVJJLCBJRF9UT0tFTl9ISU5ULCBET01BSU5fSElOVCwgTE9HSU5fSElOVCwgU0lELCBDTEFJTVMsIENMSUVOVF9SRVFVRVNUX0lELCBYX0NMSUVOVF9TS1UsIFhfQ0xJRU5UX1ZFUiwgWF9DTElFTlRfT1MsIFhfQ0xJRU5UX0NQVSwgWF9BUFBfTkFNRSwgWF9BUFBfVkVSLCBQUk9NUFQsIFNUQVRFLCBOT05DRSwgQ09ERV9DSEFMTEVOR0UsIENPREVfQ0hBTExFTkdFX01FVEhPRCwgQ09ERSwgREVWSUNFX0NPREUsIFJFRlJFU0hfVE9LRU4sIENPREVfVkVSSUZJRVIsIENMSUVOVF9TRUNSRVQsIENMSUVOVF9BU1NFUlRJT04sIENMSUVOVF9BU1NFUlRJT05fVFlQRSwgT0JPX0FTU0VSVElPTiwgUkVRVUVTVEVEX1RPS0VOX1VTRSwgR1JBTlRfVFlQRSwgVE9LRU5fVFlQRSwgUkVRX0NORiwgWF9DTElFTlRfQ1VSUl9URUxFTSwgWF9DTElFTlRfTEFTVF9URUxFTSwgWF9NU19MSUJfQ0FQQUJJTElUWSwgTE9HT1VUX0hJTlQsIEJST0tFUl9DTElFTlRfSUQsIEJST0tFUl9SRURJUkVDVF9VUkkgfSBmcm9tICcuLi9jb25zdGFudHMvQUFEU2VydmVyUGFyYW1LZXlzLm1qcyc7XG5pbXBvcnQgeyBTY29wZVNldCB9IGZyb20gJy4vU2NvcGVTZXQubWpzJztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudENvbmZpZ3VyYXRpb25FcnJvciB9IGZyb20gJy4uL2Vycm9yL0NsaWVudENvbmZpZ3VyYXRpb25FcnJvci5tanMnO1xuaW1wb3J0IHsgUmVxdWVzdFZhbGlkYXRvciB9IGZyb20gJy4vUmVxdWVzdFZhbGlkYXRvci5tanMnO1xuaW1wb3J0IHsgcGtjZVBhcmFtc01pc3NpbmcsIGludmFsaWRDbGFpbXMgfSBmcm9tICcuLi9lcnJvci9DbGllbnRDb25maWd1cmF0aW9uRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gaW5zdHJ1bWVudEJyb2tlclBhcmFtcyhwYXJhbWV0ZXJzLCBjb3JyZWxhdGlvbklkLCBwZXJmb3JtYW5jZUNsaWVudCkge1xyXG4gICAgaWYgKCFjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgY2xpZW50SWQgPSBwYXJhbWV0ZXJzLmdldChDTElFTlRfSUQpO1xyXG4gICAgaWYgKGNsaWVudElkICYmIHBhcmFtZXRlcnMuaGFzKEJST0tFUl9DTElFTlRfSUQpKSB7XHJcbiAgICAgICAgcGVyZm9ybWFuY2VDbGllbnQ/LmFkZEZpZWxkcyh7XHJcbiAgICAgICAgICAgIGVtYmVkZGVkQ2xpZW50SWQ6IGNsaWVudElkLFxyXG4gICAgICAgICAgICBlbWJlZGRlZFJlZGlyZWN0VXJpOiBwYXJhbWV0ZXJzLmdldChSRURJUkVDVF9VUkkpLFxyXG4gICAgICAgIH0sIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgfVxyXG59XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuY2xhc3MgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIge1xyXG4gICAgY29uc3RydWN0b3IoY29ycmVsYXRpb25JZCwgcGVyZm9ybWFuY2VDbGllbnQpIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCA9IHBlcmZvcm1hbmNlQ2xpZW50O1xyXG4gICAgICAgIHRoaXMuY29ycmVsYXRpb25JZCA9IGNvcnJlbGF0aW9uSWQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGFkZCByZXNwb25zZV90eXBlID0gY29kZVxyXG4gICAgICovXHJcbiAgICBhZGRSZXNwb25zZVR5cGVDb2RlKCkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoUkVTUE9OU0VfVFlQRSwgZW5jb2RlVVJJQ29tcG9uZW50KENvbnN0YW50cy5DT0RFX1JFU1BPTlNFX1RZUEUpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWRkIHJlc3BvbnNlX3R5cGUgPSB0b2tlbiBpZF90b2tlblxyXG4gICAgICovXHJcbiAgICBhZGRSZXNwb25zZVR5cGVGb3JUb2tlbkFuZElkVG9rZW4oKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChSRVNQT05TRV9UWVBFLCBlbmNvZGVVUklDb21wb25lbnQoYCR7Q29uc3RhbnRzLlRPS0VOX1JFU1BPTlNFX1RZUEV9ICR7Q29uc3RhbnRzLklEX1RPS0VOX1JFU1BPTlNFX1RZUEV9YCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgcmVzcG9uc2VfbW9kZS4gZGVmYXVsdHMgdG8gcXVlcnkuXHJcbiAgICAgKiBAcGFyYW0gcmVzcG9uc2VNb2RlXHJcbiAgICAgKi9cclxuICAgIGFkZFJlc3BvbnNlTW9kZShyZXNwb25zZU1vZGUpIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KFJFU1BPTlNFX01PREUsIGVuY29kZVVSSUNvbXBvbmVudChyZXNwb25zZU1vZGUgPyByZXNwb25zZU1vZGUgOiBSZXNwb25zZU1vZGUuUVVFUlkpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkIGZsYWcgdG8gaW5kaWNhdGUgU1RTIHNob3VsZCBhdHRlbXB0IHRvIHVzZSBXQU0gaWYgYXZhaWxhYmxlXHJcbiAgICAgKi9cclxuICAgIGFkZE5hdGl2ZUJyb2tlcigpIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KE5BVElWRV9CUk9LRVIsIGVuY29kZVVSSUNvbXBvbmVudChcIjFcIikpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgc2NvcGVzLiBzZXQgYWRkT2lkY1Njb3BlcyB0byBmYWxzZSB0byBwcmV2ZW50IGRlZmF1bHQgc2NvcGVzIGluIG5vbi11c2VyIHNjZW5hcmlvc1xyXG4gICAgICogQHBhcmFtIHNjb3BlU2V0XHJcbiAgICAgKiBAcGFyYW0gYWRkT2lkY1Njb3Blc1xyXG4gICAgICovXHJcbiAgICBhZGRTY29wZXMoc2NvcGVzLCBhZGRPaWRjU2NvcGVzID0gdHJ1ZSwgZGVmYXVsdFNjb3BlcyA9IE9JRENfREVGQVVMVF9TQ09QRVMpIHtcclxuICAgICAgICAvLyBBbHdheXMgYWRkIG9wZW5pZCB0byB0aGUgc2NvcGVzIHdoZW4gYWRkaW5nIE9JREMgc2NvcGVzXHJcbiAgICAgICAgaWYgKGFkZE9pZGNTY29wZXMgJiZcclxuICAgICAgICAgICAgIWRlZmF1bHRTY29wZXMuaW5jbHVkZXMoXCJvcGVuaWRcIikgJiZcclxuICAgICAgICAgICAgIXNjb3Blcy5pbmNsdWRlcyhcIm9wZW5pZFwiKSkge1xyXG4gICAgICAgICAgICBkZWZhdWx0U2NvcGVzLnB1c2goXCJvcGVuaWRcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHJlcXVlc3RTY29wZXMgPSBhZGRPaWRjU2NvcGVzXHJcbiAgICAgICAgICAgID8gWy4uLihzY29wZXMgfHwgW10pLCAuLi5kZWZhdWx0U2NvcGVzXVxyXG4gICAgICAgICAgICA6IHNjb3BlcyB8fCBbXTtcclxuICAgICAgICBjb25zdCBzY29wZVNldCA9IG5ldyBTY29wZVNldChyZXF1ZXN0U2NvcGVzKTtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KFNDT1BFLCBlbmNvZGVVUklDb21wb25lbnQoc2NvcGVTZXQucHJpbnRTY29wZXMoKSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgY2xpZW50SWRcclxuICAgICAqIEBwYXJhbSBjbGllbnRJZFxyXG4gICAgICovXHJcbiAgICBhZGRDbGllbnRJZChjbGllbnRJZCkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQ0xJRU5UX0lELCBlbmNvZGVVUklDb21wb25lbnQoY2xpZW50SWQpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWRkIHJlZGlyZWN0X3VyaVxyXG4gICAgICogQHBhcmFtIHJlZGlyZWN0VXJpXHJcbiAgICAgKi9cclxuICAgIGFkZFJlZGlyZWN0VXJpKHJlZGlyZWN0VXJpKSB7XHJcbiAgICAgICAgUmVxdWVzdFZhbGlkYXRvci52YWxpZGF0ZVJlZGlyZWN0VXJpKHJlZGlyZWN0VXJpKTtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KFJFRElSRUNUX1VSSSwgZW5jb2RlVVJJQ29tcG9uZW50KHJlZGlyZWN0VXJpKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBwb3N0IGxvZ291dCByZWRpcmVjdFVyaVxyXG4gICAgICogQHBhcmFtIHJlZGlyZWN0VXJpXHJcbiAgICAgKi9cclxuICAgIGFkZFBvc3RMb2dvdXRSZWRpcmVjdFVyaShyZWRpcmVjdFVyaSkge1xyXG4gICAgICAgIFJlcXVlc3RWYWxpZGF0b3IudmFsaWRhdGVSZWRpcmVjdFVyaShyZWRpcmVjdFVyaSk7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChQT1NUX0xPR09VVF9VUkksIGVuY29kZVVSSUNvbXBvbmVudChyZWRpcmVjdFVyaSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgaWRfdG9rZW5faGludCB0byBsb2dvdXQgcmVxdWVzdFxyXG4gICAgICogQHBhcmFtIGlkVG9rZW5IaW50XHJcbiAgICAgKi9cclxuICAgIGFkZElkVG9rZW5IaW50KGlkVG9rZW5IaW50KSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChJRF9UT0tFTl9ISU5ULCBlbmNvZGVVUklDb21wb25lbnQoaWRUb2tlbkhpbnQpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWRkIGRvbWFpbl9oaW50XHJcbiAgICAgKiBAcGFyYW0gZG9tYWluSGludFxyXG4gICAgICovXHJcbiAgICBhZGREb21haW5IaW50KGRvbWFpbkhpbnQpIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KERPTUFJTl9ISU5ULCBlbmNvZGVVUklDb21wb25lbnQoZG9tYWluSGludCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgbG9naW5faGludFxyXG4gICAgICogQHBhcmFtIGxvZ2luSGludFxyXG4gICAgICovXHJcbiAgICBhZGRMb2dpbkhpbnQobG9naW5IaW50KSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChMT0dJTl9ISU5ULCBlbmNvZGVVUklDb21wb25lbnQobG9naW5IaW50KSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgdGhlIENDUyAoQ2FjaGUgQ3JlZGVudGlhbCBTZXJ2aWNlKSBxdWVyeSBwYXJhbWV0ZXIgZm9yIGxvZ2luX2hpbnRcclxuICAgICAqIEBwYXJhbSBsb2dpbkhpbnRcclxuICAgICAqL1xyXG4gICAgYWRkQ2NzVXBuKGxvZ2luSGludCkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoSGVhZGVyTmFtZXMuQ0NTX0hFQURFUiwgZW5jb2RlVVJJQ29tcG9uZW50KGBVUE46JHtsb2dpbkhpbnR9YCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIHRoZSBDQ1MgKENhY2hlIENyZWRlbnRpYWwgU2VydmljZSkgcXVlcnkgcGFyYW1ldGVyIGZvciBhY2NvdW50IG9iamVjdFxyXG4gICAgICogQHBhcmFtIGxvZ2luSGludFxyXG4gICAgICovXHJcbiAgICBhZGRDY3NPaWQoY2xpZW50SW5mbykge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoSGVhZGVyTmFtZXMuQ0NTX0hFQURFUiwgZW5jb2RlVVJJQ29tcG9uZW50KGBPaWQ6JHtjbGllbnRJbmZvLnVpZH1AJHtjbGllbnRJbmZvLnV0aWR9YCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgc2lkXHJcbiAgICAgKiBAcGFyYW0gc2lkXHJcbiAgICAgKi9cclxuICAgIGFkZFNpZChzaWQpIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KFNJRCwgZW5jb2RlVVJJQ29tcG9uZW50KHNpZCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgY2xhaW1zXHJcbiAgICAgKiBAcGFyYW0gY2xhaW1zXHJcbiAgICAgKi9cclxuICAgIGFkZENsYWltcyhjbGFpbXMsIGNsaWVudENhcGFiaWxpdGllcykge1xyXG4gICAgICAgIGNvbnN0IG1lcmdlZENsYWltcyA9IHRoaXMuYWRkQ2xpZW50Q2FwYWJpbGl0aWVzVG9DbGFpbXMoY2xhaW1zLCBjbGllbnRDYXBhYmlsaXRpZXMpO1xyXG4gICAgICAgIFJlcXVlc3RWYWxpZGF0b3IudmFsaWRhdGVDbGFpbXMobWVyZ2VkQ2xhaW1zKTtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KENMQUlNUywgZW5jb2RlVVJJQ29tcG9uZW50KG1lcmdlZENsYWltcykpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgY29ycmVsYXRpb25JZFxyXG4gICAgICogQHBhcmFtIGNvcnJlbGF0aW9uSWRcclxuICAgICAqL1xyXG4gICAgYWRkQ29ycmVsYXRpb25JZChjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChDTElFTlRfUkVRVUVTVF9JRCwgZW5jb2RlVVJJQ29tcG9uZW50KGNvcnJlbGF0aW9uSWQpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWRkIGxpYnJhcnkgaW5mbyBxdWVyeSBwYXJhbXNcclxuICAgICAqIEBwYXJhbSBsaWJyYXJ5SW5mb1xyXG4gICAgICovXHJcbiAgICBhZGRMaWJyYXJ5SW5mbyhsaWJyYXJ5SW5mbykge1xyXG4gICAgICAgIC8vIFRlbGVtZXRyeSBJbmZvXHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChYX0NMSUVOVF9TS1UsIGxpYnJhcnlJbmZvLnNrdSk7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChYX0NMSUVOVF9WRVIsIGxpYnJhcnlJbmZvLnZlcnNpb24pO1xyXG4gICAgICAgIGlmIChsaWJyYXJ5SW5mby5vcykge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KFhfQ0xJRU5UX09TLCBsaWJyYXJ5SW5mby5vcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsaWJyYXJ5SW5mby5jcHUpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChYX0NMSUVOVF9DUFUsIGxpYnJhcnlJbmZvLmNwdSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGQgY2xpZW50IHRlbGVtZXRyeSBwYXJhbWV0ZXJzXHJcbiAgICAgKiBAcGFyYW0gYXBwVGVsZW1ldHJ5XHJcbiAgICAgKi9cclxuICAgIGFkZEFwcGxpY2F0aW9uVGVsZW1ldHJ5KGFwcFRlbGVtZXRyeSkge1xyXG4gICAgICAgIGlmIChhcHBUZWxlbWV0cnk/LmFwcE5hbWUpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChYX0FQUF9OQU1FLCBhcHBUZWxlbWV0cnkuYXBwTmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcHBUZWxlbWV0cnk/LmFwcFZlcnNpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChYX0FQUF9WRVIsIGFwcFRlbGVtZXRyeS5hcHBWZXJzaW9uKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBwcm9tcHRcclxuICAgICAqIEBwYXJhbSBwcm9tcHRcclxuICAgICAqL1xyXG4gICAgYWRkUHJvbXB0KHByb21wdCkge1xyXG4gICAgICAgIFJlcXVlc3RWYWxpZGF0b3IudmFsaWRhdGVQcm9tcHQocHJvbXB0KTtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KGAke1BST01QVH1gLCBlbmNvZGVVUklDb21wb25lbnQocHJvbXB0KSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBzdGF0ZVxyXG4gICAgICogQHBhcmFtIHN0YXRlXHJcbiAgICAgKi9cclxuICAgIGFkZFN0YXRlKHN0YXRlKSB7XHJcbiAgICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoU1RBVEUsIGVuY29kZVVSSUNvbXBvbmVudChzdGF0ZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWRkIG5vbmNlXHJcbiAgICAgKiBAcGFyYW0gbm9uY2VcclxuICAgICAqL1xyXG4gICAgYWRkTm9uY2Uobm9uY2UpIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KE5PTkNFLCBlbmNvZGVVUklDb21wb25lbnQobm9uY2UpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWRkIGNvZGVfY2hhbGxlbmdlIGFuZCBjb2RlX2NoYWxsZW5nZV9tZXRob2RcclxuICAgICAqIC0gdGhyb3cgaWYgZWl0aGVyIG9mIHRoZW0gYXJlIG5vdCBwYXNzZWRcclxuICAgICAqIEBwYXJhbSBjb2RlQ2hhbGxlbmdlXHJcbiAgICAgKiBAcGFyYW0gY29kZUNoYWxsZW5nZU1ldGhvZFxyXG4gICAgICovXHJcbiAgICBhZGRDb2RlQ2hhbGxlbmdlUGFyYW1zKGNvZGVDaGFsbGVuZ2UsIGNvZGVDaGFsbGVuZ2VNZXRob2QpIHtcclxuICAgICAgICBSZXF1ZXN0VmFsaWRhdG9yLnZhbGlkYXRlQ29kZUNoYWxsZW5nZVBhcmFtcyhjb2RlQ2hhbGxlbmdlLCBjb2RlQ2hhbGxlbmdlTWV0aG9kKTtcclxuICAgICAgICBpZiAoY29kZUNoYWxsZW5nZSAmJiBjb2RlQ2hhbGxlbmdlTWV0aG9kKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQ09ERV9DSEFMTEVOR0UsIGVuY29kZVVSSUNvbXBvbmVudChjb2RlQ2hhbGxlbmdlKSk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQ09ERV9DSEFMTEVOR0VfTUVUSE9ELCBlbmNvZGVVUklDb21wb25lbnQoY29kZUNoYWxsZW5nZU1ldGhvZCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKHBrY2VQYXJhbXNNaXNzaW5nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGFkZCB0aGUgYGF1dGhvcml6YXRpb25fY29kZWAgcGFzc2VkIGJ5IHRoZSB1c2VyIHRvIGV4Y2hhbmdlIGZvciBhIHRva2VuXHJcbiAgICAgKiBAcGFyYW0gY29kZVxyXG4gICAgICovXHJcbiAgICBhZGRBdXRob3JpemF0aW9uQ29kZShjb2RlKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChDT0RFLCBlbmNvZGVVUklDb21wb25lbnQoY29kZSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgdGhlIGBhdXRob3JpemF0aW9uX2NvZGVgIHBhc3NlZCBieSB0aGUgdXNlciB0byBleGNoYW5nZSBmb3IgYSB0b2tlblxyXG4gICAgICogQHBhcmFtIGNvZGVcclxuICAgICAqL1xyXG4gICAgYWRkRGV2aWNlQ29kZShjb2RlKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChERVZJQ0VfQ09ERSwgZW5jb2RlVVJJQ29tcG9uZW50KGNvZGUpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWRkIHRoZSBgcmVmcmVzaFRva2VuYCBwYXNzZWQgYnkgdGhlIHVzZXJcclxuICAgICAqIEBwYXJhbSByZWZyZXNoVG9rZW5cclxuICAgICAqL1xyXG4gICAgYWRkUmVmcmVzaFRva2VuKHJlZnJlc2hUb2tlbikge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoUkVGUkVTSF9UT0tFTiwgZW5jb2RlVVJJQ29tcG9uZW50KHJlZnJlc2hUb2tlbikpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgdGhlIGBjb2RlX3ZlcmlmaWVyYCBwYXNzZWQgYnkgdGhlIHVzZXIgdG8gZXhjaGFuZ2UgZm9yIGEgdG9rZW5cclxuICAgICAqIEBwYXJhbSBjb2RlVmVyaWZpZXJcclxuICAgICAqL1xyXG4gICAgYWRkQ29kZVZlcmlmaWVyKGNvZGVWZXJpZmllcikge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQ09ERV9WRVJJRklFUiwgZW5jb2RlVVJJQ29tcG9uZW50KGNvZGVWZXJpZmllcikpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgY2xpZW50X3NlY3JldFxyXG4gICAgICogQHBhcmFtIGNsaWVudFNlY3JldFxyXG4gICAgICovXHJcbiAgICBhZGRDbGllbnRTZWNyZXQoY2xpZW50U2VjcmV0KSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChDTElFTlRfU0VDUkVULCBlbmNvZGVVUklDb21wb25lbnQoY2xpZW50U2VjcmV0KSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBjbGllbnRBc3NlcnRpb24gZm9yIGNvbmZpZGVudGlhbCBjbGllbnQgZmxvd3NcclxuICAgICAqIEBwYXJhbSBjbGllbnRBc3NlcnRpb25cclxuICAgICAqL1xyXG4gICAgYWRkQ2xpZW50QXNzZXJ0aW9uKGNsaWVudEFzc2VydGlvbikge1xyXG4gICAgICAgIGlmIChjbGllbnRBc3NlcnRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChDTElFTlRfQVNTRVJUSU9OLCBlbmNvZGVVUklDb21wb25lbnQoY2xpZW50QXNzZXJ0aW9uKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgY2xpZW50QXNzZXJ0aW9uVHlwZSBmb3IgY29uZmlkZW50aWFsIGNsaWVudCBmbG93c1xyXG4gICAgICogQHBhcmFtIGNsaWVudEFzc2VydGlvblR5cGVcclxuICAgICAqL1xyXG4gICAgYWRkQ2xpZW50QXNzZXJ0aW9uVHlwZShjbGllbnRBc3NlcnRpb25UeXBlKSB7XHJcbiAgICAgICAgaWYgKGNsaWVudEFzc2VydGlvblR5cGUpIHtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChDTElFTlRfQVNTRVJUSU9OX1RZUEUsIGVuY29kZVVSSUNvbXBvbmVudChjbGllbnRBc3NlcnRpb25UeXBlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgT0JPIGFzc2VydGlvbiBmb3IgY29uZmlkZW50aWFsIGNsaWVudCBmbG93c1xyXG4gICAgICogQHBhcmFtIGNsaWVudEFzc2VydGlvblxyXG4gICAgICovXHJcbiAgICBhZGRPYm9Bc3NlcnRpb24ob2JvQXNzZXJ0aW9uKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChPQk9fQVNTRVJUSU9OLCBlbmNvZGVVUklDb21wb25lbnQob2JvQXNzZXJ0aW9uKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBncmFudCB0eXBlXHJcbiAgICAgKiBAcGFyYW0gZ3JhbnRUeXBlXHJcbiAgICAgKi9cclxuICAgIGFkZFJlcXVlc3RUb2tlblVzZSh0b2tlblVzZSkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoUkVRVUVTVEVEX1RPS0VOX1VTRSwgZW5jb2RlVVJJQ29tcG9uZW50KHRva2VuVXNlKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBncmFudCB0eXBlXHJcbiAgICAgKiBAcGFyYW0gZ3JhbnRUeXBlXHJcbiAgICAgKi9cclxuICAgIGFkZEdyYW50VHlwZShncmFudFR5cGUpIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KEdSQU5UX1RZUEUsIGVuY29kZVVSSUNvbXBvbmVudChncmFudFR5cGUpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWRkIGNsaWVudCBpbmZvXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBhZGRDbGllbnRJbmZvKCkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoQ0xJRU5UX0lORk8sIFwiMVwiKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWRkIGV4dHJhUXVlcnlQYXJhbXNcclxuICAgICAqIEBwYXJhbSBlUVBhcmFtc1xyXG4gICAgICovXHJcbiAgICBhZGRFeHRyYVF1ZXJ5UGFyYW1ldGVycyhlUVBhcmFtcykge1xyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKGVRUGFyYW1zKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnBhcmFtZXRlcnMuaGFzKGtleSkgJiYgdmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGFkZENsaWVudENhcGFiaWxpdGllc1RvQ2xhaW1zKGNsYWltcywgY2xpZW50Q2FwYWJpbGl0aWVzKSB7XHJcbiAgICAgICAgbGV0IG1lcmdlZENsYWltcztcclxuICAgICAgICAvLyBQYXJzZSBwcm92aWRlZCBjbGFpbXMgaW50byBKU09OIG9iamVjdCBvciBpbml0aWFsaXplIGVtcHR5IG9iamVjdFxyXG4gICAgICAgIGlmICghY2xhaW1zKSB7XHJcbiAgICAgICAgICAgIG1lcmdlZENsYWltcyA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIG1lcmdlZENsYWltcyA9IEpTT04ucGFyc2UoY2xhaW1zKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKGludmFsaWRDbGFpbXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjbGllbnRDYXBhYmlsaXRpZXMgJiYgY2xpZW50Q2FwYWJpbGl0aWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgaWYgKCFtZXJnZWRDbGFpbXMuaGFzT3duUHJvcGVydHkoQ2xhaW1zUmVxdWVzdEtleXMuQUNDRVNTX1RPS0VOKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkIGFjY2Vzc190b2tlbiBrZXkgdG8gY2xhaW1zIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgbWVyZ2VkQ2xhaW1zW0NsYWltc1JlcXVlc3RLZXlzLkFDQ0VTU19UT0tFTl0gPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBBZGQgeG1zX2NjIGNsYWltIHdpdGggcHJvdmlkZWQgY2xpZW50Q2FwYWJpbGl0aWVzIHRvIGFjY2Vzc190b2tlbiBrZXlcclxuICAgICAgICAgICAgbWVyZ2VkQ2xhaW1zW0NsYWltc1JlcXVlc3RLZXlzLkFDQ0VTU19UT0tFTl1bQ2xhaW1zUmVxdWVzdEtleXMuWE1TX0NDXSA9IHtcclxuICAgICAgICAgICAgICAgIHZhbHVlczogY2xpZW50Q2FwYWJpbGl0aWVzLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkobWVyZ2VkQ2xhaW1zKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWRkcyBgdXNlcm5hbWVgIGZvciBQYXNzd29yZCBHcmFudCBmbG93XHJcbiAgICAgKiBAcGFyYW0gdXNlcm5hbWVcclxuICAgICAqL1xyXG4gICAgYWRkVXNlcm5hbWUodXNlcm5hbWUpIHtcclxuICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KFBhc3N3b3JkR3JhbnRDb25zdGFudHMudXNlcm5hbWUsIGVuY29kZVVSSUNvbXBvbmVudCh1c2VybmFtZSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGRzIGBwYXNzd29yZGAgZm9yIFBhc3N3b3JkIEdyYW50IGZsb3dcclxuICAgICAqIEBwYXJhbSBwYXNzd29yZFxyXG4gICAgICovXHJcbiAgICBhZGRQYXNzd29yZChwYXNzd29yZCkge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoUGFzc3dvcmRHcmFudENvbnN0YW50cy5wYXNzd29yZCwgZW5jb2RlVVJJQ29tcG9uZW50KHBhc3N3b3JkKSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIGFkZCBwb3BfandrIHRvIHF1ZXJ5IHBhcmFtc1xyXG4gICAgICogQHBhcmFtIGNuZlN0cmluZ1xyXG4gICAgICovXHJcbiAgICBhZGRQb3BUb2tlbihjbmZTdHJpbmcpIHtcclxuICAgICAgICBpZiAoY25mU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoVE9LRU5fVFlQRSwgQXV0aGVudGljYXRpb25TY2hlbWUuUE9QKTtcclxuICAgICAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChSRVFfQ05GLCBlbmNvZGVVUklDb21wb25lbnQoY25mU3RyaW5nKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBhZGQgU1NIIEpXSyBhbmQga2V5IElEIHRvIHF1ZXJ5IHBhcmFtc1xyXG4gICAgICovXHJcbiAgICBhZGRTc2hKd2soc3NoSndrU3RyaW5nKSB7XHJcbiAgICAgICAgaWYgKHNzaEp3a1N0cmluZykge1xyXG4gICAgICAgICAgICB0aGlzLnBhcmFtZXRlcnMuc2V0KFRPS0VOX1RZUEUsIEF1dGhlbnRpY2F0aW9uU2NoZW1lLlNTSCk7XHJcbiAgICAgICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoUkVRX0NORiwgZW5jb2RlVVJJQ29tcG9uZW50KHNzaEp3a1N0cmluZykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogYWRkIHNlcnZlciB0ZWxlbWV0cnkgZmllbGRzXHJcbiAgICAgKiBAcGFyYW0gc2VydmVyVGVsZW1ldHJ5TWFuYWdlclxyXG4gICAgICovXHJcbiAgICBhZGRTZXJ2ZXJUZWxlbWV0cnkoc2VydmVyVGVsZW1ldHJ5TWFuYWdlcikge1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5zZXQoWF9DTElFTlRfQ1VSUl9URUxFTSwgc2VydmVyVGVsZW1ldHJ5TWFuYWdlci5nZW5lcmF0ZUN1cnJlbnRSZXF1ZXN0SGVhZGVyVmFsdWUoKSk7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChYX0NMSUVOVF9MQVNUX1RFTEVNLCBzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLmdlbmVyYXRlTGFzdFJlcXVlc3RIZWFkZXJWYWx1ZSgpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBwYXJhbWV0ZXIgdGhhdCBpbmRpY2F0ZXMgdG8gdGhlIHNlcnZlciB0aGF0IHRocm90dGxpbmcgaXMgc3VwcG9ydGVkXHJcbiAgICAgKi9cclxuICAgIGFkZFRocm90dGxpbmcoKSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChYX01TX0xJQl9DQVBBQklMSVRZLCBUaHJvdHRsaW5nQ29uc3RhbnRzLlhfTVNfTElCX0NBUEFCSUxJVFlfVkFMVUUpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIGxvZ291dF9oaW50IHBhcmFtZXRlciBmb3IgXCJzaWxlbnRcIiBsb2dvdXQgd2hpY2ggcHJldmVudCBzZXJ2ZXIgYWNjb3VudCBwaWNrZXJcclxuICAgICAqL1xyXG4gICAgYWRkTG9nb3V0SGludChsb2dvdXRIaW50KSB7XHJcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzLnNldChMT0dPVVRfSElOVCwgZW5jb2RlVVJJQ29tcG9uZW50KGxvZ291dEhpbnQpKTtcclxuICAgIH1cclxuICAgIGFkZEJyb2tlclBhcmFtZXRlcnMocGFyYW1zKSB7XHJcbiAgICAgICAgY29uc3QgYnJva2VyUGFyYW1zID0ge307XHJcbiAgICAgICAgYnJva2VyUGFyYW1zW0JST0tFUl9DTElFTlRfSURdID1cclxuICAgICAgICAgICAgcGFyYW1zLmJyb2tlckNsaWVudElkO1xyXG4gICAgICAgIGJyb2tlclBhcmFtc1tCUk9LRVJfUkVESVJFQ1RfVVJJXSA9XHJcbiAgICAgICAgICAgIHBhcmFtcy5icm9rZXJSZWRpcmVjdFVyaTtcclxuICAgICAgICB0aGlzLmFkZEV4dHJhUXVlcnlQYXJhbWV0ZXJzKGJyb2tlclBhcmFtcyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFV0aWxpdHkgdG8gY3JlYXRlIGEgVVJMIGZyb20gdGhlIHBhcmFtcyBtYXBcclxuICAgICAqL1xyXG4gICAgY3JlYXRlUXVlcnlTdHJpbmcoKSB7XHJcbiAgICAgICAgY29uc3QgcXVlcnlQYXJhbWV0ZXJBcnJheSA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIHRoaXMucGFyYW1ldGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XHJcbiAgICAgICAgICAgIHF1ZXJ5UGFyYW1ldGVyQXJyYXkucHVzaChgJHtrZXl9PSR7dmFsdWV9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaW5zdHJ1bWVudEJyb2tlclBhcmFtcyh0aGlzLnBhcmFtZXRlcnMsIHRoaXMuY29ycmVsYXRpb25JZCwgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCk7XHJcbiAgICAgICAgcmV0dXJuIHF1ZXJ5UGFyYW1ldGVyQXJyYXkuam9pbihcIiZcIik7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgUmVxdWVzdFBhcmFtZXRlckJ1aWxkZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJDb25zdGFudHMiLCJSZXNwb25zZU1vZGUiLCJPSURDX0RFRkFVTFRfU0NPUEVTIiwiSGVhZGVyTmFtZXMiLCJDTElFTlRfSU5GTyIsIkNsYWltc1JlcXVlc3RLZXlzIiwiUGFzc3dvcmRHcmFudENvbnN0YW50cyIsIkF1dGhlbnRpY2F0aW9uU2NoZW1lIiwiVGhyb3R0bGluZ0NvbnN0YW50cyIsIlJFU1BPTlNFX1RZUEUiLCJSRVNQT05TRV9NT0RFIiwiTkFUSVZFX0JST0tFUiIsIlNDT1BFIiwiQ0xJRU5UX0lEIiwiUkVESVJFQ1RfVVJJIiwiUE9TVF9MT0dPVVRfVVJJIiwiSURfVE9LRU5fSElOVCIsIkRPTUFJTl9ISU5UIiwiTE9HSU5fSElOVCIsIlNJRCIsIkNMQUlNUyIsIkNMSUVOVF9SRVFVRVNUX0lEIiwiWF9DTElFTlRfU0tVIiwiWF9DTElFTlRfVkVSIiwiWF9DTElFTlRfT1MiLCJYX0NMSUVOVF9DUFUiLCJYX0FQUF9OQU1FIiwiWF9BUFBfVkVSIiwiUFJPTVBUIiwiU1RBVEUiLCJOT05DRSIsIkNPREVfQ0hBTExFTkdFIiwiQ09ERV9DSEFMTEVOR0VfTUVUSE9EIiwiQ09ERSIsIkRFVklDRV9DT0RFIiwiUkVGUkVTSF9UT0tFTiIsIkNPREVfVkVSSUZJRVIiLCJDTElFTlRfU0VDUkVUIiwiQ0xJRU5UX0FTU0VSVElPTiIsIkNMSUVOVF9BU1NFUlRJT05fVFlQRSIsIk9CT19BU1NFUlRJT04iLCJSRVFVRVNURURfVE9LRU5fVVNFIiwiR1JBTlRfVFlQRSIsIlRPS0VOX1RZUEUiLCJSRVFfQ05GIiwiWF9DTElFTlRfQ1VSUl9URUxFTSIsIlhfQ0xJRU5UX0xBU1RfVEVMRU0iLCJYX01TX0xJQl9DQVBBQklMSVRZIiwiTE9HT1VUX0hJTlQiLCJCUk9LRVJfQ0xJRU5UX0lEIiwiQlJPS0VSX1JFRElSRUNUX1VSSSIsIlNjb3BlU2V0IiwiY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIiwiUmVxdWVzdFZhbGlkYXRvciIsInBrY2VQYXJhbXNNaXNzaW5nIiwiaW52YWxpZENsYWltcyIsImluc3RydW1lbnRCcm9rZXJQYXJhbXMiLCJwYXJhbWV0ZXJzIiwiY29ycmVsYXRpb25JZCIsInBlcmZvcm1hbmNlQ2xpZW50IiwiY2xpZW50SWQiLCJnZXQiLCJoYXMiLCJhZGRGaWVsZHMiLCJlbWJlZGRlZENsaWVudElkIiwiZW1iZWRkZWRSZWRpcmVjdFVyaSIsIlJlcXVlc3RQYXJhbWV0ZXJCdWlsZGVyIiwiY29uc3RydWN0b3IiLCJNYXAiLCJhZGRSZXNwb25zZVR5cGVDb2RlIiwic2V0IiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiQ09ERV9SRVNQT05TRV9UWVBFIiwiYWRkUmVzcG9uc2VUeXBlRm9yVG9rZW5BbmRJZFRva2VuIiwiVE9LRU5fUkVTUE9OU0VfVFlQRSIsIklEX1RPS0VOX1JFU1BPTlNFX1RZUEUiLCJhZGRSZXNwb25zZU1vZGUiLCJyZXNwb25zZU1vZGUiLCJRVUVSWSIsImFkZE5hdGl2ZUJyb2tlciIsImFkZFNjb3BlcyIsInNjb3BlcyIsImFkZE9pZGNTY29wZXMiLCJkZWZhdWx0U2NvcGVzIiwiaW5jbHVkZXMiLCJwdXNoIiwicmVxdWVzdFNjb3BlcyIsInNjb3BlU2V0IiwicHJpbnRTY29wZXMiLCJhZGRDbGllbnRJZCIsImFkZFJlZGlyZWN0VXJpIiwicmVkaXJlY3RVcmkiLCJ2YWxpZGF0ZVJlZGlyZWN0VXJpIiwiYWRkUG9zdExvZ291dFJlZGlyZWN0VXJpIiwiYWRkSWRUb2tlbkhpbnQiLCJpZFRva2VuSGludCIsImFkZERvbWFpbkhpbnQiLCJkb21haW5IaW50IiwiYWRkTG9naW5IaW50IiwibG9naW5IaW50IiwiYWRkQ2NzVXBuIiwiQ0NTX0hFQURFUiIsImFkZENjc09pZCIsImNsaWVudEluZm8iLCJ1aWQiLCJ1dGlkIiwiYWRkU2lkIiwic2lkIiwiYWRkQ2xhaW1zIiwiY2xhaW1zIiwiY2xpZW50Q2FwYWJpbGl0aWVzIiwibWVyZ2VkQ2xhaW1zIiwiYWRkQ2xpZW50Q2FwYWJpbGl0aWVzVG9DbGFpbXMiLCJ2YWxpZGF0ZUNsYWltcyIsImFkZENvcnJlbGF0aW9uSWQiLCJhZGRMaWJyYXJ5SW5mbyIsImxpYnJhcnlJbmZvIiwic2t1IiwidmVyc2lvbiIsIm9zIiwiY3B1IiwiYWRkQXBwbGljYXRpb25UZWxlbWV0cnkiLCJhcHBUZWxlbWV0cnkiLCJhcHBOYW1lIiwiYXBwVmVyc2lvbiIsImFkZFByb21wdCIsInByb21wdCIsInZhbGlkYXRlUHJvbXB0IiwiYWRkU3RhdGUiLCJzdGF0ZSIsImFkZE5vbmNlIiwibm9uY2UiLCJhZGRDb2RlQ2hhbGxlbmdlUGFyYW1zIiwiY29kZUNoYWxsZW5nZSIsImNvZGVDaGFsbGVuZ2VNZXRob2QiLCJ2YWxpZGF0ZUNvZGVDaGFsbGVuZ2VQYXJhbXMiLCJhZGRBdXRob3JpemF0aW9uQ29kZSIsImNvZGUiLCJhZGREZXZpY2VDb2RlIiwiYWRkUmVmcmVzaFRva2VuIiwicmVmcmVzaFRva2VuIiwiYWRkQ29kZVZlcmlmaWVyIiwiY29kZVZlcmlmaWVyIiwiYWRkQ2xpZW50U2VjcmV0IiwiY2xpZW50U2VjcmV0IiwiYWRkQ2xpZW50QXNzZXJ0aW9uIiwiY2xpZW50QXNzZXJ0aW9uIiwiYWRkQ2xpZW50QXNzZXJ0aW9uVHlwZSIsImNsaWVudEFzc2VydGlvblR5cGUiLCJhZGRPYm9Bc3NlcnRpb24iLCJvYm9Bc3NlcnRpb24iLCJhZGRSZXF1ZXN0VG9rZW5Vc2UiLCJ0b2tlblVzZSIsImFkZEdyYW50VHlwZSIsImdyYW50VHlwZSIsImFkZENsaWVudEluZm8iLCJhZGRFeHRyYVF1ZXJ5UGFyYW1ldGVycyIsImVRUGFyYW1zIiwiT2JqZWN0IiwiZW50cmllcyIsImZvckVhY2giLCJrZXkiLCJ2YWx1ZSIsIkpTT04iLCJwYXJzZSIsImUiLCJsZW5ndGgiLCJoYXNPd25Qcm9wZXJ0eSIsIkFDQ0VTU19UT0tFTiIsIlhNU19DQyIsInZhbHVlcyIsInN0cmluZ2lmeSIsImFkZFVzZXJuYW1lIiwidXNlcm5hbWUiLCJhZGRQYXNzd29yZCIsInBhc3N3b3JkIiwiYWRkUG9wVG9rZW4iLCJjbmZTdHJpbmciLCJQT1AiLCJhZGRTc2hKd2siLCJzc2hKd2tTdHJpbmciLCJTU0giLCJhZGRTZXJ2ZXJUZWxlbWV0cnkiLCJzZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyIiwiZ2VuZXJhdGVDdXJyZW50UmVxdWVzdEhlYWRlclZhbHVlIiwiZ2VuZXJhdGVMYXN0UmVxdWVzdEhlYWRlclZhbHVlIiwiYWRkVGhyb3R0bGluZyIsIlhfTVNfTElCX0NBUEFCSUxJVFlfVkFMVUUiLCJhZGRMb2dvdXRIaW50IiwibG9nb3V0SGludCIsImFkZEJyb2tlclBhcmFtZXRlcnMiLCJwYXJhbXMiLCJicm9rZXJQYXJhbXMiLCJicm9rZXJDbGllbnRJZCIsImJyb2tlclJlZGlyZWN0VXJpIiwiY3JlYXRlUXVlcnlTdHJpbmciLCJxdWVyeVBhcmFtZXRlckFycmF5IiwiQXJyYXkiLCJqb2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/request/RequestParameterBuilder.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/request/RequestValidator.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/request/RequestValidator.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   RequestValidator: () => (/* binding */ RequestValidator)\n/* harmony export */ });\n/* harmony import */ var _error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/ClientConfigurationError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/ClientConfigurationErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Validates server consumable params from the \"request\" objects\r\n */ class RequestValidator {\n    /**\r\n     * Utility to check if the `redirectUri` in the request is a non-null value\r\n     * @param redirectUri\r\n     */ static validateRedirectUri(redirectUri) {\n        if (!redirectUri) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.redirectUriEmpty);\n        }\n    }\n    /**\r\n     * Utility to validate prompt sent by the user in the request\r\n     * @param prompt\r\n     */ static validatePrompt(prompt) {\n        const promptValues = [];\n        for(const value in _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.PromptValue){\n            promptValues.push(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.PromptValue[value]);\n        }\n        if (promptValues.indexOf(prompt) < 0) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.invalidPromptValue);\n        }\n    }\n    static validateClaims(claims) {\n        try {\n            JSON.parse(claims);\n        } catch (e) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.invalidClaims);\n        }\n    }\n    /**\r\n     * Utility to validate code_challenge and code_challenge_method\r\n     * @param codeChallenge\r\n     * @param codeChallengeMethod\r\n     */ static validateCodeChallengeParams(codeChallenge, codeChallengeMethod) {\n        if (!codeChallenge || !codeChallengeMethod) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.pkceParamsMissing);\n        } else {\n            this.validateCodeChallengeMethod(codeChallengeMethod);\n        }\n    }\n    /**\r\n     * Utility to validate code_challenge_method\r\n     * @param codeChallengeMethod\r\n     */ static validateCodeChallengeMethod(codeChallengeMethod) {\n        if ([\n            _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.CodeChallengeMethodValues.PLAIN,\n            _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_2__.CodeChallengeMethodValues.S256\n        ].indexOf(codeChallengeMethod) < 0) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.invalidCodeChallengeMethod);\n        }\n    }\n}\n //# sourceMappingURL=RequestValidator.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvcmVxdWVzdC9SZXF1ZXN0VmFsaWRhdG9yLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ3VGO0FBQ1A7QUFDZ0Y7QUFFaEs7OztDQUdDLEdBQ0Q7O0NBRUMsR0FDRCxNQUFNUTtJQUNGOzs7S0FHQyxHQUNELE9BQU9DLG9CQUFvQkMsV0FBVyxFQUFFO1FBQ3BDLElBQUksQ0FBQ0EsYUFBYTtZQUNkLE1BQU1WLG1HQUE4QkEsQ0FBQ0csc0ZBQWdCQTtRQUN6RDtJQUNKO0lBQ0E7OztLQUdDLEdBQ0QsT0FBT1EsZUFBZUMsTUFBTSxFQUFFO1FBQzFCLE1BQU1DLGVBQWUsRUFBRTtRQUN2QixJQUFLLE1BQU1DLFNBQVNaLDZEQUFXQSxDQUFFO1lBQzdCVyxhQUFhRSxJQUFJLENBQUNiLDZEQUFXLENBQUNZLE1BQU07UUFDeEM7UUFDQSxJQUFJRCxhQUFhRyxPQUFPLENBQUNKLFVBQVUsR0FBRztZQUNsQyxNQUFNWixtR0FBOEJBLENBQUNJLHdGQUFrQkE7UUFDM0Q7SUFDSjtJQUNBLE9BQU9hLGVBQWVDLE1BQU0sRUFBRTtRQUMxQixJQUFJO1lBQ0FDLEtBQUtDLEtBQUssQ0FBQ0Y7UUFDZixFQUNBLE9BQU9HLEdBQUc7WUFDTixNQUFNckIsbUdBQThCQSxDQUFDSyxtRkFBYUE7UUFDdEQ7SUFDSjtJQUNBOzs7O0tBSUMsR0FDRCxPQUFPaUIsNEJBQTRCQyxhQUFhLEVBQUVDLG1CQUFtQixFQUFFO1FBQ25FLElBQUksQ0FBQ0QsaUJBQWlCLENBQUNDLHFCQUFxQjtZQUN4QyxNQUFNeEIsbUdBQThCQSxDQUFDTSx1RkFBaUJBO1FBQzFELE9BQ0s7WUFDRCxJQUFJLENBQUNtQiwyQkFBMkIsQ0FBQ0Q7UUFDckM7SUFDSjtJQUNBOzs7S0FHQyxHQUNELE9BQU9DLDRCQUE0QkQsbUJBQW1CLEVBQUU7UUFDcEQsSUFBSTtZQUNBdkIsMkVBQXlCQSxDQUFDeUIsS0FBSztZQUMvQnpCLDJFQUF5QkEsQ0FBQzBCLElBQUk7U0FDakMsQ0FBQ1gsT0FBTyxDQUFDUSx1QkFBdUIsR0FBRztZQUNoQyxNQUFNeEIsbUdBQThCQSxDQUFDTyxnR0FBMEJBO1FBQ25FO0lBQ0o7QUFDSjtBQUU0QixDQUM1Qiw2Q0FBNkMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvcmVxdWVzdC9SZXF1ZXN0VmFsaWRhdG9yLm1qcz8zNTkxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yLm1qcyc7XG5pbXBvcnQgeyBDb2RlQ2hhbGxlbmdlTWV0aG9kVmFsdWVzLCBQcm9tcHRWYWx1ZSB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgcmVkaXJlY3RVcmlFbXB0eSwgaW52YWxpZFByb21wdFZhbHVlLCBpbnZhbGlkQ2xhaW1zLCBwa2NlUGFyYW1zTWlzc2luZywgaW52YWxpZENvZGVDaGFsbGVuZ2VNZXRob2QgfSBmcm9tICcuLi9lcnJvci9DbGllbnRDb25maWd1cmF0aW9uRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFZhbGlkYXRlcyBzZXJ2ZXIgY29uc3VtYWJsZSBwYXJhbXMgZnJvbSB0aGUgXCJyZXF1ZXN0XCIgb2JqZWN0c1xyXG4gKi9cclxuY2xhc3MgUmVxdWVzdFZhbGlkYXRvciB7XHJcbiAgICAvKipcclxuICAgICAqIFV0aWxpdHkgdG8gY2hlY2sgaWYgdGhlIGByZWRpcmVjdFVyaWAgaW4gdGhlIHJlcXVlc3QgaXMgYSBub24tbnVsbCB2YWx1ZVxyXG4gICAgICogQHBhcmFtIHJlZGlyZWN0VXJpXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyB2YWxpZGF0ZVJlZGlyZWN0VXJpKHJlZGlyZWN0VXJpKSB7XHJcbiAgICAgICAgaWYgKCFyZWRpcmVjdFVyaSkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IocmVkaXJlY3RVcmlFbXB0eSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVdGlsaXR5IHRvIHZhbGlkYXRlIHByb21wdCBzZW50IGJ5IHRoZSB1c2VyIGluIHRoZSByZXF1ZXN0XHJcbiAgICAgKiBAcGFyYW0gcHJvbXB0XHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyB2YWxpZGF0ZVByb21wdChwcm9tcHQpIHtcclxuICAgICAgICBjb25zdCBwcm9tcHRWYWx1ZXMgPSBbXTtcclxuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIGluIFByb21wdFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHByb21wdFZhbHVlcy5wdXNoKFByb21wdFZhbHVlW3ZhbHVlXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwcm9tcHRWYWx1ZXMuaW5kZXhPZihwcm9tcHQpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoaW52YWxpZFByb21wdFZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgdmFsaWRhdGVDbGFpbXMoY2xhaW1zKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgSlNPTi5wYXJzZShjbGFpbXMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoaW52YWxpZENsYWltcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBVdGlsaXR5IHRvIHZhbGlkYXRlIGNvZGVfY2hhbGxlbmdlIGFuZCBjb2RlX2NoYWxsZW5nZV9tZXRob2RcclxuICAgICAqIEBwYXJhbSBjb2RlQ2hhbGxlbmdlXHJcbiAgICAgKiBAcGFyYW0gY29kZUNoYWxsZW5nZU1ldGhvZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgdmFsaWRhdGVDb2RlQ2hhbGxlbmdlUGFyYW1zKGNvZGVDaGFsbGVuZ2UsIGNvZGVDaGFsbGVuZ2VNZXRob2QpIHtcclxuICAgICAgICBpZiAoIWNvZGVDaGFsbGVuZ2UgfHwgIWNvZGVDaGFsbGVuZ2VNZXRob2QpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKHBrY2VQYXJhbXNNaXNzaW5nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMudmFsaWRhdGVDb2RlQ2hhbGxlbmdlTWV0aG9kKGNvZGVDaGFsbGVuZ2VNZXRob2QpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVXRpbGl0eSB0byB2YWxpZGF0ZSBjb2RlX2NoYWxsZW5nZV9tZXRob2RcclxuICAgICAqIEBwYXJhbSBjb2RlQ2hhbGxlbmdlTWV0aG9kXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyB2YWxpZGF0ZUNvZGVDaGFsbGVuZ2VNZXRob2QoY29kZUNoYWxsZW5nZU1ldGhvZCkge1xyXG4gICAgICAgIGlmIChbXHJcbiAgICAgICAgICAgIENvZGVDaGFsbGVuZ2VNZXRob2RWYWx1ZXMuUExBSU4sXHJcbiAgICAgICAgICAgIENvZGVDaGFsbGVuZ2VNZXRob2RWYWx1ZXMuUzI1NixcclxuICAgICAgICBdLmluZGV4T2YoY29kZUNoYWxsZW5nZU1ldGhvZCkgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudENvbmZpZ3VyYXRpb25FcnJvcihpbnZhbGlkQ29kZUNoYWxsZW5nZU1ldGhvZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IFJlcXVlc3RWYWxpZGF0b3IgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlcXVlc3RWYWxpZGF0b3IubWpzLm1hcFxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudENvbmZpZ3VyYXRpb25FcnJvciIsIkNvZGVDaGFsbGVuZ2VNZXRob2RWYWx1ZXMiLCJQcm9tcHRWYWx1ZSIsInJlZGlyZWN0VXJpRW1wdHkiLCJpbnZhbGlkUHJvbXB0VmFsdWUiLCJpbnZhbGlkQ2xhaW1zIiwicGtjZVBhcmFtc01pc3NpbmciLCJpbnZhbGlkQ29kZUNoYWxsZW5nZU1ldGhvZCIsIlJlcXVlc3RWYWxpZGF0b3IiLCJ2YWxpZGF0ZVJlZGlyZWN0VXJpIiwicmVkaXJlY3RVcmkiLCJ2YWxpZGF0ZVByb21wdCIsInByb21wdCIsInByb21wdFZhbHVlcyIsInZhbHVlIiwicHVzaCIsImluZGV4T2YiLCJ2YWxpZGF0ZUNsYWltcyIsImNsYWltcyIsIkpTT04iLCJwYXJzZSIsImUiLCJ2YWxpZGF0ZUNvZGVDaGFsbGVuZ2VQYXJhbXMiLCJjb2RlQ2hhbGxlbmdlIiwiY29kZUNoYWxsZW5nZU1ldGhvZCIsInZhbGlkYXRlQ29kZUNoYWxsZW5nZU1ldGhvZCIsIlBMQUlOIiwiUzI1NiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/request/RequestValidator.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/request/ScopeSet.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/request/ScopeSet.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ScopeSet: () => (/* binding */ ScopeSet)\n/* harmony export */ });\n/* harmony import */ var _error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/ClientConfigurationError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs\");\n/* harmony import */ var _utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/StringUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/StringUtils.mjs\");\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../error/ClientConfigurationErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * The ScopeSet class creates a set of scopes. Scopes are case-insensitive, unique values, so the Set object in JS makes\r\n * the most sense to implement for this class. All scopes are trimmed and converted to lower case strings in intersection and union functions\r\n * to ensure uniqueness of strings.\r\n */ class ScopeSet {\n    constructor(inputScopes){\n        // Filter empty string and null/undefined array items\n        const scopeArr = inputScopes ? _utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.StringUtils.trimArrayEntries([\n            ...inputScopes\n        ]) : [];\n        const filteredInput = scopeArr ? _utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_0__.StringUtils.removeEmptyStringsFromArray(scopeArr) : [];\n        // Validate and filter scopes (validate function throws if validation fails)\n        this.validateInputScopes(filteredInput);\n        this.scopes = new Set(); // Iterator in constructor not supported by IE11\n        filteredInput.forEach((scope)=>this.scopes.add(scope));\n    }\n    /**\r\n     * Factory method to create ScopeSet from space-delimited string\r\n     * @param inputScopeString\r\n     * @param appClientId\r\n     * @param scopesRequired\r\n     */ static fromString(inputScopeString) {\n        const scopeString = inputScopeString || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.EMPTY_STRING;\n        const inputScopes = scopeString.split(\" \");\n        return new ScopeSet(inputScopes);\n    }\n    /**\r\n     * Creates the set of scopes to search for in cache lookups\r\n     * @param inputScopeString\r\n     * @returns\r\n     */ static createSearchScopes(inputScopeString) {\n        const scopeSet = new ScopeSet(inputScopeString);\n        if (!scopeSet.containsOnlyOIDCScopes()) {\n            scopeSet.removeOIDCScopes();\n        } else {\n            scopeSet.removeScope(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.OFFLINE_ACCESS_SCOPE);\n        }\n        return scopeSet;\n    }\n    /**\r\n     * Used to validate the scopes input parameter requested  by the developer.\r\n     * @param {Array<string>} inputScopes - Developer requested permissions. Not all scopes are guaranteed to be included in the access token returned.\r\n     * @param {boolean} scopesRequired - Boolean indicating whether the scopes array is required or not\r\n     */ validateInputScopes(inputScopes) {\n        // Check if scopes are required but not given or is an empty array\n        if (!inputScopes || inputScopes.length < 1) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_2__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_3__.emptyInputScopesError);\n        }\n    }\n    /**\r\n     * Check if a given scope is present in this set of scopes.\r\n     * @param scope\r\n     */ containsScope(scope) {\n        const lowerCaseScopes = this.printScopesLowerCase().split(\" \");\n        const lowerCaseScopesSet = new ScopeSet(lowerCaseScopes);\n        // compare lowercase scopes\n        return scope ? lowerCaseScopesSet.scopes.has(scope.toLowerCase()) : false;\n    }\n    /**\r\n     * Check if a set of scopes is present in this set of scopes.\r\n     * @param scopeSet\r\n     */ containsScopeSet(scopeSet) {\n        if (!scopeSet || scopeSet.scopes.size <= 0) {\n            return false;\n        }\n        return this.scopes.size >= scopeSet.scopes.size && scopeSet.asArray().every((scope)=>this.containsScope(scope));\n    }\n    /**\r\n     * Check if set of scopes contains only the defaults\r\n     */ containsOnlyOIDCScopes() {\n        let defaultScopeCount = 0;\n        _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.OIDC_SCOPES.forEach((defaultScope)=>{\n            if (this.containsScope(defaultScope)) {\n                defaultScopeCount += 1;\n            }\n        });\n        return this.scopes.size === defaultScopeCount;\n    }\n    /**\r\n     * Appends single scope if passed\r\n     * @param newScope\r\n     */ appendScope(newScope) {\n        if (newScope) {\n            this.scopes.add(newScope.trim());\n        }\n    }\n    /**\r\n     * Appends multiple scopes if passed\r\n     * @param newScopes\r\n     */ appendScopes(newScopes) {\n        try {\n            newScopes.forEach((newScope)=>this.appendScope(newScope));\n        } catch (e) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.cannotAppendScopeSet);\n        }\n    }\n    /**\r\n     * Removes element from set of scopes.\r\n     * @param scope\r\n     */ removeScope(scope) {\n        if (!scope) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.cannotRemoveEmptyScope);\n        }\n        this.scopes.delete(scope.trim());\n    }\n    /**\r\n     * Removes default scopes from set of scopes\r\n     * Primarily used to prevent cache misses if the default scopes are not returned from the server\r\n     */ removeOIDCScopes() {\n        _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.OIDC_SCOPES.forEach((defaultScope)=>{\n            this.scopes.delete(defaultScope);\n        });\n    }\n    /**\r\n     * Combines an array of scopes with the current set of scopes.\r\n     * @param otherScopes\r\n     */ unionScopeSets(otherScopes) {\n        if (!otherScopes) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.emptyInputScopeSet);\n        }\n        const unionScopes = new Set(); // Iterator in constructor not supported in IE11\n        otherScopes.scopes.forEach((scope)=>unionScopes.add(scope.toLowerCase()));\n        this.scopes.forEach((scope)=>unionScopes.add(scope.toLowerCase()));\n        return unionScopes;\n    }\n    /**\r\n     * Check if scopes intersect between this set and another.\r\n     * @param otherScopes\r\n     */ intersectingScopeSets(otherScopes) {\n        if (!otherScopes) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_4__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_5__.emptyInputScopeSet);\n        }\n        // Do not allow OIDC scopes to be the only intersecting scopes\n        if (!otherScopes.containsOnlyOIDCScopes()) {\n            otherScopes.removeOIDCScopes();\n        }\n        const unionScopes = this.unionScopeSets(otherScopes);\n        const sizeOtherScopes = otherScopes.getScopeCount();\n        const sizeThisScopes = this.getScopeCount();\n        const sizeUnionScopes = unionScopes.size;\n        return sizeUnionScopes < sizeThisScopes + sizeOtherScopes;\n    }\n    /**\r\n     * Returns size of set of scopes.\r\n     */ getScopeCount() {\n        return this.scopes.size;\n    }\n    /**\r\n     * Returns the scopes as an array of string values\r\n     */ asArray() {\n        const array = [];\n        this.scopes.forEach((val)=>array.push(val));\n        return array;\n    }\n    /**\r\n     * Prints scopes into a space-delimited string\r\n     */ printScopes() {\n        if (this.scopes) {\n            const scopeArr = this.asArray();\n            return scopeArr.join(\" \");\n        }\n        return _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_1__.Constants.EMPTY_STRING;\n    }\n    /**\r\n     * Prints scopes into a space-delimited lower-case string (used for caching)\r\n     */ printScopesLowerCase() {\n        return this.printScopes().toLowerCase();\n    }\n}\n //# sourceMappingURL=ScopeSet.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvcmVxdWVzdC9TY29wZVNldC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUN1RjtBQUNoQztBQUNjO0FBQ0w7QUFDbUI7QUFDa0M7QUFFckg7OztDQUdDLEdBQ0Q7Ozs7Q0FJQyxHQUNELE1BQU1TO0lBQ0ZDLFlBQVlDLFdBQVcsQ0FBRTtRQUNyQixxREFBcUQ7UUFDckQsTUFBTUMsV0FBV0QsY0FDWFYsK0RBQVdBLENBQUNZLGdCQUFnQixDQUFDO2VBQUlGO1NBQVksSUFDN0MsRUFBRTtRQUNSLE1BQU1HLGdCQUFnQkYsV0FDaEJYLCtEQUFXQSxDQUFDYywyQkFBMkIsQ0FBQ0gsWUFDeEMsRUFBRTtRQUNSLDRFQUE0RTtRQUM1RSxJQUFJLENBQUNJLG1CQUFtQixDQUFDRjtRQUN6QixJQUFJLENBQUNHLE1BQU0sR0FBRyxJQUFJQyxPQUFPLGdEQUFnRDtRQUN6RUosY0FBY0ssT0FBTyxDQUFDLENBQUNDLFFBQVUsSUFBSSxDQUFDSCxNQUFNLENBQUNJLEdBQUcsQ0FBQ0Q7SUFDckQ7SUFDQTs7Ozs7S0FLQyxHQUNELE9BQU9FLFdBQVdDLGdCQUFnQixFQUFFO1FBQ2hDLE1BQU1DLGNBQWNELG9CQUFvQnBCLDJEQUFTQSxDQUFDc0IsWUFBWTtRQUM5RCxNQUFNZCxjQUFjYSxZQUFZRSxLQUFLLENBQUM7UUFDdEMsT0FBTyxJQUFJakIsU0FBU0U7SUFDeEI7SUFDQTs7OztLQUlDLEdBQ0QsT0FBT2dCLG1CQUFtQkosZ0JBQWdCLEVBQUU7UUFDeEMsTUFBTUssV0FBVyxJQUFJbkIsU0FBU2M7UUFDOUIsSUFBSSxDQUFDSyxTQUFTQyxzQkFBc0IsSUFBSTtZQUNwQ0QsU0FBU0UsZ0JBQWdCO1FBQzdCLE9BQ0s7WUFDREYsU0FBU0csV0FBVyxDQUFDNUIsMkRBQVNBLENBQUM2QixvQkFBb0I7UUFDdkQ7UUFDQSxPQUFPSjtJQUNYO0lBQ0E7Ozs7S0FJ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QixZQUFZeEIsZ0JBQWdCO1FBQ2hDO1FBQ0EsTUFBTXlCLGNBQWMsSUFBSSxDQUFDRixjQUFjLENBQUNDO1FBQ3hDLE1BQU1HLGtCQUFrQkgsWUFBWUksYUFBYTtRQUNqRCxNQUFNQyxpQkFBaUIsSUFBSSxDQUFDRCxhQUFhO1FBQ3pDLE1BQU1FLGtCQUFrQkwsWUFBWWQsSUFBSTtRQUN4QyxPQUFPbUIsa0JBQWtCRCxpQkFBaUJGO0lBQzlDO0lBQ0E7O0tBRUMsR0FDREMsZ0JBQWdCO1FBQ1osT0FBTyxJQUFJLENBQUN6QyxNQUFNLENBQUN3QixJQUFJO0lBQzNCO0lBQ0E7O0tBRUMsR0FDREMsVUFBVTtRQUNOLE1BQU1tQixRQUFRLEVBQUU7UUFDaEIsSUFBSSxDQUFDNUMsTUFBTSxDQUFDRSxPQUFPLENBQUMsQ0FBQzJDLE1BQVFELE1BQU1FLElBQUksQ0FBQ0Q7UUFDeEMsT0FBT0Q7SUFDWDtJQUNBOztLQUVDLEdBQ0RHLGNBQWM7UUFDVixJQUFJLElBQUksQ0FBQy9DLE1BQU0sRUFBRTtZQUNiLE1BQU1MLFdBQVcsSUFBSSxDQUFDOEIsT0FBTztZQUM3QixPQUFPOUIsU0FBU3FELElBQUksQ0FBQztRQUN6QjtRQUNBLE9BQU85RCwyREFBU0EsQ0FBQ3NCLFlBQVk7SUFDakM7SUFDQTs7S0FFQyxHQUNEVyx1QkFBdUI7UUFDbkIsT0FBTyxJQUFJLENBQUM0QixXQUFXLEdBQUd6QixXQUFXO0lBQ3pDO0FBQ0o7QUFFb0IsQ0FDcEIscUNBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L3JlcXVlc3QvU2NvcGVTZXQubWpzPzgzNWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRDb25maWd1cmF0aW9uRXJyb3IubWpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvU3RyaW5nVXRpbHMubWpzJztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudEF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgQ29uc3RhbnRzLCBPSURDX1NDT1BFUyB9IGZyb20gJy4uL3V0aWxzL0NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgZW1wdHlJbnB1dFNjb3Blc0Vycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yQ29kZXMubWpzJztcbmltcG9ydCB7IGNhbm5vdEFwcGVuZFNjb3BlU2V0LCBjYW5ub3RSZW1vdmVFbXB0eVNjb3BlLCBlbXB0eUlucHV0U2NvcGVTZXQgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3JDb2Rlcy5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRoZSBTY29wZVNldCBjbGFzcyBjcmVhdGVzIGEgc2V0IG9mIHNjb3Blcy4gU2NvcGVzIGFyZSBjYXNlLWluc2Vuc2l0aXZlLCB1bmlxdWUgdmFsdWVzLCBzbyB0aGUgU2V0IG9iamVjdCBpbiBKUyBtYWtlc1xyXG4gKiB0aGUgbW9zdCBzZW5zZSB0byBpbXBsZW1lbnQgZm9yIHRoaXMgY2xhc3MuIEFsbCBzY29wZXMgYXJlIHRyaW1tZWQgYW5kIGNvbnZlcnRlZCB0byBsb3dlciBjYXNlIHN0cmluZ3MgaW4gaW50ZXJzZWN0aW9uIGFuZCB1bmlvbiBmdW5jdGlvbnNcclxuICogdG8gZW5zdXJlIHVuaXF1ZW5lc3Mgb2Ygc3RyaW5ncy5cclxuICovXHJcbmNsYXNzIFNjb3BlU2V0IHtcclxuICAgIGNvbnN0cnVjdG9yKGlucHV0U2NvcGVzKSB7XHJcbiAgICAgICAgLy8gRmlsdGVyIGVtcHR5IHN0cmluZyBhbmQgbnVsbC91bmRlZmluZWQgYXJyYXkgaXRlbXNcclxuICAgICAgICBjb25zdCBzY29wZUFyciA9IGlucHV0U2NvcGVzXHJcbiAgICAgICAgICAgID8gU3RyaW5nVXRpbHMudHJpbUFycmF5RW50cmllcyhbLi4uaW5wdXRTY29wZXNdKVxyXG4gICAgICAgICAgICA6IFtdO1xyXG4gICAgICAgIGNvbnN0IGZpbHRlcmVkSW5wdXQgPSBzY29wZUFyclxyXG4gICAgICAgICAgICA/IFN0cmluZ1V0aWxzLnJlbW92ZUVtcHR5U3RyaW5nc0Zyb21BcnJheShzY29wZUFycilcclxuICAgICAgICAgICAgOiBbXTtcclxuICAgICAgICAvLyBWYWxpZGF0ZSBhbmQgZmlsdGVyIHNjb3BlcyAodmFsaWRhdGUgZnVuY3Rpb24gdGhyb3dzIGlmIHZhbGlkYXRpb24gZmFpbHMpXHJcbiAgICAgICAgdGhpcy52YWxpZGF0ZUlucHV0U2NvcGVzKGZpbHRlcmVkSW5wdXQpO1xyXG4gICAgICAgIHRoaXMuc2NvcGVzID0gbmV3IFNldCgpOyAvLyBJdGVyYXRvciBpbiBjb25zdHJ1Y3RvciBub3Qgc3VwcG9ydGVkIGJ5IElFMTFcclxuICAgICAgICBmaWx0ZXJlZElucHV0LmZvckVhY2goKHNjb3BlKSA9PiB0aGlzLnNjb3Blcy5hZGQoc2NvcGUpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIFNjb3BlU2V0IGZyb20gc3BhY2UtZGVsaW1pdGVkIHN0cmluZ1xyXG4gICAgICogQHBhcmFtIGlucHV0U2NvcGVTdHJpbmdcclxuICAgICAqIEBwYXJhbSBhcHBDbGllbnRJZFxyXG4gICAgICogQHBhcmFtIHNjb3Blc1JlcXVpcmVkXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBmcm9tU3RyaW5nKGlucHV0U2NvcGVTdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBzY29wZVN0cmluZyA9IGlucHV0U2NvcGVTdHJpbmcgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORztcclxuICAgICAgICBjb25zdCBpbnB1dFNjb3BlcyA9IHNjb3BlU3RyaW5nLnNwbGl0KFwiIFwiKTtcclxuICAgICAgICByZXR1cm4gbmV3IFNjb3BlU2V0KGlucHV0U2NvcGVzKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyB0aGUgc2V0IG9mIHNjb3BlcyB0byBzZWFyY2ggZm9yIGluIGNhY2hlIGxvb2t1cHNcclxuICAgICAqIEBwYXJhbSBpbnB1dFNjb3BlU3RyaW5nXHJcbiAgICAgKiBAcmV0dXJuc1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgY3JlYXRlU2VhcmNoU2NvcGVzKGlucHV0U2NvcGVTdHJpbmcpIHtcclxuICAgICAgICBjb25zdCBzY29wZVNldCA9IG5ldyBTY29wZVNldChpbnB1dFNjb3BlU3RyaW5nKTtcclxuICAgICAgICBpZiAoIXNjb3BlU2V0LmNvbnRhaW5zT25seU9JRENTY29wZXMoKSkge1xyXG4gICAgICAgICAgICBzY29wZVNldC5yZW1vdmVPSURDU2NvcGVzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBzY29wZVNldC5yZW1vdmVTY29wZShDb25zdGFudHMuT0ZGTElORV9BQ0NFU1NfU0NPUEUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2NvcGVTZXQ7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVzZWQgdG8gdmFsaWRhdGUgdGhlIHNjb3BlcyBpbnB1dCBwYXJhbWV0ZXIgcmVxdWVzdGVkICBieSB0aGUgZGV2ZWxvcGVyLlxyXG4gICAgICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBpbnB1dFNjb3BlcyAtIERldmVsb3BlciByZXF1ZXN0ZWQgcGVybWlzc2lvbnMuIE5vdCBhbGwgc2NvcGVzIGFyZSBndWFyYW50ZWVkIHRvIGJlIGluY2x1ZGVkIGluIHRoZSBhY2Nlc3MgdG9rZW4gcmV0dXJuZWQuXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHNjb3Blc1JlcXVpcmVkIC0gQm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHNjb3BlcyBhcnJheSBpcyByZXF1aXJlZCBvciBub3RcclxuICAgICAqL1xyXG4gICAgdmFsaWRhdGVJbnB1dFNjb3BlcyhpbnB1dFNjb3Blcykge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIHNjb3BlcyBhcmUgcmVxdWlyZWQgYnV0IG5vdCBnaXZlbiBvciBpcyBhbiBlbXB0eSBhcnJheVxyXG4gICAgICAgIGlmICghaW5wdXRTY29wZXMgfHwgaW5wdXRTY29wZXMubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IoZW1wdHlJbnB1dFNjb3Blc0Vycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGEgZ2l2ZW4gc2NvcGUgaXMgcHJlc2VudCBpbiB0aGlzIHNldCBvZiBzY29wZXMuXHJcbiAgICAgKiBAcGFyYW0gc2NvcGVcclxuICAgICAqL1xyXG4gICAgY29udGFpbnNTY29wZShzY29wZSkge1xyXG4gICAgICAgIGNvbnN0IGxvd2VyQ2FzZVNjb3BlcyA9IHRoaXMucHJpbnRTY29wZXNMb3dlckNhc2UoKS5zcGxpdChcIiBcIik7XHJcbiAgICAgICAgY29uc3QgbG93ZXJDYXNlU2NvcGVzU2V0ID0gbmV3IFNjb3BlU2V0KGxvd2VyQ2FzZVNjb3Blcyk7XHJcbiAgICAgICAgLy8gY29tcGFyZSBsb3dlcmNhc2Ugc2NvcGVzXHJcbiAgICAgICAgcmV0dXJuIHNjb3BlXHJcbiAgICAgICAgICAgID8gbG93ZXJDYXNlU2NvcGVzU2V0LnNjb3Blcy5oYXMoc2NvcGUudG9Mb3dlckNhc2UoKSlcclxuICAgICAgICAgICAgOiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ2hlY2sgaWYgYSBzZXQgb2Ygc2NvcGVzIGlzIHByZXNlbnQgaW4gdGhpcyBzZXQgb2Ygc2NvcGVzLlxyXG4gICAgICogQHBhcmFtIHNjb3BlU2V0XHJcbiAgICAgKi9cclxuICAgIGNvbnRhaW5zU2NvcGVTZXQoc2NvcGVTZXQpIHtcclxuICAgICAgICBpZiAoIXNjb3BlU2V0IHx8IHNjb3BlU2V0LnNjb3Blcy5zaXplIDw9IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gKHRoaXMuc2NvcGVzLnNpemUgPj0gc2NvcGVTZXQuc2NvcGVzLnNpemUgJiZcclxuICAgICAgICAgICAgc2NvcGVTZXQuYXNBcnJheSgpLmV2ZXJ5KChzY29wZSkgPT4gdGhpcy5jb250YWluc1Njb3BlKHNjb3BlKSkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiBzZXQgb2Ygc2NvcGVzIGNvbnRhaW5zIG9ubHkgdGhlIGRlZmF1bHRzXHJcbiAgICAgKi9cclxuICAgIGNvbnRhaW5zT25seU9JRENTY29wZXMoKSB7XHJcbiAgICAgICAgbGV0IGRlZmF1bHRTY29wZUNvdW50ID0gMDtcclxuICAgICAgICBPSURDX1NDT1BFUy5mb3JFYWNoKChkZWZhdWx0U2NvcGUpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29udGFpbnNTY29wZShkZWZhdWx0U2NvcGUpKSB7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0U2NvcGVDb3VudCArPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGVzLnNpemUgPT09IGRlZmF1bHRTY29wZUNvdW50O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmRzIHNpbmdsZSBzY29wZSBpZiBwYXNzZWRcclxuICAgICAqIEBwYXJhbSBuZXdTY29wZVxyXG4gICAgICovXHJcbiAgICBhcHBlbmRTY29wZShuZXdTY29wZSkge1xyXG4gICAgICAgIGlmIChuZXdTY29wZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNjb3Blcy5hZGQobmV3U2NvcGUudHJpbSgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFwcGVuZHMgbXVsdGlwbGUgc2NvcGVzIGlmIHBhc3NlZFxyXG4gICAgICogQHBhcmFtIG5ld1Njb3Blc1xyXG4gICAgICovXHJcbiAgICBhcHBlbmRTY29wZXMobmV3U2NvcGVzKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbmV3U2NvcGVzLmZvckVhY2goKG5ld1Njb3BlKSA9PiB0aGlzLmFwcGVuZFNjb3BlKG5ld1Njb3BlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihjYW5ub3RBcHBlbmRTY29wZVNldCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGVsZW1lbnQgZnJvbSBzZXQgb2Ygc2NvcGVzLlxyXG4gICAgICogQHBhcmFtIHNjb3BlXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZVNjb3BlKHNjb3BlKSB7XHJcbiAgICAgICAgaWYgKCFzY29wZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IoY2Fubm90UmVtb3ZlRW1wdHlTY29wZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2NvcGVzLmRlbGV0ZShzY29wZS50cmltKCkpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIGRlZmF1bHQgc2NvcGVzIGZyb20gc2V0IG9mIHNjb3Blc1xyXG4gICAgICogUHJpbWFyaWx5IHVzZWQgdG8gcHJldmVudCBjYWNoZSBtaXNzZXMgaWYgdGhlIGRlZmF1bHQgc2NvcGVzIGFyZSBub3QgcmV0dXJuZWQgZnJvbSB0aGUgc2VydmVyXHJcbiAgICAgKi9cclxuICAgIHJlbW92ZU9JRENTY29wZXMoKSB7XHJcbiAgICAgICAgT0lEQ19TQ09QRVMuZm9yRWFjaCgoZGVmYXVsdFNjb3BlKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2NvcGVzLmRlbGV0ZShkZWZhdWx0U2NvcGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21iaW5lcyBhbiBhcnJheSBvZiBzY29wZXMgd2l0aCB0aGUgY3VycmVudCBzZXQgb2Ygc2NvcGVzLlxyXG4gICAgICogQHBhcmFtIG90aGVyU2NvcGVzXHJcbiAgICAgKi9cclxuICAgIHVuaW9uU2NvcGVTZXRzKG90aGVyU2NvcGVzKSB7XHJcbiAgICAgICAgaWYgKCFvdGhlclNjb3Blcykge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IoZW1wdHlJbnB1dFNjb3BlU2V0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdW5pb25TY29wZXMgPSBuZXcgU2V0KCk7IC8vIEl0ZXJhdG9yIGluIGNvbnN0cnVjdG9yIG5vdCBzdXBwb3J0ZWQgaW4gSUUxMVxyXG4gICAgICAgIG90aGVyU2NvcGVzLnNjb3Blcy5mb3JFYWNoKChzY29wZSkgPT4gdW5pb25TY29wZXMuYWRkKHNjb3BlLnRvTG93ZXJDYXNlKCkpKTtcclxuICAgICAgICB0aGlzLnNjb3Blcy5mb3JFYWNoKChzY29wZSkgPT4gdW5pb25TY29wZXMuYWRkKHNjb3BlLnRvTG93ZXJDYXNlKCkpKTtcclxuICAgICAgICByZXR1cm4gdW5pb25TY29wZXM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHNjb3BlcyBpbnRlcnNlY3QgYmV0d2VlbiB0aGlzIHNldCBhbmQgYW5vdGhlci5cclxuICAgICAqIEBwYXJhbSBvdGhlclNjb3Blc1xyXG4gICAgICovXHJcbiAgICBpbnRlcnNlY3RpbmdTY29wZVNldHMob3RoZXJTY29wZXMpIHtcclxuICAgICAgICBpZiAoIW90aGVyU2NvcGVzKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihlbXB0eUlucHV0U2NvcGVTZXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBEbyBub3QgYWxsb3cgT0lEQyBzY29wZXMgdG8gYmUgdGhlIG9ubHkgaW50ZXJzZWN0aW5nIHNjb3Blc1xyXG4gICAgICAgIGlmICghb3RoZXJTY29wZXMuY29udGFpbnNPbmx5T0lEQ1Njb3BlcygpKSB7XHJcbiAgICAgICAgICAgIG90aGVyU2NvcGVzLnJlbW92ZU9JRENTY29wZXMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdW5pb25TY29wZXMgPSB0aGlzLnVuaW9uU2NvcGVTZXRzKG90aGVyU2NvcGVzKTtcclxuICAgICAgICBjb25zdCBzaXplT3RoZXJTY29wZXMgPSBvdGhlclNjb3Blcy5nZXRTY29wZUNvdW50KCk7XHJcbiAgICAgICAgY29uc3Qgc2l6ZVRoaXNTY29wZXMgPSB0aGlzLmdldFNjb3BlQ291bnQoKTtcclxuICAgICAgICBjb25zdCBzaXplVW5pb25TY29wZXMgPSB1bmlvblNjb3Blcy5zaXplO1xyXG4gICAgICAgIHJldHVybiBzaXplVW5pb25TY29wZXMgPCBzaXplVGhpc1Njb3BlcyArIHNpemVPdGhlclNjb3BlcztcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBzaXplIG9mIHNldCBvZiBzY29wZXMuXHJcbiAgICAgKi9cclxuICAgIGdldFNjb3BlQ291bnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NvcGVzLnNpemU7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIHNjb3BlcyBhcyBhbiBhcnJheSBvZiBzdHJpbmcgdmFsdWVzXHJcbiAgICAgKi9cclxuICAgIGFzQXJyYXkoKSB7XHJcbiAgICAgICAgY29uc3QgYXJyYXkgPSBbXTtcclxuICAgICAgICB0aGlzLnNjb3Blcy5mb3JFYWNoKCh2YWwpID0+IGFycmF5LnB1c2godmFsKSk7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmludHMgc2NvcGVzIGludG8gYSBzcGFjZS1kZWxpbWl0ZWQgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIHByaW50U2NvcGVzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNjb3Blcykge1xyXG4gICAgICAgICAgICBjb25zdCBzY29wZUFyciA9IHRoaXMuYXNBcnJheSgpO1xyXG4gICAgICAgICAgICByZXR1cm4gc2NvcGVBcnIuam9pbihcIiBcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQcmludHMgc2NvcGVzIGludG8gYSBzcGFjZS1kZWxpbWl0ZWQgbG93ZXItY2FzZSBzdHJpbmcgKHVzZWQgZm9yIGNhY2hpbmcpXHJcbiAgICAgKi9cclxuICAgIHByaW50U2NvcGVzTG93ZXJDYXNlKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByaW50U2NvcGVzKCkudG9Mb3dlckNhc2UoKTtcclxuICAgIH1cclxufVxuXG5leHBvcnQgeyBTY29wZVNldCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2NvcGVTZXQubWpzLm1hcFxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudENvbmZpZ3VyYXRpb25FcnJvciIsIlN0cmluZ1V0aWxzIiwiY3JlYXRlQ2xpZW50QXV0aEVycm9yIiwiQ29uc3RhbnRzIiwiT0lEQ19TQ09QRVMiLCJlbXB0eUlucHV0U2NvcGVzRXJyb3IiLCJjYW5ub3RBcHBlbmRTY29wZVNldCIsImNhbm5vdFJlbW92ZUVtcHR5U2NvcGUiLCJlbXB0eUlucHV0U2NvcGVTZXQiLCJTY29wZVNldCIsImNvbnN0cnVjdG9yIiwiaW5wdXRTY29wZXMiLCJzY29wZUFyciIsInRyaW1BcnJheUVudHJpZXMiLCJmaWx0ZXJlZElucHV0IiwicmVtb3ZlRW1wdHlTdHJpbmdzRnJvbUFycmF5IiwidmFsaWRhdGVJbnB1dFNjb3BlcyIsInNjb3BlcyIsIlNldCIsImZvckVhY2giLCJzY29wZSIsImFkZCIsImZyb21TdHJpbmciLCJpbnB1dFNjb3BlU3RyaW5nIiwic2NvcGVTdHJpbmciLCJFTVBUWV9TVFJJTkciLCJzcGxpdCIsImNyZWF0ZVNlYXJjaFNjb3BlcyIsInNjb3BlU2V0IiwiY29udGFpbnNPbmx5T0lEQ1Njb3BlcyIsInJlbW92ZU9JRENTY29wZXMiLCJyZW1vdmVTY29wZSIsIk9GRkxJTkVfQUNDRVNTX1NDT1BFIiwibGVuZ3RoIiwiY29udGFpbnNTY29wZSIsImxvd2VyQ2FzZVNjb3BlcyIsInByaW50U2NvcGVzTG93ZXJDYXNlIiwibG93ZXJDYXNlU2NvcGVzU2V0IiwiaGFzIiwidG9Mb3dlckNhc2UiLCJjb250YWluc1Njb3BlU2V0Iiwic2l6ZSIsImFzQXJyYXkiLCJldmVyeSIsImRlZmF1bHRTY29wZUNvdW50IiwiZGVmYXVsdFNjb3BlIiwiYXBwZW5kU2NvcGUiLCJuZXdTY29wZSIsInRyaW0iLCJhcHBlbmRTY29wZXMiLCJuZXdTY29wZXMiLCJlIiwiZGVsZXRlIiwidW5pb25TY29wZVNldHMiLCJvdGhlclNjb3BlcyIsInVuaW9uU2NvcGVzIiwiaW50ZXJzZWN0aW5nU2NvcGVTZXRzIiwic2l6ZU90aGVyU2NvcGVzIiwiZ2V0U2NvcGVDb3VudCIsInNpemVUaGlzU2NvcGVzIiwic2l6ZVVuaW9uU2NvcGVzIiwiYXJyYXkiLCJ2YWwiLCJwdXNoIiwicHJpbnRTY29wZXMiLCJqb2luIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/request/ScopeSet.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/response/ResponseHandler.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/response/ResponseHandler.mjs ***!
  \***************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResponseHandler: () => (/* binding */ ResponseHandler),\n/* harmony export */   buildAccountToCache: () => (/* binding */ buildAccountToCache)\n/* harmony export */ });\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _error_ServerError_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../error/ServerError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ServerError.mjs\");\n/* harmony import */ var _request_ScopeSet_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../request/ScopeSet.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/request/ScopeSet.mjs\");\n/* harmony import */ var _cache_entities_AccountEntity_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../cache/entities/AccountEntity.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/entities/AccountEntity.mjs\");\n/* harmony import */ var _error_InteractionRequiredAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/InteractionRequiredAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/InteractionRequiredAuthError.mjs\");\n/* harmony import */ var _utils_ProtocolUtils_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../utils/ProtocolUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/ProtocolUtils.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _crypto_PopTokenGenerator_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../crypto/PopTokenGenerator.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/crypto/PopTokenGenerator.mjs\");\n/* harmony import */ var _cache_persistence_TokenCacheContext_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../cache/persistence/TokenCacheContext.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/persistence/TokenCacheContext.mjs\");\n/* harmony import */ var _telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../telemetry/performance/PerformanceEvent.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/* harmony import */ var _account_AuthToken_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../account/AuthToken.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AuthToken.mjs\");\n/* harmony import */ var _account_TokenClaims_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../account/TokenClaims.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/TokenClaims.mjs\");\n/* harmony import */ var _account_AccountInfo_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../account/AccountInfo.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/account/AccountInfo.mjs\");\n/* harmony import */ var _cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../cache/utils/CacheHelpers.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/cache/utils/CacheHelpers.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ function parseServerErrorNo(serverResponse) {\n    const errorCodePrefix = \"code=\";\n    const errorCodePrefixIndex = serverResponse.error_uri?.lastIndexOf(errorCodePrefix);\n    return errorCodePrefixIndex && errorCodePrefixIndex >= 0 ? serverResponse.error_uri?.substring(errorCodePrefixIndex + errorCodePrefix.length) : undefined;\n}\n/**\r\n * Class that handles response parsing.\r\n * @internal\r\n */ class ResponseHandler {\n    constructor(clientId, cacheStorage, cryptoObj, logger, serializableCache, persistencePlugin, performanceClient){\n        this.clientId = clientId;\n        this.cacheStorage = cacheStorage;\n        this.cryptoObj = cryptoObj;\n        this.logger = logger;\n        this.serializableCache = serializableCache;\n        this.persistencePlugin = persistencePlugin;\n        this.performanceClient = performanceClient;\n    }\n    /**\r\n     * Function which validates server authorization code response.\r\n     * @param serverResponseHash\r\n     * @param requestState\r\n     * @param cryptoObj\r\n     */ validateServerAuthorizationCodeResponse(serverResponse, requestState) {\n        if (!serverResponse.state || !requestState) {\n            throw serverResponse.state ? (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.stateNotFound, \"Cached State\") : (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.stateNotFound, \"Server State\");\n        }\n        let decodedServerResponseState;\n        let decodedRequestState;\n        try {\n            decodedServerResponseState = decodeURIComponent(serverResponse.state);\n        } catch (e) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.invalidState, serverResponse.state);\n        }\n        try {\n            decodedRequestState = decodeURIComponent(requestState);\n        } catch (e) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.invalidState, serverResponse.state);\n        }\n        if (decodedServerResponseState !== decodedRequestState) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.stateMismatch);\n        }\n        // Check for error\n        if (serverResponse.error || serverResponse.error_description || serverResponse.suberror) {\n            const serverErrorNo = parseServerErrorNo(serverResponse);\n            if ((0,_error_InteractionRequiredAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__.isInteractionRequiredError)(serverResponse.error, serverResponse.error_description, serverResponse.suberror)) {\n                throw new _error_InteractionRequiredAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__.InteractionRequiredAuthError(serverResponse.error || \"\", serverResponse.error_description, serverResponse.suberror, serverResponse.timestamp || \"\", serverResponse.trace_id || \"\", serverResponse.correlation_id || \"\", serverResponse.claims || \"\", serverErrorNo);\n            }\n            throw new _error_ServerError_mjs__WEBPACK_IMPORTED_MODULE_3__.ServerError(serverResponse.error || \"\", serverResponse.error_description, serverResponse.suberror, serverErrorNo);\n        }\n    }\n    /**\r\n     * Function which validates server authorization token response.\r\n     * @param serverResponse\r\n     * @param refreshAccessToken\r\n     */ validateTokenResponse(serverResponse, refreshAccessToken) {\n        // Check for error\n        if (serverResponse.error || serverResponse.error_description || serverResponse.suberror) {\n            const errString = `Error(s): ${serverResponse.error_codes || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.NOT_AVAILABLE} - Timestamp: ${serverResponse.timestamp || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.NOT_AVAILABLE} - Description: ${serverResponse.error_description || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.NOT_AVAILABLE} - Correlation ID: ${serverResponse.correlation_id || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.NOT_AVAILABLE} - Trace ID: ${serverResponse.trace_id || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.NOT_AVAILABLE}`;\n            const serverErrorNo = serverResponse.error_codes?.length ? serverResponse.error_codes[0] : undefined;\n            const serverError = new _error_ServerError_mjs__WEBPACK_IMPORTED_MODULE_3__.ServerError(serverResponse.error, errString, serverResponse.suberror, serverErrorNo, serverResponse.status);\n            // check if 500 error\n            if (refreshAccessToken && serverResponse.status && serverResponse.status >= _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.HttpStatus.SERVER_ERROR_RANGE_START && serverResponse.status <= _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.HttpStatus.SERVER_ERROR_RANGE_END) {\n                this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\\n${serverError}`);\n                // don't throw an exception, but alert the user via a log that the token was unable to be refreshed\n                return;\n            // check if 400 error\n            } else if (refreshAccessToken && serverResponse.status && serverResponse.status >= _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.HttpStatus.CLIENT_ERROR_RANGE_START && serverResponse.status <= _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.HttpStatus.CLIENT_ERROR_RANGE_END) {\n                this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\\n${serverError}`);\n                // don't throw an exception, but alert the user via a log that the token was unable to be refreshed\n                return;\n            }\n            if ((0,_error_InteractionRequiredAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__.isInteractionRequiredError)(serverResponse.error, serverResponse.error_description, serverResponse.suberror)) {\n                throw new _error_InteractionRequiredAuthError_mjs__WEBPACK_IMPORTED_MODULE_2__.InteractionRequiredAuthError(serverResponse.error, serverResponse.error_description, serverResponse.suberror, serverResponse.timestamp || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING, serverResponse.trace_id || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING, serverResponse.correlation_id || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING, serverResponse.claims || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING, serverErrorNo);\n            }\n            throw serverError;\n        }\n    }\n    /**\r\n     * Returns a constructed token response based on given string. Also manages the cache updates and cleanups.\r\n     * @param serverTokenResponse\r\n     * @param authority\r\n     */ async handleServerTokenResponse(serverTokenResponse, authority, reqTimestamp, request, authCodePayload, userAssertionHash, handlingRefreshTokenResponse, forceCacheRefreshTokenResponse, serverRequestId) {\n        this.performanceClient?.addQueueMeasurement(_telemetry_performance_PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_5__.PerformanceEvents.HandleServerTokenResponse, serverTokenResponse.correlation_id);\n        // create an idToken object (not entity)\n        let idTokenClaims;\n        if (serverTokenResponse.id_token) {\n            idTokenClaims = (0,_account_AuthToken_mjs__WEBPACK_IMPORTED_MODULE_6__.extractTokenClaims)(serverTokenResponse.id_token || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING, this.cryptoObj.base64Decode);\n            // token nonce check (TODO: Add a warning if no nonce is given?)\n            if (authCodePayload && authCodePayload.nonce) {\n                if (idTokenClaims.nonce !== authCodePayload.nonce) {\n                    throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.nonceMismatch);\n                }\n            }\n            // token max_age check\n            if (request.maxAge || request.maxAge === 0) {\n                const authTime = idTokenClaims.auth_time;\n                if (!authTime) {\n                    throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.authTimeNotFound);\n                }\n                (0,_account_AuthToken_mjs__WEBPACK_IMPORTED_MODULE_6__.checkMaxAge)(authTime, request.maxAge);\n            }\n        }\n        // generate homeAccountId\n        this.homeAccountIdentifier = _cache_entities_AccountEntity_mjs__WEBPACK_IMPORTED_MODULE_7__.AccountEntity.generateHomeAccountId(serverTokenResponse.client_info || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING, authority.authorityType, this.logger, this.cryptoObj, idTokenClaims);\n        // save the response tokens\n        let requestStateObj;\n        if (!!authCodePayload && !!authCodePayload.state) {\n            requestStateObj = _utils_ProtocolUtils_mjs__WEBPACK_IMPORTED_MODULE_8__.ProtocolUtils.parseRequestState(this.cryptoObj, authCodePayload.state);\n        }\n        // Add keyId from request to serverTokenResponse if defined\n        serverTokenResponse.key_id = serverTokenResponse.key_id || request.sshKid || undefined;\n        const cacheRecord = this.generateCacheRecord(serverTokenResponse, authority, reqTimestamp, request, idTokenClaims, userAssertionHash, authCodePayload);\n        let cacheContext;\n        try {\n            if (this.persistencePlugin && this.serializableCache) {\n                this.logger.verbose(\"Persistence enabled, calling beforeCacheAccess\");\n                cacheContext = new _cache_persistence_TokenCacheContext_mjs__WEBPACK_IMPORTED_MODULE_9__.TokenCacheContext(this.serializableCache, true);\n                await this.persistencePlugin.beforeCacheAccess(cacheContext);\n            }\n            /*\r\n             * When saving a refreshed tokens to the cache, it is expected that the account that was used is present in the cache.\r\n             * If not present, we should return null, as it's the case that another application called removeAccount in between\r\n             * the calls to getAllAccounts and acquireTokenSilent. We should not overwrite that removal, unless explicitly flagged by\r\n             * the developer, as in the case of refresh token flow used in ADAL Node to MSAL Node migration.\r\n             */ if (handlingRefreshTokenResponse && !forceCacheRefreshTokenResponse && cacheRecord.account) {\n                const key = cacheRecord.account.generateAccountKey();\n                const account = this.cacheStorage.getAccount(key, this.logger);\n                if (!account) {\n                    this.logger.warning(\"Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache\");\n                    return await ResponseHandler.generateAuthenticationResult(this.cryptoObj, authority, cacheRecord, false, request, idTokenClaims, requestStateObj, undefined, serverRequestId);\n                }\n            }\n            await this.cacheStorage.saveCacheRecord(cacheRecord, request.storeInCache, request.correlationId);\n        } finally{\n            if (this.persistencePlugin && this.serializableCache && cacheContext) {\n                this.logger.verbose(\"Persistence enabled, calling afterCacheAccess\");\n                await this.persistencePlugin.afterCacheAccess(cacheContext);\n            }\n        }\n        return ResponseHandler.generateAuthenticationResult(this.cryptoObj, authority, cacheRecord, false, request, idTokenClaims, requestStateObj, serverTokenResponse, serverRequestId);\n    }\n    /**\r\n     * Generates CacheRecord\r\n     * @param serverTokenResponse\r\n     * @param idTokenObj\r\n     * @param authority\r\n     */ generateCacheRecord(serverTokenResponse, authority, reqTimestamp, request, idTokenClaims, userAssertionHash, authCodePayload) {\n        const env = authority.getPreferredCache();\n        if (!env) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.invalidCacheEnvironment);\n        }\n        const claimsTenantId = (0,_account_TokenClaims_mjs__WEBPACK_IMPORTED_MODULE_10__.getTenantIdFromIdTokenClaims)(idTokenClaims);\n        // IdToken: non AAD scenarios can have empty realm\n        let cachedIdToken;\n        let cachedAccount;\n        if (serverTokenResponse.id_token && !!idTokenClaims) {\n            cachedIdToken = (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_11__.createIdTokenEntity)(this.homeAccountIdentifier, env, serverTokenResponse.id_token, this.clientId, claimsTenantId || \"\");\n            cachedAccount = buildAccountToCache(this.cacheStorage, authority, this.homeAccountIdentifier, this.cryptoObj.base64Decode, idTokenClaims, serverTokenResponse.client_info, env, claimsTenantId, authCodePayload, undefined, this.logger);\n        }\n        // AccessToken\n        let cachedAccessToken = null;\n        if (serverTokenResponse.access_token) {\n            // If scopes not returned in server response, use request scopes\n            const responseScopes = serverTokenResponse.scope ? _request_ScopeSet_mjs__WEBPACK_IMPORTED_MODULE_12__.ScopeSet.fromString(serverTokenResponse.scope) : new _request_ScopeSet_mjs__WEBPACK_IMPORTED_MODULE_12__.ScopeSet(request.scopes || []);\n            /*\r\n             * Use timestamp calculated before request\r\n             * Server may return timestamps as strings, parse to numbers if so.\r\n             */ const expiresIn = (typeof serverTokenResponse.expires_in === \"string\" ? parseInt(serverTokenResponse.expires_in, 10) : serverTokenResponse.expires_in) || 0;\n            const extExpiresIn = (typeof serverTokenResponse.ext_expires_in === \"string\" ? parseInt(serverTokenResponse.ext_expires_in, 10) : serverTokenResponse.ext_expires_in) || 0;\n            const refreshIn = (typeof serverTokenResponse.refresh_in === \"string\" ? parseInt(serverTokenResponse.refresh_in, 10) : serverTokenResponse.refresh_in) || undefined;\n            const tokenExpirationSeconds = reqTimestamp + expiresIn;\n            const extendedTokenExpirationSeconds = tokenExpirationSeconds + extExpiresIn;\n            const refreshOnSeconds = refreshIn && refreshIn > 0 ? reqTimestamp + refreshIn : undefined;\n            // non AAD scenarios can have empty realm\n            cachedAccessToken = (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_11__.createAccessTokenEntity)(this.homeAccountIdentifier, env, serverTokenResponse.access_token, this.clientId, claimsTenantId || authority.tenant || \"\", responseScopes.printScopes(), tokenExpirationSeconds, extendedTokenExpirationSeconds, this.cryptoObj.base64Decode, refreshOnSeconds, serverTokenResponse.token_type, userAssertionHash, serverTokenResponse.key_id, request.claims, request.requestedClaimsHash);\n        }\n        // refreshToken\n        let cachedRefreshToken = null;\n        if (serverTokenResponse.refresh_token) {\n            let rtExpiresOn;\n            if (serverTokenResponse.refresh_token_expires_in) {\n                const rtExpiresIn = typeof serverTokenResponse.refresh_token_expires_in === \"string\" ? parseInt(serverTokenResponse.refresh_token_expires_in, 10) : serverTokenResponse.refresh_token_expires_in;\n                rtExpiresOn = reqTimestamp + rtExpiresIn;\n            }\n            cachedRefreshToken = (0,_cache_utils_CacheHelpers_mjs__WEBPACK_IMPORTED_MODULE_11__.createRefreshTokenEntity)(this.homeAccountIdentifier, env, serverTokenResponse.refresh_token, this.clientId, serverTokenResponse.foci, userAssertionHash, rtExpiresOn);\n        }\n        // appMetadata\n        let cachedAppMetadata = null;\n        if (serverTokenResponse.foci) {\n            cachedAppMetadata = {\n                clientId: this.clientId,\n                environment: env,\n                familyId: serverTokenResponse.foci\n            };\n        }\n        return {\n            account: cachedAccount,\n            idToken: cachedIdToken,\n            accessToken: cachedAccessToken,\n            refreshToken: cachedRefreshToken,\n            appMetadata: cachedAppMetadata\n        };\n    }\n    /**\r\n     * Creates an @AuthenticationResult from @CacheRecord , @IdToken , and a boolean that states whether or not the result is from cache.\r\n     *\r\n     * Optionally takes a state string that is set as-is in the response.\r\n     *\r\n     * @param cacheRecord\r\n     * @param idTokenObj\r\n     * @param fromTokenCache\r\n     * @param stateString\r\n     */ static async generateAuthenticationResult(cryptoObj, authority, cacheRecord, fromTokenCache, request, idTokenClaims, requestState, serverTokenResponse, requestId) {\n        let accessToken = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING;\n        let responseScopes = [];\n        let expiresOn = null;\n        let extExpiresOn;\n        let refreshOn;\n        let familyId = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING;\n        if (cacheRecord.accessToken) {\n            /*\r\n             * if the request object has `popKid` property, `signPopToken` will be set to false and\r\n             * the token will be returned unsigned\r\n             */ if (cacheRecord.accessToken.tokenType === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.AuthenticationScheme.POP && !request.popKid) {\n                const popTokenGenerator = new _crypto_PopTokenGenerator_mjs__WEBPACK_IMPORTED_MODULE_13__.PopTokenGenerator(cryptoObj);\n                const { secret, keyId } = cacheRecord.accessToken;\n                if (!keyId) {\n                    throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.keyIdMissing);\n                }\n                accessToken = await popTokenGenerator.signPopToken(secret, keyId, request);\n            } else {\n                accessToken = cacheRecord.accessToken.secret;\n            }\n            responseScopes = _request_ScopeSet_mjs__WEBPACK_IMPORTED_MODULE_12__.ScopeSet.fromString(cacheRecord.accessToken.target).asArray();\n            expiresOn = new Date(Number(cacheRecord.accessToken.expiresOn) * 1000);\n            extExpiresOn = new Date(Number(cacheRecord.accessToken.extendedExpiresOn) * 1000);\n            if (cacheRecord.accessToken.refreshOn) {\n                refreshOn = new Date(Number(cacheRecord.accessToken.refreshOn) * 1000);\n            }\n        }\n        if (cacheRecord.appMetadata) {\n            familyId = cacheRecord.appMetadata.familyId === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.THE_FAMILY_ID ? _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.THE_FAMILY_ID : \"\";\n        }\n        const uid = idTokenClaims?.oid || idTokenClaims?.sub || \"\";\n        const tid = idTokenClaims?.tid || \"\";\n        // for hybrid + native bridge enablement, send back the native account Id\n        if (serverTokenResponse?.spa_accountid && !!cacheRecord.account) {\n            cacheRecord.account.nativeAccountId = serverTokenResponse?.spa_accountid;\n        }\n        const accountInfo = cacheRecord.account ? (0,_account_AccountInfo_mjs__WEBPACK_IMPORTED_MODULE_14__.updateAccountTenantProfileData)(cacheRecord.account.getAccountInfo(), undefined, idTokenClaims, cacheRecord.idToken?.secret) : null;\n        return {\n            authority: authority.canonicalAuthority,\n            uniqueId: uid,\n            tenantId: tid,\n            scopes: responseScopes,\n            account: accountInfo,\n            idToken: cacheRecord?.idToken?.secret || \"\",\n            idTokenClaims: idTokenClaims || {},\n            accessToken: accessToken,\n            fromCache: fromTokenCache,\n            expiresOn: expiresOn,\n            extExpiresOn: extExpiresOn,\n            refreshOn: refreshOn,\n            correlationId: request.correlationId,\n            requestId: requestId || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING,\n            familyId: familyId,\n            tokenType: cacheRecord.accessToken?.tokenType || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING,\n            state: requestState ? requestState.userRequestState : _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING,\n            cloudGraphHostName: cacheRecord.account?.cloudGraphHostName || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING,\n            msGraphHost: cacheRecord.account?.msGraphHost || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_4__.Constants.EMPTY_STRING,\n            code: serverTokenResponse?.spa_code,\n            fromNativeBroker: false\n        };\n    }\n}\nfunction buildAccountToCache(cacheStorage, authority, homeAccountId, base64Decode, idTokenClaims, clientInfo, environment, claimsTenantId, authCodePayload, nativeAccountId, logger) {\n    logger?.verbose(\"setCachedAccount called\");\n    // Check if base account is already cached\n    const accountKeys = cacheStorage.getAccountKeys();\n    const baseAccountKey = accountKeys.find((accountKey)=>{\n        return accountKey.startsWith(homeAccountId);\n    });\n    let cachedAccount = null;\n    if (baseAccountKey) {\n        cachedAccount = cacheStorage.getAccount(baseAccountKey, logger);\n    }\n    const baseAccount = cachedAccount || _cache_entities_AccountEntity_mjs__WEBPACK_IMPORTED_MODULE_7__.AccountEntity.createAccount({\n        homeAccountId,\n        idTokenClaims,\n        clientInfo,\n        environment,\n        cloudGraphHostName: authCodePayload?.cloud_graph_host_name,\n        msGraphHost: authCodePayload?.msgraph_host,\n        nativeAccountId: nativeAccountId\n    }, authority, base64Decode);\n    const tenantProfiles = baseAccount.tenantProfiles || [];\n    const tenantId = claimsTenantId || baseAccount.realm;\n    if (tenantId && !tenantProfiles.find((tenantProfile)=>{\n        return tenantProfile.tenantId === tenantId;\n    })) {\n        const newTenantProfile = (0,_account_AccountInfo_mjs__WEBPACK_IMPORTED_MODULE_14__.buildTenantProfile)(homeAccountId, baseAccount.localAccountId, tenantId, idTokenClaims);\n        tenantProfiles.push(newTenantProfile);\n    }\n    baseAccount.tenantProfiles = tenantProfiles;\n    return baseAccount;\n}\n //# sourceMappingURL=ResponseHandler.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvcmVzcG9uc2UvUmVzcG9uc2VIYW5kbGVyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUNxRTtBQUNkO0FBQ0o7QUFDaUI7QUFDaUQ7QUFDMUQ7QUFDeUM7QUFDaEM7QUFDVztBQUNHO0FBQ1A7QUFDRDtBQUNzQjtBQUN5QjtBQUM4QztBQUV2Szs7O0NBR0MsR0FDRCxTQUFTNkIsbUJBQW1CQyxjQUFjO0lBQ3RDLE1BQU1DLGtCQUFrQjtJQUN4QixNQUFNQyx1QkFBdUJGLGVBQWVHLFNBQVMsRUFBRUMsWUFBWUg7SUFDbkUsT0FBT0Msd0JBQXdCQSx3QkFBd0IsSUFDakRGLGVBQWVHLFNBQVMsRUFBRUUsVUFBVUgsdUJBQXVCRCxnQkFBZ0JLLE1BQU0sSUFDakZDO0FBQ1Y7QUFDQTs7O0NBR0MsR0FDRCxNQUFNQztJQUNGQyxZQUFZQyxRQUFRLEVBQUVDLFlBQVksRUFBRUMsU0FBUyxFQUFFQyxNQUFNLEVBQUVDLGlCQUFpQixFQUFFQyxpQkFBaUIsRUFBRUMsaUJBQWlCLENBQUU7UUFDNUcsSUFBSSxDQUFDTixRQUFRLEdBQUdBO1FBQ2hCLElBQUksQ0FBQ0MsWUFBWSxHQUFHQTtRQUNwQixJQUFJLENBQUNDLFNBQVMsR0FBR0E7UUFDakIsSUFBSSxDQUFDQyxNQUFNLEdBQUdBO1FBQ2QsSUFBSSxDQUFDQyxpQkFBaUIsR0FBR0E7UUFDekIsSUFBSSxDQUFDQyxpQkFBaUIsR0FBR0E7UUFDekIsSUFBSSxDQUFDQyxpQkFBaUIsR0FBR0E7SUFDN0I7SUFDQTs7Ozs7S0FLQyxHQUNEQyx3Q0FBd0NqQixjQUFjLEVBQUVrQixZQUFZLEVBQUU7UUFDbEUsSUFBSSxDQUFDbEIsZUFBZW1CLEtBQUssSUFBSSxDQUFDRCxjQUFjO1lBQ3hDLE1BQU1sQixlQUFlbUIsS0FBSyxHQUNwQmpELGlGQUFxQkEsQ0FBQ3NCLDBFQUFhQSxFQUFF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TXVGLGNBQWN2SixhQUFhd0osY0FBYztJQUMvQyxNQUFNQyxpQkFBaUJGLFlBQVlHLElBQUksQ0FBQyxDQUFDQztRQUNyQyxPQUFPQSxXQUFXQyxVQUFVLENBQUNQO0lBQ2pDO0lBQ0EsSUFBSXRFLGdCQUFnQjtJQUNwQixJQUFJMEUsZ0JBQWdCO1FBQ2hCMUUsZ0JBQWdCL0UsYUFBYXFFLFVBQVUsQ0FBQ29GLGdCQUFnQnZKO0lBQzVEO0lBQ0EsTUFBTTJKLGNBQWM5RSxpQkFDaEJySCw0RUFBYUEsQ0FBQ29NLGFBQWEsQ0FBQztRQUN4QlQ7UUFDQXZHO1FBQ0F3RztRQUNBMUM7UUFDQW9DLG9CQUFvQnpHLGlCQUFpQndIO1FBQ3JDZCxhQUFhMUcsaUJBQWlCeUg7UUFDOUJ4QixpQkFBaUJBO0lBQ3JCLEdBQUdwRyxXQUFXWTtJQUNsQixNQUFNaUgsaUJBQWlCSixZQUFZSSxjQUFjLElBQUksRUFBRTtJQUN2RCxNQUFNcEIsV0FBV2hFLGtCQUFrQmdGLFlBQVlLLEtBQUs7SUFDcEQsSUFBSXJCLFlBQ0EsQ0FBQ29CLGVBQWVQLElBQUksQ0FBQyxDQUFDUztRQUNsQixPQUFPQSxjQUFjdEIsUUFBUSxLQUFLQTtJQUN0QyxJQUFJO1FBQ0osTUFBTXVCLG1CQUFtQjNMLDZFQUFrQkEsQ0FBQzRLLGVBQWVRLFlBQVlRLGNBQWMsRUFBRXhCLFVBQVUvRjtRQUNqR21ILGVBQWVLLElBQUksQ0FBQ0Y7SUFDeEI7SUFDQVAsWUFBWUksY0FBYyxHQUFHQTtJQUM3QixPQUFPSjtBQUNYO0FBRWdELENBQ2hELDRDQUE0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC9yZXNwb25zZS9SZXNwb25zZUhhbmRsZXIubWpzPzY5ZTIiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRBdXRoRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRBdXRoRXJyb3IubWpzJztcbmltcG9ydCB7IFNlcnZlckVycm9yIH0gZnJvbSAnLi4vZXJyb3IvU2VydmVyRXJyb3IubWpzJztcbmltcG9ydCB7IFNjb3BlU2V0IH0gZnJvbSAnLi4vcmVxdWVzdC9TY29wZVNldC5tanMnO1xuaW1wb3J0IHsgQWNjb3VudEVudGl0eSB9IGZyb20gJy4uL2NhY2hlL2VudGl0aWVzL0FjY291bnRFbnRpdHkubWpzJztcbmltcG9ydCB7IGlzSW50ZXJhY3Rpb25SZXF1aXJlZEVycm9yLCBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvSW50ZXJhY3Rpb25SZXF1aXJlZEF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgUHJvdG9jb2xVdGlscyB9IGZyb20gJy4uL3V0aWxzL1Byb3RvY29sVXRpbHMubWpzJztcbmltcG9ydCB7IEh0dHBTdGF0dXMsIENvbnN0YW50cywgQXV0aGVudGljYXRpb25TY2hlbWUsIFRIRV9GQU1JTFlfSUQgfSBmcm9tICcuLi91dGlscy9Db25zdGFudHMubWpzJztcbmltcG9ydCB7IFBvcFRva2VuR2VuZXJhdG9yIH0gZnJvbSAnLi4vY3J5cHRvL1BvcFRva2VuR2VuZXJhdG9yLm1qcyc7XG5pbXBvcnQgeyBUb2tlbkNhY2hlQ29udGV4dCB9IGZyb20gJy4uL2NhY2hlL3BlcnNpc3RlbmNlL1Rva2VuQ2FjaGVDb250ZXh0Lm1qcyc7XG5pbXBvcnQgeyBQZXJmb3JtYW5jZUV2ZW50cyB9IGZyb20gJy4uL3RlbGVtZXRyeS9wZXJmb3JtYW5jZS9QZXJmb3JtYW5jZUV2ZW50Lm1qcyc7XG5pbXBvcnQgeyBleHRyYWN0VG9rZW5DbGFpbXMsIGNoZWNrTWF4QWdlIH0gZnJvbSAnLi4vYWNjb3VudC9BdXRoVG9rZW4ubWpzJztcbmltcG9ydCB7IGdldFRlbmFudElkRnJvbUlkVG9rZW5DbGFpbXMgfSBmcm9tICcuLi9hY2NvdW50L1Rva2VuQ2xhaW1zLm1qcyc7XG5pbXBvcnQgeyB1cGRhdGVBY2NvdW50VGVuYW50UHJvZmlsZURhdGEsIGJ1aWxkVGVuYW50UHJvZmlsZSB9IGZyb20gJy4uL2FjY291bnQvQWNjb3VudEluZm8ubWpzJztcbmltcG9ydCB7IGNyZWF0ZUFjY2Vzc1Rva2VuRW50aXR5LCBjcmVhdGVSZWZyZXNoVG9rZW5FbnRpdHksIGNyZWF0ZUlkVG9rZW5FbnRpdHkgfSBmcm9tICcuLi9jYWNoZS91dGlscy9DYWNoZUhlbHBlcnMubWpzJztcbmltcG9ydCB7IHN0YXRlTm90Rm91bmQsIGludmFsaWRTdGF0ZSwgc3RhdGVNaXNtYXRjaCwgbm9uY2VNaXNtYXRjaCwgYXV0aFRpbWVOb3RGb3VuZCwgaW52YWxpZENhY2hlRW52aXJvbm1lbnQsIGtleUlkTWlzc2luZyB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBwYXJzZVNlcnZlckVycm9yTm8oc2VydmVyUmVzcG9uc2UpIHtcclxuICAgIGNvbnN0IGVycm9yQ29kZVByZWZpeCA9IFwiY29kZT1cIjtcclxuICAgIGNvbnN0IGVycm9yQ29kZVByZWZpeEluZGV4ID0gc2VydmVyUmVzcG9uc2UuZXJyb3JfdXJpPy5sYXN0SW5kZXhPZihlcnJvckNvZGVQcmVmaXgpO1xyXG4gICAgcmV0dXJuIGVycm9yQ29kZVByZWZpeEluZGV4ICYmIGVycm9yQ29kZVByZWZpeEluZGV4ID49IDBcclxuICAgICAgICA/IHNlcnZlclJlc3BvbnNlLmVycm9yX3VyaT8uc3Vic3RyaW5nKGVycm9yQ29kZVByZWZpeEluZGV4ICsgZXJyb3JDb2RlUHJlZml4Lmxlbmd0aClcclxuICAgICAgICA6IHVuZGVmaW5lZDtcclxufVxyXG4vKipcclxuICogQ2xhc3MgdGhhdCBoYW5kbGVzIHJlc3BvbnNlIHBhcnNpbmcuXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuY2xhc3MgUmVzcG9uc2VIYW5kbGVyIHtcclxuICAgIGNvbnN0cnVjdG9yKGNsaWVudElkLCBjYWNoZVN0b3JhZ2UsIGNyeXB0b09iaiwgbG9nZ2VyLCBzZXJpYWxpemFibGVDYWNoZSwgcGVyc2lzdGVuY2VQbHVnaW4sIHBlcmZvcm1hbmNlQ2xpZW50KSB7XHJcbiAgICAgICAgdGhpcy5jbGllbnRJZCA9IGNsaWVudElkO1xyXG4gICAgICAgIHRoaXMuY2FjaGVTdG9yYWdlID0gY2FjaGVTdG9yYWdlO1xyXG4gICAgICAgIHRoaXMuY3J5cHRvT2JqID0gY3J5cHRvT2JqO1xyXG4gICAgICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyO1xyXG4gICAgICAgIHRoaXMuc2VyaWFsaXphYmxlQ2FjaGUgPSBzZXJpYWxpemFibGVDYWNoZTtcclxuICAgICAgICB0aGlzLnBlcnNpc3RlbmNlUGx1Z2luID0gcGVyc2lzdGVuY2VQbHVnaW47XHJcbiAgICAgICAgdGhpcy5wZXJmb3JtYW5jZUNsaWVudCA9IHBlcmZvcm1hbmNlQ2xpZW50O1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBGdW5jdGlvbiB3aGljaCB2YWxpZGF0ZXMgc2VydmVyIGF1dGhvcml6YXRpb24gY29kZSByZXNwb25zZS5cclxuICAgICAqIEBwYXJhbSBzZXJ2ZXJSZXNwb25zZUhhc2hcclxuICAgICAqIEBwYXJhbSByZXF1ZXN0U3RhdGVcclxuICAgICAqIEBwYXJhbSBjcnlwdG9PYmpcclxuICAgICAqL1xyXG4gICAgdmFsaWRhdGVTZXJ2ZXJBdXRob3JpemF0aW9uQ29kZVJlc3BvbnNlKHNlcnZlclJlc3BvbnNlLCByZXF1ZXN0U3RhdGUpIHtcclxuICAgICAgICBpZiAoIXNlcnZlclJlc3BvbnNlLnN0YXRlIHx8ICFyZXF1ZXN0U3RhdGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgc2VydmVyUmVzcG9uc2Uuc3RhdGVcclxuICAgICAgICAgICAgICAgID8gY3JlYXRlQ2xpZW50QXV0aEVycm9yKHN0YXRlTm90Rm91bmQsIFwiQ2FjaGVkIFN0YXRlXCIpXHJcbiAgICAgICAgICAgICAgICA6IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihzdGF0ZU5vdEZvdW5kLCBcIlNlcnZlciBTdGF0ZVwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGRlY29kZWRTZXJ2ZXJSZXNwb25zZVN0YXRlO1xyXG4gICAgICAgIGxldCBkZWNvZGVkUmVxdWVzdFN0YXRlO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGRlY29kZWRTZXJ2ZXJSZXNwb25zZVN0YXRlID0gZGVjb2RlVVJJQ29tcG9uZW50KHNlcnZlclJlc3BvbnNlLnN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKGludmFsaWRTdGF0ZSwgc2VydmVyUmVzcG9uc2Uuc3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBkZWNvZGVkUmVxdWVzdFN0YXRlID0gZGVjb2RlVVJJQ29tcG9uZW50KHJlcXVlc3RTdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihpbnZhbGlkU3RhdGUsIHNlcnZlclJlc3BvbnNlLnN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGRlY29kZWRTZXJ2ZXJSZXNwb25zZVN0YXRlICE9PSBkZWNvZGVkUmVxdWVzdFN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihzdGF0ZU1pc21hdGNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQ2hlY2sgZm9yIGVycm9yXHJcbiAgICAgICAgaWYgKHNlcnZlclJlc3BvbnNlLmVycm9yIHx8XHJcbiAgICAgICAgICAgIHNlcnZlclJlc3BvbnNlLmVycm9yX2Rlc2NyaXB0aW9uIHx8XHJcbiAgICAgICAgICAgIHNlcnZlclJlc3BvbnNlLnN1YmVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlckVycm9yTm8gPSBwYXJzZVNlcnZlckVycm9yTm8oc2VydmVyUmVzcG9uc2UpO1xyXG4gICAgICAgICAgICBpZiAoaXNJbnRlcmFjdGlvblJlcXVpcmVkRXJyb3Ioc2VydmVyUmVzcG9uc2UuZXJyb3IsIHNlcnZlclJlc3BvbnNlLmVycm9yX2Rlc2NyaXB0aW9uLCBzZXJ2ZXJSZXNwb25zZS5zdWJlcnJvcikpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yKHNlcnZlclJlc3BvbnNlLmVycm9yIHx8IFwiXCIsIHNlcnZlclJlc3BvbnNlLmVycm9yX2Rlc2NyaXB0aW9uLCBzZXJ2ZXJSZXNwb25zZS5zdWJlcnJvciwgc2VydmVyUmVzcG9uc2UudGltZXN0YW1wIHx8IFwiXCIsIHNlcnZlclJlc3BvbnNlLnRyYWNlX2lkIHx8IFwiXCIsIHNlcnZlclJlc3BvbnNlLmNvcnJlbGF0aW9uX2lkIHx8IFwiXCIsIHNlcnZlclJlc3BvbnNlLmNsYWltcyB8fCBcIlwiLCBzZXJ2ZXJFcnJvck5vKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgU2VydmVyRXJyb3Ioc2VydmVyUmVzcG9uc2UuZXJyb3IgfHwgXCJcIiwgc2VydmVyUmVzcG9uc2UuZXJyb3JfZGVzY3JpcHRpb24sIHNlcnZlclJlc3BvbnNlLnN1YmVycm9yLCBzZXJ2ZXJFcnJvck5vKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEZ1bmN0aW9uIHdoaWNoIHZhbGlkYXRlcyBzZXJ2ZXIgYXV0aG9yaXphdGlvbiB0b2tlbiByZXNwb25zZS5cclxuICAgICAqIEBwYXJhbSBzZXJ2ZXJSZXNwb25zZVxyXG4gICAgICogQHBhcmFtIHJlZnJlc2hBY2Nlc3NUb2tlblxyXG4gICAgICovXHJcbiAgICB2YWxpZGF0ZVRva2VuUmVzcG9uc2Uoc2VydmVyUmVzcG9uc2UsIHJlZnJlc2hBY2Nlc3NUb2tlbikge1xyXG4gICAgICAgIC8vIENoZWNrIGZvciBlcnJvclxyXG4gICAgICAgIGlmIChzZXJ2ZXJSZXNwb25zZS5lcnJvciB8fFxyXG4gICAgICAgICAgICBzZXJ2ZXJSZXNwb25zZS5lcnJvcl9kZXNjcmlwdGlvbiB8fFxyXG4gICAgICAgICAgICBzZXJ2ZXJSZXNwb25zZS5zdWJlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJTdHJpbmcgPSBgRXJyb3Iocyk6ICR7c2VydmVyUmVzcG9uc2UuZXJyb3JfY29kZXMgfHwgQ29uc3RhbnRzLk5PVF9BVkFJTEFCTEV9IC0gVGltZXN0YW1wOiAke3NlcnZlclJlc3BvbnNlLnRpbWVzdGFtcCB8fCBDb25zdGFudHMuTk9UX0FWQUlMQUJMRX0gLSBEZXNjcmlwdGlvbjogJHtzZXJ2ZXJSZXNwb25zZS5lcnJvcl9kZXNjcmlwdGlvbiB8fCBDb25zdGFudHMuTk9UX0FWQUlMQUJMRX0gLSBDb3JyZWxhdGlvbiBJRDogJHtzZXJ2ZXJSZXNwb25zZS5jb3JyZWxhdGlvbl9pZCB8fCBDb25zdGFudHMuTk9UX0FWQUlMQUJMRX0gLSBUcmFjZSBJRDogJHtzZXJ2ZXJSZXNwb25zZS50cmFjZV9pZCB8fCBDb25zdGFudHMuTk9UX0FWQUlMQUJMRX1gO1xyXG4gICAgICAgICAgICBjb25zdCBzZXJ2ZXJFcnJvck5vID0gc2VydmVyUmVzcG9uc2UuZXJyb3JfY29kZXM/Lmxlbmd0aFxyXG4gICAgICAgICAgICAgICAgPyBzZXJ2ZXJSZXNwb25zZS5lcnJvcl9jb2Rlc1swXVxyXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlcnZlckVycm9yID0gbmV3IFNlcnZlckVycm9yKHNlcnZlclJlc3BvbnNlLmVycm9yLCBlcnJTdHJpbmcsIHNlcnZlclJlc3BvbnNlLnN1YmVycm9yLCBzZXJ2ZXJFcnJvck5vLCBzZXJ2ZXJSZXNwb25zZS5zdGF0dXMpO1xyXG4gICAgICAgICAgICAvLyBjaGVjayBpZiA1MDAgZXJyb3JcclxuICAgICAgICAgICAgaWYgKHJlZnJlc2hBY2Nlc3NUb2tlbiAmJlxyXG4gICAgICAgICAgICAgICAgc2VydmVyUmVzcG9uc2Uuc3RhdHVzICYmXHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJSZXNwb25zZS5zdGF0dXMgPj0gSHR0cFN0YXR1cy5TRVJWRVJfRVJST1JfUkFOR0VfU1RBUlQgJiZcclxuICAgICAgICAgICAgICAgIHNlcnZlclJlc3BvbnNlLnN0YXR1cyA8PSBIdHRwU3RhdHVzLlNFUlZFUl9FUlJPUl9SQU5HRV9FTkQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoYGV4ZWN1dGVUb2tlblJlcXVlc3Q6dmFsaWRhdGVUb2tlblJlc3BvbnNlIC0gQUFEIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZSBhbmQgdGhlIGFjY2VzcyB0b2tlbiBpcyB1bmFibGUgdG8gYmUgcmVmcmVzaGVkLlxcbiR7c2VydmVyRXJyb3J9YCk7XHJcbiAgICAgICAgICAgICAgICAvLyBkb24ndCB0aHJvdyBhbiBleGNlcHRpb24sIGJ1dCBhbGVydCB0aGUgdXNlciB2aWEgYSBsb2cgdGhhdCB0aGUgdG9rZW4gd2FzIHVuYWJsZSB0byBiZSByZWZyZXNoZWRcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIDQwMCBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHJlZnJlc2hBY2Nlc3NUb2tlbiAmJlxyXG4gICAgICAgICAgICAgICAgc2VydmVyUmVzcG9uc2Uuc3RhdHVzICYmXHJcbiAgICAgICAgICAgICAgICBzZXJ2ZXJSZXNwb25zZS5zdGF0dXMgPj0gSHR0cFN0YXR1cy5DTElFTlRfRVJST1JfUkFOR0VfU1RBUlQgJiZcclxuICAgICAgICAgICAgICAgIHNlcnZlclJlc3BvbnNlLnN0YXR1cyA8PSBIdHRwU3RhdHVzLkNMSUVOVF9FUlJPUl9SQU5HRV9FTkQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoYGV4ZWN1dGVUb2tlblJlcXVlc3Q6dmFsaWRhdGVUb2tlblJlc3BvbnNlIC0gQUFEIGlzIGN1cnJlbnRseSBhdmFpbGFibGUgYnV0IGlzIHVuYWJsZSB0byByZWZyZXNoIHRoZSBhY2Nlc3MgdG9rZW4uXFxuJHtzZXJ2ZXJFcnJvcn1gKTtcclxuICAgICAgICAgICAgICAgIC8vIGRvbid0IHRocm93IGFuIGV4Y2VwdGlvbiwgYnV0IGFsZXJ0IHRoZSB1c2VyIHZpYSBhIGxvZyB0aGF0IHRoZSB0b2tlbiB3YXMgdW5hYmxlIHRvIGJlIHJlZnJlc2hlZFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0ludGVyYWN0aW9uUmVxdWlyZWRFcnJvcihzZXJ2ZXJSZXNwb25zZS5lcnJvciwgc2VydmVyUmVzcG9uc2UuZXJyb3JfZGVzY3JpcHRpb24sIHNlcnZlclJlc3BvbnNlLnN1YmVycm9yKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEludGVyYWN0aW9uUmVxdWlyZWRBdXRoRXJyb3Ioc2VydmVyUmVzcG9uc2UuZXJyb3IsIHNlcnZlclJlc3BvbnNlLmVycm9yX2Rlc2NyaXB0aW9uLCBzZXJ2ZXJSZXNwb25zZS5zdWJlcnJvciwgc2VydmVyUmVzcG9uc2UudGltZXN0YW1wIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsIHNlcnZlclJlc3BvbnNlLnRyYWNlX2lkIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsIHNlcnZlclJlc3BvbnNlLmNvcnJlbGF0aW9uX2lkIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsIHNlcnZlclJlc3BvbnNlLmNsYWltcyB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLCBzZXJ2ZXJFcnJvck5vKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyBzZXJ2ZXJFcnJvcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBjb25zdHJ1Y3RlZCB0b2tlbiByZXNwb25zZSBiYXNlZCBvbiBnaXZlbiBzdHJpbmcuIEFsc28gbWFuYWdlcyB0aGUgY2FjaGUgdXBkYXRlcyBhbmQgY2xlYW51cHMuXHJcbiAgICAgKiBAcGFyYW0gc2VydmVyVG9rZW5SZXNwb25zZVxyXG4gICAgICogQHBhcmFtIGF1dGhvcml0eVxyXG4gICAgICovXHJcbiAgICBhc3luYyBoYW5kbGVTZXJ2ZXJUb2tlblJlc3BvbnNlKHNlcnZlclRva2VuUmVzcG9uc2UsIGF1dGhvcml0eSwgcmVxVGltZXN0YW1wLCByZXF1ZXN0LCBhdXRoQ29kZVBheWxvYWQsIHVzZXJBc3NlcnRpb25IYXNoLCBoYW5kbGluZ1JlZnJlc2hUb2tlblJlc3BvbnNlLCBmb3JjZUNhY2hlUmVmcmVzaFRva2VuUmVzcG9uc2UsIHNlcnZlclJlcXVlc3RJZCkge1xyXG4gICAgICAgIHRoaXMucGVyZm9ybWFuY2VDbGllbnQ/LmFkZFF1ZXVlTWVhc3VyZW1lbnQoUGVyZm9ybWFuY2VFdmVudHMuSGFuZGxlU2VydmVyVG9rZW5SZXNwb25zZSwgc2VydmVyVG9rZW5SZXNwb25zZS5jb3JyZWxhdGlvbl9pZCk7XHJcbiAgICAgICAgLy8gY3JlYXRlIGFuIGlkVG9rZW4gb2JqZWN0IChub3QgZW50aXR5KVxyXG4gICAgICAgIGxldCBpZFRva2VuQ2xhaW1zO1xyXG4gICAgICAgIGlmIChzZXJ2ZXJUb2tlblJlc3BvbnNlLmlkX3Rva2VuKSB7XHJcbiAgICAgICAgICAgIGlkVG9rZW5DbGFpbXMgPSBleHRyYWN0VG9rZW5DbGFpbXMoc2VydmVyVG9rZW5SZXNwb25zZS5pZF90b2tlbiB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLCB0aGlzLmNyeXB0b09iai5iYXNlNjREZWNvZGUpO1xyXG4gICAgICAgICAgICAvLyB0b2tlbiBub25jZSBjaGVjayAoVE9ETzogQWRkIGEgd2FybmluZyBpZiBubyBub25jZSBpcyBnaXZlbj8pXHJcbiAgICAgICAgICAgIGlmIChhdXRoQ29kZVBheWxvYWQgJiYgYXV0aENvZGVQYXlsb2FkLm5vbmNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWRUb2tlbkNsYWltcy5ub25jZSAhPT0gYXV0aENvZGVQYXlsb2FkLm5vbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKG5vbmNlTWlzbWF0Y2gpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIHRva2VuIG1heF9hZ2UgY2hlY2tcclxuICAgICAgICAgICAgaWYgKHJlcXVlc3QubWF4QWdlIHx8IHJlcXVlc3QubWF4QWdlID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhdXRoVGltZSA9IGlkVG9rZW5DbGFpbXMuYXV0aF90aW1lO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFhdXRoVGltZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihhdXRoVGltZU5vdEZvdW5kKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNoZWNrTWF4QWdlKGF1dGhUaW1lLCByZXF1ZXN0Lm1heEFnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZ2VuZXJhdGUgaG9tZUFjY291bnRJZFxyXG4gICAgICAgIHRoaXMuaG9tZUFjY291bnRJZGVudGlmaWVyID0gQWNjb3VudEVudGl0eS5nZW5lcmF0ZUhvbWVBY2NvdW50SWQoc2VydmVyVG9rZW5SZXNwb25zZS5jbGllbnRfaW5mbyB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLCBhdXRob3JpdHkuYXV0aG9yaXR5VHlwZSwgdGhpcy5sb2dnZXIsIHRoaXMuY3J5cHRvT2JqLCBpZFRva2VuQ2xhaW1zKTtcclxuICAgICAgICAvLyBzYXZlIHRoZSByZXNwb25zZSB0b2tlbnNcclxuICAgICAgICBsZXQgcmVxdWVzdFN0YXRlT2JqO1xyXG4gICAgICAgIGlmICghIWF1dGhDb2RlUGF5bG9hZCAmJiAhIWF1dGhDb2RlUGF5bG9hZC5zdGF0ZSkge1xyXG4gICAgICAgICAgICByZXF1ZXN0U3RhdGVPYmogPSBQcm90b2NvbFV0aWxzLnBhcnNlUmVxdWVzdFN0YXRlKHRoaXMuY3J5cHRvT2JqLCBhdXRoQ29kZVBheWxvYWQuc3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBZGQga2V5SWQgZnJvbSByZXF1ZXN0IHRvIHNlcnZlclRva2VuUmVzcG9uc2UgaWYgZGVmaW5lZFxyXG4gICAgICAgIHNlcnZlclRva2VuUmVzcG9uc2Uua2V5X2lkID1cclxuICAgICAgICAgICAgc2VydmVyVG9rZW5SZXNwb25zZS5rZXlfaWQgfHwgcmVxdWVzdC5zc2hLaWQgfHwgdW5kZWZpbmVkO1xyXG4gICAgICAgIGNvbnN0IGNhY2hlUmVjb3JkID0gdGhpcy5nZW5lcmF0ZUNhY2hlUmVjb3JkKHNlcnZlclRva2VuUmVzcG9uc2UsIGF1dGhvcml0eSwgcmVxVGltZXN0YW1wLCByZXF1ZXN0LCBpZFRva2VuQ2xhaW1zLCB1c2VyQXNzZXJ0aW9uSGFzaCwgYXV0aENvZGVQYXlsb2FkKTtcclxuICAgICAgICBsZXQgY2FjaGVDb250ZXh0O1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBlcnNpc3RlbmNlUGx1Z2luICYmIHRoaXMuc2VyaWFsaXphYmxlQ2FjaGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJQZXJzaXN0ZW5jZSBlbmFibGVkLCBjYWxsaW5nIGJlZm9yZUNhY2hlQWNjZXNzXCIpO1xyXG4gICAgICAgICAgICAgICAgY2FjaGVDb250ZXh0ID0gbmV3IFRva2VuQ2FjaGVDb250ZXh0KHRoaXMuc2VyaWFsaXphYmxlQ2FjaGUsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wZXJzaXN0ZW5jZVBsdWdpbi5iZWZvcmVDYWNoZUFjY2VzcyhjYWNoZUNvbnRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAqIFdoZW4gc2F2aW5nIGEgcmVmcmVzaGVkIHRva2VucyB0byB0aGUgY2FjaGUsIGl0IGlzIGV4cGVjdGVkIHRoYXQgdGhlIGFjY291bnQgdGhhdCB3YXMgdXNlZCBpcyBwcmVzZW50IGluIHRoZSBjYWNoZS5cclxuICAgICAgICAgICAgICogSWYgbm90IHByZXNlbnQsIHdlIHNob3VsZCByZXR1cm4gbnVsbCwgYXMgaXQncyB0aGUgY2FzZSB0aGF0IGFub3RoZXIgYXBwbGljYXRpb24gY2FsbGVkIHJlbW92ZUFjY291bnQgaW4gYmV0d2VlblxyXG4gICAgICAgICAgICAgKiB0aGUgY2FsbHMgdG8gZ2V0QWxsQWNjb3VudHMgYW5kIGFjcXVpcmVUb2tlblNpbGVudC4gV2Ugc2hvdWxkIG5vdCBvdmVyd3JpdGUgdGhhdCByZW1vdmFsLCB1bmxlc3MgZXhwbGljaXRseSBmbGFnZ2VkIGJ5XHJcbiAgICAgICAgICAgICAqIHRoZSBkZXZlbG9wZXIsIGFzIGluIHRoZSBjYXNlIG9mIHJlZnJlc2ggdG9rZW4gZmxvdyB1c2VkIGluIEFEQUwgTm9kZSB0byBNU0FMIE5vZGUgbWlncmF0aW9uLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaWYgKGhhbmRsaW5nUmVmcmVzaFRva2VuUmVzcG9uc2UgJiZcclxuICAgICAgICAgICAgICAgICFmb3JjZUNhY2hlUmVmcmVzaFRva2VuUmVzcG9uc2UgJiZcclxuICAgICAgICAgICAgICAgIGNhY2hlUmVjb3JkLmFjY291bnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IGNhY2hlUmVjb3JkLmFjY291bnQuZ2VuZXJhdGVBY2NvdW50S2V5KCk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBhY2NvdW50ID0gdGhpcy5jYWNoZVN0b3JhZ2UuZ2V0QWNjb3VudChrZXksIHRoaXMubG9nZ2VyKTtcclxuICAgICAgICAgICAgICAgIGlmICghYWNjb3VudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLndhcm5pbmcoXCJBY2NvdW50IHVzZWQgdG8gcmVmcmVzaCB0b2tlbnMgbm90IGluIHBlcnNpc3RlbmNlLCByZWZyZXNoZWQgdG9rZW5zIHdpbGwgbm90IGJlIHN0b3JlZCBpbiB0aGUgY2FjaGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IFJlc3BvbnNlSGFuZGxlci5nZW5lcmF0ZUF1dGhlbnRpY2F0aW9uUmVzdWx0KHRoaXMuY3J5cHRvT2JqLCBhdXRob3JpdHksIGNhY2hlUmVjb3JkLCBmYWxzZSwgcmVxdWVzdCwgaWRUb2tlbkNsYWltcywgcmVxdWVzdFN0YXRlT2JqLCB1bmRlZmluZWQsIHNlcnZlclJlcXVlc3RJZCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXdhaXQgdGhpcy5jYWNoZVN0b3JhZ2Uuc2F2ZUNhY2hlUmVjb3JkKGNhY2hlUmVjb3JkLCByZXF1ZXN0LnN0b3JlSW5DYWNoZSwgcmVxdWVzdC5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBlcnNpc3RlbmNlUGx1Z2luICYmXHJcbiAgICAgICAgICAgICAgICB0aGlzLnNlcmlhbGl6YWJsZUNhY2hlICYmXHJcbiAgICAgICAgICAgICAgICBjYWNoZUNvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLnZlcmJvc2UoXCJQZXJzaXN0ZW5jZSBlbmFibGVkLCBjYWxsaW5nIGFmdGVyQ2FjaGVBY2Nlc3NcIik7XHJcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBlcnNpc3RlbmNlUGx1Z2luLmFmdGVyQ2FjaGVBY2Nlc3MoY2FjaGVDb250ZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gUmVzcG9uc2VIYW5kbGVyLmdlbmVyYXRlQXV0aGVudGljYXRpb25SZXN1bHQodGhpcy5jcnlwdG9PYmosIGF1dGhvcml0eSwgY2FjaGVSZWNvcmQsIGZhbHNlLCByZXF1ZXN0LCBpZFRva2VuQ2xhaW1zLCByZXF1ZXN0U3RhdGVPYmosIHNlcnZlclRva2VuUmVzcG9uc2UsIHNlcnZlclJlcXVlc3RJZCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdlbmVyYXRlcyBDYWNoZVJlY29yZFxyXG4gICAgICogQHBhcmFtIHNlcnZlclRva2VuUmVzcG9uc2VcclxuICAgICAqIEBwYXJhbSBpZFRva2VuT2JqXHJcbiAgICAgKiBAcGFyYW0gYXV0aG9yaXR5XHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlQ2FjaGVSZWNvcmQoc2VydmVyVG9rZW5SZXNwb25zZSwgYXV0aG9yaXR5LCByZXFUaW1lc3RhbXAsIHJlcXVlc3QsIGlkVG9rZW5DbGFpbXMsIHVzZXJBc3NlcnRpb25IYXNoLCBhdXRoQ29kZVBheWxvYWQpIHtcclxuICAgICAgICBjb25zdCBlbnYgPSBhdXRob3JpdHkuZ2V0UHJlZmVycmVkQ2FjaGUoKTtcclxuICAgICAgICBpZiAoIWVudikge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IoaW52YWxpZENhY2hlRW52aXJvbm1lbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBjbGFpbXNUZW5hbnRJZCA9IGdldFRlbmFudElkRnJvbUlkVG9rZW5DbGFpbXMoaWRUb2tlbkNsYWltcyk7XHJcbiAgICAgICAgLy8gSWRUb2tlbjogbm9uIEFBRCBzY2VuYXJpb3MgY2FuIGhhdmUgZW1wdHkgcmVhbG1cclxuICAgICAgICBsZXQgY2FjaGVkSWRUb2tlbjtcclxuICAgICAgICBsZXQgY2FjaGVkQWNjb3VudDtcclxuICAgICAgICBpZiAoc2VydmVyVG9rZW5SZXNwb25zZS5pZF90b2tlbiAmJiAhIWlkVG9rZW5DbGFpbXMpIHtcclxuICAgICAgICAgICAgY2FjaGVkSWRUb2tlbiA9IGNyZWF0ZUlkVG9rZW5FbnRpdHkodGhpcy5ob21lQWNjb3VudElkZW50aWZpZXIsIGVudiwgc2VydmVyVG9rZW5SZXNwb25zZS5pZF90b2tlbiwgdGhpcy5jbGllbnRJZCwgY2xhaW1zVGVuYW50SWQgfHwgXCJcIik7XHJcbiAgICAgICAgICAgIGNhY2hlZEFjY291bnQgPSBidWlsZEFjY291bnRUb0NhY2hlKHRoaXMuY2FjaGVTdG9yYWdlLCBhdXRob3JpdHksIHRoaXMuaG9tZUFjY291bnRJZGVudGlmaWVyLCB0aGlzLmNyeXB0b09iai5iYXNlNjREZWNvZGUsIGlkVG9rZW5DbGFpbXMsIHNlcnZlclRva2VuUmVzcG9uc2UuY2xpZW50X2luZm8sIGVudiwgY2xhaW1zVGVuYW50SWQsIGF1dGhDb2RlUGF5bG9hZCwgdW5kZWZpbmVkLCAvLyBuYXRpdmVBY2NvdW50SWRcclxuICAgICAgICAgICAgdGhpcy5sb2dnZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBBY2Nlc3NUb2tlblxyXG4gICAgICAgIGxldCBjYWNoZWRBY2Nlc3NUb2tlbiA9IG51bGw7XHJcbiAgICAgICAgaWYgKHNlcnZlclRva2VuUmVzcG9uc2UuYWNjZXNzX3Rva2VuKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHNjb3BlcyBub3QgcmV0dXJuZWQgaW4gc2VydmVyIHJlc3BvbnNlLCB1c2UgcmVxdWVzdCBzY29wZXNcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VTY29wZXMgPSBzZXJ2ZXJUb2tlblJlc3BvbnNlLnNjb3BlXHJcbiAgICAgICAgICAgICAgICA/IFNjb3BlU2V0LmZyb21TdHJpbmcoc2VydmVyVG9rZW5SZXNwb25zZS5zY29wZSlcclxuICAgICAgICAgICAgICAgIDogbmV3IFNjb3BlU2V0KHJlcXVlc3Quc2NvcGVzIHx8IFtdKTtcclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICogVXNlIHRpbWVzdGFtcCBjYWxjdWxhdGVkIGJlZm9yZSByZXF1ZXN0XHJcbiAgICAgICAgICAgICAqIFNlcnZlciBtYXkgcmV0dXJuIHRpbWVzdGFtcHMgYXMgc3RyaW5ncywgcGFyc2UgdG8gbnVtYmVycyBpZiBzby5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNvbnN0IGV4cGlyZXNJbiA9ICh0eXBlb2Ygc2VydmVyVG9rZW5SZXNwb25zZS5leHBpcmVzX2luID09PSBcInN0cmluZ1wiXHJcbiAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHNlcnZlclRva2VuUmVzcG9uc2UuZXhwaXJlc19pbiwgMTApXHJcbiAgICAgICAgICAgICAgICA6IHNlcnZlclRva2VuUmVzcG9uc2UuZXhwaXJlc19pbikgfHwgMDtcclxuICAgICAgICAgICAgY29uc3QgZXh0RXhwaXJlc0luID0gKHR5cGVvZiBzZXJ2ZXJUb2tlblJlc3BvbnNlLmV4dF9leHBpcmVzX2luID09PSBcInN0cmluZ1wiXHJcbiAgICAgICAgICAgICAgICA/IHBhcnNlSW50KHNlcnZlclRva2VuUmVzcG9uc2UuZXh0X2V4cGlyZXNfaW4sIDEwKVxyXG4gICAgICAgICAgICAgICAgOiBzZXJ2ZXJUb2tlblJlc3BvbnNlLmV4dF9leHBpcmVzX2luKSB8fCAwO1xyXG4gICAgICAgICAgICBjb25zdCByZWZyZXNoSW4gPSAodHlwZW9mIHNlcnZlclRva2VuUmVzcG9uc2UucmVmcmVzaF9pbiA9PT0gXCJzdHJpbmdcIlxyXG4gICAgICAgICAgICAgICAgPyBwYXJzZUludChzZXJ2ZXJUb2tlblJlc3BvbnNlLnJlZnJlc2hfaW4sIDEwKVxyXG4gICAgICAgICAgICAgICAgOiBzZXJ2ZXJUb2tlblJlc3BvbnNlLnJlZnJlc2hfaW4pIHx8IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgY29uc3QgdG9rZW5FeHBpcmF0aW9uU2Vjb25kcyA9IHJlcVRpbWVzdGFtcCArIGV4cGlyZXNJbjtcclxuICAgICAgICAgICAgY29uc3QgZXh0ZW5kZWRUb2tlbkV4cGlyYXRpb25TZWNvbmRzID0gdG9rZW5FeHBpcmF0aW9uU2Vjb25kcyArIGV4dEV4cGlyZXNJbjtcclxuICAgICAgICAgICAgY29uc3QgcmVmcmVzaE9uU2Vjb25kcyA9IHJlZnJlc2hJbiAmJiByZWZyZXNoSW4gPiAwXHJcbiAgICAgICAgICAgICAgICA/IHJlcVRpbWVzdGFtcCArIHJlZnJlc2hJblxyXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIC8vIG5vbiBBQUQgc2NlbmFyaW9zIGNhbiBoYXZlIGVtcHR5IHJlYWxtXHJcbiAgICAgICAgICAgIGNhY2hlZEFjY2Vzc1Rva2VuID0gY3JlYXRlQWNjZXNzVG9rZW5FbnRpdHkodGhpcy5ob21lQWNjb3VudElkZW50aWZpZXIsIGVudiwgc2VydmVyVG9rZW5SZXNwb25zZS5hY2Nlc3NfdG9rZW4sIHRoaXMuY2xpZW50SWQsIGNsYWltc1RlbmFudElkIHx8IGF1dGhvcml0eS50ZW5hbnQgfHwgXCJcIiwgcmVzcG9uc2VTY29wZXMucHJpbnRTY29wZXMoKSwgdG9rZW5FeHBpcmF0aW9uU2Vjb25kcywgZXh0ZW5kZWRUb2tlbkV4cGlyYXRpb25TZWNvbmRzLCB0aGlzLmNyeXB0b09iai5iYXNlNjREZWNvZGUsIHJlZnJlc2hPblNlY29uZHMsIHNlcnZlclRva2VuUmVzcG9uc2UudG9rZW5fdHlwZSwgdXNlckFzc2VydGlvbkhhc2gsIHNlcnZlclRva2VuUmVzcG9uc2Uua2V5X2lkLCByZXF1ZXN0LmNsYWltcywgcmVxdWVzdC5yZXF1ZXN0ZWRDbGFpbXNIYXNoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmVmcmVzaFRva2VuXHJcbiAgICAgICAgbGV0IGNhY2hlZFJlZnJlc2hUb2tlbiA9IG51bGw7XHJcbiAgICAgICAgaWYgKHNlcnZlclRva2VuUmVzcG9uc2UucmVmcmVzaF90b2tlbikge1xyXG4gICAgICAgICAgICBsZXQgcnRFeHBpcmVzT247XHJcbiAgICAgICAgICAgIGlmIChzZXJ2ZXJUb2tlblJlc3BvbnNlLnJlZnJlc2hfdG9rZW5fZXhwaXJlc19pbikge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcnRFeHBpcmVzSW4gPSB0eXBlb2Ygc2VydmVyVG9rZW5SZXNwb25zZS5yZWZyZXNoX3Rva2VuX2V4cGlyZXNfaW4gPT09XHJcbiAgICAgICAgICAgICAgICAgICAgXCJzdHJpbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgID8gcGFyc2VJbnQoc2VydmVyVG9rZW5SZXNwb25zZS5yZWZyZXNoX3Rva2VuX2V4cGlyZXNfaW4sIDEwKVxyXG4gICAgICAgICAgICAgICAgICAgIDogc2VydmVyVG9rZW5SZXNwb25zZS5yZWZyZXNoX3Rva2VuX2V4cGlyZXNfaW47XHJcbiAgICAgICAgICAgICAgICBydEV4cGlyZXNPbiA9IHJlcVRpbWVzdGFtcCArIHJ0RXhwaXJlc0luO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhY2hlZFJlZnJlc2hUb2tlbiA9IGNyZWF0ZVJlZnJlc2hUb2tlbkVudGl0eSh0aGlzLmhvbWVBY2NvdW50SWRlbnRpZmllciwgZW52LCBzZXJ2ZXJUb2tlblJlc3BvbnNlLnJlZnJlc2hfdG9rZW4sIHRoaXMuY2xpZW50SWQsIHNlcnZlclRva2VuUmVzcG9uc2UuZm9jaSwgdXNlckFzc2VydGlvbkhhc2gsIHJ0RXhwaXJlc09uKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gYXBwTWV0YWRhdGFcclxuICAgICAgICBsZXQgY2FjaGVkQXBwTWV0YWRhdGEgPSBudWxsO1xyXG4gICAgICAgIGlmIChzZXJ2ZXJUb2tlblJlc3BvbnNlLmZvY2kpIHtcclxuICAgICAgICAgICAgY2FjaGVkQXBwTWV0YWRhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jbGllbnRJZCxcclxuICAgICAgICAgICAgICAgIGVudmlyb25tZW50OiBlbnYsXHJcbiAgICAgICAgICAgICAgICBmYW1pbHlJZDogc2VydmVyVG9rZW5SZXNwb25zZS5mb2NpLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBhY2NvdW50OiBjYWNoZWRBY2NvdW50LFxyXG4gICAgICAgICAgICBpZFRva2VuOiBjYWNoZWRJZFRva2VuLFxyXG4gICAgICAgICAgICBhY2Nlc3NUb2tlbjogY2FjaGVkQWNjZXNzVG9rZW4sXHJcbiAgICAgICAgICAgIHJlZnJlc2hUb2tlbjogY2FjaGVkUmVmcmVzaFRva2VuLFxyXG4gICAgICAgICAgICBhcHBNZXRhZGF0YTogY2FjaGVkQXBwTWV0YWRhdGEsXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhbiBAQXV0aGVudGljYXRpb25SZXN1bHQgZnJvbSBAQ2FjaGVSZWNvcmQgLCBASWRUb2tlbiAsIGFuZCBhIGJvb2xlYW4gdGhhdCBzdGF0ZXMgd2hldGhlciBvciBub3QgdGhlIHJlc3VsdCBpcyBmcm9tIGNhY2hlLlxyXG4gICAgICpcclxuICAgICAqIE9wdGlvbmFsbHkgdGFrZXMgYSBzdGF0ZSBzdHJpbmcgdGhhdCBpcyBzZXQgYXMtaXMgaW4gdGhlIHJlc3BvbnNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjYWNoZVJlY29yZFxyXG4gICAgICogQHBhcmFtIGlkVG9rZW5PYmpcclxuICAgICAqIEBwYXJhbSBmcm9tVG9rZW5DYWNoZVxyXG4gICAgICogQHBhcmFtIHN0YXRlU3RyaW5nXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBhc3luYyBnZW5lcmF0ZUF1dGhlbnRpY2F0aW9uUmVzdWx0KGNyeXB0b09iaiwgYXV0aG9yaXR5LCBjYWNoZVJlY29yZCwgZnJvbVRva2VuQ2FjaGUsIHJlcXVlc3QsIGlkVG9rZW5DbGFpbXMsIHJlcXVlc3RTdGF0ZSwgc2VydmVyVG9rZW5SZXNwb25zZSwgcmVxdWVzdElkKSB7XHJcbiAgICAgICAgbGV0IGFjY2Vzc1Rva2VuID0gQ29uc3RhbnRzLkVNUFRZX1NUUklORztcclxuICAgICAgICBsZXQgcmVzcG9uc2VTY29wZXMgPSBbXTtcclxuICAgICAgICBsZXQgZXhwaXJlc09uID0gbnVsbDtcclxuICAgICAgICBsZXQgZXh0RXhwaXJlc09uO1xyXG4gICAgICAgIGxldCByZWZyZXNoT247XHJcbiAgICAgICAgbGV0IGZhbWlseUlkID0gQ29uc3RhbnRzLkVNUFRZX1NUUklORztcclxuICAgICAgICBpZiAoY2FjaGVSZWNvcmQuYWNjZXNzVG9rZW4pIHtcclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICogaWYgdGhlIHJlcXVlc3Qgb2JqZWN0IGhhcyBgcG9wS2lkYCBwcm9wZXJ0eSwgYHNpZ25Qb3BUb2tlbmAgd2lsbCBiZSBzZXQgdG8gZmFsc2UgYW5kXHJcbiAgICAgICAgICAgICAqIHRoZSB0b2tlbiB3aWxsIGJlIHJldHVybmVkIHVuc2lnbmVkXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBpZiAoY2FjaGVSZWNvcmQuYWNjZXNzVG9rZW4udG9rZW5UeXBlID09PVxyXG4gICAgICAgICAgICAgICAgQXV0aGVudGljYXRpb25TY2hlbWUuUE9QICYmXHJcbiAgICAgICAgICAgICAgICAhcmVxdWVzdC5wb3BLaWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvcFRva2VuR2VuZXJhdG9yID0gbmV3IFBvcFRva2VuR2VuZXJhdG9yKGNyeXB0b09iaik7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7IHNlY3JldCwga2V5SWQgfSA9IGNhY2hlUmVjb3JkLmFjY2Vzc1Rva2VuO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFrZXlJZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihrZXlJZE1pc3NpbmcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYWNjZXNzVG9rZW4gPSBhd2FpdCBwb3BUb2tlbkdlbmVyYXRvci5zaWduUG9wVG9rZW4oc2VjcmV0LCBrZXlJZCwgcmVxdWVzdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhY2Nlc3NUb2tlbiA9IGNhY2hlUmVjb3JkLmFjY2Vzc1Rva2VuLnNlY3JldDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNwb25zZVNjb3BlcyA9IFNjb3BlU2V0LmZyb21TdHJpbmcoY2FjaGVSZWNvcmQuYWNjZXNzVG9rZW4udGFyZ2V0KS5hc0FycmF5KCk7XHJcbiAgICAgICAgICAgIGV4cGlyZXNPbiA9IG5ldyBEYXRlKE51bWJlcihjYWNoZVJlY29yZC5hY2Nlc3NUb2tlbi5leHBpcmVzT24pICogMTAwMCk7XHJcbiAgICAgICAgICAgIGV4dEV4cGlyZXNPbiA9IG5ldyBEYXRlKE51bWJlcihjYWNoZVJlY29yZC5hY2Nlc3NUb2tlbi5leHRlbmRlZEV4cGlyZXNPbikgKiAxMDAwKTtcclxuICAgICAgICAgICAgaWYgKGNhY2hlUmVjb3JkLmFjY2Vzc1Rva2VuLnJlZnJlc2hPbikge1xyXG4gICAgICAgICAgICAgICAgcmVmcmVzaE9uID0gbmV3IERhdGUoTnVtYmVyKGNhY2hlUmVjb3JkLmFjY2Vzc1Rva2VuLnJlZnJlc2hPbikgKiAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2FjaGVSZWNvcmQuYXBwTWV0YWRhdGEpIHtcclxuICAgICAgICAgICAgZmFtaWx5SWQgPVxyXG4gICAgICAgICAgICAgICAgY2FjaGVSZWNvcmQuYXBwTWV0YWRhdGEuZmFtaWx5SWQgPT09IFRIRV9GQU1JTFlfSURcclxuICAgICAgICAgICAgICAgICAgICA/IFRIRV9GQU1JTFlfSURcclxuICAgICAgICAgICAgICAgICAgICA6IFwiXCI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHVpZCA9IGlkVG9rZW5DbGFpbXM/Lm9pZCB8fCBpZFRva2VuQ2xhaW1zPy5zdWIgfHwgXCJcIjtcclxuICAgICAgICBjb25zdCB0aWQgPSBpZFRva2VuQ2xhaW1zPy50aWQgfHwgXCJcIjtcclxuICAgICAgICAvLyBmb3IgaHlicmlkICsgbmF0aXZlIGJyaWRnZSBlbmFibGVtZW50LCBzZW5kIGJhY2sgdGhlIG5hdGl2ZSBhY2NvdW50IElkXHJcbiAgICAgICAgaWYgKHNlcnZlclRva2VuUmVzcG9uc2U/LnNwYV9hY2NvdW50aWQgJiYgISFjYWNoZVJlY29yZC5hY2NvdW50KSB7XHJcbiAgICAgICAgICAgIGNhY2hlUmVjb3JkLmFjY291bnQubmF0aXZlQWNjb3VudElkID1cclxuICAgICAgICAgICAgICAgIHNlcnZlclRva2VuUmVzcG9uc2U/LnNwYV9hY2NvdW50aWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFjY291bnRJbmZvID0gY2FjaGVSZWNvcmQuYWNjb3VudFxyXG4gICAgICAgICAgICA/IHVwZGF0ZUFjY291bnRUZW5hbnRQcm9maWxlRGF0YShjYWNoZVJlY29yZC5hY2NvdW50LmdldEFjY291bnRJbmZvKCksIHVuZGVmaW5lZCwgLy8gdGVuYW50UHJvZmlsZSBvcHRpb25hbFxyXG4gICAgICAgICAgICBpZFRva2VuQ2xhaW1zLCBjYWNoZVJlY29yZC5pZFRva2VuPy5zZWNyZXQpXHJcbiAgICAgICAgICAgIDogbnVsbDtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBhdXRob3JpdHk6IGF1dGhvcml0eS5jYW5vbmljYWxBdXRob3JpdHksXHJcbiAgICAgICAgICAgIHVuaXF1ZUlkOiB1aWQsXHJcbiAgICAgICAgICAgIHRlbmFudElkOiB0aWQsXHJcbiAgICAgICAgICAgIHNjb3BlczogcmVzcG9uc2VTY29wZXMsXHJcbiAgICAgICAgICAgIGFjY291bnQ6IGFjY291bnRJbmZvLFxyXG4gICAgICAgICAgICBpZFRva2VuOiBjYWNoZVJlY29yZD8uaWRUb2tlbj8uc2VjcmV0IHx8IFwiXCIsXHJcbiAgICAgICAgICAgIGlkVG9rZW5DbGFpbXM6IGlkVG9rZW5DbGFpbXMgfHwge30sXHJcbiAgICAgICAgICAgIGFjY2Vzc1Rva2VuOiBhY2Nlc3NUb2tlbixcclxuICAgICAgICAgICAgZnJvbUNhY2hlOiBmcm9tVG9rZW5DYWNoZSxcclxuICAgICAgICAgICAgZXhwaXJlc09uOiBleHBpcmVzT24sXHJcbiAgICAgICAgICAgIGV4dEV4cGlyZXNPbjogZXh0RXhwaXJlc09uLFxyXG4gICAgICAgICAgICByZWZyZXNoT246IHJlZnJlc2hPbixcclxuICAgICAgICAgICAgY29ycmVsYXRpb25JZDogcmVxdWVzdC5jb3JyZWxhdGlvbklkLFxyXG4gICAgICAgICAgICByZXF1ZXN0SWQ6IHJlcXVlc3RJZCB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG4gICAgICAgICAgICBmYW1pbHlJZDogZmFtaWx5SWQsXHJcbiAgICAgICAgICAgIHRva2VuVHlwZTogY2FjaGVSZWNvcmQuYWNjZXNzVG9rZW4/LnRva2VuVHlwZSB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG4gICAgICAgICAgICBzdGF0ZTogcmVxdWVzdFN0YXRlXHJcbiAgICAgICAgICAgICAgICA/IHJlcXVlc3RTdGF0ZS51c2VyUmVxdWVzdFN0YXRlXHJcbiAgICAgICAgICAgICAgICA6IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICAgICAgICAgIGNsb3VkR3JhcGhIb3N0TmFtZTogY2FjaGVSZWNvcmQuYWNjb3VudD8uY2xvdWRHcmFwaEhvc3ROYW1lIHx8XHJcbiAgICAgICAgICAgICAgICBDb25zdGFudHMuRU1QVFlfU1RSSU5HLFxyXG4gICAgICAgICAgICBtc0dyYXBoSG9zdDogY2FjaGVSZWNvcmQuYWNjb3VudD8ubXNHcmFwaEhvc3QgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORyxcclxuICAgICAgICAgICAgY29kZTogc2VydmVyVG9rZW5SZXNwb25zZT8uc3BhX2NvZGUsXHJcbiAgICAgICAgICAgIGZyb21OYXRpdmVCcm9rZXI6IGZhbHNlLFxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gYnVpbGRBY2NvdW50VG9DYWNoZShjYWNoZVN0b3JhZ2UsIGF1dGhvcml0eSwgaG9tZUFjY291bnRJZCwgYmFzZTY0RGVjb2RlLCBpZFRva2VuQ2xhaW1zLCBjbGllbnRJbmZvLCBlbnZpcm9ubWVudCwgY2xhaW1zVGVuYW50SWQsIGF1dGhDb2RlUGF5bG9hZCwgbmF0aXZlQWNjb3VudElkLCBsb2dnZXIpIHtcclxuICAgIGxvZ2dlcj8udmVyYm9zZShcInNldENhY2hlZEFjY291bnQgY2FsbGVkXCIpO1xyXG4gICAgLy8gQ2hlY2sgaWYgYmFzZSBhY2NvdW50IGlzIGFscmVhZHkgY2FjaGVkXHJcbiAgICBjb25zdCBhY2NvdW50S2V5cyA9IGNhY2hlU3RvcmFnZS5nZXRBY2NvdW50S2V5cygpO1xyXG4gICAgY29uc3QgYmFzZUFjY291bnRLZXkgPSBhY2NvdW50S2V5cy5maW5kKChhY2NvdW50S2V5KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIGFjY291bnRLZXkuc3RhcnRzV2l0aChob21lQWNjb3VudElkKTtcclxuICAgIH0pO1xyXG4gICAgbGV0IGNhY2hlZEFjY291bnQgPSBudWxsO1xyXG4gICAgaWYgKGJhc2VBY2NvdW50S2V5KSB7XHJcbiAgICAgICAgY2FjaGVkQWNjb3VudCA9IGNhY2hlU3RvcmFnZS5nZXRBY2NvdW50KGJhc2VBY2NvdW50S2V5LCBsb2dnZXIpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYmFzZUFjY291bnQgPSBjYWNoZWRBY2NvdW50IHx8XHJcbiAgICAgICAgQWNjb3VudEVudGl0eS5jcmVhdGVBY2NvdW50KHtcclxuICAgICAgICAgICAgaG9tZUFjY291bnRJZCxcclxuICAgICAgICAgICAgaWRUb2tlbkNsYWltcyxcclxuICAgICAgICAgICAgY2xpZW50SW5mbyxcclxuICAgICAgICAgICAgZW52aXJvbm1lbnQsXHJcbiAgICAgICAgICAgIGNsb3VkR3JhcGhIb3N0TmFtZTogYXV0aENvZGVQYXlsb2FkPy5jbG91ZF9ncmFwaF9ob3N0X25hbWUsXHJcbiAgICAgICAgICAgIG1zR3JhcGhIb3N0OiBhdXRoQ29kZVBheWxvYWQ/Lm1zZ3JhcGhfaG9zdCxcclxuICAgICAgICAgICAgbmF0aXZlQWNjb3VudElkOiBuYXRpdmVBY2NvdW50SWQsXHJcbiAgICAgICAgfSwgYXV0aG9yaXR5LCBiYXNlNjREZWNvZGUpO1xyXG4gICAgY29uc3QgdGVuYW50UHJvZmlsZXMgPSBiYXNlQWNjb3VudC50ZW5hbnRQcm9maWxlcyB8fCBbXTtcclxuICAgIGNvbnN0IHRlbmFudElkID0gY2xhaW1zVGVuYW50SWQgfHwgYmFzZUFjY291bnQucmVhbG07XHJcbiAgICBpZiAodGVuYW50SWQgJiZcclxuICAgICAgICAhdGVuYW50UHJvZmlsZXMuZmluZCgodGVuYW50UHJvZmlsZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gdGVuYW50UHJvZmlsZS50ZW5hbnRJZCA9PT0gdGVuYW50SWQ7XHJcbiAgICAgICAgfSkpIHtcclxuICAgICAgICBjb25zdCBuZXdUZW5hbnRQcm9maWxlID0gYnVpbGRUZW5hbnRQcm9maWxlKGhvbWVBY2NvdW50SWQsIGJhc2VBY2NvdW50LmxvY2FsQWNjb3VudElkLCB0ZW5hbnRJZCwgaWRUb2tlbkNsYWltcyk7XHJcbiAgICAgICAgdGVuYW50UHJvZmlsZXMucHVzaChuZXdUZW5hbnRQcm9maWxlKTtcclxuICAgIH1cclxuICAgIGJhc2VBY2NvdW50LnRlbmFudFByb2ZpbGVzID0gdGVuYW50UHJvZmlsZXM7XHJcbiAgICByZXR1cm4gYmFzZUFjY291bnQ7XHJcbn1cblxuZXhwb3J0IHsgUmVzcG9uc2VIYW5kbGVyLCBidWlsZEFjY291bnRUb0NhY2hlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXNwb25zZUhhbmRsZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudEF1dGhFcnJvciIsIlNlcnZlckVycm9yIiwiU2NvcGVTZXQiLCJBY2NvdW50RW50aXR5IiwiaXNJbnRlcmFjdGlvblJlcXVpcmVkRXJyb3IiLCJJbnRlcmFjdGlvblJlcXVpcmVkQXV0aEVycm9yIiwiUHJvdG9jb2xVdGlscyIsIkh0dHBTdGF0dXMiLCJDb25zdGFudHMiLCJBdXRoZW50aWNhdGlvblNjaGVtZSIsIlRIRV9GQU1JTFlfSUQiLCJQb3BUb2tlbkdlbmVyYXRvciIsIlRva2VuQ2FjaGVDb250ZXh0IiwiUGVyZm9ybWFuY2VFdmVudHMiLCJleHRyYWN0VG9rZW5DbGFpbXMiLCJjaGVja01heEFnZSIsImdldFRlbmFudElkRnJvbUlkVG9rZW5DbGFpbXMiLCJ1cGRhdGVBY2NvdW50VGVuYW50UHJvZmlsZURhdGEiLCJidWlsZFRlbmFudFByb2ZpbGUiLCJjcmVhdGVBY2Nlc3NUb2tlbkVudGl0eSIsImNyZWF0ZVJlZnJlc2hUb2tlbkVudGl0eSIsImNyZWF0ZUlkVG9rZW5FbnRpdHkiLCJzdGF0ZU5vdEZvdW5kIiwiaW52YWxpZFN0YXRlIiwic3RhdGVNaXNtYXRjaCIsIm5vbmNlTWlzbWF0Y2giLCJhdXRoVGltZU5vdEZvdW5kIiwiaW52YWxpZENhY2hlRW52aXJvbm1lbnQiLCJrZXlJZE1pc3NpbmciLCJwYXJzZVNlcnZlckVycm9yTm8iLCJzZXJ2ZXJSZXNwb25zZSIsImVycm9yQ29kZVByZWZpeCIsImVycm9yQ29kZVByZWZpeEluZGV4IiwiZXJyb3JfdXJpIiwibGFzdEluZGV4T2YiLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJSZXNwb25zZUhhbmRsZXIiLCJjb25zdHJ1Y3RvciIsImNsaWVudElkIiwiY2FjaGVTdG9yYWdlIiwiY3J5cHRvT2JqIiwibG9nZ2VyIiwic2VyaWFsaXphYmxlQ2FjaGUiLCJwZXJzaXN0ZW5jZVBsdWdpbiIsInBlcmZvcm1hbmNlQ2xpZW50IiwidmFsaWRhdGVTZXJ2ZXJBdXRob3JpemF0aW9uQ29kZVJlc3BvbnNlIiwicmVxdWVzdFN0YXRlIiwic3RhdGUiLCJkZWNvZGVkU2VydmVyUmVzcG9uc2VTdGF0ZSIsImRlY29kZWRSZXF1ZXN0U3RhdGUiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlIiwiZXJyb3IiLCJlcnJvcl9kZXNjcmlwdGlvbiIsInN1YmVycm9yIiwic2VydmVyRXJyb3JObyIsInRpbWVzdGFtcCIsInRyYWNlX2lkIiwiY29ycmVsYXRpb25faWQiLCJjbGFpbXMiLCJ2YWxpZGF0ZVRva2VuUmVzcG9uc2UiLCJyZWZyZXNoQWNjZXNzVG9rZW4iLCJlcnJTdHJpbmciLCJlcnJvcl9jb2RlcyIsIk5PVF9BVkFJTEFCTEUiLCJzZXJ2ZXJFcnJvciIsInN0YXR1cyIsIlNFUlZFUl9FUlJPUl9SQU5HRV9TVEFSVCIsIlNFUlZFUl9FUlJPUl9SQU5HRV9FTkQiLCJ3YXJuaW5nIiwiQ0xJRU5UX0VSUk9SX1JBTkdFX1NUQVJUIiwiQ0xJRU5UX0VSUk9SX1JBTkdFX0VORCIsIkVNUFRZX1NUUklORyIsImhhbmRsZVNlcnZlclRva2VuUmVzcG9uc2UiLCJzZXJ2ZXJUb2tlblJlc3BvbnNlIiwiYXV0aG9yaXR5IiwicmVxVGltZXN0YW1wIiwicmVxdWVzdCIsImF1dGhDb2RlUGF5bG9hZCIsInVzZXJBc3NlcnRpb25IYXNoIiwiaGFuZGxpbmdSZWZyZXNoVG9rZW5SZXNwb25zZSIsImZvcmNlQ2FjaGVSZWZyZXNoVG9rZW5SZXNwb25zZSIsInNlcnZlclJlcXVlc3RJZCIsImFkZFF1ZXVlTWVhc3VyZW1lbnQiLCJIYW5kbGVTZXJ2ZXJUb2tlblJlc3BvbnNlIiwiaWRUb2tlbkNsYWltcyIsImlkX3Rva2VuIiwiYmFzZTY0RGVjb2RlIiwibm9uY2UiLCJtYXhBZ2UiLCJhdXRoVGltZSIsImF1dGhfdGltZSIsImhvbWVBY2NvdW50SWRlbnRpZmllciIsImdlbmVyYXRlSG9tZUFjY291bnRJZCIsImNsaWVudF9pbmZvIiwiYXV0aG9yaXR5VHlwZSIsInJlcXVlc3RTdGF0ZU9iaiIsInBhcnNlUmVxdWVzdFN0YXRlIiwia2V5X2lkIiwic3NoS2lkIiwiY2FjaGVSZWNvcmQiLCJnZW5lcmF0ZUNhY2hlUmVjb3JkIiwiY2FjaGVDb250ZXh0IiwidmVyYm9zZSIsImJlZm9yZUNhY2hlQWNjZXNzIiwiYWNjb3VudCIsImtleSIsImdlbmVyYXRlQWNjb3VudEtleSIsImdldEFjY291bnQiLCJnZW5lcmF0ZUF1dGhlbnRpY2F0aW9uUmVzdWx0Iiwic2F2ZUNhY2hlUmVjb3JkIiwic3RvcmVJbkNhY2hlIiwiY29ycmVsYXRpb25JZCIsImFmdGVyQ2FjaGVBY2Nlc3MiLCJlbnYiLCJnZXRQcmVmZXJyZWRDYWNoZSIsImNsYWltc1RlbmFudElkIiwiY2FjaGVkSWRUb2tlbiIsImNhY2hlZEFjY291bnQiLCJidWlsZEFjY291bnRUb0NhY2hlIiwiY2FjaGVkQWNjZXNzVG9rZW4iLCJhY2Nlc3NfdG9rZW4iLCJyZXNwb25zZVNjb3BlcyIsInNjb3BlIiwiZnJvbVN0cmluZyIsInNjb3BlcyIsImV4cGlyZXNJbiIsImV4cGlyZXNfaW4iLCJwYXJzZUludCIsImV4dEV4cGlyZXNJbiIsImV4dF9leHBpcmVzX2luIiwicmVmcmVzaEluIiwicmVmcmVzaF9pbiIsInRva2VuRXhwaXJhdGlvblNlY29uZHMiLCJleHRlbmRlZFRva2VuRXhwaXJhdGlvblNlY29uZHMiLCJyZWZyZXNoT25TZWNvbmRzIiwidGVuYW50IiwicHJpbnRTY29wZXMiLCJ0b2tlbl90eXBlIiwicmVxdWVzdGVkQ2xhaW1zSGFzaCIsImNhY2hlZFJlZnJlc2hUb2tlbiIsInJlZnJlc2hfdG9rZW4iLCJydEV4cGlyZXNPbiIsInJlZnJlc2hfdG9rZW5fZXhwaXJlc19pbiIsInJ0RXhwaXJlc0luIiwiZm9jaSIsImNhY2hlZEFwcE1ldGFkYXRhIiwiZW52aXJvbm1lbnQiLCJmYW1pbHlJZCIsImlkVG9rZW4iLCJhY2Nlc3NUb2tlbiIsInJlZnJlc2hUb2tlbiIsImFwcE1ldGFkYXRhIiwiZnJvbVRva2VuQ2FjaGUiLCJyZXF1ZXN0SWQiLCJleHBpcmVzT24iLCJleHRFeHBpcmVzT24iLCJyZWZyZXNoT24iLCJ0b2tlblR5cGUiLCJQT1AiLCJwb3BLaWQiLCJwb3BUb2tlbkdlbmVyYXRvciIsInNlY3JldCIsImtleUlkIiwic2lnblBvcFRva2VuIiwidGFyZ2V0IiwiYXNBcnJheSIsIkRhdGUiLCJOdW1iZXIiLCJleHRlbmRlZEV4cGlyZXNPbiIsInVpZCIsIm9pZCIsInN1YiIsInRpZCIsInNwYV9hY2NvdW50aWQiLCJuYXRpdmVBY2NvdW50SWQiLCJhY2NvdW50SW5mbyIsImdldEFjY291bnRJbmZvIiwiY2Fub25pY2FsQXV0aG9yaXR5IiwidW5pcXVlSWQiLCJ0ZW5hbnRJZCIsImZyb21DYWNoZSIsInVzZXJSZXF1ZXN0U3RhdGUiLCJjbG91ZEdyYXBoSG9zdE5hbWUiLCJtc0dyYXBoSG9zdCIsImNvZGUiLCJzcGFfY29kZSIsImZyb21OYXRpdmVCcm9rZXIiLCJob21lQWNjb3VudElkIiwiY2xpZW50SW5mbyIsImFjY291bnRLZXlzIiwiZ2V0QWNjb3VudEtleXMiLCJiYXNlQWNjb3VudEtleSIsImZpbmQiLCJhY2NvdW50S2V5Iiwic3RhcnRzV2l0aCIsImJhc2VBY2NvdW50IiwiY3JlYXRlQWNjb3VudCIsImNsb3VkX2dyYXBoX2hvc3RfbmFtZSIsIm1zZ3JhcGhfaG9zdCIsInRlbmFudFByb2ZpbGVzIiwicmVhbG0iLCJ0ZW5hbnRQcm9maWxlIiwibmV3VGVuYW50UHJvZmlsZSIsImxvY2FsQWNjb3VudElkIiwicHVzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/response/ResponseHandler.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs":
/*!*****************************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IntFields: () => (/* binding */ IntFields),\n/* harmony export */   PerformanceEventAbbreviations: () => (/* binding */ PerformanceEventAbbreviations),\n/* harmony export */   PerformanceEventStatus: () => (/* binding */ PerformanceEventStatus),\n/* harmony export */   PerformanceEvents: () => (/* binding */ PerformanceEvents)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Enumeration of operations that are instrumented by have their performance measured by the PerformanceClient.\r\n *\r\n * @export\r\n * @enum {number}\r\n */ const PerformanceEvents = {\n    /**\r\n     * acquireTokenByCode API (msal-browser and msal-node).\r\n     * Used to acquire tokens by trading an authorization code against the token endpoint.\r\n     */ AcquireTokenByCode: \"acquireTokenByCode\",\n    /**\r\n     * acquireTokenByRefreshToken API (msal-browser and msal-node).\r\n     * Used to renew an access token using a refresh token against the token endpoint.\r\n     */ AcquireTokenByRefreshToken: \"acquireTokenByRefreshToken\",\n    /**\r\n     * acquireTokenSilent API (msal-browser and msal-node).\r\n     * Used to silently acquire a new access token (from the cache or the network).\r\n     */ AcquireTokenSilent: \"acquireTokenSilent\",\n    /**\r\n     * acquireTokenSilentAsync (msal-browser).\r\n     * Internal API for acquireTokenSilent.\r\n     */ AcquireTokenSilentAsync: \"acquireTokenSilentAsync\",\n    /**\r\n     * acquireTokenPopup (msal-browser).\r\n     * Used to acquire a new access token interactively through pop ups\r\n     */ AcquireTokenPopup: \"acquireTokenPopup\",\n    /**\r\n     * acquireTokenPreRedirect (msal-browser).\r\n     * First part of the redirect flow.\r\n     * Used to acquire a new access token interactively through redirects.\r\n     */ AcquireTokenPreRedirect: \"acquireTokenPreRedirect\",\n    /**\r\n     * acquireTokenRedirect (msal-browser).\r\n     * Second part of the redirect flow.\r\n     * Used to acquire a new access token interactively through redirects.\r\n     */ AcquireTokenRedirect: \"acquireTokenRedirect\",\n    /**\r\n     * getPublicKeyThumbprint API in CryptoOpts class (msal-browser).\r\n     * Used to generate a public/private keypair and generate a public key thumbprint for pop requests.\r\n     */ CryptoOptsGetPublicKeyThumbprint: \"cryptoOptsGetPublicKeyThumbprint\",\n    /**\r\n     * signJwt API in CryptoOpts class (msal-browser).\r\n     * Used to signed a pop token.\r\n     */ CryptoOptsSignJwt: \"cryptoOptsSignJwt\",\n    /**\r\n     * acquireToken API in the SilentCacheClient class (msal-browser).\r\n     * Used to read access tokens from the cache.\r\n     */ SilentCacheClientAcquireToken: \"silentCacheClientAcquireToken\",\n    /**\r\n     * acquireToken API in the SilentIframeClient class (msal-browser).\r\n     * Used to acquire a new set of tokens from the authorize endpoint in a hidden iframe.\r\n     */ SilentIframeClientAcquireToken: \"silentIframeClientAcquireToken\",\n    AwaitConcurrentIframe: \"awaitConcurrentIframe\",\n    /**\r\n     * acquireToken API in SilentRereshClient (msal-browser).\r\n     * Used to acquire a new set of tokens from the token endpoint using a refresh token.\r\n     */ SilentRefreshClientAcquireToken: \"silentRefreshClientAcquireToken\",\n    /**\r\n     * ssoSilent API (msal-browser).\r\n     * Used to silently acquire an authorization code and set of tokens using a hidden iframe.\r\n     */ SsoSilent: \"ssoSilent\",\n    /**\r\n     * getDiscoveredAuthority API in StandardInteractionClient class (msal-browser).\r\n     * Used to load authority metadata for a request.\r\n     */ StandardInteractionClientGetDiscoveredAuthority: \"standardInteractionClientGetDiscoveredAuthority\",\n    /**\r\n     * acquireToken APIs in msal-browser.\r\n     * Used to make an /authorize endpoint call with native brokering enabled.\r\n     */ FetchAccountIdWithNativeBroker: \"fetchAccountIdWithNativeBroker\",\n    /**\r\n     * acquireToken API in NativeInteractionClient class (msal-browser).\r\n     * Used to acquire a token from Native component when native brokering is enabled.\r\n     */ NativeInteractionClientAcquireToken: \"nativeInteractionClientAcquireToken\",\n    /**\r\n     * Time spent creating default headers for requests to token endpoint\r\n     */ BaseClientCreateTokenRequestHeaders: \"baseClientCreateTokenRequestHeaders\",\n    /**\r\n     * Time spent sending/waiting for the response of a request to the token endpoint\r\n     */ NetworkClientSendPostRequestAsync: \"networkClientSendPostRequestAsync\",\n    RefreshTokenClientExecutePostToTokenEndpoint: \"refreshTokenClientExecutePostToTokenEndpoint\",\n    AuthorizationCodeClientExecutePostToTokenEndpoint: \"authorizationCodeClientExecutePostToTokenEndpoint\",\n    /**\r\n     * Used to measure the time taken for completing embedded-broker handshake (PW-Broker).\r\n     */ BrokerHandhshake: \"brokerHandshake\",\n    /**\r\n     * acquireTokenByRefreshToken API in BrokerClientApplication (PW-Broker) .\r\n     */ AcquireTokenByRefreshTokenInBroker: \"acquireTokenByRefreshTokenInBroker\",\n    /**\r\n     * Time taken for token acquisition by broker\r\n     */ AcquireTokenByBroker: \"acquireTokenByBroker\",\n    /**\r\n     * Time spent on the network for refresh token acquisition\r\n     */ RefreshTokenClientExecuteTokenRequest: \"refreshTokenClientExecuteTokenRequest\",\n    /**\r\n     * Time taken for acquiring refresh token , records RT size\r\n     */ RefreshTokenClientAcquireToken: \"refreshTokenClientAcquireToken\",\n    /**\r\n     * Time taken for acquiring cached refresh token\r\n     */ RefreshTokenClientAcquireTokenWithCachedRefreshToken: \"refreshTokenClientAcquireTokenWithCachedRefreshToken\",\n    /**\r\n     * acquireTokenByRefreshToken API in RefreshTokenClient (msal-common).\r\n     */ RefreshTokenClientAcquireTokenByRefreshToken: \"refreshTokenClientAcquireTokenByRefreshToken\",\n    /**\r\n     * Helper function to create token request body in RefreshTokenClient (msal-common).\r\n     */ RefreshTokenClientCreateTokenRequestBody: \"refreshTokenClientCreateTokenRequestBody\",\n    /**\r\n     * acquireTokenFromCache (msal-browser).\r\n     * Internal API for acquiring token from cache\r\n     */ AcquireTokenFromCache: \"acquireTokenFromCache\",\n    SilentFlowClientAcquireCachedToken: \"silentFlowClientAcquireCachedToken\",\n    SilentFlowClientGenerateResultFromCacheRecord: \"silentFlowClientGenerateResultFromCacheRecord\",\n    /**\r\n     * acquireTokenBySilentIframe (msal-browser).\r\n     * Internal API for acquiring token by silent Iframe\r\n     */ AcquireTokenBySilentIframe: \"acquireTokenBySilentIframe\",\n    /**\r\n     * Internal API for initializing base request in BaseInteractionClient (msal-browser)\r\n     */ InitializeBaseRequest: \"initializeBaseRequest\",\n    /**\r\n     * Internal API for initializing silent request in SilentCacheClient (msal-browser)\r\n     */ InitializeSilentRequest: \"initializeSilentRequest\",\n    InitializeClientApplication: \"initializeClientApplication\",\n    /**\r\n     * Helper function in SilentIframeClient class (msal-browser).\r\n     */ SilentIframeClientTokenHelper: \"silentIframeClientTokenHelper\",\n    /**\r\n     * SilentHandler\r\n     */ SilentHandlerInitiateAuthRequest: \"silentHandlerInitiateAuthRequest\",\n    SilentHandlerMonitorIframeForHash: \"silentHandlerMonitorIframeForHash\",\n    SilentHandlerLoadFrame: \"silentHandlerLoadFrame\",\n    SilentHandlerLoadFrameSync: \"silentHandlerLoadFrameSync\",\n    /**\r\n     * Helper functions in StandardInteractionClient class (msal-browser)\r\n     */ StandardInteractionClientCreateAuthCodeClient: \"standardInteractionClientCreateAuthCodeClient\",\n    StandardInteractionClientGetClientConfiguration: \"standardInteractionClientGetClientConfiguration\",\n    StandardInteractionClientInitializeAuthorizationRequest: \"standardInteractionClientInitializeAuthorizationRequest\",\n    StandardInteractionClientInitializeAuthorizationCodeRequest: \"standardInteractionClientInitializeAuthorizationCodeRequest\",\n    /**\r\n     * getAuthCodeUrl API (msal-browser and msal-node).\r\n     */ GetAuthCodeUrl: \"getAuthCodeUrl\",\n    /**\r\n     * Functions from InteractionHandler (msal-browser)\r\n     */ HandleCodeResponseFromServer: \"handleCodeResponseFromServer\",\n    HandleCodeResponse: \"handleCodeResponse\",\n    UpdateTokenEndpointAuthority: \"updateTokenEndpointAuthority\",\n    /**\r\n     * APIs in Authorization Code Client (msal-common)\r\n     */ AuthClientAcquireToken: \"authClientAcquireToken\",\n    AuthClientExecuteTokenRequest: \"authClientExecuteTokenRequest\",\n    AuthClientCreateTokenRequestBody: \"authClientCreateTokenRequestBody\",\n    AuthClientCreateQueryString: \"authClientCreateQueryString\",\n    /**\r\n     * Generate functions in PopTokenGenerator (msal-common)\r\n     */ PopTokenGenerateCnf: \"popTokenGenerateCnf\",\n    PopTokenGenerateKid: \"popTokenGenerateKid\",\n    /**\r\n     * handleServerTokenResponse API in ResponseHandler (msal-common)\r\n     */ HandleServerTokenResponse: \"handleServerTokenResponse\",\n    DeserializeResponse: \"deserializeResponse\",\n    /**\r\n     * Authority functions\r\n     */ AuthorityFactoryCreateDiscoveredInstance: \"authorityFactoryCreateDiscoveredInstance\",\n    AuthorityResolveEndpointsAsync: \"authorityResolveEndpointsAsync\",\n    AuthorityResolveEndpointsFromLocalSources: \"authorityResolveEndpointsFromLocalSources\",\n    AuthorityGetCloudDiscoveryMetadataFromNetwork: \"authorityGetCloudDiscoveryMetadataFromNetwork\",\n    AuthorityUpdateCloudDiscoveryMetadata: \"authorityUpdateCloudDiscoveryMetadata\",\n    AuthorityGetEndpointMetadataFromNetwork: \"authorityGetEndpointMetadataFromNetwork\",\n    AuthorityUpdateEndpointMetadata: \"authorityUpdateEndpointMetadata\",\n    AuthorityUpdateMetadataWithRegionalInformation: \"authorityUpdateMetadataWithRegionalInformation\",\n    /**\r\n     * Region Discovery functions\r\n     */ RegionDiscoveryDetectRegion: \"regionDiscoveryDetectRegion\",\n    RegionDiscoveryGetRegionFromIMDS: \"regionDiscoveryGetRegionFromIMDS\",\n    RegionDiscoveryGetCurrentVersion: \"regionDiscoveryGetCurrentVersion\",\n    AcquireTokenByCodeAsync: \"acquireTokenByCodeAsync\",\n    GetEndpointMetadataFromNetwork: \"getEndpointMetadataFromNetwork\",\n    GetCloudDiscoveryMetadataFromNetworkMeasurement: \"getCloudDiscoveryMetadataFromNetworkMeasurement\",\n    HandleRedirectPromiseMeasurement: \"handleRedirectPromise\",\n    HandleNativeRedirectPromiseMeasurement: \"handleNativeRedirectPromise\",\n    UpdateCloudDiscoveryMetadataMeasurement: \"updateCloudDiscoveryMetadataMeasurement\",\n    UsernamePasswordClientAcquireToken: \"usernamePasswordClientAcquireToken\",\n    NativeMessageHandlerHandshake: \"nativeMessageHandlerHandshake\",\n    NativeGenerateAuthResult: \"nativeGenerateAuthResult\",\n    RemoveHiddenIframe: \"removeHiddenIframe\",\n    /**\r\n     * Cache operations\r\n     */ ClearTokensAndKeysWithClaims: \"clearTokensAndKeysWithClaims\",\n    CacheManagerGetRefreshToken: \"cacheManagerGetRefreshToken\",\n    /**\r\n     * Crypto Operations\r\n     */ GeneratePkceCodes: \"generatePkceCodes\",\n    GenerateCodeVerifier: \"generateCodeVerifier\",\n    GenerateCodeChallengeFromVerifier: \"generateCodeChallengeFromVerifier\",\n    Sha256Digest: \"sha256Digest\",\n    GetRandomValues: \"getRandomValues\"\n};\nconst PerformanceEventAbbreviations = new Map([\n    [\n        PerformanceEvents.AcquireTokenByCode,\n        \"ATByCode\"\n    ],\n    [\n        PerformanceEvents.AcquireTokenByRefreshToken,\n        \"ATByRT\"\n    ],\n    [\n        PerformanceEvents.AcquireTokenSilent,\n        \"ATS\"\n    ],\n    [\n        PerformanceEvents.AcquireTokenSilentAsync,\n        \"ATSAsync\"\n    ],\n    [\n        PerformanceEvents.AcquireTokenPopup,\n        \"ATPopup\"\n    ],\n    [\n        PerformanceEvents.AcquireTokenRedirect,\n        \"ATRedirect\"\n    ],\n    [\n        PerformanceEvents.CryptoOptsGetPublicKeyThumbprint,\n        \"CryptoGetPKThumb\"\n    ],\n    [\n        PerformanceEvents.CryptoOptsSignJwt,\n        \"CryptoSignJwt\"\n    ],\n    [\n        PerformanceEvents.SilentCacheClientAcquireToken,\n        \"SltCacheClientAT\"\n    ],\n    [\n        PerformanceEvents.SilentIframeClientAcquireToken,\n        \"SltIframeClientAT\"\n    ],\n    [\n        PerformanceEvents.SilentRefreshClientAcquireToken,\n        \"SltRClientAT\"\n    ],\n    [\n        PerformanceEvents.SsoSilent,\n        \"SsoSlt\"\n    ],\n    [\n        PerformanceEvents.StandardInteractionClientGetDiscoveredAuthority,\n        \"StdIntClientGetDiscAuth\"\n    ],\n    [\n        PerformanceEvents.FetchAccountIdWithNativeBroker,\n        \"FetchAccIdWithNtvBroker\"\n    ],\n    [\n        PerformanceEvents.NativeInteractionClientAcquireToken,\n        \"NtvIntClientAT\"\n    ],\n    [\n        PerformanceEvents.BaseClientCreateTokenRequestHeaders,\n        \"BaseClientCreateTReqHead\"\n    ],\n    [\n        PerformanceEvents.NetworkClientSendPostRequestAsync,\n        \"NetClientSendPost\"\n    ],\n    [\n        PerformanceEvents.RefreshTokenClientExecutePostToTokenEndpoint,\n        \"RTClientExecPost\"\n    ],\n    [\n        PerformanceEvents.AuthorizationCodeClientExecutePostToTokenEndpoint,\n        \"AuthCodeClientExecPost\"\n    ],\n    [\n        PerformanceEvents.BrokerHandhshake,\n        \"BrokerHandshake\"\n    ],\n    [\n        PerformanceEvents.AcquireTokenByRefreshTokenInBroker,\n        \"ATByRTInBroker\"\n    ],\n    [\n        PerformanceEvents.AcquireTokenByBroker,\n        \"ATByBroker\"\n    ],\n    [\n        PerformanceEvents.RefreshTokenClientExecuteTokenRequest,\n        \"RTClientExecTReq\"\n    ],\n    [\n        PerformanceEvents.RefreshTokenClientAcquireToken,\n        \"RTClientAT\"\n    ],\n    [\n        PerformanceEvents.RefreshTokenClientAcquireTokenWithCachedRefreshToken,\n        \"RTClientATWithCachedRT\"\n    ],\n    [\n        PerformanceEvents.RefreshTokenClientAcquireTokenByRefreshToken,\n        \"RTClientATByRT\"\n    ],\n    [\n        PerformanceEvents.RefreshTokenClientCreateTokenRequestBody,\n        \"RTClientCreateTReqBody\"\n    ],\n    [\n        PerformanceEvents.AcquireTokenFromCache,\n        \"ATFromCache\"\n    ],\n    [\n        PerformanceEvents.SilentFlowClientAcquireCachedToken,\n        \"SltFlowClientATCached\"\n    ],\n    [\n        PerformanceEvents.SilentFlowClientGenerateResultFromCacheRecord,\n        \"SltFlowClientGenResFromCache\"\n    ],\n    [\n        PerformanceEvents.AcquireTokenBySilentIframe,\n        \"ATBySltIframe\"\n    ],\n    [\n        PerformanceEvents.InitializeBaseRequest,\n        \"InitBaseReq\"\n    ],\n    [\n        PerformanceEvents.InitializeSilentRequest,\n        \"InitSltReq\"\n    ],\n    [\n        PerformanceEvents.InitializeClientApplication,\n        \"InitClientApplication\"\n    ],\n    [\n        PerformanceEvents.SilentIframeClientTokenHelper,\n        \"SIClientTHelper\"\n    ],\n    [\n        PerformanceEvents.SilentHandlerInitiateAuthRequest,\n        \"SHandlerInitAuthReq\"\n    ],\n    [\n        PerformanceEvents.SilentHandlerMonitorIframeForHash,\n        \"SltHandlerMonitorIframeForHash\"\n    ],\n    [\n        PerformanceEvents.SilentHandlerLoadFrame,\n        \"SHandlerLoadFrame\"\n    ],\n    [\n        PerformanceEvents.SilentHandlerLoadFrameSync,\n        \"SHandlerLoadFrameSync\"\n    ],\n    [\n        PerformanceEvents.StandardInteractionClientCreateAuthCodeClient,\n        \"StdIntClientCreateAuthCodeClient\"\n    ],\n    [\n        PerformanceEvents.StandardInteractionClientGetClientConfiguration,\n        \"StdIntClientGetClientConf\"\n    ],\n    [\n        PerformanceEvents.StandardInteractionClientInitializeAuthorizationRequest,\n        \"StdIntClientInitAuthReq\"\n    ],\n    [\n        PerformanceEvents.StandardInteractionClientInitializeAuthorizationCodeRequest,\n        \"StdIntClientInitAuthCodeReq\"\n    ],\n    [\n        PerformanceEvents.GetAuthCodeUrl,\n        \"GetAuthCodeUrl\"\n    ],\n    [\n        PerformanceEvents.HandleCodeResponseFromServer,\n        \"HandleCodeResFromServer\"\n    ],\n    [\n        PerformanceEvents.HandleCodeResponse,\n        \"HandleCodeResp\"\n    ],\n    [\n        PerformanceEvents.UpdateTokenEndpointAuthority,\n        \"UpdTEndpointAuth\"\n    ],\n    [\n        PerformanceEvents.AuthClientAcquireToken,\n        \"AuthClientAT\"\n    ],\n    [\n        PerformanceEvents.AuthClientExecuteTokenRequest,\n        \"AuthClientExecTReq\"\n    ],\n    [\n        PerformanceEvents.AuthClientCreateTokenRequestBody,\n        \"AuthClientCreateTReqBody\"\n    ],\n    [\n        PerformanceEvents.AuthClientCreateQueryString,\n        \"AuthClientCreateQueryStr\"\n    ],\n    [\n        PerformanceEvents.PopTokenGenerateCnf,\n        \"PopTGenCnf\"\n    ],\n    [\n        PerformanceEvents.PopTokenGenerateKid,\n        \"PopTGenKid\"\n    ],\n    [\n        PerformanceEvents.HandleServerTokenResponse,\n        \"HandleServerTRes\"\n    ],\n    [\n        PerformanceEvents.DeserializeResponse,\n        \"DeserializeRes\"\n    ],\n    [\n        PerformanceEvents.AuthorityFactoryCreateDiscoveredInstance,\n        \"AuthFactCreateDiscInst\"\n    ],\n    [\n        PerformanceEvents.AuthorityResolveEndpointsAsync,\n        \"AuthResolveEndpointsAsync\"\n    ],\n    [\n        PerformanceEvents.AuthorityResolveEndpointsFromLocalSources,\n        \"AuthResolveEndpointsFromLocal\"\n    ],\n    [\n        PerformanceEvents.AuthorityGetCloudDiscoveryMetadataFromNetwork,\n        \"AuthGetCDMetaFromNet\"\n    ],\n    [\n        PerformanceEvents.AuthorityUpdateCloudDiscoveryMetadata,\n        \"AuthUpdCDMeta\"\n    ],\n    [\n        PerformanceEvents.AuthorityGetEndpointMetadataFromNetwork,\n        \"AuthUpdCDMetaFromNet\"\n    ],\n    [\n        PerformanceEvents.AuthorityUpdateEndpointMetadata,\n        \"AuthUpdEndpointMeta\"\n    ],\n    [\n        PerformanceEvents.AuthorityUpdateMetadataWithRegionalInformation,\n        \"AuthUpdMetaWithRegInfo\"\n    ],\n    [\n        PerformanceEvents.RegionDiscoveryDetectRegion,\n        \"RegDiscDetectReg\"\n    ],\n    [\n        PerformanceEvents.RegionDiscoveryGetRegionFromIMDS,\n        \"RegDiscGetRegFromIMDS\"\n    ],\n    [\n        PerformanceEvents.RegionDiscoveryGetCurrentVersion,\n        \"RegDiscGetCurrentVer\"\n    ],\n    [\n        PerformanceEvents.AcquireTokenByCodeAsync,\n        \"ATByCodeAsync\"\n    ],\n    [\n        PerformanceEvents.GetEndpointMetadataFromNetwork,\n        \"GetEndpointMetaFromNet\"\n    ],\n    [\n        PerformanceEvents.GetCloudDiscoveryMetadataFromNetworkMeasurement,\n        \"GetCDMetaFromNet\"\n    ],\n    [\n        PerformanceEvents.HandleRedirectPromiseMeasurement,\n        \"HandleRedirectPromise\"\n    ],\n    [\n        PerformanceEvents.HandleNativeRedirectPromiseMeasurement,\n        \"HandleNtvRedirectPromise\"\n    ],\n    [\n        PerformanceEvents.UpdateCloudDiscoveryMetadataMeasurement,\n        \"UpdateCDMeta\"\n    ],\n    [\n        PerformanceEvents.UsernamePasswordClientAcquireToken,\n        \"UserPassClientAT\"\n    ],\n    [\n        PerformanceEvents.NativeMessageHandlerHandshake,\n        \"NtvMsgHandlerHandshake\"\n    ],\n    [\n        PerformanceEvents.NativeGenerateAuthResult,\n        \"NtvGenAuthRes\"\n    ],\n    [\n        PerformanceEvents.RemoveHiddenIframe,\n        \"RemoveHiddenIframe\"\n    ],\n    [\n        PerformanceEvents.ClearTokensAndKeysWithClaims,\n        \"ClearTAndKeysWithClaims\"\n    ],\n    [\n        PerformanceEvents.CacheManagerGetRefreshToken,\n        \"CacheManagerGetRT\"\n    ],\n    [\n        PerformanceEvents.GeneratePkceCodes,\n        \"GenPkceCodes\"\n    ],\n    [\n        PerformanceEvents.GenerateCodeVerifier,\n        \"GenCodeVerifier\"\n    ],\n    [\n        PerformanceEvents.GenerateCodeChallengeFromVerifier,\n        \"GenCodeChallengeFromVerifier\"\n    ],\n    [\n        PerformanceEvents.Sha256Digest,\n        \"Sha256Digest\"\n    ],\n    [\n        PerformanceEvents.GetRandomValues,\n        \"GetRandomValues\"\n    ]\n]);\n/**\r\n * State of the performance event.\r\n *\r\n * @export\r\n * @enum {number}\r\n */ const PerformanceEventStatus = {\n    NotStarted: 0,\n    InProgress: 1,\n    Completed: 2\n};\nconst IntFields = new Set([\n    \"accessTokenSize\",\n    \"durationMs\",\n    \"idTokenSize\",\n    \"matsSilentStatus\",\n    \"matsHttpStatus\",\n    \"refreshTokenSize\",\n    \"queuedTimeMs\",\n    \"startTimeMs\",\n    \"status\",\n    \"multiMatchedAT\",\n    \"multiMatchedID\",\n    \"multiMatchedRT\"\n]);\n //# sourceMappingURL=PerformanceEvent.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdGVsZW1ldHJ5L3BlcmZvcm1hbmNlL1BlcmZvcm1hbmNlRXZlbnQubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDQTs7O0NBR0MsR0FDRDs7Ozs7Q0FLQyxHQUNELE1BQU1BLG9CQUFvQjtJQUN0Qjs7O0tBR0MsR0FDREMsb0JBQW9CO0lBQ3BCOzs7S0FHQyxHQUNEQyw0QkFBNEI7SUFDNUI7OztLQUdDLEdBQ0RDLG9CQUFvQjtJQUNwQjs7O0tBR0MsR0FDREMseUJBQXlCO0lBQ3pCOzs7S0FHQyxHQUNEQyxtQkFBbUI7SUFDbkI7Ozs7S0FJQyxHQUNEQyx5QkFBeUI7SUFDekI7Ozs7S0FJQyxHQUNEQyxzQkFBc0I7SUFDdEI7OztLQUdDLEdBQ0RDLGtDQUFrQztJQUNsQzs7O0tBR0MsR0FDREMsbUJBQW1CO0lBQ25COzs7S0FHQyxHQUNEQywrQkFBK0I7SUFDL0I7OztLQUdDLEdBQ0RDLGdDQUFnQztJQUNoQ0MsdUJBQXVCO0lBQ3ZCOzs7S0FHQyxHQUNEQyxpQ0FBaUM7SUFDakM7OztLQUdDLEdBQ0RDLFdBQVc7SUFDWDs7O0tBR0MsR0FDREMsaURBQWlEO0lBQ2pEOzs7S0FHQyxHQUNEQyxnQ0FBZ0M7SUFDaEM7OztLQUdDLEdBQ0RDLHFDQUFxQztJQUNyQzs7S0FFQyxHQUNEQyxxQ0FBcUM7SUFDckM7O0tBRUMsR0FDREMsbUNBQW1DO0lBQ25DQyw4Q0FBOEM7SUFDOUNDLG1EQUFtRDtJQUNuRDs7S0FFQyxHQUNEQyxrQkFBa0I7SUFDbEI7O0tBRUMsR0FDREMsb0NBQW9DO0lBQ3BDOztLQUVDLEdBQ0RDLHNCQUFzQjtJQUN0Qjs7S0FFQyxHQUNEQyx1Q0FBdUM7SUFDdkM7O0tBRUMsR0FDREMsZ0NBQWdDO0lBQ2hDOztLQUVDLEdBQ0RDLHNEQUFzRDtJQUN0RDs7S0FFQyxHQUNEQyw4Q0FBOEM7SUFDOUM7O0tBRUMsR0FDREMsMENBQTBDO0lB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SXJFLGtCQUFrQnNFLDhCQUE4QjtRQUNoRDtLQUNIO0lBQ0Q7UUFDSXRFLGtCQUFrQnVFLCtDQUErQztRQUNqRTtLQUNIO0lBQ0Q7UUFDSXZFLGtCQUFrQndFLGdDQUFnQztRQUNsRDtLQUNIO0lBQ0Q7UUFDSXhFLGtCQUFrQnlFLHNDQUFzQztRQUN4RDtLQUNIO0lBQ0Q7UUFDSXpFLGtCQUFrQjBFLHVDQUF1QztRQUN6RDtLQUNIO0lBQ0Q7UUFDSTFFLGtCQUFrQjJFLGtDQUFrQztRQUNwRDtLQUNIO0lBQ0Q7UUFDSTNFLGtCQUFrQjRFLDZCQUE2QjtRQUMvQztLQUNIO0lBQ0Q7UUFBQzVFLGtCQUFrQjZFLHdCQUF3QjtRQUFFO0tBQWdCO0lBQzdEO1FBQUM3RSxrQkFBa0I4RSxrQkFBa0I7UUFBRTtLQUFxQjtJQUM1RDtRQUNJOUUsa0JBQWtCK0UsNEJBQTRCO1FBQzlDO0tBQ0g7SUFDRDtRQUFDL0Usa0JBQWtCZ0YsMkJBQTJCO1FBQUU7S0FBb0I7SUFDcEU7UUFBQ2hGLGtCQUFrQmlGLGlCQUFpQjtRQUFFO0tBQWU7SUFDckQ7UUFBQ2pGLGtCQUFrQmtGLG9CQUFvQjtRQUFFO0tBQWtCO0lBQzNEO1FBQ0lsRixrQkFBa0JtRixpQ0FBaUM7UUFDbkQ7S0FDSDtJQUNEO1FBQUNuRixrQkFBa0JvRixZQUFZO1FBQUU7S0FBZTtJQUNoRDtRQUFDcEYsa0JBQWtCcUYsZUFBZTtRQUFFO0tBQWtCO0NBQ3pEO0FBQ0Q7Ozs7O0NBS0MsR0FDRCxNQUFNRyx5QkFBeUI7SUFDM0JDLFlBQVk7SUFDWkMsWUFBWTtJQUNaQyxXQUFXO0FBQ2Y7QUFDQSxNQUFNQyxZQUFZLElBQUlDLElBQUk7SUFDdEI7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0g7QUFFOEYsQ0FDL0YsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L3RlbGVtZXRyeS9wZXJmb3JtYW5jZS9QZXJmb3JtYW5jZUV2ZW50Lm1qcz9jMzYxIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBFbnVtZXJhdGlvbiBvZiBvcGVyYXRpb25zIHRoYXQgYXJlIGluc3RydW1lbnRlZCBieSBoYXZlIHRoZWlyIHBlcmZvcm1hbmNlIG1lYXN1cmVkIGJ5IHRoZSBQZXJmb3JtYW5jZUNsaWVudC5cclxuICpcclxuICogQGV4cG9ydFxyXG4gKiBAZW51bSB7bnVtYmVyfVxyXG4gKi9cclxuY29uc3QgUGVyZm9ybWFuY2VFdmVudHMgPSB7XHJcbiAgICAvKipcclxuICAgICAqIGFjcXVpcmVUb2tlbkJ5Q29kZSBBUEkgKG1zYWwtYnJvd3NlciBhbmQgbXNhbC1ub2RlKS5cclxuICAgICAqIFVzZWQgdG8gYWNxdWlyZSB0b2tlbnMgYnkgdHJhZGluZyBhbiBhdXRob3JpemF0aW9uIGNvZGUgYWdhaW5zdCB0aGUgdG9rZW4gZW5kcG9pbnQuXHJcbiAgICAgKi9cclxuICAgIEFjcXVpcmVUb2tlbkJ5Q29kZTogXCJhY3F1aXJlVG9rZW5CeUNvZGVcIixcclxuICAgIC8qKlxyXG4gICAgICogYWNxdWlyZVRva2VuQnlSZWZyZXNoVG9rZW4gQVBJIChtc2FsLWJyb3dzZXIgYW5kIG1zYWwtbm9kZSkuXHJcbiAgICAgKiBVc2VkIHRvIHJlbmV3IGFuIGFjY2VzcyB0b2tlbiB1c2luZyBhIHJlZnJlc2ggdG9rZW4gYWdhaW5zdCB0aGUgdG9rZW4gZW5kcG9pbnQuXHJcbiAgICAgKi9cclxuICAgIEFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuOiBcImFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuXCIsXHJcbiAgICAvKipcclxuICAgICAqIGFjcXVpcmVUb2tlblNpbGVudCBBUEkgKG1zYWwtYnJvd3NlciBhbmQgbXNhbC1ub2RlKS5cclxuICAgICAqIFVzZWQgdG8gc2lsZW50bHkgYWNxdWlyZSBhIG5ldyBhY2Nlc3MgdG9rZW4gKGZyb20gdGhlIGNhY2hlIG9yIHRoZSBuZXR3b3JrKS5cclxuICAgICAqL1xyXG4gICAgQWNxdWlyZVRva2VuU2lsZW50OiBcImFjcXVpcmVUb2tlblNpbGVudFwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBhY3F1aXJlVG9rZW5TaWxlbnRBc3luYyAobXNhbC1icm93c2VyKS5cclxuICAgICAqIEludGVybmFsIEFQSSBmb3IgYWNxdWlyZVRva2VuU2lsZW50LlxyXG4gICAgICovXHJcbiAgICBBY3F1aXJlVG9rZW5TaWxlbnRBc3luYzogXCJhY3F1aXJlVG9rZW5TaWxlbnRBc3luY1wiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBhY3F1aXJlVG9rZW5Qb3B1cCAobXNhbC1icm93c2VyKS5cclxuICAgICAqIFVzZWQgdG8gYWNxdWlyZSBhIG5ldyBhY2Nlc3MgdG9rZW4gaW50ZXJhY3RpdmVseSB0aHJvdWdoIHBvcCB1cHNcclxuICAgICAqL1xyXG4gICAgQWNxdWlyZVRva2VuUG9wdXA6IFwiYWNxdWlyZVRva2VuUG9wdXBcIixcclxuICAgIC8qKlxyXG4gICAgICogYWNxdWlyZVRva2VuUHJlUmVkaXJlY3QgKG1zYWwtYnJvd3NlcikuXHJcbiAgICAgKiBGaXJzdCBwYXJ0IG9mIHRoZSByZWRpcmVjdCBmbG93LlxyXG4gICAgICogVXNlZCB0byBhY3F1aXJlIGEgbmV3IGFjY2VzcyB0b2tlbiBpbnRlcmFjdGl2ZWx5IHRocm91Z2ggcmVkaXJlY3RzLlxyXG4gICAgICovXHJcbiAgICBBY3F1aXJlVG9rZW5QcmVSZWRpcmVjdDogXCJhY3F1aXJlVG9rZW5QcmVSZWRpcmVjdFwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBhY3F1aXJlVG9rZW5SZWRpcmVjdCAobXNhbC1icm93c2VyKS5cclxuICAgICAqIFNlY29uZCBwYXJ0IG9mIHRoZSByZWRpcmVjdCBmbG93LlxyXG4gICAgICogVXNlZCB0byBhY3F1aXJlIGEgbmV3IGFjY2VzcyB0b2tlbiBpbnRlcmFjdGl2ZWx5IHRocm91Z2ggcmVkaXJlY3RzLlxyXG4gICAgICovXHJcbiAgICBBY3F1aXJlVG9rZW5SZWRpcmVjdDogXCJhY3F1aXJlVG9rZW5SZWRpcmVjdFwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRQdWJsaWNLZXlUaHVtYnByaW50IEFQSSBpbiBDcnlwdG9PcHRzIGNsYXNzIChtc2FsLWJyb3dzZXIpLlxyXG4gICAgICogVXNlZCB0byBnZW5lcmF0ZSBhIHB1YmxpYy9wcml2YXRlIGtleXBhaXIgYW5kIGdlbmVyYXRlIGEgcHVibGljIGtleSB0aHVtYnByaW50IGZvciBwb3AgcmVxdWVzdHMuXHJcbiAgICAgKi9cclxuICAgIENyeXB0b09wdHNHZXRQdWJsaWNLZXlUaHVtYnByaW50OiBcImNyeXB0b09wdHNHZXRQdWJsaWNLZXlUaHVtYnByaW50XCIsXHJcbiAgICAvKipcclxuICAgICAqIHNpZ25Kd3QgQVBJIGluIENyeXB0b09wdHMgY2xhc3MgKG1zYWwtYnJvd3NlcikuXHJcbiAgICAgKiBVc2VkIHRvIHNpZ25lZCBhIHBvcCB0b2tlbi5cclxuICAgICAqL1xyXG4gICAgQ3J5cHRvT3B0c1NpZ25Kd3Q6IFwiY3J5cHRvT3B0c1NpZ25Kd3RcIixcclxuICAgIC8qKlxyXG4gICAgICogYWNxdWlyZVRva2VuIEFQSSBpbiB0aGUgU2lsZW50Q2FjaGVDbGllbnQgY2xhc3MgKG1zYWwtYnJvd3NlcikuXHJcbiAgICAgKiBVc2VkIHRvIHJlYWQgYWNjZXNzIHRva2VucyBmcm9tIHRoZSBjYWNoZS5cclxuICAgICAqL1xyXG4gICAgU2lsZW50Q2FjaGVDbGllbnRBY3F1aXJlVG9rZW46IFwic2lsZW50Q2FjaGVDbGllbnRBY3F1aXJlVG9rZW5cIixcclxuICAgIC8qKlxyXG4gICAgICogYWNxdWlyZVRva2VuIEFQSSBpbiB0aGUgU2lsZW50SWZyYW1lQ2xpZW50IGNsYXNzIChtc2FsLWJyb3dzZXIpLlxyXG4gICAgICogVXNlZCB0byBhY3F1aXJlIGEgbmV3IHNldCBvZiB0b2tlbnMgZnJvbSB0aGUgYXV0aG9yaXplIGVuZHBvaW50IGluIGEgaGlkZGVuIGlmcmFtZS5cclxuICAgICAqL1xyXG4gICAgU2lsZW50SWZyYW1lQ2xpZW50QWNxdWlyZVRva2VuOiBcInNpbGVudElmcmFtZUNsaWVudEFjcXVpcmVUb2tlblwiLFxyXG4gICAgQXdhaXRDb25jdXJyZW50SWZyYW1lOiBcImF3YWl0Q29uY3VycmVudElmcmFtZVwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBhY3F1aXJlVG9rZW4gQVBJIGluIFNpbGVudFJlcmVzaENsaWVudCAobXNhbC1icm93c2VyKS5cclxuICAgICAqIFVzZWQgdG8gYWNxdWlyZSBhIG5ldyBzZXQgb2YgdG9rZW5zIGZyb20gdGhlIHRva2VuIGVuZHBvaW50IHVzaW5nIGEgcmVmcmVzaCB0b2tlbi5cclxuICAgICAqL1xyXG4gICAgU2lsZW50UmVmcmVzaENsaWVudEFjcXVpcmVUb2tlbjogXCJzaWxlbnRSZWZyZXNoQ2xpZW50QWNxdWlyZVRva2VuXCIsXHJcbiAgICAvKipcclxuICAgICAqIHNzb1NpbGVudCBBUEkgKG1zYWwtYnJvd3NlcikuXHJcbiAgICAgKiBVc2VkIHRvIHNpbGVudGx5IGFjcXVpcmUgYW4gYXV0aG9yaXphdGlvbiBjb2RlIGFuZCBzZXQgb2YgdG9rZW5zIHVzaW5nIGEgaGlkZGVuIGlmcmFtZS5cclxuICAgICAqL1xyXG4gICAgU3NvU2lsZW50OiBcInNzb1NpbGVudFwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBnZXREaXNjb3ZlcmVkQXV0aG9yaXR5IEFQSSBpbiBTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50IGNsYXNzIChtc2FsLWJyb3dzZXIpLlxyXG4gICAgICogVXNlZCB0byBsb2FkIGF1dGhvcml0eSBtZXRhZGF0YSBmb3IgYSByZXF1ZXN0LlxyXG4gICAgICovXHJcbiAgICBTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50R2V0RGlzY292ZXJlZEF1dGhvcml0eTogXCJzdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50R2V0RGlzY292ZXJlZEF1dGhvcml0eVwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBhY3F1aXJlVG9rZW4gQVBJcyBpbiBtc2FsLWJyb3dzZXIuXHJcbiAgICAgKiBVc2VkIHRvIG1ha2UgYW4gL2F1dGhvcml6ZSBlbmRwb2ludCBjYWxsIHdpdGggbmF0aXZlIGJyb2tlcmluZyBlbmFibGVkLlxyXG4gICAgICovXHJcbiAgICBGZXRjaEFjY291bnRJZFdpdGhOYXRpdmVCcm9rZXI6IFwiZmV0Y2hBY2NvdW50SWRXaXRoTmF0aXZlQnJva2VyXCIsXHJcbiAgICAvKipcclxuICAgICAqIGFjcXVpcmVUb2tlbiBBUEkgaW4gTmF0aXZlSW50ZXJhY3Rpb25DbGllbnQgY2xhc3MgKG1zYWwtYnJvd3NlcikuXHJcbiAgICAgKiBVc2VkIHRvIGFjcXVpcmUgYSB0b2tlbiBmcm9tIE5hdGl2ZSBjb21wb25lbnQgd2hlbiBuYXRpdmUgYnJva2VyaW5nIGlzIGVuYWJsZWQuXHJcbiAgICAgKi9cclxuICAgIE5hdGl2ZUludGVyYWN0aW9uQ2xpZW50QWNxdWlyZVRva2VuOiBcIm5hdGl2ZUludGVyYWN0aW9uQ2xpZW50QWNxdWlyZVRva2VuXCIsXHJcbiAgICAvKipcclxuICAgICAqIFRpbWUgc3BlbnQgY3JlYXRpbmcgZGVmYXVsdCBoZWFkZXJzIGZvciByZXF1ZXN0cyB0byB0b2tlbiBlbmRwb2ludFxyXG4gICAgICovXHJcbiAgICBCYXNlQ2xpZW50Q3JlYXRlVG9rZW5SZXF1ZXN0SGVhZGVyczogXCJiYXNlQ2xpZW50Q3JlYXRlVG9rZW5SZXF1ZXN0SGVhZGVyc1wiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBUaW1lIHNwZW50IHNlbmRpbmcvd2FpdGluZyBmb3IgdGhlIHJlc3BvbnNlIG9mIGEgcmVxdWVzdCB0byB0aGUgdG9rZW4gZW5kcG9pbnRcclxuICAgICAqL1xyXG4gICAgTmV0d29ya0NsaWVudFNlbmRQb3N0UmVxdWVzdEFzeW5jOiBcIm5ldHdvcmtDbGllbnRTZW5kUG9zdFJlcXVlc3RBc3luY1wiLFxyXG4gICAgUmVmcmVzaFRva2VuQ2xpZW50RXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQ6IFwicmVmcmVzaFRva2VuQ2xpZW50RXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnRcIixcclxuICAgIEF1dGhvcml6YXRpb25Db2RlQ2xpZW50RXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQ6IFwiYXV0aG9yaXphdGlvbkNvZGVDbGllbnRFeGVjdXRlUG9zdFRvVG9rZW5FbmRwb2ludFwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBVc2VkIHRvIG1lYXN1cmUgdGhlIHRpbWUgdGFrZW4gZm9yIGNvbXBsZXRpbmcgZW1iZWRkZWQtYnJva2VyIGhhbmRzaGFrZSAoUFctQnJva2VyKS5cclxuICAgICAqL1xyXG4gICAgQnJva2VySGFuZGhzaGFrZTogXCJicm9rZXJIYW5kc2hha2VcIixcclxuICAgIC8qKlxyXG4gICAgICogYWNxdWlyZVRva2VuQnlSZWZyZXNoVG9rZW4gQVBJIGluIEJyb2tlckNsaWVudEFwcGxpY2F0aW9uIChQVy1Ccm9rZXIpIC5cclxuICAgICAqL1xyXG4gICAgQWNxdWlyZVRva2VuQnlSZWZyZXNoVG9rZW5JbkJyb2tlcjogXCJhY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbkluQnJva2VyXCIsXHJcbiAgICAvKipcclxuICAgICAqIFRpbWUgdGFrZW4gZm9yIHRva2VuIGFjcXVpc2l0aW9uIGJ5IGJyb2tlclxyXG4gICAgICovXHJcbiAgICBBY3F1aXJlVG9rZW5CeUJyb2tlcjogXCJhY3F1aXJlVG9rZW5CeUJyb2tlclwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBUaW1lIHNwZW50IG9uIHRoZSBuZXR3b3JrIGZvciByZWZyZXNoIHRva2VuIGFjcXVpc2l0aW9uXHJcbiAgICAgKi9cclxuICAgIFJlZnJlc2hUb2tlbkNsaWVudEV4ZWN1dGVUb2tlblJlcXVlc3Q6IFwicmVmcmVzaFRva2VuQ2xpZW50RXhlY3V0ZVRva2VuUmVxdWVzdFwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBUaW1lIHRha2VuIGZvciBhY3F1aXJpbmcgcmVmcmVzaCB0b2tlbiAsIHJlY29yZHMgUlQgc2l6ZVxyXG4gICAgICovXHJcbiAgICBSZWZyZXNoVG9rZW5DbGllbnRBY3F1aXJlVG9rZW46IFwicmVmcmVzaFRva2VuQ2xpZW50QWNxdWlyZVRva2VuXCIsXHJcbiAgICAvKipcclxuICAgICAqIFRpbWUgdGFrZW4gZm9yIGFjcXVpcmluZyBjYWNoZWQgcmVmcmVzaCB0b2tlblxyXG4gICAgICovXHJcbiAgICBSZWZyZXNoVG9rZW5DbGllbnRBY3F1aXJlVG9rZW5XaXRoQ2FjaGVkUmVmcmVzaFRva2VuOiBcInJlZnJlc2hUb2tlbkNsaWVudEFjcXVpcmVUb2tlbldpdGhDYWNoZWRSZWZyZXNoVG9rZW5cIixcclxuICAgIC8qKlxyXG4gICAgICogYWNxdWlyZVRva2VuQnlSZWZyZXNoVG9rZW4gQVBJIGluIFJlZnJlc2hUb2tlbkNsaWVudCAobXNhbC1jb21tb24pLlxyXG4gICAgICovXHJcbiAgICBSZWZyZXNoVG9rZW5DbGllbnRBY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbjogXCJyZWZyZXNoVG9rZW5DbGllbnRBY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlblwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIHRva2VuIHJlcXVlc3QgYm9keSBpbiBSZWZyZXNoVG9rZW5DbGllbnQgKG1zYWwtY29tbW9uKS5cclxuICAgICAqL1xyXG4gICAgUmVmcmVzaFRva2VuQ2xpZW50Q3JlYXRlVG9rZW5SZXF1ZXN0Qm9keTogXCJyZWZyZXNoVG9rZW5DbGllbnRDcmVhdGVUb2tlblJlcXVlc3RCb2R5XCIsXHJcbiAgICAvKipcclxuICAgICAqIGFjcXVpcmVUb2tlbkZyb21DYWNoZSAobXNhbC1icm93c2VyKS5cclxuICAgICAqIEludGVybmFsIEFQSSBmb3IgYWNxdWlyaW5nIHRva2VuIGZyb20gY2FjaGVcclxuICAgICAqL1xyXG4gICAgQWNxdWlyZVRva2VuRnJvbUNhY2hlOiBcImFjcXVpcmVUb2tlbkZyb21DYWNoZVwiLFxyXG4gICAgU2lsZW50Rmxvd0NsaWVudEFjcXVpcmVDYWNoZWRUb2tlbjogXCJzaWxlbnRGbG93Q2xpZW50QWNxdWlyZUNhY2hlZFRva2VuXCIsXHJcbiAgICBTaWxlbnRGbG93Q2xpZW50R2VuZXJhdGVSZXN1bHRGcm9tQ2FjaGVSZWNvcmQ6IFwic2lsZW50Rmxvd0NsaWVudEdlbmVyYXRlUmVzdWx0RnJvbUNhY2hlUmVjb3JkXCIsXHJcbiAgICAvKipcclxuICAgICAqIGFjcXVpcmVUb2tlbkJ5U2lsZW50SWZyYW1lIChtc2FsLWJyb3dzZXIpLlxyXG4gICAgICogSW50ZXJuYWwgQVBJIGZvciBhY3F1aXJpbmcgdG9rZW4gYnkgc2lsZW50IElmcmFtZVxyXG4gICAgICovXHJcbiAgICBBY3F1aXJlVG9rZW5CeVNpbGVudElmcmFtZTogXCJhY3F1aXJlVG9rZW5CeVNpbGVudElmcmFtZVwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBJbnRlcm5hbCBBUEkgZm9yIGluaXRpYWxpemluZyBiYXNlIHJlcXVlc3QgaW4gQmFzZUludGVyYWN0aW9uQ2xpZW50IChtc2FsLWJyb3dzZXIpXHJcbiAgICAgKi9cclxuICAgIEluaXRpYWxpemVCYXNlUmVxdWVzdDogXCJpbml0aWFsaXplQmFzZVJlcXVlc3RcIixcclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgQVBJIGZvciBpbml0aWFsaXppbmcgc2lsZW50IHJlcXVlc3QgaW4gU2lsZW50Q2FjaGVDbGllbnQgKG1zYWwtYnJvd3NlcilcclxuICAgICAqL1xyXG4gICAgSW5pdGlhbGl6ZVNpbGVudFJlcXVlc3Q6IFwiaW5pdGlhbGl6ZVNpbGVudFJlcXVlc3RcIixcclxuICAgIEluaXRpYWxpemVDbGllbnRBcHBsaWNhdGlvbjogXCJpbml0aWFsaXplQ2xpZW50QXBwbGljYXRpb25cIixcclxuICAgIC8qKlxyXG4gICAgICogSGVscGVyIGZ1bmN0aW9uIGluIFNpbGVudElmcmFtZUNsaWVudCBjbGFzcyAobXNhbC1icm93c2VyKS5cclxuICAgICAqL1xyXG4gICAgU2lsZW50SWZyYW1lQ2xpZW50VG9rZW5IZWxwZXI6IFwic2lsZW50SWZyYW1lQ2xpZW50VG9rZW5IZWxwZXJcIixcclxuICAgIC8qKlxyXG4gICAgICogU2lsZW50SGFuZGxlclxyXG4gICAgICovXHJcbiAgICBTaWxlbnRIYW5kbGVySW5pdGlhdGVBdXRoUmVxdWVzdDogXCJzaWxlbnRIYW5kbGVySW5pdGlhdGVBdXRoUmVxdWVzdFwiLFxyXG4gICAgU2lsZW50SGFuZGxlck1vbml0b3JJZnJhbWVGb3JIYXNoOiBcInNpbGVudEhhbmRsZXJNb25pdG9ySWZyYW1lRm9ySGFzaFwiLFxyXG4gICAgU2lsZW50SGFuZGxlckxvYWRGcmFtZTogXCJzaWxlbnRIYW5kbGVyTG9hZEZyYW1lXCIsXHJcbiAgICBTaWxlbnRIYW5kbGVyTG9hZEZyYW1lU3luYzogXCJzaWxlbnRIYW5kbGVyTG9hZEZyYW1lU3luY1wiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBIZWxwZXIgZnVuY3Rpb25zIGluIFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnQgY2xhc3MgKG1zYWwtYnJvd3NlcilcclxuICAgICAqL1xyXG4gICAgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudENyZWF0ZUF1dGhDb2RlQ2xpZW50OiBcInN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRDcmVhdGVBdXRoQ29kZUNsaWVudFwiLFxyXG4gICAgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEdldENsaWVudENvbmZpZ3VyYXRpb246IFwic3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEdldENsaWVudENvbmZpZ3VyYXRpb25cIixcclxuICAgIFN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRJbml0aWFsaXplQXV0aG9yaXphdGlvblJlcXVlc3Q6IFwic3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdFwiLFxyXG4gICAgU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEluaXRpYWxpemVBdXRob3JpemF0aW9uQ29kZVJlcXVlc3Q6IFwic3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEluaXRpYWxpemVBdXRob3JpemF0aW9uQ29kZVJlcXVlc3RcIixcclxuICAgIC8qKlxyXG4gICAgICogZ2V0QXV0aENvZGVVcmwgQVBJIChtc2FsLWJyb3dzZXIgYW5kIG1zYWwtbm9kZSkuXHJcbiAgICAgKi9cclxuICAgIEdldEF1dGhDb2RlVXJsOiBcImdldEF1dGhDb2RlVXJsXCIsXHJcbiAgICAvKipcclxuICAgICAqIEZ1bmN0aW9ucyBmcm9tIEludGVyYWN0aW9uSGFuZGxlciAobXNhbC1icm93c2VyKVxyXG4gICAgICovXHJcbiAgICBIYW5kbGVDb2RlUmVzcG9uc2VGcm9tU2VydmVyOiBcImhhbmRsZUNvZGVSZXNwb25zZUZyb21TZXJ2ZXJcIixcclxuICAgIEhhbmRsZUNvZGVSZXNwb25zZTogXCJoYW5kbGVDb2RlUmVzcG9uc2VcIixcclxuICAgIFVwZGF0ZVRva2VuRW5kcG9pbnRBdXRob3JpdHk6IFwidXBkYXRlVG9rZW5FbmRwb2ludEF1dGhvcml0eVwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBBUElzIGluIEF1dGhvcml6YXRpb24gQ29kZSBDbGllbnQgKG1zYWwtY29tbW9uKVxyXG4gICAgICovXHJcbiAgICBBdXRoQ2xpZW50QWNxdWlyZVRva2VuOiBcImF1dGhDbGllbnRBY3F1aXJlVG9rZW5cIixcclxuICAgIEF1dGhDbGllbnRFeGVjdXRlVG9rZW5SZXF1ZXN0OiBcImF1dGhDbGllbnRFeGVjdXRlVG9rZW5SZXF1ZXN0XCIsXHJcbiAgICBBdXRoQ2xpZW50Q3JlYXRlVG9rZW5SZXF1ZXN0Qm9keTogXCJhdXRoQ2xpZW50Q3JlYXRlVG9rZW5SZXF1ZXN0Qm9keVwiLFxyXG4gICAgQXV0aENsaWVudENyZWF0ZVF1ZXJ5U3RyaW5nOiBcImF1dGhDbGllbnRDcmVhdGVRdWVyeVN0cmluZ1wiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBHZW5lcmF0ZSBmdW5jdGlvbnMgaW4gUG9wVG9rZW5HZW5lcmF0b3IgKG1zYWwtY29tbW9uKVxyXG4gICAgICovXHJcbiAgICBQb3BUb2tlbkdlbmVyYXRlQ25mOiBcInBvcFRva2VuR2VuZXJhdGVDbmZcIixcclxuICAgIFBvcFRva2VuR2VuZXJhdGVLaWQ6IFwicG9wVG9rZW5HZW5lcmF0ZUtpZFwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBoYW5kbGVTZXJ2ZXJUb2tlblJlc3BvbnNlIEFQSSBpbiBSZXNwb25zZUhhbmRsZXIgKG1zYWwtY29tbW9uKVxyXG4gICAgICovXHJcbiAgICBIYW5kbGVTZXJ2ZXJUb2tlblJlc3BvbnNlOiBcImhhbmRsZVNlcnZlclRva2VuUmVzcG9uc2VcIixcclxuICAgIERlc2VyaWFsaXplUmVzcG9uc2U6IFwiZGVzZXJpYWxpemVSZXNwb25zZVwiLFxyXG4gICAgLyoqXHJcbiAgICAgKiBBdXRob3JpdHkgZnVuY3Rpb25zXHJcbiAgICAgKi9cclxuICAgIEF1dGhvcml0eUZhY3RvcnlDcmVhdGVEaXNjb3ZlcmVkSW5zdGFuY2U6IFwiYXV0aG9yaXR5RmFjdG9yeUNyZWF0ZURpc2NvdmVyZWRJbnN0YW5jZVwiLFxyXG4gICAgQXV0aG9yaXR5UmVzb2x2ZUVuZHBvaW50c0FzeW5jOiBcImF1dGhvcml0eVJlc29sdmVFbmRwb2ludHNBc3luY1wiLFxyXG4gICAgQXV0aG9yaXR5UmVzb2x2ZUVuZHBvaW50c0Zyb21Mb2NhbFNvdXJjZXM6IFwiYXV0aG9yaXR5UmVzb2x2ZUVuZHBvaW50c0Zyb21Mb2NhbFNvdXJjZXNcIixcclxuICAgIEF1dGhvcml0eUdldENsb3VkRGlzY292ZXJ5TWV0YWRhdGFGcm9tTmV0d29yazogXCJhdXRob3JpdHlHZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbU5ldHdvcmtcIixcclxuICAgIEF1dGhvcml0eVVwZGF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGE6IFwiYXV0aG9yaXR5VXBkYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YVwiLFxyXG4gICAgQXV0aG9yaXR5R2V0RW5kcG9pbnRNZXRhZGF0YUZyb21OZXR3b3JrOiBcImF1dGhvcml0eUdldEVuZHBvaW50TWV0YWRhdGFGcm9tTmV0d29ya1wiLFxyXG4gICAgQXV0aG9yaXR5VXBkYXRlRW5kcG9pbnRNZXRhZGF0YTogXCJhdXRob3JpdHlVcGRhdGVFbmRwb2ludE1ldGFkYXRhXCIsXHJcbiAgICBBdXRob3JpdHlVcGRhdGVNZXRhZGF0YVdpdGhSZWdpb25hbEluZm9ybWF0aW9uOiBcImF1dGhvcml0eVVwZGF0ZU1ldGFkYXRhV2l0aFJlZ2lvbmFsSW5mb3JtYXRpb25cIixcclxuICAgIC8qKlxyXG4gICAgICogUmVnaW9uIERpc2NvdmVyeSBmdW5jdGlvbnNcclxuICAgICAqL1xyXG4gICAgUmVnaW9uRGlzY292ZXJ5RGV0ZWN0UmVnaW9uOiBcInJlZ2lvbkRpc2NvdmVyeURldGVjdFJlZ2lvblwiLFxyXG4gICAgUmVnaW9uRGlzY292ZXJ5R2V0UmVnaW9uRnJvbUlNRFM6IFwicmVnaW9uRGlzY292ZXJ5R2V0UmVnaW9uRnJvbUlNRFNcIixcclxuICAgIFJlZ2lvbkRpc2NvdmVyeUdldEN1cnJlbnRWZXJzaW9uOiBcInJlZ2lvbkRpc2NvdmVyeUdldEN1cnJlbnRWZXJzaW9uXCIsXHJcbiAgICBBY3F1aXJlVG9rZW5CeUNvZGVBc3luYzogXCJhY3F1aXJlVG9rZW5CeUNvZGVBc3luY1wiLFxyXG4gICAgR2V0RW5kcG9pbnRNZXRhZGF0YUZyb21OZXR3b3JrOiBcImdldEVuZHBvaW50TWV0YWRhdGFGcm9tTmV0d29ya1wiLFxyXG4gICAgR2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrTWVhc3VyZW1lbnQ6IFwiZ2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrTWVhc3VyZW1lbnRcIixcclxuICAgIEhhbmRsZVJlZGlyZWN0UHJvbWlzZU1lYXN1cmVtZW50OiBcImhhbmRsZVJlZGlyZWN0UHJvbWlzZVwiLFxyXG4gICAgSGFuZGxlTmF0aXZlUmVkaXJlY3RQcm9taXNlTWVhc3VyZW1lbnQ6IFwiaGFuZGxlTmF0aXZlUmVkaXJlY3RQcm9taXNlXCIsXHJcbiAgICBVcGRhdGVDbG91ZERpc2NvdmVyeU1ldGFkYXRhTWVhc3VyZW1lbnQ6IFwidXBkYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YU1lYXN1cmVtZW50XCIsXHJcbiAgICBVc2VybmFtZVBhc3N3b3JkQ2xpZW50QWNxdWlyZVRva2VuOiBcInVzZXJuYW1lUGFzc3dvcmRDbGllbnRBY3F1aXJlVG9rZW5cIixcclxuICAgIE5hdGl2ZU1lc3NhZ2VIYW5kbGVySGFuZHNoYWtlOiBcIm5hdGl2ZU1lc3NhZ2VIYW5kbGVySGFuZHNoYWtlXCIsXHJcbiAgICBOYXRpdmVHZW5lcmF0ZUF1dGhSZXN1bHQ6IFwibmF0aXZlR2VuZXJhdGVBdXRoUmVzdWx0XCIsXHJcbiAgICBSZW1vdmVIaWRkZW5JZnJhbWU6IFwicmVtb3ZlSGlkZGVuSWZyYW1lXCIsXHJcbiAgICAvKipcclxuICAgICAqIENhY2hlIG9wZXJhdGlvbnNcclxuICAgICAqL1xyXG4gICAgQ2xlYXJUb2tlbnNBbmRLZXlzV2l0aENsYWltczogXCJjbGVhclRva2Vuc0FuZEtleXNXaXRoQ2xhaW1zXCIsXHJcbiAgICBDYWNoZU1hbmFnZXJHZXRSZWZyZXNoVG9rZW46IFwiY2FjaGVNYW5hZ2VyR2V0UmVmcmVzaFRva2VuXCIsXHJcbiAgICAvKipcclxuICAgICAqIENyeXB0byBPcGVyYXRpb25zXHJcbiAgICAgKi9cclxuICAgIEdlbmVyYXRlUGtjZUNvZGVzOiBcImdlbmVyYXRlUGtjZUNvZGVzXCIsXHJcbiAgICBHZW5lcmF0ZUNvZGVWZXJpZmllcjogXCJnZW5lcmF0ZUNvZGVWZXJpZmllclwiLFxyXG4gICAgR2VuZXJhdGVDb2RlQ2hhbGxlbmdlRnJvbVZlcmlmaWVyOiBcImdlbmVyYXRlQ29kZUNoYWxsZW5nZUZyb21WZXJpZmllclwiLFxyXG4gICAgU2hhMjU2RGlnZXN0OiBcInNoYTI1NkRpZ2VzdFwiLFxyXG4gICAgR2V0UmFuZG9tVmFsdWVzOiBcImdldFJhbmRvbVZhbHVlc1wiLFxyXG59O1xyXG5jb25zdCBQZXJmb3JtYW5jZUV2ZW50QWJicmV2aWF0aW9ucyA9IG5ldyBNYXAoW1xyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLkFjcXVpcmVUb2tlbkJ5Q29kZSwgXCJBVEJ5Q29kZVwiXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5BY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbiwgXCJBVEJ5UlRcIl0sXHJcbiAgICBbUGVyZm9ybWFuY2VFdmVudHMuQWNxdWlyZVRva2VuU2lsZW50LCBcIkFUU1wiXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5BY3F1aXJlVG9rZW5TaWxlbnRBc3luYywgXCJBVFNBc3luY1wiXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5BY3F1aXJlVG9rZW5Qb3B1cCwgXCJBVFBvcHVwXCJdLFxyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLkFjcXVpcmVUb2tlblJlZGlyZWN0LCBcIkFUUmVkaXJlY3RcIl0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuQ3J5cHRvT3B0c0dldFB1YmxpY0tleVRodW1icHJpbnQsXHJcbiAgICAgICAgXCJDcnlwdG9HZXRQS1RodW1iXCIsXHJcbiAgICBdLFxyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLkNyeXB0b09wdHNTaWduSnd0LCBcIkNyeXB0b1NpZ25Kd3RcIl0sXHJcbiAgICBbUGVyZm9ybWFuY2VFdmVudHMuU2lsZW50Q2FjaGVDbGllbnRBY3F1aXJlVG9rZW4sIFwiU2x0Q2FjaGVDbGllbnRBVFwiXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5TaWxlbnRJZnJhbWVDbGllbnRBY3F1aXJlVG9rZW4sIFwiU2x0SWZyYW1lQ2xpZW50QVRcIl0sXHJcbiAgICBbUGVyZm9ybWFuY2VFdmVudHMuU2lsZW50UmVmcmVzaENsaWVudEFjcXVpcmVUb2tlbiwgXCJTbHRSQ2xpZW50QVRcIl0sXHJcbiAgICBbUGVyZm9ybWFuY2VFdmVudHMuU3NvU2lsZW50LCBcIlNzb1NsdFwiXSxcclxuICAgIFtcclxuICAgICAgICBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50R2V0RGlzY292ZXJlZEF1dGhvcml0eSxcclxuICAgICAgICBcIlN0ZEludENsaWVudEdldERpc2NBdXRoXCIsXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLkZldGNoQWNjb3VudElkV2l0aE5hdGl2ZUJyb2tlcixcclxuICAgICAgICBcIkZldGNoQWNjSWRXaXRoTnR2QnJva2VyXCIsXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLk5hdGl2ZUludGVyYWN0aW9uQ2xpZW50QWNxdWlyZVRva2VuLFxyXG4gICAgICAgIFwiTnR2SW50Q2xpZW50QVRcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuQmFzZUNsaWVudENyZWF0ZVRva2VuUmVxdWVzdEhlYWRlcnMsXHJcbiAgICAgICAgXCJCYXNlQ2xpZW50Q3JlYXRlVFJlcUhlYWRcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuTmV0d29ya0NsaWVudFNlbmRQb3N0UmVxdWVzdEFzeW5jLFxyXG4gICAgICAgIFwiTmV0Q2xpZW50U2VuZFBvc3RcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuUmVmcmVzaFRva2VuQ2xpZW50RXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQsXHJcbiAgICAgICAgXCJSVENsaWVudEV4ZWNQb3N0XCIsXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhvcml6YXRpb25Db2RlQ2xpZW50RXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQsXHJcbiAgICAgICAgXCJBdXRoQ29kZUNsaWVudEV4ZWNQb3N0XCIsXHJcbiAgICBdLFxyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLkJyb2tlckhhbmRoc2hha2UsIFwiQnJva2VySGFuZHNoYWtlXCJdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLkFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuSW5Ccm9rZXIsXHJcbiAgICAgICAgXCJBVEJ5UlRJbkJyb2tlclwiLFxyXG4gICAgXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5BY3F1aXJlVG9rZW5CeUJyb2tlciwgXCJBVEJ5QnJva2VyXCJdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLlJlZnJlc2hUb2tlbkNsaWVudEV4ZWN1dGVUb2tlblJlcXVlc3QsXHJcbiAgICAgICAgXCJSVENsaWVudEV4ZWNUUmVxXCIsXHJcbiAgICBdLFxyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLlJlZnJlc2hUb2tlbkNsaWVudEFjcXVpcmVUb2tlbiwgXCJSVENsaWVudEFUXCJdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLlJlZnJlc2hUb2tlbkNsaWVudEFjcXVpcmVUb2tlbldpdGhDYWNoZWRSZWZyZXNoVG9rZW4sXHJcbiAgICAgICAgXCJSVENsaWVudEFUV2l0aENhY2hlZFJUXCIsXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLlJlZnJlc2hUb2tlbkNsaWVudEFjcXVpcmVUb2tlbkJ5UmVmcmVzaFRva2VuLFxyXG4gICAgICAgIFwiUlRDbGllbnRBVEJ5UlRcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuUmVmcmVzaFRva2VuQ2xpZW50Q3JlYXRlVG9rZW5SZXF1ZXN0Qm9keSxcclxuICAgICAgICBcIlJUQ2xpZW50Q3JlYXRlVFJlcUJvZHlcIixcclxuICAgIF0sXHJcbiAgICBbUGVyZm9ybWFuY2VFdmVudHMuQWNxdWlyZVRva2VuRnJvbUNhY2hlLCBcIkFURnJvbUNhY2hlXCJdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLlNpbGVudEZsb3dDbGllbnRBY3F1aXJlQ2FjaGVkVG9rZW4sXHJcbiAgICAgICAgXCJTbHRGbG93Q2xpZW50QVRDYWNoZWRcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuU2lsZW50Rmxvd0NsaWVudEdlbmVyYXRlUmVzdWx0RnJvbUNhY2hlUmVjb3JkLFxyXG4gICAgICAgIFwiU2x0Rmxvd0NsaWVudEdlblJlc0Zyb21DYWNoZVwiLFxyXG4gICAgXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5BY3F1aXJlVG9rZW5CeVNpbGVudElmcmFtZSwgXCJBVEJ5U2x0SWZyYW1lXCJdLFxyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLkluaXRpYWxpemVCYXNlUmVxdWVzdCwgXCJJbml0QmFzZVJlcVwiXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5Jbml0aWFsaXplU2lsZW50UmVxdWVzdCwgXCJJbml0U2x0UmVxXCJdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLkluaXRpYWxpemVDbGllbnRBcHBsaWNhdGlvbixcclxuICAgICAgICBcIkluaXRDbGllbnRBcHBsaWNhdGlvblwiLFxyXG4gICAgXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5TaWxlbnRJZnJhbWVDbGllbnRUb2tlbkhlbHBlciwgXCJTSUNsaWVudFRIZWxwZXJcIl0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuU2lsZW50SGFuZGxlckluaXRpYXRlQXV0aFJlcXVlc3QsXHJcbiAgICAgICAgXCJTSGFuZGxlckluaXRBdXRoUmVxXCIsXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLlNpbGVudEhhbmRsZXJNb25pdG9ySWZyYW1lRm9ySGFzaCxcclxuICAgICAgICBcIlNsdEhhbmRsZXJNb25pdG9ySWZyYW1lRm9ySGFzaFwiLFxyXG4gICAgXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5TaWxlbnRIYW5kbGVyTG9hZEZyYW1lLCBcIlNIYW5kbGVyTG9hZEZyYW1lXCJdLFxyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLlNpbGVudEhhbmRsZXJMb2FkRnJhbWVTeW5jLCBcIlNIYW5kbGVyTG9hZEZyYW1lU3luY1wiXSxcclxuICAgIFtcclxuICAgICAgICBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50Q3JlYXRlQXV0aENvZGVDbGllbnQsXHJcbiAgICAgICAgXCJTdGRJbnRDbGllbnRDcmVhdGVBdXRoQ29kZUNsaWVudFwiLFxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgICBQZXJmb3JtYW5jZUV2ZW50cy5TdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50R2V0Q2xpZW50Q29uZmlndXJhdGlvbixcclxuICAgICAgICBcIlN0ZEludENsaWVudEdldENsaWVudENvbmZcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuU3RhbmRhcmRJbnRlcmFjdGlvbkNsaWVudEluaXRpYWxpemVBdXRob3JpemF0aW9uUmVxdWVzdCxcclxuICAgICAgICBcIlN0ZEludENsaWVudEluaXRBdXRoUmVxXCIsXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRJbml0aWFsaXplQXV0aG9yaXphdGlvbkNvZGVSZXF1ZXN0LFxyXG4gICAgICAgIFwiU3RkSW50Q2xpZW50SW5pdEF1dGhDb2RlUmVxXCIsXHJcbiAgICBdLFxyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLkdldEF1dGhDb2RlVXJsLCBcIkdldEF1dGhDb2RlVXJsXCJdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLkhhbmRsZUNvZGVSZXNwb25zZUZyb21TZXJ2ZXIsXHJcbiAgICAgICAgXCJIYW5kbGVDb2RlUmVzRnJvbVNlcnZlclwiLFxyXG4gICAgXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5IYW5kbGVDb2RlUmVzcG9uc2UsIFwiSGFuZGxlQ29kZVJlc3BcIl0sXHJcbiAgICBbUGVyZm9ybWFuY2VFdmVudHMuVXBkYXRlVG9rZW5FbmRwb2ludEF1dGhvcml0eSwgXCJVcGRURW5kcG9pbnRBdXRoXCJdLFxyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLkF1dGhDbGllbnRBY3F1aXJlVG9rZW4sIFwiQXV0aENsaWVudEFUXCJdLFxyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLkF1dGhDbGllbnRFeGVjdXRlVG9rZW5SZXF1ZXN0LCBcIkF1dGhDbGllbnRFeGVjVFJlcVwiXSxcclxuICAgIFtcclxuICAgICAgICBQZXJmb3JtYW5jZUV2ZW50cy5BdXRoQ2xpZW50Q3JlYXRlVG9rZW5SZXF1ZXN0Qm9keSxcclxuICAgICAgICBcIkF1dGhDbGllbnRDcmVhdGVUUmVxQm9keVwiLFxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgICBQZXJmb3JtYW5jZUV2ZW50cy5BdXRoQ2xpZW50Q3JlYXRlUXVlcnlTdHJpbmcsXHJcbiAgICAgICAgXCJBdXRoQ2xpZW50Q3JlYXRlUXVlcnlTdHJcIixcclxuICAgIF0sXHJcbiAgICBbUGVyZm9ybWFuY2VFdmVudHMuUG9wVG9rZW5HZW5lcmF0ZUNuZiwgXCJQb3BUR2VuQ25mXCJdLFxyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLlBvcFRva2VuR2VuZXJhdGVLaWQsIFwiUG9wVEdlbktpZFwiXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5IYW5kbGVTZXJ2ZXJUb2tlblJlc3BvbnNlLCBcIkhhbmRsZVNlcnZlclRSZXNcIl0sXHJcbiAgICBbUGVyZm9ybWFuY2VFdmVudHMuRGVzZXJpYWxpemVSZXNwb25zZSwgXCJEZXNlcmlhbGl6ZVJlc1wiXSxcclxuICAgIFtcclxuICAgICAgICBQZXJmb3JtYW5jZUV2ZW50cy5BdXRob3JpdHlGYWN0b3J5Q3JlYXRlRGlzY292ZXJlZEluc3RhbmNlLFxyXG4gICAgICAgIFwiQXV0aEZhY3RDcmVhdGVEaXNjSW5zdFwiLFxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgICBQZXJmb3JtYW5jZUV2ZW50cy5BdXRob3JpdHlSZXNvbHZlRW5kcG9pbnRzQXN5bmMsXHJcbiAgICAgICAgXCJBdXRoUmVzb2x2ZUVuZHBvaW50c0FzeW5jXCIsXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLkF1dGhvcml0eVJlc29sdmVFbmRwb2ludHNGcm9tTG9jYWxTb3VyY2VzLFxyXG4gICAgICAgIFwiQXV0aFJlc29sdmVFbmRwb2ludHNGcm9tTG9jYWxcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuQXV0aG9yaXR5R2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrLFxyXG4gICAgICAgIFwiQXV0aEdldENETWV0YUZyb21OZXRcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuQXV0aG9yaXR5VXBkYXRlQ2xvdWREaXNjb3ZlcnlNZXRhZGF0YSxcclxuICAgICAgICBcIkF1dGhVcGRDRE1ldGFcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuQXV0aG9yaXR5R2V0RW5kcG9pbnRNZXRhZGF0YUZyb21OZXR3b3JrLFxyXG4gICAgICAgIFwiQXV0aFVwZENETWV0YUZyb21OZXRcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuQXV0aG9yaXR5VXBkYXRlRW5kcG9pbnRNZXRhZGF0YSxcclxuICAgICAgICBcIkF1dGhVcGRFbmRwb2ludE1ldGFcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuQXV0aG9yaXR5VXBkYXRlTWV0YWRhdGFXaXRoUmVnaW9uYWxJbmZvcm1hdGlvbixcclxuICAgICAgICBcIkF1dGhVcGRNZXRhV2l0aFJlZ0luZm9cIixcclxuICAgIF0sXHJcbiAgICBbUGVyZm9ybWFuY2VFdmVudHMuUmVnaW9uRGlzY292ZXJ5RGV0ZWN0UmVnaW9uLCBcIlJlZ0Rpc2NEZXRlY3RSZWdcIl0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuUmVnaW9uRGlzY292ZXJ5R2V0UmVnaW9uRnJvbUlNRFMsXHJcbiAgICAgICAgXCJSZWdEaXNjR2V0UmVnRnJvbUlNRFNcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuUmVnaW9uRGlzY292ZXJ5R2V0Q3VycmVudFZlcnNpb24sXHJcbiAgICAgICAgXCJSZWdEaXNjR2V0Q3VycmVudFZlclwiLFxyXG4gICAgXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5BY3F1aXJlVG9rZW5CeUNvZGVBc3luYywgXCJBVEJ5Q29kZUFzeW5jXCJdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLkdldEVuZHBvaW50TWV0YWRhdGFGcm9tTmV0d29yayxcclxuICAgICAgICBcIkdldEVuZHBvaW50TWV0YUZyb21OZXRcIixcclxuICAgIF0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuR2V0Q2xvdWREaXNjb3ZlcnlNZXRhZGF0YUZyb21OZXR3b3JrTWVhc3VyZW1lbnQsXHJcbiAgICAgICAgXCJHZXRDRE1ldGFGcm9tTmV0XCIsXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLkhhbmRsZVJlZGlyZWN0UHJvbWlzZU1lYXN1cmVtZW50LFxyXG4gICAgICAgIFwiSGFuZGxlUmVkaXJlY3RQcm9taXNlXCIsXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLkhhbmRsZU5hdGl2ZVJlZGlyZWN0UHJvbWlzZU1lYXN1cmVtZW50LFxyXG4gICAgICAgIFwiSGFuZGxlTnR2UmVkaXJlY3RQcm9taXNlXCIsXHJcbiAgICBdLFxyXG4gICAgW1xyXG4gICAgICAgIFBlcmZvcm1hbmNlRXZlbnRzLlVwZGF0ZUNsb3VkRGlzY292ZXJ5TWV0YWRhdGFNZWFzdXJlbWVudCxcclxuICAgICAgICBcIlVwZGF0ZUNETWV0YVwiLFxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgICBQZXJmb3JtYW5jZUV2ZW50cy5Vc2VybmFtZVBhc3N3b3JkQ2xpZW50QWNxdWlyZVRva2VuLFxyXG4gICAgICAgIFwiVXNlclBhc3NDbGllbnRBVFwiLFxyXG4gICAgXSxcclxuICAgIFtcclxuICAgICAgICBQZXJmb3JtYW5jZUV2ZW50cy5OYXRpdmVNZXNzYWdlSGFuZGxlckhhbmRzaGFrZSxcclxuICAgICAgICBcIk50dk1zZ0hhbmRsZXJIYW5kc2hha2VcIixcclxuICAgIF0sXHJcbiAgICBbUGVyZm9ybWFuY2VFdmVudHMuTmF0aXZlR2VuZXJhdGVBdXRoUmVzdWx0LCBcIk50dkdlbkF1dGhSZXNcIl0sXHJcbiAgICBbUGVyZm9ybWFuY2VFdmVudHMuUmVtb3ZlSGlkZGVuSWZyYW1lLCBcIlJlbW92ZUhpZGRlbklmcmFtZVwiXSxcclxuICAgIFtcclxuICAgICAgICBQZXJmb3JtYW5jZUV2ZW50cy5DbGVhclRva2Vuc0FuZEtleXNXaXRoQ2xhaW1zLFxyXG4gICAgICAgIFwiQ2xlYXJUQW5kS2V5c1dpdGhDbGFpbXNcIixcclxuICAgIF0sXHJcbiAgICBbUGVyZm9ybWFuY2VFdmVudHMuQ2FjaGVNYW5hZ2VyR2V0UmVmcmVzaFRva2VuLCBcIkNhY2hlTWFuYWdlckdldFJUXCJdLFxyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLkdlbmVyYXRlUGtjZUNvZGVzLCBcIkdlblBrY2VDb2Rlc1wiXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5HZW5lcmF0ZUNvZGVWZXJpZmllciwgXCJHZW5Db2RlVmVyaWZpZXJcIl0sXHJcbiAgICBbXHJcbiAgICAgICAgUGVyZm9ybWFuY2VFdmVudHMuR2VuZXJhdGVDb2RlQ2hhbGxlbmdlRnJvbVZlcmlmaWVyLFxyXG4gICAgICAgIFwiR2VuQ29kZUNoYWxsZW5nZUZyb21WZXJpZmllclwiLFxyXG4gICAgXSxcclxuICAgIFtQZXJmb3JtYW5jZUV2ZW50cy5TaGEyNTZEaWdlc3QsIFwiU2hhMjU2RGlnZXN0XCJdLFxyXG4gICAgW1BlcmZvcm1hbmNlRXZlbnRzLkdldFJhbmRvbVZhbHVlcywgXCJHZXRSYW5kb21WYWx1ZXNcIl0sXHJcbl0pO1xyXG4vKipcclxuICogU3RhdGUgb2YgdGhlIHBlcmZvcm1hbmNlIGV2ZW50LlxyXG4gKlxyXG4gKiBAZXhwb3J0XHJcbiAqIEBlbnVtIHtudW1iZXJ9XHJcbiAqL1xyXG5jb25zdCBQZXJmb3JtYW5jZUV2ZW50U3RhdHVzID0ge1xyXG4gICAgTm90U3RhcnRlZDogMCxcclxuICAgIEluUHJvZ3Jlc3M6IDEsXHJcbiAgICBDb21wbGV0ZWQ6IDIsXHJcbn07XHJcbmNvbnN0IEludEZpZWxkcyA9IG5ldyBTZXQoW1xyXG4gICAgXCJhY2Nlc3NUb2tlblNpemVcIixcclxuICAgIFwiZHVyYXRpb25Nc1wiLFxyXG4gICAgXCJpZFRva2VuU2l6ZVwiLFxyXG4gICAgXCJtYXRzU2lsZW50U3RhdHVzXCIsXHJcbiAgICBcIm1hdHNIdHRwU3RhdHVzXCIsXHJcbiAgICBcInJlZnJlc2hUb2tlblNpemVcIixcclxuICAgIFwicXVldWVkVGltZU1zXCIsXHJcbiAgICBcInN0YXJ0VGltZU1zXCIsXHJcbiAgICBcInN0YXR1c1wiLFxyXG4gICAgXCJtdWx0aU1hdGNoZWRBVFwiLFxyXG4gICAgXCJtdWx0aU1hdGNoZWRJRFwiLFxyXG4gICAgXCJtdWx0aU1hdGNoZWRSVFwiLFxyXG5dKTtcblxuZXhwb3J0IHsgSW50RmllbGRzLCBQZXJmb3JtYW5jZUV2ZW50QWJicmV2aWF0aW9ucywgUGVyZm9ybWFuY2VFdmVudFN0YXR1cywgUGVyZm9ybWFuY2VFdmVudHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVBlcmZvcm1hbmNlRXZlbnQubWpzLm1hcFxuIl0sIm5hbWVzIjpbIlBlcmZvcm1hbmNlRXZlbnRzIiwiQWNxdWlyZVRva2VuQnlDb2RlIiwiQWNxdWlyZVRva2VuQnlSZWZyZXNoVG9rZW4iLCJBY3F1aXJlVG9rZW5TaWxlbnQiLCJBY3F1aXJlVG9rZW5TaWxlbnRBc3luYyIsIkFjcXVpcmVUb2tlblBvcHVwIiwiQWNxdWlyZVRva2VuUHJlUmVkaXJlY3QiLCJBY3F1aXJlVG9rZW5SZWRpcmVjdCIsIkNyeXB0b09wdHNHZXRQdWJsaWNLZXlUaHVtYnByaW50IiwiQ3J5cHRvT3B0c1NpZ25Kd3QiLCJTaWxlbnRDYWNoZUNsaWVudEFjcXVpcmVUb2tlbiIsIlNpbGVudElmcmFtZUNsaWVudEFjcXVpcmVUb2tlbiIsIkF3YWl0Q29uY3VycmVudElmcmFtZSIsIlNpbGVudFJlZnJlc2hDbGllbnRBY3F1aXJlVG9rZW4iLCJTc29TaWxlbnQiLCJTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50R2V0RGlzY292ZXJlZEF1dGhvcml0eSIsIkZldGNoQWNjb3VudElkV2l0aE5hdGl2ZUJyb2tlciIsIk5hdGl2ZUludGVyYWN0aW9uQ2xpZW50QWNxdWlyZVRva2VuIiwiQmFzZUNsaWVudENyZWF0ZVRva2VuUmVxdWVzdEhlYWRlcnMiLCJOZXR3b3JrQ2xpZW50U2VuZFBvc3RSZXF1ZXN0QXN5bmMiLCJSZWZyZXNoVG9rZW5DbGllbnRFeGVjdXRlUG9zdFRvVG9rZW5FbmRwb2ludCIsIkF1dGhvcml6YXRpb25Db2RlQ2xpZW50RXhlY3V0ZVBvc3RUb1Rva2VuRW5kcG9pbnQiLCJCcm9rZXJIYW5kaHNoYWtlIiwiQWNxdWlyZVRva2VuQnlSZWZyZXNoVG9rZW5JbkJyb2tlciIsIkFjcXVpcmVUb2tlbkJ5QnJva2VyIiwiUmVmcmVzaFRva2VuQ2xpZW50RXhlY3V0ZVRva2VuUmVxdWVzdCIsIlJlZnJlc2hUb2tlbkNsaWVudEFjcXVpcmVUb2tlbiIsIlJlZnJlc2hUb2tlbkNsaWVudEFjcXVpcmVUb2tlbldpdGhDYWNoZWRSZWZyZXNoVG9rZW4iLCJSZWZyZXNoVG9rZW5DbGllbnRBY3F1aXJlVG9rZW5CeVJlZnJlc2hUb2tlbiIsIlJlZnJlc2hUb2tlbkNsaWVudENyZWF0ZVRva2VuUmVxdWVzdEJvZHkiLCJBY3F1aXJlVG9rZW5Gcm9tQ2FjaGUiLCJTaWxlbnRGbG93Q2xpZW50QWNxdWlyZUNhY2hlZFRva2VuIiwiU2lsZW50Rmxvd0NsaWVudEdlbmVyYXRlUmVzdWx0RnJvbUNhY2hlUmVjb3JkIiwiQWNxdWlyZVRva2VuQnlTaWxlbnRJZnJhbWUiLCJJbml0aWFsaXplQmFzZVJlcXVlc3QiLCJJbml0aWFsaXplU2lsZW50UmVxdWVzdCIsIkluaXRpYWxpemVDbGllbnRBcHBsaWNhdGlvbiIsIlNpbGVudElmcmFtZUNsaWVudFRva2VuSGVscGVyIiwiU2lsZW50SGFuZGxlckluaXRpYXRlQXV0aFJlcXVlc3QiLCJTaWxlbnRIYW5kbGVyTW9uaXRvcklmcmFtZUZvckhhc2giLCJTaWxlbnRIYW5kbGVyTG9hZEZyYW1lIiwiU2lsZW50SGFuZGxlckxvYWRGcmFtZVN5bmMiLCJTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50Q3JlYXRlQXV0aENvZGVDbGllbnQiLCJTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50R2V0Q2xpZW50Q29uZmlndXJhdGlvbiIsIlN0YW5kYXJkSW50ZXJhY3Rpb25DbGllbnRJbml0aWFsaXplQXV0aG9yaXphdGlvblJlcXVlc3QiLCJTdGFuZGFyZEludGVyYWN0aW9uQ2xpZW50SW5pdGlhbGl6ZUF1dGhvcml6YXRpb25Db2RlUmVxdWVzdCIsIkdldEF1dGhDb2RlVXJsIiwiSGFuZGxlQ29kZVJlc3BvbnNlRnJvbVNlcnZlciIsIkhhbmRsZUNvZGVSZXNwb25zZSIsIlVwZGF0ZVRva2VuRW5kcG9pbnRBdXRob3JpdHkiLCJBdXRoQ2xpZW50QWNxdWlyZVRva2VuIiwiQXV0aENsaWVudEV4ZWN1dGVUb2tlblJlcXVlc3QiLCJBdXRoQ2xpZW50Q3JlYXRlVG9rZW5SZXF1ZXN0Qm9keSIsIkF1dGhDbGllbnRDcmVhdGVRdWVyeVN0cmluZyIsIlBvcFRva2VuR2VuZXJhdGVDbmYiLCJQb3BUb2tlbkdlbmVyYXRlS2lkIiwiSGFuZGxlU2VydmVyVG9rZW5SZXNwb25zZSIsIkRlc2VyaWFsaXplUmVzcG9uc2UiLCJBdXRob3JpdHlGYWN0b3J5Q3JlYXRlRGlzY292ZXJlZEluc3RhbmNlIiwiQXV0aG9yaXR5UmVzb2x2ZUVuZHBvaW50c0FzeW5jIiwiQXV0aG9yaXR5UmVzb2x2ZUVuZHBvaW50c0Zyb21Mb2NhbFNvdXJjZXMiLCJBdXRob3JpdHlHZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbU5ldHdvcmsiLCJBdXRob3JpdHlVcGRhdGVDbG91ZERpc2NvdmVyeU1ldGFkYXRhIiwiQXV0aG9yaXR5R2V0RW5kcG9pbnRNZXRhZGF0YUZyb21OZXR3b3JrIiwiQXV0aG9yaXR5VXBkYXRlRW5kcG9pbnRNZXRhZGF0YSIsIkF1dGhvcml0eVVwZGF0ZU1ldGFkYXRhV2l0aFJlZ2lvbmFsSW5mb3JtYXRpb24iLCJSZWdpb25EaXNjb3ZlcnlEZXRlY3RSZWdpb24iLCJSZWdpb25EaXNjb3ZlcnlHZXRSZWdpb25Gcm9tSU1EUyIsIlJlZ2lvbkRpc2NvdmVyeUdldEN1cnJlbnRWZXJzaW9uIiwiQWNxdWlyZVRva2VuQnlDb2RlQXN5bmMiLCJHZXRFbmRwb2ludE1ldGFkYXRhRnJvbU5ldHdvcmsiLCJHZXRDbG91ZERpc2NvdmVyeU1ldGFkYXRhRnJvbU5ldHdvcmtNZWFzdXJlbWVudCIsIkhhbmRsZVJlZGlyZWN0UHJvbWlzZU1lYXN1cmVtZW50IiwiSGFuZGxlTmF0aXZlUmVkaXJlY3RQcm9taXNlTWVhc3VyZW1lbnQiLCJVcGRhdGVDbG91ZERpc2NvdmVyeU1ldGFkYXRhTWVhc3VyZW1lbnQiLCJVc2VybmFtZVBhc3N3b3JkQ2xpZW50QWNxdWlyZVRva2VuIiwiTmF0aXZlTWVzc2FnZUhhbmRsZXJIYW5kc2hha2UiLCJOYXRpdmVHZW5lcmF0ZUF1dGhSZXN1bHQiLCJSZW1vdmVIaWRkZW5JZnJhbWUiLCJDbGVhclRva2Vuc0FuZEtleXNXaXRoQ2xhaW1zIiwiQ2FjaGVNYW5hZ2VyR2V0UmVmcmVzaFRva2VuIiwiR2VuZXJhdGVQa2NlQ29kZXMiLCJHZW5lcmF0ZUNvZGVWZXJpZmllciIsIkdlbmVyYXRlQ29kZUNoYWxsZW5nZUZyb21WZXJpZmllciIsIlNoYTI1NkRpZ2VzdCIsIkdldFJhbmRvbVZhbHVlcyIsIlBlcmZvcm1hbmNlRXZlbnRBYmJyZXZpYXRpb25zIiwiTWFwIiwiUGVyZm9ybWFuY2VFdmVudFN0YXR1cyIsIk5vdFN0YXJ0ZWQiLCJJblByb2dyZXNzIiwiQ29tcGxldGVkIiwiSW50RmllbGRzIiwiU2V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/StubPerformanceClient.mjs":
/*!**********************************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/telemetry/performance/StubPerformanceClient.mjs ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StubPerformanceClient: () => (/* binding */ StubPerformanceClient),\n/* harmony export */   StubPerformanceMeasurement: () => (/* binding */ StubPerformanceMeasurement)\n/* harmony export */ });\n/* harmony import */ var _PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./PerformanceEvent.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/PerformanceEvent.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ class StubPerformanceMeasurement {\n    startMeasurement() {\n        return;\n    }\n    endMeasurement() {\n        return;\n    }\n    flushMeasurement() {\n        return null;\n    }\n}\nclass StubPerformanceClient {\n    generateId() {\n        return \"callback-id\";\n    }\n    startMeasurement(measureName, correlationId) {\n        return {\n            end: ()=>null,\n            discard: ()=>{},\n            add: ()=>{},\n            increment: ()=>{},\n            event: {\n                eventId: this.generateId(),\n                status: _PerformanceEvent_mjs__WEBPACK_IMPORTED_MODULE_0__.PerformanceEventStatus.InProgress,\n                authority: \"\",\n                libraryName: \"\",\n                libraryVersion: \"\",\n                clientId: \"\",\n                name: measureName,\n                startTimeMs: Date.now(),\n                correlationId: correlationId || \"\"\n            },\n            measurement: new StubPerformanceMeasurement()\n        };\n    }\n    startPerformanceMeasurement() {\n        return new StubPerformanceMeasurement();\n    }\n    calculateQueuedTime() {\n        return 0;\n    }\n    addQueueMeasurement() {\n        return;\n    }\n    setPreQueueTime() {\n        return;\n    }\n    endMeasurement() {\n        return null;\n    }\n    discardMeasurements() {\n        return;\n    }\n    removePerformanceCallback() {\n        return true;\n    }\n    addPerformanceCallback() {\n        return \"\";\n    }\n    emitEvents() {\n        return;\n    }\n    addFields() {\n        return;\n    }\n    incrementFields() {\n        return;\n    }\n    cacheEventByCorrelationId() {\n        return;\n    }\n}\n //# sourceMappingURL=StubPerformanceClient.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdGVsZW1ldHJ5L3BlcmZvcm1hbmNlL1N0dWJQZXJmb3JtYW5jZUNsaWVudC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ2dFO0FBRWhFOzs7Q0FHQyxHQUNELE1BQU1DO0lBQ0ZDLG1CQUFtQjtRQUNmO0lBQ0o7SUFDQUMsaUJBQWlCO1FBQ2I7SUFDSjtJQUNBQyxtQkFBbUI7UUFDZixPQUFPO0lBQ1g7QUFDSjtBQUNBLE1BQU1DO0lBQ0ZDLGFBQWE7UUFDVCxPQUFPO0lBQ1g7SUFDQUosaUJBQWlCSyxXQUFXLEVBQUVDLGFBQWEsRUFBRTtRQUN6QyxPQUFPO1lBQ0hDLEtBQUssSUFBTTtZQUNYQyxTQUFTLEtBQVE7WUFDakJDLEtBQUssS0FBUTtZQUNiQyxXQUFXLEtBQVE7WUFDbkJDLE9BQU87Z0JBQ0hDLFNBQVMsSUFBSSxDQUFDUixVQUFVO2dCQUN4QlMsUUFBUWYseUVBQXNCQSxDQUFDZ0IsVUFBVTtnQkFDekNDLFdBQVc7Z0JBQ1hDLGFBQWE7Z0JBQ2JDLGdCQUFnQjtnQkFDaEJDLFVBQVU7Z0JBQ1ZDLE1BQU1kO2dCQUNOZSxhQUFhQyxLQUFLQyxHQUFHO2dCQUNyQmhCLGVBQWVBLGlCQUFpQjtZQUNwQztZQUNBaUIsYUFBYSxJQUFJeEI7UUFDckI7SUFDSjtJQUNBeUIsOEJBQThCO1FBQzFCLE9BQU8sSUFBSXpCO0lBQ2Y7SUFDQTBCLHNCQUFzQjtRQUNsQixPQUFPO0lBQ1g7SUFDQUMsc0JBQXNCO1FBQ2xCO0lBQ0o7SUFDQUMsa0JBQWtCO1FBQ2Q7SUFDSjtJQUNBMUIsaUJBQWlCO1FBQ2IsT0FBTztJQUNYO0lBQ0EyQixzQkFBc0I7UUFDbEI7SUFDSjtJQUNBQyw0QkFBNEI7UUFDeEIsT0FBTztJQUNYO0lBQ0FDLHlCQUF5QjtRQUNyQixPQUFPO0lBQ1g7SUFDQUMsYUFBYTtRQUNUO0lBQ0o7SUFDQUMsWUFBWTtRQUNSO0lBQ0o7SUFDQUMsa0JBQWtCO1FBQ2Q7SUFDSjtJQUNBQyw0QkFBNEI7UUFDeEI7SUFDSjtBQUNKO0FBRTZELENBQzdELGtEQUFrRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC90ZWxlbWV0cnkvcGVyZm9ybWFuY2UvU3R1YlBlcmZvcm1hbmNlQ2xpZW50Lm1qcz8zMzFjIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuaW1wb3J0IHsgUGVyZm9ybWFuY2VFdmVudFN0YXR1cyB9IGZyb20gJy4vUGVyZm9ybWFuY2VFdmVudC5tanMnO1xuXG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuY2xhc3MgU3R1YlBlcmZvcm1hbmNlTWVhc3VyZW1lbnQge1xyXG4gICAgc3RhcnRNZWFzdXJlbWVudCgpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBlbmRNZWFzdXJlbWVudCgpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBmbHVzaE1lYXN1cmVtZW50KCkge1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG59XHJcbmNsYXNzIFN0dWJQZXJmb3JtYW5jZUNsaWVudCB7XHJcbiAgICBnZW5lcmF0ZUlkKCkge1xyXG4gICAgICAgIHJldHVybiBcImNhbGxiYWNrLWlkXCI7XHJcbiAgICB9XHJcbiAgICBzdGFydE1lYXN1cmVtZW50KG1lYXN1cmVOYW1lLCBjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgZW5kOiAoKSA9PiBudWxsLFxyXG4gICAgICAgICAgICBkaXNjYXJkOiAoKSA9PiB7IH0sXHJcbiAgICAgICAgICAgIGFkZDogKCkgPT4geyB9LFxyXG4gICAgICAgICAgICBpbmNyZW1lbnQ6ICgpID0+IHsgfSxcclxuICAgICAgICAgICAgZXZlbnQ6IHtcclxuICAgICAgICAgICAgICAgIGV2ZW50SWQ6IHRoaXMuZ2VuZXJhdGVJZCgpLFxyXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBQZXJmb3JtYW5jZUV2ZW50U3RhdHVzLkluUHJvZ3Jlc3MsXHJcbiAgICAgICAgICAgICAgICBhdXRob3JpdHk6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBsaWJyYXJ5TmFtZTogXCJcIixcclxuICAgICAgICAgICAgICAgIGxpYnJhcnlWZXJzaW9uOiBcIlwiLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50SWQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgICBuYW1lOiBtZWFzdXJlTmFtZSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZU1zOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgICAgICAgY29ycmVsYXRpb25JZDogY29ycmVsYXRpb25JZCB8fCBcIlwiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBtZWFzdXJlbWVudDogbmV3IFN0dWJQZXJmb3JtYW5jZU1lYXN1cmVtZW50KCksXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIHN0YXJ0UGVyZm9ybWFuY2VNZWFzdXJlbWVudCgpIHtcclxuICAgICAgICByZXR1cm4gbmV3IFN0dWJQZXJmb3JtYW5jZU1lYXN1cmVtZW50KCk7XHJcbiAgICB9XHJcbiAgICBjYWxjdWxhdGVRdWV1ZWRUaW1lKCkge1xyXG4gICAgICAgIHJldHVybiAwO1xyXG4gICAgfVxyXG4gICAgYWRkUXVldWVNZWFzdXJlbWVudCgpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBzZXRQcmVRdWV1ZVRpbWUoKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZW5kTWVhc3VyZW1lbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBkaXNjYXJkTWVhc3VyZW1lbnRzKCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHJlbW92ZVBlcmZvcm1hbmNlQ2FsbGJhY2soKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBhZGRQZXJmb3JtYW5jZUNhbGxiYWNrKCkge1xyXG4gICAgICAgIHJldHVybiBcIlwiO1xyXG4gICAgfVxyXG4gICAgZW1pdEV2ZW50cygpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBhZGRGaWVsZHMoKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaW5jcmVtZW50RmllbGRzKCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNhY2hlRXZlbnRCeUNvcnJlbGF0aW9uSWQoKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IFN0dWJQZXJmb3JtYW5jZUNsaWVudCwgU3R1YlBlcmZvcm1hbmNlTWVhc3VyZW1lbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN0dWJQZXJmb3JtYW5jZUNsaWVudC5tanMubWFwXG4iXSwibmFtZXMiOlsiUGVyZm9ybWFuY2VFdmVudFN0YXR1cyIsIlN0dWJQZXJmb3JtYW5jZU1lYXN1cmVtZW50Iiwic3RhcnRNZWFzdXJlbWVudCIsImVuZE1lYXN1cmVtZW50IiwiZmx1c2hNZWFzdXJlbWVudCIsIlN0dWJQZXJmb3JtYW5jZUNsaWVudCIsImdlbmVyYXRlSWQiLCJtZWFzdXJlTmFtZSIsImNvcnJlbGF0aW9uSWQiLCJlbmQiLCJkaXNjYXJkIiwiYWRkIiwiaW5jcmVtZW50IiwiZXZlbnQiLCJldmVudElkIiwic3RhdHVzIiwiSW5Qcm9ncmVzcyIsImF1dGhvcml0eSIsImxpYnJhcnlOYW1lIiwibGlicmFyeVZlcnNpb24iLCJjbGllbnRJZCIsIm5hbWUiLCJzdGFydFRpbWVNcyIsIkRhdGUiLCJub3ciLCJtZWFzdXJlbWVudCIsInN0YXJ0UGVyZm9ybWFuY2VNZWFzdXJlbWVudCIsImNhbGN1bGF0ZVF1ZXVlZFRpbWUiLCJhZGRRdWV1ZU1lYXN1cmVtZW50Iiwic2V0UHJlUXVldWVUaW1lIiwiZGlzY2FyZE1lYXN1cmVtZW50cyIsInJlbW92ZVBlcmZvcm1hbmNlQ2FsbGJhY2siLCJhZGRQZXJmb3JtYW5jZUNhbGxiYWNrIiwiZW1pdEV2ZW50cyIsImFkZEZpZWxkcyIsImluY3JlbWVudEZpZWxkcyIsImNhY2hlRXZlbnRCeUNvcnJlbGF0aW9uSWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/telemetry/performance/StubPerformanceClient.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs":
/*!******************************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs ***!
  \******************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServerTelemetryManager: () => (/* binding */ ServerTelemetryManager)\n/* harmony export */ });\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _error_AuthError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../error/AuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/AuthError.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const skuGroupSeparator = \",\";\nconst skuValueSeparator = \"|\";\nfunction makeExtraSkuString(params) {\n    const { skus, libraryName, libraryVersion, extensionName, extensionVersion } = params;\n    const skuMap = new Map([\n        [\n            0,\n            [\n                libraryName,\n                libraryVersion\n            ]\n        ],\n        [\n            2,\n            [\n                extensionName,\n                extensionVersion\n            ]\n        ]\n    ]);\n    let skuArr = [];\n    if (skus?.length) {\n        skuArr = skus.split(skuGroupSeparator);\n        // Ignore invalid input sku param\n        if (skuArr.length < 4) {\n            return skus;\n        }\n    } else {\n        skuArr = Array.from({\n            length: 4\n        }, ()=>skuValueSeparator);\n    }\n    skuMap.forEach((value, key)=>{\n        if (value.length === 2 && value[0]?.length && value[1]?.length) {\n            setSku({\n                skuArr,\n                index: key,\n                skuName: value[0],\n                skuVersion: value[1]\n            });\n        }\n    });\n    return skuArr.join(skuGroupSeparator);\n}\nfunction setSku(params) {\n    const { skuArr, index, skuName, skuVersion } = params;\n    if (index >= skuArr.length) {\n        return;\n    }\n    skuArr[index] = [\n        skuName,\n        skuVersion\n    ].join(skuValueSeparator);\n}\n/** @internal */ class ServerTelemetryManager {\n    constructor(telemetryRequest, cacheManager){\n        this.cacheOutcome = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.CacheOutcome.NOT_APPLICABLE;\n        this.cacheManager = cacheManager;\n        this.apiId = telemetryRequest.apiId;\n        this.correlationId = telemetryRequest.correlationId;\n        this.wrapperSKU = telemetryRequest.wrapperSKU || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING;\n        this.wrapperVer = telemetryRequest.wrapperVer || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING;\n        this.telemetryCacheKey = _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.CACHE_KEY + _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Separators.CACHE_KEY_SEPARATOR + telemetryRequest.clientId;\n    }\n    /**\r\n     * API to add MSER Telemetry to request\r\n     */ generateCurrentRequestHeaderValue() {\n        const request = `${this.apiId}${_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR}${this.cacheOutcome}`;\n        const platformFieldsArr = [\n            this.wrapperSKU,\n            this.wrapperVer\n        ];\n        const nativeBrokerErrorCode = this.getNativeBrokerErrorCode();\n        if (nativeBrokerErrorCode?.length) {\n            platformFieldsArr.push(`broker_error=${nativeBrokerErrorCode}`);\n        }\n        const platformFields = platformFieldsArr.join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);\n        const regionDiscoveryFields = this.getRegionDiscoveryFields();\n        const requestWithRegionDiscoveryFields = [\n            request,\n            regionDiscoveryFields\n        ].join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);\n        return [\n            _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.SCHEMA_VERSION,\n            requestWithRegionDiscoveryFields,\n            platformFields\n        ].join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.CATEGORY_SEPARATOR);\n    }\n    /**\r\n     * API to add MSER Telemetry for the last failed request\r\n     */ generateLastRequestHeaderValue() {\n        const lastRequests = this.getLastRequests();\n        const maxErrors = ServerTelemetryManager.maxErrorsToSend(lastRequests);\n        const failedRequests = lastRequests.failedRequests.slice(0, 2 * maxErrors).join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);\n        const errors = lastRequests.errors.slice(0, maxErrors).join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);\n        const errorCount = lastRequests.errors.length;\n        // Indicate whether this header contains all data or partial data\n        const overflow = maxErrors < errorCount ? _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.OVERFLOW_TRUE : _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.OVERFLOW_FALSE;\n        const platformFields = [\n            errorCount,\n            overflow\n        ].join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.VALUE_SEPARATOR);\n        return [\n            _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.SCHEMA_VERSION,\n            lastRequests.cacheHits,\n            failedRequests,\n            errors,\n            platformFields\n        ].join(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.CATEGORY_SEPARATOR);\n    }\n    /**\r\n     * API to cache token failures for MSER data capture\r\n     * @param error\r\n     */ cacheFailedRequest(error) {\n        const lastRequests = this.getLastRequests();\n        if (lastRequests.errors.length >= _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.MAX_CACHED_ERRORS) {\n            // Remove a cached error to make room, first in first out\n            lastRequests.failedRequests.shift(); // apiId\n            lastRequests.failedRequests.shift(); // correlationId\n            lastRequests.errors.shift();\n        }\n        lastRequests.failedRequests.push(this.apiId, this.correlationId);\n        if (error instanceof Error && !!error && error.toString()) {\n            if (error instanceof _error_AuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.AuthError) {\n                if (error.subError) {\n                    lastRequests.errors.push(error.subError);\n                } else if (error.errorCode) {\n                    lastRequests.errors.push(error.errorCode);\n                } else {\n                    lastRequests.errors.push(error.toString());\n                }\n            } else {\n                lastRequests.errors.push(error.toString());\n            }\n        } else {\n            lastRequests.errors.push(_utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.UNKNOWN_ERROR);\n        }\n        this.cacheManager.setServerTelemetry(this.telemetryCacheKey, lastRequests);\n        return;\n    }\n    /**\r\n     * Update server telemetry cache entry by incrementing cache hit counter\r\n     */ incrementCacheHits() {\n        const lastRequests = this.getLastRequests();\n        lastRequests.cacheHits += 1;\n        this.cacheManager.setServerTelemetry(this.telemetryCacheKey, lastRequests);\n        return lastRequests.cacheHits;\n    }\n    /**\r\n     * Get the server telemetry entity from cache or initialize a new one\r\n     */ getLastRequests() {\n        const initialValue = {\n            failedRequests: [],\n            errors: [],\n            cacheHits: 0\n        };\n        const lastRequests = this.cacheManager.getServerTelemetry(this.telemetryCacheKey);\n        return lastRequests || initialValue;\n    }\n    /**\r\n     * Remove server telemetry cache entry\r\n     */ clearTelemetryCache() {\n        const lastRequests = this.getLastRequests();\n        const numErrorsFlushed = ServerTelemetryManager.maxErrorsToSend(lastRequests);\n        const errorCount = lastRequests.errors.length;\n        if (numErrorsFlushed === errorCount) {\n            // All errors were sent on last request, clear Telemetry cache\n            this.cacheManager.removeItem(this.telemetryCacheKey);\n        } else {\n            // Partial data was flushed to server, construct a new telemetry cache item with errors that were not flushed\n            const serverTelemEntity = {\n                failedRequests: lastRequests.failedRequests.slice(numErrorsFlushed * 2),\n                errors: lastRequests.errors.slice(numErrorsFlushed),\n                cacheHits: 0\n            };\n            this.cacheManager.setServerTelemetry(this.telemetryCacheKey, serverTelemEntity);\n        }\n    }\n    /**\r\n     * Returns the maximum number of errors that can be flushed to the server in the next network request\r\n     * @param serverTelemetryEntity\r\n     */ static maxErrorsToSend(serverTelemetryEntity) {\n        let i;\n        let maxErrors = 0;\n        let dataSize = 0;\n        const errorCount = serverTelemetryEntity.errors.length;\n        for(i = 0; i < errorCount; i++){\n            // failedRequests parameter contains pairs of apiId and correlationId, multiply index by 2 to preserve pairs\n            const apiId = serverTelemetryEntity.failedRequests[2 * i] || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING;\n            const correlationId = serverTelemetryEntity.failedRequests[2 * i + 1] || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING;\n            const errorCode = serverTelemetryEntity.errors[i] || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING;\n            // Count number of characters that would be added to header, each character is 1 byte. Add 3 at the end to account for separators\n            dataSize += apiId.toString().length + correlationId.toString().length + errorCode.length + 3;\n            if (dataSize < _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.SERVER_TELEM_CONSTANTS.MAX_LAST_HEADER_BYTES) {\n                // Adding this entry to the header would still keep header size below the limit\n                maxErrors += 1;\n            } else {\n                break;\n            }\n        }\n        return maxErrors;\n    }\n    /**\r\n     * Get the region discovery fields\r\n     *\r\n     * @returns string\r\n     */ getRegionDiscoveryFields() {\n        const regionDiscoveryFields = [];\n        regionDiscoveryFields.push(this.regionUsed || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING);\n        regionDiscoveryFields.push(this.regionSource || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING);\n        regionDiscoveryFields.push(this.regionOutcome || _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING);\n        return regionDiscoveryFields.join(\",\");\n    }\n    /**\r\n     * Update the region discovery metadata\r\n     *\r\n     * @param regionDiscoveryMetadata\r\n     * @returns void\r\n     */ updateRegionDiscoveryMetadata(regionDiscoveryMetadata) {\n        this.regionUsed = regionDiscoveryMetadata.region_used;\n        this.regionSource = regionDiscoveryMetadata.region_source;\n        this.regionOutcome = regionDiscoveryMetadata.region_outcome;\n    }\n    /**\r\n     * Set cache outcome\r\n     */ setCacheOutcome(cacheOutcome) {\n        this.cacheOutcome = cacheOutcome;\n    }\n    setNativeBrokerErrorCode(errorCode) {\n        const lastRequests = this.getLastRequests();\n        lastRequests.nativeBrokerErrorCode = errorCode;\n        this.cacheManager.setServerTelemetry(this.telemetryCacheKey, lastRequests);\n    }\n    getNativeBrokerErrorCode() {\n        return this.getLastRequests().nativeBrokerErrorCode;\n    }\n    clearNativeBrokerErrorCode() {\n        const lastRequests = this.getLastRequests();\n        delete lastRequests.nativeBrokerErrorCode;\n        this.cacheManager.setServerTelemetry(this.telemetryCacheKey, lastRequests);\n    }\n    static makeExtraSkuString(params) {\n        return makeExtraSkuString(params);\n    }\n}\n //# sourceMappingURL=ServerTelemetryManager.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdGVsZW1ldHJ5L3NlcnZlci9TZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDd0c7QUFDbEQ7QUFFdEQ7OztDQUdDLEdBQ0QsTUFBTUssb0JBQW9CO0FBQzFCLE1BQU1DLG9CQUFvQjtBQUMxQixTQUFTQyxtQkFBbUJDLE1BQU07SUFDOUIsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLFdBQVcsRUFBRUMsY0FBYyxFQUFFQyxhQUFhLEVBQUVDLGdCQUFnQixFQUFHLEdBQUdMO0lBQ2hGLE1BQU1NLFNBQVMsSUFBSUMsSUFBSTtRQUNuQjtZQUFDO1lBQUc7Z0JBQUNMO2dCQUFhQzthQUFlO1NBQUM7UUFDbEM7WUFBQztZQUFHO2dCQUFDQztnQkFBZUM7YUFBaUI7U0FBQztLQUN6QztJQUNELElBQUlHLFNBQVMsRUFBRTtJQUNmLElBQUlQLE1BQU1RLFFBQVE7UUFDZEQsU0FBU1AsS0FBS1MsS0FBSyxDQUFDYjtRQUNwQixpQ0FBaUM7UUFDakMsSUFBSVcsT0FBT0MsTUFBTSxHQUFHLEdBQUc7WUFDbkIsT0FBT1I7UUFDWDtJQUNKLE9BQ0s7UUFDRE8sU0FBU0csTUFBTUMsSUFBSSxDQUFDO1lBQUVILFFBQVE7UUFBRSxHQUFHLElBQU1YO0lBQzdDO0lBQ0FRLE9BQU9PLE9BQU8sQ0FBQyxDQUFDQyxPQUFPQztRQUNuQixJQUFJRCxNQUFNTCxNQUFNLEtBQUssS0FBS0ssS0FBSyxDQUFDLEVBQUUsRUFBRUwsVUFBVUssS0FBSyxDQUFDLEVBQUUsRUFBRUwsUUFBUTtZQUM1RE8sT0FBTztnQkFDSFI7Z0JBQ0FTLE9BQU9GO2dCQUNQRyxTQUFTSixLQUFLLENBQUMsRUFBRTtnQkFDakJLLFlBQVlMLEtBQUssQ0FBQyxFQUFFO1lBQ3hCO1FBQ0o7SUFDSjtJQUNBLE9BQU9OLE9BQU9ZLElBQUksQ0FBQ3ZCO0FBQ3ZCO0FBQ0Es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QyxZQUFZO1FBQ3ZFLE9BQU9jLHNCQUFzQnhCLElBQUksQ0FBQztJQUN0QztJQUNBOzs7OztLQUtDLEdBQ0RrRSw4QkFBOEJDLHVCQUF1QixFQUFFO1FBQ25ELElBQUksQ0FBQ0osVUFBVSxHQUFHSSx3QkFBd0JDLFdBQVc7UUFDckQsSUFBSSxDQUFDSixZQUFZLEdBQUdHLHdCQUF3QkUsYUFBYTtRQUN6RCxJQUFJLENBQUNKLGFBQWEsR0FBR0Usd0JBQXdCRyxjQUFjO0lBQy9EO0lBQ0E7O0tBRUMsR0FDREMsZ0JBQWdCbEUsWUFBWSxFQUFFO1FBQzFCLElBQUksQ0FBQ0EsWUFBWSxHQUFHQTtJQUN4QjtJQUNBbUUseUJBQXlCdkIsU0FBUyxFQUFFO1FBQ2hDLE1BQU1uQixlQUFlLElBQUksQ0FBQ0MsZUFBZTtRQUN6Q0QsYUFBYVYscUJBQXFCLEdBQUc2QjtRQUNyQyxJQUFJLENBQUM3QyxZQUFZLENBQUMrQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUN2QyxpQkFBaUIsRUFBRWtCO0lBQ2pFO0lBQ0FULDJCQUEyQjtRQUN2QixPQUFPLElBQUksQ0FBQ1UsZUFBZSxHQUFHWCxxQkFBcUI7SUFDdkQ7SUFDQXFELDZCQUE2QjtRQUN6QixNQUFNM0MsZUFBZSxJQUFJLENBQUNDLGVBQWU7UUFDekMsT0FBT0QsYUFBYVYscUJBQXFCO1FBQ3pDLElBQUksQ0FBQ2hCLFlBQVksQ0FBQytDLGtCQUFrQixDQUFDLElBQUksQ0FBQ3ZDLGlCQUFpQixFQUFFa0I7SUFDakU7SUFDQSxPQUFPbkQsbUJBQW1CQyxNQUFNLEVBQUU7UUFDOUIsT0FBT0QsbUJBQW1CQztJQUM5QjtBQUNKO0FBRWtDLENBQ2xDLG1EQUFtRCIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC90ZWxlbWV0cnkvc2VydmVyL1NlcnZlclRlbGVtZXRyeU1hbmFnZXIubWpzP2I4MTAiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBDYWNoZU91dGNvbWUsIENvbnN0YW50cywgU0VSVkVSX1RFTEVNX0NPTlNUQU5UUywgU2VwYXJhdG9ycyB9IGZyb20gJy4uLy4uL3V0aWxzL0NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgQXV0aEVycm9yIH0gZnJvbSAnLi4vLi4vZXJyb3IvQXV0aEVycm9yLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBza3VHcm91cFNlcGFyYXRvciA9IFwiLFwiO1xyXG5jb25zdCBza3VWYWx1ZVNlcGFyYXRvciA9IFwifFwiO1xyXG5mdW5jdGlvbiBtYWtlRXh0cmFTa3VTdHJpbmcocGFyYW1zKSB7XHJcbiAgICBjb25zdCB7IHNrdXMsIGxpYnJhcnlOYW1lLCBsaWJyYXJ5VmVyc2lvbiwgZXh0ZW5zaW9uTmFtZSwgZXh0ZW5zaW9uVmVyc2lvbiwgfSA9IHBhcmFtcztcclxuICAgIGNvbnN0IHNrdU1hcCA9IG5ldyBNYXAoW1xyXG4gICAgICAgIFswLCBbbGlicmFyeU5hbWUsIGxpYnJhcnlWZXJzaW9uXV0sXHJcbiAgICAgICAgWzIsIFtleHRlbnNpb25OYW1lLCBleHRlbnNpb25WZXJzaW9uXV0sXHJcbiAgICBdKTtcclxuICAgIGxldCBza3VBcnIgPSBbXTtcclxuICAgIGlmIChza3VzPy5sZW5ndGgpIHtcclxuICAgICAgICBza3VBcnIgPSBza3VzLnNwbGl0KHNrdUdyb3VwU2VwYXJhdG9yKTtcclxuICAgICAgICAvLyBJZ25vcmUgaW52YWxpZCBpbnB1dCBza3UgcGFyYW1cclxuICAgICAgICBpZiAoc2t1QXJyLmxlbmd0aCA8IDQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNrdXM7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgc2t1QXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogNCB9LCAoKSA9PiBza3VWYWx1ZVNlcGFyYXRvcik7XHJcbiAgICB9XHJcbiAgICBza3VNYXAuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xyXG4gICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT09IDIgJiYgdmFsdWVbMF0/Lmxlbmd0aCAmJiB2YWx1ZVsxXT8ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHNldFNrdSh7XHJcbiAgICAgICAgICAgICAgICBza3VBcnIsXHJcbiAgICAgICAgICAgICAgICBpbmRleDoga2V5LFxyXG4gICAgICAgICAgICAgICAgc2t1TmFtZTogdmFsdWVbMF0sXHJcbiAgICAgICAgICAgICAgICBza3VWZXJzaW9uOiB2YWx1ZVsxXSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gc2t1QXJyLmpvaW4oc2t1R3JvdXBTZXBhcmF0b3IpO1xyXG59XHJcbmZ1bmN0aW9uIHNldFNrdShwYXJhbXMpIHtcclxuICAgIGNvbnN0IHsgc2t1QXJyLCBpbmRleCwgc2t1TmFtZSwgc2t1VmVyc2lvbiB9ID0gcGFyYW1zO1xyXG4gICAgaWYgKGluZGV4ID49IHNrdUFyci5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBza3VBcnJbaW5kZXhdID0gW3NrdU5hbWUsIHNrdVZlcnNpb25dLmpvaW4oc2t1VmFsdWVTZXBhcmF0b3IpO1xyXG59XHJcbi8qKiBAaW50ZXJuYWwgKi9cclxuY2xhc3MgU2VydmVyVGVsZW1ldHJ5TWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0ZWxlbWV0cnlSZXF1ZXN0LCBjYWNoZU1hbmFnZXIpIHtcclxuICAgICAgICB0aGlzLmNhY2hlT3V0Y29tZSA9IENhY2hlT3V0Y29tZS5OT1RfQVBQTElDQUJMRTtcclxuICAgICAgICB0aGlzLmNhY2hlTWFuYWdlciA9IGNhY2hlTWFuYWdlcjtcclxuICAgICAgICB0aGlzLmFwaUlkID0gdGVsZW1ldHJ5UmVxdWVzdC5hcGlJZDtcclxuICAgICAgICB0aGlzLmNvcnJlbGF0aW9uSWQgPSB0ZWxlbWV0cnlSZXF1ZXN0LmNvcnJlbGF0aW9uSWQ7XHJcbiAgICAgICAgdGhpcy53cmFwcGVyU0tVID0gdGVsZW1ldHJ5UmVxdWVzdC53cmFwcGVyU0tVIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgdGhpcy53cmFwcGVyVmVyID0gdGVsZW1ldHJ5UmVxdWVzdC53cmFwcGVyVmVyIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgdGhpcy50ZWxlbWV0cnlDYWNoZUtleSA9XHJcbiAgICAgICAgICAgIFNFUlZFUl9URUxFTV9DT05TVEFOVFMuQ0FDSEVfS0VZICtcclxuICAgICAgICAgICAgICAgIFNlcGFyYXRvcnMuQ0FDSEVfS0VZX1NFUEFSQVRPUiArXHJcbiAgICAgICAgICAgICAgICB0ZWxlbWV0cnlSZXF1ZXN0LmNsaWVudElkO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBUEkgdG8gYWRkIE1TRVIgVGVsZW1ldHJ5IHRvIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgZ2VuZXJhdGVDdXJyZW50UmVxdWVzdEhlYWRlclZhbHVlKCkge1xyXG4gICAgICAgIGNvbnN0IHJlcXVlc3QgPSBgJHt0aGlzLmFwaUlkfSR7U0VSVkVSX1RFTEVNX0NPTlNUQU5UUy5WQUxVRV9TRVBBUkFUT1J9JHt0aGlzLmNhY2hlT3V0Y29tZX1gO1xyXG4gICAgICAgIGNvbnN0IHBsYXRmb3JtRmllbGRzQXJyID0gW3RoaXMud3JhcHBlclNLVSwgdGhpcy53cmFwcGVyVmVyXTtcclxuICAgICAgICBjb25zdCBuYXRpdmVCcm9rZXJFcnJvckNvZGUgPSB0aGlzLmdldE5hdGl2ZUJyb2tlckVycm9yQ29kZSgpO1xyXG4gICAgICAgIGlmIChuYXRpdmVCcm9rZXJFcnJvckNvZGU/Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICBwbGF0Zm9ybUZpZWxkc0Fyci5wdXNoKGBicm9rZXJfZXJyb3I9JHtuYXRpdmVCcm9rZXJFcnJvckNvZGV9YCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHBsYXRmb3JtRmllbGRzID0gcGxhdGZvcm1GaWVsZHNBcnIuam9pbihTRVJWRVJfVEVMRU1fQ09OU1RBTlRTLlZBTFVFX1NFUEFSQVRPUik7XHJcbiAgICAgICAgY29uc3QgcmVnaW9uRGlzY292ZXJ5RmllbGRzID0gdGhpcy5nZXRSZWdpb25EaXNjb3ZlcnlGaWVsZHMoKTtcclxuICAgICAgICBjb25zdCByZXF1ZXN0V2l0aFJlZ2lvbkRpc2NvdmVyeUZpZWxkcyA9IFtcclxuICAgICAgICAgICAgcmVxdWVzdCxcclxuICAgICAgICAgICAgcmVnaW9uRGlzY292ZXJ5RmllbGRzLFxyXG4gICAgICAgIF0uam9pbihTRVJWRVJfVEVMRU1fQ09OU1RBTlRTLlZBTFVFX1NFUEFSQVRPUik7XHJcbiAgICAgICAgcmV0dXJuIFtcclxuICAgICAgICAgICAgU0VSVkVSX1RFTEVNX0NPTlNUQU5UUy5TQ0hFTUFfVkVSU0lPTixcclxuICAgICAgICAgICAgcmVxdWVzdFdpdGhSZWdpb25EaXNjb3ZlcnlGaWVsZHMsXHJcbiAgICAgICAgICAgIHBsYXRmb3JtRmllbGRzLFxyXG4gICAgICAgIF0uam9pbihTRVJWRVJfVEVMRU1fQ09OU1RBTlRTLkNBVEVHT1JZX1NFUEFSQVRPUik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEFQSSB0byBhZGQgTVNFUiBUZWxlbWV0cnkgZm9yIHRoZSBsYXN0IGZhaWxlZCByZXF1ZXN0XHJcbiAgICAgKi9cclxuICAgIGdlbmVyYXRlTGFzdFJlcXVlc3RIZWFkZXJWYWx1ZSgpIHtcclxuICAgICAgICBjb25zdCBsYXN0UmVxdWVzdHMgPSB0aGlzLmdldExhc3RSZXF1ZXN0cygpO1xyXG4gICAgICAgIGNvbnN0IG1heEVycm9ycyA9IFNlcnZlclRlbGVtZXRyeU1hbmFnZXIubWF4RXJyb3JzVG9TZW5kKGxhc3RSZXF1ZXN0cyk7XHJcbiAgICAgICAgY29uc3QgZmFpbGVkUmVxdWVzdHMgPSBsYXN0UmVxdWVzdHMuZmFpbGVkUmVxdWVzdHNcclxuICAgICAgICAgICAgLnNsaWNlKDAsIDIgKiBtYXhFcnJvcnMpXHJcbiAgICAgICAgICAgIC5qb2luKFNFUlZFUl9URUxFTV9DT05TVEFOVFMuVkFMVUVfU0VQQVJBVE9SKTtcclxuICAgICAgICBjb25zdCBlcnJvcnMgPSBsYXN0UmVxdWVzdHMuZXJyb3JzXHJcbiAgICAgICAgICAgIC5zbGljZSgwLCBtYXhFcnJvcnMpXHJcbiAgICAgICAgICAgIC5qb2luKFNFUlZFUl9URUxFTV9DT05TVEFOVFMuVkFMVUVfU0VQQVJBVE9SKTtcclxuICAgICAgICBjb25zdCBlcnJvckNvdW50ID0gbGFzdFJlcXVlc3RzLmVycm9ycy5sZW5ndGg7XHJcbiAgICAgICAgLy8gSW5kaWNhdGUgd2hldGhlciB0aGlzIGhlYWRlciBjb250YWlucyBhbGwgZGF0YSBvciBwYXJ0aWFsIGRhdGFcclxuICAgICAgICBjb25zdCBvdmVyZmxvdyA9IG1heEVycm9ycyA8IGVycm9yQ291bnRcclxuICAgICAgICAgICAgPyBTRVJWRVJfVEVMRU1fQ09OU1RBTlRTLk9WRVJGTE9XX1RSVUVcclxuICAgICAgICAgICAgOiBTRVJWRVJfVEVMRU1fQ09OU1RBTlRTLk9WRVJGTE9XX0ZBTFNFO1xyXG4gICAgICAgIGNvbnN0IHBsYXRmb3JtRmllbGRzID0gW2Vycm9yQ291bnQsIG92ZXJmbG93XS5qb2luKFNFUlZFUl9URUxFTV9DT05TVEFOVFMuVkFMVUVfU0VQQVJBVE9SKTtcclxuICAgICAgICByZXR1cm4gW1xyXG4gICAgICAgICAgICBTRVJWRVJfVEVMRU1fQ09OU1RBTlRTLlNDSEVNQV9WRVJTSU9OLFxyXG4gICAgICAgICAgICBsYXN0UmVxdWVzdHMuY2FjaGVIaXRzLFxyXG4gICAgICAgICAgICBmYWlsZWRSZXF1ZXN0cyxcclxuICAgICAgICAgICAgZXJyb3JzLFxyXG4gICAgICAgICAgICBwbGF0Zm9ybUZpZWxkcyxcclxuICAgICAgICBdLmpvaW4oU0VSVkVSX1RFTEVNX0NPTlNUQU5UUy5DQVRFR09SWV9TRVBBUkFUT1IpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBBUEkgdG8gY2FjaGUgdG9rZW4gZmFpbHVyZXMgZm9yIE1TRVIgZGF0YSBjYXB0dXJlXHJcbiAgICAgKiBAcGFyYW0gZXJyb3JcclxuICAgICAqL1xyXG4gICAgY2FjaGVGYWlsZWRSZXF1ZXN0KGVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgbGFzdFJlcXVlc3RzID0gdGhpcy5nZXRMYXN0UmVxdWVzdHMoKTtcclxuICAgICAgICBpZiAobGFzdFJlcXVlc3RzLmVycm9ycy5sZW5ndGggPj1cclxuICAgICAgICAgICAgU0VSVkVSX1RFTEVNX0NPTlNUQU5UUy5NQVhfQ0FDSEVEX0VSUk9SUykge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgYSBjYWNoZWQgZXJyb3IgdG8gbWFrZSByb29tLCBmaXJzdCBpbiBmaXJzdCBvdXRcclxuICAgICAgICAgICAgbGFzdFJlcXVlc3RzLmZhaWxlZFJlcXVlc3RzLnNoaWZ0KCk7IC8vIGFwaUlkXHJcbiAgICAgICAgICAgIGxhc3RSZXF1ZXN0cy5mYWlsZWRSZXF1ZXN0cy5zaGlmdCgpOyAvLyBjb3JyZWxhdGlvbklkXHJcbiAgICAgICAgICAgIGxhc3RSZXF1ZXN0cy5lcnJvcnMuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFzdFJlcXVlc3RzLmZhaWxlZFJlcXVlc3RzLnB1c2godGhpcy5hcGlJZCwgdGhpcy5jb3JyZWxhdGlvbklkKTtcclxuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhIWVycm9yICYmIGVycm9yLnRvU3RyaW5nKCkpIHtcclxuICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgQXV0aEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZXJyb3Iuc3ViRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0UmVxdWVzdHMuZXJyb3JzLnB1c2goZXJyb3Iuc3ViRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoZXJyb3IuZXJyb3JDb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFzdFJlcXVlc3RzLmVycm9ycy5wdXNoKGVycm9yLmVycm9yQ29kZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBsYXN0UmVxdWVzdHMuZXJyb3JzLnB1c2goZXJyb3IudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsYXN0UmVxdWVzdHMuZXJyb3JzLnB1c2goZXJyb3IudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGxhc3RSZXF1ZXN0cy5lcnJvcnMucHVzaChTRVJWRVJfVEVMRU1fQ09OU1RBTlRTLlVOS05PV05fRVJST1IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNhY2hlTWFuYWdlci5zZXRTZXJ2ZXJUZWxlbWV0cnkodGhpcy50ZWxlbWV0cnlDYWNoZUtleSwgbGFzdFJlcXVlc3RzKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSBzZXJ2ZXIgdGVsZW1ldHJ5IGNhY2hlIGVudHJ5IGJ5IGluY3JlbWVudGluZyBjYWNoZSBoaXQgY291bnRlclxyXG4gICAgICovXHJcbiAgICBpbmNyZW1lbnRDYWNoZUhpdHMoKSB7XHJcbiAgICAgICAgY29uc3QgbGFzdFJlcXVlc3RzID0gdGhpcy5nZXRMYXN0UmVxdWVzdHMoKTtcclxuICAgICAgICBsYXN0UmVxdWVzdHMuY2FjaGVIaXRzICs9IDE7XHJcbiAgICAgICAgdGhpcy5jYWNoZU1hbmFnZXIuc2V0U2VydmVyVGVsZW1ldHJ5KHRoaXMudGVsZW1ldHJ5Q2FjaGVLZXksIGxhc3RSZXF1ZXN0cyk7XHJcbiAgICAgICAgcmV0dXJuIGxhc3RSZXF1ZXN0cy5jYWNoZUhpdHM7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdldCB0aGUgc2VydmVyIHRlbGVtZXRyeSBlbnRpdHkgZnJvbSBjYWNoZSBvciBpbml0aWFsaXplIGEgbmV3IG9uZVxyXG4gICAgICovXHJcbiAgICBnZXRMYXN0UmVxdWVzdHMoKSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFZhbHVlID0ge1xyXG4gICAgICAgICAgICBmYWlsZWRSZXF1ZXN0czogW10sXHJcbiAgICAgICAgICAgIGVycm9yczogW10sXHJcbiAgICAgICAgICAgIGNhY2hlSGl0czogMCxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGxhc3RSZXF1ZXN0cyA9IHRoaXMuY2FjaGVNYW5hZ2VyLmdldFNlcnZlclRlbGVtZXRyeSh0aGlzLnRlbGVtZXRyeUNhY2hlS2V5KTtcclxuICAgICAgICByZXR1cm4gbGFzdFJlcXVlc3RzIHx8IGluaXRpYWxWYWx1ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlIHNlcnZlciB0ZWxlbWV0cnkgY2FjaGUgZW50cnlcclxuICAgICAqL1xyXG4gICAgY2xlYXJUZWxlbWV0cnlDYWNoZSgpIHtcclxuICAgICAgICBjb25zdCBsYXN0UmVxdWVzdHMgPSB0aGlzLmdldExhc3RSZXF1ZXN0cygpO1xyXG4gICAgICAgIGNvbnN0IG51bUVycm9yc0ZsdXNoZWQgPSBTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyLm1heEVycm9yc1RvU2VuZChsYXN0UmVxdWVzdHMpO1xyXG4gICAgICAgIGNvbnN0IGVycm9yQ291bnQgPSBsYXN0UmVxdWVzdHMuZXJyb3JzLmxlbmd0aDtcclxuICAgICAgICBpZiAobnVtRXJyb3JzRmx1c2hlZCA9PT0gZXJyb3JDb3VudCkge1xyXG4gICAgICAgICAgICAvLyBBbGwgZXJyb3JzIHdlcmUgc2VudCBvbiBsYXN0IHJlcXVlc3QsIGNsZWFyIFRlbGVtZXRyeSBjYWNoZVxyXG4gICAgICAgICAgICB0aGlzLmNhY2hlTWFuYWdlci5yZW1vdmVJdGVtKHRoaXMudGVsZW1ldHJ5Q2FjaGVLZXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gUGFydGlhbCBkYXRhIHdhcyBmbHVzaGVkIHRvIHNlcnZlciwgY29uc3RydWN0IGEgbmV3IHRlbGVtZXRyeSBjYWNoZSBpdGVtIHdpdGggZXJyb3JzIHRoYXQgd2VyZSBub3QgZmx1c2hlZFxyXG4gICAgICAgICAgICBjb25zdCBzZXJ2ZXJUZWxlbUVudGl0eSA9IHtcclxuICAgICAgICAgICAgICAgIGZhaWxlZFJlcXVlc3RzOiBsYXN0UmVxdWVzdHMuZmFpbGVkUmVxdWVzdHMuc2xpY2UobnVtRXJyb3JzRmx1c2hlZCAqIDIpLFxyXG4gICAgICAgICAgICAgICAgZXJyb3JzOiBsYXN0UmVxdWVzdHMuZXJyb3JzLnNsaWNlKG51bUVycm9yc0ZsdXNoZWQpLFxyXG4gICAgICAgICAgICAgICAgY2FjaGVIaXRzOiAwLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB0aGlzLmNhY2hlTWFuYWdlci5zZXRTZXJ2ZXJUZWxlbWV0cnkodGhpcy50ZWxlbWV0cnlDYWNoZUtleSwgc2VydmVyVGVsZW1FbnRpdHkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbWF4aW11bSBudW1iZXIgb2YgZXJyb3JzIHRoYXQgY2FuIGJlIGZsdXNoZWQgdG8gdGhlIHNlcnZlciBpbiB0aGUgbmV4dCBuZXR3b3JrIHJlcXVlc3RcclxuICAgICAqIEBwYXJhbSBzZXJ2ZXJUZWxlbWV0cnlFbnRpdHlcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG1heEVycm9yc1RvU2VuZChzZXJ2ZXJUZWxlbWV0cnlFbnRpdHkpIHtcclxuICAgICAgICBsZXQgaTtcclxuICAgICAgICBsZXQgbWF4RXJyb3JzID0gMDtcclxuICAgICAgICBsZXQgZGF0YVNpemUgPSAwO1xyXG4gICAgICAgIGNvbnN0IGVycm9yQ291bnQgPSBzZXJ2ZXJUZWxlbWV0cnlFbnRpdHkuZXJyb3JzLmxlbmd0aDtcclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZXJyb3JDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgIC8vIGZhaWxlZFJlcXVlc3RzIHBhcmFtZXRlciBjb250YWlucyBwYWlycyBvZiBhcGlJZCBhbmQgY29ycmVsYXRpb25JZCwgbXVsdGlwbHkgaW5kZXggYnkgMiB0byBwcmVzZXJ2ZSBwYWlyc1xyXG4gICAgICAgICAgICBjb25zdCBhcGlJZCA9IHNlcnZlclRlbGVtZXRyeUVudGl0eS5mYWlsZWRSZXF1ZXN0c1syICogaV0gfHxcclxuICAgICAgICAgICAgICAgIENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgICAgIGNvbnN0IGNvcnJlbGF0aW9uSWQgPSBzZXJ2ZXJUZWxlbWV0cnlFbnRpdHkuZmFpbGVkUmVxdWVzdHNbMiAqIGkgKyAxXSB8fFxyXG4gICAgICAgICAgICAgICAgQ29uc3RhbnRzLkVNUFRZX1NUUklORztcclxuICAgICAgICAgICAgY29uc3QgZXJyb3JDb2RlID0gc2VydmVyVGVsZW1ldHJ5RW50aXR5LmVycm9yc1tpXSB8fCBDb25zdGFudHMuRU1QVFlfU1RSSU5HO1xyXG4gICAgICAgICAgICAvLyBDb3VudCBudW1iZXIgb2YgY2hhcmFjdGVycyB0aGF0IHdvdWxkIGJlIGFkZGVkIHRvIGhlYWRlciwgZWFjaCBjaGFyYWN0ZXIgaXMgMSBieXRlLiBBZGQgMyBhdCB0aGUgZW5kIHRvIGFjY291bnQgZm9yIHNlcGFyYXRvcnNcclxuICAgICAgICAgICAgZGF0YVNpemUgKz1cclxuICAgICAgICAgICAgICAgIGFwaUlkLnRvU3RyaW5nKCkubGVuZ3RoICtcclxuICAgICAgICAgICAgICAgICAgICBjb3JyZWxhdGlvbklkLnRvU3RyaW5nKCkubGVuZ3RoICtcclxuICAgICAgICAgICAgICAgICAgICBlcnJvckNvZGUubGVuZ3RoICtcclxuICAgICAgICAgICAgICAgICAgICAzO1xyXG4gICAgICAgICAgICBpZiAoZGF0YVNpemUgPCBTRVJWRVJfVEVMRU1fQ09OU1RBTlRTLk1BWF9MQVNUX0hFQURFUl9CWVRFUykge1xyXG4gICAgICAgICAgICAgICAgLy8gQWRkaW5nIHRoaXMgZW50cnkgdG8gdGhlIGhlYWRlciB3b3VsZCBzdGlsbCBrZWVwIGhlYWRlciBzaXplIGJlbG93IHRoZSBsaW1pdFxyXG4gICAgICAgICAgICAgICAgbWF4RXJyb3JzICs9IDE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbWF4RXJyb3JzO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHZXQgdGhlIHJlZ2lvbiBkaXNjb3ZlcnkgZmllbGRzXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMgc3RyaW5nXHJcbiAgICAgKi9cclxuICAgIGdldFJlZ2lvbkRpc2NvdmVyeUZpZWxkcygpIHtcclxuICAgICAgICBjb25zdCByZWdpb25EaXNjb3ZlcnlGaWVsZHMgPSBbXTtcclxuICAgICAgICByZWdpb25EaXNjb3ZlcnlGaWVsZHMucHVzaCh0aGlzLnJlZ2lvblVzZWQgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORyk7XHJcbiAgICAgICAgcmVnaW9uRGlzY292ZXJ5RmllbGRzLnB1c2godGhpcy5yZWdpb25Tb3VyY2UgfHwgQ29uc3RhbnRzLkVNUFRZX1NUUklORyk7XHJcbiAgICAgICAgcmVnaW9uRGlzY292ZXJ5RmllbGRzLnB1c2godGhpcy5yZWdpb25PdXRjb21lIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcpO1xyXG4gICAgICAgIHJldHVybiByZWdpb25EaXNjb3ZlcnlGaWVsZHMuam9pbihcIixcIik7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFVwZGF0ZSB0aGUgcmVnaW9uIGRpc2NvdmVyeSBtZXRhZGF0YVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSByZWdpb25EaXNjb3ZlcnlNZXRhZGF0YVxyXG4gICAgICogQHJldHVybnMgdm9pZFxyXG4gICAgICovXHJcbiAgICB1cGRhdGVSZWdpb25EaXNjb3ZlcnlNZXRhZGF0YShyZWdpb25EaXNjb3ZlcnlNZXRhZGF0YSkge1xyXG4gICAgICAgIHRoaXMucmVnaW9uVXNlZCA9IHJlZ2lvbkRpc2NvdmVyeU1ldGFkYXRhLnJlZ2lvbl91c2VkO1xyXG4gICAgICAgIHRoaXMucmVnaW9uU291cmNlID0gcmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEucmVnaW9uX3NvdXJjZTtcclxuICAgICAgICB0aGlzLnJlZ2lvbk91dGNvbWUgPSByZWdpb25EaXNjb3ZlcnlNZXRhZGF0YS5yZWdpb25fb3V0Y29tZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU2V0IGNhY2hlIG91dGNvbWVcclxuICAgICAqL1xyXG4gICAgc2V0Q2FjaGVPdXRjb21lKGNhY2hlT3V0Y29tZSkge1xyXG4gICAgICAgIHRoaXMuY2FjaGVPdXRjb21lID0gY2FjaGVPdXRjb21lO1xyXG4gICAgfVxyXG4gICAgc2V0TmF0aXZlQnJva2VyRXJyb3JDb2RlKGVycm9yQ29kZSkge1xyXG4gICAgICAgIGNvbnN0IGxhc3RSZXF1ZXN0cyA9IHRoaXMuZ2V0TGFzdFJlcXVlc3RzKCk7XHJcbiAgICAgICAgbGFzdFJlcXVlc3RzLm5hdGl2ZUJyb2tlckVycm9yQ29kZSA9IGVycm9yQ29kZTtcclxuICAgICAgICB0aGlzLmNhY2hlTWFuYWdlci5zZXRTZXJ2ZXJUZWxlbWV0cnkodGhpcy50ZWxlbWV0cnlDYWNoZUtleSwgbGFzdFJlcXVlc3RzKTtcclxuICAgIH1cclxuICAgIGdldE5hdGl2ZUJyb2tlckVycm9yQ29kZSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRMYXN0UmVxdWVzdHMoKS5uYXRpdmVCcm9rZXJFcnJvckNvZGU7XHJcbiAgICB9XHJcbiAgICBjbGVhck5hdGl2ZUJyb2tlckVycm9yQ29kZSgpIHtcclxuICAgICAgICBjb25zdCBsYXN0UmVxdWVzdHMgPSB0aGlzLmdldExhc3RSZXF1ZXN0cygpO1xyXG4gICAgICAgIGRlbGV0ZSBsYXN0UmVxdWVzdHMubmF0aXZlQnJva2VyRXJyb3JDb2RlO1xyXG4gICAgICAgIHRoaXMuY2FjaGVNYW5hZ2VyLnNldFNlcnZlclRlbGVtZXRyeSh0aGlzLnRlbGVtZXRyeUNhY2hlS2V5LCBsYXN0UmVxdWVzdHMpO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIG1ha2VFeHRyYVNrdVN0cmluZyhwYXJhbXMpIHtcclxuICAgICAgICByZXR1cm4gbWFrZUV4dHJhU2t1U3RyaW5nKHBhcmFtcyk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0IHsgU2VydmVyVGVsZW1ldHJ5TWFuYWdlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U2VydmVyVGVsZW1ldHJ5TWFuYWdlci5tanMubWFwXG4iXSwibmFtZXMiOlsiQ2FjaGVPdXRjb21lIiwiQ29uc3RhbnRzIiwiU0VSVkVSX1RFTEVNX0NPTlNUQU5UUyIsIlNlcGFyYXRvcnMiLCJBdXRoRXJyb3IiLCJza3VHcm91cFNlcGFyYXRvciIsInNrdVZhbHVlU2VwYXJhdG9yIiwibWFrZUV4dHJhU2t1U3RyaW5nIiwicGFyYW1zIiwic2t1cyIsImxpYnJhcnlOYW1lIiwibGlicmFyeVZlcnNpb24iLCJleHRlbnNpb25OYW1lIiwiZXh0ZW5zaW9uVmVyc2lvbiIsInNrdU1hcCIsIk1hcCIsInNrdUFyciIsImxlbmd0aCIsInNwbGl0IiwiQXJyYXkiLCJmcm9tIiwiZm9yRWFjaCIsInZhbHVlIiwia2V5Iiwic2V0U2t1IiwiaW5kZXgiLCJza3VOYW1lIiwic2t1VmVyc2lvbiIsImpvaW4iLCJTZXJ2ZXJUZWxlbWV0cnlNYW5hZ2VyIiwiY29uc3RydWN0b3IiLCJ0ZWxlbWV0cnlSZXF1ZXN0IiwiY2FjaGVNYW5hZ2VyIiwiY2FjaGVPdXRjb21lIiwiTk9UX0FQUExJQ0FCTEUiLCJhcGlJZCIsImNvcnJlbGF0aW9uSWQiLCJ3cmFwcGVyU0tVIiwiRU1QVFlfU1RSSU5HIiwid3JhcHBlclZlciIsInRlbGVtZXRyeUNhY2hlS2V5IiwiQ0FDSEVfS0VZIiwiQ0FDSEVfS0VZX1NFUEFSQVRPUiIsImNsaWVudElkIiwiZ2VuZXJhdGVDdXJyZW50UmVxdWVzdEhlYWRlclZhbHVlIiwicmVxdWVzdCIsIlZBTFVFX1NFUEFSQVRPUiIsInBsYXRmb3JtRmllbGRzQXJyIiwibmF0aXZlQnJva2VyRXJyb3JDb2RlIiwiZ2V0TmF0aXZlQnJva2VyRXJyb3JDb2RlIiwicHVzaCIsInBsYXRmb3JtRmllbGRzIiwicmVnaW9uRGlzY292ZXJ5RmllbGRzIiwiZ2V0UmVnaW9uRGlzY292ZXJ5RmllbGRzIiwicmVxdWVzdFdpdGhSZWdpb25EaXNjb3ZlcnlGaWVsZHMiLCJTQ0hFTUFfVkVSU0lPTiIsIkNBVEVHT1JZX1NFUEFSQVRPUiIsImdlbmVyYXRlTGFzdFJlcXVlc3RIZWFkZXJWYWx1ZSIsImxhc3RSZXF1ZXN0cyIsImdldExhc3RSZXF1ZXN0cyIsIm1heEVycm9ycyIsIm1heEVycm9yc1RvU2VuZCIsImZhaWxlZFJlcXVlc3RzIiwic2xpY2UiLCJlcnJvcnMiLCJlcnJvckNvdW50Iiwib3ZlcmZsb3ciLCJPVkVSRkxPV19UUlVFIiwiT1ZFUkZMT1dfRkFMU0UiLCJjYWNoZUhpdHMiLCJjYWNoZUZhaWxlZFJlcXVlc3QiLCJlcnJvciIsIk1BWF9DQUNIRURfRVJST1JTIiwic2hpZnQiLCJFcnJvciIsInRvU3RyaW5nIiwic3ViRXJyb3IiLCJlcnJvckNvZGUiLCJVTktOT1dOX0VSUk9SIiwic2V0U2VydmVyVGVsZW1ldHJ5IiwiaW5jcmVtZW50Q2FjaGVIaXRzIiwiaW5pdGlhbFZhbHVlIiwiZ2V0U2VydmVyVGVsZW1ldHJ5IiwiY2xlYXJUZWxlbWV0cnlDYWNoZSIsIm51bUVycm9yc0ZsdXNoZWQiLCJyZW1vdmVJdGVtIiwic2VydmVyVGVsZW1FbnRpdHkiLCJzZXJ2ZXJUZWxlbWV0cnlFbnRpdHkiLCJpIiwiZGF0YVNpemUiLCJNQVhfTEFTVF9IRUFERVJfQllURVMiLCJyZWdpb25Vc2VkIiwicmVnaW9uU291cmNlIiwicmVnaW9uT3V0Y29tZSIsInVwZGF0ZVJlZ2lvbkRpc2NvdmVyeU1ldGFkYXRhIiwicmVnaW9uRGlzY292ZXJ5TWV0YWRhdGEiLCJyZWdpb25fdXNlZCIsInJlZ2lvbl9zb3VyY2UiLCJyZWdpb25fb3V0Y29tZSIsInNldENhY2hlT3V0Y29tZSIsInNldE5hdGl2ZUJyb2tlckVycm9yQ29kZSIsImNsZWFyTmF0aXZlQnJva2VyRXJyb3JDb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/telemetry/server/ServerTelemetryManager.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs":
/*!****************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/url/UrlString.mjs ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UrlString: () => (/* binding */ UrlString)\n/* harmony export */ });\n/* harmony import */ var _error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/ClientConfigurationError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationError.mjs\");\n/* harmony import */ var _utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/StringUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/StringUtils.mjs\");\n/* harmony import */ var _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _utils_UrlUtils_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/UrlUtils.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/UrlUtils.mjs\");\n/* harmony import */ var _error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/ClientConfigurationErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientConfigurationErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Url object class which can perform various transformations on url strings.\r\n */ class UrlString {\n    get urlString() {\n        return this._urlString;\n    }\n    constructor(url){\n        this._urlString = url;\n        if (!this._urlString) {\n            // Throws error if url is empty\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.urlEmptyError);\n        }\n        if (!url.includes(\"#\")) {\n            this._urlString = UrlString.canonicalizeUri(url);\n        }\n    }\n    /**\r\n     * Ensure urls are lower case and end with a / character.\r\n     * @param url\r\n     */ static canonicalizeUri(url) {\n        if (url) {\n            let lowerCaseUrl = url.toLowerCase();\n            if (_utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_2__.StringUtils.endsWith(lowerCaseUrl, \"?\")) {\n                lowerCaseUrl = lowerCaseUrl.slice(0, -1);\n            } else if (_utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_2__.StringUtils.endsWith(lowerCaseUrl, \"?/\")) {\n                lowerCaseUrl = lowerCaseUrl.slice(0, -2);\n            }\n            if (!_utils_StringUtils_mjs__WEBPACK_IMPORTED_MODULE_2__.StringUtils.endsWith(lowerCaseUrl, \"/\")) {\n                lowerCaseUrl += \"/\";\n            }\n            return lowerCaseUrl;\n        }\n        return url;\n    }\n    /**\r\n     * Throws if urlString passed is not a valid authority URI string.\r\n     */ validateAsUri() {\n        // Attempts to parse url for uri components\n        let components;\n        try {\n            components = this.getUrlComponents();\n        } catch (e) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.urlParseError);\n        }\n        // Throw error if URI or path segments are not parseable.\n        if (!components.HostNameAndPort || !components.PathSegments) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.urlParseError);\n        }\n        // Throw error if uri is insecure.\n        if (!components.Protocol || components.Protocol.toLowerCase() !== \"https:\") {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.authorityUriInsecure);\n        }\n    }\n    /**\r\n     * Given a url and a query string return the url with provided query string appended\r\n     * @param url\r\n     * @param queryString\r\n     */ static appendQueryString(url, queryString) {\n        if (!queryString) {\n            return url;\n        }\n        return url.indexOf(\"?\") < 0 ? `${url}?${queryString}` : `${url}&${queryString}`;\n    }\n    /**\r\n     * Returns a url with the hash removed\r\n     * @param url\r\n     */ static removeHashFromUrl(url) {\n        return UrlString.canonicalizeUri(url.split(\"#\")[0]);\n    }\n    /**\r\n     * Given a url like https://a:b/common/d?e=f#g, and a tenantId, returns https://a:b/tenantId/d\r\n     * @param href The url\r\n     * @param tenantId The tenant id to replace\r\n     */ replaceTenantPath(tenantId) {\n        const urlObject = this.getUrlComponents();\n        const pathArray = urlObject.PathSegments;\n        if (tenantId && pathArray.length !== 0 && (pathArray[0] === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.AADAuthorityConstants.COMMON || pathArray[0] === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.AADAuthorityConstants.ORGANIZATIONS)) {\n            pathArray[0] = tenantId;\n        }\n        return UrlString.constructAuthorityUriFromObject(urlObject);\n    }\n    /**\r\n     * Parses out the components from a url string.\r\n     * @returns An object with the various components. Please cache this value insted of calling this multiple times on the same url.\r\n     */ getUrlComponents() {\n        // https://gist.github.com/curtisz/11139b2cfcaef4a261e0\n        const regEx = RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?\");\n        // If url string does not match regEx, we throw an error\n        const match = this.urlString.match(regEx);\n        if (!match) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.urlParseError);\n        }\n        // Url component object\n        const urlComponents = {\n            Protocol: match[1],\n            HostNameAndPort: match[4],\n            AbsolutePath: match[5],\n            QueryString: match[7]\n        };\n        let pathSegments = urlComponents.AbsolutePath.split(\"/\");\n        pathSegments = pathSegments.filter((val)=>val && val.length > 0); // remove empty elements\n        urlComponents.PathSegments = pathSegments;\n        if (urlComponents.QueryString && urlComponents.QueryString.endsWith(\"/\")) {\n            urlComponents.QueryString = urlComponents.QueryString.substring(0, urlComponents.QueryString.length - 1);\n        }\n        return urlComponents;\n    }\n    static getDomainFromUrl(url) {\n        const regEx = RegExp(\"^([^:/?#]+://)?([^/?#]*)\");\n        const match = url.match(regEx);\n        if (!match) {\n            throw (0,_error_ClientConfigurationError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientConfigurationError)(_error_ClientConfigurationErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.urlParseError);\n        }\n        return match[2];\n    }\n    static getAbsoluteUrl(relativeUrl, baseUrl) {\n        if (relativeUrl[0] === _utils_Constants_mjs__WEBPACK_IMPORTED_MODULE_3__.Constants.FORWARD_SLASH) {\n            const url = new UrlString(baseUrl);\n            const baseComponents = url.getUrlComponents();\n            return baseComponents.Protocol + \"//\" + baseComponents.HostNameAndPort + relativeUrl;\n        }\n        return relativeUrl;\n    }\n    static constructAuthorityUriFromObject(urlObject) {\n        return new UrlString(urlObject.Protocol + \"//\" + urlObject.HostNameAndPort + \"/\" + urlObject.PathSegments.join(\"/\"));\n    }\n    /**\r\n     * Check if the hash of the URL string contains known properties\r\n     * @deprecated This API will be removed in a future version\r\n     */ static hashContainsKnownProperties(response) {\n        return !!(0,_utils_UrlUtils_mjs__WEBPACK_IMPORTED_MODULE_4__.getDeserializedResponse)(response);\n    }\n}\n //# sourceMappingURL=UrlString.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdXJsL1VybFN0cmluZy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ3VGO0FBQ2hDO0FBQ21CO0FBQ1Y7QUFDZ0Q7QUFFaEg7OztDQUdDLEdBQ0Q7O0NBRUMsR0FDRCxNQUFNUTtJQUNGLElBQUlDLFlBQVk7UUFDWixPQUFPLElBQUksQ0FBQ0MsVUFBVTtJQUMxQjtJQUNBQyxZQUFZQyxHQUFHLENBQUU7UUFDYixJQUFJLENBQUNGLFVBQVUsR0FBR0U7UUFDbEIsSUFBSSxDQUFDLElBQUksQ0FBQ0YsVUFBVSxFQUFFO1lBQ2xCLCtCQUErQjtZQUMvQixNQUFNVixtR0FBOEJBLENBQUNLLG1GQUFhQTtRQUN0RDtRQUNBLElBQUksQ0FBQ08sSUFBSUMsUUFBUSxDQUFDLE1BQU07WUFDcEIsSUFBSSxDQUFDSCxVQUFVLEdBQUdGLFVBQVVNLGVBQWUsQ0FBQ0Y7UUFDaEQ7SUFDSjtJQUNBOzs7S0FHQyxHQUNELE9BQU9FLGdCQUFnQkYsR0FBRyxFQUFFO1FBQ3hCLElBQUlBLEtBQUs7WUFDTCxJQUFJRyxlQUFlSCxJQUFJSSxXQUFXO1lBQ2xDLElBQUlmLCtEQUFXQSxDQUFDZ0IsUUFBUSxDQUFDRixjQUFjLE1BQU07Z0JBQ3pDQSxlQUFlQSxhQUFhRyxLQUFLLENBQUMsR0FBRyxDQUFDO1lBQzFDLE9BQ0ssSUFBSWpCLCtEQUFXQSxDQUFDZ0IsUUFBUSxDQUFDRixjQUFjLE9BQU87Z0JBQy9DQSxlQUFlQSxhQUFhRyxLQUFLLENBQUMsR0FBRyxDQUFDO1lBQzFDO1lBQ0EsSUFBSSxDQUFDakIsK0RBQVdBLENBQUNnQixRQUFRLENBQUNGLGNBQWMsTUFBTTtnQkFDMUNBLGdCQUFnQjtZQUNwQjtZQUNBLE9BQU9BO1FBQ1g7UUFDQSxPQUFPSDtJQUNYO0lBQ0E7O0tBRUMsR0FDRE8sZ0JBQWdCO1FBQ1osMkNBQTJDO1FBQzNDLElBQUlDO1FBQ0osSUFB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QUFFO0lBQ25CO0lBQ0EsT0FBT1MsZUFBZUMsV0FBVyxFQUFFQyxPQUFPLEVBQUU7UUFDeEMsSUFBSUQsV0FBVyxDQUFDLEVBQUUsS0FBS2hELDJEQUFTQSxDQUFDa0QsYUFBYSxFQUFFO1lBQzVDLE1BQU16QyxNQUFNLElBQUlKLFVBQVU0QztZQUMxQixNQUFNRSxpQkFBaUIxQyxJQUFJUyxnQkFBZ0I7WUFDM0MsT0FBUWlDLGVBQWU3QixRQUFRLEdBQzNCLE9BQ0E2QixlQUFlL0IsZUFBZSxHQUM5QjRCO1FBQ1I7UUFDQSxPQUFPQTtJQUNYO0lBQ0EsT0FBT2IsZ0NBQWdDTCxTQUFTLEVBQUU7UUFDOUMsT0FBTyxJQUFJekIsVUFBVXlCLFVBQVVSLFFBQVEsR0FDbkMsT0FDQVEsVUFBVVYsZUFBZSxHQUN6QixNQUNBVSxVQUFVVCxZQUFZLENBQUMrQixJQUFJLENBQUM7SUFDcEM7SUFDQTs7O0tBR0MsR0FDRCxPQUFPQyw0QkFBNEJDLFFBQVEsRUFBRTtRQUN6QyxPQUFPLENBQUMsQ0FBQ3JELDRFQUF1QkEsQ0FBQ3FEO0lBQ3JDO0FBQ0o7QUFFcUIsQ0FDckIsc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L3VybC9VcmxTdHJpbmcubWpzPzQ2ZTciXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IgfSBmcm9tICcuLi9lcnJvci9DbGllbnRDb25maWd1cmF0aW9uRXJyb3IubWpzJztcbmltcG9ydCB7IFN0cmluZ1V0aWxzIH0gZnJvbSAnLi4vdXRpbHMvU3RyaW5nVXRpbHMubWpzJztcbmltcG9ydCB7IEFBREF1dGhvcml0eUNvbnN0YW50cywgQ29uc3RhbnRzIH0gZnJvbSAnLi4vdXRpbHMvQ29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBnZXREZXNlcmlhbGl6ZWRSZXNwb25zZSB9IGZyb20gJy4uL3V0aWxzL1VybFV0aWxzLm1qcyc7XG5pbXBvcnQgeyB1cmxFbXB0eUVycm9yLCB1cmxQYXJzZUVycm9yLCBhdXRob3JpdHlVcmlJbnNlY3VyZSB9IGZyb20gJy4uL2Vycm9yL0NsaWVudENvbmZpZ3VyYXRpb25FcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVXJsIG9iamVjdCBjbGFzcyB3aGljaCBjYW4gcGVyZm9ybSB2YXJpb3VzIHRyYW5zZm9ybWF0aW9ucyBvbiB1cmwgc3RyaW5ncy5cclxuICovXHJcbmNsYXNzIFVybFN0cmluZyB7XHJcbiAgICBnZXQgdXJsU3RyaW5nKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl91cmxTdHJpbmc7XHJcbiAgICB9XHJcbiAgICBjb25zdHJ1Y3Rvcih1cmwpIHtcclxuICAgICAgICB0aGlzLl91cmxTdHJpbmcgPSB1cmw7XHJcbiAgICAgICAgaWYgKCF0aGlzLl91cmxTdHJpbmcpIHtcclxuICAgICAgICAgICAgLy8gVGhyb3dzIGVycm9yIGlmIHVybCBpcyBlbXB0eVxyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IodXJsRW1wdHlFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdXJsLmluY2x1ZGVzKFwiI1wiKSkge1xyXG4gICAgICAgICAgICB0aGlzLl91cmxTdHJpbmcgPSBVcmxTdHJpbmcuY2Fub25pY2FsaXplVXJpKHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBFbnN1cmUgdXJscyBhcmUgbG93ZXIgY2FzZSBhbmQgZW5kIHdpdGggYSAvIGNoYXJhY3Rlci5cclxuICAgICAqIEBwYXJhbSB1cmxcclxuICAgICAqL1xyXG4gICAgc3RhdGljIGNhbm9uaWNhbGl6ZVVyaSh1cmwpIHtcclxuICAgICAgICBpZiAodXJsKSB7XHJcbiAgICAgICAgICAgIGxldCBsb3dlckNhc2VVcmwgPSB1cmwudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgaWYgKFN0cmluZ1V0aWxzLmVuZHNXaXRoKGxvd2VyQ2FzZVVybCwgXCI/XCIpKSB7XHJcbiAgICAgICAgICAgICAgICBsb3dlckNhc2VVcmwgPSBsb3dlckNhc2VVcmwuc2xpY2UoMCwgLTEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKFN0cmluZ1V0aWxzLmVuZHNXaXRoKGxvd2VyQ2FzZVVybCwgXCI/L1wiKSkge1xyXG4gICAgICAgICAgICAgICAgbG93ZXJDYXNlVXJsID0gbG93ZXJDYXNlVXJsLnNsaWNlKDAsIC0yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIVN0cmluZ1V0aWxzLmVuZHNXaXRoKGxvd2VyQ2FzZVVybCwgXCIvXCIpKSB7XHJcbiAgICAgICAgICAgICAgICBsb3dlckNhc2VVcmwgKz0gXCIvXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGxvd2VyQ2FzZVVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVybDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGhyb3dzIGlmIHVybFN0cmluZyBwYXNzZWQgaXMgbm90IGEgdmFsaWQgYXV0aG9yaXR5IFVSSSBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIHZhbGlkYXRlQXNVcmkoKSB7XHJcbiAgICAgICAgLy8gQXR0ZW1wdHMgdG8gcGFyc2UgdXJsIGZvciB1cmkgY29tcG9uZW50c1xyXG4gICAgICAgIGxldCBjb21wb25lbnRzO1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbXBvbmVudHMgPSB0aGlzLmdldFVybENvbXBvbmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKHVybFBhcnNlRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUaHJvdyBlcnJvciBpZiBVUkkgb3IgcGF0aCBzZWdtZW50cyBhcmUgbm90IHBhcnNlYWJsZS5cclxuICAgICAgICBpZiAoIWNvbXBvbmVudHMuSG9zdE5hbWVBbmRQb3J0IHx8ICFjb21wb25lbnRzLlBhdGhTZWdtZW50cykge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IodXJsUGFyc2VFcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRocm93IGVycm9yIGlmIHVyaSBpcyBpbnNlY3VyZS5cclxuICAgICAgICBpZiAoIWNvbXBvbmVudHMuUHJvdG9jb2wgfHxcclxuICAgICAgICAgICAgY29tcG9uZW50cy5Qcm90b2NvbC50b0xvd2VyQ2FzZSgpICE9PSBcImh0dHBzOlwiKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudENvbmZpZ3VyYXRpb25FcnJvcihhdXRob3JpdHlVcmlJbnNlY3VyZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlbiBhIHVybCBhbmQgYSBxdWVyeSBzdHJpbmcgcmV0dXJuIHRoZSB1cmwgd2l0aCBwcm92aWRlZCBxdWVyeSBzdHJpbmcgYXBwZW5kZWRcclxuICAgICAqIEBwYXJhbSB1cmxcclxuICAgICAqIEBwYXJhbSBxdWVyeVN0cmluZ1xyXG4gICAgICovXHJcbiAgICBzdGF0aWMgYXBwZW5kUXVlcnlTdHJpbmcodXJsLCBxdWVyeVN0cmluZykge1xyXG4gICAgICAgIGlmICghcXVlcnlTdHJpbmcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVybDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVybC5pbmRleE9mKFwiP1wiKSA8IDBcclxuICAgICAgICAgICAgPyBgJHt1cmx9PyR7cXVlcnlTdHJpbmd9YFxyXG4gICAgICAgICAgICA6IGAke3VybH0mJHtxdWVyeVN0cmluZ31gO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgdXJsIHdpdGggdGhlIGhhc2ggcmVtb3ZlZFxyXG4gICAgICogQHBhcmFtIHVybFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcmVtb3ZlSGFzaEZyb21VcmwodXJsKSB7XHJcbiAgICAgICAgcmV0dXJuIFVybFN0cmluZy5jYW5vbmljYWxpemVVcmkodXJsLnNwbGl0KFwiI1wiKVswXSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEdpdmVuIGEgdXJsIGxpa2UgaHR0cHM6Ly9hOmIvY29tbW9uL2Q/ZT1mI2csIGFuZCBhIHRlbmFudElkLCByZXR1cm5zIGh0dHBzOi8vYTpiL3RlbmFudElkL2RcclxuICAgICAqIEBwYXJhbSBocmVmIFRoZSB1cmxcclxuICAgICAqIEBwYXJhbSB0ZW5hbnRJZCBUaGUgdGVuYW50IGlkIHRvIHJlcGxhY2VcclxuICAgICAqL1xyXG4gICAgcmVwbGFjZVRlbmFudFBhdGgodGVuYW50SWQpIHtcclxuICAgICAgICBjb25zdCB1cmxPYmplY3QgPSB0aGlzLmdldFVybENvbXBvbmVudHMoKTtcclxuICAgICAgICBjb25zdCBwYXRoQXJyYXkgPSB1cmxPYmplY3QuUGF0aFNlZ21lbnRzO1xyXG4gICAgICAgIGlmICh0ZW5hbnRJZCAmJlxyXG4gICAgICAgICAgICBwYXRoQXJyYXkubGVuZ3RoICE9PSAwICYmXHJcbiAgICAgICAgICAgIChwYXRoQXJyYXlbMF0gPT09IEFBREF1dGhvcml0eUNvbnN0YW50cy5DT01NT04gfHxcclxuICAgICAgICAgICAgICAgIHBhdGhBcnJheVswXSA9PT0gQUFEQXV0aG9yaXR5Q29uc3RhbnRzLk9SR0FOSVpBVElPTlMpKSB7XHJcbiAgICAgICAgICAgIHBhdGhBcnJheVswXSA9IHRlbmFudElkO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gVXJsU3RyaW5nLmNvbnN0cnVjdEF1dGhvcml0eVVyaUZyb21PYmplY3QodXJsT2JqZWN0KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUGFyc2VzIG91dCB0aGUgY29tcG9uZW50cyBmcm9tIGEgdXJsIHN0cmluZy5cclxuICAgICAqIEByZXR1cm5zIEFuIG9iamVjdCB3aXRoIHRoZSB2YXJpb3VzIGNvbXBvbmVudHMuIFBsZWFzZSBjYWNoZSB0aGlzIHZhbHVlIGluc3RlZCBvZiBjYWxsaW5nIHRoaXMgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgdXJsLlxyXG4gICAgICovXHJcbiAgICBnZXRVcmxDb21wb25lbnRzKCkge1xyXG4gICAgICAgIC8vIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2N1cnRpc3ovMTExMzliMmNmY2FlZjRhMjYxZTBcclxuICAgICAgICBjb25zdCByZWdFeCA9IFJlZ0V4cChcIl4oKFteOi8/I10rKTopPygvLyhbXi8/I10qKSk/KFtePyNdKikoXFxcXD8oW14jXSopKT8oIyguKikpP1wiKTtcclxuICAgICAgICAvLyBJZiB1cmwgc3RyaW5nIGRvZXMgbm90IG1hdGNoIHJlZ0V4LCB3ZSB0aHJvdyBhbiBlcnJvclxyXG4gICAgICAgIGNvbnN0IG1hdGNoID0gdGhpcy51cmxTdHJpbmcubWF0Y2gocmVnRXgpO1xyXG4gICAgICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50Q29uZmlndXJhdGlvbkVycm9yKHVybFBhcnNlRXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBVcmwgY29tcG9uZW50IG9iamVjdFxyXG4gICAgICAgIGNvbnN0IHVybENvbXBvbmVudHMgPSB7XHJcbiAgICAgICAgICAgIFByb3RvY29sOiBtYXRjaFsxXSxcclxuICAgICAgICAgICAgSG9zdE5hbWVBbmRQb3J0OiBtYXRjaFs0XSxcclxuICAgICAgICAgICAgQWJzb2x1dGVQYXRoOiBtYXRjaFs1XSxcclxuICAgICAgICAgICAgUXVlcnlTdHJpbmc6IG1hdGNoWzddLFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IHBhdGhTZWdtZW50cyA9IHVybENvbXBvbmVudHMuQWJzb2x1dGVQYXRoLnNwbGl0KFwiL1wiKTtcclxuICAgICAgICBwYXRoU2VnbWVudHMgPSBwYXRoU2VnbWVudHMuZmlsdGVyKCh2YWwpID0+IHZhbCAmJiB2YWwubGVuZ3RoID4gMCk7IC8vIHJlbW92ZSBlbXB0eSBlbGVtZW50c1xyXG4gICAgICAgIHVybENvbXBvbmVudHMuUGF0aFNlZ21lbnRzID0gcGF0aFNlZ21lbnRzO1xyXG4gICAgICAgIGlmICh1cmxDb21wb25lbnRzLlF1ZXJ5U3RyaW5nICYmXHJcbiAgICAgICAgICAgIHVybENvbXBvbmVudHMuUXVlcnlTdHJpbmcuZW5kc1dpdGgoXCIvXCIpKSB7XHJcbiAgICAgICAgICAgIHVybENvbXBvbmVudHMuUXVlcnlTdHJpbmcgPSB1cmxDb21wb25lbnRzLlF1ZXJ5U3RyaW5nLnN1YnN0cmluZygwLCB1cmxDb21wb25lbnRzLlF1ZXJ5U3RyaW5nLmxlbmd0aCAtIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsQ29tcG9uZW50cztcclxuICAgIH1cclxuICAgIHN0YXRpYyBnZXREb21haW5Gcm9tVXJsKHVybCkge1xyXG4gICAgICAgIGNvbnN0IHJlZ0V4ID0gUmVnRXhwKFwiXihbXjovPyNdKzovLyk/KFteLz8jXSopXCIpO1xyXG4gICAgICAgIGNvbnN0IG1hdGNoID0gdXJsLm1hdGNoKHJlZ0V4KTtcclxuICAgICAgICBpZiAoIW1hdGNoKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudENvbmZpZ3VyYXRpb25FcnJvcih1cmxQYXJzZUVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hdGNoWzJdO1xyXG4gICAgfVxyXG4gICAgc3RhdGljIGdldEFic29sdXRlVXJsKHJlbGF0aXZlVXJsLCBiYXNlVXJsKSB7XHJcbiAgICAgICAgaWYgKHJlbGF0aXZlVXJsWzBdID09PSBDb25zdGFudHMuRk9SV0FSRF9TTEFTSCkge1xyXG4gICAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVXJsU3RyaW5nKGJhc2VVcmwpO1xyXG4gICAgICAgICAgICBjb25zdCBiYXNlQ29tcG9uZW50cyA9IHVybC5nZXRVcmxDb21wb25lbnRzKCk7XHJcbiAgICAgICAgICAgIHJldHVybiAoYmFzZUNvbXBvbmVudHMuUHJvdG9jb2wgK1xyXG4gICAgICAgICAgICAgICAgXCIvL1wiICtcclxuICAgICAgICAgICAgICAgIGJhc2VDb21wb25lbnRzLkhvc3ROYW1lQW5kUG9ydCArXHJcbiAgICAgICAgICAgICAgICByZWxhdGl2ZVVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZWxhdGl2ZVVybDtcclxuICAgIH1cclxuICAgIHN0YXRpYyBjb25zdHJ1Y3RBdXRob3JpdHlVcmlGcm9tT2JqZWN0KHVybE9iamVjdCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgVXJsU3RyaW5nKHVybE9iamVjdC5Qcm90b2NvbCArXHJcbiAgICAgICAgICAgIFwiLy9cIiArXHJcbiAgICAgICAgICAgIHVybE9iamVjdC5Ib3N0TmFtZUFuZFBvcnQgK1xyXG4gICAgICAgICAgICBcIi9cIiArXHJcbiAgICAgICAgICAgIHVybE9iamVjdC5QYXRoU2VnbWVudHMuam9pbihcIi9cIikpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVjayBpZiB0aGUgaGFzaCBvZiB0aGUgVVJMIHN0cmluZyBjb250YWlucyBrbm93biBwcm9wZXJ0aWVzXHJcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGlzIEFQSSB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgdmVyc2lvblxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaGFzaENvbnRhaW5zS25vd25Qcm9wZXJ0aWVzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgcmV0dXJuICEhZ2V0RGVzZXJpYWxpemVkUmVzcG9uc2UocmVzcG9uc2UpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IFVybFN0cmluZyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXJsU3RyaW5nLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnRDb25maWd1cmF0aW9uRXJyb3IiLCJTdHJpbmdVdGlscyIsIkFBREF1dGhvcml0eUNvbnN0YW50cyIsIkNvbnN0YW50cyIsImdldERlc2VyaWFsaXplZFJlc3BvbnNlIiwidXJsRW1wdHlFcnJvciIsInVybFBhcnNlRXJyb3IiLCJhdXRob3JpdHlVcmlJbnNlY3VyZSIsIlVybFN0cmluZyIsInVybFN0cmluZyIsIl91cmxTdHJpbmciLCJjb25zdHJ1Y3RvciIsInVybCIsImluY2x1ZGVzIiwiY2Fub25pY2FsaXplVXJpIiwibG93ZXJDYXNlVXJsIiwidG9Mb3dlckNhc2UiLCJlbmRzV2l0aCIsInNsaWNlIiwidmFsaWRhdGVBc1VyaSIsImNvbXBvbmVudHMiLCJnZXRVcmxDb21wb25lbnRzIiwiZSIsIkhvc3ROYW1lQW5kUG9ydCIsIlBhdGhTZWdtZW50cyIsIlByb3RvY29sIiwiYXBwZW5kUXVlcnlTdHJpbmciLCJxdWVyeVN0cmluZyIsImluZGV4T2YiLCJyZW1vdmVIYXNoRnJvbVVybCIsInNwbGl0IiwicmVwbGFjZVRlbmFudFBhdGgiLCJ0ZW5hbnRJZCIsInVybE9iamVjdCIsInBhdGhBcnJheSIsImxlbmd0aCIsIkNPTU1PTiIsIk9SR0FOSVpBVElPTlMiLCJjb25zdHJ1Y3RBdXRob3JpdHlVcmlGcm9tT2JqZWN0IiwicmVnRXgiLCJSZWdFeHAiLCJtYXRjaCIsInVybENvbXBvbmVudHMiLCJBYnNvbHV0ZVBhdGgiLCJRdWVyeVN0cmluZyIsInBhdGhTZWdtZW50cyIsImZpbHRlciIsInZhbCIsInN1YnN0cmluZyIsImdldERvbWFpbkZyb21VcmwiLCJnZXRBYnNvbHV0ZVVybCIsInJlbGF0aXZlVXJsIiwiYmFzZVVybCIsIkZPUldBUkRfU0xBU0giLCJiYXNlQ29tcG9uZW50cyIsImpvaW4iLCJoYXNoQ29udGFpbnNLbm93blByb3BlcnRpZXMiLCJyZXNwb25zZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/url/UrlString.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/utils/ClientAssertionUtils.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/utils/ClientAssertionUtils.mjs ***!
  \*****************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getClientAssertion: () => (/* binding */ getClientAssertion)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ async function getClientAssertion(clientAssertion, clientId, tokenEndpoint) {\n    if (typeof clientAssertion === \"string\") {\n        return clientAssertion;\n    } else {\n        const config = {\n            clientId: clientId,\n            tokenEndpoint: tokenEndpoint\n        };\n        return clientAssertion(config);\n    }\n}\n //# sourceMappingURL=ClientAssertionUtils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdXRpbHMvQ2xpZW50QXNzZXJ0aW9uVXRpbHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDQTs7O0NBR0MsR0FDRCxlQUFlQSxtQkFBbUJDLGVBQWUsRUFBRUMsUUFBUSxFQUFFQyxhQUFhO0lBQ3RFLElBQUksT0FBT0Ysb0JBQW9CLFVBQVU7UUFDckMsT0FBT0E7SUFDWCxPQUNLO1FBQ0QsTUFBTUcsU0FBUztZQUNYRixVQUFVQTtZQUNWQyxlQUFlQTtRQUNuQjtRQUNBLE9BQU9GLGdCQUFnQkc7SUFDM0I7QUFDSjtBQUU4QixDQUM5QixpREFBaUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jZXJ0ZXgvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdXRpbHMvQ2xpZW50QXNzZXJ0aW9uVXRpbHMubWpzPzFiMDQiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gZ2V0Q2xpZW50QXNzZXJ0aW9uKGNsaWVudEFzc2VydGlvbiwgY2xpZW50SWQsIHRva2VuRW5kcG9pbnQpIHtcclxuICAgIGlmICh0eXBlb2YgY2xpZW50QXNzZXJ0aW9uID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsaWVudEFzc2VydGlvbjtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNvbnN0IGNvbmZpZyA9IHtcclxuICAgICAgICAgICAgY2xpZW50SWQ6IGNsaWVudElkLFxyXG4gICAgICAgICAgICB0b2tlbkVuZHBvaW50OiB0b2tlbkVuZHBvaW50LFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGNsaWVudEFzc2VydGlvbihjb25maWcpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IGdldENsaWVudEFzc2VydGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q2xpZW50QXNzZXJ0aW9uVXRpbHMubWpzLm1hcFxuIl0sIm5hbWVzIjpbImdldENsaWVudEFzc2VydGlvbiIsImNsaWVudEFzc2VydGlvbiIsImNsaWVudElkIiwidG9rZW5FbmRwb2ludCIsImNvbmZpZyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/utils/ClientAssertionUtils.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/utils/Constants.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AADAuthorityConstants: () => (/* binding */ AADAuthorityConstants),\n/* harmony export */   APP_METADATA: () => (/* binding */ APP_METADATA),\n/* harmony export */   AUTHORITY_METADATA_CONSTANTS: () => (/* binding */ AUTHORITY_METADATA_CONSTANTS),\n/* harmony export */   AuthenticationScheme: () => (/* binding */ AuthenticationScheme),\n/* harmony export */   AuthorityMetadataSource: () => (/* binding */ AuthorityMetadataSource),\n/* harmony export */   CLIENT_INFO: () => (/* binding */ CLIENT_INFO),\n/* harmony export */   CacheAccountType: () => (/* binding */ CacheAccountType),\n/* harmony export */   CacheOutcome: () => (/* binding */ CacheOutcome),\n/* harmony export */   CacheType: () => (/* binding */ CacheType),\n/* harmony export */   ClaimsRequestKeys: () => (/* binding */ ClaimsRequestKeys),\n/* harmony export */   CodeChallengeMethodValues: () => (/* binding */ CodeChallengeMethodValues),\n/* harmony export */   Constants: () => (/* binding */ Constants),\n/* harmony export */   CredentialType: () => (/* binding */ CredentialType),\n/* harmony export */   DEFAULT_TOKEN_RENEWAL_OFFSET_SEC: () => (/* binding */ DEFAULT_TOKEN_RENEWAL_OFFSET_SEC),\n/* harmony export */   Errors: () => (/* binding */ Errors),\n/* harmony export */   GrantType: () => (/* binding */ GrantType),\n/* harmony export */   HeaderNames: () => (/* binding */ HeaderNames),\n/* harmony export */   HttpStatus: () => (/* binding */ HttpStatus),\n/* harmony export */   JsonWebTokenTypes: () => (/* binding */ JsonWebTokenTypes),\n/* harmony export */   OIDC_DEFAULT_SCOPES: () => (/* binding */ OIDC_DEFAULT_SCOPES),\n/* harmony export */   OIDC_SCOPES: () => (/* binding */ OIDC_SCOPES),\n/* harmony export */   ONE_DAY_IN_MS: () => (/* binding */ ONE_DAY_IN_MS),\n/* harmony export */   PasswordGrantConstants: () => (/* binding */ PasswordGrantConstants),\n/* harmony export */   PersistentCacheKeys: () => (/* binding */ PersistentCacheKeys),\n/* harmony export */   PromptValue: () => (/* binding */ PromptValue),\n/* harmony export */   RegionDiscoveryOutcomes: () => (/* binding */ RegionDiscoveryOutcomes),\n/* harmony export */   RegionDiscoverySources: () => (/* binding */ RegionDiscoverySources),\n/* harmony export */   ResponseCodes: () => (/* binding */ ResponseCodes),\n/* harmony export */   ResponseMode: () => (/* binding */ ResponseMode),\n/* harmony export */   SERVER_TELEM_CONSTANTS: () => (/* binding */ SERVER_TELEM_CONSTANTS),\n/* harmony export */   Separators: () => (/* binding */ Separators),\n/* harmony export */   ServerResponseType: () => (/* binding */ ServerResponseType),\n/* harmony export */   THE_FAMILY_ID: () => (/* binding */ THE_FAMILY_ID),\n/* harmony export */   ThrottlingConstants: () => (/* binding */ ThrottlingConstants)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ const Constants = {\n    LIBRARY_NAME: \"MSAL.JS\",\n    SKU: \"msal.js.common\",\n    // Prefix for all library cache entries\n    CACHE_PREFIX: \"msal\",\n    // default authority\n    DEFAULT_AUTHORITY: \"https://login.microsoftonline.com/common/\",\n    DEFAULT_AUTHORITY_HOST: \"login.microsoftonline.com\",\n    DEFAULT_COMMON_TENANT: \"common\",\n    // ADFS String\n    ADFS: \"adfs\",\n    DSTS: \"dstsv2\",\n    // Default AAD Instance Discovery Endpoint\n    AAD_INSTANCE_DISCOVERY_ENDPT: \"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=\",\n    // CIAM URL\n    CIAM_AUTH_URL: \".ciamlogin.com\",\n    AAD_TENANT_DOMAIN_SUFFIX: \".onmicrosoft.com\",\n    // Resource delimiter - used for certain cache entries\n    RESOURCE_DELIM: \"|\",\n    // Placeholder for non-existent account ids/objects\n    NO_ACCOUNT: \"NO_ACCOUNT\",\n    // Claims\n    CLAIMS: \"claims\",\n    // Consumer UTID\n    CONSUMER_UTID: \"9188040d-6c67-4c5b-b112-36a304b66dad\",\n    // Default scopes\n    OPENID_SCOPE: \"openid\",\n    PROFILE_SCOPE: \"profile\",\n    OFFLINE_ACCESS_SCOPE: \"offline_access\",\n    EMAIL_SCOPE: \"email\",\n    // Default response type for authorization code flow\n    CODE_RESPONSE_TYPE: \"code\",\n    CODE_GRANT_TYPE: \"authorization_code\",\n    RT_GRANT_TYPE: \"refresh_token\",\n    FRAGMENT_RESPONSE_MODE: \"fragment\",\n    S256_CODE_CHALLENGE_METHOD: \"S256\",\n    URL_FORM_CONTENT_TYPE: \"application/x-www-form-urlencoded;charset=utf-8\",\n    AUTHORIZATION_PENDING: \"authorization_pending\",\n    NOT_DEFINED: \"not_defined\",\n    EMPTY_STRING: \"\",\n    NOT_APPLICABLE: \"N/A\",\n    NOT_AVAILABLE: \"Not Available\",\n    FORWARD_SLASH: \"/\",\n    IMDS_ENDPOINT: \"http://169.254.169.254/metadata/instance/compute/location\",\n    IMDS_VERSION: \"2020-06-01\",\n    IMDS_TIMEOUT: 2000,\n    AZURE_REGION_AUTO_DISCOVER_FLAG: \"TryAutoDetect\",\n    REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX: \"login.microsoft.com\",\n    KNOWN_PUBLIC_CLOUDS: [\n        \"login.microsoftonline.com\",\n        \"login.windows.net\",\n        \"login.microsoft.com\",\n        \"sts.windows.net\"\n    ],\n    TOKEN_RESPONSE_TYPE: \"token\",\n    ID_TOKEN_RESPONSE_TYPE: \"id_token\",\n    SHR_NONCE_VALIDITY: 240,\n    INVALID_INSTANCE: \"invalid_instance\"\n};\nconst HttpStatus = {\n    SUCCESS: 200,\n    SUCCESS_RANGE_START: 200,\n    SUCCESS_RANGE_END: 299,\n    REDIRECT: 302,\n    CLIENT_ERROR: 400,\n    CLIENT_ERROR_RANGE_START: 400,\n    BAD_REQUEST: 400,\n    UNAUTHORIZED: 401,\n    NOT_FOUND: 404,\n    REQUEST_TIMEOUT: 408,\n    TOO_MANY_REQUESTS: 429,\n    CLIENT_ERROR_RANGE_END: 499,\n    SERVER_ERROR: 500,\n    SERVER_ERROR_RANGE_START: 500,\n    SERVICE_UNAVAILABLE: 503,\n    GATEWAY_TIMEOUT: 504,\n    SERVER_ERROR_RANGE_END: 599,\n    MULTI_SIDED_ERROR: 600\n};\nconst OIDC_DEFAULT_SCOPES = [\n    Constants.OPENID_SCOPE,\n    Constants.PROFILE_SCOPE,\n    Constants.OFFLINE_ACCESS_SCOPE\n];\nconst OIDC_SCOPES = [\n    ...OIDC_DEFAULT_SCOPES,\n    Constants.EMAIL_SCOPE\n];\n/**\r\n * Request header names\r\n */ const HeaderNames = {\n    CONTENT_TYPE: \"Content-Type\",\n    CONTENT_LENGTH: \"Content-Length\",\n    RETRY_AFTER: \"Retry-After\",\n    CCS_HEADER: \"X-AnchorMailbox\",\n    WWWAuthenticate: \"WWW-Authenticate\",\n    AuthenticationInfo: \"Authentication-Info\",\n    X_MS_REQUEST_ID: \"x-ms-request-id\",\n    X_MS_HTTP_VERSION: \"x-ms-httpver\"\n};\n/**\r\n * Persistent cache keys MSAL which stay while user is logged in.\r\n */ const PersistentCacheKeys = {\n    ID_TOKEN: \"idtoken\",\n    CLIENT_INFO: \"client.info\",\n    ADAL_ID_TOKEN: \"adal.idtoken\",\n    ERROR: \"error\",\n    ERROR_DESC: \"error.description\",\n    ACTIVE_ACCOUNT: \"active-account\",\n    ACTIVE_ACCOUNT_FILTERS: \"active-account-filters\"\n};\n/**\r\n * String constants related to AAD Authority\r\n */ const AADAuthorityConstants = {\n    COMMON: \"common\",\n    ORGANIZATIONS: \"organizations\",\n    CONSUMERS: \"consumers\"\n};\n/**\r\n * Claims request keys\r\n */ const ClaimsRequestKeys = {\n    ACCESS_TOKEN: \"access_token\",\n    XMS_CC: \"xms_cc\"\n};\n/**\r\n * we considered making this \"enum\" in the request instead of string, however it looks like the allowed list of\r\n * prompt values kept changing over past couple of years. There are some undocumented prompt values for some\r\n * internal partners too, hence the choice of generic \"string\" type instead of the \"enum\"\r\n */ const PromptValue = {\n    LOGIN: \"login\",\n    SELECT_ACCOUNT: \"select_account\",\n    CONSENT: \"consent\",\n    NONE: \"none\",\n    CREATE: \"create\",\n    NO_SESSION: \"no_session\"\n};\n/**\r\n * allowed values for codeVerifier\r\n */ const CodeChallengeMethodValues = {\n    PLAIN: \"plain\",\n    S256: \"S256\"\n};\n/**\r\n * allowed values for server response type\r\n */ const ServerResponseType = {\n    QUERY: \"query\",\n    FRAGMENT: \"fragment\"\n};\n/**\r\n * allowed values for response_mode\r\n */ const ResponseMode = {\n    ...ServerResponseType,\n    FORM_POST: \"form_post\"\n};\n/**\r\n * allowed grant_type\r\n */ const GrantType = {\n    IMPLICIT_GRANT: \"implicit\",\n    AUTHORIZATION_CODE_GRANT: \"authorization_code\",\n    CLIENT_CREDENTIALS_GRANT: \"client_credentials\",\n    RESOURCE_OWNER_PASSWORD_GRANT: \"password\",\n    REFRESH_TOKEN_GRANT: \"refresh_token\",\n    DEVICE_CODE_GRANT: \"device_code\",\n    JWT_BEARER: \"urn:ietf:params:oauth:grant-type:jwt-bearer\"\n};\n/**\r\n * Account types in Cache\r\n */ const CacheAccountType = {\n    MSSTS_ACCOUNT_TYPE: \"MSSTS\",\n    ADFS_ACCOUNT_TYPE: \"ADFS\",\n    MSAV1_ACCOUNT_TYPE: \"MSA\",\n    GENERIC_ACCOUNT_TYPE: \"Generic\"\n};\n/**\r\n * Separators used in cache\r\n */ const Separators = {\n    CACHE_KEY_SEPARATOR: \"-\",\n    CLIENT_INFO_SEPARATOR: \".\"\n};\n/**\r\n * Credential Type stored in the cache\r\n */ const CredentialType = {\n    ID_TOKEN: \"IdToken\",\n    ACCESS_TOKEN: \"AccessToken\",\n    ACCESS_TOKEN_WITH_AUTH_SCHEME: \"AccessToken_With_AuthScheme\",\n    REFRESH_TOKEN: \"RefreshToken\"\n};\n/**\r\n * Combine all cache types\r\n */ const CacheType = {\n    ADFS: 1001,\n    MSA: 1002,\n    MSSTS: 1003,\n    GENERIC: 1004,\n    ACCESS_TOKEN: 2001,\n    REFRESH_TOKEN: 2002,\n    ID_TOKEN: 2003,\n    APP_METADATA: 3001,\n    UNDEFINED: 9999\n};\n/**\r\n * More Cache related constants\r\n */ const APP_METADATA = \"appmetadata\";\nconst CLIENT_INFO = \"client_info\";\nconst THE_FAMILY_ID = \"1\";\nconst AUTHORITY_METADATA_CONSTANTS = {\n    CACHE_KEY: \"authority-metadata\",\n    REFRESH_TIME_SECONDS: 3600 * 24\n};\nconst AuthorityMetadataSource = {\n    CONFIG: \"config\",\n    CACHE: \"cache\",\n    NETWORK: \"network\",\n    HARDCODED_VALUES: \"hardcoded_values\"\n};\nconst SERVER_TELEM_CONSTANTS = {\n    SCHEMA_VERSION: 5,\n    MAX_CUR_HEADER_BYTES: 80,\n    MAX_LAST_HEADER_BYTES: 330,\n    MAX_CACHED_ERRORS: 50,\n    CACHE_KEY: \"server-telemetry\",\n    CATEGORY_SEPARATOR: \"|\",\n    VALUE_SEPARATOR: \",\",\n    OVERFLOW_TRUE: \"1\",\n    OVERFLOW_FALSE: \"0\",\n    UNKNOWN_ERROR: \"unknown_error\"\n};\n/**\r\n * Type of the authentication request\r\n */ const AuthenticationScheme = {\n    BEARER: \"Bearer\",\n    POP: \"pop\",\n    SSH: \"ssh-cert\"\n};\n/**\r\n * Constants related to throttling\r\n */ const ThrottlingConstants = {\n    // Default time to throttle RequestThumbprint in seconds\n    DEFAULT_THROTTLE_TIME_SECONDS: 60,\n    // Default maximum time to throttle in seconds, overrides what the server sends back\n    DEFAULT_MAX_THROTTLE_TIME_SECONDS: 3600,\n    // Prefix for storing throttling entries\n    THROTTLING_PREFIX: \"throttling\",\n    // Value assigned to the x-ms-lib-capability header to indicate to the server the library supports throttling\n    X_MS_LIB_CAPABILITY_VALUE: \"retry-after, h429\"\n};\nconst Errors = {\n    INVALID_GRANT_ERROR: \"invalid_grant\",\n    CLIENT_MISMATCH_ERROR: \"client_mismatch\"\n};\n/**\r\n * Password grant parameters\r\n */ const PasswordGrantConstants = {\n    username: \"username\",\n    password: \"password\"\n};\n/**\r\n * Response codes\r\n */ const ResponseCodes = {\n    httpSuccess: 200,\n    httpBadRequest: 400\n};\n/**\r\n * Region Discovery Sources\r\n */ const RegionDiscoverySources = {\n    FAILED_AUTO_DETECTION: \"1\",\n    INTERNAL_CACHE: \"2\",\n    ENVIRONMENT_VARIABLE: \"3\",\n    IMDS: \"4\"\n};\n/**\r\n * Region Discovery Outcomes\r\n */ const RegionDiscoveryOutcomes = {\n    CONFIGURED_MATCHES_DETECTED: \"1\",\n    CONFIGURED_NO_AUTO_DETECTION: \"2\",\n    CONFIGURED_NOT_DETECTED: \"3\",\n    AUTO_DETECTION_REQUESTED_SUCCESSFUL: \"4\",\n    AUTO_DETECTION_REQUESTED_FAILED: \"5\"\n};\n/**\r\n * Specifies the reason for fetching the access token from the identity provider\r\n */ const CacheOutcome = {\n    // When a token is found in the cache or the cache is not supposed to be hit when making the request\n    NOT_APPLICABLE: \"0\",\n    // When the token request goes to the identity provider because force_refresh was set to true. Also occurs if claims were requested\n    FORCE_REFRESH_OR_CLAIMS: \"1\",\n    // When the token request goes to the identity provider because no cached access token exists\n    NO_CACHED_ACCESS_TOKEN: \"2\",\n    // When the token request goes to the identity provider because cached access token expired\n    CACHED_ACCESS_TOKEN_EXPIRED: \"3\",\n    // When the token request goes to the identity provider because refresh_in was used and the existing token needs to be refreshed\n    PROACTIVELY_REFRESHED: \"4\"\n};\nconst JsonWebTokenTypes = {\n    Jwt: \"JWT\",\n    Jwk: \"JWK\",\n    Pop: \"pop\"\n};\nconst ONE_DAY_IN_MS = 86400000;\n// Token renewal offset default in seconds\nconst DEFAULT_TOKEN_RENEWAL_OFFSET_SEC = 300;\n //# sourceMappingURL=Constants.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdXRpbHMvQ29uc3RhbnRzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0QsTUFBTUEsWUFBWTtJQUNkQyxjQUFjO0lBQ2RDLEtBQUs7SUFDTCx1Q0FBdUM7SUFDdkNDLGNBQWM7SUFDZCxvQkFBb0I7SUFDcEJDLG1CQUFtQjtJQUNuQkMsd0JBQXdCO0lBQ3hCQyx1QkFBdUI7SUFDdkIsY0FBYztJQUNkQyxNQUFNO0lBQ05DLE1BQU07SUFDTiwwQ0FBMEM7SUFDMUNDLDhCQUE4QjtJQUM5QixXQUFXO0lBQ1hDLGVBQWU7SUFDZkMsMEJBQTBCO0lBQzFCLHNEQUFzRDtJQUN0REMsZ0JBQWdCO0lBQ2hCLG1EQUFtRDtJQUNuREMsWUFBWTtJQUNaLFNBQVM7SUFDVEMsUUFBUTtJQUNSLGdCQUFnQjtJQUNoQkMsZUFBZTtJQUNmLGlCQUFpQjtJQUNqQkMsY0FBYztJQUNkQyxlQUFlO0lBQ2ZDLHNCQUFzQjtJQUN0QkMsYUFBYTtJQUNiLG9EQUFvRDtJQUNwREMsb0JBQW9CO0lBQ3BCQyxpQkFBaUI7SUFDakJDLGVBQWU7SUFDZkMsd0JBQXdCO0lBQ3hCQyw0QkFBNEI7SUFDNUJDLHVCQUF1QjtJQUN2QkMsdUJBQXVCO0lBQ3ZCQyxhQUFhO0lBQ2JDLGNBQWM7SUFDZEMsZ0JBQWdCO0lBQ2hCQyxlQUFlO0lBQ2ZDLGVBQWU7SUFDZkMsZUFBZTtJQUNmQyxjQUFjO0lBQ2RDLGNBQWM7SUFDZEMsaUNBQWlDO0lBQ2pDQyxtQ0FBbUM7SUFDbkNDLHFCQUFxQjtRQUNqQjtRQUNBO1FBQ0E7UUFDQTtLQUNIO0lBQ0RDLHFCQUFxQjtJQUNyQkMsd0JBQXdCO0lBQ3hCQyxvQkFBb0I7SUFDcEJDLGtCQUFrQjtBQUN0QjtBQUNBLE1BQU1DLGFBQWE7SUFDZkMsU0FBUztJQUNUQyxxQkFBcUI7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QW1DO0FBRTBrQixDQUNubkIsc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L3V0aWxzL0NvbnN0YW50cy5tanM/ODgyNiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0Jztcbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBDb25zdGFudHMgPSB7XHJcbiAgICBMSUJSQVJZX05BTUU6IFwiTVNBTC5KU1wiLFxyXG4gICAgU0tVOiBcIm1zYWwuanMuY29tbW9uXCIsXHJcbiAgICAvLyBQcmVmaXggZm9yIGFsbCBsaWJyYXJ5IGNhY2hlIGVudHJpZXNcclxuICAgIENBQ0hFX1BSRUZJWDogXCJtc2FsXCIsXHJcbiAgICAvLyBkZWZhdWx0IGF1dGhvcml0eVxyXG4gICAgREVGQVVMVF9BVVRIT1JJVFk6IFwiaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tL2NvbW1vbi9cIixcclxuICAgIERFRkFVTFRfQVVUSE9SSVRZX0hPU1Q6IFwibG9naW4ubWljcm9zb2Z0b25saW5lLmNvbVwiLFxyXG4gICAgREVGQVVMVF9DT01NT05fVEVOQU5UOiBcImNvbW1vblwiLFxyXG4gICAgLy8gQURGUyBTdHJpbmdcclxuICAgIEFERlM6IFwiYWRmc1wiLFxyXG4gICAgRFNUUzogXCJkc3RzdjJcIixcclxuICAgIC8vIERlZmF1bHQgQUFEIEluc3RhbmNlIERpc2NvdmVyeSBFbmRwb2ludFxyXG4gICAgQUFEX0lOU1RBTkNFX0RJU0NPVkVSWV9FTkRQVDogXCJodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vY29tbW9uL2Rpc2NvdmVyeS9pbnN0YW5jZT9hcGktdmVyc2lvbj0xLjEmYXV0aG9yaXphdGlvbl9lbmRwb2ludD1cIixcclxuICAgIC8vIENJQU0gVVJMXHJcbiAgICBDSUFNX0FVVEhfVVJMOiBcIi5jaWFtbG9naW4uY29tXCIsXHJcbiAgICBBQURfVEVOQU5UX0RPTUFJTl9TVUZGSVg6IFwiLm9ubWljcm9zb2Z0LmNvbVwiLFxyXG4gICAgLy8gUmVzb3VyY2UgZGVsaW1pdGVyIC0gdXNlZCBmb3IgY2VydGFpbiBjYWNoZSBlbnRyaWVzXHJcbiAgICBSRVNPVVJDRV9ERUxJTTogXCJ8XCIsXHJcbiAgICAvLyBQbGFjZWhvbGRlciBmb3Igbm9uLWV4aXN0ZW50IGFjY291bnQgaWRzL29iamVjdHNcclxuICAgIE5PX0FDQ09VTlQ6IFwiTk9fQUNDT1VOVFwiLFxyXG4gICAgLy8gQ2xhaW1zXHJcbiAgICBDTEFJTVM6IFwiY2xhaW1zXCIsXHJcbiAgICAvLyBDb25zdW1lciBVVElEXHJcbiAgICBDT05TVU1FUl9VVElEOiBcIjkxODgwNDBkLTZjNjctNGM1Yi1iMTEyLTM2YTMwNGI2NmRhZFwiLFxyXG4gICAgLy8gRGVmYXVsdCBzY29wZXNcclxuICAgIE9QRU5JRF9TQ09QRTogXCJvcGVuaWRcIixcclxuICAgIFBST0ZJTEVfU0NPUEU6IFwicHJvZmlsZVwiLFxyXG4gICAgT0ZGTElORV9BQ0NFU1NfU0NPUEU6IFwib2ZmbGluZV9hY2Nlc3NcIixcclxuICAgIEVNQUlMX1NDT1BFOiBcImVtYWlsXCIsXHJcbiAgICAvLyBEZWZhdWx0IHJlc3BvbnNlIHR5cGUgZm9yIGF1dGhvcml6YXRpb24gY29kZSBmbG93XHJcbiAgICBDT0RFX1JFU1BPTlNFX1RZUEU6IFwiY29kZVwiLFxyXG4gICAgQ09ERV9HUkFOVF9UWVBFOiBcImF1dGhvcml6YXRpb25fY29kZVwiLFxyXG4gICAgUlRfR1JBTlRfVFlQRTogXCJyZWZyZXNoX3Rva2VuXCIsXHJcbiAgICBGUkFHTUVOVF9SRVNQT05TRV9NT0RFOiBcImZyYWdtZW50XCIsXHJcbiAgICBTMjU2X0NPREVfQ0hBTExFTkdFX01FVEhPRDogXCJTMjU2XCIsXHJcbiAgICBVUkxfRk9STV9DT05URU5UX1RZUEU6IFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLThcIixcclxuICAgIEFVVEhPUklaQVRJT05fUEVORElORzogXCJhdXRob3JpemF0aW9uX3BlbmRpbmdcIixcclxuICAgIE5PVF9ERUZJTkVEOiBcIm5vdF9kZWZpbmVkXCIsXHJcbiAgICBFTVBUWV9TVFJJTkc6IFwiXCIsXHJcbiAgICBOT1RfQVBQTElDQUJMRTogXCJOL0FcIixcclxuICAgIE5PVF9BVkFJTEFCTEU6IFwiTm90IEF2YWlsYWJsZVwiLFxyXG4gICAgRk9SV0FSRF9TTEFTSDogXCIvXCIsXHJcbiAgICBJTURTX0VORFBPSU5UOiBcImh0dHA6Ly8xNjkuMjU0LjE2OS4yNTQvbWV0YWRhdGEvaW5zdGFuY2UvY29tcHV0ZS9sb2NhdGlvblwiLFxyXG4gICAgSU1EU19WRVJTSU9OOiBcIjIwMjAtMDYtMDFcIixcclxuICAgIElNRFNfVElNRU9VVDogMjAwMCxcclxuICAgIEFaVVJFX1JFR0lPTl9BVVRPX0RJU0NPVkVSX0ZMQUc6IFwiVHJ5QXV0b0RldGVjdFwiLFxyXG4gICAgUkVHSU9OQUxfQVVUSF9QVUJMSUNfQ0xPVURfU1VGRklYOiBcImxvZ2luLm1pY3Jvc29mdC5jb21cIixcclxuICAgIEtOT1dOX1BVQkxJQ19DTE9VRFM6IFtcclxuICAgICAgICBcImxvZ2luLm1pY3Jvc29mdG9ubGluZS5jb21cIixcclxuICAgICAgICBcImxvZ2luLndpbmRvd3MubmV0XCIsXHJcbiAgICAgICAgXCJsb2dpbi5taWNyb3NvZnQuY29tXCIsXHJcbiAgICAgICAgXCJzdHMud2luZG93cy5uZXRcIixcclxuICAgIF0sXHJcbiAgICBUT0tFTl9SRVNQT05TRV9UWVBFOiBcInRva2VuXCIsXHJcbiAgICBJRF9UT0tFTl9SRVNQT05TRV9UWVBFOiBcImlkX3Rva2VuXCIsXHJcbiAgICBTSFJfTk9OQ0VfVkFMSURJVFk6IDI0MCxcclxuICAgIElOVkFMSURfSU5TVEFOQ0U6IFwiaW52YWxpZF9pbnN0YW5jZVwiLFxyXG59O1xyXG5jb25zdCBIdHRwU3RhdHVzID0ge1xyXG4gICAgU1VDQ0VTUzogMjAwLFxyXG4gICAgU1VDQ0VTU19SQU5HRV9TVEFSVDogMjAwLFxyXG4gICAgU1VDQ0VTU19SQU5HRV9FTkQ6IDI5OSxcclxuICAgIFJFRElSRUNUOiAzMDIsXHJcbiAgICBDTElFTlRfRVJST1I6IDQwMCxcclxuICAgIENMSUVOVF9FUlJPUl9SQU5HRV9TVEFSVDogNDAwLFxyXG4gICAgQkFEX1JFUVVFU1Q6IDQwMCxcclxuICAgIFVOQVVUSE9SSVpFRDogNDAxLFxyXG4gICAgTk9UX0ZPVU5EOiA0MDQsXHJcbiAgICBSRVFVRVNUX1RJTUVPVVQ6IDQwOCxcclxuICAgIFRPT19NQU5ZX1JFUVVFU1RTOiA0MjksXHJcbiAgICBDTElFTlRfRVJST1JfUkFOR0VfRU5EOiA0OTksXHJcbiAgICBTRVJWRVJfRVJST1I6IDUwMCxcclxuICAgIFNFUlZFUl9FUlJPUl9SQU5HRV9TVEFSVDogNTAwLFxyXG4gICAgU0VSVklDRV9VTkFWQUlMQUJMRTogNTAzLFxyXG4gICAgR0FURVdBWV9USU1FT1VUOiA1MDQsXHJcbiAgICBTRVJWRVJfRVJST1JfUkFOR0VfRU5EOiA1OTksXHJcbiAgICBNVUxUSV9TSURFRF9FUlJPUjogNjAwLFxyXG59O1xyXG5jb25zdCBPSURDX0RFRkFVTFRfU0NPUEVTID0gW1xyXG4gICAgQ29uc3RhbnRzLk9QRU5JRF9TQ09QRSxcclxuICAgIENvbnN0YW50cy5QUk9GSUxFX1NDT1BFLFxyXG4gICAgQ29uc3RhbnRzLk9GRkxJTkVfQUNDRVNTX1NDT1BFLFxyXG5dO1xyXG5jb25zdCBPSURDX1NDT1BFUyA9IFsuLi5PSURDX0RFRkFVTFRfU0NPUEVTLCBDb25zdGFudHMuRU1BSUxfU0NPUEVdO1xyXG4vKipcclxuICogUmVxdWVzdCBoZWFkZXIgbmFtZXNcclxuICovXHJcbmNvbnN0IEhlYWRlck5hbWVzID0ge1xyXG4gICAgQ09OVEVOVF9UWVBFOiBcIkNvbnRlbnQtVHlwZVwiLFxyXG4gICAgQ09OVEVOVF9MRU5HVEg6IFwiQ29udGVudC1MZW5ndGhcIixcclxuICAgIFJFVFJZX0FGVEVSOiBcIlJldHJ5LUFmdGVyXCIsXHJcbiAgICBDQ1NfSEVBREVSOiBcIlgtQW5jaG9yTWFpbGJveFwiLFxyXG4gICAgV1dXQXV0aGVudGljYXRlOiBcIldXVy1BdXRoZW50aWNhdGVcIixcclxuICAgIEF1dGhlbnRpY2F0aW9uSW5mbzogXCJBdXRoZW50aWNhdGlvbi1JbmZvXCIsXHJcbiAgICBYX01TX1JFUVVFU1RfSUQ6IFwieC1tcy1yZXF1ZXN0LWlkXCIsXHJcbiAgICBYX01TX0hUVFBfVkVSU0lPTjogXCJ4LW1zLWh0dHB2ZXJcIixcclxufTtcclxuLyoqXHJcbiAqIFBlcnNpc3RlbnQgY2FjaGUga2V5cyBNU0FMIHdoaWNoIHN0YXkgd2hpbGUgdXNlciBpcyBsb2dnZWQgaW4uXHJcbiAqL1xyXG5jb25zdCBQZXJzaXN0ZW50Q2FjaGVLZXlzID0ge1xyXG4gICAgSURfVE9LRU46IFwiaWR0b2tlblwiLFxyXG4gICAgQ0xJRU5UX0lORk86IFwiY2xpZW50LmluZm9cIixcclxuICAgIEFEQUxfSURfVE9LRU46IFwiYWRhbC5pZHRva2VuXCIsXHJcbiAgICBFUlJPUjogXCJlcnJvclwiLFxyXG4gICAgRVJST1JfREVTQzogXCJlcnJvci5kZXNjcmlwdGlvblwiLFxyXG4gICAgQUNUSVZFX0FDQ09VTlQ6IFwiYWN0aXZlLWFjY291bnRcIixcclxuICAgIEFDVElWRV9BQ0NPVU5UX0ZJTFRFUlM6IFwiYWN0aXZlLWFjY291bnQtZmlsdGVyc1wiLCAvLyBuZXcgY2FjaGUgZW50cnkgZm9yIGFjdGl2ZV9hY2NvdW50IGZvciBhIG1vcmUgcm9idXN0IHZlcnNpb24gZm9yIGJyb3dzZXJcclxufTtcclxuLyoqXHJcbiAqIFN0cmluZyBjb25zdGFudHMgcmVsYXRlZCB0byBBQUQgQXV0aG9yaXR5XHJcbiAqL1xyXG5jb25zdCBBQURBdXRob3JpdHlDb25zdGFudHMgPSB7XHJcbiAgICBDT01NT046IFwiY29tbW9uXCIsXHJcbiAgICBPUkdBTklaQVRJT05TOiBcIm9yZ2FuaXphdGlvbnNcIixcclxuICAgIENPTlNVTUVSUzogXCJjb25zdW1lcnNcIixcclxufTtcclxuLyoqXHJcbiAqIENsYWltcyByZXF1ZXN0IGtleXNcclxuICovXHJcbmNvbnN0IENsYWltc1JlcXVlc3RLZXlzID0ge1xyXG4gICAgQUNDRVNTX1RPS0VOOiBcImFjY2Vzc190b2tlblwiLFxyXG4gICAgWE1TX0NDOiBcInhtc19jY1wiLFxyXG59O1xyXG4vKipcclxuICogd2UgY29uc2lkZXJlZCBtYWtpbmcgdGhpcyBcImVudW1cIiBpbiB0aGUgcmVxdWVzdCBpbnN0ZWFkIG9mIHN0cmluZywgaG93ZXZlciBpdCBsb29rcyBsaWtlIHRoZSBhbGxvd2VkIGxpc3Qgb2ZcclxuICogcHJvbXB0IHZhbHVlcyBrZXB0IGNoYW5naW5nIG92ZXIgcGFzdCBjb3VwbGUgb2YgeWVhcnMuIFRoZXJlIGFyZSBzb21lIHVuZG9jdW1lbnRlZCBwcm9tcHQgdmFsdWVzIGZvciBzb21lXHJcbiAqIGludGVybmFsIHBhcnRuZXJzIHRvbywgaGVuY2UgdGhlIGNob2ljZSBvZiBnZW5lcmljIFwic3RyaW5nXCIgdHlwZSBpbnN0ZWFkIG9mIHRoZSBcImVudW1cIlxyXG4gKi9cclxuY29uc3QgUHJvbXB0VmFsdWUgPSB7XHJcbiAgICBMT0dJTjogXCJsb2dpblwiLFxyXG4gICAgU0VMRUNUX0FDQ09VTlQ6IFwic2VsZWN0X2FjY291bnRcIixcclxuICAgIENPTlNFTlQ6IFwiY29uc2VudFwiLFxyXG4gICAgTk9ORTogXCJub25lXCIsXHJcbiAgICBDUkVBVEU6IFwiY3JlYXRlXCIsXHJcbiAgICBOT19TRVNTSU9OOiBcIm5vX3Nlc3Npb25cIixcclxufTtcclxuLyoqXHJcbiAqIGFsbG93ZWQgdmFsdWVzIGZvciBjb2RlVmVyaWZpZXJcclxuICovXHJcbmNvbnN0IENvZGVDaGFsbGVuZ2VNZXRob2RWYWx1ZXMgPSB7XHJcbiAgICBQTEFJTjogXCJwbGFpblwiLFxyXG4gICAgUzI1NjogXCJTMjU2XCIsXHJcbn07XHJcbi8qKlxyXG4gKiBhbGxvd2VkIHZhbHVlcyBmb3Igc2VydmVyIHJlc3BvbnNlIHR5cGVcclxuICovXHJcbmNvbnN0IFNlcnZlclJlc3BvbnNlVHlwZSA9IHtcclxuICAgIFFVRVJZOiBcInF1ZXJ5XCIsXHJcbiAgICBGUkFHTUVOVDogXCJmcmFnbWVudFwiLFxyXG59O1xyXG4vKipcclxuICogYWxsb3dlZCB2YWx1ZXMgZm9yIHJlc3BvbnNlX21vZGVcclxuICovXHJcbmNvbnN0IFJlc3BvbnNlTW9kZSA9IHtcclxuICAgIC4uLlNlcnZlclJlc3BvbnNlVHlwZSxcclxuICAgIEZPUk1fUE9TVDogXCJmb3JtX3Bvc3RcIixcclxufTtcclxuLyoqXHJcbiAqIGFsbG93ZWQgZ3JhbnRfdHlwZVxyXG4gKi9cclxuY29uc3QgR3JhbnRUeXBlID0ge1xyXG4gICAgSU1QTElDSVRfR1JBTlQ6IFwiaW1wbGljaXRcIixcclxuICAgIEFVVEhPUklaQVRJT05fQ09ERV9HUkFOVDogXCJhdXRob3JpemF0aW9uX2NvZGVcIixcclxuICAgIENMSUVOVF9DUkVERU5USUFMU19HUkFOVDogXCJjbGllbnRfY3JlZGVudGlhbHNcIixcclxuICAgIFJFU09VUkNFX09XTkVSX1BBU1NXT1JEX0dSQU5UOiBcInBhc3N3b3JkXCIsXHJcbiAgICBSRUZSRVNIX1RPS0VOX0dSQU5UOiBcInJlZnJlc2hfdG9rZW5cIixcclxuICAgIERFVklDRV9DT0RFX0dSQU5UOiBcImRldmljZV9jb2RlXCIsXHJcbiAgICBKV1RfQkVBUkVSOiBcInVybjppZXRmOnBhcmFtczpvYXV0aDpncmFudC10eXBlOmp3dC1iZWFyZXJcIixcclxufTtcclxuLyoqXHJcbiAqIEFjY291bnQgdHlwZXMgaW4gQ2FjaGVcclxuICovXHJcbmNvbnN0IENhY2hlQWNjb3VudFR5cGUgPSB7XHJcbiAgICBNU1NUU19BQ0NPVU5UX1RZUEU6IFwiTVNTVFNcIixcclxuICAgIEFERlNfQUNDT1VOVF9UWVBFOiBcIkFERlNcIixcclxuICAgIE1TQVYxX0FDQ09VTlRfVFlQRTogXCJNU0FcIixcclxuICAgIEdFTkVSSUNfQUNDT1VOVF9UWVBFOiBcIkdlbmVyaWNcIiwgLy8gTlRMTSwgS2VyYmVyb3MsIEZCQSwgQmFzaWMgZXRjXHJcbn07XHJcbi8qKlxyXG4gKiBTZXBhcmF0b3JzIHVzZWQgaW4gY2FjaGVcclxuICovXHJcbmNvbnN0IFNlcGFyYXRvcnMgPSB7XHJcbiAgICBDQUNIRV9LRVlfU0VQQVJBVE9SOiBcIi1cIixcclxuICAgIENMSUVOVF9JTkZPX1NFUEFSQVRPUjogXCIuXCIsXHJcbn07XHJcbi8qKlxyXG4gKiBDcmVkZW50aWFsIFR5cGUgc3RvcmVkIGluIHRoZSBjYWNoZVxyXG4gKi9cclxuY29uc3QgQ3JlZGVudGlhbFR5cGUgPSB7XHJcbiAgICBJRF9UT0tFTjogXCJJZFRva2VuXCIsXHJcbiAgICBBQ0NFU1NfVE9LRU46IFwiQWNjZXNzVG9rZW5cIixcclxuICAgIEFDQ0VTU19UT0tFTl9XSVRIX0FVVEhfU0NIRU1FOiBcIkFjY2Vzc1Rva2VuX1dpdGhfQXV0aFNjaGVtZVwiLFxyXG4gICAgUkVGUkVTSF9UT0tFTjogXCJSZWZyZXNoVG9rZW5cIixcclxufTtcclxuLyoqXHJcbiAqIENvbWJpbmUgYWxsIGNhY2hlIHR5cGVzXHJcbiAqL1xyXG5jb25zdCBDYWNoZVR5cGUgPSB7XHJcbiAgICBBREZTOiAxMDAxLFxyXG4gICAgTVNBOiAxMDAyLFxyXG4gICAgTVNTVFM6IDEwMDMsXHJcbiAgICBHRU5FUklDOiAxMDA0LFxyXG4gICAgQUNDRVNTX1RPS0VOOiAyMDAxLFxyXG4gICAgUkVGUkVTSF9UT0tFTjogMjAwMixcclxuICAgIElEX1RPS0VOOiAyMDAzLFxyXG4gICAgQVBQX01FVEFEQVRBOiAzMDAxLFxyXG4gICAgVU5ERUZJTkVEOiA5OTk5LFxyXG59O1xyXG4vKipcclxuICogTW9yZSBDYWNoZSByZWxhdGVkIGNvbnN0YW50c1xyXG4gKi9cclxuY29uc3QgQVBQX01FVEFEQVRBID0gXCJhcHBtZXRhZGF0YVwiO1xyXG5jb25zdCBDTElFTlRfSU5GTyA9IFwiY2xpZW50X2luZm9cIjtcclxuY29uc3QgVEhFX0ZBTUlMWV9JRCA9IFwiMVwiO1xyXG5jb25zdCBBVVRIT1JJVFlfTUVUQURBVEFfQ09OU1RBTlRTID0ge1xyXG4gICAgQ0FDSEVfS0VZOiBcImF1dGhvcml0eS1tZXRhZGF0YVwiLFxyXG4gICAgUkVGUkVTSF9USU1FX1NFQ09ORFM6IDM2MDAgKiAyNCwgLy8gMjQgSG91cnNcclxufTtcclxuY29uc3QgQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UgPSB7XHJcbiAgICBDT05GSUc6IFwiY29uZmlnXCIsXHJcbiAgICBDQUNIRTogXCJjYWNoZVwiLFxyXG4gICAgTkVUV09SSzogXCJuZXR3b3JrXCIsXHJcbiAgICBIQVJEQ09ERURfVkFMVUVTOiBcImhhcmRjb2RlZF92YWx1ZXNcIixcclxufTtcclxuY29uc3QgU0VSVkVSX1RFTEVNX0NPTlNUQU5UUyA9IHtcclxuICAgIFNDSEVNQV9WRVJTSU9OOiA1LFxyXG4gICAgTUFYX0NVUl9IRUFERVJfQllURVM6IDgwLFxyXG4gICAgTUFYX0xBU1RfSEVBREVSX0JZVEVTOiAzMzAsXHJcbiAgICBNQVhfQ0FDSEVEX0VSUk9SUzogNTAsXHJcbiAgICBDQUNIRV9LRVk6IFwic2VydmVyLXRlbGVtZXRyeVwiLFxyXG4gICAgQ0FURUdPUllfU0VQQVJBVE9SOiBcInxcIixcclxuICAgIFZBTFVFX1NFUEFSQVRPUjogXCIsXCIsXHJcbiAgICBPVkVSRkxPV19UUlVFOiBcIjFcIixcclxuICAgIE9WRVJGTE9XX0ZBTFNFOiBcIjBcIixcclxuICAgIFVOS05PV05fRVJST1I6IFwidW5rbm93bl9lcnJvclwiLFxyXG59O1xyXG4vKipcclxuICogVHlwZSBvZiB0aGUgYXV0aGVudGljYXRpb24gcmVxdWVzdFxyXG4gKi9cclxuY29uc3QgQXV0aGVudGljYXRpb25TY2hlbWUgPSB7XHJcbiAgICBCRUFSRVI6IFwiQmVhcmVyXCIsXHJcbiAgICBQT1A6IFwicG9wXCIsXHJcbiAgICBTU0g6IFwic3NoLWNlcnRcIixcclxufTtcclxuLyoqXHJcbiAqIENvbnN0YW50cyByZWxhdGVkIHRvIHRocm90dGxpbmdcclxuICovXHJcbmNvbnN0IFRocm90dGxpbmdDb25zdGFudHMgPSB7XHJcbiAgICAvLyBEZWZhdWx0IHRpbWUgdG8gdGhyb3R0bGUgUmVxdWVzdFRodW1icHJpbnQgaW4gc2Vjb25kc1xyXG4gICAgREVGQVVMVF9USFJPVFRMRV9USU1FX1NFQ09ORFM6IDYwLFxyXG4gICAgLy8gRGVmYXVsdCBtYXhpbXVtIHRpbWUgdG8gdGhyb3R0bGUgaW4gc2Vjb25kcywgb3ZlcnJpZGVzIHdoYXQgdGhlIHNlcnZlciBzZW5kcyBiYWNrXHJcbiAgICBERUZBVUxUX01BWF9USFJPVFRMRV9USU1FX1NFQ09ORFM6IDM2MDAsXHJcbiAgICAvLyBQcmVmaXggZm9yIHN0b3JpbmcgdGhyb3R0bGluZyBlbnRyaWVzXHJcbiAgICBUSFJPVFRMSU5HX1BSRUZJWDogXCJ0aHJvdHRsaW5nXCIsXHJcbiAgICAvLyBWYWx1ZSBhc3NpZ25lZCB0byB0aGUgeC1tcy1saWItY2FwYWJpbGl0eSBoZWFkZXIgdG8gaW5kaWNhdGUgdG8gdGhlIHNlcnZlciB0aGUgbGlicmFyeSBzdXBwb3J0cyB0aHJvdHRsaW5nXHJcbiAgICBYX01TX0xJQl9DQVBBQklMSVRZX1ZBTFVFOiBcInJldHJ5LWFmdGVyLCBoNDI5XCIsXHJcbn07XHJcbmNvbnN0IEVycm9ycyA9IHtcclxuICAgIElOVkFMSURfR1JBTlRfRVJST1I6IFwiaW52YWxpZF9ncmFudFwiLFxyXG4gICAgQ0xJRU5UX01JU01BVENIX0VSUk9SOiBcImNsaWVudF9taXNtYXRjaFwiLFxyXG59O1xyXG4vKipcclxuICogUGFzc3dvcmQgZ3JhbnQgcGFyYW1ldGVyc1xyXG4gKi9cclxuY29uc3QgUGFzc3dvcmRHcmFudENvbnN0YW50cyA9IHtcclxuICAgIHVzZXJuYW1lOiBcInVzZXJuYW1lXCIsXHJcbiAgICBwYXNzd29yZDogXCJwYXNzd29yZFwiLFxyXG59O1xyXG4vKipcclxuICogUmVzcG9uc2UgY29kZXNcclxuICovXHJcbmNvbnN0IFJlc3BvbnNlQ29kZXMgPSB7XHJcbiAgICBodHRwU3VjY2VzczogMjAwLFxyXG4gICAgaHR0cEJhZFJlcXVlc3Q6IDQwMCxcclxufTtcclxuLyoqXHJcbiAqIFJlZ2lvbiBEaXNjb3ZlcnkgU291cmNlc1xyXG4gKi9cclxuY29uc3QgUmVnaW9uRGlzY292ZXJ5U291cmNlcyA9IHtcclxuICAgIEZBSUxFRF9BVVRPX0RFVEVDVElPTjogXCIxXCIsXHJcbiAgICBJTlRFUk5BTF9DQUNIRTogXCIyXCIsXHJcbiAgICBFTlZJUk9OTUVOVF9WQVJJQUJMRTogXCIzXCIsXHJcbiAgICBJTURTOiBcIjRcIixcclxufTtcclxuLyoqXHJcbiAqIFJlZ2lvbiBEaXNjb3ZlcnkgT3V0Y29tZXNcclxuICovXHJcbmNvbnN0IFJlZ2lvbkRpc2NvdmVyeU91dGNvbWVzID0ge1xyXG4gICAgQ09ORklHVVJFRF9NQVRDSEVTX0RFVEVDVEVEOiBcIjFcIixcclxuICAgIENPTkZJR1VSRURfTk9fQVVUT19ERVRFQ1RJT046IFwiMlwiLFxyXG4gICAgQ09ORklHVVJFRF9OT1RfREVURUNURUQ6IFwiM1wiLFxyXG4gICAgQVVUT19ERVRFQ1RJT05fUkVRVUVTVEVEX1NVQ0NFU1NGVUw6IFwiNFwiLFxyXG4gICAgQVVUT19ERVRFQ1RJT05fUkVRVUVTVEVEX0ZBSUxFRDogXCI1XCIsXHJcbn07XHJcbi8qKlxyXG4gKiBTcGVjaWZpZXMgdGhlIHJlYXNvbiBmb3IgZmV0Y2hpbmcgdGhlIGFjY2VzcyB0b2tlbiBmcm9tIHRoZSBpZGVudGl0eSBwcm92aWRlclxyXG4gKi9cclxuY29uc3QgQ2FjaGVPdXRjb21lID0ge1xyXG4gICAgLy8gV2hlbiBhIHRva2VuIGlzIGZvdW5kIGluIHRoZSBjYWNoZSBvciB0aGUgY2FjaGUgaXMgbm90IHN1cHBvc2VkIHRvIGJlIGhpdCB3aGVuIG1ha2luZyB0aGUgcmVxdWVzdFxyXG4gICAgTk9UX0FQUExJQ0FCTEU6IFwiMFwiLFxyXG4gICAgLy8gV2hlbiB0aGUgdG9rZW4gcmVxdWVzdCBnb2VzIHRvIHRoZSBpZGVudGl0eSBwcm92aWRlciBiZWNhdXNlIGZvcmNlX3JlZnJlc2ggd2FzIHNldCB0byB0cnVlLiBBbHNvIG9jY3VycyBpZiBjbGFpbXMgd2VyZSByZXF1ZXN0ZWRcclxuICAgIEZPUkNFX1JFRlJFU0hfT1JfQ0xBSU1TOiBcIjFcIixcclxuICAgIC8vIFdoZW4gdGhlIHRva2VuIHJlcXVlc3QgZ29lcyB0byB0aGUgaWRlbnRpdHkgcHJvdmlkZXIgYmVjYXVzZSBubyBjYWNoZWQgYWNjZXNzIHRva2VuIGV4aXN0c1xyXG4gICAgTk9fQ0FDSEVEX0FDQ0VTU19UT0tFTjogXCIyXCIsXHJcbiAgICAvLyBXaGVuIHRoZSB0b2tlbiByZXF1ZXN0IGdvZXMgdG8gdGhlIGlkZW50aXR5IHByb3ZpZGVyIGJlY2F1c2UgY2FjaGVkIGFjY2VzcyB0b2tlbiBleHBpcmVkXHJcbiAgICBDQUNIRURfQUNDRVNTX1RPS0VOX0VYUElSRUQ6IFwiM1wiLFxyXG4gICAgLy8gV2hlbiB0aGUgdG9rZW4gcmVxdWVzdCBnb2VzIHRvIHRoZSBpZGVudGl0eSBwcm92aWRlciBiZWNhdXNlIHJlZnJlc2hfaW4gd2FzIHVzZWQgYW5kIHRoZSBleGlzdGluZyB0b2tlbiBuZWVkcyB0byBiZSByZWZyZXNoZWRcclxuICAgIFBST0FDVElWRUxZX1JFRlJFU0hFRDogXCI0XCIsXHJcbn07XHJcbmNvbnN0IEpzb25XZWJUb2tlblR5cGVzID0ge1xyXG4gICAgSnd0OiBcIkpXVFwiLFxyXG4gICAgSndrOiBcIkpXS1wiLFxyXG4gICAgUG9wOiBcInBvcFwiLFxyXG59O1xyXG5jb25zdCBPTkVfREFZX0lOX01TID0gODY0MDAwMDA7XHJcbi8vIFRva2VuIHJlbmV3YWwgb2Zmc2V0IGRlZmF1bHQgaW4gc2Vjb25kc1xyXG5jb25zdCBERUZBVUxUX1RPS0VOX1JFTkVXQUxfT0ZGU0VUX1NFQyA9IDMwMDtcblxuZXhwb3J0IHsgQUFEQXV0aG9yaXR5Q29uc3RhbnRzLCBBUFBfTUVUQURBVEEsIEFVVEhPUklUWV9NRVRBREFUQV9DT05TVEFOVFMsIEF1dGhlbnRpY2F0aW9uU2NoZW1lLCBBdXRob3JpdHlNZXRhZGF0YVNvdXJjZSwgQ0xJRU5UX0lORk8sIENhY2hlQWNjb3VudFR5cGUsIENhY2hlT3V0Y29tZSwgQ2FjaGVUeXBlLCBDbGFpbXNSZXF1ZXN0S2V5cywgQ29kZUNoYWxsZW5nZU1ldGhvZFZhbHVlcywgQ29uc3RhbnRzLCBDcmVkZW50aWFsVHlwZSwgREVGQVVMVF9UT0tFTl9SRU5FV0FMX09GRlNFVF9TRUMsIEVycm9ycywgR3JhbnRUeXBlLCBIZWFkZXJOYW1lcywgSHR0cFN0YXR1cywgSnNvbldlYlRva2VuVHlwZXMsIE9JRENfREVGQVVMVF9TQ09QRVMsIE9JRENfU0NPUEVTLCBPTkVfREFZX0lOX01TLCBQYXNzd29yZEdyYW50Q29uc3RhbnRzLCBQZXJzaXN0ZW50Q2FjaGVLZXlzLCBQcm9tcHRWYWx1ZSwgUmVnaW9uRGlzY292ZXJ5T3V0Y29tZXMsIFJlZ2lvbkRpc2NvdmVyeVNvdXJjZXMsIFJlc3BvbnNlQ29kZXMsIFJlc3BvbnNlTW9kZSwgU0VSVkVSX1RFTEVNX0NPTlNUQU5UUywgU2VwYXJhdG9ycywgU2VydmVyUmVzcG9uc2VUeXBlLCBUSEVfRkFNSUxZX0lELCBUaHJvdHRsaW5nQ29uc3RhbnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Db25zdGFudHMubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkNvbnN0YW50cyIsIkxJQlJBUllfTkFNRSIsIlNLVSIsIkNBQ0hFX1BSRUZJWCIsIkRFRkFVTFRfQVVUSE9SSVRZIiwiREVGQVVMVF9BVVRIT1JJVFlfSE9TVCIsIkRFRkFVTFRfQ09NTU9OX1RFTkFOVCIsIkFERlMiLCJEU1RTIiwiQUFEX0lOU1RBTkNFX0RJU0NPVkVSWV9FTkRQVCIsIkNJQU1fQVVUSF9VUkwiLCJBQURfVEVOQU5UX0RPTUFJTl9TVUZGSVgiLCJSRVNPVVJDRV9ERUxJTSIsIk5PX0FDQ09VTlQiLCJDTEFJTVMiLCJDT05TVU1FUl9VVElEIiwiT1BFTklEX1NDT1BFIiwiUFJPRklMRV9TQ09QRSIsIk9GRkxJTkVfQUNDRVNTX1NDT1BFIiwiRU1BSUxfU0NPUEUiLCJDT0RFX1JFU1BPTlNFX1RZUEUiLCJDT0RFX0dSQU5UX1RZUEUiLCJSVF9HUkFOVF9UWVBFIiwiRlJBR01FTlRfUkVTUE9OU0VfTU9ERSIsIlMyNTZfQ09ERV9DSEFMTEVOR0VfTUVUSE9EIiwiVVJMX0ZPUk1fQ09OVEVOVF9UWVBFIiwiQVVUSE9SSVpBVElPTl9QRU5ESU5HIiwiTk9UX0RFRklORUQiLCJFTVBUWV9TVFJJTkciLCJOT1RfQVBQTElDQUJMRSIsIk5PVF9BVkFJTEFCTEUiLCJGT1JXQVJEX1NMQVNIIiwiSU1EU19FTkRQT0lOVCIsIklNRFNfVkVSU0lPTiIsIklNRFNfVElNRU9VVCIsIkFaVVJFX1JFR0lPTl9BVVRPX0RJU0NPVkVSX0ZMQUciLCJSRUdJT05BTF9BVVRIX1BVQkxJQ19DTE9VRF9TVUZGSVgiLCJLTk9XTl9QVUJMSUNfQ0xPVURTIiwiVE9LRU5fUkVTUE9OU0VfVFlQRSIsIklEX1RPS0VOX1JFU1BPTlNFX1RZUEUiLCJTSFJfTk9OQ0VfVkFMSURJVFkiLCJJTlZBTElEX0lOU1RBTkNFIiwiSHR0cFN0YXR1cyIsIlNVQ0NFU1MiLCJTVUNDRVNTX1JBTkdFX1NUQVJUIiwiU1VDQ0VTU19SQU5HRV9FTkQiLCJSRURJUkVDVCIsIkNMSUVOVF9FUlJPUiIsIkNMSUVOVF9FUlJPUl9SQU5HRV9TVEFSVCIsIkJBRF9SRVFVRVNUIiwiVU5BVVRIT1JJWkVEIiwiTk9UX0ZPVU5EIiwiUkVRVUVTVF9USU1FT1VUIiwiVE9PX01BTllfUkVRVUVTVFMiLCJDTElFTlRfRVJST1JfUkFOR0VfRU5EIiwiU0VSVkVSX0VSUk9SIiwiU0VSVkVSX0VSUk9SX1JBTkdFX1NUQVJUIiwiU0VSVklDRV9VTkFWQUlMQUJMRSIsIkdBVEVXQVlfVElNRU9VVCIsIlNFUlZFUl9FUlJPUl9SQU5HRV9FTkQiLCJNVUxUSV9TSURFRF9FUlJPUiIsIk9JRENfREVGQVVMVF9TQ09QRVMiLCJPSURDX1NDT1BFUyIsIkhlYWRlck5hbWVzIiwiQ09OVEVOVF9UWVBFIiwiQ09OVEVOVF9MRU5HVEgiLCJSRVRSWV9BRlRFUiIsIkNDU19IRUFERVIiLCJXV1dBdXRoZW50aWNhdGUiLCJBdXRoZW50aWNhdGlvbkluZm8iLCJYX01TX1JFUVVFU1RfSUQiLCJYX01TX0hUVFBfVkVSU0lPTiIsIlBlcnNpc3RlbnRDYWNoZUtleXMiLCJJRF9UT0tFTiIsIkNMSUVOVF9JTkZPIiwiQURBTF9JRF9UT0tFTiIsIkVSUk9SIiwiRVJST1JfREVTQyIsIkFDVElWRV9BQ0NPVU5UIiwiQUNUSVZFX0FDQ09VTlRfRklMVEVSUyIsIkFBREF1dGhvcml0eUNvbnN0YW50cyIsIkNPTU1PTiIsIk9SR0FOSVpBVElPTlMiLCJDT05TVU1FUlMiLCJDbGFpbXNSZXF1ZXN0S2V5cyIsIkFDQ0VTU19UT0tFTiIsIlhNU19DQyIsIlByb21wdFZhbHVlIiwiTE9HSU4iLCJTRUxFQ1RfQUNDT1VOVCIsIkNPTlNFTlQiLCJOT05FIiwiQ1JFQVRFIiwiTk9fU0VTU0lPTiIsIkNvZGVDaGFsbGVuZ2VNZXRob2RWYWx1ZXMiLCJQTEFJTiIsIlMyNTYiLCJTZXJ2ZXJSZXNwb25zZVR5cGUiLCJRVUVSWSIsIkZSQUdNRU5UIiwiUmVzcG9uc2VNb2RlIiwiRk9STV9QT1NUIiwiR3JhbnRUeXBlIiwiSU1QTElDSVRfR1JBTlQiLCJBVVRIT1JJWkFUSU9OX0NPREVfR1JBTlQiLCJDTElFTlRfQ1JFREVOVElBTFNfR1JBTlQiLCJSRVNPVVJDRV9PV05FUl9QQVNTV09SRF9HUkFOVCIsIlJFRlJFU0hfVE9LRU5fR1JBTlQiLCJERVZJQ0VfQ09ERV9HUkFOVCIsIkpXVF9CRUFSRVIiLCJDYWNoZUFjY291bnRUeXBlIiwiTVNTVFNfQUNDT1VOVF9UWVBFIiwiQURGU19BQ0NPVU5UX1RZUEUiLCJNU0FWMV9BQ0NPVU5UX1RZUEUiLCJHRU5FUklDX0FDQ09VTlRfVFlQRSIsIlNlcGFyYXRvcnMiLCJDQUNIRV9LRVlfU0VQQVJBVE9SIiwiQ0xJRU5UX0lORk9fU0VQQVJBVE9SIiwiQ3JlZGVudGlhbFR5cGUiLCJBQ0NFU1NfVE9LRU5fV0lUSF9BVVRIX1NDSEVNRSIsIlJFRlJFU0hfVE9LRU4iLCJDYWNoZVR5cGUiLCJNU0EiLCJNU1NUUyIsIkdFTkVSSUMiLCJBUFBfTUVUQURBVEEiLCJVTkRFRklORUQiLCJUSEVfRkFNSUxZX0lEIiwiQVVUSE9SSVRZX01FVEFEQVRBX0NPTlNUQU5UUyIsIkNBQ0hFX0tFWSIsIlJFRlJFU0hfVElNRV9TRUNPTkRTIiwiQXV0aG9yaXR5TWV0YWRhdGFTb3VyY2UiLCJDT05GSUciLCJDQUNIRSIsIk5FVFdPUksiLCJIQVJEQ09ERURfVkFMVUVTIiwiU0VSVkVSX1RFTEVNX0NPTlNUQU5UUyIsIlNDSEVNQV9WRVJTSU9OIiwiTUFYX0NVUl9IRUFERVJfQllURVMiLCJNQVhfTEFTVF9IRUFERVJfQllURVMiLCJNQVhfQ0FDSEVEX0VSUk9SUyIsIkNBVEVHT1JZX1NFUEFSQVRPUiIsIlZBTFVFX1NFUEFSQVRPUiIsIk9WRVJGTE9XX1RSVUUiLCJPVkVSRkxPV19GQUxTRSIsIlVOS05PV05fRVJST1IiLCJBdXRoZW50aWNhdGlvblNjaGVtZSIsIkJFQVJFUiIsIlBPUCIsIlNTSCIsIlRocm90dGxpbmdDb25zdGFudHMiLCJERUZBVUxUX1RIUk9UVExFX1RJTUVfU0VDT05EUyIsIkRFRkFVTFRfTUFYX1RIUk9UVExFX1RJTUVfU0VDT05EUyIsIlRIUk9UVExJTkdfUFJFRklYIiwiWF9NU19MSUJfQ0FQQUJJTElUWV9WQUxVRSIsIkVycm9ycyIsIklOVkFMSURfR1JBTlRfRVJST1IiLCJDTElFTlRfTUlTTUFUQ0hfRVJST1IiLCJQYXNzd29yZEdyYW50Q29uc3RhbnRzIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsIlJlc3BvbnNlQ29kZXMiLCJodHRwU3VjY2VzcyIsImh0dHBCYWRSZXF1ZXN0IiwiUmVnaW9uRGlzY292ZXJ5U291cmNlcyIsIkZBSUxFRF9BVVRPX0RFVEVDVElPTiIsIklOVEVSTkFMX0NBQ0hFIiwiRU5WSVJPTk1FTlRfVkFSSUFCTEUiLCJJTURTIiwiUmVnaW9uRGlzY292ZXJ5T3V0Y29tZXMiLCJDT05GSUdVUkVEX01BVENIRVNfREVURUNURUQiLCJDT05GSUdVUkVEX05PX0FVVE9fREVURUNUSU9OIiwiQ09ORklHVVJFRF9OT1RfREVURUNURUQiLCJBVVRPX0RFVEVDVElPTl9SRVFVRVNURURfU1VDQ0VTU0ZVTCIsIkFVVE9fREVURUNUSU9OX1JFUVVFU1RFRF9GQUlMRUQiLCJDYWNoZU91dGNvbWUiLCJGT1JDRV9SRUZSRVNIX09SX0NMQUlNUyIsIk5PX0NBQ0hFRF9BQ0NFU1NfVE9LRU4iLCJDQUNIRURfQUNDRVNTX1RPS0VOX0VYUElSRUQiLCJQUk9BQ1RJVkVMWV9SRUZSRVNIRUQiLCJKc29uV2ViVG9rZW5UeXBlcyIsIkp3dCIsIkp3ayIsIlBvcCIsIk9ORV9EQVlfSU5fTVMiLCJERUZBVUxUX1RPS0VOX1JFTkVXQUxfT0ZGU0VUX1NFQyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs ***!
  \*************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   invoke: () => (/* binding */ invoke),\n/* harmony export */   invokeAsync: () => (/* binding */ invokeAsync)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Wraps a function with a performance measurement.\r\n * Usage: invoke(functionToCall, performanceClient, \"EventName\", \"correlationId\")(...argsToPassToFunction)\r\n * @param callback\r\n * @param eventName\r\n * @param logger\r\n * @param telemetryClient\r\n * @param correlationId\r\n * @returns\r\n * @internal\r\n */ // eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst invoke = (callback, eventName, logger, telemetryClient, correlationId)=>{\n    return (...args)=>{\n        logger.trace(`Executing function ${eventName}`);\n        const inProgressEvent = telemetryClient?.startMeasurement(eventName, correlationId);\n        if (correlationId) {\n            // Track number of times this API is called in a single request\n            const eventCount = eventName + \"CallCount\";\n            telemetryClient?.incrementFields({\n                [eventCount]: 1\n            }, correlationId);\n        }\n        try {\n            const result = callback(...args);\n            inProgressEvent?.end({\n                success: true\n            });\n            logger.trace(`Returning result from ${eventName}`);\n            return result;\n        } catch (e) {\n            logger.trace(`Error occurred in ${eventName}`);\n            try {\n                logger.trace(JSON.stringify(e));\n            } catch (e) {\n                logger.trace(\"Unable to print error message.\");\n            }\n            inProgressEvent?.end({\n                success: false\n            }, e);\n            throw e;\n        }\n    };\n};\n/**\r\n * Wraps an async function with a performance measurement.\r\n * Usage: invokeAsync(functionToCall, performanceClient, \"EventName\", \"correlationId\")(...argsToPassToFunction)\r\n * @param callback\r\n * @param eventName\r\n * @param logger\r\n * @param telemetryClient\r\n * @param correlationId\r\n * @returns\r\n * @internal\r\n *\r\n */ // eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst invokeAsync = (callback, eventName, logger, telemetryClient, correlationId)=>{\n    return (...args)=>{\n        logger.trace(`Executing function ${eventName}`);\n        const inProgressEvent = telemetryClient?.startMeasurement(eventName, correlationId);\n        if (correlationId) {\n            // Track number of times this API is called in a single request\n            const eventCount = eventName + \"CallCount\";\n            telemetryClient?.incrementFields({\n                [eventCount]: 1\n            }, correlationId);\n        }\n        telemetryClient?.setPreQueueTime(eventName, correlationId);\n        return callback(...args).then((response)=>{\n            logger.trace(`Returning result from ${eventName}`);\n            inProgressEvent?.end({\n                success: true\n            });\n            return response;\n        }).catch((e)=>{\n            logger.trace(`Error occurred in ${eventName}`);\n            try {\n                logger.trace(JSON.stringify(e));\n            } catch (e) {\n                logger.trace(\"Unable to print error message.\");\n            }\n            inProgressEvent?.end({\n                success: false\n            }, e);\n            throw e;\n        });\n    };\n};\n //# sourceMappingURL=FunctionWrappers.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdXRpbHMvRnVuY3Rpb25XcmFwcGVycy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDQTs7O0NBR0MsR0FDRDs7Ozs7Ozs7OztDQVVDLEdBQ0QsOERBQThEO0FBQzlELE1BQU1BLFNBQVMsQ0FBQ0MsVUFBVUMsV0FBV0MsUUFBUUMsaUJBQWlCQztJQUMxRCxPQUFPLENBQUMsR0FBR0M7UUFDUEgsT0FBT0ksS0FBSyxDQUFDLENBQUMsbUJBQW1CLEVBQUVMLFVBQVUsQ0FBQztRQUM5QyxNQUFNTSxrQkFBa0JKLGlCQUFpQkssaUJBQWlCUCxXQUFXRztRQUNyRSxJQUFJQSxlQUFlO1lBQ2YsK0RBQStEO1lBQy9ELE1BQU1LLGFBQWFSLFlBQVk7WUFDL0JFLGlCQUFpQk8sZ0JBQWdCO2dCQUFFLENBQUNELFdBQVcsRUFBRTtZQUFFLEdBQUdMO1FBQzFEO1FBQ0EsSUFBSTtZQUNBLE1BQU1PLFNBQVNYLFlBQVlLO1lBQzNCRSxpQkFBaUJLLElBQUk7Z0JBQ2pCQyxTQUFTO1lBQ2I7WUFDQVgsT0FBT0ksS0FBSyxDQUFDLENBQUMsc0JBQXNCLEVBQUVMLFVBQVUsQ0FBQztZQUNqRCxPQUFPVTtRQUNYLEVBQ0EsT0FBT0csR0FBRztZQUNOWixPQUFPSSxLQUFLLENBQUMsQ0FBQyxrQkFBa0IsRUFBRUwsVUFBVSxDQUFDO1lBQzdDLElBQUk7Z0JBQ0FDLE9BQU9JLEtBQUssQ0FBQ1MsS0FBS0MsU0FBUyxDQUFDRjtZQUNoQyxFQUNBLE9BQU9BLEdBQUc7Z0JBQ05aLE9BQU9JLEtBQUssQ0FBQztZQUNqQjtZQUNBQyxpQkFBaUJLLElBQUk7Z0JBQ2pCQyxTQUFTO1lBQ2IsR0FBR0M7WUFDSCxNQUFNQTtRQUNWO0lBQ0o7QUFDSjtBQUNBOzs7Ozs7Ozs7OztDQVdDLEdBQ0QsOERBQThEO0FBQzlELE1BQU1HLGNBQWMsQ0FBQ2pCLFVBQVVDLFdBQVdDLFFBQVFDLGlCQUFpQkM7SUFDL0QsT0FBTyxDQUFDLEdBQUdDO1FBQ1BILE9BQU9JLEtBQUssQ0FBQyxDQUFDLG1CQUFtQixFQUFFTCxVQUFVLENBQUM7UUFDOUMsTUFBTU0sa0JBQWtCSixpQkFBaUJLLGlCQUFpQlAsV0FBV0c7UUFDckUsSUFBSUEsZUFBZTtZQUNmLCtEQUErRDtZQUMvRCxNQUFNSyxhQUFhUixZQUFZO1lBQy9CRSxpQkFBaUJPLGdCQUFnQjtnQkFBRSxDQUFDRCxXQUFXLEVBQUU7WUFBRSxHQUFHTDtRQUMxRDtRQUNBRCxpQkFBaUJlLGdCQUFnQmpCLFdBQVdHO1FBQzVDLE9BQU9KLFlBQVlLLE1BQ2RjLElBQUksQ0FBQyxDQUFDQztZQUNQbEIsT0FBT0ksS0FBSyxDQUFDLENBQUMsc0JBQXNCLEVBQUVMLFVBQVUsQ0FBQztZQUNqRE0saUJBQWlCSyxJQUFJO2dCQUNqQkMsU0FBUztZQUNiO1lBQ0EsT0FBT087UUFDWCxHQUNLQyxLQUFLLENBQUMsQ0FBQ1A7WUFDUlosT0FBT0ksS0FBSyxDQUFDLENBQUMsa0JBQWtCLEVBQUVMLFVBQVUsQ0FBQztZQUM3QyxJQUFJO2dCQUNBQyxPQUFPSSxLQUFLLENBQUNTLEtBQUtDLFNBQVMsQ0FBQ0Y7WUFDaEMsRUFDQSxPQUFPQSxHQUFHO2dCQUNOWixPQUFPSSxLQUFLLENBQUM7WUFDakI7WUFDQUMsaUJBQWlCSyxJQUFJO2dCQUNqQkMsU0FBUztZQUNiLEdBQUdDO1lBQ0gsTUFBTUE7UUFDVjtJQUNKO0FBQ0o7QUFFK0IsQ0FDL0IsNkNBQTZDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L3V0aWxzL0Z1bmN0aW9uV3JhcHBlcnMubWpzP2Q0YjIiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFdyYXBzIGEgZnVuY3Rpb24gd2l0aCBhIHBlcmZvcm1hbmNlIG1lYXN1cmVtZW50LlxyXG4gKiBVc2FnZTogaW52b2tlKGZ1bmN0aW9uVG9DYWxsLCBwZXJmb3JtYW5jZUNsaWVudCwgXCJFdmVudE5hbWVcIiwgXCJjb3JyZWxhdGlvbklkXCIpKC4uLmFyZ3NUb1Bhc3NUb0Z1bmN0aW9uKVxyXG4gKiBAcGFyYW0gY2FsbGJhY2tcclxuICogQHBhcmFtIGV2ZW50TmFtZVxyXG4gKiBAcGFyYW0gbG9nZ2VyXHJcbiAqIEBwYXJhbSB0ZWxlbWV0cnlDbGllbnRcclxuICogQHBhcmFtIGNvcnJlbGF0aW9uSWRcclxuICogQHJldHVybnNcclxuICogQGludGVybmFsXHJcbiAqL1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG5jb25zdCBpbnZva2UgPSAoY2FsbGJhY2ssIGV2ZW50TmFtZSwgbG9nZ2VyLCB0ZWxlbWV0cnlDbGllbnQsIGNvcnJlbGF0aW9uSWQpID0+IHtcclxuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgIGxvZ2dlci50cmFjZShgRXhlY3V0aW5nIGZ1bmN0aW9uICR7ZXZlbnROYW1lfWApO1xyXG4gICAgICAgIGNvbnN0IGluUHJvZ3Jlc3NFdmVudCA9IHRlbGVtZXRyeUNsaWVudD8uc3RhcnRNZWFzdXJlbWVudChldmVudE5hbWUsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGlmIChjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgICAgIC8vIFRyYWNrIG51bWJlciBvZiB0aW1lcyB0aGlzIEFQSSBpcyBjYWxsZWQgaW4gYSBzaW5nbGUgcmVxdWVzdFxyXG4gICAgICAgICAgICBjb25zdCBldmVudENvdW50ID0gZXZlbnROYW1lICsgXCJDYWxsQ291bnRcIjtcclxuICAgICAgICAgICAgdGVsZW1ldHJ5Q2xpZW50Py5pbmNyZW1lbnRGaWVsZHMoeyBbZXZlbnRDb3VudF06IDEgfSwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGNhbGxiYWNrKC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICBpblByb2dyZXNzRXZlbnQ/LmVuZCh7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKGBSZXR1cm5pbmcgcmVzdWx0IGZyb20gJHtldmVudE5hbWV9YCk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGxvZ2dlci50cmFjZShgRXJyb3Igb2NjdXJyZWQgaW4gJHtldmVudE5hbWV9YCk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIudHJhY2UoSlNPTi5zdHJpbmdpZnkoZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICBsb2dnZXIudHJhY2UoXCJVbmFibGUgdG8gcHJpbnQgZXJyb3IgbWVzc2FnZS5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5Qcm9ncmVzc0V2ZW50Py5lbmQoe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgICAgIH0sIGUpO1xyXG4gICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbn07XHJcbi8qKlxyXG4gKiBXcmFwcyBhbiBhc3luYyBmdW5jdGlvbiB3aXRoIGEgcGVyZm9ybWFuY2UgbWVhc3VyZW1lbnQuXHJcbiAqIFVzYWdlOiBpbnZva2VBc3luYyhmdW5jdGlvblRvQ2FsbCwgcGVyZm9ybWFuY2VDbGllbnQsIFwiRXZlbnROYW1lXCIsIFwiY29ycmVsYXRpb25JZFwiKSguLi5hcmdzVG9QYXNzVG9GdW5jdGlvbilcclxuICogQHBhcmFtIGNhbGxiYWNrXHJcbiAqIEBwYXJhbSBldmVudE5hbWVcclxuICogQHBhcmFtIGxvZ2dlclxyXG4gKiBAcGFyYW0gdGVsZW1ldHJ5Q2xpZW50XHJcbiAqIEBwYXJhbSBjb3JyZWxhdGlvbklkXHJcbiAqIEByZXR1cm5zXHJcbiAqIEBpbnRlcm5hbFxyXG4gKlxyXG4gKi9cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuY29uc3QgaW52b2tlQXN5bmMgPSAoY2FsbGJhY2ssIGV2ZW50TmFtZSwgbG9nZ2VyLCB0ZWxlbWV0cnlDbGllbnQsIGNvcnJlbGF0aW9uSWQpID0+IHtcclxuICAgIHJldHVybiAoLi4uYXJncykgPT4ge1xyXG4gICAgICAgIGxvZ2dlci50cmFjZShgRXhlY3V0aW5nIGZ1bmN0aW9uICR7ZXZlbnROYW1lfWApO1xyXG4gICAgICAgIGNvbnN0IGluUHJvZ3Jlc3NFdmVudCA9IHRlbGVtZXRyeUNsaWVudD8uc3RhcnRNZWFzdXJlbWVudChldmVudE5hbWUsIGNvcnJlbGF0aW9uSWQpO1xyXG4gICAgICAgIGlmIChjb3JyZWxhdGlvbklkKSB7XHJcbiAgICAgICAgICAgIC8vIFRyYWNrIG51bWJlciBvZiB0aW1lcyB0aGlzIEFQSSBpcyBjYWxsZWQgaW4gYSBzaW5nbGUgcmVxdWVzdFxyXG4gICAgICAgICAgICBjb25zdCBldmVudENvdW50ID0gZXZlbnROYW1lICsgXCJDYWxsQ291bnRcIjtcclxuICAgICAgICAgICAgdGVsZW1ldHJ5Q2xpZW50Py5pbmNyZW1lbnRGaWVsZHMoeyBbZXZlbnRDb3VudF06IDEgfSwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRlbGVtZXRyeUNsaWVudD8uc2V0UHJlUXVldWVUaW1lKGV2ZW50TmFtZSwgY29ycmVsYXRpb25JZCk7XHJcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKC4uLmFyZ3MpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXNwb25zZSkgPT4ge1xyXG4gICAgICAgICAgICBsb2dnZXIudHJhY2UoYFJldHVybmluZyByZXN1bHQgZnJvbSAke2V2ZW50TmFtZX1gKTtcclxuICAgICAgICAgICAgaW5Qcm9ncmVzc0V2ZW50Py5lbmQoe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcclxuICAgICAgICAgICAgbG9nZ2VyLnRyYWNlKGBFcnJvciBvY2N1cnJlZCBpbiAke2V2ZW50TmFtZX1gKTtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci50cmFjZShKU09OLnN0cmluZ2lmeShlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGxvZ2dlci50cmFjZShcIlVuYWJsZSB0byBwcmludCBlcnJvciBtZXNzYWdlLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpblByb2dyZXNzRXZlbnQ/LmVuZCh7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcclxuICAgICAgICAgICAgfSwgZSk7XHJcbiAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG59O1xuXG5leHBvcnQgeyBpbnZva2UsIGludm9rZUFzeW5jIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1GdW5jdGlvbldyYXBwZXJzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJpbnZva2UiLCJjYWxsYmFjayIsImV2ZW50TmFtZSIsImxvZ2dlciIsInRlbGVtZXRyeUNsaWVudCIsImNvcnJlbGF0aW9uSWQiLCJhcmdzIiwidHJhY2UiLCJpblByb2dyZXNzRXZlbnQiLCJzdGFydE1lYXN1cmVtZW50IiwiZXZlbnRDb3VudCIsImluY3JlbWVudEZpZWxkcyIsInJlc3VsdCIsImVuZCIsInN1Y2Nlc3MiLCJlIiwiSlNPTiIsInN0cmluZ2lmeSIsImludm9rZUFzeW5jIiwic2V0UHJlUXVldWVUaW1lIiwidGhlbiIsInJlc3BvbnNlIiwiY2F0Y2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/utils/FunctionWrappers.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/utils/ProtocolUtils.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/utils/ProtocolUtils.mjs ***!
  \**********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ProtocolUtils: () => (/* binding */ ProtocolUtils)\n/* harmony export */ });\n/* harmony import */ var _Constants_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Constants.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/utils/Constants.mjs\");\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Class which provides helpers for OAuth 2.0 protocol specific values\r\n */ class ProtocolUtils {\n    /**\r\n     * Appends user state with random guid, or returns random guid.\r\n     * @param userState\r\n     * @param randomGuid\r\n     */ static setRequestState(cryptoObj, userState, meta) {\n        const libraryState = ProtocolUtils.generateLibraryState(cryptoObj, meta);\n        return userState ? `${libraryState}${_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.RESOURCE_DELIM}${userState}` : libraryState;\n    }\n    /**\r\n     * Generates the state value used by the common library.\r\n     * @param randomGuid\r\n     * @param cryptoObj\r\n     */ static generateLibraryState(cryptoObj, meta) {\n        if (!cryptoObj) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.noCryptoObject);\n        }\n        // Create a state object containing a unique id and the timestamp of the request creation\n        const stateObj = {\n            id: cryptoObj.createNewGuid()\n        };\n        if (meta) {\n            stateObj.meta = meta;\n        }\n        const stateString = JSON.stringify(stateObj);\n        return cryptoObj.base64Encode(stateString);\n    }\n    /**\r\n     * Parses the state into the RequestStateObject, which contains the LibraryState info and the state passed by the user.\r\n     * @param state\r\n     * @param cryptoObj\r\n     */ static parseRequestState(cryptoObj, state) {\n        if (!cryptoObj) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.noCryptoObject);\n        }\n        if (!state) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.invalidState);\n        }\n        try {\n            // Split the state between library state and user passed state and decode them separately\n            const splitState = state.split(_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.RESOURCE_DELIM);\n            const libraryState = splitState[0];\n            const userState = splitState.length > 1 ? splitState.slice(1).join(_Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.RESOURCE_DELIM) : _Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING;\n            const libraryStateString = cryptoObj.base64Decode(libraryState);\n            const libraryStateObj = JSON.parse(libraryStateString);\n            return {\n                userRequestState: userState || _Constants_mjs__WEBPACK_IMPORTED_MODULE_0__.Constants.EMPTY_STRING,\n                libraryState: libraryStateObj\n            };\n        } catch (e) {\n            throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_1__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_2__.invalidState);\n        }\n    }\n}\n //# sourceMappingURL=ProtocolUtils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdXRpbHMvUHJvdG9jb2xVdGlscy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLDJDQUEyQyxHQUMzQztBQUM0QztBQUN5QjtBQUNZO0FBRWpGOzs7Q0FHQyxHQUNEOztDQUVDLEdBQ0QsTUFBTUk7SUFDRjs7OztLQUlDLEdBQ0QsT0FBT0MsZ0JBQWdCQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsSUFBSSxFQUFFO1FBQy9DLE1BQU1DLGVBQWVMLGNBQWNNLG9CQUFvQixDQUFDSixXQUFXRTtRQUNuRSxPQUFPRCxZQUNELENBQUMsRUFBRUUsYUFBYSxFQUFFVCxxREFBU0EsQ0FBQ1csY0FBYyxDQUFDLEVBQUVKLFVBQVUsQ0FBQyxHQUN4REU7SUFDVjtJQUNBOzs7O0tBSUMsR0FDRCxPQUFPQyxxQkFBcUJKLFNBQVMsRUFBRUUsSUFBSSxFQUFFO1FBQ3pDLElBQUksQ0FBQ0YsV0FBVztZQUNaLE1BQU1MLGlGQUFxQkEsQ0FBQ0MsMkVBQWNBO1FBQzlDO1FBQ0EseUZBQXlGO1FBQ3pGLE1BQU1VLFdBQVc7WUFDYkMsSUFBSVAsVUFBVVEsYUFBYTtRQUMvQjtRQUNBLElBQUlOLE1BQU07WUFDTkksU0FBU0osSUFBSSxHQUFHQTtRQUNwQjtRQUNBLE1BQU1PLGNBQWNDLEtBQUtDLFNBQVMsQ0FBQ0w7UUFDbkMsT0FBT04sVUFBVVksWUFBWSxDQUFDSDtJQUNsQztJQUNBOzs7O0tBSUMsR0FDRCxPQUFPSSxrQkFBa0JiLFNBQVMsRUFBRWMsS0FBSyxFQUFFO1FBQ3ZDLElBQUksQ0FBQ2QsV0FBVztZQUNaLE1BQU1MLGlGQUFxQkEsQ0FBQ0MsMkVBQWNBO1FBQzlDO1FBQ0EsSUFBSSxDQUFDa0IsT0FBTztZQUNSLE1BQU1uQixpRkFBcUJBLENBQUNFLHlFQUFZQTtRQUM1QztRQUNBLElBQUk7WUFDQSx5RkFBeUY7WUFDekYsTUFBTWtCLGFBQWFELE1BQU1FLEtBQUssQ0FBQ3RCLHFEQUFTQSxDQUFDVyxjQUFjO1lBQ3ZELE1BQU1GLGVBQWVZLFVBQVUsQ0FBQyxFQUFFO1lBQ2xDLE1BQU1kLFlBQVljLFdBQVdFLE1BQU0sR0FBRyxJQUNoQ0YsV0FBV0csS0FBSyxDQUFDLEdBQUdDLElBQUksQ0FBQ3pCLHFEQUFTQSxDQUFDVyxjQUFjLElBQ2pEWCxxREFBU0EsQ0FBQzBCLFlBQVk7WUFDNUIsTUFBTUMscUJBQXFCckIsVUFBVXNCLFlBQVksQ0FBQ25CO1lBQ2xELE1BQU1vQixrQkFBa0JiLEtBQUtjLEtBQUssQ0FBQ0g7WUFDbkMsT0FBTztnQkFDSEksa0JBQWtCeEIsYUFBYVAscURBQVNBLENBQUMwQixZQUFZO2dCQUNyRGpCLGNBQWNvQjtZQUNsQjtRQUNKLEVBQ0EsT0FBT0csR0FBRztZQUNOLE1BQU0vQixpRkFBcUJBLENBQUNFLHlFQUFZQTtRQUM1QztJQUNKO0FBQ0o7QUFFeUIsQ0FDekIsMENBQTBDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L3V0aWxzL1Byb3RvY29sVXRpbHMubWpzP2MwZTEiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG5pbXBvcnQgeyBDb25zdGFudHMgfSBmcm9tICcuL0NvbnN0YW50cy5tanMnO1xuaW1wb3J0IHsgY3JlYXRlQ2xpZW50QXV0aEVycm9yIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yLm1qcyc7XG5pbXBvcnQgeyBub0NyeXB0b09iamVjdCwgaW52YWxpZFN0YXRlIH0gZnJvbSAnLi4vZXJyb3IvQ2xpZW50QXV0aEVycm9yQ29kZXMubWpzJztcblxuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDbGFzcyB3aGljaCBwcm92aWRlcyBoZWxwZXJzIGZvciBPQXV0aCAyLjAgcHJvdG9jb2wgc3BlY2lmaWMgdmFsdWVzXHJcbiAqL1xyXG5jbGFzcyBQcm90b2NvbFV0aWxzIHtcclxuICAgIC8qKlxyXG4gICAgICogQXBwZW5kcyB1c2VyIHN0YXRlIHdpdGggcmFuZG9tIGd1aWQsIG9yIHJldHVybnMgcmFuZG9tIGd1aWQuXHJcbiAgICAgKiBAcGFyYW0gdXNlclN0YXRlXHJcbiAgICAgKiBAcGFyYW0gcmFuZG9tR3VpZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgc2V0UmVxdWVzdFN0YXRlKGNyeXB0b09iaiwgdXNlclN0YXRlLCBtZXRhKSB7XHJcbiAgICAgICAgY29uc3QgbGlicmFyeVN0YXRlID0gUHJvdG9jb2xVdGlscy5nZW5lcmF0ZUxpYnJhcnlTdGF0ZShjcnlwdG9PYmosIG1ldGEpO1xyXG4gICAgICAgIHJldHVybiB1c2VyU3RhdGVcclxuICAgICAgICAgICAgPyBgJHtsaWJyYXJ5U3RhdGV9JHtDb25zdGFudHMuUkVTT1VSQ0VfREVMSU19JHt1c2VyU3RhdGV9YFxyXG4gICAgICAgICAgICA6IGxpYnJhcnlTdGF0ZTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogR2VuZXJhdGVzIHRoZSBzdGF0ZSB2YWx1ZSB1c2VkIGJ5IHRoZSBjb21tb24gbGlicmFyeS5cclxuICAgICAqIEBwYXJhbSByYW5kb21HdWlkXHJcbiAgICAgKiBAcGFyYW0gY3J5cHRvT2JqXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyBnZW5lcmF0ZUxpYnJhcnlTdGF0ZShjcnlwdG9PYmosIG1ldGEpIHtcclxuICAgICAgICBpZiAoIWNyeXB0b09iaikge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3Iobm9DcnlwdG9PYmplY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBDcmVhdGUgYSBzdGF0ZSBvYmplY3QgY29udGFpbmluZyBhIHVuaXF1ZSBpZCBhbmQgdGhlIHRpbWVzdGFtcCBvZiB0aGUgcmVxdWVzdCBjcmVhdGlvblxyXG4gICAgICAgIGNvbnN0IHN0YXRlT2JqID0ge1xyXG4gICAgICAgICAgICBpZDogY3J5cHRvT2JqLmNyZWF0ZU5ld0d1aWQoKSxcclxuICAgICAgICB9O1xyXG4gICAgICAgIGlmIChtZXRhKSB7XHJcbiAgICAgICAgICAgIHN0YXRlT2JqLm1ldGEgPSBtZXRhO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzdGF0ZVN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHN0YXRlT2JqKTtcclxuICAgICAgICByZXR1cm4gY3J5cHRvT2JqLmJhc2U2NEVuY29kZShzdGF0ZVN0cmluZyk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlcyB0aGUgc3RhdGUgaW50byB0aGUgUmVxdWVzdFN0YXRlT2JqZWN0LCB3aGljaCBjb250YWlucyB0aGUgTGlicmFyeVN0YXRlIGluZm8gYW5kIHRoZSBzdGF0ZSBwYXNzZWQgYnkgdGhlIHVzZXIuXHJcbiAgICAgKiBAcGFyYW0gc3RhdGVcclxuICAgICAqIEBwYXJhbSBjcnlwdG9PYmpcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHBhcnNlUmVxdWVzdFN0YXRlKGNyeXB0b09iaiwgc3RhdGUpIHtcclxuICAgICAgICBpZiAoIWNyeXB0b09iaikge1xyXG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3Iobm9DcnlwdG9PYmplY3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXN0YXRlKSB7XHJcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUNsaWVudEF1dGhFcnJvcihpbnZhbGlkU3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBTcGxpdCB0aGUgc3RhdGUgYmV0d2VlbiBsaWJyYXJ5IHN0YXRlIGFuZCB1c2VyIHBhc3NlZCBzdGF0ZSBhbmQgZGVjb2RlIHRoZW0gc2VwYXJhdGVseVxyXG4gICAgICAgICAgICBjb25zdCBzcGxpdFN0YXRlID0gc3RhdGUuc3BsaXQoQ29uc3RhbnRzLlJFU09VUkNFX0RFTElNKTtcclxuICAgICAgICAgICAgY29uc3QgbGlicmFyeVN0YXRlID0gc3BsaXRTdGF0ZVswXTtcclxuICAgICAgICAgICAgY29uc3QgdXNlclN0YXRlID0gc3BsaXRTdGF0ZS5sZW5ndGggPiAxXHJcbiAgICAgICAgICAgICAgICA/IHNwbGl0U3RhdGUuc2xpY2UoMSkuam9pbihDb25zdGFudHMuUkVTT1VSQ0VfREVMSU0pXHJcbiAgICAgICAgICAgICAgICA6IENvbnN0YW50cy5FTVBUWV9TVFJJTkc7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpYnJhcnlTdGF0ZVN0cmluZyA9IGNyeXB0b09iai5iYXNlNjREZWNvZGUobGlicmFyeVN0YXRlKTtcclxuICAgICAgICAgICAgY29uc3QgbGlicmFyeVN0YXRlT2JqID0gSlNPTi5wYXJzZShsaWJyYXJ5U3RhdGVTdHJpbmcpO1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdXNlclJlcXVlc3RTdGF0ZTogdXNlclN0YXRlIHx8IENvbnN0YW50cy5FTVBUWV9TVFJJTkcsXHJcbiAgICAgICAgICAgICAgICBsaWJyYXJ5U3RhdGU6IGxpYnJhcnlTdGF0ZU9iaixcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQ2xpZW50QXV0aEVycm9yKGludmFsaWRTdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IFByb3RvY29sVXRpbHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVByb3RvY29sVXRpbHMubWpzLm1hcFxuIl0sIm5hbWVzIjpbIkNvbnN0YW50cyIsImNyZWF0ZUNsaWVudEF1dGhFcnJvciIsIm5vQ3J5cHRvT2JqZWN0IiwiaW52YWxpZFN0YXRlIiwiUHJvdG9jb2xVdGlscyIsInNldFJlcXVlc3RTdGF0ZSIsImNyeXB0b09iaiIsInVzZXJTdGF0ZSIsIm1ldGEiLCJsaWJyYXJ5U3RhdGUiLCJnZW5lcmF0ZUxpYnJhcnlTdGF0ZSIsIlJFU09VUkNFX0RFTElNIiwic3RhdGVPYmoiLCJpZCIsImNyZWF0ZU5ld0d1aWQiLCJzdGF0ZVN0cmluZyIsIkpTT04iLCJzdHJpbmdpZnkiLCJiYXNlNjRFbmNvZGUiLCJwYXJzZVJlcXVlc3RTdGF0ZSIsInN0YXRlIiwic3BsaXRTdGF0ZSIsInNwbGl0IiwibGVuZ3RoIiwic2xpY2UiLCJqb2luIiwiRU1QVFlfU1RSSU5HIiwibGlicmFyeVN0YXRlU3RyaW5nIiwiYmFzZTY0RGVjb2RlIiwibGlicmFyeVN0YXRlT2JqIiwicGFyc2UiLCJ1c2VyUmVxdWVzdFN0YXRlIiwiZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/utils/ProtocolUtils.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/utils/StringUtils.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/utils/StringUtils.mjs ***!
  \********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StringUtils: () => (/* binding */ StringUtils)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * @hidden\r\n */ class StringUtils {\n    /**\r\n     * Check if stringified object is empty\r\n     * @param strObj\r\n     */ static isEmptyObj(strObj) {\n        if (strObj) {\n            try {\n                const obj = JSON.parse(strObj);\n                return Object.keys(obj).length === 0;\n            } catch (e) {}\n        }\n        return true;\n    }\n    static startsWith(str, search) {\n        return str.indexOf(search) === 0;\n    }\n    static endsWith(str, search) {\n        return str.length >= search.length && str.lastIndexOf(search) === str.length - search.length;\n    }\n    /**\r\n     * Parses string into an object.\r\n     *\r\n     * @param query\r\n     */ static queryStringToObject(query) {\n        const obj = {};\n        const params = query.split(\"&\");\n        const decode = (s)=>decodeURIComponent(s.replace(/\\+/g, \" \"));\n        params.forEach((pair)=>{\n            if (pair.trim()) {\n                const [key, value] = pair.split(/=(.+)/g, 2); // Split on the first occurence of the '=' character\n                if (key && value) {\n                    obj[decode(key)] = decode(value);\n                }\n            }\n        });\n        return obj;\n    }\n    /**\r\n     * Trims entries in an array.\r\n     *\r\n     * @param arr\r\n     */ static trimArrayEntries(arr) {\n        return arr.map((entry)=>entry.trim());\n    }\n    /**\r\n     * Removes empty strings from array\r\n     * @param arr\r\n     */ static removeEmptyStringsFromArray(arr) {\n        return arr.filter((entry)=>{\n            return !!entry;\n        });\n    }\n    /**\r\n     * Attempts to parse a string into JSON\r\n     * @param str\r\n     */ static jsonParseHelper(str) {\n        try {\n            return JSON.parse(str);\n        } catch (e) {\n            return null;\n        }\n    }\n    /**\r\n     * Tests if a given string matches a given pattern, with support for wildcards and queries.\r\n     * @param pattern Wildcard pattern to string match. Supports \"*\" for wildcards and \"?\" for queries\r\n     * @param input String to match against\r\n     */ static matchPattern(pattern, input) {\n        /**\r\n         * Wildcard support: https://stackoverflow.com/a/3117248/4888559\r\n         * Queries: replaces \"?\" in string with escaped \"\\?\" for regex test\r\n         */ // eslint-disable-next-line security/detect-non-literal-regexp\n        const regex = new RegExp(pattern.replace(/\\\\/g, \"\\\\\\\\\").replace(/\\*/g, \"[^ ]*\").replace(/\\?/g, \"\\\\?\"));\n        return regex.test(input);\n    }\n}\n //# sourceMappingURL=StringUtils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdXRpbHMvU3RyaW5nVXRpbHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDQTs7O0NBR0MsR0FDRDs7Q0FFQyxHQUNELE1BQU1BO0lBQ0Y7OztLQUdDLEdBQ0QsT0FBT0MsV0FBV0MsTUFBTSxFQUFFO1FBQ3RCLElBQUlBLFFBQVE7WUFDUixJQUFJO2dCQUNBLE1BQU1DLE1BQU1DLEtBQUtDLEtBQUssQ0FBQ0g7Z0JBQ3ZCLE9BQU9JLE9BQU9DLElBQUksQ0FBQ0osS0FBS0ssTUFBTSxLQUFLO1lBQ3ZDLEVBQ0EsT0FBT0MsR0FBRyxDQUFFO1FBQ2hCO1FBQ0EsT0FBTztJQUNYO0lBQ0EsT0FBT0MsV0FBV0MsR0FBRyxFQUFFQyxNQUFNLEVBQUU7UUFDM0IsT0FBT0QsSUFBSUUsT0FBTyxDQUFDRCxZQUFZO0lBQ25DO0lBQ0EsT0FBT0UsU0FBU0gsR0FBRyxFQUFFQyxNQUFNLEVBQUU7UUFDekIsT0FBUUQsSUFBSUgsTUFBTSxJQUFJSSxPQUFPSixNQUFNLElBQy9CRyxJQUFJSSxXQUFXLENBQUNILFlBQVlELElBQUlILE1BQU0sR0FBR0ksT0FBT0osTUFBTTtJQUM5RDtJQUNBOzs7O0tBSUMsR0FDRCxPQUFPUSxvQkFBb0JDLEtBQUssRUFBRTtRQUM5QixNQUFNZCxNQUFNLENBQUM7UUFDYixNQUFNZSxTQUFTRCxNQUFNRSxLQUFLLENBQUM7UUFDM0IsTUFBTUMsU0FBUyxDQUFDQyxJQUFNQyxtQkFBbUJELEVBQUVFLE9BQU8sQ0FBQyxPQUFPO1FBQzFETCxPQUFPTSxPQUFPLENBQUMsQ0FBQ0M7WUFDWixJQUFJQSxLQUFLQyxJQUFJLElBQUk7Z0JBQ2IsTUFBTSxDQUFDQyxLQUFLQyxNQUFNLEdBQUdILEtBQUtOLEtBQUssQ0FBQyxVQUFVLElBQUksb0RBQW9EO2dCQUNsRyxJQUFJUSxPQUFPQyxPQUFPO29CQUNkekIsR0FBRyxDQUFDaUIsT0FBT08sS0FBSyxHQUFHUCxPQUFPUTtnQkFDOUI7WUFDSjtRQUNKO1FBQ0EsT0FBT3pCO0lBQ1g7SUFDQTs7OztLQUlDLEdBQ0QsT0FBTzBCLGlCQUFpQkMsR0FBRyxFQUFFO1FBQ3pCLE9BQU9BLElBQUlDLEdBQUcsQ0FBQyxDQUFDQyxRQUFVQSxNQUFNTixJQUFJO0lBQ3hDO0lBQ0E7OztLQUdDLEdBQ0QsT0FBT08sNEJBQTRCSCxHQUFHLEVBQUU7UUFDcEMsT0FBT0EsSUFBSUksTUFBTSxDQUFDLENBQUNGO1lBQ2YsT0FBTyxDQUFDLENBQUNBO1FBQ2I7SUFDSjtJQUNBOzs7S0FHQyxHQUNELE9BQU9HLGdCQUFnQnhCLEdBQUcsRUFBRTtRQUN4QixJQUFJO1lBQ0EsT0FBT1AsS0FBS0MsS0FBSyxDQUFDTTtRQUN0QixFQUNBLE9BQU9GLEdBQUc7WUFDTixPQUFPO1FBQ1g7SUFDSjtJQUNBOzs7O0tBSUMsR0FDRCxPQUFPMkIsYUFBYUMsT0FBTyxFQUFFQyxLQUFLLEVBQUU7UUFDaEM7OztTQUdDLEdBQ0QsOERBQThEO1FBQzlELE1BQU1DLFFBQVEsSUFBSUMsT0FBT0gsUUFDcEJkLE9BQU8sQ0FBQyxPQUFPLFFBQ2ZBLE9BQU8sQ0FBQyxPQUFPLFNBQ2ZBLE9BQU8sQ0FBQyxPQUFPO1FBQ3BCLE9BQU9nQixNQUFNRSxJQUFJLENBQUNIO0lBQ3RCO0FBQ0o7QUFFdUIsQ0FDdkIsd0NBQXdDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2VydGV4Ly4vbm9kZV9tb2R1bGVzL0BhenVyZS9tc2FsLWNvbW1vbi9kaXN0L3V0aWxzL1N0cmluZ1V0aWxzLm1qcz84MTJhIl0sInNvdXJjZXNDb250ZW50IjpbIi8qISBAYXp1cmUvbXNhbC1jb21tb24gdjE0LjE2LjAgMjAyNC0xMS0wNSAqL1xuJ3VzZSBzdHJpY3QnO1xuLypcclxuICogQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBAaGlkZGVuXHJcbiAqL1xyXG5jbGFzcyBTdHJpbmdVdGlscyB7XHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIHN0cmluZ2lmaWVkIG9iamVjdCBpcyBlbXB0eVxyXG4gICAgICogQHBhcmFtIHN0ck9ialxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaXNFbXB0eU9iaihzdHJPYmopIHtcclxuICAgICAgICBpZiAoc3RyT2JqKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSBKU09OLnBhcnNlKHN0ck9iaik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHN0YXRpYyBzdGFydHNXaXRoKHN0ciwgc2VhcmNoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0ci5pbmRleE9mKHNlYXJjaCkgPT09IDA7XHJcbiAgICB9XHJcbiAgICBzdGF0aWMgZW5kc1dpdGgoc3RyLCBzZWFyY2gpIHtcclxuICAgICAgICByZXR1cm4gKHN0ci5sZW5ndGggPj0gc2VhcmNoLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICBzdHIubGFzdEluZGV4T2Yoc2VhcmNoKSA9PT0gc3RyLmxlbmd0aCAtIHNlYXJjaC5sZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZXMgc3RyaW5nIGludG8gYW4gb2JqZWN0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBxdWVyeVxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgcXVlcnlTdHJpbmdUb09iamVjdChxdWVyeSkge1xyXG4gICAgICAgIGNvbnN0IG9iaiA9IHt9O1xyXG4gICAgICAgIGNvbnN0IHBhcmFtcyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKTtcclxuICAgICAgICBjb25zdCBkZWNvZGUgPSAocykgPT4gZGVjb2RlVVJJQ29tcG9uZW50KHMucmVwbGFjZSgvXFwrL2csIFwiIFwiKSk7XHJcbiAgICAgICAgcGFyYW1zLmZvckVhY2goKHBhaXIpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBhaXIudHJpbSgpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSBwYWlyLnNwbGl0KC89KC4rKS9nLCAyKTsgLy8gU3BsaXQgb24gdGhlIGZpcnN0IG9jY3VyZW5jZSBvZiB0aGUgJz0nIGNoYXJhY3RlclxyXG4gICAgICAgICAgICAgICAgaWYgKGtleSAmJiB2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9ialtkZWNvZGUoa2V5KV0gPSBkZWNvZGUodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIG9iajtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVHJpbXMgZW50cmllcyBpbiBhbiBhcnJheS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gYXJyXHJcbiAgICAgKi9cclxuICAgIHN0YXRpYyB0cmltQXJyYXlFbnRyaWVzKGFycikge1xyXG4gICAgICAgIHJldHVybiBhcnIubWFwKChlbnRyeSkgPT4gZW50cnkudHJpbSgpKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBlbXB0eSBzdHJpbmdzIGZyb20gYXJyYXlcclxuICAgICAqIEBwYXJhbSBhcnJcclxuICAgICAqL1xyXG4gICAgc3RhdGljIHJlbW92ZUVtcHR5U3RyaW5nc0Zyb21BcnJheShhcnIpIHtcclxuICAgICAgICByZXR1cm4gYXJyLmZpbHRlcigoZW50cnkpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuICEhZW50cnk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEF0dGVtcHRzIHRvIHBhcnNlIGEgc3RyaW5nIGludG8gSlNPTlxyXG4gICAgICogQHBhcmFtIHN0clxyXG4gICAgICovXHJcbiAgICBzdGF0aWMganNvblBhcnNlSGVscGVyKHN0cikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogVGVzdHMgaWYgYSBnaXZlbiBzdHJpbmcgbWF0Y2hlcyBhIGdpdmVuIHBhdHRlcm4sIHdpdGggc3VwcG9ydCBmb3Igd2lsZGNhcmRzIGFuZCBxdWVyaWVzLlxyXG4gICAgICogQHBhcmFtIHBhdHRlcm4gV2lsZGNhcmQgcGF0dGVybiB0byBzdHJpbmcgbWF0Y2guIFN1cHBvcnRzIFwiKlwiIGZvciB3aWxkY2FyZHMgYW5kIFwiP1wiIGZvciBxdWVyaWVzXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgU3RyaW5nIHRvIG1hdGNoIGFnYWluc3RcclxuICAgICAqL1xyXG4gICAgc3RhdGljIG1hdGNoUGF0dGVybihwYXR0ZXJuLCBpbnB1dCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFdpbGRjYXJkIHN1cHBvcnQ6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTE3MjQ4LzQ4ODg1NTlcclxuICAgICAgICAgKiBRdWVyaWVzOiByZXBsYWNlcyBcIj9cIiBpbiBzdHJpbmcgd2l0aCBlc2NhcGVkIFwiXFw/XCIgZm9yIHJlZ2V4IHRlc3RcclxuICAgICAgICAgKi9cclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgc2VjdXJpdHkvZGV0ZWN0LW5vbi1saXRlcmFsLXJlZ2V4cFxyXG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gbmV3IFJlZ0V4cChwYXR0ZXJuXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcL2csIFwiXFxcXFxcXFxcIilcclxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcKi9nLCBcIlteIF0qXCIpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXD8vZywgXCJcXFxcP1wiKSk7XHJcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QoaW5wdXQpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydCB7IFN0cmluZ1V0aWxzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdHJpbmdVdGlscy5tanMubWFwXG4iXSwibmFtZXMiOlsiU3RyaW5nVXRpbHMiLCJpc0VtcHR5T2JqIiwic3RyT2JqIiwib2JqIiwiSlNPTiIsInBhcnNlIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImUiLCJzdGFydHNXaXRoIiwic3RyIiwic2VhcmNoIiwiaW5kZXhPZiIsImVuZHNXaXRoIiwibGFzdEluZGV4T2YiLCJxdWVyeVN0cmluZ1RvT2JqZWN0IiwicXVlcnkiLCJwYXJhbXMiLCJzcGxpdCIsImRlY29kZSIsInMiLCJkZWNvZGVVUklDb21wb25lbnQiLCJyZXBsYWNlIiwiZm9yRWFjaCIsInBhaXIiLCJ0cmltIiwia2V5IiwidmFsdWUiLCJ0cmltQXJyYXlFbnRyaWVzIiwiYXJyIiwibWFwIiwiZW50cnkiLCJyZW1vdmVFbXB0eVN0cmluZ3NGcm9tQXJyYXkiLCJmaWx0ZXIiLCJqc29uUGFyc2VIZWxwZXIiLCJtYXRjaFBhdHRlcm4iLCJwYXR0ZXJuIiwiaW5wdXQiLCJyZWdleCIsIlJlZ0V4cCIsInRlc3QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/utils/StringUtils.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/utils/TimeUtils.mjs":
/*!******************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/utils/TimeUtils.mjs ***!
  \******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   delay: () => (/* binding */ delay),\n/* harmony export */   isTokenExpired: () => (/* binding */ isTokenExpired),\n/* harmony export */   nowSeconds: () => (/* binding */ nowSeconds),\n/* harmony export */   wasClockTurnedBack: () => (/* binding */ wasClockTurnedBack)\n/* harmony export */ });\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Utility functions for managing date and time operations.\r\n */ /**\r\n * return the current time in Unix time (seconds).\r\n */ function nowSeconds() {\n    // Date.getTime() returns in milliseconds.\n    return Math.round(new Date().getTime() / 1000.0);\n}\n/**\r\n * check if a token is expired based on given UTC time in seconds.\r\n * @param expiresOn\r\n */ function isTokenExpired(expiresOn, offset) {\n    // check for access token expiry\n    const expirationSec = Number(expiresOn) || 0;\n    const offsetCurrentTimeSec = nowSeconds() + offset;\n    // If current time + offset is greater than token expiration time, then token is expired.\n    return offsetCurrentTimeSec > expirationSec;\n}\n/**\r\n * If the current time is earlier than the time that a token was cached at, we must discard the token\r\n * i.e. The system clock was turned back after acquiring the cached token\r\n * @param cachedAt\r\n * @param offset\r\n */ function wasClockTurnedBack(cachedAt) {\n    const cachedAtSec = Number(cachedAt);\n    return cachedAtSec > nowSeconds();\n}\n/**\r\n * Waits for t number of milliseconds\r\n * @param t number\r\n * @param value T\r\n */ function delay(t, value) {\n    return new Promise((resolve)=>setTimeout(()=>resolve(value), t));\n}\n //# sourceMappingURL=TimeUtils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdXRpbHMvVGltZVV0aWxzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsMkNBQTJDLEdBQzNDO0FBQ0E7OztDQUdDLEdBQ0Q7O0NBRUMsR0FDRDs7Q0FFQyxHQUNELFNBQVNBO0lBQ0wsMENBQTBDO0lBQzFDLE9BQU9DLEtBQUtDLEtBQUssQ0FBQyxJQUFJQyxPQUFPQyxPQUFPLEtBQUs7QUFDN0M7QUFDQTs7O0NBR0MsR0FDRCxTQUFTQyxlQUFlQyxTQUFTLEVBQUVDLE1BQU07SUFDckMsZ0NBQWdDO0lBQ2hDLE1BQU1DLGdCQUFnQkMsT0FBT0gsY0FBYztJQUMzQyxNQUFNSSx1QkFBdUJWLGVBQWVPO0lBQzVDLHlGQUF5RjtJQUN6RixPQUFPRyx1QkFBdUJGO0FBQ2xDO0FBQ0E7Ozs7O0NBS0MsR0FDRCxTQUFTRyxtQkFBbUJDLFFBQVE7SUFDaEMsTUFBTUMsY0FBY0osT0FBT0c7SUFDM0IsT0FBT0MsY0FBY2I7QUFDekI7QUFDQTs7OztDQUlDLEdBQ0QsU0FBU2MsTUFBTUMsQ0FBQyxFQUFFQyxLQUFLO0lBQ25CLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxVQUFZQyxXQUFXLElBQU1ELFFBQVFGLFFBQVFEO0FBQ3JFO0FBRWlFLENBQ2pFLHNDQUFzQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC91dGlscy9UaW1lVXRpbHMubWpzP2E3NzkiXSwic291cmNlc0NvbnRlbnQiOlsiLyohIEBhenVyZS9tc2FsLWNvbW1vbiB2MTQuMTYuMCAyMDI0LTExLTA1ICovXG4ndXNlIHN0cmljdCc7XG4vKlxyXG4gKiBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFV0aWxpdHkgZnVuY3Rpb25zIGZvciBtYW5hZ2luZyBkYXRlIGFuZCB0aW1lIG9wZXJhdGlvbnMuXHJcbiAqL1xyXG4vKipcclxuICogcmV0dXJuIHRoZSBjdXJyZW50IHRpbWUgaW4gVW5peCB0aW1lIChzZWNvbmRzKS5cclxuICovXHJcbmZ1bmN0aW9uIG5vd1NlY29uZHMoKSB7XHJcbiAgICAvLyBEYXRlLmdldFRpbWUoKSByZXR1cm5zIGluIG1pbGxpc2Vjb25kcy5cclxuICAgIHJldHVybiBNYXRoLnJvdW5kKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMC4wKTtcclxufVxyXG4vKipcclxuICogY2hlY2sgaWYgYSB0b2tlbiBpcyBleHBpcmVkIGJhc2VkIG9uIGdpdmVuIFVUQyB0aW1lIGluIHNlY29uZHMuXHJcbiAqIEBwYXJhbSBleHBpcmVzT25cclxuICovXHJcbmZ1bmN0aW9uIGlzVG9rZW5FeHBpcmVkKGV4cGlyZXNPbiwgb2Zmc2V0KSB7XHJcbiAgICAvLyBjaGVjayBmb3IgYWNjZXNzIHRva2VuIGV4cGlyeVxyXG4gICAgY29uc3QgZXhwaXJhdGlvblNlYyA9IE51bWJlcihleHBpcmVzT24pIHx8IDA7XHJcbiAgICBjb25zdCBvZmZzZXRDdXJyZW50VGltZVNlYyA9IG5vd1NlY29uZHMoKSArIG9mZnNldDtcclxuICAgIC8vIElmIGN1cnJlbnQgdGltZSArIG9mZnNldCBpcyBncmVhdGVyIHRoYW4gdG9rZW4gZXhwaXJhdGlvbiB0aW1lLCB0aGVuIHRva2VuIGlzIGV4cGlyZWQuXHJcbiAgICByZXR1cm4gb2Zmc2V0Q3VycmVudFRpbWVTZWMgPiBleHBpcmF0aW9uU2VjO1xyXG59XHJcbi8qKlxyXG4gKiBJZiB0aGUgY3VycmVudCB0aW1lIGlzIGVhcmxpZXIgdGhhbiB0aGUgdGltZSB0aGF0IGEgdG9rZW4gd2FzIGNhY2hlZCBhdCwgd2UgbXVzdCBkaXNjYXJkIHRoZSB0b2tlblxyXG4gKiBpLmUuIFRoZSBzeXN0ZW0gY2xvY2sgd2FzIHR1cm5lZCBiYWNrIGFmdGVyIGFjcXVpcmluZyB0aGUgY2FjaGVkIHRva2VuXHJcbiAqIEBwYXJhbSBjYWNoZWRBdFxyXG4gKiBAcGFyYW0gb2Zmc2V0XHJcbiAqL1xyXG5mdW5jdGlvbiB3YXNDbG9ja1R1cm5lZEJhY2soY2FjaGVkQXQpIHtcclxuICAgIGNvbnN0IGNhY2hlZEF0U2VjID0gTnVtYmVyKGNhY2hlZEF0KTtcclxuICAgIHJldHVybiBjYWNoZWRBdFNlYyA+IG5vd1NlY29uZHMoKTtcclxufVxyXG4vKipcclxuICogV2FpdHMgZm9yIHQgbnVtYmVyIG9mIG1pbGxpc2Vjb25kc1xyXG4gKiBAcGFyYW0gdCBudW1iZXJcclxuICogQHBhcmFtIHZhbHVlIFRcclxuICovXHJcbmZ1bmN0aW9uIGRlbGF5KHQsIHZhbHVlKSB7XHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQoKCkgPT4gcmVzb2x2ZSh2YWx1ZSksIHQpKTtcclxufVxuXG5leHBvcnQgeyBkZWxheSwgaXNUb2tlbkV4cGlyZWQsIG5vd1NlY29uZHMsIHdhc0Nsb2NrVHVybmVkQmFjayB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZVV0aWxzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJub3dTZWNvbmRzIiwiTWF0aCIsInJvdW5kIiwiRGF0ZSIsImdldFRpbWUiLCJpc1Rva2VuRXhwaXJlZCIsImV4cGlyZXNPbiIsIm9mZnNldCIsImV4cGlyYXRpb25TZWMiLCJOdW1iZXIiLCJvZmZzZXRDdXJyZW50VGltZVNlYyIsIndhc0Nsb2NrVHVybmVkQmFjayIsImNhY2hlZEF0IiwiY2FjaGVkQXRTZWMiLCJkZWxheSIsInQiLCJ2YWx1ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/utils/TimeUtils.mjs\n");

/***/ }),

/***/ "(ssr)/./node_modules/@azure/msal-common/dist/utils/UrlUtils.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@azure/msal-common/dist/utils/UrlUtils.mjs ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDeserializedResponse: () => (/* binding */ getDeserializedResponse),\n/* harmony export */   stripLeadingHashOrQuery: () => (/* binding */ stripLeadingHashOrQuery)\n/* harmony export */ });\n/* harmony import */ var _error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../error/ClientAuthError.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthError.mjs\");\n/* harmony import */ var _error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../error/ClientAuthErrorCodes.mjs */ \"(ssr)/./node_modules/@azure/msal-common/dist/error/ClientAuthErrorCodes.mjs\");\n/*! @azure/msal-common v14.16.0 2024-11-05 */ \n\n\n/*\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License.\r\n */ /**\r\n * Parses hash string from given string. Returns empty string if no hash symbol is found.\r\n * @param hashString\r\n */ function stripLeadingHashOrQuery(responseString) {\n    if (responseString.startsWith(\"#/\")) {\n        return responseString.substring(2);\n    } else if (responseString.startsWith(\"#\") || responseString.startsWith(\"?\")) {\n        return responseString.substring(1);\n    }\n    return responseString;\n}\n/**\r\n * Returns URL hash as server auth code response object.\r\n */ function getDeserializedResponse(responseString) {\n    // Check if given hash is empty\n    if (!responseString || responseString.indexOf(\"=\") < 0) {\n        return null;\n    }\n    try {\n        // Strip the # or ? symbol if present\n        const normalizedResponse = stripLeadingHashOrQuery(responseString);\n        // If # symbol was not present, above will return empty string, so give original hash value\n        const deserializedHash = Object.fromEntries(new URLSearchParams(normalizedResponse));\n        // Check for known response properties\n        if (deserializedHash.code || deserializedHash.error || deserializedHash.error_description || deserializedHash.state) {\n            return deserializedHash;\n        }\n    } catch (e) {\n        throw (0,_error_ClientAuthError_mjs__WEBPACK_IMPORTED_MODULE_0__.createClientAuthError)(_error_ClientAuthErrorCodes_mjs__WEBPACK_IMPORTED_MODULE_1__.hashNotDeserialized);\n    }\n    return null;\n}\n //# sourceMappingURL=UrlUtils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQGF6dXJlL21zYWwtY29tbW9uL2Rpc3QvdXRpbHMvVXJsVXRpbHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSwyQ0FBMkMsR0FDM0M7QUFDcUU7QUFDRztBQUV4RTs7O0NBR0MsR0FDRDs7O0NBR0MsR0FDRCxTQUFTRSx3QkFBd0JDLGNBQWM7SUFDM0MsSUFBSUEsZUFBZUMsVUFBVSxDQUFDLE9BQU87UUFDakMsT0FBT0QsZUFBZUUsU0FBUyxDQUFDO0lBQ3BDLE9BQ0ssSUFBSUYsZUFBZUMsVUFBVSxDQUFDLFFBQy9CRCxlQUFlQyxVQUFVLENBQUMsTUFBTTtRQUNoQyxPQUFPRCxlQUFlRSxTQUFTLENBQUM7SUFDcEM7SUFDQSxPQUFPRjtBQUNYO0FBQ0E7O0NBRUMsR0FDRCxTQUFTRyx3QkFBd0JILGNBQWM7SUFDM0MsK0JBQStCO0lBQy9CLElBQUksQ0FBQ0Esa0JBQWtCQSxlQUFlSSxPQUFPLENBQUMsT0FBTyxHQUFHO1FBQ3BELE9BQU87SUFDWDtJQUNBLElBQUk7UUFDQSxxQ0FBcUM7UUFDckMsTUFBTUMscUJBQXFCTix3QkFBd0JDO1FBQ25ELDJGQUEyRjtRQUMzRixNQUFNTSxtQkFBbUJDLE9BQU9DLFdBQVcsQ0FBQyxJQUFJQyxnQkFBZ0JKO1FBQ2hFLHNDQUFzQztRQUN0QyxJQUFJQyxpQkFBaUJJLElBQUksSUFDckJKLGlCQUFpQkssS0FBSyxJQUN0QkwsaUJBQWlCTSxpQkFBaUIsSUFDbENOLGlCQUFpQk8sS0FBSyxFQUFFO1lBQ3hCLE9BQU9QO1FBQ1g7SUFDSixFQUNBLE9BQU9RLEdBQUc7UUFDTixNQUFNakIsaUZBQXFCQSxDQUFDQyxnRkFBbUJBO0lBQ25EO0lBQ0EsT0FBTztBQUNYO0FBRTRELENBQzVELHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NlcnRleC8uL25vZGVfbW9kdWxlcy9AYXp1cmUvbXNhbC1jb21tb24vZGlzdC91dGlscy9VcmxVdGlscy5tanM/OGIzMiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgQGF6dXJlL21zYWwtY29tbW9uIHYxNC4xNi4wIDIwMjQtMTEtMDUgKi9cbid1c2Ugc3RyaWN0JztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudEF1dGhFcnJvciB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvci5tanMnO1xuaW1wb3J0IHsgaGFzaE5vdERlc2VyaWFsaXplZCB9IGZyb20gJy4uL2Vycm9yL0NsaWVudEF1dGhFcnJvckNvZGVzLm1qcyc7XG5cbi8qXHJcbiAqIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUGFyc2VzIGhhc2ggc3RyaW5nIGZyb20gZ2l2ZW4gc3RyaW5nLiBSZXR1cm5zIGVtcHR5IHN0cmluZyBpZiBubyBoYXNoIHN5bWJvbCBpcyBmb3VuZC5cclxuICogQHBhcmFtIGhhc2hTdHJpbmdcclxuICovXHJcbmZ1bmN0aW9uIHN0cmlwTGVhZGluZ0hhc2hPclF1ZXJ5KHJlc3BvbnNlU3RyaW5nKSB7XHJcbiAgICBpZiAocmVzcG9uc2VTdHJpbmcuc3RhcnRzV2l0aChcIiMvXCIpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlU3RyaW5nLnN1YnN0cmluZygyKTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHJlc3BvbnNlU3RyaW5nLnN0YXJ0c1dpdGgoXCIjXCIpIHx8XHJcbiAgICAgICAgcmVzcG9uc2VTdHJpbmcuc3RhcnRzV2l0aChcIj9cIikpIHtcclxuICAgICAgICByZXR1cm4gcmVzcG9uc2VTdHJpbmcuc3Vic3RyaW5nKDEpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlc3BvbnNlU3RyaW5nO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIFVSTCBoYXNoIGFzIHNlcnZlciBhdXRoIGNvZGUgcmVzcG9uc2Ugb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gZ2V0RGVzZXJpYWxpemVkUmVzcG9uc2UocmVzcG9uc2VTdHJpbmcpIHtcclxuICAgIC8vIENoZWNrIGlmIGdpdmVuIGhhc2ggaXMgZW1wdHlcclxuICAgIGlmICghcmVzcG9uc2VTdHJpbmcgfHwgcmVzcG9uc2VTdHJpbmcuaW5kZXhPZihcIj1cIikgPCAwKSB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIFN0cmlwIHRoZSAjIG9yID8gc3ltYm9sIGlmIHByZXNlbnRcclxuICAgICAgICBjb25zdCBub3JtYWxpemVkUmVzcG9uc2UgPSBzdHJpcExlYWRpbmdIYXNoT3JRdWVyeShyZXNwb25zZVN0cmluZyk7XHJcbiAgICAgICAgLy8gSWYgIyBzeW1ib2wgd2FzIG5vdCBwcmVzZW50LCBhYm92ZSB3aWxsIHJldHVybiBlbXB0eSBzdHJpbmcsIHNvIGdpdmUgb3JpZ2luYWwgaGFzaCB2YWx1ZVxyXG4gICAgICAgIGNvbnN0IGRlc2VyaWFsaXplZEhhc2ggPSBPYmplY3QuZnJvbUVudHJpZXMobmV3IFVSTFNlYXJjaFBhcmFtcyhub3JtYWxpemVkUmVzcG9uc2UpKTtcclxuICAgICAgICAvLyBDaGVjayBmb3Iga25vd24gcmVzcG9uc2UgcHJvcGVydGllc1xyXG4gICAgICAgIGlmIChkZXNlcmlhbGl6ZWRIYXNoLmNvZGUgfHxcclxuICAgICAgICAgICAgZGVzZXJpYWxpemVkSGFzaC5lcnJvciB8fFxyXG4gICAgICAgICAgICBkZXNlcmlhbGl6ZWRIYXNoLmVycm9yX2Rlc2NyaXB0aW9uIHx8XHJcbiAgICAgICAgICAgIGRlc2VyaWFsaXplZEhhc2guc3RhdGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlc2VyaWFsaXplZEhhc2g7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICB0aHJvdyBjcmVhdGVDbGllbnRBdXRoRXJyb3IoaGFzaE5vdERlc2VyaWFsaXplZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxuXG5leHBvcnQgeyBnZXREZXNlcmlhbGl6ZWRSZXNwb25zZSwgc3RyaXBMZWFkaW5nSGFzaE9yUXVlcnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVybFV0aWxzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJjcmVhdGVDbGllbnRBdXRoRXJyb3IiLCJoYXNoTm90RGVzZXJpYWxpemVkIiwic3RyaXBMZWFkaW5nSGFzaE9yUXVlcnkiLCJyZXNwb25zZVN0cmluZyIsInN0YXJ0c1dpdGgiLCJzdWJzdHJpbmciLCJnZXREZXNlcmlhbGl6ZWRSZXNwb25zZSIsImluZGV4T2YiLCJub3JtYWxpemVkUmVzcG9uc2UiLCJkZXNlcmlhbGl6ZWRIYXNoIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJjb2RlIiwiZXJyb3IiLCJlcnJvcl9kZXNjcmlwdGlvbiIsInN0YXRlIiwiZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@azure/msal-common/dist/utils/UrlUtils.mjs\n");

/***/ })

};
;